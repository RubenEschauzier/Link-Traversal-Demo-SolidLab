(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const t of r)if(t.type==="childList")for(const i of t.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&a(i)}).observe(document,{childList:!0,subtree:!0});function u(r){const t={};return r.integrity&&(t.integrity=r.integrity),r.referrerPolicy&&(t.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?t.credentials="include":r.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function a(r){if(r.ep)return;r.ep=!0;const t=u(r);fetch(r.href,t)}})();var ab=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function vve(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function zF(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var e=n.default;if(typeof e=="function"){var u=function a(){var r=!1;try{r=this instanceof a}catch{}return r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};u.prototype=e.prototype}else u={};return Object.defineProperty(u,"__esModule",{value:!0}),Object.keys(n).forEach(function(a){var r=Object.getOwnPropertyDescriptor(n,a);Object.defineProperty(u,a,r.get?r:{enumerable:!0,get:function(){return n[a]}})}),u}var $5={exports:{}},xv={};var f$;function HAe(){if(f$)return xv;f$=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function u(a,r,t){var i=null;if(t!==void 0&&(i=""+t),r.key!==void 0&&(i=""+r.key),"key"in r){t={};for(var o in r)o!=="key"&&(t[o]=r[o])}else t=r;return r=t.ref,{$$typeof:n,type:a,key:i,ref:r!==void 0?r:null,props:t}}return xv.Fragment=e,xv.jsx=u,xv.jsxs=u,xv}var p$;function kAe(){return p$||(p$=1,$5.exports=HAe()),$5.exports}var Ue=kAe(),X5={exports:{}},$t={};var h$;function zAe(){if(h$)return $t;h$=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),t=Symbol.for("react.consumer"),i=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),s=Symbol.for("react.memo"),c=Symbol.for("react.lazy"),d=Symbol.for("react.activity"),f=Symbol.iterator;function p(ee){return ee===null||typeof ee!="object"?null:(ee=f&&ee[f]||ee["@@iterator"],typeof ee=="function"?ee:null)}var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,_={};function m(ee,se,pe){this.props=ee,this.context=se,this.refs=_,this.updater=pe||h}m.prototype.isReactComponent={},m.prototype.setState=function(ee,se){if(typeof ee!="object"&&typeof ee!="function"&&ee!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,ee,se,"setState")},m.prototype.forceUpdate=function(ee){this.updater.enqueueForceUpdate(this,ee,"forceUpdate")};function w(){}w.prototype=m.prototype;function T(ee,se,pe){this.props=ee,this.context=se,this.refs=_,this.updater=pe||h}var E=T.prototype=new w;E.constructor=T,g(E,m.prototype),E.isPureReactComponent=!0;var S=Array.isArray;function N(){}var j={H:null,A:null,T:null,S:null},q=Object.prototype.hasOwnProperty;function O(ee,se,pe){var le=pe.ref;return{$$typeof:n,type:ee,key:se,ref:le!==void 0?le:null,props:pe}}function I(ee,se){return O(ee.type,se,ee.props)}function A(ee){return typeof ee=="object"&&ee!==null&&ee.$$typeof===n}function P(ee){var se={"=":"=0",":":"=2"};return"$"+ee.replace(/[=:]/g,function(pe){return se[pe]})}var C=/\/+/g;function B(ee,se){return typeof ee=="object"&&ee!==null&&ee.key!=null?P(""+ee.key):se.toString(36)}function V(ee){switch(ee.status){case"fulfilled":return ee.value;case"rejected":throw ee.reason;default:switch(typeof ee.status=="string"?ee.then(N,N):(ee.status="pending",ee.then(function(se){ee.status==="pending"&&(ee.status="fulfilled",ee.value=se)},function(se){ee.status==="pending"&&(ee.status="rejected",ee.reason=se)})),ee.status){case"fulfilled":return ee.value;case"rejected":throw ee.reason}}throw ee}function U(ee,se,pe,le,Ee){var Ae=typeof ee;(Ae==="undefined"||Ae==="boolean")&&(ee=null);var Ne=!1;if(ee===null)Ne=!0;else switch(Ae){case"bigint":case"string":case"number":Ne=!0;break;case"object":switch(ee.$$typeof){case n:case e:Ne=!0;break;case c:return Ne=ee._init,U(Ne(ee._payload),se,pe,le,Ee)}}if(Ne)return Ee=Ee(ee),Ne=le===""?"."+B(ee,0):le,S(Ee)?(pe="",Ne!=null&&(pe=Ne.replace(C,"$&/")+"/"),U(Ee,se,pe,"",function(te){return te})):Ee!=null&&(A(Ee)&&(Ee=I(Ee,pe+(Ee.key==null||ee&&ee.key===Ee.key?"":(""+Ee.key).replace(C,"$&/")+"/")+Ne)),se.push(Ee)),1;Ne=0;var Oe=le===""?".":le+":";if(S(ee))for(var be=0;be<ee.length;be++)le=ee[be],Ae=Oe+B(le,be),Ne+=U(le,se,pe,Ae,Ee);else if(be=p(ee),typeof be=="function")for(ee=be.call(ee),be=0;!(le=ee.next()).done;)le=le.value,Ae=Oe+B(le,be++),Ne+=U(le,se,pe,Ae,Ee);else if(Ae==="object"){if(typeof ee.then=="function")return U(V(ee),se,pe,le,Ee);throw se=String(ee),Error("Objects are not valid as a React child (found: "+(se==="[object Object]"?"object with keys {"+Object.keys(ee).join(", ")+"}":se)+"). If you meant to render a collection of children, use an array instead.")}return Ne}function G(ee,se,pe){if(ee==null)return ee;var le=[],Ee=0;return U(ee,le,"","",function(Ae){return se.call(pe,Ae,Ee++)}),le}function J(ee){if(ee._status===-1){var se=ee._result;se=se(),se.then(function(pe){(ee._status===0||ee._status===-1)&&(ee._status=1,ee._result=pe)},function(pe){(ee._status===0||ee._status===-1)&&(ee._status=2,ee._result=pe)}),ee._status===-1&&(ee._status=0,ee._result=se)}if(ee._status===1)return ee._result.default;throw ee._result}var ne=typeof reportError=="function"?reportError:function(ee){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var se=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof ee=="object"&&ee!==null&&typeof ee.message=="string"?String(ee.message):String(ee),error:ee});if(!window.dispatchEvent(se))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",ee);return}console.error(ee)},W={map:G,forEach:function(ee,se,pe){G(ee,function(){se.apply(this,arguments)},pe)},count:function(ee){var se=0;return G(ee,function(){se++}),se},toArray:function(ee){return G(ee,function(se){return se})||[]},only:function(ee){if(!A(ee))throw Error("React.Children.only expected to receive a single React element child.");return ee}};return $t.Activity=d,$t.Children=W,$t.Component=m,$t.Fragment=u,$t.Profiler=r,$t.PureComponent=T,$t.StrictMode=a,$t.Suspense=l,$t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=j,$t.__COMPILER_RUNTIME={__proto__:null,c:function(ee){return j.H.useMemoCache(ee)}},$t.cache=function(ee){return function(){return ee.apply(null,arguments)}},$t.cacheSignal=function(){return null},$t.cloneElement=function(ee,se,pe){if(ee==null)throw Error("The argument must be a React element, but you passed "+ee+".");var le=g({},ee.props),Ee=ee.key;if(se!=null)for(Ae in se.key!==void 0&&(Ee=""+se.key),se)!q.call(se,Ae)||Ae==="key"||Ae==="__self"||Ae==="__source"||Ae==="ref"&&se.ref===void 0||(le[Ae]=se[Ae]);var Ae=arguments.length-2;if(Ae===1)le.children=pe;else if(1<Ae){for(var Ne=Array(Ae),Oe=0;Oe<Ae;Oe++)Ne[Oe]=arguments[Oe+2];le.children=Ne}return O(ee.type,Ee,le)},$t.createContext=function(ee){return ee={$$typeof:i,_currentValue:ee,_currentValue2:ee,_threadCount:0,Provider:null,Consumer:null},ee.Provider=ee,ee.Consumer={$$typeof:t,_context:ee},ee},$t.createElement=function(ee,se,pe){var le,Ee={},Ae=null;if(se!=null)for(le in se.key!==void 0&&(Ae=""+se.key),se)q.call(se,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(Ee[le]=se[le]);var Ne=arguments.length-2;if(Ne===1)Ee.children=pe;else if(1<Ne){for(var Oe=Array(Ne),be=0;be<Ne;be++)Oe[be]=arguments[be+2];Ee.children=Oe}if(ee&&ee.defaultProps)for(le in Ne=ee.defaultProps,Ne)Ee[le]===void 0&&(Ee[le]=Ne[le]);return O(ee,Ae,Ee)},$t.createRef=function(){return{current:null}},$t.forwardRef=function(ee){return{$$typeof:o,render:ee}},$t.isValidElement=A,$t.lazy=function(ee){return{$$typeof:c,_payload:{_status:-1,_result:ee},_init:J}},$t.memo=function(ee,se){return{$$typeof:s,type:ee,compare:se===void 0?null:se}},$t.startTransition=function(ee){var se=j.T,pe={};j.T=pe;try{var le=ee(),Ee=j.S;Ee!==null&&Ee(pe,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(N,ne)}catch(Ae){ne(Ae)}finally{se!==null&&pe.types!==null&&(se.types=pe.types),j.T=se}},$t.unstable_useCacheRefresh=function(){return j.H.useCacheRefresh()},$t.use=function(ee){return j.H.use(ee)},$t.useActionState=function(ee,se,pe){return j.H.useActionState(ee,se,pe)},$t.useCallback=function(ee,se){return j.H.useCallback(ee,se)},$t.useContext=function(ee){return j.H.useContext(ee)},$t.useDebugValue=function(){},$t.useDeferredValue=function(ee,se){return j.H.useDeferredValue(ee,se)},$t.useEffect=function(ee,se){return j.H.useEffect(ee,se)},$t.useEffectEvent=function(ee){return j.H.useEffectEvent(ee)},$t.useId=function(){return j.H.useId()},$t.useImperativeHandle=function(ee,se,pe){return j.H.useImperativeHandle(ee,se,pe)},$t.useInsertionEffect=function(ee,se){return j.H.useInsertionEffect(ee,se)},$t.useLayoutEffect=function(ee,se){return j.H.useLayoutEffect(ee,se)},$t.useMemo=function(ee,se){return j.H.useMemo(ee,se)},$t.useOptimistic=function(ee,se){return j.H.useOptimistic(ee,se)},$t.useReducer=function(ee,se,pe){return j.H.useReducer(ee,se,pe)},$t.useRef=function(ee){return j.H.useRef(ee)},$t.useState=function(ee){return j.H.useState(ee)},$t.useSyncExternalStore=function(ee,se,pe){return j.H.useSyncExternalStore(ee,se,pe)},$t.useTransition=function(){return j.H.useTransition()},$t.version="19.2.3",$t}var y$;function B7(){return y$||(y$=1,X5.exports=zAe()),X5.exports}var ze=B7();const GAe=vve(ze);var K5={exports:{}},Rv={},J5={exports:{}},W5={};var m$;function $Ae(){return m$||(m$=1,(function(n){function e(U,G){var J=U.length;U.push(G);e:for(;0<J;){var ne=J-1>>>1,W=U[ne];if(0<r(W,G))U[ne]=G,U[J]=W,J=ne;else break e}}function u(U){return U.length===0?null:U[0]}function a(U){if(U.length===0)return null;var G=U[0],J=U.pop();if(J!==G){U[0]=J;e:for(var ne=0,W=U.length,ee=W>>>1;ne<ee;){var se=2*(ne+1)-1,pe=U[se],le=se+1,Ee=U[le];if(0>r(pe,J))le<W&&0>r(Ee,pe)?(U[ne]=Ee,U[le]=J,ne=le):(U[ne]=pe,U[se]=J,ne=se);else if(le<W&&0>r(Ee,J))U[ne]=Ee,U[le]=J,ne=le;else break e}}return G}function r(U,G){var J=U.sortIndex-G.sortIndex;return J!==0?J:U.id-G.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var t=performance;n.unstable_now=function(){return t.now()}}else{var i=Date,o=i.now();n.unstable_now=function(){return i.now()-o}}var l=[],s=[],c=1,d=null,f=3,p=!1,h=!1,g=!1,_=!1,m=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function E(U){for(var G=u(s);G!==null;){if(G.callback===null)a(s);else if(G.startTime<=U)a(s),G.sortIndex=G.expirationTime,e(l,G);else break;G=u(s)}}function S(U){if(g=!1,E(U),!h)if(u(l)!==null)h=!0,N||(N=!0,P());else{var G=u(s);G!==null&&V(S,G.startTime-U)}}var N=!1,j=-1,q=5,O=-1;function I(){return _?!0:!(n.unstable_now()-O<q)}function A(){if(_=!1,N){var U=n.unstable_now();O=U;var G=!0;try{e:{h=!1,g&&(g=!1,w(j),j=-1),p=!0;var J=f;try{t:{for(E(U),d=u(l);d!==null&&!(d.expirationTime>U&&I());){var ne=d.callback;if(typeof ne=="function"){d.callback=null,f=d.priorityLevel;var W=ne(d.expirationTime<=U);if(U=n.unstable_now(),typeof W=="function"){d.callback=W,E(U),G=!0;break t}d===u(l)&&a(l),E(U)}else a(l);d=u(l)}if(d!==null)G=!0;else{var ee=u(s);ee!==null&&V(S,ee.startTime-U),G=!1}}break e}finally{d=null,f=J,p=!1}G=void 0}}finally{G?P():N=!1}}}var P;if(typeof T=="function")P=function(){T(A)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,B=C.port2;C.port1.onmessage=A,P=function(){B.postMessage(null)}}else P=function(){m(A,0)};function V(U,G){j=m(function(){U(n.unstable_now())},G)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(U){U.callback=null},n.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<U?Math.floor(1e3/U):5},n.unstable_getCurrentPriorityLevel=function(){return f},n.unstable_next=function(U){switch(f){case 1:case 2:case 3:var G=3;break;default:G=f}var J=f;f=G;try{return U()}finally{f=J}},n.unstable_requestPaint=function(){_=!0},n.unstable_runWithPriority=function(U,G){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var J=f;f=U;try{return G()}finally{f=J}},n.unstable_scheduleCallback=function(U,G,J){var ne=n.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?ne+J:ne):J=ne,U){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=J+W,U={id:c++,callback:G,priorityLevel:U,startTime:J,expirationTime:W,sortIndex:-1},J>ne?(U.sortIndex=J,e(s,U),u(l)===null&&U===u(s)&&(g?(w(j),j=-1):g=!0,V(S,J-ne))):(U.sortIndex=W,e(l,U),h||p||(h=!0,N||(N=!0,P()))),U},n.unstable_shouldYield=I,n.unstable_wrapCallback=function(U){var G=f;return function(){var J=f;f=G;try{return U.apply(this,arguments)}finally{f=J}}}})(W5)),W5}var b$;function XAe(){return b$||(b$=1,J5.exports=$Ae()),J5.exports}var Y5={exports:{}},Fa={};var g$;function KAe(){if(g$)return Fa;g$=1;var n=B7();function e(l){var s="https://react.dev/errors/"+l;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)s+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+l+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(){}var a={d:{f:u,r:function(){throw Error(e(522))},D:u,C:u,L:u,m:u,X:u,S:u,M:u},p:0,findDOMNode:null},r=Symbol.for("react.portal");function t(l,s,c){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:d==null?null:""+d,children:l,containerInfo:s,implementation:c}}var i=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function o(l,s){if(l==="font")return"";if(typeof s=="string")return s==="use-credentials"?s:""}return Fa.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Fa.createPortal=function(l,s){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)throw Error(e(299));return t(l,s,null,c)},Fa.flushSync=function(l){var s=i.T,c=a.p;try{if(i.T=null,a.p=2,l)return l()}finally{i.T=s,a.p=c,a.d.f()}},Fa.preconnect=function(l,s){typeof l=="string"&&(s?(s=s.crossOrigin,s=typeof s=="string"?s==="use-credentials"?s:"":void 0):s=null,a.d.C(l,s))},Fa.prefetchDNS=function(l){typeof l=="string"&&a.d.D(l)},Fa.preinit=function(l,s){if(typeof l=="string"&&s&&typeof s.as=="string"){var c=s.as,d=o(c,s.crossOrigin),f=typeof s.integrity=="string"?s.integrity:void 0,p=typeof s.fetchPriority=="string"?s.fetchPriority:void 0;c==="style"?a.d.S(l,typeof s.precedence=="string"?s.precedence:void 0,{crossOrigin:d,integrity:f,fetchPriority:p}):c==="script"&&a.d.X(l,{crossOrigin:d,integrity:f,fetchPriority:p,nonce:typeof s.nonce=="string"?s.nonce:void 0})}},Fa.preinitModule=function(l,s){if(typeof l=="string")if(typeof s=="object"&&s!==null){if(s.as==null||s.as==="script"){var c=o(s.as,s.crossOrigin);a.d.M(l,{crossOrigin:c,integrity:typeof s.integrity=="string"?s.integrity:void 0,nonce:typeof s.nonce=="string"?s.nonce:void 0})}}else s==null&&a.d.M(l)},Fa.preload=function(l,s){if(typeof l=="string"&&typeof s=="object"&&s!==null&&typeof s.as=="string"){var c=s.as,d=o(c,s.crossOrigin);a.d.L(l,c,{crossOrigin:d,integrity:typeof s.integrity=="string"?s.integrity:void 0,nonce:typeof s.nonce=="string"?s.nonce:void 0,type:typeof s.type=="string"?s.type:void 0,fetchPriority:typeof s.fetchPriority=="string"?s.fetchPriority:void 0,referrerPolicy:typeof s.referrerPolicy=="string"?s.referrerPolicy:void 0,imageSrcSet:typeof s.imageSrcSet=="string"?s.imageSrcSet:void 0,imageSizes:typeof s.imageSizes=="string"?s.imageSizes:void 0,media:typeof s.media=="string"?s.media:void 0})}},Fa.preloadModule=function(l,s){if(typeof l=="string")if(s){var c=o(s.as,s.crossOrigin);a.d.m(l,{as:typeof s.as=="string"&&s.as!=="script"?s.as:void 0,crossOrigin:c,integrity:typeof s.integrity=="string"?s.integrity:void 0})}else a.d.m(l)},Fa.requestFormReset=function(l){a.d.r(l)},Fa.unstable_batchedUpdates=function(l,s){return l(s)},Fa.useFormState=function(l,s,c){return i.H.useFormState(l,s,c)},Fa.useFormStatus=function(){return i.H.useHostTransitionStatus()},Fa.version="19.2.3",Fa}var v$;function JAe(){if(v$)return Y5.exports;v$=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Y5.exports=KAe(),Y5.exports}var _$;function WAe(){if(_$)return Rv;_$=1;var n=XAe(),e=B7(),u=JAe();function a(y){var b="https://react.dev/errors/"+y;if(1<arguments.length){b+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)b+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+y+"; visit "+b+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(y){return!(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)}function t(y){var b=y,x=y;if(y.alternate)for(;b.return;)b=b.return;else{y=b;do b=y,(b.flags&4098)!==0&&(x=b.return),y=b.return;while(y)}return b.tag===3?x:null}function i(y){if(y.tag===13){var b=y.memoizedState;if(b===null&&(y=y.alternate,y!==null&&(b=y.memoizedState)),b!==null)return b.dehydrated}return null}function o(y){if(y.tag===31){var b=y.memoizedState;if(b===null&&(y=y.alternate,y!==null&&(b=y.memoizedState)),b!==null)return b.dehydrated}return null}function l(y){if(t(y)!==y)throw Error(a(188))}function s(y){var b=y.alternate;if(!b){if(b=t(y),b===null)throw Error(a(188));return b!==y?null:y}for(var x=y,M=b;;){var Q=x.return;if(Q===null)break;var z=Q.alternate;if(z===null){if(M=Q.return,M!==null){x=M;continue}break}if(Q.child===z.child){for(z=Q.child;z;){if(z===x)return l(Q),y;if(z===M)return l(Q),b;z=z.sibling}throw Error(a(188))}if(x.return!==M.return)x=Q,M=z;else{for(var ie=!1,_e=Q.child;_e;){if(_e===x){ie=!0,x=Q,M=z;break}if(_e===M){ie=!0,M=Q,x=z;break}_e=_e.sibling}if(!ie){for(_e=z.child;_e;){if(_e===x){ie=!0,x=z,M=Q;break}if(_e===M){ie=!0,M=z,x=Q;break}_e=_e.sibling}if(!ie)throw Error(a(189))}}if(x.alternate!==M)throw Error(a(190))}if(x.tag!==3)throw Error(a(188));return x.stateNode.current===x?y:b}function c(y){var b=y.tag;if(b===5||b===26||b===27||b===6)return y;for(y=y.child;y!==null;){if(b=c(y),b!==null)return b;y=y.sibling}return null}var d=Object.assign,f=Symbol.for("react.element"),p=Symbol.for("react.transitional.element"),h=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),m=Symbol.for("react.profiler"),w=Symbol.for("react.consumer"),T=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),q=Symbol.for("react.lazy"),O=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),A=Symbol.iterator;function P(y){return y===null||typeof y!="object"?null:(y=A&&y[A]||y["@@iterator"],typeof y=="function"?y:null)}var C=Symbol.for("react.client.reference");function B(y){if(y==null)return null;if(typeof y=="function")return y.$$typeof===C?null:y.displayName||y.name||null;if(typeof y=="string")return y;switch(y){case g:return"Fragment";case m:return"Profiler";case _:return"StrictMode";case S:return"Suspense";case N:return"SuspenseList";case O:return"Activity"}if(typeof y=="object")switch(y.$$typeof){case h:return"Portal";case T:return y.displayName||"Context";case w:return(y._context.displayName||"Context")+".Consumer";case E:var b=y.render;return y=y.displayName,y||(y=b.displayName||b.name||"",y=y!==""?"ForwardRef("+y+")":"ForwardRef"),y;case j:return b=y.displayName||null,b!==null?b:B(y.type)||"Memo";case q:b=y._payload,y=y._init;try{return B(y(b))}catch{}}return null}var V=Array.isArray,U=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=u.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J={pending:!1,data:null,method:null,action:null},ne=[],W=-1;function ee(y){return{current:y}}function se(y){0>W||(y.current=ne[W],ne[W]=null,W--)}function pe(y,b){W++,ne[W]=y.current,y.current=b}var le=ee(null),Ee=ee(null),Ae=ee(null),Ne=ee(null);function Oe(y,b){switch(pe(Ae,b),pe(Ee,y),pe(le,null),b.nodeType){case 9:case 11:y=(y=b.documentElement)&&(y=y.namespaceURI)?MG(y):0;break;default:if(y=b.tagName,b=b.namespaceURI)b=MG(b),y=CG(b,y);else switch(y){case"svg":y=1;break;case"math":y=2;break;default:y=0}}se(le),pe(le,y)}function be(){se(le),se(Ee),se(Ae)}function te(y){y.memoizedState!==null&&pe(Ne,y);var b=le.current,x=CG(b,y.type);b!==x&&(pe(Ee,y),pe(le,x))}function v(y){Ee.current===y&&(se(le),se(Ee)),Ne.current===y&&(se(Ne),Sv._currentValue=J)}var F,D;function L(y){if(F===void 0)try{throw Error()}catch(x){var b=x.stack.trim().match(/\n( *(at )?)/);F=b&&b[1]||"",D=-1<x.stack.indexOf(`
    at`)?" (<anonymous>)":-1<x.stack.indexOf("@")?"@unknown:0:0":""}return`
`+F+y+D}var H=!1;function Z(y,b){if(!y||H)return"";H=!0;var x=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var M={DetermineComponentFrameRoot:function(){try{if(b){var mt=function(){throw Error()};if(Object.defineProperty(mt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(mt,[])}catch(ut){var rt=ut}Reflect.construct(y,[],mt)}else{try{mt.call()}catch(ut){rt=ut}y.call(mt.prototype)}}else{try{throw Error()}catch(ut){rt=ut}(mt=y())&&typeof mt.catch=="function"&&mt.catch(function(){})}}catch(ut){if(ut&&rt&&typeof ut.stack=="string")return[ut.stack,rt.stack]}return[null,null]}};M.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var Q=Object.getOwnPropertyDescriptor(M.DetermineComponentFrameRoot,"name");Q&&Q.configurable&&Object.defineProperty(M.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var z=M.DetermineComponentFrameRoot(),ie=z[0],_e=z[1];if(ie&&_e){var Be=ie.split(`
`),et=_e.split(`
`);for(Q=M=0;M<Be.length&&!Be[M].includes("DetermineComponentFrameRoot");)M++;for(;Q<et.length&&!et[Q].includes("DetermineComponentFrameRoot");)Q++;if(M===Be.length||Q===et.length)for(M=Be.length-1,Q=et.length-1;1<=M&&0<=Q&&Be[M]!==et[Q];)Q--;for(;1<=M&&0<=Q;M--,Q--)if(Be[M]!==et[Q]){if(M!==1||Q!==1)do if(M--,Q--,0>Q||Be[M]!==et[Q]){var ct=`
`+Be[M].replace(" at new "," at ");return y.displayName&&ct.includes("<anonymous>")&&(ct=ct.replace("<anonymous>",y.displayName)),ct}while(1<=M&&0<=Q);break}}}finally{H=!1,Error.prepareStackTrace=x}return(x=y?y.displayName||y.name:"")?L(x):""}function $(y,b){switch(y.tag){case 26:case 27:case 5:return L(y.type);case 16:return L("Lazy");case 13:return y.child!==b&&b!==null?L("Suspense Fallback"):L("Suspense");case 19:return L("SuspenseList");case 0:case 15:return Z(y.type,!1);case 11:return Z(y.type.render,!1);case 1:return Z(y.type,!0);case 31:return L("Activity");default:return""}}function ue(y){try{var b="",x=null;do b+=$(y,x),x=y,y=y.return;while(y);return b}catch(M){return`
Error generating stack: `+M.message+`
`+M.stack}}var ae=Object.prototype.hasOwnProperty,ce=n.unstable_scheduleCallback,Se=n.unstable_cancelCallback,xe=n.unstable_shouldYield,Ce=n.unstable_requestPaint,He=n.unstable_now,Je=n.unstable_getCurrentPriorityLevel,Ye=n.unstable_ImmediatePriority,oe=n.unstable_UserBlockingPriority,X=n.unstable_NormalPriority,Y=n.unstable_LowPriority,he=n.unstable_IdlePriority,ve=n.log,ye=n.unstable_setDisableYieldValue,re=null,Ie=null;function Le(y){if(typeof ve=="function"&&ye(y),Ie&&typeof Ie.setStrictMode=="function")try{Ie.setStrictMode(re,y)}catch{}}var Pe=Math.clz32?Math.clz32:k,Fe=Math.log,R=Math.LN2;function k(y){return y>>>=0,y===0?32:31-(Fe(y)/R|0)|0}var K=256,de=262144,ge=4194304;function Qe(y){var b=y&42;if(b!==0)return b;switch(y&-y){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return y&261888;case 262144:case 524288:case 1048576:case 2097152:return y&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return y&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return y}}function je(y,b,x){var M=y.pendingLanes;if(M===0)return 0;var Q=0,z=y.suspendedLanes,ie=y.pingedLanes;y=y.warmLanes;var _e=M&134217727;return _e!==0?(M=_e&~z,M!==0?Q=Qe(M):(ie&=_e,ie!==0?Q=Qe(ie):x||(x=_e&~y,x!==0&&(Q=Qe(x))))):(_e=M&~z,_e!==0?Q=Qe(_e):ie!==0?Q=Qe(ie):x||(x=M&~y,x!==0&&(Q=Qe(x)))),Q===0?0:b!==0&&b!==Q&&(b&z)===0&&(z=Q&-Q,x=b&-b,z>=x||z===32&&(x&4194048)!==0)?b:Q}function $e(y,b){return(y.pendingLanes&~(y.suspendedLanes&~y.pingedLanes)&b)===0}function at(y,b){switch(y){case 1:case 2:case 4:case 8:case 64:return b+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return b+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fe(){var y=ge;return ge<<=1,(ge&62914560)===0&&(ge=4194304),y}function Te(y){for(var b=[],x=0;31>x;x++)b.push(y);return b}function qe(y,b){y.pendingLanes|=b,b!==268435456&&(y.suspendedLanes=0,y.pingedLanes=0,y.warmLanes=0)}function it(y,b,x,M,Q,z){var ie=y.pendingLanes;y.pendingLanes=x,y.suspendedLanes=0,y.pingedLanes=0,y.warmLanes=0,y.expiredLanes&=x,y.entangledLanes&=x,y.errorRecoveryDisabledLanes&=x,y.shellSuspendCounter=0;var _e=y.entanglements,Be=y.expirationTimes,et=y.hiddenUpdates;for(x=ie&~x;0<x;){var ct=31-Pe(x),mt=1<<ct;_e[ct]=0,Be[ct]=-1;var rt=et[ct];if(rt!==null)for(et[ct]=null,ct=0;ct<rt.length;ct++){var ut=rt[ct];ut!==null&&(ut.lane&=-536870913)}x&=~mt}M!==0&&Me(y,M,0),z!==0&&Q===0&&y.tag!==0&&(y.suspendedLanes|=z&~(ie&~b))}function Me(y,b,x){y.pendingLanes|=b,y.suspendedLanes&=~b;var M=31-Pe(b);y.entangledLanes|=b,y.entanglements[M]=y.entanglements[M]|1073741824|x&261930}function st(y,b){var x=y.entangledLanes|=b;for(y=y.entanglements;x;){var M=31-Pe(x),Q=1<<M;Q&b|y[M]&b&&(y[M]|=b),x&=~Q}}function tt(y,b){var x=b&-b;return x=(x&42)!==0?1:Ot(x),(x&(y.suspendedLanes|b))!==0?0:x}function Ot(y){switch(y){case 2:y=1;break;case 8:y=4;break;case 32:y=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:y=128;break;case 268435456:y=134217728;break;default:y=0}return y}function yt(y){return y&=-y,2<y?8<y?(y&134217727)!==0?32:268435456:8:2}function bt(){var y=G.p;return y!==0?y:(y=window.event,y===void 0?32:i$(y.type))}function Tt(y,b){var x=G.p;try{return G.p=y,b()}finally{G.p=x}}var xt=Math.random().toString(36).slice(2),wt="__reactFiber$"+xt,gt="__reactProps$"+xt,dr="__reactContainer$"+xt,ht="__reactEvents$"+xt,Re="__reactListeners$"+xt,Ve="__reactHandles$"+xt,Ge="__reactResources$"+xt,vt="__reactMarker$"+xt;function St(y){delete y[wt],delete y[gt],delete y[ht],delete y[Re],delete y[Ve]}function Vt(y){var b=y[wt];if(b)return b;for(var x=y.parentNode;x;){if(b=x[dr]||x[wt]){if(x=b.alternate,b.child!==null||x!==null&&x.child!==null)for(y=HG(y);y!==null;){if(x=y[wt])return x;y=HG(y)}return b}y=x,x=y.parentNode}return null}function wr(y){if(y=y[wt]||y[dr]){var b=y.tag;if(b===5||b===6||b===13||b===31||b===26||b===27||b===3)return y}return null}function hr(y){var b=y.tag;if(b===5||b===26||b===27||b===6)return y.stateNode;throw Error(a(33))}function aa(y){var b=y[Ge];return b||(b=y[Ge]={hoistableStyles:new Map,hoistableScripts:new Map}),b}function yr(y){y[vt]=!0}var Ir=new Set,fa={};function Or(y,b){xn(y,b),xn(y+"Capture",b)}function xn(y,b){for(fa[y]=b,y=0;y<b.length;y++)Ir.add(b[y])}var hn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),_i={},Rn={};function yo(y){return ae.call(Rn,y)?!0:ae.call(_i,y)?!1:hn.test(y)?Rn[y]=!0:(_i[y]=!0,!1)}function yn(y,b,x){if(yo(b))if(x===null)y.removeAttribute(b);else{switch(typeof x){case"undefined":case"function":case"symbol":y.removeAttribute(b);return;case"boolean":var M=b.toLowerCase().slice(0,5);if(M!=="data-"&&M!=="aria-"){y.removeAttribute(b);return}}y.setAttribute(b,""+x)}}function Nn(y,b,x){if(x===null)y.removeAttribute(b);else{switch(typeof x){case"undefined":case"function":case"symbol":case"boolean":y.removeAttribute(b);return}y.setAttribute(b,""+x)}}function $r(y,b,x,M){if(M===null)y.removeAttribute(x);else{switch(typeof M){case"undefined":case"function":case"symbol":case"boolean":y.removeAttribute(x);return}y.setAttributeNS(b,x,""+M)}}function mn(y){switch(typeof y){case"bigint":case"boolean":case"number":case"string":case"undefined":return y;case"object":return y;default:return""}}function bn(y){var b=y.type;return(y=y.nodeName)&&y.toLowerCase()==="input"&&(b==="checkbox"||b==="radio")}function Dl(y,b,x){var M=Object.getOwnPropertyDescriptor(y.constructor.prototype,b);if(!y.hasOwnProperty(b)&&typeof M<"u"&&typeof M.get=="function"&&typeof M.set=="function"){var Q=M.get,z=M.set;return Object.defineProperty(y,b,{configurable:!0,get:function(){return Q.call(this)},set:function(ie){x=""+ie,z.call(this,ie)}}),Object.defineProperty(y,b,{enumerable:M.enumerable}),{getValue:function(){return x},setValue:function(ie){x=""+ie},stopTracking:function(){y._valueTracker=null,delete y[b]}}}}function Fl(y){if(!y._valueTracker){var b=bn(y)?"checked":"value";y._valueTracker=Dl(y,b,""+y[b])}}function zi(y){if(!y)return!1;var b=y._valueTracker;if(!b)return!0;var x=b.getValue(),M="";return y&&(M=bn(y)?y.checked?"true":"false":y.value),y=M,y!==x?(b.setValue(y),!0):!1}function nn(y){if(y=y||(typeof document<"u"?document:void 0),typeof y>"u")return null;try{return y.activeElement||y.body}catch{return y.body}}var M1=/[\n"\\]/g;function Ia(y){return y.replace(M1,function(b){return"\\"+b.charCodeAt(0).toString(16)+" "})}function Gi(y,b,x,M,Q,z,ie,_e){y.name="",ie!=null&&typeof ie!="function"&&typeof ie!="symbol"&&typeof ie!="boolean"?y.type=ie:y.removeAttribute("type"),b!=null?ie==="number"?(b===0&&y.value===""||y.value!=b)&&(y.value=""+mn(b)):y.value!==""+mn(b)&&(y.value=""+mn(b)):ie!=="submit"&&ie!=="reset"||y.removeAttribute("value"),b!=null?dc(y,ie,mn(b)):x!=null?dc(y,ie,mn(x)):M!=null&&y.removeAttribute("value"),Q==null&&z!=null&&(y.defaultChecked=!!z),Q!=null&&(y.checked=Q&&typeof Q!="function"&&typeof Q!="symbol"),_e!=null&&typeof _e!="function"&&typeof _e!="symbol"&&typeof _e!="boolean"?y.name=""+mn(_e):y.removeAttribute("name")}function C1(y,b,x,M,Q,z,ie,_e){if(z!=null&&typeof z!="function"&&typeof z!="symbol"&&typeof z!="boolean"&&(y.type=z),b!=null||x!=null){if(!(z!=="submit"&&z!=="reset"||b!=null)){Fl(y);return}x=x!=null?""+mn(x):"",b=b!=null?""+mn(b):x,_e||b===y.value||(y.value=b),y.defaultValue=b}M=M??Q,M=typeof M!="function"&&typeof M!="symbol"&&!!M,y.checked=_e?y.checked:!!M,y.defaultChecked=!!M,ie!=null&&typeof ie!="function"&&typeof ie!="symbol"&&typeof ie!="boolean"&&(y.name=ie),Fl(y)}function dc(y,b,x){b==="number"&&nn(y.ownerDocument)===y||y.defaultValue===""+x||(y.defaultValue=""+x)}function xu(y,b,x,M){if(y=y.options,b){b={};for(var Q=0;Q<x.length;Q++)b["$"+x[Q]]=!0;for(x=0;x<y.length;x++)Q=b.hasOwnProperty("$"+y[x].value),y[x].selected!==Q&&(y[x].selected=Q),Q&&M&&(y[x].defaultSelected=!0)}else{for(x=""+mn(x),b=null,Q=0;Q<y.length;Q++){if(y[Q].value===x){y[Q].selected=!0,M&&(y[Q].defaultSelected=!0);return}b!==null||y[Q].disabled||(b=y[Q])}b!==null&&(b.selected=!0)}}function L1(y,b,x){if(b!=null&&(b=""+mn(b),b!==y.value&&(y.value=b),x==null)){y.defaultValue!==b&&(y.defaultValue=b);return}y.defaultValue=x!=null?""+mn(x):""}function Ru(y,b,x,M){if(b==null){if(M!=null){if(x!=null)throw Error(a(92));if(V(M)){if(1<M.length)throw Error(a(93));M=M[0]}x=M}x==null&&(x=""),b=x}x=mn(b),y.defaultValue=x,M=y.textContent,M===x&&M!==""&&M!==null&&(y.value=M),Fl(y)}function rs(y,b){if(b){var x=y.firstChild;if(x&&x===y.lastChild&&x.nodeType===3){x.nodeValue=b;return}}y.textContent=b}var q1=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function mo(y,b,x){var M=b.indexOf("--")===0;x==null||typeof x=="boolean"||x===""?M?y.setProperty(b,""):b==="float"?y.cssFloat="":y[b]="":M?y.setProperty(b,x):typeof x!="number"||x===0||q1.has(b)?b==="float"?y.cssFloat=x:y[b]=(""+x).trim():y[b]=x+"px"}function Pl(y,b,x){if(b!=null&&typeof b!="object")throw Error(a(62));if(y=y.style,x!=null){for(var M in x)!x.hasOwnProperty(M)||b!=null&&b.hasOwnProperty(M)||(M.indexOf("--")===0?y.setProperty(M,""):M==="float"?y.cssFloat="":y[M]="");for(var Q in b)M=b[Q],b.hasOwnProperty(Q)&&x[Q]!==M&&mo(y,Q,M)}else for(var z in b)b.hasOwnProperty(z)&&mo(y,z,b[z])}function fc(y){if(y.indexOf("-")===-1)return!1;switch(y){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wN=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ns=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function as(y){return ns.test(""+y)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":y}function $i(){}var jl=null;function is(y){return y=y.target||y.srcElement||window,y.correspondingUseElement&&(y=y.correspondingUseElement),y.nodeType===3?y.parentNode:y}var Xi=null,us=null;function B1(y){var b=wr(y);if(b&&(y=b.stateNode)){var x=y[gt]||null;e:switch(y=b.stateNode,b.type){case"input":if(Gi(y,x.value,x.defaultValue,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name),b=x.name,x.type==="radio"&&b!=null){for(x=y;x.parentNode;)x=x.parentNode;for(x=x.querySelectorAll('input[name="'+Ia(""+b)+'"][type="radio"]'),b=0;b<x.length;b++){var M=x[b];if(M!==y&&M.form===y.form){var Q=M[gt]||null;if(!Q)throw Error(a(90));Gi(M,Q.value,Q.defaultValue,Q.defaultValue,Q.checked,Q.defaultChecked,Q.type,Q.name)}}for(b=0;b<x.length;b++)M=x[b],M.form===y.form&&zi(M)}break e;case"textarea":L1(y,x.value,x.defaultValue);break e;case"select":b=x.value,b!=null&&xu(y,!!x.multiple,b,!1)}}}var Rb=!1;function Ml(y,b,x){if(Rb)return y(b,x);Rb=!0;try{var M=y(b);return M}finally{if(Rb=!1,(Xi!==null||us!==null)&&(gI(),Xi&&(b=Xi,y=us,us=Xi=null,B1(b),y)))for(b=0;b<y.length;b++)B1(y[b])}}function Ti(y,b){var x=y.stateNode;if(x===null)return null;var M=x[gt]||null;if(M===null)return null;x=M[b];e:switch(b){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(M=!M.disabled)||(y=y.type,M=!(y==="button"||y==="input"||y==="select"||y==="textarea")),y=!M;break e;default:y=!1}if(y)return null;if(x&&typeof x!="function")throw Error(a(231,b,typeof x));return x}var Ki=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Nb=!1;if(Ki)try{var os={};Object.defineProperty(os,"passive",{get:function(){Nb=!0}}),window.addEventListener("test",os,os),window.removeEventListener("test",os,os)}catch{Nb=!1}var Nu=null,bo=null,Cl=null;function Ji(){if(Cl)return Cl;var y,b=bo,x=b.length,M,Q="value"in Nu?Nu.value:Nu.textContent,z=Q.length;for(y=0;y<x&&b[y]===Q[y];y++);var ie=x-y;for(M=1;M<=ie&&b[x-M]===Q[z-M];M++);return Cl=Q.slice(y,1<M?1-M:void 0)}function Ll(y){var b=y.keyCode;return"charCode"in y?(y=y.charCode,y===0&&b===13&&(y=13)):y=b,y===10&&(y=13),32<=y||y===13?y:0}function ni(){return!0}function ss(){return!1}function Kn(y){function b(x,M,Q,z,ie){this._reactName=x,this._targetInst=Q,this.type=M,this.nativeEvent=z,this.target=ie,this.currentTarget=null;for(var _e in y)y.hasOwnProperty(_e)&&(x=y[_e],this[_e]=x?x(z):z[_e]);return this.isDefaultPrevented=(z.defaultPrevented!=null?z.defaultPrevented:z.returnValue===!1)?ni:ss,this.isPropagationStopped=ss,this}return d(b.prototype,{preventDefault:function(){this.defaultPrevented=!0;var x=this.nativeEvent;x&&(x.preventDefault?x.preventDefault():typeof x.returnValue!="unknown"&&(x.returnValue=!1),this.isDefaultPrevented=ni)},stopPropagation:function(){var x=this.nativeEvent;x&&(x.stopPropagation?x.stopPropagation():typeof x.cancelBubble!="unknown"&&(x.cancelBubble=!0),this.isPropagationStopped=ni)},persist:function(){},isPersistent:ni}),b}var pa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(y){return y.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ql=Kn(pa),go=d({},pa,{view:0,detail:0}),SN=Kn(go),Ib,Bl,vo,cs=d({},go,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:an,button:0,buttons:0,relatedTarget:function(y){return y.relatedTarget===void 0?y.fromElement===y.srcElement?y.toElement:y.fromElement:y.relatedTarget},movementX:function(y){return"movementX"in y?y.movementX:(y!==vo&&(vo&&y.type==="mousemove"?(Ib=y.screenX-vo.screenX,Bl=y.screenY-vo.screenY):Bl=Ib=0,vo=y),Ib)},movementY:function(y){return"movementY"in y?y.movementY:Bl}}),EN=Kn(cs),t8=d({},cs,{dataTransfer:0}),r8=Kn(t8),AN=d({},go,{relatedTarget:0}),pc=Kn(AN),ON=d({},pa,{animationName:0,elapsedTime:0,pseudoElement:0}),xN=Kn(ON),RN=d({},pa,{clipboardData:function(y){return"clipboardData"in y?y.clipboardData:window.clipboardData}}),n8=Kn(RN),ls=d({},pa,{data:0}),U1=Kn(ls),NN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ha={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ds={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hc(y){var b=this.nativeEvent;return b.getModifierState?b.getModifierState(y):(y=ds[y])?!!b[y]:!1}function an(){return hc}var Wi=d({},go,{key:function(y){if(y.key){var b=NN[y.key]||y.key;if(b!=="Unidentified")return b}return y.type==="keypress"?(y=Ll(y),y===13?"Enter":String.fromCharCode(y)):y.type==="keydown"||y.type==="keyup"?ha[y.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:an,charCode:function(y){return y.type==="keypress"?Ll(y):0},keyCode:function(y){return y.type==="keydown"||y.type==="keyup"?y.keyCode:0},which:function(y){return y.type==="keypress"?Ll(y):y.type==="keydown"||y.type==="keyup"?y.keyCode:0}}),Ul=Kn(Wi),Q1=d({},cs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ln=Kn(Q1),yc=d({},go,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:an}),mc=Kn(yc),V1=d({},pa,{propertyName:0,elapsedTime:0,pseudoElement:0}),fs=Kn(V1),bc=d({},cs,{deltaX:function(y){return"deltaX"in y?y.deltaX:"wheelDeltaX"in y?-y.wheelDeltaX:0},deltaY:function(y){return"deltaY"in y?y.deltaY:"wheelDeltaY"in y?-y.wheelDeltaY:"wheelDelta"in y?-y.wheelDelta:0},deltaZ:0,deltaMode:0}),H1=Kn(bc),Yi=d({},pa,{newState:0,oldState:0}),a8=Kn(Yi),k1=[9,13,27,32],wi=Ki&&"CompositionEvent"in window,Iu=null;Ki&&"documentMode"in document&&(Iu=document.documentMode);var IN=Ki&&"TextEvent"in window&&!Iu,DN=Ki&&(!wi||Iu&&8<Iu&&11>=Iu),FN=" ",PN=!1;function Db(y,b){switch(y){case"keyup":return k1.indexOf(b.keyCode)!==-1;case"keydown":return b.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function z1(y){return y=y.detail,typeof y=="object"&&"data"in y?y.data:null}var gc=!1;function i8(y,b){switch(y){case"compositionend":return z1(b);case"keypress":return b.which!==32?null:(PN=!0,FN);case"textInput":return y=b.data,y===FN&&PN?null:y;default:return null}}function G1(y,b){if(gc)return y==="compositionend"||!wi&&Db(y,b)?(y=Ji(),Cl=bo=Nu=null,gc=!1,y):null;switch(y){case"paste":return null;case"keypress":if(!(b.ctrlKey||b.altKey||b.metaKey)||b.ctrlKey&&b.altKey){if(b.char&&1<b.char.length)return b.char;if(b.which)return String.fromCharCode(b.which)}return null;case"compositionend":return DN&&b.locale!=="ko"?null:b.data;default:return null}}var vc={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fb(y){var b=y&&y.nodeName&&y.nodeName.toLowerCase();return b==="input"?!!vc[y.type]:b==="textarea"}function jN(y,b,x,M){Xi?us?us.push(M):us=[M]:Xi=M,b=AI(b,"onChange"),0<b.length&&(x=new ql("onChange","change",null,x,M),y.push({event:x,listeners:b}))}var ps=null,hs=null;function MN(y){NG(y,0)}function Pb(y){var b=hr(y);if(zi(b))return y}function _c(y,b){if(y==="change")return b}var $1=!1;if(Ki){var Ql;if(Ki){var jb="oninput"in document;if(!jb){var Mb=document.createElement("div");Mb.setAttribute("oninput","return;"),jb=typeof Mb.oninput=="function"}Ql=jb}else Ql=!1;$1=Ql&&(!document.documentMode||9<document.documentMode)}function CN(){ps&&(ps.detachEvent("onpropertychange",Kt),hs=ps=null)}function Kt(y){if(y.propertyName==="value"&&Pb(hs)){var b=[];jN(b,hs,y,is(y)),Ml(MN,b)}}function ot(y,b,x){y==="focusin"?(CN(),ps=b,hs=x,ps.attachEvent("onpropertychange",Kt)):y==="focusout"&&CN()}function nt(y){if(y==="selectionchange"||y==="keyup"||y==="keydown")return Pb(hs)}function dt(y,b){if(y==="click")return Pb(b)}function _t(y,b){if(y==="input"||y==="change")return Pb(b)}function jt(y,b){return y===b&&(y!==0||1/y===1/b)||y!==y&&b!==b}var Nt=typeof Object.is=="function"?Object.is:jt;function me(y,b){if(Nt(y,b))return!0;if(typeof y!="object"||y===null||typeof b!="object"||b===null)return!1;var x=Object.keys(y),M=Object.keys(b);if(x.length!==M.length)return!1;for(M=0;M<x.length;M++){var Q=x[M];if(!ae.call(b,Q)||!Nt(y[Q],b[Q]))return!1}return!0}function Da(y){for(;y&&y.firstChild;)y=y.firstChild;return y}function we(y,b){var x=Da(y);y=0;for(var M;x;){if(x.nodeType===3){if(M=y+x.textContent.length,y<=b&&M>=b)return{node:x,offset:b-y};y=M}e:{for(;x;){if(x.nextSibling){x=x.nextSibling;break e}x=x.parentNode}x=void 0}x=Da(x)}}function Du(y,b){return y&&b?y===b?!0:y&&y.nodeType===3?!1:b&&b.nodeType===3?Du(y,b.parentNode):"contains"in y?y.contains(b):y.compareDocumentPosition?!!(y.compareDocumentPosition(b)&16):!1:!1}function Vl(y){y=y!=null&&y.ownerDocument!=null&&y.ownerDocument.defaultView!=null?y.ownerDocument.defaultView:window;for(var b=nn(y.document);b instanceof y.HTMLIFrameElement;){try{var x=typeof b.contentWindow.location.href=="string"}catch{x=!1}if(x)y=b.contentWindow;else break;b=nn(y.document)}return b}function Tc(y){var b=y&&y.nodeName&&y.nodeName.toLowerCase();return b&&(b==="input"&&(y.type==="text"||y.type==="search"||y.type==="tel"||y.type==="url"||y.type==="password")||b==="textarea"||y.contentEditable==="true")}var Cb=Ki&&"documentMode"in document&&11>=document.documentMode,Qr=null,ai=null,Si=null,_o=!1;function Lb(y,b,x){var M=x.window===x?x.document:x.nodeType===9?x:x.ownerDocument;_o||Qr==null||Qr!==nn(M)||(M=Qr,"selectionStart"in M&&Tc(M)?M={start:M.selectionStart,end:M.selectionEnd}:(M=(M.ownerDocument&&M.ownerDocument.defaultView||window).getSelection(),M={anchorNode:M.anchorNode,anchorOffset:M.anchorOffset,focusNode:M.focusNode,focusOffset:M.focusOffset}),Si&&me(Si,M)||(Si=M,M=AI(ai,"onSelect"),0<M.length&&(b=new ql("onSelect","select",null,b,x),y.push({event:b,listeners:M}),b.target=Qr)))}function Zi(y,b){var x={};return x[y.toLowerCase()]=b.toLowerCase(),x["Webkit"+y]="webkit"+b,x["Moz"+y]="moz"+b,x}var kt={animationend:Zi("Animation","AnimationEnd"),animationiteration:Zi("Animation","AnimationIteration"),animationstart:Zi("Animation","AnimationStart"),transitionrun:Zi("Transition","TransitionRun"),transitionstart:Zi("Transition","TransitionStart"),transitioncancel:Zi("Transition","TransitionCancel"),transitionend:Zi("Transition","TransitionEnd")},mr={},zt={};Ki&&(zt=document.createElement("div").style,"AnimationEvent"in window||(delete kt.animationend.animation,delete kt.animationiteration.animation,delete kt.animationstart.animation),"TransitionEvent"in window||delete kt.transitionend.transition);function un(y){if(mr[y])return mr[y];if(!kt[y])return y;var b=kt[y],x;for(x in b)if(b.hasOwnProperty(x)&&x in zt)return mr[y]=b[x];return y}var qn=un("animationend"),Hl=un("animationiteration"),eu=un("animationstart"),LN=un("transitionrun"),qb=un("transitionstart"),X1=un("transitioncancel"),ys=un("transitionend"),ck=new Map,u8="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");u8.push("scrollEnd");function Fu(y,b){ck.set(y,b),Or(b,[y])}var qN=typeof reportError=="function"?reportError:function(y){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var b=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof y=="object"&&y!==null&&typeof y.message=="string"?String(y.message):String(y),error:y});if(!window.dispatchEvent(b))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",y);return}console.error(y)},tu=[],Bb=0,o8=0;function BN(){for(var y=Bb,b=o8=Bb=0;b<y;){var x=tu[b];tu[b++]=null;var M=tu[b];tu[b++]=null;var Q=tu[b];tu[b++]=null;var z=tu[b];if(tu[b++]=null,M!==null&&Q!==null){var ie=M.pending;ie===null?Q.next=Q:(Q.next=ie.next,ie.next=Q),M.pending=Q}z!==0&&lk(x,Q,z)}}function UN(y,b,x,M){tu[Bb++]=y,tu[Bb++]=b,tu[Bb++]=x,tu[Bb++]=M,o8|=M,y.lanes|=M,y=y.alternate,y!==null&&(y.lanes|=M)}function s8(y,b,x,M){return UN(y,b,x,M),QN(y)}function kl(y,b){return UN(y,null,null,b),QN(y)}function lk(y,b,x){y.lanes|=x;var M=y.alternate;M!==null&&(M.lanes|=x);for(var Q=!1,z=y.return;z!==null;)z.childLanes|=x,M=z.alternate,M!==null&&(M.childLanes|=x),z.tag===22&&(y=z.stateNode,y===null||y._visibility&1||(Q=!0)),y=z,z=z.return;return y.tag===3?(z=y.stateNode,Q&&b!==null&&(Q=31-Pe(x),y=z.hiddenUpdates,M=y[Q],M===null?y[Q]=[b]:M.push(b),b.lane=x|536870912),z):null}function QN(y){if(50<mv)throw mv=0,b5=null,Error(a(185));for(var b=y.return;b!==null;)y=b,b=y.return;return y.tag===3?y.stateNode:null}var Ub={};function OEe(y,b,x,M){this.tag=y,this.key=x,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=b,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=M,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ei(y,b,x,M){return new OEe(y,b,x,M)}function c8(y){return y=y.prototype,!(!y||!y.isReactComponent)}function ms(y,b){var x=y.alternate;return x===null?(x=Ei(y.tag,b,y.key,y.mode),x.elementType=y.elementType,x.type=y.type,x.stateNode=y.stateNode,x.alternate=y,y.alternate=x):(x.pendingProps=b,x.type=y.type,x.flags=0,x.subtreeFlags=0,x.deletions=null),x.flags=y.flags&65011712,x.childLanes=y.childLanes,x.lanes=y.lanes,x.child=y.child,x.memoizedProps=y.memoizedProps,x.memoizedState=y.memoizedState,x.updateQueue=y.updateQueue,b=y.dependencies,x.dependencies=b===null?null:{lanes:b.lanes,firstContext:b.firstContext},x.sibling=y.sibling,x.index=y.index,x.ref=y.ref,x.refCleanup=y.refCleanup,x}function dk(y,b){y.flags&=65011714;var x=y.alternate;return x===null?(y.childLanes=0,y.lanes=b,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=x.childLanes,y.lanes=x.lanes,y.child=x.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=x.memoizedProps,y.memoizedState=x.memoizedState,y.updateQueue=x.updateQueue,y.type=x.type,b=x.dependencies,y.dependencies=b===null?null:{lanes:b.lanes,firstContext:b.firstContext}),y}function VN(y,b,x,M,Q,z){var ie=0;if(M=y,typeof y=="function")c8(y)&&(ie=1);else if(typeof y=="string")ie=DAe(y,x,le.current)?26:y==="html"||y==="head"||y==="body"?27:5;else e:switch(y){case O:return y=Ei(31,x,b,Q),y.elementType=O,y.lanes=z,y;case g:return zl(x.children,Q,z,b);case _:ie=8,Q|=24;break;case m:return y=Ei(12,x,b,Q|2),y.elementType=m,y.lanes=z,y;case S:return y=Ei(13,x,b,Q),y.elementType=S,y.lanes=z,y;case N:return y=Ei(19,x,b,Q),y.elementType=N,y.lanes=z,y;default:if(typeof y=="object"&&y!==null)switch(y.$$typeof){case T:ie=10;break e;case w:ie=9;break e;case E:ie=11;break e;case j:ie=14;break e;case q:ie=16,M=null;break e}ie=29,x=Error(a(130,y===null?"null":typeof y,"")),M=null}return b=Ei(ie,x,b,Q),b.elementType=y,b.type=M,b.lanes=z,b}function zl(y,b,x,M){return y=Ei(7,y,M,b),y.lanes=x,y}function l8(y,b,x){return y=Ei(6,y,null,b),y.lanes=x,y}function fk(y){var b=Ei(18,null,null,0);return b.stateNode=y,b}function d8(y,b,x){return b=Ei(4,y.children!==null?y.children:[],y.key,b),b.lanes=x,b.stateNode={containerInfo:y.containerInfo,pendingChildren:null,implementation:y.implementation},b}var pk=new WeakMap;function ru(y,b){if(typeof y=="object"&&y!==null){var x=pk.get(y);return x!==void 0?x:(b={value:y,source:b,stack:ue(b)},pk.set(y,b),b)}return{value:y,source:b,stack:ue(b)}}var Qb=[],Vb=0,HN=null,K1=0,nu=[],au=0,wc=null,To=1,wo="";function bs(y,b){Qb[Vb++]=K1,Qb[Vb++]=HN,HN=y,K1=b}function hk(y,b,x){nu[au++]=To,nu[au++]=wo,nu[au++]=wc,wc=y;var M=To;y=wo;var Q=32-Pe(M)-1;M&=~(1<<Q),x+=1;var z=32-Pe(b)+Q;if(30<z){var ie=Q-Q%5;z=(M&(1<<ie)-1).toString(32),M>>=ie,Q-=ie,To=1<<32-Pe(b)+Q|x<<Q|M,wo=z+y}else To=1<<z|x<<Q|M,wo=y}function f8(y){y.return!==null&&(bs(y,1),hk(y,1,0))}function p8(y){for(;y===HN;)HN=Qb[--Vb],Qb[Vb]=null,K1=Qb[--Vb],Qb[Vb]=null;for(;y===wc;)wc=nu[--au],nu[au]=null,wo=nu[--au],nu[au]=null,To=nu[--au],nu[au]=null}function yk(y,b){nu[au++]=To,nu[au++]=wo,nu[au++]=wc,To=b.id,wo=b.overflow,wc=y}var ya=null,on=null,fr=!1,Sc=null,iu=!1,h8=Error(a(519));function Ec(y){var b=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw J1(ru(b,y)),h8}function mk(y){var b=y.stateNode,x=y.type,M=y.memoizedProps;switch(b[wt]=y,b[gt]=M,x){case"dialog":nr("cancel",b),nr("close",b);break;case"iframe":case"object":case"embed":nr("load",b);break;case"video":case"audio":for(x=0;x<gv.length;x++)nr(gv[x],b);break;case"source":nr("error",b);break;case"img":case"image":case"link":nr("error",b),nr("load",b);break;case"details":nr("toggle",b);break;case"input":nr("invalid",b),C1(b,M.value,M.defaultValue,M.checked,M.defaultChecked,M.type,M.name,!0);break;case"select":nr("invalid",b);break;case"textarea":nr("invalid",b),Ru(b,M.value,M.defaultValue,M.children)}x=M.children,typeof x!="string"&&typeof x!="number"&&typeof x!="bigint"||b.textContent===""+x||M.suppressHydrationWarning===!0||PG(b.textContent,x)?(M.popover!=null&&(nr("beforetoggle",b),nr("toggle",b)),M.onScroll!=null&&nr("scroll",b),M.onScrollEnd!=null&&nr("scrollend",b),M.onClick!=null&&(b.onclick=$i),b=!0):b=!1,b||Ec(y,!0)}function bk(y){for(ya=y.return;ya;)switch(ya.tag){case 5:case 31:case 13:iu=!1;return;case 27:case 3:iu=!0;return;default:ya=ya.return}}function Hb(y){if(y!==ya)return!1;if(!fr)return bk(y),fr=!0,!1;var b=y.tag,x;if((x=b!==3&&b!==27)&&((x=b===5)&&(x=y.type,x=!(x!=="form"&&x!=="button")||F5(y.type,y.memoizedProps)),x=!x),x&&on&&Ec(y),bk(y),b===13){if(y=y.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(a(317));on=VG(y)}else if(b===31){if(y=y.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(a(317));on=VG(y)}else b===27?(b=on,qc(y.type)?(y=L5,L5=null,on=y):on=b):on=ya?ou(y.stateNode.nextSibling):null;return!0}function Gl(){on=ya=null,fr=!1}function y8(){var y=Sc;return y!==null&&(si===null?si=y:si.push.apply(si,y),Sc=null),y}function J1(y){Sc===null?Sc=[y]:Sc.push(y)}var m8=ee(null),$l=null,gs=null;function Ac(y,b,x){pe(m8,b._currentValue),b._currentValue=x}function vs(y){y._currentValue=m8.current,se(m8)}function b8(y,b,x){for(;y!==null;){var M=y.alternate;if((y.childLanes&b)!==b?(y.childLanes|=b,M!==null&&(M.childLanes|=b)):M!==null&&(M.childLanes&b)!==b&&(M.childLanes|=b),y===x)break;y=y.return}}function g8(y,b,x,M){var Q=y.child;for(Q!==null&&(Q.return=y);Q!==null;){var z=Q.dependencies;if(z!==null){var ie=Q.child;z=z.firstContext;e:for(;z!==null;){var _e=z;z=Q;for(var Be=0;Be<b.length;Be++)if(_e.context===b[Be]){z.lanes|=x,_e=z.alternate,_e!==null&&(_e.lanes|=x),b8(z.return,x,y),M||(ie=null);break e}z=_e.next}}else if(Q.tag===18){if(ie=Q.return,ie===null)throw Error(a(341));ie.lanes|=x,z=ie.alternate,z!==null&&(z.lanes|=x),b8(ie,x,y),ie=null}else ie=Q.child;if(ie!==null)ie.return=Q;else for(ie=Q;ie!==null;){if(ie===y){ie=null;break}if(Q=ie.sibling,Q!==null){Q.return=ie.return,ie=Q;break}ie=ie.return}Q=ie}}function kb(y,b,x,M){y=null;for(var Q=b,z=!1;Q!==null;){if(!z){if((Q.flags&524288)!==0)z=!0;else if((Q.flags&262144)!==0)break}if(Q.tag===10){var ie=Q.alternate;if(ie===null)throw Error(a(387));if(ie=ie.memoizedProps,ie!==null){var _e=Q.type;Nt(Q.pendingProps.value,ie.value)||(y!==null?y.push(_e):y=[_e])}}else if(Q===Ne.current){if(ie=Q.alternate,ie===null)throw Error(a(387));ie.memoizedState.memoizedState!==Q.memoizedState.memoizedState&&(y!==null?y.push(Sv):y=[Sv])}Q=Q.return}y!==null&&g8(b,y,x,M),b.flags|=262144}function kN(y){for(y=y.firstContext;y!==null;){if(!Nt(y.context._currentValue,y.memoizedValue))return!0;y=y.next}return!1}function Xl(y){$l=y,gs=null,y=y.dependencies,y!==null&&(y.firstContext=null)}function ma(y){return gk($l,y)}function zN(y,b){return $l===null&&Xl(y),gk(y,b)}function gk(y,b){var x=b._currentValue;if(b={context:b,memoizedValue:x,next:null},gs===null){if(y===null)throw Error(a(308));gs=b,y.dependencies={lanes:0,firstContext:b},y.flags|=524288}else gs=gs.next=b;return x}var xEe=typeof AbortController<"u"?AbortController:function(){var y=[],b=this.signal={aborted:!1,addEventListener:function(x,M){y.push(M)}};this.abort=function(){b.aborted=!0,y.forEach(function(x){return x()})}},REe=n.unstable_scheduleCallback,NEe=n.unstable_NormalPriority,Bn={$$typeof:T,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function v8(){return{controller:new xEe,data:new Map,refCount:0}}function W1(y){y.refCount--,y.refCount===0&&REe(NEe,function(){y.controller.abort()})}var Y1=null,_8=0,zb=0,Gb=null;function IEe(y,b){if(Y1===null){var x=Y1=[];_8=0,zb=S5(),Gb={status:"pending",value:void 0,then:function(M){x.push(M)}}}return _8++,b.then(vk,vk),b}function vk(){if(--_8===0&&Y1!==null){Gb!==null&&(Gb.status="fulfilled");var y=Y1;Y1=null,zb=0,Gb=null;for(var b=0;b<y.length;b++)(0,y[b])()}}function DEe(y,b){var x=[],M={status:"pending",value:null,reason:null,then:function(Q){x.push(Q)}};return y.then(function(){M.status="fulfilled",M.value=b;for(var Q=0;Q<x.length;Q++)(0,x[Q])(b)},function(Q){for(M.status="rejected",M.reason=Q,Q=0;Q<x.length;Q++)(0,x[Q])(void 0)}),M}var _k=U.S;U.S=function(y,b){nG=He(),typeof b=="object"&&b!==null&&typeof b.then=="function"&&IEe(y,b),_k!==null&&_k(y,b)};var Kl=ee(null);function T8(){var y=Kl.current;return y!==null?y:Xr.pooledCache}function GN(y,b){b===null?pe(Kl,Kl.current):pe(Kl,b.pool)}function Tk(){var y=T8();return y===null?null:{parent:Bn._currentValue,pool:y}}var $b=Error(a(460)),w8=Error(a(474)),$N=Error(a(542)),XN={then:function(){}};function wk(y){return y=y.status,y==="fulfilled"||y==="rejected"}function Sk(y,b,x){switch(x=y[x],x===void 0?y.push(b):x!==b&&(b.then($i,$i),b=x),b.status){case"fulfilled":return b.value;case"rejected":throw y=b.reason,Ak(y),y;default:if(typeof b.status=="string")b.then($i,$i);else{if(y=Xr,y!==null&&100<y.shellSuspendCounter)throw Error(a(482));y=b,y.status="pending",y.then(function(M){if(b.status==="pending"){var Q=b;Q.status="fulfilled",Q.value=M}},function(M){if(b.status==="pending"){var Q=b;Q.status="rejected",Q.reason=M}})}switch(b.status){case"fulfilled":return b.value;case"rejected":throw y=b.reason,Ak(y),y}throw Wl=b,$b}}function Jl(y){try{var b=y._init;return b(y._payload)}catch(x){throw x!==null&&typeof x=="object"&&typeof x.then=="function"?(Wl=x,$b):x}}var Wl=null;function Ek(){if(Wl===null)throw Error(a(459));var y=Wl;return Wl=null,y}function Ak(y){if(y===$b||y===$N)throw Error(a(483))}var Xb=null,Z1=0;function KN(y){var b=Z1;return Z1+=1,Xb===null&&(Xb=[]),Sk(Xb,y,b)}function ev(y,b){b=b.props.ref,y.ref=b!==void 0?b:null}function JN(y,b){throw b.$$typeof===f?Error(a(525)):(y=Object.prototype.toString.call(b),Error(a(31,y==="[object Object]"?"object with keys {"+Object.keys(b).join(", ")+"}":y)))}function Ok(y){function b(Ke,ke){if(y){var Ze=Ke.deletions;Ze===null?(Ke.deletions=[ke],Ke.flags|=16):Ze.push(ke)}}function x(Ke,ke){if(!y)return null;for(;ke!==null;)b(Ke,ke),ke=ke.sibling;return null}function M(Ke){for(var ke=new Map;Ke!==null;)Ke.key!==null?ke.set(Ke.key,Ke):ke.set(Ke.index,Ke),Ke=Ke.sibling;return ke}function Q(Ke,ke){return Ke=ms(Ke,ke),Ke.index=0,Ke.sibling=null,Ke}function z(Ke,ke,Ze){return Ke.index=Ze,y?(Ze=Ke.alternate,Ze!==null?(Ze=Ze.index,Ze<ke?(Ke.flags|=67108866,ke):Ze):(Ke.flags|=67108866,ke)):(Ke.flags|=1048576,ke)}function ie(Ke){return y&&Ke.alternate===null&&(Ke.flags|=67108866),Ke}function _e(Ke,ke,Ze,ft){return ke===null||ke.tag!==6?(ke=l8(Ze,Ke.mode,ft),ke.return=Ke,ke):(ke=Q(ke,Ze),ke.return=Ke,ke)}function Be(Ke,ke,Ze,ft){var Lt=Ze.type;return Lt===g?ct(Ke,ke,Ze.props.children,ft,Ze.key):ke!==null&&(ke.elementType===Lt||typeof Lt=="object"&&Lt!==null&&Lt.$$typeof===q&&Jl(Lt)===ke.type)?(ke=Q(ke,Ze.props),ev(ke,Ze),ke.return=Ke,ke):(ke=VN(Ze.type,Ze.key,Ze.props,null,Ke.mode,ft),ev(ke,Ze),ke.return=Ke,ke)}function et(Ke,ke,Ze,ft){return ke===null||ke.tag!==4||ke.stateNode.containerInfo!==Ze.containerInfo||ke.stateNode.implementation!==Ze.implementation?(ke=d8(Ze,Ke.mode,ft),ke.return=Ke,ke):(ke=Q(ke,Ze.children||[]),ke.return=Ke,ke)}function ct(Ke,ke,Ze,ft,Lt){return ke===null||ke.tag!==7?(ke=zl(Ze,Ke.mode,ft,Lt),ke.return=Ke,ke):(ke=Q(ke,Ze),ke.return=Ke,ke)}function mt(Ke,ke,Ze){if(typeof ke=="string"&&ke!==""||typeof ke=="number"||typeof ke=="bigint")return ke=l8(""+ke,Ke.mode,Ze),ke.return=Ke,ke;if(typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case p:return Ze=VN(ke.type,ke.key,ke.props,null,Ke.mode,Ze),ev(Ze,ke),Ze.return=Ke,Ze;case h:return ke=d8(ke,Ke.mode,Ze),ke.return=Ke,ke;case q:return ke=Jl(ke),mt(Ke,ke,Ze)}if(V(ke)||P(ke))return ke=zl(ke,Ke.mode,Ze,null),ke.return=Ke,ke;if(typeof ke.then=="function")return mt(Ke,KN(ke),Ze);if(ke.$$typeof===T)return mt(Ke,zN(Ke,ke),Ze);JN(Ke,ke)}return null}function rt(Ke,ke,Ze,ft){var Lt=ke!==null?ke.key:null;if(typeof Ze=="string"&&Ze!==""||typeof Ze=="number"||typeof Ze=="bigint")return Lt!==null?null:_e(Ke,ke,""+Ze,ft);if(typeof Ze=="object"&&Ze!==null){switch(Ze.$$typeof){case p:return Ze.key===Lt?Be(Ke,ke,Ze,ft):null;case h:return Ze.key===Lt?et(Ke,ke,Ze,ft):null;case q:return Ze=Jl(Ze),rt(Ke,ke,Ze,ft)}if(V(Ze)||P(Ze))return Lt!==null?null:ct(Ke,ke,Ze,ft,null);if(typeof Ze.then=="function")return rt(Ke,ke,KN(Ze),ft);if(Ze.$$typeof===T)return rt(Ke,ke,zN(Ke,Ze),ft);JN(Ke,Ze)}return null}function ut(Ke,ke,Ze,ft,Lt){if(typeof ft=="string"&&ft!==""||typeof ft=="number"||typeof ft=="bigint")return Ke=Ke.get(Ze)||null,_e(ke,Ke,""+ft,Lt);if(typeof ft=="object"&&ft!==null){switch(ft.$$typeof){case p:return Ke=Ke.get(ft.key===null?Ze:ft.key)||null,Be(ke,Ke,ft,Lt);case h:return Ke=Ke.get(ft.key===null?Ze:ft.key)||null,et(ke,Ke,ft,Lt);case q:return ft=Jl(ft),ut(Ke,ke,Ze,ft,Lt)}if(V(ft)||P(ft))return Ke=Ke.get(Ze)||null,ct(ke,Ke,ft,Lt,null);if(typeof ft.then=="function")return ut(Ke,ke,Ze,KN(ft),Lt);if(ft.$$typeof===T)return ut(Ke,ke,Ze,zN(ke,ft),Lt);JN(ke,ft)}return null}function It(Ke,ke,Ze,ft){for(var Lt=null,Sr=null,Ft=ke,Wt=ke=0,lr=null;Ft!==null&&Wt<Ze.length;Wt++){Ft.index>Wt?(lr=Ft,Ft=null):lr=Ft.sibling;var Er=rt(Ke,Ft,Ze[Wt],ft);if(Er===null){Ft===null&&(Ft=lr);break}y&&Ft&&Er.alternate===null&&b(Ke,Ft),ke=z(Er,ke,Wt),Sr===null?Lt=Er:Sr.sibling=Er,Sr=Er,Ft=lr}if(Wt===Ze.length)return x(Ke,Ft),fr&&bs(Ke,Wt),Lt;if(Ft===null){for(;Wt<Ze.length;Wt++)Ft=mt(Ke,Ze[Wt],ft),Ft!==null&&(ke=z(Ft,ke,Wt),Sr===null?Lt=Ft:Sr.sibling=Ft,Sr=Ft);return fr&&bs(Ke,Wt),Lt}for(Ft=M(Ft);Wt<Ze.length;Wt++)lr=ut(Ft,Ke,Wt,Ze[Wt],ft),lr!==null&&(y&&lr.alternate!==null&&Ft.delete(lr.key===null?Wt:lr.key),ke=z(lr,ke,Wt),Sr===null?Lt=lr:Sr.sibling=lr,Sr=lr);return y&&Ft.forEach(function(Hc){return b(Ke,Hc)}),fr&&bs(Ke,Wt),Lt}function Ut(Ke,ke,Ze,ft){if(Ze==null)throw Error(a(151));for(var Lt=null,Sr=null,Ft=ke,Wt=ke=0,lr=null,Er=Ze.next();Ft!==null&&!Er.done;Wt++,Er=Ze.next()){Ft.index>Wt?(lr=Ft,Ft=null):lr=Ft.sibling;var Hc=rt(Ke,Ft,Er.value,ft);if(Hc===null){Ft===null&&(Ft=lr);break}y&&Ft&&Hc.alternate===null&&b(Ke,Ft),ke=z(Hc,ke,Wt),Sr===null?Lt=Hc:Sr.sibling=Hc,Sr=Hc,Ft=lr}if(Er.done)return x(Ke,Ft),fr&&bs(Ke,Wt),Lt;if(Ft===null){for(;!Er.done;Wt++,Er=Ze.next())Er=mt(Ke,Er.value,ft),Er!==null&&(ke=z(Er,ke,Wt),Sr===null?Lt=Er:Sr.sibling=Er,Sr=Er);return fr&&bs(Ke,Wt),Lt}for(Ft=M(Ft);!Er.done;Wt++,Er=Ze.next())Er=ut(Ft,Ke,Wt,Er.value,ft),Er!==null&&(y&&Er.alternate!==null&&Ft.delete(Er.key===null?Wt:Er.key),ke=z(Er,ke,Wt),Sr===null?Lt=Er:Sr.sibling=Er,Sr=Er);return y&&Ft.forEach(function(VAe){return b(Ke,VAe)}),fr&&bs(Ke,Wt),Lt}function kr(Ke,ke,Ze,ft){if(typeof Ze=="object"&&Ze!==null&&Ze.type===g&&Ze.key===null&&(Ze=Ze.props.children),typeof Ze=="object"&&Ze!==null){switch(Ze.$$typeof){case p:e:{for(var Lt=Ze.key;ke!==null;){if(ke.key===Lt){if(Lt=Ze.type,Lt===g){if(ke.tag===7){x(Ke,ke.sibling),ft=Q(ke,Ze.props.children),ft.return=Ke,Ke=ft;break e}}else if(ke.elementType===Lt||typeof Lt=="object"&&Lt!==null&&Lt.$$typeof===q&&Jl(Lt)===ke.type){x(Ke,ke.sibling),ft=Q(ke,Ze.props),ev(ft,Ze),ft.return=Ke,Ke=ft;break e}x(Ke,ke);break}else b(Ke,ke);ke=ke.sibling}Ze.type===g?(ft=zl(Ze.props.children,Ke.mode,ft,Ze.key),ft.return=Ke,Ke=ft):(ft=VN(Ze.type,Ze.key,Ze.props,null,Ke.mode,ft),ev(ft,Ze),ft.return=Ke,Ke=ft)}return ie(Ke);case h:e:{for(Lt=Ze.key;ke!==null;){if(ke.key===Lt)if(ke.tag===4&&ke.stateNode.containerInfo===Ze.containerInfo&&ke.stateNode.implementation===Ze.implementation){x(Ke,ke.sibling),ft=Q(ke,Ze.children||[]),ft.return=Ke,Ke=ft;break e}else{x(Ke,ke);break}else b(Ke,ke);ke=ke.sibling}ft=d8(Ze,Ke.mode,ft),ft.return=Ke,Ke=ft}return ie(Ke);case q:return Ze=Jl(Ze),kr(Ke,ke,Ze,ft)}if(V(Ze))return It(Ke,ke,Ze,ft);if(P(Ze)){if(Lt=P(Ze),typeof Lt!="function")throw Error(a(150));return Ze=Lt.call(Ze),Ut(Ke,ke,Ze,ft)}if(typeof Ze.then=="function")return kr(Ke,ke,KN(Ze),ft);if(Ze.$$typeof===T)return kr(Ke,ke,zN(Ke,Ze),ft);JN(Ke,Ze)}return typeof Ze=="string"&&Ze!==""||typeof Ze=="number"||typeof Ze=="bigint"?(Ze=""+Ze,ke!==null&&ke.tag===6?(x(Ke,ke.sibling),ft=Q(ke,Ze),ft.return=Ke,Ke=ft):(x(Ke,ke),ft=l8(Ze,Ke.mode,ft),ft.return=Ke,Ke=ft),ie(Ke)):x(Ke,ke)}return function(Ke,ke,Ze,ft){try{Z1=0;var Lt=kr(Ke,ke,Ze,ft);return Xb=null,Lt}catch(Ft){if(Ft===$b||Ft===$N)throw Ft;var Sr=Ei(29,Ft,null,Ke.mode);return Sr.lanes=ft,Sr.return=Ke,Sr}}}var Yl=Ok(!0),xk=Ok(!1),Oc=!1;function S8(y){y.updateQueue={baseState:y.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function E8(y,b){y=y.updateQueue,b.updateQueue===y&&(b.updateQueue={baseState:y.baseState,firstBaseUpdate:y.firstBaseUpdate,lastBaseUpdate:y.lastBaseUpdate,shared:y.shared,callbacks:null})}function xc(y){return{lane:y,tag:0,payload:null,callback:null,next:null}}function Rc(y,b,x){var M=y.updateQueue;if(M===null)return null;if(M=M.shared,(xr&2)!==0){var Q=M.pending;return Q===null?b.next=b:(b.next=Q.next,Q.next=b),M.pending=b,b=QN(y),lk(y,null,x),b}return UN(y,M,b,x),QN(y)}function tv(y,b,x){if(b=b.updateQueue,b!==null&&(b=b.shared,(x&4194048)!==0)){var M=b.lanes;M&=y.pendingLanes,x|=M,b.lanes=x,st(y,x)}}function A8(y,b){var x=y.updateQueue,M=y.alternate;if(M!==null&&(M=M.updateQueue,x===M)){var Q=null,z=null;if(x=x.firstBaseUpdate,x!==null){do{var ie={lane:x.lane,tag:x.tag,payload:x.payload,callback:null,next:null};z===null?Q=z=ie:z=z.next=ie,x=x.next}while(x!==null);z===null?Q=z=b:z=z.next=b}else Q=z=b;x={baseState:M.baseState,firstBaseUpdate:Q,lastBaseUpdate:z,shared:M.shared,callbacks:M.callbacks},y.updateQueue=x;return}y=x.lastBaseUpdate,y===null?x.firstBaseUpdate=b:y.next=b,x.lastBaseUpdate=b}var O8=!1;function rv(){if(O8){var y=Gb;if(y!==null)throw y}}function nv(y,b,x,M){O8=!1;var Q=y.updateQueue;Oc=!1;var z=Q.firstBaseUpdate,ie=Q.lastBaseUpdate,_e=Q.shared.pending;if(_e!==null){Q.shared.pending=null;var Be=_e,et=Be.next;Be.next=null,ie===null?z=et:ie.next=et,ie=Be;var ct=y.alternate;ct!==null&&(ct=ct.updateQueue,_e=ct.lastBaseUpdate,_e!==ie&&(_e===null?ct.firstBaseUpdate=et:_e.next=et,ct.lastBaseUpdate=Be))}if(z!==null){var mt=Q.baseState;ie=0,ct=et=Be=null,_e=z;do{var rt=_e.lane&-536870913,ut=rt!==_e.lane;if(ut?(cr&rt)===rt:(M&rt)===rt){rt!==0&&rt===zb&&(O8=!0),ct!==null&&(ct=ct.next={lane:0,tag:_e.tag,payload:_e.payload,callback:null,next:null});e:{var It=y,Ut=_e;rt=b;var kr=x;switch(Ut.tag){case 1:if(It=Ut.payload,typeof It=="function"){mt=It.call(kr,mt,rt);break e}mt=It;break e;case 3:It.flags=It.flags&-65537|128;case 0:if(It=Ut.payload,rt=typeof It=="function"?It.call(kr,mt,rt):It,rt==null)break e;mt=d({},mt,rt);break e;case 2:Oc=!0}}rt=_e.callback,rt!==null&&(y.flags|=64,ut&&(y.flags|=8192),ut=Q.callbacks,ut===null?Q.callbacks=[rt]:ut.push(rt))}else ut={lane:rt,tag:_e.tag,payload:_e.payload,callback:_e.callback,next:null},ct===null?(et=ct=ut,Be=mt):ct=ct.next=ut,ie|=rt;if(_e=_e.next,_e===null){if(_e=Q.shared.pending,_e===null)break;ut=_e,_e=ut.next,ut.next=null,Q.lastBaseUpdate=ut,Q.shared.pending=null}}while(!0);ct===null&&(Be=mt),Q.baseState=Be,Q.firstBaseUpdate=et,Q.lastBaseUpdate=ct,z===null&&(Q.shared.lanes=0),Pc|=ie,y.lanes=ie,y.memoizedState=mt}}function Rk(y,b){if(typeof y!="function")throw Error(a(191,y));y.call(b)}function Nk(y,b){var x=y.callbacks;if(x!==null)for(y.callbacks=null,y=0;y<x.length;y++)Rk(x[y],b)}var Kb=ee(null),WN=ee(0);function Ik(y,b){y=Rs,pe(WN,y),pe(Kb,b),Rs=y|b.baseLanes}function x8(){pe(WN,Rs),pe(Kb,Kb.current)}function R8(){Rs=WN.current,se(Kb),se(WN)}var Ai=ee(null),uu=null;function Nc(y){var b=y.alternate;pe(Pn,Pn.current&1),pe(Ai,y),uu===null&&(b===null||Kb.current!==null||b.memoizedState!==null)&&(uu=y)}function N8(y){pe(Pn,Pn.current),pe(Ai,y),uu===null&&(uu=y)}function Dk(y){y.tag===22?(pe(Pn,Pn.current),pe(Ai,y),uu===null&&(uu=y)):Ic()}function Ic(){pe(Pn,Pn.current),pe(Ai,Ai.current)}function Oi(y){se(Ai),uu===y&&(uu=null),se(Pn)}var Pn=ee(0);function YN(y){for(var b=y;b!==null;){if(b.tag===13){var x=b.memoizedState;if(x!==null&&(x=x.dehydrated,x===null||M5(x)||C5(x)))return b}else if(b.tag===19&&(b.memoizedProps.revealOrder==="forwards"||b.memoizedProps.revealOrder==="backwards"||b.memoizedProps.revealOrder==="unstable_legacy-backwards"||b.memoizedProps.revealOrder==="together")){if((b.flags&128)!==0)return b}else if(b.child!==null){b.child.return=b,b=b.child;continue}if(b===y)break;for(;b.sibling===null;){if(b.return===null||b.return===y)return null;b=b.return}b.sibling.return=b.return,b=b.sibling}return null}var _s=0,Jt=null,Vr=null,Un=null,ZN=!1,Jb=!1,Zl=!1,eI=0,av=0,Wb=null,FEe=0;function In(){throw Error(a(321))}function I8(y,b){if(b===null)return!1;for(var x=0;x<b.length&&x<y.length;x++)if(!Nt(y[x],b[x]))return!1;return!0}function D8(y,b,x,M,Q,z){return _s=z,Jt=b,b.memoizedState=null,b.updateQueue=null,b.lanes=0,U.H=y===null||y.memoizedState===null?hz:G8,Zl=!1,z=x(M,Q),Zl=!1,Jb&&(z=Pk(b,x,M,Q)),Fk(y),z}function Fk(y){U.H=ov;var b=Vr!==null&&Vr.next!==null;if(_s=0,Un=Vr=Jt=null,ZN=!1,av=0,Wb=null,b)throw Error(a(300));y===null||Qn||(y=y.dependencies,y!==null&&kN(y)&&(Qn=!0))}function Pk(y,b,x,M){Jt=y;var Q=0;do{if(Jb&&(Wb=null),av=0,Jb=!1,25<=Q)throw Error(a(301));if(Q+=1,Un=Vr=null,y.updateQueue!=null){var z=y.updateQueue;z.lastEffect=null,z.events=null,z.stores=null,z.memoCache!=null&&(z.memoCache.index=0)}U.H=yz,z=b(x,M)}while(Jb);return z}function PEe(){var y=U.H,b=y.useState()[0];return b=typeof b.then=="function"?iv(b):b,y=y.useState()[0],(Vr!==null?Vr.memoizedState:null)!==y&&(Jt.flags|=1024),b}function F8(){var y=eI!==0;return eI=0,y}function P8(y,b,x){b.updateQueue=y.updateQueue,b.flags&=-2053,y.lanes&=~x}function j8(y){if(ZN){for(y=y.memoizedState;y!==null;){var b=y.queue;b!==null&&(b.pending=null),y=y.next}ZN=!1}_s=0,Un=Vr=Jt=null,Jb=!1,av=eI=0,Wb=null}function Va(){var y={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Un===null?Jt.memoizedState=Un=y:Un=Un.next=y,Un}function jn(){if(Vr===null){var y=Jt.alternate;y=y!==null?y.memoizedState:null}else y=Vr.next;var b=Un===null?Jt.memoizedState:Un.next;if(b!==null)Un=b,Vr=y;else{if(y===null)throw Jt.alternate===null?Error(a(467)):Error(a(310));Vr=y,y={memoizedState:Vr.memoizedState,baseState:Vr.baseState,baseQueue:Vr.baseQueue,queue:Vr.queue,next:null},Un===null?Jt.memoizedState=Un=y:Un=Un.next=y}return Un}function tI(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function iv(y){var b=av;return av+=1,Wb===null&&(Wb=[]),y=Sk(Wb,y,b),b=Jt,(Un===null?b.memoizedState:Un.next)===null&&(b=b.alternate,U.H=b===null||b.memoizedState===null?hz:G8),y}function rI(y){if(y!==null&&typeof y=="object"){if(typeof y.then=="function")return iv(y);if(y.$$typeof===T)return ma(y)}throw Error(a(438,String(y)))}function M8(y){var b=null,x=Jt.updateQueue;if(x!==null&&(b=x.memoCache),b==null){var M=Jt.alternate;M!==null&&(M=M.updateQueue,M!==null&&(M=M.memoCache,M!=null&&(b={data:M.data.map(function(Q){return Q.slice()}),index:0})))}if(b==null&&(b={data:[],index:0}),x===null&&(x=tI(),Jt.updateQueue=x),x.memoCache=b,x=b.data[b.index],x===void 0)for(x=b.data[b.index]=Array(y),M=0;M<y;M++)x[M]=I;return b.index++,x}function Ts(y,b){return typeof b=="function"?b(y):b}function nI(y){var b=jn();return C8(b,Vr,y)}function C8(y,b,x){var M=y.queue;if(M===null)throw Error(a(311));M.lastRenderedReducer=x;var Q=y.baseQueue,z=M.pending;if(z!==null){if(Q!==null){var ie=Q.next;Q.next=z.next,z.next=ie}b.baseQueue=Q=z,M.pending=null}if(z=y.baseState,Q===null)y.memoizedState=z;else{b=Q.next;var _e=ie=null,Be=null,et=b,ct=!1;do{var mt=et.lane&-536870913;if(mt!==et.lane?(cr&mt)===mt:(_s&mt)===mt){var rt=et.revertLane;if(rt===0)Be!==null&&(Be=Be.next={lane:0,revertLane:0,gesture:null,action:et.action,hasEagerState:et.hasEagerState,eagerState:et.eagerState,next:null}),mt===zb&&(ct=!0);else if((_s&rt)===rt){et=et.next,rt===zb&&(ct=!0);continue}else mt={lane:0,revertLane:et.revertLane,gesture:null,action:et.action,hasEagerState:et.hasEagerState,eagerState:et.eagerState,next:null},Be===null?(_e=Be=mt,ie=z):Be=Be.next=mt,Jt.lanes|=rt,Pc|=rt;mt=et.action,Zl&&x(z,mt),z=et.hasEagerState?et.eagerState:x(z,mt)}else rt={lane:mt,revertLane:et.revertLane,gesture:et.gesture,action:et.action,hasEagerState:et.hasEagerState,eagerState:et.eagerState,next:null},Be===null?(_e=Be=rt,ie=z):Be=Be.next=rt,Jt.lanes|=mt,Pc|=mt;et=et.next}while(et!==null&&et!==b);if(Be===null?ie=z:Be.next=_e,!Nt(z,y.memoizedState)&&(Qn=!0,ct&&(x=Gb,x!==null)))throw x;y.memoizedState=z,y.baseState=ie,y.baseQueue=Be,M.lastRenderedState=z}return Q===null&&(M.lanes=0),[y.memoizedState,M.dispatch]}function L8(y){var b=jn(),x=b.queue;if(x===null)throw Error(a(311));x.lastRenderedReducer=y;var M=x.dispatch,Q=x.pending,z=b.memoizedState;if(Q!==null){x.pending=null;var ie=Q=Q.next;do z=y(z,ie.action),ie=ie.next;while(ie!==Q);Nt(z,b.memoizedState)||(Qn=!0),b.memoizedState=z,b.baseQueue===null&&(b.baseState=z),x.lastRenderedState=z}return[z,M]}function jk(y,b,x){var M=Jt,Q=jn(),z=fr;if(z){if(x===void 0)throw Error(a(407));x=x()}else x=b();var ie=!Nt((Vr||Q).memoizedState,x);if(ie&&(Q.memoizedState=x,Qn=!0),Q=Q.queue,U8(Lk.bind(null,M,Q,y),[y]),Q.getSnapshot!==b||ie||Un!==null&&Un.memoizedState.tag&1){if(M.flags|=2048,Yb(9,{destroy:void 0},Ck.bind(null,M,Q,x,b),null),Xr===null)throw Error(a(349));z||(_s&127)!==0||Mk(M,b,x)}return x}function Mk(y,b,x){y.flags|=16384,y={getSnapshot:b,value:x},b=Jt.updateQueue,b===null?(b=tI(),Jt.updateQueue=b,b.stores=[y]):(x=b.stores,x===null?b.stores=[y]:x.push(y))}function Ck(y,b,x,M){b.value=x,b.getSnapshot=M,qk(b)&&Bk(y)}function Lk(y,b,x){return x(function(){qk(b)&&Bk(y)})}function qk(y){var b=y.getSnapshot;y=y.value;try{var x=b();return!Nt(y,x)}catch{return!0}}function Bk(y){var b=kl(y,2);b!==null&&ci(b,y,2)}function q8(y){var b=Va();if(typeof y=="function"){var x=y;if(y=x(),Zl){Le(!0);try{x()}finally{Le(!1)}}}return b.memoizedState=b.baseState=y,b.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ts,lastRenderedState:y},b}function Uk(y,b,x,M){return y.baseState=x,C8(y,Vr,typeof M=="function"?M:Ts)}function jEe(y,b,x,M,Q){if(uI(y))throw Error(a(485));if(y=b.action,y!==null){var z={payload:Q,action:y,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(ie){z.listeners.push(ie)}};U.T!==null?x(!0):z.isTransition=!1,M(z),x=b.pending,x===null?(z.next=b.pending=z,Qk(b,z)):(z.next=x.next,b.pending=x.next=z)}}function Qk(y,b){var x=b.action,M=b.payload,Q=y.state;if(b.isTransition){var z=U.T,ie={};U.T=ie;try{var _e=x(Q,M),Be=U.S;Be!==null&&Be(ie,_e),Vk(y,b,_e)}catch(et){B8(y,b,et)}finally{z!==null&&ie.types!==null&&(z.types=ie.types),U.T=z}}else try{z=x(Q,M),Vk(y,b,z)}catch(et){B8(y,b,et)}}function Vk(y,b,x){x!==null&&typeof x=="object"&&typeof x.then=="function"?x.then(function(M){Hk(y,b,M)},function(M){return B8(y,b,M)}):Hk(y,b,x)}function Hk(y,b,x){b.status="fulfilled",b.value=x,kk(b),y.state=x,b=y.pending,b!==null&&(x=b.next,x===b?y.pending=null:(x=x.next,b.next=x,Qk(y,x)))}function B8(y,b,x){var M=y.pending;if(y.pending=null,M!==null){M=M.next;do b.status="rejected",b.reason=x,kk(b),b=b.next;while(b!==M)}y.action=null}function kk(y){y=y.listeners;for(var b=0;b<y.length;b++)(0,y[b])()}function zk(y,b){return b}function Gk(y,b){if(fr){var x=Xr.formState;if(x!==null){e:{var M=Jt;if(fr){if(on){t:{for(var Q=on,z=iu;Q.nodeType!==8;){if(!z){Q=null;break t}if(Q=ou(Q.nextSibling),Q===null){Q=null;break t}}z=Q.data,Q=z==="F!"||z==="F"?Q:null}if(Q){on=ou(Q.nextSibling),M=Q.data==="F!";break e}}Ec(M)}M=!1}M&&(b=x[0])}}return x=Va(),x.memoizedState=x.baseState=b,M={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zk,lastRenderedState:b},x.queue=M,x=dz.bind(null,Jt,M),M.dispatch=x,M=q8(!1),z=z8.bind(null,Jt,!1,M.queue),M=Va(),Q={state:b,dispatch:null,action:y,pending:null},M.queue=Q,x=jEe.bind(null,Jt,Q,z,x),Q.dispatch=x,M.memoizedState=y,[b,x,!1]}function $k(y){var b=jn();return Xk(b,Vr,y)}function Xk(y,b,x){if(b=C8(y,b,zk)[0],y=nI(Ts)[0],typeof b=="object"&&b!==null&&typeof b.then=="function")try{var M=iv(b)}catch(ie){throw ie===$b?$N:ie}else M=b;b=jn();var Q=b.queue,z=Q.dispatch;return x!==b.memoizedState&&(Jt.flags|=2048,Yb(9,{destroy:void 0},MEe.bind(null,Q,x),null)),[M,z,y]}function MEe(y,b){y.action=b}function Kk(y){var b=jn(),x=Vr;if(x!==null)return Xk(b,x,y);jn(),b=b.memoizedState,x=jn();var M=x.queue.dispatch;return x.memoizedState=y,[b,M,!1]}function Yb(y,b,x,M){return y={tag:y,create:x,deps:M,inst:b,next:null},b=Jt.updateQueue,b===null&&(b=tI(),Jt.updateQueue=b),x=b.lastEffect,x===null?b.lastEffect=y.next=y:(M=x.next,x.next=y,y.next=M,b.lastEffect=y),y}function Jk(){return jn().memoizedState}function aI(y,b,x,M){var Q=Va();Jt.flags|=y,Q.memoizedState=Yb(1|b,{destroy:void 0},x,M===void 0?null:M)}function iI(y,b,x,M){var Q=jn();M=M===void 0?null:M;var z=Q.memoizedState.inst;Vr!==null&&M!==null&&I8(M,Vr.memoizedState.deps)?Q.memoizedState=Yb(b,z,x,M):(Jt.flags|=y,Q.memoizedState=Yb(1|b,z,x,M))}function Wk(y,b){aI(8390656,8,y,b)}function U8(y,b){iI(2048,8,y,b)}function CEe(y){Jt.flags|=4;var b=Jt.updateQueue;if(b===null)b=tI(),Jt.updateQueue=b,b.events=[y];else{var x=b.events;x===null?b.events=[y]:x.push(y)}}function Yk(y){var b=jn().memoizedState;return CEe({ref:b,nextImpl:y}),function(){if((xr&2)!==0)throw Error(a(440));return b.impl.apply(void 0,arguments)}}function Zk(y,b){return iI(4,2,y,b)}function ez(y,b){return iI(4,4,y,b)}function tz(y,b){if(typeof b=="function"){y=y();var x=b(y);return function(){typeof x=="function"?x():b(null)}}if(b!=null)return y=y(),b.current=y,function(){b.current=null}}function rz(y,b,x){x=x!=null?x.concat([y]):null,iI(4,4,tz.bind(null,b,y),x)}function Q8(){}function nz(y,b){var x=jn();b=b===void 0?null:b;var M=x.memoizedState;return b!==null&&I8(b,M[1])?M[0]:(x.memoizedState=[y,b],y)}function az(y,b){var x=jn();b=b===void 0?null:b;var M=x.memoizedState;if(b!==null&&I8(b,M[1]))return M[0];if(M=y(),Zl){Le(!0);try{y()}finally{Le(!1)}}return x.memoizedState=[M,b],M}function V8(y,b,x){return x===void 0||(_s&1073741824)!==0&&(cr&261930)===0?y.memoizedState=b:(y.memoizedState=x,y=iG(),Jt.lanes|=y,Pc|=y,x)}function iz(y,b,x,M){return Nt(x,b)?x:Kb.current!==null?(y=V8(y,x,M),Nt(y,b)||(Qn=!0),y):(_s&42)===0||(_s&1073741824)!==0&&(cr&261930)===0?(Qn=!0,y.memoizedState=x):(y=iG(),Jt.lanes|=y,Pc|=y,b)}function uz(y,b,x,M,Q){var z=G.p;G.p=z!==0&&8>z?z:8;var ie=U.T,_e={};U.T=_e,z8(y,!1,b,x);try{var Be=Q(),et=U.S;if(et!==null&&et(_e,Be),Be!==null&&typeof Be=="object"&&typeof Be.then=="function"){var ct=DEe(Be,M);uv(y,b,ct,Ni(y))}else uv(y,b,M,Ni(y))}catch(mt){uv(y,b,{then:function(){},status:"rejected",reason:mt},Ni())}finally{G.p=z,ie!==null&&_e.types!==null&&(ie.types=_e.types),U.T=ie}}function LEe(){}function H8(y,b,x,M){if(y.tag!==5)throw Error(a(476));var Q=oz(y).queue;uz(y,Q,b,J,x===null?LEe:function(){return sz(y),x(M)})}function oz(y){var b=y.memoizedState;if(b!==null)return b;b={memoizedState:J,baseState:J,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ts,lastRenderedState:J},next:null};var x={};return b.next={memoizedState:x,baseState:x,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ts,lastRenderedState:x},next:null},y.memoizedState=b,y=y.alternate,y!==null&&(y.memoizedState=b),b}function sz(y){var b=oz(y);b.next===null&&(b=y.alternate.memoizedState),uv(y,b.next.queue,{},Ni())}function k8(){return ma(Sv)}function cz(){return jn().memoizedState}function lz(){return jn().memoizedState}function qEe(y){for(var b=y.return;b!==null;){switch(b.tag){case 24:case 3:var x=Ni();y=xc(x);var M=Rc(b,y,x);M!==null&&(ci(M,b,x),tv(M,b,x)),b={cache:v8()},y.payload=b;return}b=b.return}}function BEe(y,b,x){var M=Ni();x={lane:M,revertLane:0,gesture:null,action:x,hasEagerState:!1,eagerState:null,next:null},uI(y)?fz(b,x):(x=s8(y,b,x,M),x!==null&&(ci(x,y,M),pz(x,b,M)))}function dz(y,b,x){var M=Ni();uv(y,b,x,M)}function uv(y,b,x,M){var Q={lane:M,revertLane:0,gesture:null,action:x,hasEagerState:!1,eagerState:null,next:null};if(uI(y))fz(b,Q);else{var z=y.alternate;if(y.lanes===0&&(z===null||z.lanes===0)&&(z=b.lastRenderedReducer,z!==null))try{var ie=b.lastRenderedState,_e=z(ie,x);if(Q.hasEagerState=!0,Q.eagerState=_e,Nt(_e,ie))return UN(y,b,Q,0),Xr===null&&BN(),!1}catch{}if(x=s8(y,b,Q,M),x!==null)return ci(x,y,M),pz(x,b,M),!0}return!1}function z8(y,b,x,M){if(M={lane:2,revertLane:S5(),gesture:null,action:M,hasEagerState:!1,eagerState:null,next:null},uI(y)){if(b)throw Error(a(479))}else b=s8(y,x,M,2),b!==null&&ci(b,y,2)}function uI(y){var b=y.alternate;return y===Jt||b!==null&&b===Jt}function fz(y,b){Jb=ZN=!0;var x=y.pending;x===null?b.next=b:(b.next=x.next,x.next=b),y.pending=b}function pz(y,b,x){if((x&4194048)!==0){var M=b.lanes;M&=y.pendingLanes,x|=M,b.lanes=x,st(y,x)}}var ov={readContext:ma,use:rI,useCallback:In,useContext:In,useEffect:In,useImperativeHandle:In,useLayoutEffect:In,useInsertionEffect:In,useMemo:In,useReducer:In,useRef:In,useState:In,useDebugValue:In,useDeferredValue:In,useTransition:In,useSyncExternalStore:In,useId:In,useHostTransitionStatus:In,useFormState:In,useActionState:In,useOptimistic:In,useMemoCache:In,useCacheRefresh:In};ov.useEffectEvent=In;var hz={readContext:ma,use:rI,useCallback:function(y,b){return Va().memoizedState=[y,b===void 0?null:b],y},useContext:ma,useEffect:Wk,useImperativeHandle:function(y,b,x){x=x!=null?x.concat([y]):null,aI(4194308,4,tz.bind(null,b,y),x)},useLayoutEffect:function(y,b){return aI(4194308,4,y,b)},useInsertionEffect:function(y,b){aI(4,2,y,b)},useMemo:function(y,b){var x=Va();b=b===void 0?null:b;var M=y();if(Zl){Le(!0);try{y()}finally{Le(!1)}}return x.memoizedState=[M,b],M},useReducer:function(y,b,x){var M=Va();if(x!==void 0){var Q=x(b);if(Zl){Le(!0);try{x(b)}finally{Le(!1)}}}else Q=b;return M.memoizedState=M.baseState=Q,y={pending:null,lanes:0,dispatch:null,lastRenderedReducer:y,lastRenderedState:Q},M.queue=y,y=y.dispatch=BEe.bind(null,Jt,y),[M.memoizedState,y]},useRef:function(y){var b=Va();return y={current:y},b.memoizedState=y},useState:function(y){y=q8(y);var b=y.queue,x=dz.bind(null,Jt,b);return b.dispatch=x,[y.memoizedState,x]},useDebugValue:Q8,useDeferredValue:function(y,b){var x=Va();return V8(x,y,b)},useTransition:function(){var y=q8(!1);return y=uz.bind(null,Jt,y.queue,!0,!1),Va().memoizedState=y,[!1,y]},useSyncExternalStore:function(y,b,x){var M=Jt,Q=Va();if(fr){if(x===void 0)throw Error(a(407));x=x()}else{if(x=b(),Xr===null)throw Error(a(349));(cr&127)!==0||Mk(M,b,x)}Q.memoizedState=x;var z={value:x,getSnapshot:b};return Q.queue=z,Wk(Lk.bind(null,M,z,y),[y]),M.flags|=2048,Yb(9,{destroy:void 0},Ck.bind(null,M,z,x,b),null),x},useId:function(){var y=Va(),b=Xr.identifierPrefix;if(fr){var x=wo,M=To;x=(M&~(1<<32-Pe(M)-1)).toString(32)+x,b="_"+b+"R_"+x,x=eI++,0<x&&(b+="H"+x.toString(32)),b+="_"}else x=FEe++,b="_"+b+"r_"+x.toString(32)+"_";return y.memoizedState=b},useHostTransitionStatus:k8,useFormState:Gk,useActionState:Gk,useOptimistic:function(y){var b=Va();b.memoizedState=b.baseState=y;var x={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return b.queue=x,b=z8.bind(null,Jt,!0,x),x.dispatch=b,[y,b]},useMemoCache:M8,useCacheRefresh:function(){return Va().memoizedState=qEe.bind(null,Jt)},useEffectEvent:function(y){var b=Va(),x={impl:y};return b.memoizedState=x,function(){if((xr&2)!==0)throw Error(a(440));return x.impl.apply(void 0,arguments)}}},G8={readContext:ma,use:rI,useCallback:nz,useContext:ma,useEffect:U8,useImperativeHandle:rz,useInsertionEffect:Zk,useLayoutEffect:ez,useMemo:az,useReducer:nI,useRef:Jk,useState:function(){return nI(Ts)},useDebugValue:Q8,useDeferredValue:function(y,b){var x=jn();return iz(x,Vr.memoizedState,y,b)},useTransition:function(){var y=nI(Ts)[0],b=jn().memoizedState;return[typeof y=="boolean"?y:iv(y),b]},useSyncExternalStore:jk,useId:cz,useHostTransitionStatus:k8,useFormState:$k,useActionState:$k,useOptimistic:function(y,b){var x=jn();return Uk(x,Vr,y,b)},useMemoCache:M8,useCacheRefresh:lz};G8.useEffectEvent=Yk;var yz={readContext:ma,use:rI,useCallback:nz,useContext:ma,useEffect:U8,useImperativeHandle:rz,useInsertionEffect:Zk,useLayoutEffect:ez,useMemo:az,useReducer:L8,useRef:Jk,useState:function(){return L8(Ts)},useDebugValue:Q8,useDeferredValue:function(y,b){var x=jn();return Vr===null?V8(x,y,b):iz(x,Vr.memoizedState,y,b)},useTransition:function(){var y=L8(Ts)[0],b=jn().memoizedState;return[typeof y=="boolean"?y:iv(y),b]},useSyncExternalStore:jk,useId:cz,useHostTransitionStatus:k8,useFormState:Kk,useActionState:Kk,useOptimistic:function(y,b){var x=jn();return Vr!==null?Uk(x,Vr,y,b):(x.baseState=y,[y,x.queue.dispatch])},useMemoCache:M8,useCacheRefresh:lz};yz.useEffectEvent=Yk;function $8(y,b,x,M){b=y.memoizedState,x=x(M,b),x=x==null?b:d({},b,x),y.memoizedState=x,y.lanes===0&&(y.updateQueue.baseState=x)}var X8={enqueueSetState:function(y,b,x){y=y._reactInternals;var M=Ni(),Q=xc(M);Q.payload=b,x!=null&&(Q.callback=x),b=Rc(y,Q,M),b!==null&&(ci(b,y,M),tv(b,y,M))},enqueueReplaceState:function(y,b,x){y=y._reactInternals;var M=Ni(),Q=xc(M);Q.tag=1,Q.payload=b,x!=null&&(Q.callback=x),b=Rc(y,Q,M),b!==null&&(ci(b,y,M),tv(b,y,M))},enqueueForceUpdate:function(y,b){y=y._reactInternals;var x=Ni(),M=xc(x);M.tag=2,b!=null&&(M.callback=b),b=Rc(y,M,x),b!==null&&(ci(b,y,x),tv(b,y,x))}};function mz(y,b,x,M,Q,z,ie){return y=y.stateNode,typeof y.shouldComponentUpdate=="function"?y.shouldComponentUpdate(M,z,ie):b.prototype&&b.prototype.isPureReactComponent?!me(x,M)||!me(Q,z):!0}function bz(y,b,x,M){y=b.state,typeof b.componentWillReceiveProps=="function"&&b.componentWillReceiveProps(x,M),typeof b.UNSAFE_componentWillReceiveProps=="function"&&b.UNSAFE_componentWillReceiveProps(x,M),b.state!==y&&X8.enqueueReplaceState(b,b.state,null)}function ed(y,b){var x=b;if("ref"in b){x={};for(var M in b)M!=="ref"&&(x[M]=b[M])}if(y=y.defaultProps){x===b&&(x=d({},x));for(var Q in y)x[Q]===void 0&&(x[Q]=y[Q])}return x}function gz(y){qN(y)}function vz(y){console.error(y)}function _z(y){qN(y)}function oI(y,b){try{var x=y.onUncaughtError;x(b.value,{componentStack:b.stack})}catch(M){setTimeout(function(){throw M})}}function Tz(y,b,x){try{var M=y.onCaughtError;M(x.value,{componentStack:x.stack,errorBoundary:b.tag===1?b.stateNode:null})}catch(Q){setTimeout(function(){throw Q})}}function K8(y,b,x){return x=xc(x),x.tag=3,x.payload={element:null},x.callback=function(){oI(y,b)},x}function wz(y){return y=xc(y),y.tag=3,y}function Sz(y,b,x,M){var Q=x.type.getDerivedStateFromError;if(typeof Q=="function"){var z=M.value;y.payload=function(){return Q(z)},y.callback=function(){Tz(b,x,M)}}var ie=x.stateNode;ie!==null&&typeof ie.componentDidCatch=="function"&&(y.callback=function(){Tz(b,x,M),typeof Q!="function"&&(jc===null?jc=new Set([this]):jc.add(this));var _e=M.stack;this.componentDidCatch(M.value,{componentStack:_e!==null?_e:""})})}function UEe(y,b,x,M,Q){if(x.flags|=32768,M!==null&&typeof M=="object"&&typeof M.then=="function"){if(b=x.alternate,b!==null&&kb(b,x,Q,!0),x=Ai.current,x!==null){switch(x.tag){case 31:case 13:return uu===null?vI():x.alternate===null&&Dn===0&&(Dn=3),x.flags&=-257,x.flags|=65536,x.lanes=Q,M===XN?x.flags|=16384:(b=x.updateQueue,b===null?x.updateQueue=new Set([M]):b.add(M),_5(y,M,Q)),!1;case 22:return x.flags|=65536,M===XN?x.flags|=16384:(b=x.updateQueue,b===null?(b={transitions:null,markerInstances:null,retryQueue:new Set([M])},x.updateQueue=b):(x=b.retryQueue,x===null?b.retryQueue=new Set([M]):x.add(M)),_5(y,M,Q)),!1}throw Error(a(435,x.tag))}return _5(y,M,Q),vI(),!1}if(fr)return b=Ai.current,b!==null?((b.flags&65536)===0&&(b.flags|=256),b.flags|=65536,b.lanes=Q,M!==h8&&(y=Error(a(422),{cause:M}),J1(ru(y,x)))):(M!==h8&&(b=Error(a(423),{cause:M}),J1(ru(b,x))),y=y.current.alternate,y.flags|=65536,Q&=-Q,y.lanes|=Q,M=ru(M,x),Q=K8(y.stateNode,M,Q),A8(y,Q),Dn!==4&&(Dn=2)),!1;var z=Error(a(520),{cause:M});if(z=ru(z,x),yv===null?yv=[z]:yv.push(z),Dn!==4&&(Dn=2),b===null)return!0;M=ru(M,x),x=b;do{switch(x.tag){case 3:return x.flags|=65536,y=Q&-Q,x.lanes|=y,y=K8(x.stateNode,M,y),A8(x,y),!1;case 1:if(b=x.type,z=x.stateNode,(x.flags&128)===0&&(typeof b.getDerivedStateFromError=="function"||z!==null&&typeof z.componentDidCatch=="function"&&(jc===null||!jc.has(z))))return x.flags|=65536,Q&=-Q,x.lanes|=Q,Q=wz(Q),Sz(Q,y,x,M),A8(x,Q),!1}x=x.return}while(x!==null);return!1}var J8=Error(a(461)),Qn=!1;function ba(y,b,x,M){b.child=y===null?xk(b,null,x,M):Yl(b,y.child,x,M)}function Ez(y,b,x,M,Q){x=x.render;var z=b.ref;if("ref"in M){var ie={};for(var _e in M)_e!=="ref"&&(ie[_e]=M[_e])}else ie=M;return Xl(b),M=D8(y,b,x,ie,z,Q),_e=F8(),y!==null&&!Qn?(P8(y,b,Q),ws(y,b,Q)):(fr&&_e&&f8(b),b.flags|=1,ba(y,b,M,Q),b.child)}function Az(y,b,x,M,Q){if(y===null){var z=x.type;return typeof z=="function"&&!c8(z)&&z.defaultProps===void 0&&x.compare===null?(b.tag=15,b.type=z,Oz(y,b,z,M,Q)):(y=VN(x.type,null,M,b,b.mode,Q),y.ref=b.ref,y.return=b,b.child=y)}if(z=y.child,!a5(y,Q)){var ie=z.memoizedProps;if(x=x.compare,x=x!==null?x:me,x(ie,M)&&y.ref===b.ref)return ws(y,b,Q)}return b.flags|=1,y=ms(z,M),y.ref=b.ref,y.return=b,b.child=y}function Oz(y,b,x,M,Q){if(y!==null){var z=y.memoizedProps;if(me(z,M)&&y.ref===b.ref)if(Qn=!1,b.pendingProps=M=z,a5(y,Q))(y.flags&131072)!==0&&(Qn=!0);else return b.lanes=y.lanes,ws(y,b,Q)}return W8(y,b,x,M,Q)}function xz(y,b,x,M){var Q=M.children,z=y!==null?y.memoizedState:null;if(y===null&&b.stateNode===null&&(b.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),M.mode==="hidden"){if((b.flags&128)!==0){if(z=z!==null?z.baseLanes|x:x,y!==null){for(M=b.child=y.child,Q=0;M!==null;)Q=Q|M.lanes|M.childLanes,M=M.sibling;M=Q&~z}else M=0,b.child=null;return Rz(y,b,z,x,M)}if((x&536870912)!==0)b.memoizedState={baseLanes:0,cachePool:null},y!==null&&GN(b,z!==null?z.cachePool:null),z!==null?Ik(b,z):x8(),Dk(b);else return M=b.lanes=536870912,Rz(y,b,z!==null?z.baseLanes|x:x,x,M)}else z!==null?(GN(b,z.cachePool),Ik(b,z),Ic(),b.memoizedState=null):(y!==null&&GN(b,null),x8(),Ic());return ba(y,b,Q,x),b.child}function sv(y,b){return y!==null&&y.tag===22||b.stateNode!==null||(b.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),b.sibling}function Rz(y,b,x,M,Q){var z=T8();return z=z===null?null:{parent:Bn._currentValue,pool:z},b.memoizedState={baseLanes:x,cachePool:z},y!==null&&GN(b,null),x8(),Dk(b),y!==null&&kb(y,b,M,!0),b.childLanes=Q,null}function sI(y,b){return b=lI({mode:b.mode,children:b.children},y.mode),b.ref=y.ref,y.child=b,b.return=y,b}function Nz(y,b,x){return Yl(b,y.child,null,x),y=sI(b,b.pendingProps),y.flags|=2,Oi(b),b.memoizedState=null,y}function QEe(y,b,x){var M=b.pendingProps,Q=(b.flags&128)!==0;if(b.flags&=-129,y===null){if(fr){if(M.mode==="hidden")return y=sI(b,M),b.lanes=536870912,sv(null,y);if(N8(b),(y=on)?(y=QG(y,iu),y=y!==null&&y.data==="&"?y:null,y!==null&&(b.memoizedState={dehydrated:y,treeContext:wc!==null?{id:To,overflow:wo}:null,retryLane:536870912,hydrationErrors:null},x=fk(y),x.return=b,b.child=x,ya=b,on=null)):y=null,y===null)throw Ec(b);return b.lanes=536870912,null}return sI(b,M)}var z=y.memoizedState;if(z!==null){var ie=z.dehydrated;if(N8(b),Q)if(b.flags&256)b.flags&=-257,b=Nz(y,b,x);else if(b.memoizedState!==null)b.child=y.child,b.flags|=128,b=null;else throw Error(a(558));else if(Qn||kb(y,b,x,!1),Q=(x&y.childLanes)!==0,Qn||Q){if(M=Xr,M!==null&&(ie=tt(M,x),ie!==0&&ie!==z.retryLane))throw z.retryLane=ie,kl(y,ie),ci(M,y,ie),J8;vI(),b=Nz(y,b,x)}else y=z.treeContext,on=ou(ie.nextSibling),ya=b,fr=!0,Sc=null,iu=!1,y!==null&&yk(b,y),b=sI(b,M),b.flags|=4096;return b}return y=ms(y.child,{mode:M.mode,children:M.children}),y.ref=b.ref,b.child=y,y.return=b,y}function cI(y,b){var x=b.ref;if(x===null)y!==null&&y.ref!==null&&(b.flags|=4194816);else{if(typeof x!="function"&&typeof x!="object")throw Error(a(284));(y===null||y.ref!==x)&&(b.flags|=4194816)}}function W8(y,b,x,M,Q){return Xl(b),x=D8(y,b,x,M,void 0,Q),M=F8(),y!==null&&!Qn?(P8(y,b,Q),ws(y,b,Q)):(fr&&M&&f8(b),b.flags|=1,ba(y,b,x,Q),b.child)}function Iz(y,b,x,M,Q,z){return Xl(b),b.updateQueue=null,x=Pk(b,M,x,Q),Fk(y),M=F8(),y!==null&&!Qn?(P8(y,b,z),ws(y,b,z)):(fr&&M&&f8(b),b.flags|=1,ba(y,b,x,z),b.child)}function Dz(y,b,x,M,Q){if(Xl(b),b.stateNode===null){var z=Ub,ie=x.contextType;typeof ie=="object"&&ie!==null&&(z=ma(ie)),z=new x(M,z),b.memoizedState=z.state!==null&&z.state!==void 0?z.state:null,z.updater=X8,b.stateNode=z,z._reactInternals=b,z=b.stateNode,z.props=M,z.state=b.memoizedState,z.refs={},S8(b),ie=x.contextType,z.context=typeof ie=="object"&&ie!==null?ma(ie):Ub,z.state=b.memoizedState,ie=x.getDerivedStateFromProps,typeof ie=="function"&&($8(b,x,ie,M),z.state=b.memoizedState),typeof x.getDerivedStateFromProps=="function"||typeof z.getSnapshotBeforeUpdate=="function"||typeof z.UNSAFE_componentWillMount!="function"&&typeof z.componentWillMount!="function"||(ie=z.state,typeof z.componentWillMount=="function"&&z.componentWillMount(),typeof z.UNSAFE_componentWillMount=="function"&&z.UNSAFE_componentWillMount(),ie!==z.state&&X8.enqueueReplaceState(z,z.state,null),nv(b,M,z,Q),rv(),z.state=b.memoizedState),typeof z.componentDidMount=="function"&&(b.flags|=4194308),M=!0}else if(y===null){z=b.stateNode;var _e=b.memoizedProps,Be=ed(x,_e);z.props=Be;var et=z.context,ct=x.contextType;ie=Ub,typeof ct=="object"&&ct!==null&&(ie=ma(ct));var mt=x.getDerivedStateFromProps;ct=typeof mt=="function"||typeof z.getSnapshotBeforeUpdate=="function",_e=b.pendingProps!==_e,ct||typeof z.UNSAFE_componentWillReceiveProps!="function"&&typeof z.componentWillReceiveProps!="function"||(_e||et!==ie)&&bz(b,z,M,ie),Oc=!1;var rt=b.memoizedState;z.state=rt,nv(b,M,z,Q),rv(),et=b.memoizedState,_e||rt!==et||Oc?(typeof mt=="function"&&($8(b,x,mt,M),et=b.memoizedState),(Be=Oc||mz(b,x,Be,M,rt,et,ie))?(ct||typeof z.UNSAFE_componentWillMount!="function"&&typeof z.componentWillMount!="function"||(typeof z.componentWillMount=="function"&&z.componentWillMount(),typeof z.UNSAFE_componentWillMount=="function"&&z.UNSAFE_componentWillMount()),typeof z.componentDidMount=="function"&&(b.flags|=4194308)):(typeof z.componentDidMount=="function"&&(b.flags|=4194308),b.memoizedProps=M,b.memoizedState=et),z.props=M,z.state=et,z.context=ie,M=Be):(typeof z.componentDidMount=="function"&&(b.flags|=4194308),M=!1)}else{z=b.stateNode,E8(y,b),ie=b.memoizedProps,ct=ed(x,ie),z.props=ct,mt=b.pendingProps,rt=z.context,et=x.contextType,Be=Ub,typeof et=="object"&&et!==null&&(Be=ma(et)),_e=x.getDerivedStateFromProps,(et=typeof _e=="function"||typeof z.getSnapshotBeforeUpdate=="function")||typeof z.UNSAFE_componentWillReceiveProps!="function"&&typeof z.componentWillReceiveProps!="function"||(ie!==mt||rt!==Be)&&bz(b,z,M,Be),Oc=!1,rt=b.memoizedState,z.state=rt,nv(b,M,z,Q),rv();var ut=b.memoizedState;ie!==mt||rt!==ut||Oc||y!==null&&y.dependencies!==null&&kN(y.dependencies)?(typeof _e=="function"&&($8(b,x,_e,M),ut=b.memoizedState),(ct=Oc||mz(b,x,ct,M,rt,ut,Be)||y!==null&&y.dependencies!==null&&kN(y.dependencies))?(et||typeof z.UNSAFE_componentWillUpdate!="function"&&typeof z.componentWillUpdate!="function"||(typeof z.componentWillUpdate=="function"&&z.componentWillUpdate(M,ut,Be),typeof z.UNSAFE_componentWillUpdate=="function"&&z.UNSAFE_componentWillUpdate(M,ut,Be)),typeof z.componentDidUpdate=="function"&&(b.flags|=4),typeof z.getSnapshotBeforeUpdate=="function"&&(b.flags|=1024)):(typeof z.componentDidUpdate!="function"||ie===y.memoizedProps&&rt===y.memoizedState||(b.flags|=4),typeof z.getSnapshotBeforeUpdate!="function"||ie===y.memoizedProps&&rt===y.memoizedState||(b.flags|=1024),b.memoizedProps=M,b.memoizedState=ut),z.props=M,z.state=ut,z.context=Be,M=ct):(typeof z.componentDidUpdate!="function"||ie===y.memoizedProps&&rt===y.memoizedState||(b.flags|=4),typeof z.getSnapshotBeforeUpdate!="function"||ie===y.memoizedProps&&rt===y.memoizedState||(b.flags|=1024),M=!1)}return z=M,cI(y,b),M=(b.flags&128)!==0,z||M?(z=b.stateNode,x=M&&typeof x.getDerivedStateFromError!="function"?null:z.render(),b.flags|=1,y!==null&&M?(b.child=Yl(b,y.child,null,Q),b.child=Yl(b,null,x,Q)):ba(y,b,x,Q),b.memoizedState=z.state,y=b.child):y=ws(y,b,Q),y}function Fz(y,b,x,M){return Gl(),b.flags|=256,ba(y,b,x,M),b.child}var Y8={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Z8(y){return{baseLanes:y,cachePool:Tk()}}function e5(y,b,x){return y=y!==null?y.childLanes&~x:0,b&&(y|=Ri),y}function Pz(y,b,x){var M=b.pendingProps,Q=!1,z=(b.flags&128)!==0,ie;if((ie=z)||(ie=y!==null&&y.memoizedState===null?!1:(Pn.current&2)!==0),ie&&(Q=!0,b.flags&=-129),ie=(b.flags&32)!==0,b.flags&=-33,y===null){if(fr){if(Q?Nc(b):Ic(),(y=on)?(y=QG(y,iu),y=y!==null&&y.data!=="&"?y:null,y!==null&&(b.memoizedState={dehydrated:y,treeContext:wc!==null?{id:To,overflow:wo}:null,retryLane:536870912,hydrationErrors:null},x=fk(y),x.return=b,b.child=x,ya=b,on=null)):y=null,y===null)throw Ec(b);return C5(y)?b.lanes=32:b.lanes=536870912,null}var _e=M.children;return M=M.fallback,Q?(Ic(),Q=b.mode,_e=lI({mode:"hidden",children:_e},Q),M=zl(M,Q,x,null),_e.return=b,M.return=b,_e.sibling=M,b.child=_e,M=b.child,M.memoizedState=Z8(x),M.childLanes=e5(y,ie,x),b.memoizedState=Y8,sv(null,M)):(Nc(b),t5(b,_e))}var Be=y.memoizedState;if(Be!==null&&(_e=Be.dehydrated,_e!==null)){if(z)b.flags&256?(Nc(b),b.flags&=-257,b=r5(y,b,x)):b.memoizedState!==null?(Ic(),b.child=y.child,b.flags|=128,b=null):(Ic(),_e=M.fallback,Q=b.mode,M=lI({mode:"visible",children:M.children},Q),_e=zl(_e,Q,x,null),_e.flags|=2,M.return=b,_e.return=b,M.sibling=_e,b.child=M,Yl(b,y.child,null,x),M=b.child,M.memoizedState=Z8(x),M.childLanes=e5(y,ie,x),b.memoizedState=Y8,b=sv(null,M));else if(Nc(b),C5(_e)){if(ie=_e.nextSibling&&_e.nextSibling.dataset,ie)var et=ie.dgst;ie=et,M=Error(a(419)),M.stack="",M.digest=ie,J1({value:M,source:null,stack:null}),b=r5(y,b,x)}else if(Qn||kb(y,b,x,!1),ie=(x&y.childLanes)!==0,Qn||ie){if(ie=Xr,ie!==null&&(M=tt(ie,x),M!==0&&M!==Be.retryLane))throw Be.retryLane=M,kl(y,M),ci(ie,y,M),J8;M5(_e)||vI(),b=r5(y,b,x)}else M5(_e)?(b.flags|=192,b.child=y.child,b=null):(y=Be.treeContext,on=ou(_e.nextSibling),ya=b,fr=!0,Sc=null,iu=!1,y!==null&&yk(b,y),b=t5(b,M.children),b.flags|=4096);return b}return Q?(Ic(),_e=M.fallback,Q=b.mode,Be=y.child,et=Be.sibling,M=ms(Be,{mode:"hidden",children:M.children}),M.subtreeFlags=Be.subtreeFlags&65011712,et!==null?_e=ms(et,_e):(_e=zl(_e,Q,x,null),_e.flags|=2),_e.return=b,M.return=b,M.sibling=_e,b.child=M,sv(null,M),M=b.child,_e=y.child.memoizedState,_e===null?_e=Z8(x):(Q=_e.cachePool,Q!==null?(Be=Bn._currentValue,Q=Q.parent!==Be?{parent:Be,pool:Be}:Q):Q=Tk(),_e={baseLanes:_e.baseLanes|x,cachePool:Q}),M.memoizedState=_e,M.childLanes=e5(y,ie,x),b.memoizedState=Y8,sv(y.child,M)):(Nc(b),x=y.child,y=x.sibling,x=ms(x,{mode:"visible",children:M.children}),x.return=b,x.sibling=null,y!==null&&(ie=b.deletions,ie===null?(b.deletions=[y],b.flags|=16):ie.push(y)),b.child=x,b.memoizedState=null,x)}function t5(y,b){return b=lI({mode:"visible",children:b},y.mode),b.return=y,y.child=b}function lI(y,b){return y=Ei(22,y,null,b),y.lanes=0,y}function r5(y,b,x){return Yl(b,y.child,null,x),y=t5(b,b.pendingProps.children),y.flags|=2,b.memoizedState=null,y}function jz(y,b,x){y.lanes|=b;var M=y.alternate;M!==null&&(M.lanes|=b),b8(y.return,b,x)}function n5(y,b,x,M,Q,z){var ie=y.memoizedState;ie===null?y.memoizedState={isBackwards:b,rendering:null,renderingStartTime:0,last:M,tail:x,tailMode:Q,treeForkCount:z}:(ie.isBackwards=b,ie.rendering=null,ie.renderingStartTime=0,ie.last=M,ie.tail=x,ie.tailMode=Q,ie.treeForkCount=z)}function Mz(y,b,x){var M=b.pendingProps,Q=M.revealOrder,z=M.tail;M=M.children;var ie=Pn.current,_e=(ie&2)!==0;if(_e?(ie=ie&1|2,b.flags|=128):ie&=1,pe(Pn,ie),ba(y,b,M,x),M=fr?K1:0,!_e&&y!==null&&(y.flags&128)!==0)e:for(y=b.child;y!==null;){if(y.tag===13)y.memoizedState!==null&&jz(y,x,b);else if(y.tag===19)jz(y,x,b);else if(y.child!==null){y.child.return=y,y=y.child;continue}if(y===b)break e;for(;y.sibling===null;){if(y.return===null||y.return===b)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}switch(Q){case"forwards":for(x=b.child,Q=null;x!==null;)y=x.alternate,y!==null&&YN(y)===null&&(Q=x),x=x.sibling;x=Q,x===null?(Q=b.child,b.child=null):(Q=x.sibling,x.sibling=null),n5(b,!1,Q,x,z,M);break;case"backwards":case"unstable_legacy-backwards":for(x=null,Q=b.child,b.child=null;Q!==null;){if(y=Q.alternate,y!==null&&YN(y)===null){b.child=Q;break}y=Q.sibling,Q.sibling=x,x=Q,Q=y}n5(b,!0,x,null,z,M);break;case"together":n5(b,!1,null,null,void 0,M);break;default:b.memoizedState=null}return b.child}function ws(y,b,x){if(y!==null&&(b.dependencies=y.dependencies),Pc|=b.lanes,(x&b.childLanes)===0)if(y!==null){if(kb(y,b,x,!1),(x&b.childLanes)===0)return null}else return null;if(y!==null&&b.child!==y.child)throw Error(a(153));if(b.child!==null){for(y=b.child,x=ms(y,y.pendingProps),b.child=x,x.return=b;y.sibling!==null;)y=y.sibling,x=x.sibling=ms(y,y.pendingProps),x.return=b;x.sibling=null}return b.child}function a5(y,b){return(y.lanes&b)!==0?!0:(y=y.dependencies,!!(y!==null&&kN(y)))}function VEe(y,b,x){switch(b.tag){case 3:Oe(b,b.stateNode.containerInfo),Ac(b,Bn,y.memoizedState.cache),Gl();break;case 27:case 5:te(b);break;case 4:Oe(b,b.stateNode.containerInfo);break;case 10:Ac(b,b.type,b.memoizedProps.value);break;case 31:if(b.memoizedState!==null)return b.flags|=128,N8(b),null;break;case 13:var M=b.memoizedState;if(M!==null)return M.dehydrated!==null?(Nc(b),b.flags|=128,null):(x&b.child.childLanes)!==0?Pz(y,b,x):(Nc(b),y=ws(y,b,x),y!==null?y.sibling:null);Nc(b);break;case 19:var Q=(y.flags&128)!==0;if(M=(x&b.childLanes)!==0,M||(kb(y,b,x,!1),M=(x&b.childLanes)!==0),Q){if(M)return Mz(y,b,x);b.flags|=128}if(Q=b.memoizedState,Q!==null&&(Q.rendering=null,Q.tail=null,Q.lastEffect=null),pe(Pn,Pn.current),M)break;return null;case 22:return b.lanes=0,xz(y,b,x,b.pendingProps);case 24:Ac(b,Bn,y.memoizedState.cache)}return ws(y,b,x)}function Cz(y,b,x){if(y!==null)if(y.memoizedProps!==b.pendingProps)Qn=!0;else{if(!a5(y,x)&&(b.flags&128)===0)return Qn=!1,VEe(y,b,x);Qn=(y.flags&131072)!==0}else Qn=!1,fr&&(b.flags&1048576)!==0&&hk(b,K1,b.index);switch(b.lanes=0,b.tag){case 16:e:{var M=b.pendingProps;if(y=Jl(b.elementType),b.type=y,typeof y=="function")c8(y)?(M=ed(y,M),b.tag=1,b=Dz(null,b,y,M,x)):(b.tag=0,b=W8(null,b,y,M,x));else{if(y!=null){var Q=y.$$typeof;if(Q===E){b.tag=11,b=Ez(null,b,y,M,x);break e}else if(Q===j){b.tag=14,b=Az(null,b,y,M,x);break e}}throw b=B(y)||y,Error(a(306,b,""))}}return b;case 0:return W8(y,b,b.type,b.pendingProps,x);case 1:return M=b.type,Q=ed(M,b.pendingProps),Dz(y,b,M,Q,x);case 3:e:{if(Oe(b,b.stateNode.containerInfo),y===null)throw Error(a(387));M=b.pendingProps;var z=b.memoizedState;Q=z.element,E8(y,b),nv(b,M,null,x);var ie=b.memoizedState;if(M=ie.cache,Ac(b,Bn,M),M!==z.cache&&g8(b,[Bn],x,!0),rv(),M=ie.element,z.isDehydrated)if(z={element:M,isDehydrated:!1,cache:ie.cache},b.updateQueue.baseState=z,b.memoizedState=z,b.flags&256){b=Fz(y,b,M,x);break e}else if(M!==Q){Q=ru(Error(a(424)),b),J1(Q),b=Fz(y,b,M,x);break e}else for(y=b.stateNode.containerInfo,y.nodeType===9?y=y.body:y=y.nodeName==="HTML"?y.ownerDocument.body:y,on=ou(y.firstChild),ya=b,fr=!0,Sc=null,iu=!0,x=xk(b,null,M,x),b.child=x;x;)x.flags=x.flags&-3|4096,x=x.sibling;else{if(Gl(),M===Q){b=ws(y,b,x);break e}ba(y,b,M,x)}b=b.child}return b;case 26:return cI(y,b),y===null?(x=$G(b.type,null,b.pendingProps,null))?b.memoizedState=x:fr||(x=b.type,y=b.pendingProps,M=OI(Ae.current).createElement(x),M[wt]=b,M[gt]=y,ga(M,x,y),yr(M),b.stateNode=M):b.memoizedState=$G(b.type,y.memoizedProps,b.pendingProps,y.memoizedState),null;case 27:return te(b),y===null&&fr&&(M=b.stateNode=kG(b.type,b.pendingProps,Ae.current),ya=b,iu=!0,Q=on,qc(b.type)?(L5=Q,on=ou(M.firstChild)):on=Q),ba(y,b,b.pendingProps.children,x),cI(y,b),y===null&&(b.flags|=4194304),b.child;case 5:return y===null&&fr&&((Q=M=on)&&(M=gAe(M,b.type,b.pendingProps,iu),M!==null?(b.stateNode=M,ya=b,on=ou(M.firstChild),iu=!1,Q=!0):Q=!1),Q||Ec(b)),te(b),Q=b.type,z=b.pendingProps,ie=y!==null?y.memoizedProps:null,M=z.children,F5(Q,z)?M=null:ie!==null&&F5(Q,ie)&&(b.flags|=32),b.memoizedState!==null&&(Q=D8(y,b,PEe,null,null,x),Sv._currentValue=Q),cI(y,b),ba(y,b,M,x),b.child;case 6:return y===null&&fr&&((y=x=on)&&(x=vAe(x,b.pendingProps,iu),x!==null?(b.stateNode=x,ya=b,on=null,y=!0):y=!1),y||Ec(b)),null;case 13:return Pz(y,b,x);case 4:return Oe(b,b.stateNode.containerInfo),M=b.pendingProps,y===null?b.child=Yl(b,null,M,x):ba(y,b,M,x),b.child;case 11:return Ez(y,b,b.type,b.pendingProps,x);case 7:return ba(y,b,b.pendingProps,x),b.child;case 8:return ba(y,b,b.pendingProps.children,x),b.child;case 12:return ba(y,b,b.pendingProps.children,x),b.child;case 10:return M=b.pendingProps,Ac(b,b.type,M.value),ba(y,b,M.children,x),b.child;case 9:return Q=b.type._context,M=b.pendingProps.children,Xl(b),Q=ma(Q),M=M(Q),b.flags|=1,ba(y,b,M,x),b.child;case 14:return Az(y,b,b.type,b.pendingProps,x);case 15:return Oz(y,b,b.type,b.pendingProps,x);case 19:return Mz(y,b,x);case 31:return QEe(y,b,x);case 22:return xz(y,b,x,b.pendingProps);case 24:return Xl(b),M=ma(Bn),y===null?(Q=T8(),Q===null&&(Q=Xr,z=v8(),Q.pooledCache=z,z.refCount++,z!==null&&(Q.pooledCacheLanes|=x),Q=z),b.memoizedState={parent:M,cache:Q},S8(b),Ac(b,Bn,Q)):((y.lanes&x)!==0&&(E8(y,b),nv(b,null,null,x),rv()),Q=y.memoizedState,z=b.memoizedState,Q.parent!==M?(Q={parent:M,cache:M},b.memoizedState=Q,b.lanes===0&&(b.memoizedState=b.updateQueue.baseState=Q),Ac(b,Bn,M)):(M=z.cache,Ac(b,Bn,M),M!==Q.cache&&g8(b,[Bn],x,!0))),ba(y,b,b.pendingProps.children,x),b.child;case 29:throw b.pendingProps}throw Error(a(156,b.tag))}function Ss(y){y.flags|=4}function i5(y,b,x,M,Q){if((b=(y.mode&32)!==0)&&(b=!1),b){if(y.flags|=16777216,(Q&335544128)===Q)if(y.stateNode.complete)y.flags|=8192;else if(cG())y.flags|=8192;else throw Wl=XN,w8}else y.flags&=-16777217}function Lz(y,b){if(b.type!=="stylesheet"||(b.state.loading&4)!==0)y.flags&=-16777217;else if(y.flags|=16777216,!YG(b))if(cG())y.flags|=8192;else throw Wl=XN,w8}function dI(y,b){b!==null&&(y.flags|=4),y.flags&16384&&(b=y.tag!==22?fe():536870912,y.lanes|=b,rg|=b)}function cv(y,b){if(!fr)switch(y.tailMode){case"hidden":b=y.tail;for(var x=null;b!==null;)b.alternate!==null&&(x=b),b=b.sibling;x===null?y.tail=null:x.sibling=null;break;case"collapsed":x=y.tail;for(var M=null;x!==null;)x.alternate!==null&&(M=x),x=x.sibling;M===null?b||y.tail===null?y.tail=null:y.tail.sibling=null:M.sibling=null}}function sn(y){var b=y.alternate!==null&&y.alternate.child===y.child,x=0,M=0;if(b)for(var Q=y.child;Q!==null;)x|=Q.lanes|Q.childLanes,M|=Q.subtreeFlags&65011712,M|=Q.flags&65011712,Q.return=y,Q=Q.sibling;else for(Q=y.child;Q!==null;)x|=Q.lanes|Q.childLanes,M|=Q.subtreeFlags,M|=Q.flags,Q.return=y,Q=Q.sibling;return y.subtreeFlags|=M,y.childLanes=x,b}function HEe(y,b,x){var M=b.pendingProps;switch(p8(b),b.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return sn(b),null;case 1:return sn(b),null;case 3:return x=b.stateNode,M=null,y!==null&&(M=y.memoizedState.cache),b.memoizedState.cache!==M&&(b.flags|=2048),vs(Bn),be(),x.pendingContext&&(x.context=x.pendingContext,x.pendingContext=null),(y===null||y.child===null)&&(Hb(b)?Ss(b):y===null||y.memoizedState.isDehydrated&&(b.flags&256)===0||(b.flags|=1024,y8())),sn(b),null;case 26:var Q=b.type,z=b.memoizedState;return y===null?(Ss(b),z!==null?(sn(b),Lz(b,z)):(sn(b),i5(b,Q,null,M,x))):z?z!==y.memoizedState?(Ss(b),sn(b),Lz(b,z)):(sn(b),b.flags&=-16777217):(y=y.memoizedProps,y!==M&&Ss(b),sn(b),i5(b,Q,y,M,x)),null;case 27:if(v(b),x=Ae.current,Q=b.type,y!==null&&b.stateNode!=null)y.memoizedProps!==M&&Ss(b);else{if(!M){if(b.stateNode===null)throw Error(a(166));return sn(b),null}y=le.current,Hb(b)?mk(b):(y=kG(Q,M,x),b.stateNode=y,Ss(b))}return sn(b),null;case 5:if(v(b),Q=b.type,y!==null&&b.stateNode!=null)y.memoizedProps!==M&&Ss(b);else{if(!M){if(b.stateNode===null)throw Error(a(166));return sn(b),null}if(z=le.current,Hb(b))mk(b);else{var ie=OI(Ae.current);switch(z){case 1:z=ie.createElementNS("http://www.w3.org/2000/svg",Q);break;case 2:z=ie.createElementNS("http://www.w3.org/1998/Math/MathML",Q);break;default:switch(Q){case"svg":z=ie.createElementNS("http://www.w3.org/2000/svg",Q);break;case"math":z=ie.createElementNS("http://www.w3.org/1998/Math/MathML",Q);break;case"script":z=ie.createElement("div"),z.innerHTML="<script><\/script>",z=z.removeChild(z.firstChild);break;case"select":z=typeof M.is=="string"?ie.createElement("select",{is:M.is}):ie.createElement("select"),M.multiple?z.multiple=!0:M.size&&(z.size=M.size);break;default:z=typeof M.is=="string"?ie.createElement(Q,{is:M.is}):ie.createElement(Q)}}z[wt]=b,z[gt]=M;e:for(ie=b.child;ie!==null;){if(ie.tag===5||ie.tag===6)z.appendChild(ie.stateNode);else if(ie.tag!==4&&ie.tag!==27&&ie.child!==null){ie.child.return=ie,ie=ie.child;continue}if(ie===b)break e;for(;ie.sibling===null;){if(ie.return===null||ie.return===b)break e;ie=ie.return}ie.sibling.return=ie.return,ie=ie.sibling}b.stateNode=z;e:switch(ga(z,Q,M),Q){case"button":case"input":case"select":case"textarea":M=!!M.autoFocus;break e;case"img":M=!0;break e;default:M=!1}M&&Ss(b)}}return sn(b),i5(b,b.type,y===null?null:y.memoizedProps,b.pendingProps,x),null;case 6:if(y&&b.stateNode!=null)y.memoizedProps!==M&&Ss(b);else{if(typeof M!="string"&&b.stateNode===null)throw Error(a(166));if(y=Ae.current,Hb(b)){if(y=b.stateNode,x=b.memoizedProps,M=null,Q=ya,Q!==null)switch(Q.tag){case 27:case 5:M=Q.memoizedProps}y[wt]=b,y=!!(y.nodeValue===x||M!==null&&M.suppressHydrationWarning===!0||PG(y.nodeValue,x)),y||Ec(b,!0)}else y=OI(y).createTextNode(M),y[wt]=b,b.stateNode=y}return sn(b),null;case 31:if(x=b.memoizedState,y===null||y.memoizedState!==null){if(M=Hb(b),x!==null){if(y===null){if(!M)throw Error(a(318));if(y=b.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(a(557));y[wt]=b}else Gl(),(b.flags&128)===0&&(b.memoizedState=null),b.flags|=4;sn(b),y=!1}else x=y8(),y!==null&&y.memoizedState!==null&&(y.memoizedState.hydrationErrors=x),y=!0;if(!y)return b.flags&256?(Oi(b),b):(Oi(b),null);if((b.flags&128)!==0)throw Error(a(558))}return sn(b),null;case 13:if(M=b.memoizedState,y===null||y.memoizedState!==null&&y.memoizedState.dehydrated!==null){if(Q=Hb(b),M!==null&&M.dehydrated!==null){if(y===null){if(!Q)throw Error(a(318));if(Q=b.memoizedState,Q=Q!==null?Q.dehydrated:null,!Q)throw Error(a(317));Q[wt]=b}else Gl(),(b.flags&128)===0&&(b.memoizedState=null),b.flags|=4;sn(b),Q=!1}else Q=y8(),y!==null&&y.memoizedState!==null&&(y.memoizedState.hydrationErrors=Q),Q=!0;if(!Q)return b.flags&256?(Oi(b),b):(Oi(b),null)}return Oi(b),(b.flags&128)!==0?(b.lanes=x,b):(x=M!==null,y=y!==null&&y.memoizedState!==null,x&&(M=b.child,Q=null,M.alternate!==null&&M.alternate.memoizedState!==null&&M.alternate.memoizedState.cachePool!==null&&(Q=M.alternate.memoizedState.cachePool.pool),z=null,M.memoizedState!==null&&M.memoizedState.cachePool!==null&&(z=M.memoizedState.cachePool.pool),z!==Q&&(M.flags|=2048)),x!==y&&x&&(b.child.flags|=8192),dI(b,b.updateQueue),sn(b),null);case 4:return be(),y===null&&x5(b.stateNode.containerInfo),sn(b),null;case 10:return vs(b.type),sn(b),null;case 19:if(se(Pn),M=b.memoizedState,M===null)return sn(b),null;if(Q=(b.flags&128)!==0,z=M.rendering,z===null)if(Q)cv(M,!1);else{if(Dn!==0||y!==null&&(y.flags&128)!==0)for(y=b.child;y!==null;){if(z=YN(y),z!==null){for(b.flags|=128,cv(M,!1),y=z.updateQueue,b.updateQueue=y,dI(b,y),b.subtreeFlags=0,y=x,x=b.child;x!==null;)dk(x,y),x=x.sibling;return pe(Pn,Pn.current&1|2),fr&&bs(b,M.treeForkCount),b.child}y=y.sibling}M.tail!==null&&He()>mI&&(b.flags|=128,Q=!0,cv(M,!1),b.lanes=4194304)}else{if(!Q)if(y=YN(z),y!==null){if(b.flags|=128,Q=!0,y=y.updateQueue,b.updateQueue=y,dI(b,y),cv(M,!0),M.tail===null&&M.tailMode==="hidden"&&!z.alternate&&!fr)return sn(b),null}else 2*He()-M.renderingStartTime>mI&&x!==536870912&&(b.flags|=128,Q=!0,cv(M,!1),b.lanes=4194304);M.isBackwards?(z.sibling=b.child,b.child=z):(y=M.last,y!==null?y.sibling=z:b.child=z,M.last=z)}return M.tail!==null?(y=M.tail,M.rendering=y,M.tail=y.sibling,M.renderingStartTime=He(),y.sibling=null,x=Pn.current,pe(Pn,Q?x&1|2:x&1),fr&&bs(b,M.treeForkCount),y):(sn(b),null);case 22:case 23:return Oi(b),R8(),M=b.memoizedState!==null,y!==null?y.memoizedState!==null!==M&&(b.flags|=8192):M&&(b.flags|=8192),M?(x&536870912)!==0&&(b.flags&128)===0&&(sn(b),b.subtreeFlags&6&&(b.flags|=8192)):sn(b),x=b.updateQueue,x!==null&&dI(b,x.retryQueue),x=null,y!==null&&y.memoizedState!==null&&y.memoizedState.cachePool!==null&&(x=y.memoizedState.cachePool.pool),M=null,b.memoizedState!==null&&b.memoizedState.cachePool!==null&&(M=b.memoizedState.cachePool.pool),M!==x&&(b.flags|=2048),y!==null&&se(Kl),null;case 24:return x=null,y!==null&&(x=y.memoizedState.cache),b.memoizedState.cache!==x&&(b.flags|=2048),vs(Bn),sn(b),null;case 25:return null;case 30:return null}throw Error(a(156,b.tag))}function kEe(y,b){switch(p8(b),b.tag){case 1:return y=b.flags,y&65536?(b.flags=y&-65537|128,b):null;case 3:return vs(Bn),be(),y=b.flags,(y&65536)!==0&&(y&128)===0?(b.flags=y&-65537|128,b):null;case 26:case 27:case 5:return v(b),null;case 31:if(b.memoizedState!==null){if(Oi(b),b.alternate===null)throw Error(a(340));Gl()}return y=b.flags,y&65536?(b.flags=y&-65537|128,b):null;case 13:if(Oi(b),y=b.memoizedState,y!==null&&y.dehydrated!==null){if(b.alternate===null)throw Error(a(340));Gl()}return y=b.flags,y&65536?(b.flags=y&-65537|128,b):null;case 19:return se(Pn),null;case 4:return be(),null;case 10:return vs(b.type),null;case 22:case 23:return Oi(b),R8(),y!==null&&se(Kl),y=b.flags,y&65536?(b.flags=y&-65537|128,b):null;case 24:return vs(Bn),null;case 25:return null;default:return null}}function qz(y,b){switch(p8(b),b.tag){case 3:vs(Bn),be();break;case 26:case 27:case 5:v(b);break;case 4:be();break;case 31:b.memoizedState!==null&&Oi(b);break;case 13:Oi(b);break;case 19:se(Pn);break;case 10:vs(b.type);break;case 22:case 23:Oi(b),R8(),y!==null&&se(Kl);break;case 24:vs(Bn)}}function lv(y,b){try{var x=b.updateQueue,M=x!==null?x.lastEffect:null;if(M!==null){var Q=M.next;x=Q;do{if((x.tag&y)===y){M=void 0;var z=x.create,ie=x.inst;M=z(),ie.destroy=M}x=x.next}while(x!==Q)}}catch(_e){Ur(b,b.return,_e)}}function Dc(y,b,x){try{var M=b.updateQueue,Q=M!==null?M.lastEffect:null;if(Q!==null){var z=Q.next;M=z;do{if((M.tag&y)===y){var ie=M.inst,_e=ie.destroy;if(_e!==void 0){ie.destroy=void 0,Q=b;var Be=x,et=_e;try{et()}catch(ct){Ur(Q,Be,ct)}}}M=M.next}while(M!==z)}}catch(ct){Ur(b,b.return,ct)}}function Bz(y){var b=y.updateQueue;if(b!==null){var x=y.stateNode;try{Nk(b,x)}catch(M){Ur(y,y.return,M)}}}function Uz(y,b,x){x.props=ed(y.type,y.memoizedProps),x.state=y.memoizedState;try{x.componentWillUnmount()}catch(M){Ur(y,b,M)}}function dv(y,b){try{var x=y.ref;if(x!==null){switch(y.tag){case 26:case 27:case 5:var M=y.stateNode;break;case 30:M=y.stateNode;break;default:M=y.stateNode}typeof x=="function"?y.refCleanup=x(M):x.current=M}}catch(Q){Ur(y,b,Q)}}function So(y,b){var x=y.ref,M=y.refCleanup;if(x!==null)if(typeof M=="function")try{M()}catch(Q){Ur(y,b,Q)}finally{y.refCleanup=null,y=y.alternate,y!=null&&(y.refCleanup=null)}else if(typeof x=="function")try{x(null)}catch(Q){Ur(y,b,Q)}else x.current=null}function Qz(y){var b=y.type,x=y.memoizedProps,M=y.stateNode;try{e:switch(b){case"button":case"input":case"select":case"textarea":x.autoFocus&&M.focus();break e;case"img":x.src?M.src=x.src:x.srcSet&&(M.srcset=x.srcSet)}}catch(Q){Ur(y,y.return,Q)}}function u5(y,b,x){try{var M=y.stateNode;fAe(M,y.type,x,b),M[gt]=b}catch(Q){Ur(y,y.return,Q)}}function Vz(y){return y.tag===5||y.tag===3||y.tag===26||y.tag===27&&qc(y.type)||y.tag===4}function o5(y){e:for(;;){for(;y.sibling===null;){if(y.return===null||Vz(y.return))return null;y=y.return}for(y.sibling.return=y.return,y=y.sibling;y.tag!==5&&y.tag!==6&&y.tag!==18;){if(y.tag===27&&qc(y.type)||y.flags&2||y.child===null||y.tag===4)continue e;y.child.return=y,y=y.child}if(!(y.flags&2))return y.stateNode}}function s5(y,b,x){var M=y.tag;if(M===5||M===6)y=y.stateNode,b?(x.nodeType===9?x.body:x.nodeName==="HTML"?x.ownerDocument.body:x).insertBefore(y,b):(b=x.nodeType===9?x.body:x.nodeName==="HTML"?x.ownerDocument.body:x,b.appendChild(y),x=x._reactRootContainer,x!=null||b.onclick!==null||(b.onclick=$i));else if(M!==4&&(M===27&&qc(y.type)&&(x=y.stateNode,b=null),y=y.child,y!==null))for(s5(y,b,x),y=y.sibling;y!==null;)s5(y,b,x),y=y.sibling}function fI(y,b,x){var M=y.tag;if(M===5||M===6)y=y.stateNode,b?x.insertBefore(y,b):x.appendChild(y);else if(M!==4&&(M===27&&qc(y.type)&&(x=y.stateNode),y=y.child,y!==null))for(fI(y,b,x),y=y.sibling;y!==null;)fI(y,b,x),y=y.sibling}function Hz(y){var b=y.stateNode,x=y.memoizedProps;try{for(var M=y.type,Q=b.attributes;Q.length;)b.removeAttributeNode(Q[0]);ga(b,M,x),b[wt]=y,b[gt]=x}catch(z){Ur(y,y.return,z)}}var Es=!1,Vn=!1,c5=!1,kz=typeof WeakSet=="function"?WeakSet:Set,ia=null;function zEe(y,b){if(y=y.containerInfo,I5=PI,y=Vl(y),Tc(y)){if("selectionStart"in y)var x={start:y.selectionStart,end:y.selectionEnd};else e:{x=(x=y.ownerDocument)&&x.defaultView||window;var M=x.getSelection&&x.getSelection();if(M&&M.rangeCount!==0){x=M.anchorNode;var Q=M.anchorOffset,z=M.focusNode;M=M.focusOffset;try{x.nodeType,z.nodeType}catch{x=null;break e}var ie=0,_e=-1,Be=-1,et=0,ct=0,mt=y,rt=null;t:for(;;){for(var ut;mt!==x||Q!==0&&mt.nodeType!==3||(_e=ie+Q),mt!==z||M!==0&&mt.nodeType!==3||(Be=ie+M),mt.nodeType===3&&(ie+=mt.nodeValue.length),(ut=mt.firstChild)!==null;)rt=mt,mt=ut;for(;;){if(mt===y)break t;if(rt===x&&++et===Q&&(_e=ie),rt===z&&++ct===M&&(Be=ie),(ut=mt.nextSibling)!==null)break;mt=rt,rt=mt.parentNode}mt=ut}x=_e===-1||Be===-1?null:{start:_e,end:Be}}else x=null}x=x||{start:0,end:0}}else x=null;for(D5={focusedElem:y,selectionRange:x},PI=!1,ia=b;ia!==null;)if(b=ia,y=b.child,(b.subtreeFlags&1028)!==0&&y!==null)y.return=b,ia=y;else for(;ia!==null;){switch(b=ia,z=b.alternate,y=b.flags,b.tag){case 0:if((y&4)!==0&&(y=b.updateQueue,y=y!==null?y.events:null,y!==null))for(x=0;x<y.length;x++)Q=y[x],Q.ref.impl=Q.nextImpl;break;case 11:case 15:break;case 1:if((y&1024)!==0&&z!==null){y=void 0,x=b,Q=z.memoizedProps,z=z.memoizedState,M=x.stateNode;try{var It=ed(x.type,Q);y=M.getSnapshotBeforeUpdate(It,z),M.__reactInternalSnapshotBeforeUpdate=y}catch(Ut){Ur(x,x.return,Ut)}}break;case 3:if((y&1024)!==0){if(y=b.stateNode.containerInfo,x=y.nodeType,x===9)j5(y);else if(x===1)switch(y.nodeName){case"HEAD":case"HTML":case"BODY":j5(y);break;default:y.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((y&1024)!==0)throw Error(a(163))}if(y=b.sibling,y!==null){y.return=b.return,ia=y;break}ia=b.return}}function zz(y,b,x){var M=x.flags;switch(x.tag){case 0:case 11:case 15:Os(y,x),M&4&&lv(5,x);break;case 1:if(Os(y,x),M&4)if(y=x.stateNode,b===null)try{y.componentDidMount()}catch(ie){Ur(x,x.return,ie)}else{var Q=ed(x.type,b.memoizedProps);b=b.memoizedState;try{y.componentDidUpdate(Q,b,y.__reactInternalSnapshotBeforeUpdate)}catch(ie){Ur(x,x.return,ie)}}M&64&&Bz(x),M&512&&dv(x,x.return);break;case 3:if(Os(y,x),M&64&&(y=x.updateQueue,y!==null)){if(b=null,x.child!==null)switch(x.child.tag){case 27:case 5:b=x.child.stateNode;break;case 1:b=x.child.stateNode}try{Nk(y,b)}catch(ie){Ur(x,x.return,ie)}}break;case 27:b===null&&M&4&&Hz(x);case 26:case 5:Os(y,x),b===null&&M&4&&Qz(x),M&512&&dv(x,x.return);break;case 12:Os(y,x);break;case 31:Os(y,x),M&4&&Xz(y,x);break;case 13:Os(y,x),M&4&&Kz(y,x),M&64&&(y=x.memoizedState,y!==null&&(y=y.dehydrated,y!==null&&(x=eAe.bind(null,x),_Ae(y,x))));break;case 22:if(M=x.memoizedState!==null||Es,!M){b=b!==null&&b.memoizedState!==null||Vn,Q=Es;var z=Vn;Es=M,(Vn=b)&&!z?xs(y,x,(x.subtreeFlags&8772)!==0):Os(y,x),Es=Q,Vn=z}break;case 30:break;default:Os(y,x)}}function Gz(y){var b=y.alternate;b!==null&&(y.alternate=null,Gz(b)),y.child=null,y.deletions=null,y.sibling=null,y.tag===5&&(b=y.stateNode,b!==null&&St(b)),y.stateNode=null,y.return=null,y.dependencies=null,y.memoizedProps=null,y.memoizedState=null,y.pendingProps=null,y.stateNode=null,y.updateQueue=null}var gn=null,ii=!1;function As(y,b,x){for(x=x.child;x!==null;)$z(y,b,x),x=x.sibling}function $z(y,b,x){if(Ie&&typeof Ie.onCommitFiberUnmount=="function")try{Ie.onCommitFiberUnmount(re,x)}catch{}switch(x.tag){case 26:Vn||So(x,b),As(y,b,x),x.memoizedState?x.memoizedState.count--:x.stateNode&&(x=x.stateNode,x.parentNode.removeChild(x));break;case 27:Vn||So(x,b);var M=gn,Q=ii;qc(x.type)&&(gn=x.stateNode,ii=!1),As(y,b,x),_v(x.stateNode),gn=M,ii=Q;break;case 5:Vn||So(x,b);case 6:if(M=gn,Q=ii,gn=null,As(y,b,x),gn=M,ii=Q,gn!==null)if(ii)try{(gn.nodeType===9?gn.body:gn.nodeName==="HTML"?gn.ownerDocument.body:gn).removeChild(x.stateNode)}catch(z){Ur(x,b,z)}else try{gn.removeChild(x.stateNode)}catch(z){Ur(x,b,z)}break;case 18:gn!==null&&(ii?(y=gn,BG(y.nodeType===9?y.body:y.nodeName==="HTML"?y.ownerDocument.body:y,x.stateNode),lg(y)):BG(gn,x.stateNode));break;case 4:M=gn,Q=ii,gn=x.stateNode.containerInfo,ii=!0,As(y,b,x),gn=M,ii=Q;break;case 0:case 11:case 14:case 15:Dc(2,x,b),Vn||Dc(4,x,b),As(y,b,x);break;case 1:Vn||(So(x,b),M=x.stateNode,typeof M.componentWillUnmount=="function"&&Uz(x,b,M)),As(y,b,x);break;case 21:As(y,b,x);break;case 22:Vn=(M=Vn)||x.memoizedState!==null,As(y,b,x),Vn=M;break;default:As(y,b,x)}}function Xz(y,b){if(b.memoizedState===null&&(y=b.alternate,y!==null&&(y=y.memoizedState,y!==null))){y=y.dehydrated;try{lg(y)}catch(x){Ur(b,b.return,x)}}}function Kz(y,b){if(b.memoizedState===null&&(y=b.alternate,y!==null&&(y=y.memoizedState,y!==null&&(y=y.dehydrated,y!==null))))try{lg(y)}catch(x){Ur(b,b.return,x)}}function GEe(y){switch(y.tag){case 31:case 13:case 19:var b=y.stateNode;return b===null&&(b=y.stateNode=new kz),b;case 22:return y=y.stateNode,b=y._retryCache,b===null&&(b=y._retryCache=new kz),b;default:throw Error(a(435,y.tag))}}function pI(y,b){var x=GEe(y);b.forEach(function(M){if(!x.has(M)){x.add(M);var Q=tAe.bind(null,y,M);M.then(Q,Q)}})}function ui(y,b){var x=b.deletions;if(x!==null)for(var M=0;M<x.length;M++){var Q=x[M],z=y,ie=b,_e=ie;e:for(;_e!==null;){switch(_e.tag){case 27:if(qc(_e.type)){gn=_e.stateNode,ii=!1;break e}break;case 5:gn=_e.stateNode,ii=!1;break e;case 3:case 4:gn=_e.stateNode.containerInfo,ii=!0;break e}_e=_e.return}if(gn===null)throw Error(a(160));$z(z,ie,Q),gn=null,ii=!1,z=Q.alternate,z!==null&&(z.return=null),Q.return=null}if(b.subtreeFlags&13886)for(b=b.child;b!==null;)Jz(b,y),b=b.sibling}var Pu=null;function Jz(y,b){var x=y.alternate,M=y.flags;switch(y.tag){case 0:case 11:case 14:case 15:ui(b,y),oi(y),M&4&&(Dc(3,y,y.return),lv(3,y),Dc(5,y,y.return));break;case 1:ui(b,y),oi(y),M&512&&(Vn||x===null||So(x,x.return)),M&64&&Es&&(y=y.updateQueue,y!==null&&(M=y.callbacks,M!==null&&(x=y.shared.hiddenCallbacks,y.shared.hiddenCallbacks=x===null?M:x.concat(M))));break;case 26:var Q=Pu;if(ui(b,y),oi(y),M&512&&(Vn||x===null||So(x,x.return)),M&4){var z=x!==null?x.memoizedState:null;if(M=y.memoizedState,x===null)if(M===null)if(y.stateNode===null){e:{M=y.type,x=y.memoizedProps,Q=Q.ownerDocument||Q;t:switch(M){case"title":z=Q.getElementsByTagName("title")[0],(!z||z[vt]||z[wt]||z.namespaceURI==="http://www.w3.org/2000/svg"||z.hasAttribute("itemprop"))&&(z=Q.createElement(M),Q.head.insertBefore(z,Q.querySelector("head > title"))),ga(z,M,x),z[wt]=y,yr(z),M=z;break e;case"link":var ie=JG("link","href",Q).get(M+(x.href||""));if(ie){for(var _e=0;_e<ie.length;_e++)if(z=ie[_e],z.getAttribute("href")===(x.href==null||x.href===""?null:x.href)&&z.getAttribute("rel")===(x.rel==null?null:x.rel)&&z.getAttribute("title")===(x.title==null?null:x.title)&&z.getAttribute("crossorigin")===(x.crossOrigin==null?null:x.crossOrigin)){ie.splice(_e,1);break t}}z=Q.createElement(M),ga(z,M,x),Q.head.appendChild(z);break;case"meta":if(ie=JG("meta","content",Q).get(M+(x.content||""))){for(_e=0;_e<ie.length;_e++)if(z=ie[_e],z.getAttribute("content")===(x.content==null?null:""+x.content)&&z.getAttribute("name")===(x.name==null?null:x.name)&&z.getAttribute("property")===(x.property==null?null:x.property)&&z.getAttribute("http-equiv")===(x.httpEquiv==null?null:x.httpEquiv)&&z.getAttribute("charset")===(x.charSet==null?null:x.charSet)){ie.splice(_e,1);break t}}z=Q.createElement(M),ga(z,M,x),Q.head.appendChild(z);break;default:throw Error(a(468,M))}z[wt]=y,yr(z),M=z}y.stateNode=M}else WG(Q,y.type,y.stateNode);else y.stateNode=KG(Q,M,y.memoizedProps);else z!==M?(z===null?x.stateNode!==null&&(x=x.stateNode,x.parentNode.removeChild(x)):z.count--,M===null?WG(Q,y.type,y.stateNode):KG(Q,M,y.memoizedProps)):M===null&&y.stateNode!==null&&u5(y,y.memoizedProps,x.memoizedProps)}break;case 27:ui(b,y),oi(y),M&512&&(Vn||x===null||So(x,x.return)),x!==null&&M&4&&u5(y,y.memoizedProps,x.memoizedProps);break;case 5:if(ui(b,y),oi(y),M&512&&(Vn||x===null||So(x,x.return)),y.flags&32){Q=y.stateNode;try{rs(Q,"")}catch(It){Ur(y,y.return,It)}}M&4&&y.stateNode!=null&&(Q=y.memoizedProps,u5(y,Q,x!==null?x.memoizedProps:Q)),M&1024&&(c5=!0);break;case 6:if(ui(b,y),oi(y),M&4){if(y.stateNode===null)throw Error(a(162));M=y.memoizedProps,x=y.stateNode;try{x.nodeValue=M}catch(It){Ur(y,y.return,It)}}break;case 3:if(NI=null,Q=Pu,Pu=xI(b.containerInfo),ui(b,y),Pu=Q,oi(y),M&4&&x!==null&&x.memoizedState.isDehydrated)try{lg(b.containerInfo)}catch(It){Ur(y,y.return,It)}c5&&(c5=!1,Wz(y));break;case 4:M=Pu,Pu=xI(y.stateNode.containerInfo),ui(b,y),oi(y),Pu=M;break;case 12:ui(b,y),oi(y);break;case 31:ui(b,y),oi(y),M&4&&(M=y.updateQueue,M!==null&&(y.updateQueue=null,pI(y,M)));break;case 13:ui(b,y),oi(y),y.child.flags&8192&&y.memoizedState!==null!=(x!==null&&x.memoizedState!==null)&&(yI=He()),M&4&&(M=y.updateQueue,M!==null&&(y.updateQueue=null,pI(y,M)));break;case 22:Q=y.memoizedState!==null;var Be=x!==null&&x.memoizedState!==null,et=Es,ct=Vn;if(Es=et||Q,Vn=ct||Be,ui(b,y),Vn=ct,Es=et,oi(y),M&8192)e:for(b=y.stateNode,b._visibility=Q?b._visibility&-2:b._visibility|1,Q&&(x===null||Be||Es||Vn||td(y)),x=null,b=y;;){if(b.tag===5||b.tag===26){if(x===null){Be=x=b;try{if(z=Be.stateNode,Q)ie=z.style,typeof ie.setProperty=="function"?ie.setProperty("display","none","important"):ie.display="none";else{_e=Be.stateNode;var mt=Be.memoizedProps.style,rt=mt!=null&&mt.hasOwnProperty("display")?mt.display:null;_e.style.display=rt==null||typeof rt=="boolean"?"":(""+rt).trim()}}catch(It){Ur(Be,Be.return,It)}}}else if(b.tag===6){if(x===null){Be=b;try{Be.stateNode.nodeValue=Q?"":Be.memoizedProps}catch(It){Ur(Be,Be.return,It)}}}else if(b.tag===18){if(x===null){Be=b;try{var ut=Be.stateNode;Q?UG(ut,!0):UG(Be.stateNode,!1)}catch(It){Ur(Be,Be.return,It)}}}else if((b.tag!==22&&b.tag!==23||b.memoizedState===null||b===y)&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===y)break e;for(;b.sibling===null;){if(b.return===null||b.return===y)break e;x===b&&(x=null),b=b.return}x===b&&(x=null),b.sibling.return=b.return,b=b.sibling}M&4&&(M=y.updateQueue,M!==null&&(x=M.retryQueue,x!==null&&(M.retryQueue=null,pI(y,x))));break;case 19:ui(b,y),oi(y),M&4&&(M=y.updateQueue,M!==null&&(y.updateQueue=null,pI(y,M)));break;case 30:break;case 21:break;default:ui(b,y),oi(y)}}function oi(y){var b=y.flags;if(b&2){try{for(var x,M=y.return;M!==null;){if(Vz(M)){x=M;break}M=M.return}if(x==null)throw Error(a(160));switch(x.tag){case 27:var Q=x.stateNode,z=o5(y);fI(y,z,Q);break;case 5:var ie=x.stateNode;x.flags&32&&(rs(ie,""),x.flags&=-33);var _e=o5(y);fI(y,_e,ie);break;case 3:case 4:var Be=x.stateNode.containerInfo,et=o5(y);s5(y,et,Be);break;default:throw Error(a(161))}}catch(ct){Ur(y,y.return,ct)}y.flags&=-3}b&4096&&(y.flags&=-4097)}function Wz(y){if(y.subtreeFlags&1024)for(y=y.child;y!==null;){var b=y;Wz(b),b.tag===5&&b.flags&1024&&b.stateNode.reset(),y=y.sibling}}function Os(y,b){if(b.subtreeFlags&8772)for(b=b.child;b!==null;)zz(y,b.alternate,b),b=b.sibling}function td(y){for(y=y.child;y!==null;){var b=y;switch(b.tag){case 0:case 11:case 14:case 15:Dc(4,b,b.return),td(b);break;case 1:So(b,b.return);var x=b.stateNode;typeof x.componentWillUnmount=="function"&&Uz(b,b.return,x),td(b);break;case 27:_v(b.stateNode);case 26:case 5:So(b,b.return),td(b);break;case 22:b.memoizedState===null&&td(b);break;case 30:td(b);break;default:td(b)}y=y.sibling}}function xs(y,b,x){for(x=x&&(b.subtreeFlags&8772)!==0,b=b.child;b!==null;){var M=b.alternate,Q=y,z=b,ie=z.flags;switch(z.tag){case 0:case 11:case 15:xs(Q,z,x),lv(4,z);break;case 1:if(xs(Q,z,x),M=z,Q=M.stateNode,typeof Q.componentDidMount=="function")try{Q.componentDidMount()}catch(et){Ur(M,M.return,et)}if(M=z,Q=M.updateQueue,Q!==null){var _e=M.stateNode;try{var Be=Q.shared.hiddenCallbacks;if(Be!==null)for(Q.shared.hiddenCallbacks=null,Q=0;Q<Be.length;Q++)Rk(Be[Q],_e)}catch(et){Ur(M,M.return,et)}}x&&ie&64&&Bz(z),dv(z,z.return);break;case 27:Hz(z);case 26:case 5:xs(Q,z,x),x&&M===null&&ie&4&&Qz(z),dv(z,z.return);break;case 12:xs(Q,z,x);break;case 31:xs(Q,z,x),x&&ie&4&&Xz(Q,z);break;case 13:xs(Q,z,x),x&&ie&4&&Kz(Q,z);break;case 22:z.memoizedState===null&&xs(Q,z,x),dv(z,z.return);break;case 30:break;default:xs(Q,z,x)}b=b.sibling}}function l5(y,b){var x=null;y!==null&&y.memoizedState!==null&&y.memoizedState.cachePool!==null&&(x=y.memoizedState.cachePool.pool),y=null,b.memoizedState!==null&&b.memoizedState.cachePool!==null&&(y=b.memoizedState.cachePool.pool),y!==x&&(y!=null&&y.refCount++,x!=null&&W1(x))}function d5(y,b){y=null,b.alternate!==null&&(y=b.alternate.memoizedState.cache),b=b.memoizedState.cache,b!==y&&(b.refCount++,y!=null&&W1(y))}function ju(y,b,x,M){if(b.subtreeFlags&10256)for(b=b.child;b!==null;)Yz(y,b,x,M),b=b.sibling}function Yz(y,b,x,M){var Q=b.flags;switch(b.tag){case 0:case 11:case 15:ju(y,b,x,M),Q&2048&&lv(9,b);break;case 1:ju(y,b,x,M);break;case 3:ju(y,b,x,M),Q&2048&&(y=null,b.alternate!==null&&(y=b.alternate.memoizedState.cache),b=b.memoizedState.cache,b!==y&&(b.refCount++,y!=null&&W1(y)));break;case 12:if(Q&2048){ju(y,b,x,M),y=b.stateNode;try{var z=b.memoizedProps,ie=z.id,_e=z.onPostCommit;typeof _e=="function"&&_e(ie,b.alternate===null?"mount":"update",y.passiveEffectDuration,-0)}catch(Be){Ur(b,b.return,Be)}}else ju(y,b,x,M);break;case 31:ju(y,b,x,M);break;case 13:ju(y,b,x,M);break;case 23:break;case 22:z=b.stateNode,ie=b.alternate,b.memoizedState!==null?z._visibility&2?ju(y,b,x,M):fv(y,b):z._visibility&2?ju(y,b,x,M):(z._visibility|=2,Zb(y,b,x,M,(b.subtreeFlags&10256)!==0||!1)),Q&2048&&l5(ie,b);break;case 24:ju(y,b,x,M),Q&2048&&d5(b.alternate,b);break;default:ju(y,b,x,M)}}function Zb(y,b,x,M,Q){for(Q=Q&&((b.subtreeFlags&10256)!==0||!1),b=b.child;b!==null;){var z=y,ie=b,_e=x,Be=M,et=ie.flags;switch(ie.tag){case 0:case 11:case 15:Zb(z,ie,_e,Be,Q),lv(8,ie);break;case 23:break;case 22:var ct=ie.stateNode;ie.memoizedState!==null?ct._visibility&2?Zb(z,ie,_e,Be,Q):fv(z,ie):(ct._visibility|=2,Zb(z,ie,_e,Be,Q)),Q&&et&2048&&l5(ie.alternate,ie);break;case 24:Zb(z,ie,_e,Be,Q),Q&&et&2048&&d5(ie.alternate,ie);break;default:Zb(z,ie,_e,Be,Q)}b=b.sibling}}function fv(y,b){if(b.subtreeFlags&10256)for(b=b.child;b!==null;){var x=y,M=b,Q=M.flags;switch(M.tag){case 22:fv(x,M),Q&2048&&l5(M.alternate,M);break;case 24:fv(x,M),Q&2048&&d5(M.alternate,M);break;default:fv(x,M)}b=b.sibling}}var pv=8192;function eg(y,b,x){if(y.subtreeFlags&pv)for(y=y.child;y!==null;)Zz(y,b,x),y=y.sibling}function Zz(y,b,x){switch(y.tag){case 26:eg(y,b,x),y.flags&pv&&y.memoizedState!==null&&FAe(x,Pu,y.memoizedState,y.memoizedProps);break;case 5:eg(y,b,x);break;case 3:case 4:var M=Pu;Pu=xI(y.stateNode.containerInfo),eg(y,b,x),Pu=M;break;case 22:y.memoizedState===null&&(M=y.alternate,M!==null&&M.memoizedState!==null?(M=pv,pv=16777216,eg(y,b,x),pv=M):eg(y,b,x));break;default:eg(y,b,x)}}function eG(y){var b=y.alternate;if(b!==null&&(y=b.child,y!==null)){b.child=null;do b=y.sibling,y.sibling=null,y=b;while(y!==null)}}function hv(y){var b=y.deletions;if((y.flags&16)!==0){if(b!==null)for(var x=0;x<b.length;x++){var M=b[x];ia=M,rG(M,y)}eG(y)}if(y.subtreeFlags&10256)for(y=y.child;y!==null;)tG(y),y=y.sibling}function tG(y){switch(y.tag){case 0:case 11:case 15:hv(y),y.flags&2048&&Dc(9,y,y.return);break;case 3:hv(y);break;case 12:hv(y);break;case 22:var b=y.stateNode;y.memoizedState!==null&&b._visibility&2&&(y.return===null||y.return.tag!==13)?(b._visibility&=-3,hI(y)):hv(y);break;default:hv(y)}}function hI(y){var b=y.deletions;if((y.flags&16)!==0){if(b!==null)for(var x=0;x<b.length;x++){var M=b[x];ia=M,rG(M,y)}eG(y)}for(y=y.child;y!==null;){switch(b=y,b.tag){case 0:case 11:case 15:Dc(8,b,b.return),hI(b);break;case 22:x=b.stateNode,x._visibility&2&&(x._visibility&=-3,hI(b));break;default:hI(b)}y=y.sibling}}function rG(y,b){for(;ia!==null;){var x=ia;switch(x.tag){case 0:case 11:case 15:Dc(8,x,b);break;case 23:case 22:if(x.memoizedState!==null&&x.memoizedState.cachePool!==null){var M=x.memoizedState.cachePool.pool;M!=null&&M.refCount++}break;case 24:W1(x.memoizedState.cache)}if(M=x.child,M!==null)M.return=x,ia=M;else e:for(x=y;ia!==null;){M=ia;var Q=M.sibling,z=M.return;if(Gz(M),M===x){ia=null;break e}if(Q!==null){Q.return=z,ia=Q;break e}ia=z}}}var $Ee={getCacheForType:function(y){var b=ma(Bn),x=b.data.get(y);return x===void 0&&(x=y(),b.data.set(y,x)),x},cacheSignal:function(){return ma(Bn).controller.signal}},XEe=typeof WeakMap=="function"?WeakMap:Map,xr=0,Xr=null,rr=null,cr=0,Br=0,xi=null,Fc=!1,tg=!1,f5=!1,Rs=0,Dn=0,Pc=0,rd=0,p5=0,Ri=0,rg=0,yv=null,si=null,h5=!1,yI=0,nG=0,mI=1/0,bI=null,jc=null,Jn=0,Mc=null,ng=null,Ns=0,y5=0,m5=null,aG=null,mv=0,b5=null;function Ni(){return(xr&2)!==0&&cr!==0?cr&-cr:U.T!==null?S5():bt()}function iG(){if(Ri===0)if((cr&536870912)===0||fr){var y=de;de<<=1,(de&3932160)===0&&(de=262144),Ri=y}else Ri=536870912;return y=Ai.current,y!==null&&(y.flags|=32),Ri}function ci(y,b,x){(y===Xr&&(Br===2||Br===9)||y.cancelPendingCommit!==null)&&(ag(y,0),Cc(y,cr,Ri,!1)),qe(y,x),((xr&2)===0||y!==Xr)&&(y===Xr&&((xr&2)===0&&(rd|=x),Dn===4&&Cc(y,cr,Ri,!1)),Eo(y))}function uG(y,b,x){if((xr&6)!==0)throw Error(a(327));var M=!x&&(b&127)===0&&(b&y.expiredLanes)===0||$e(y,b),Q=M?WEe(y,b):v5(y,b,!0),z=M;do{if(Q===0){tg&&!M&&Cc(y,b,0,!1);break}else{if(x=y.current.alternate,z&&!KEe(x)){Q=v5(y,b,!1),z=!1;continue}if(Q===2){if(z=b,y.errorRecoveryDisabledLanes&z)var ie=0;else ie=y.pendingLanes&-536870913,ie=ie!==0?ie:ie&536870912?536870912:0;if(ie!==0){b=ie;e:{var _e=y;Q=yv;var Be=_e.current.memoizedState.isDehydrated;if(Be&&(ag(_e,ie).flags|=256),ie=v5(_e,ie,!1),ie!==2){if(f5&&!Be){_e.errorRecoveryDisabledLanes|=z,rd|=z,Q=4;break e}z=si,si=Q,z!==null&&(si===null?si=z:si.push.apply(si,z))}Q=ie}if(z=!1,Q!==2)continue}}if(Q===1){ag(y,0),Cc(y,b,0,!0);break}e:{switch(M=y,z=Q,z){case 0:case 1:throw Error(a(345));case 4:if((b&4194048)!==b)break;case 6:Cc(M,b,Ri,!Fc);break e;case 2:si=null;break;case 3:case 5:break;default:throw Error(a(329))}if((b&62914560)===b&&(Q=yI+300-He(),10<Q)){if(Cc(M,b,Ri,!Fc),je(M,0,!0)!==0)break e;Ns=b,M.timeoutHandle=LG(oG.bind(null,M,x,si,bI,h5,b,Ri,rd,rg,Fc,z,"Throttled",-0,0),Q);break e}oG(M,x,si,bI,h5,b,Ri,rd,rg,Fc,z,null,-0,0)}}break}while(!0);Eo(y)}function oG(y,b,x,M,Q,z,ie,_e,Be,et,ct,mt,rt,ut){if(y.timeoutHandle=-1,mt=b.subtreeFlags,mt&8192||(mt&16785408)===16785408){mt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:$i},Zz(b,z,mt);var It=(z&62914560)===z?yI-He():(z&4194048)===z?nG-He():0;if(It=PAe(mt,It),It!==null){Ns=z,y.cancelPendingCommit=It(yG.bind(null,y,b,z,x,M,Q,ie,_e,Be,ct,mt,null,rt,ut)),Cc(y,z,ie,!et);return}}yG(y,b,z,x,M,Q,ie,_e,Be)}function KEe(y){for(var b=y;;){var x=b.tag;if((x===0||x===11||x===15)&&b.flags&16384&&(x=b.updateQueue,x!==null&&(x=x.stores,x!==null)))for(var M=0;M<x.length;M++){var Q=x[M],z=Q.getSnapshot;Q=Q.value;try{if(!Nt(z(),Q))return!1}catch{return!1}}if(x=b.child,b.subtreeFlags&16384&&x!==null)x.return=b,b=x;else{if(b===y)break;for(;b.sibling===null;){if(b.return===null||b.return===y)return!0;b=b.return}b.sibling.return=b.return,b=b.sibling}}return!0}function Cc(y,b,x,M){b&=~p5,b&=~rd,y.suspendedLanes|=b,y.pingedLanes&=~b,M&&(y.warmLanes|=b),M=y.expirationTimes;for(var Q=b;0<Q;){var z=31-Pe(Q),ie=1<<z;M[z]=-1,Q&=~ie}x!==0&&Me(y,x,b)}function gI(){return(xr&6)===0?(bv(0),!1):!0}function g5(){if(rr!==null){if(Br===0)var y=rr.return;else y=rr,gs=$l=null,j8(y),Xb=null,Z1=0,y=rr;for(;y!==null;)qz(y.alternate,y),y=y.return;rr=null}}function ag(y,b){var x=y.timeoutHandle;x!==-1&&(y.timeoutHandle=-1,yAe(x)),x=y.cancelPendingCommit,x!==null&&(y.cancelPendingCommit=null,x()),Ns=0,g5(),Xr=y,rr=x=ms(y.current,null),cr=b,Br=0,xi=null,Fc=!1,tg=$e(y,b),f5=!1,rg=Ri=p5=rd=Pc=Dn=0,si=yv=null,h5=!1,(b&8)!==0&&(b|=b&32);var M=y.entangledLanes;if(M!==0)for(y=y.entanglements,M&=b;0<M;){var Q=31-Pe(M),z=1<<Q;b|=y[Q],M&=~z}return Rs=b,BN(),x}function sG(y,b){Jt=null,U.H=ov,b===$b||b===$N?(b=Ek(),Br=3):b===w8?(b=Ek(),Br=4):Br=b===J8?8:b!==null&&typeof b=="object"&&typeof b.then=="function"?6:1,xi=b,rr===null&&(Dn=1,oI(y,ru(b,y.current)))}function cG(){var y=Ai.current;return y===null?!0:(cr&4194048)===cr?uu===null:(cr&62914560)===cr||(cr&536870912)!==0?y===uu:!1}function lG(){var y=U.H;return U.H=ov,y===null?ov:y}function dG(){var y=U.A;return U.A=$Ee,y}function vI(){Dn=4,Fc||(cr&4194048)!==cr&&Ai.current!==null||(tg=!0),(Pc&134217727)===0&&(rd&134217727)===0||Xr===null||Cc(Xr,cr,Ri,!1)}function v5(y,b,x){var M=xr;xr|=2;var Q=lG(),z=dG();(Xr!==y||cr!==b)&&(bI=null,ag(y,b)),b=!1;var ie=Dn;e:do try{if(Br!==0&&rr!==null){var _e=rr,Be=xi;switch(Br){case 8:g5(),ie=6;break e;case 3:case 2:case 9:case 6:Ai.current===null&&(b=!0);var et=Br;if(Br=0,xi=null,ig(y,_e,Be,et),x&&tg){ie=0;break e}break;default:et=Br,Br=0,xi=null,ig(y,_e,Be,et)}}JEe(),ie=Dn;break}catch(ct){sG(y,ct)}while(!0);return b&&y.shellSuspendCounter++,gs=$l=null,xr=M,U.H=Q,U.A=z,rr===null&&(Xr=null,cr=0,BN()),ie}function JEe(){for(;rr!==null;)fG(rr)}function WEe(y,b){var x=xr;xr|=2;var M=lG(),Q=dG();Xr!==y||cr!==b?(bI=null,mI=He()+500,ag(y,b)):tg=$e(y,b);e:do try{if(Br!==0&&rr!==null){b=rr;var z=xi;t:switch(Br){case 1:Br=0,xi=null,ig(y,b,z,1);break;case 2:case 9:if(wk(z)){Br=0,xi=null,pG(b);break}b=function(){Br!==2&&Br!==9||Xr!==y||(Br=7),Eo(y)},z.then(b,b);break e;case 3:Br=7;break e;case 4:Br=5;break e;case 7:wk(z)?(Br=0,xi=null,pG(b)):(Br=0,xi=null,ig(y,b,z,7));break;case 5:var ie=null;switch(rr.tag){case 26:ie=rr.memoizedState;case 5:case 27:var _e=rr;if(ie?YG(ie):_e.stateNode.complete){Br=0,xi=null;var Be=_e.sibling;if(Be!==null)rr=Be;else{var et=_e.return;et!==null?(rr=et,_I(et)):rr=null}break t}}Br=0,xi=null,ig(y,b,z,5);break;case 6:Br=0,xi=null,ig(y,b,z,6);break;case 8:g5(),Dn=6;break e;default:throw Error(a(462))}}YEe();break}catch(ct){sG(y,ct)}while(!0);return gs=$l=null,U.H=M,U.A=Q,xr=x,rr!==null?0:(Xr=null,cr=0,BN(),Dn)}function YEe(){for(;rr!==null&&!xe();)fG(rr)}function fG(y){var b=Cz(y.alternate,y,Rs);y.memoizedProps=y.pendingProps,b===null?_I(y):rr=b}function pG(y){var b=y,x=b.alternate;switch(b.tag){case 15:case 0:b=Iz(x,b,b.pendingProps,b.type,void 0,cr);break;case 11:b=Iz(x,b,b.pendingProps,b.type.render,b.ref,cr);break;case 5:j8(b);default:qz(x,b),b=rr=dk(b,Rs),b=Cz(x,b,Rs)}y.memoizedProps=y.pendingProps,b===null?_I(y):rr=b}function ig(y,b,x,M){gs=$l=null,j8(b),Xb=null,Z1=0;var Q=b.return;try{if(UEe(y,Q,b,x,cr)){Dn=1,oI(y,ru(x,y.current)),rr=null;return}}catch(z){if(Q!==null)throw rr=Q,z;Dn=1,oI(y,ru(x,y.current)),rr=null;return}b.flags&32768?(fr||M===1?y=!0:tg||(cr&536870912)!==0?y=!1:(Fc=y=!0,(M===2||M===9||M===3||M===6)&&(M=Ai.current,M!==null&&M.tag===13&&(M.flags|=16384))),hG(b,y)):_I(b)}function _I(y){var b=y;do{if((b.flags&32768)!==0){hG(b,Fc);return}y=b.return;var x=HEe(b.alternate,b,Rs);if(x!==null){rr=x;return}if(b=b.sibling,b!==null){rr=b;return}rr=b=y}while(b!==null);Dn===0&&(Dn=5)}function hG(y,b){do{var x=kEe(y.alternate,y);if(x!==null){x.flags&=32767,rr=x;return}if(x=y.return,x!==null&&(x.flags|=32768,x.subtreeFlags=0,x.deletions=null),!b&&(y=y.sibling,y!==null)){rr=y;return}rr=y=x}while(y!==null);Dn=6,rr=null}function yG(y,b,x,M,Q,z,ie,_e,Be){y.cancelPendingCommit=null;do TI();while(Jn!==0);if((xr&6)!==0)throw Error(a(327));if(b!==null){if(b===y.current)throw Error(a(177));if(z=b.lanes|b.childLanes,z|=o8,it(y,x,z,ie,_e,Be),y===Xr&&(rr=Xr=null,cr=0),ng=b,Mc=y,Ns=x,y5=z,m5=Q,aG=M,(b.subtreeFlags&10256)!==0||(b.flags&10256)!==0?(y.callbackNode=null,y.callbackPriority=0,rAe(X,function(){return _G(),null})):(y.callbackNode=null,y.callbackPriority=0),M=(b.flags&13878)!==0,(b.subtreeFlags&13878)!==0||M){M=U.T,U.T=null,Q=G.p,G.p=2,ie=xr,xr|=4;try{zEe(y,b,x)}finally{xr=ie,G.p=Q,U.T=M}}Jn=1,mG(),bG(),gG()}}function mG(){if(Jn===1){Jn=0;var y=Mc,b=ng,x=(b.flags&13878)!==0;if((b.subtreeFlags&13878)!==0||x){x=U.T,U.T=null;var M=G.p;G.p=2;var Q=xr;xr|=4;try{Jz(b,y);var z=D5,ie=Vl(y.containerInfo),_e=z.focusedElem,Be=z.selectionRange;if(ie!==_e&&_e&&_e.ownerDocument&&Du(_e.ownerDocument.documentElement,_e)){if(Be!==null&&Tc(_e)){var et=Be.start,ct=Be.end;if(ct===void 0&&(ct=et),"selectionStart"in _e)_e.selectionStart=et,_e.selectionEnd=Math.min(ct,_e.value.length);else{var mt=_e.ownerDocument||document,rt=mt&&mt.defaultView||window;if(rt.getSelection){var ut=rt.getSelection(),It=_e.textContent.length,Ut=Math.min(Be.start,It),kr=Be.end===void 0?Ut:Math.min(Be.end,It);!ut.extend&&Ut>kr&&(ie=kr,kr=Ut,Ut=ie);var Ke=we(_e,Ut),ke=we(_e,kr);if(Ke&&ke&&(ut.rangeCount!==1||ut.anchorNode!==Ke.node||ut.anchorOffset!==Ke.offset||ut.focusNode!==ke.node||ut.focusOffset!==ke.offset)){var Ze=mt.createRange();Ze.setStart(Ke.node,Ke.offset),ut.removeAllRanges(),Ut>kr?(ut.addRange(Ze),ut.extend(ke.node,ke.offset)):(Ze.setEnd(ke.node,ke.offset),ut.addRange(Ze))}}}}for(mt=[],ut=_e;ut=ut.parentNode;)ut.nodeType===1&&mt.push({element:ut,left:ut.scrollLeft,top:ut.scrollTop});for(typeof _e.focus=="function"&&_e.focus(),_e=0;_e<mt.length;_e++){var ft=mt[_e];ft.element.scrollLeft=ft.left,ft.element.scrollTop=ft.top}}PI=!!I5,D5=I5=null}finally{xr=Q,G.p=M,U.T=x}}y.current=b,Jn=2}}function bG(){if(Jn===2){Jn=0;var y=Mc,b=ng,x=(b.flags&8772)!==0;if((b.subtreeFlags&8772)!==0||x){x=U.T,U.T=null;var M=G.p;G.p=2;var Q=xr;xr|=4;try{zz(y,b.alternate,b)}finally{xr=Q,G.p=M,U.T=x}}Jn=3}}function gG(){if(Jn===4||Jn===3){Jn=0,Ce();var y=Mc,b=ng,x=Ns,M=aG;(b.subtreeFlags&10256)!==0||(b.flags&10256)!==0?Jn=5:(Jn=0,ng=Mc=null,vG(y,y.pendingLanes));var Q=y.pendingLanes;if(Q===0&&(jc=null),yt(x),b=b.stateNode,Ie&&typeof Ie.onCommitFiberRoot=="function")try{Ie.onCommitFiberRoot(re,b,void 0,(b.current.flags&128)===128)}catch{}if(M!==null){b=U.T,Q=G.p,G.p=2,U.T=null;try{for(var z=y.onRecoverableError,ie=0;ie<M.length;ie++){var _e=M[ie];z(_e.value,{componentStack:_e.stack})}}finally{U.T=b,G.p=Q}}(Ns&3)!==0&&TI(),Eo(y),Q=y.pendingLanes,(x&261930)!==0&&(Q&42)!==0?y===b5?mv++:(mv=0,b5=y):mv=0,bv(0)}}function vG(y,b){(y.pooledCacheLanes&=b)===0&&(b=y.pooledCache,b!=null&&(y.pooledCache=null,W1(b)))}function TI(){return mG(),bG(),gG(),_G()}function _G(){if(Jn!==5)return!1;var y=Mc,b=y5;y5=0;var x=yt(Ns),M=U.T,Q=G.p;try{G.p=32>x?32:x,U.T=null,x=m5,m5=null;var z=Mc,ie=Ns;if(Jn=0,ng=Mc=null,Ns=0,(xr&6)!==0)throw Error(a(331));var _e=xr;if(xr|=4,tG(z.current),Yz(z,z.current,ie,x),xr=_e,bv(0,!1),Ie&&typeof Ie.onPostCommitFiberRoot=="function")try{Ie.onPostCommitFiberRoot(re,z)}catch{}return!0}finally{G.p=Q,U.T=M,vG(y,b)}}function TG(y,b,x){b=ru(x,b),b=K8(y.stateNode,b,2),y=Rc(y,b,2),y!==null&&(qe(y,2),Eo(y))}function Ur(y,b,x){if(y.tag===3)TG(y,y,x);else for(;b!==null;){if(b.tag===3){TG(b,y,x);break}else if(b.tag===1){var M=b.stateNode;if(typeof b.type.getDerivedStateFromError=="function"||typeof M.componentDidCatch=="function"&&(jc===null||!jc.has(M))){y=ru(x,y),x=wz(2),M=Rc(b,x,2),M!==null&&(Sz(x,M,b,y),qe(M,2),Eo(M));break}}b=b.return}}function _5(y,b,x){var M=y.pingCache;if(M===null){M=y.pingCache=new XEe;var Q=new Set;M.set(b,Q)}else Q=M.get(b),Q===void 0&&(Q=new Set,M.set(b,Q));Q.has(x)||(f5=!0,Q.add(x),y=ZEe.bind(null,y,b,x),b.then(y,y))}function ZEe(y,b,x){var M=y.pingCache;M!==null&&M.delete(b),y.pingedLanes|=y.suspendedLanes&x,y.warmLanes&=~x,Xr===y&&(cr&x)===x&&(Dn===4||Dn===3&&(cr&62914560)===cr&&300>He()-yI?(xr&2)===0&&ag(y,0):p5|=x,rg===cr&&(rg=0)),Eo(y)}function wG(y,b){b===0&&(b=fe()),y=kl(y,b),y!==null&&(qe(y,b),Eo(y))}function eAe(y){var b=y.memoizedState,x=0;b!==null&&(x=b.retryLane),wG(y,x)}function tAe(y,b){var x=0;switch(y.tag){case 31:case 13:var M=y.stateNode,Q=y.memoizedState;Q!==null&&(x=Q.retryLane);break;case 19:M=y.stateNode;break;case 22:M=y.stateNode._retryCache;break;default:throw Error(a(314))}M!==null&&M.delete(b),wG(y,x)}function rAe(y,b){return ce(y,b)}var wI=null,ug=null,T5=!1,SI=!1,w5=!1,Lc=0;function Eo(y){y!==ug&&y.next===null&&(ug===null?wI=ug=y:ug=ug.next=y),SI=!0,T5||(T5=!0,aAe())}function bv(y,b){if(!w5&&SI){w5=!0;do for(var x=!1,M=wI;M!==null;){if(y!==0){var Q=M.pendingLanes;if(Q===0)var z=0;else{var ie=M.suspendedLanes,_e=M.pingedLanes;z=(1<<31-Pe(42|y)+1)-1,z&=Q&~(ie&~_e),z=z&201326741?z&201326741|1:z?z|2:0}z!==0&&(x=!0,OG(M,z))}else z=cr,z=je(M,M===Xr?z:0,M.cancelPendingCommit!==null||M.timeoutHandle!==-1),(z&3)===0||$e(M,z)||(x=!0,OG(M,z));M=M.next}while(x);w5=!1}}function nAe(){SG()}function SG(){SI=T5=!1;var y=0;Lc!==0&&hAe()&&(y=Lc);for(var b=He(),x=null,M=wI;M!==null;){var Q=M.next,z=EG(M,b);z===0?(M.next=null,x===null?wI=Q:x.next=Q,Q===null&&(ug=x)):(x=M,(y!==0||(z&3)!==0)&&(SI=!0)),M=Q}Jn!==0&&Jn!==5||bv(y),Lc!==0&&(Lc=0)}function EG(y,b){for(var x=y.suspendedLanes,M=y.pingedLanes,Q=y.expirationTimes,z=y.pendingLanes&-62914561;0<z;){var ie=31-Pe(z),_e=1<<ie,Be=Q[ie];Be===-1?((_e&x)===0||(_e&M)!==0)&&(Q[ie]=at(_e,b)):Be<=b&&(y.expiredLanes|=_e),z&=~_e}if(b=Xr,x=cr,x=je(y,y===b?x:0,y.cancelPendingCommit!==null||y.timeoutHandle!==-1),M=y.callbackNode,x===0||y===b&&(Br===2||Br===9)||y.cancelPendingCommit!==null)return M!==null&&M!==null&&Se(M),y.callbackNode=null,y.callbackPriority=0;if((x&3)===0||$e(y,x)){if(b=x&-x,b===y.callbackPriority)return b;switch(M!==null&&Se(M),yt(x)){case 2:case 8:x=oe;break;case 32:x=X;break;case 268435456:x=he;break;default:x=X}return M=AG.bind(null,y),x=ce(x,M),y.callbackPriority=b,y.callbackNode=x,b}return M!==null&&M!==null&&Se(M),y.callbackPriority=2,y.callbackNode=null,2}function AG(y,b){if(Jn!==0&&Jn!==5)return y.callbackNode=null,y.callbackPriority=0,null;var x=y.callbackNode;if(TI()&&y.callbackNode!==x)return null;var M=cr;return M=je(y,y===Xr?M:0,y.cancelPendingCommit!==null||y.timeoutHandle!==-1),M===0?null:(uG(y,M,b),EG(y,He()),y.callbackNode!=null&&y.callbackNode===x?AG.bind(null,y):null)}function OG(y,b){if(TI())return null;uG(y,b,!0)}function aAe(){mAe(function(){(xr&6)!==0?ce(Ye,nAe):SG()})}function S5(){if(Lc===0){var y=zb;y===0&&(y=K,K<<=1,(K&261888)===0&&(K=256)),Lc=y}return Lc}function xG(y){return y==null||typeof y=="symbol"||typeof y=="boolean"?null:typeof y=="function"?y:as(""+y)}function RG(y,b){var x=b.ownerDocument.createElement("input");return x.name=b.name,x.value=b.value,y.id&&x.setAttribute("form",y.id),b.parentNode.insertBefore(x,b),y=new FormData(y),x.parentNode.removeChild(x),y}function iAe(y,b,x,M,Q){if(b==="submit"&&x&&x.stateNode===Q){var z=xG((Q[gt]||null).action),ie=M.submitter;ie&&(b=(b=ie[gt]||null)?xG(b.formAction):ie.getAttribute("formAction"),b!==null&&(z=b,ie=null));var _e=new ql("action","action",null,M,Q);y.push({event:_e,listeners:[{instance:null,listener:function(){if(M.defaultPrevented){if(Lc!==0){var Be=ie?RG(Q,ie):new FormData(Q);H8(x,{pending:!0,data:Be,method:Q.method,action:z},null,Be)}}else typeof z=="function"&&(_e.preventDefault(),Be=ie?RG(Q,ie):new FormData(Q),H8(x,{pending:!0,data:Be,method:Q.method,action:z},z,Be))},currentTarget:Q}]})}}for(var E5=0;E5<u8.length;E5++){var A5=u8[E5],uAe=A5.toLowerCase(),oAe=A5[0].toUpperCase()+A5.slice(1);Fu(uAe,"on"+oAe)}Fu(qn,"onAnimationEnd"),Fu(Hl,"onAnimationIteration"),Fu(eu,"onAnimationStart"),Fu("dblclick","onDoubleClick"),Fu("focusin","onFocus"),Fu("focusout","onBlur"),Fu(LN,"onTransitionRun"),Fu(qb,"onTransitionStart"),Fu(X1,"onTransitionCancel"),Fu(ys,"onTransitionEnd"),xn("onMouseEnter",["mouseout","mouseover"]),xn("onMouseLeave",["mouseout","mouseover"]),xn("onPointerEnter",["pointerout","pointerover"]),xn("onPointerLeave",["pointerout","pointerover"]),Or("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Or("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Or("onBeforeInput",["compositionend","keypress","textInput","paste"]),Or("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Or("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Or("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gv="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sAe=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(gv));function NG(y,b){b=(b&4)!==0;for(var x=0;x<y.length;x++){var M=y[x],Q=M.event;M=M.listeners;e:{var z=void 0;if(b)for(var ie=M.length-1;0<=ie;ie--){var _e=M[ie],Be=_e.instance,et=_e.currentTarget;if(_e=_e.listener,Be!==z&&Q.isPropagationStopped())break e;z=_e,Q.currentTarget=et;try{z(Q)}catch(ct){qN(ct)}Q.currentTarget=null,z=Be}else for(ie=0;ie<M.length;ie++){if(_e=M[ie],Be=_e.instance,et=_e.currentTarget,_e=_e.listener,Be!==z&&Q.isPropagationStopped())break e;z=_e,Q.currentTarget=et;try{z(Q)}catch(ct){qN(ct)}Q.currentTarget=null,z=Be}}}}function nr(y,b){var x=b[ht];x===void 0&&(x=b[ht]=new Set);var M=y+"__bubble";x.has(M)||(IG(b,y,2,!1),x.add(M))}function O5(y,b,x){var M=0;b&&(M|=4),IG(x,y,M,b)}var EI="_reactListening"+Math.random().toString(36).slice(2);function x5(y){if(!y[EI]){y[EI]=!0,Ir.forEach(function(x){x!=="selectionchange"&&(sAe.has(x)||O5(x,!1,y),O5(x,!0,y))});var b=y.nodeType===9?y:y.ownerDocument;b===null||b[EI]||(b[EI]=!0,O5("selectionchange",!1,b))}}function IG(y,b,x,M){switch(i$(b)){case 2:var Q=CAe;break;case 8:Q=LAe;break;default:Q=V5}x=Q.bind(null,b,x,y),Q=void 0,!Nb||b!=="touchstart"&&b!=="touchmove"&&b!=="wheel"||(Q=!0),M?Q!==void 0?y.addEventListener(b,x,{capture:!0,passive:Q}):y.addEventListener(b,x,!0):Q!==void 0?y.addEventListener(b,x,{passive:Q}):y.addEventListener(b,x,!1)}function R5(y,b,x,M,Q){var z=M;if((b&1)===0&&(b&2)===0&&M!==null)e:for(;;){if(M===null)return;var ie=M.tag;if(ie===3||ie===4){var _e=M.stateNode.containerInfo;if(_e===Q)break;if(ie===4)for(ie=M.return;ie!==null;){var Be=ie.tag;if((Be===3||Be===4)&&ie.stateNode.containerInfo===Q)return;ie=ie.return}for(;_e!==null;){if(ie=Vt(_e),ie===null)return;if(Be=ie.tag,Be===5||Be===6||Be===26||Be===27){M=z=ie;continue e}_e=_e.parentNode}}M=M.return}Ml(function(){var et=z,ct=is(x),mt=[];e:{var rt=ck.get(y);if(rt!==void 0){var ut=ql,It=y;switch(y){case"keypress":if(Ll(x)===0)break e;case"keydown":case"keyup":ut=Ul;break;case"focusin":It="focus",ut=pc;break;case"focusout":It="blur",ut=pc;break;case"beforeblur":case"afterblur":ut=pc;break;case"click":if(x.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ut=EN;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ut=r8;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ut=mc;break;case qn:case Hl:case eu:ut=xN;break;case ys:ut=fs;break;case"scroll":case"scrollend":ut=SN;break;case"wheel":ut=H1;break;case"copy":case"cut":case"paste":ut=n8;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ut=Ln;break;case"toggle":case"beforetoggle":ut=a8}var Ut=(b&4)!==0,kr=!Ut&&(y==="scroll"||y==="scrollend"),Ke=Ut?rt!==null?rt+"Capture":null:rt;Ut=[];for(var ke=et,Ze;ke!==null;){var ft=ke;if(Ze=ft.stateNode,ft=ft.tag,ft!==5&&ft!==26&&ft!==27||Ze===null||Ke===null||(ft=Ti(ke,Ke),ft!=null&&Ut.push(vv(ke,ft,Ze))),kr)break;ke=ke.return}0<Ut.length&&(rt=new ut(rt,It,null,x,ct),mt.push({event:rt,listeners:Ut}))}}if((b&7)===0){e:{if(rt=y==="mouseover"||y==="pointerover",ut=y==="mouseout"||y==="pointerout",rt&&x!==jl&&(It=x.relatedTarget||x.fromElement)&&(Vt(It)||It[dr]))break e;if((ut||rt)&&(rt=ct.window===ct?ct:(rt=ct.ownerDocument)?rt.defaultView||rt.parentWindow:window,ut?(It=x.relatedTarget||x.toElement,ut=et,It=It?Vt(It):null,It!==null&&(kr=t(It),Ut=It.tag,It!==kr||Ut!==5&&Ut!==27&&Ut!==6)&&(It=null)):(ut=null,It=et),ut!==It)){if(Ut=EN,ft="onMouseLeave",Ke="onMouseEnter",ke="mouse",(y==="pointerout"||y==="pointerover")&&(Ut=Ln,ft="onPointerLeave",Ke="onPointerEnter",ke="pointer"),kr=ut==null?rt:hr(ut),Ze=It==null?rt:hr(It),rt=new Ut(ft,ke+"leave",ut,x,ct),rt.target=kr,rt.relatedTarget=Ze,ft=null,Vt(ct)===et&&(Ut=new Ut(Ke,ke+"enter",It,x,ct),Ut.target=Ze,Ut.relatedTarget=kr,ft=Ut),kr=ft,ut&&It)t:{for(Ut=cAe,Ke=ut,ke=It,Ze=0,ft=Ke;ft;ft=Ut(ft))Ze++;ft=0;for(var Lt=ke;Lt;Lt=Ut(Lt))ft++;for(;0<Ze-ft;)Ke=Ut(Ke),Ze--;for(;0<ft-Ze;)ke=Ut(ke),ft--;for(;Ze--;){if(Ke===ke||ke!==null&&Ke===ke.alternate){Ut=Ke;break t}Ke=Ut(Ke),ke=Ut(ke)}Ut=null}else Ut=null;ut!==null&&DG(mt,rt,ut,Ut,!1),It!==null&&kr!==null&&DG(mt,kr,It,Ut,!0)}}e:{if(rt=et?hr(et):window,ut=rt.nodeName&&rt.nodeName.toLowerCase(),ut==="select"||ut==="input"&&rt.type==="file")var Sr=_c;else if(Fb(rt))if($1)Sr=_t;else{Sr=nt;var Ft=ot}else ut=rt.nodeName,!ut||ut.toLowerCase()!=="input"||rt.type!=="checkbox"&&rt.type!=="radio"?et&&fc(et.elementType)&&(Sr=_c):Sr=dt;if(Sr&&(Sr=Sr(y,et))){jN(mt,Sr,x,ct);break e}Ft&&Ft(y,rt,et),y==="focusout"&&et&&rt.type==="number"&&et.memoizedProps.value!=null&&dc(rt,"number",rt.value)}switch(Ft=et?hr(et):window,y){case"focusin":(Fb(Ft)||Ft.contentEditable==="true")&&(Qr=Ft,ai=et,Si=null);break;case"focusout":Si=ai=Qr=null;break;case"mousedown":_o=!0;break;case"contextmenu":case"mouseup":case"dragend":_o=!1,Lb(mt,x,ct);break;case"selectionchange":if(Cb)break;case"keydown":case"keyup":Lb(mt,x,ct)}var Wt;if(wi)e:{switch(y){case"compositionstart":var lr="onCompositionStart";break e;case"compositionend":lr="onCompositionEnd";break e;case"compositionupdate":lr="onCompositionUpdate";break e}lr=void 0}else gc?Db(y,x)&&(lr="onCompositionEnd"):y==="keydown"&&x.keyCode===229&&(lr="onCompositionStart");lr&&(DN&&x.locale!=="ko"&&(gc||lr!=="onCompositionStart"?lr==="onCompositionEnd"&&gc&&(Wt=Ji()):(Nu=ct,bo="value"in Nu?Nu.value:Nu.textContent,gc=!0)),Ft=AI(et,lr),0<Ft.length&&(lr=new U1(lr,y,null,x,ct),mt.push({event:lr,listeners:Ft}),Wt?lr.data=Wt:(Wt=z1(x),Wt!==null&&(lr.data=Wt)))),(Wt=IN?i8(y,x):G1(y,x))&&(lr=AI(et,"onBeforeInput"),0<lr.length&&(Ft=new U1("onBeforeInput","beforeinput",null,x,ct),mt.push({event:Ft,listeners:lr}),Ft.data=Wt)),iAe(mt,y,et,x,ct)}NG(mt,b)})}function vv(y,b,x){return{instance:y,listener:b,currentTarget:x}}function AI(y,b){for(var x=b+"Capture",M=[];y!==null;){var Q=y,z=Q.stateNode;if(Q=Q.tag,Q!==5&&Q!==26&&Q!==27||z===null||(Q=Ti(y,x),Q!=null&&M.unshift(vv(y,Q,z)),Q=Ti(y,b),Q!=null&&M.push(vv(y,Q,z))),y.tag===3)return M;y=y.return}return[]}function cAe(y){if(y===null)return null;do y=y.return;while(y&&y.tag!==5&&y.tag!==27);return y||null}function DG(y,b,x,M,Q){for(var z=b._reactName,ie=[];x!==null&&x!==M;){var _e=x,Be=_e.alternate,et=_e.stateNode;if(_e=_e.tag,Be!==null&&Be===M)break;_e!==5&&_e!==26&&_e!==27||et===null||(Be=et,Q?(et=Ti(x,z),et!=null&&ie.unshift(vv(x,et,Be))):Q||(et=Ti(x,z),et!=null&&ie.push(vv(x,et,Be)))),x=x.return}ie.length!==0&&y.push({event:b,listeners:ie})}var lAe=/\r\n?/g,dAe=/\u0000|\uFFFD/g;function FG(y){return(typeof y=="string"?y:""+y).replace(lAe,`
`).replace(dAe,"")}function PG(y,b){return b=FG(b),FG(y)===b}function Hr(y,b,x,M,Q,z){switch(x){case"children":typeof M=="string"?b==="body"||b==="textarea"&&M===""||rs(y,M):(typeof M=="number"||typeof M=="bigint")&&b!=="body"&&rs(y,""+M);break;case"className":Nn(y,"class",M);break;case"tabIndex":Nn(y,"tabindex",M);break;case"dir":case"role":case"viewBox":case"width":case"height":Nn(y,x,M);break;case"style":Pl(y,M,z);break;case"data":if(b!=="object"){Nn(y,"data",M);break}case"src":case"href":if(M===""&&(b!=="a"||x!=="href")){y.removeAttribute(x);break}if(M==null||typeof M=="function"||typeof M=="symbol"||typeof M=="boolean"){y.removeAttribute(x);break}M=as(""+M),y.setAttribute(x,M);break;case"action":case"formAction":if(typeof M=="function"){y.setAttribute(x,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof z=="function"&&(x==="formAction"?(b!=="input"&&Hr(y,b,"name",Q.name,Q,null),Hr(y,b,"formEncType",Q.formEncType,Q,null),Hr(y,b,"formMethod",Q.formMethod,Q,null),Hr(y,b,"formTarget",Q.formTarget,Q,null)):(Hr(y,b,"encType",Q.encType,Q,null),Hr(y,b,"method",Q.method,Q,null),Hr(y,b,"target",Q.target,Q,null)));if(M==null||typeof M=="symbol"||typeof M=="boolean"){y.removeAttribute(x);break}M=as(""+M),y.setAttribute(x,M);break;case"onClick":M!=null&&(y.onclick=$i);break;case"onScroll":M!=null&&nr("scroll",y);break;case"onScrollEnd":M!=null&&nr("scrollend",y);break;case"dangerouslySetInnerHTML":if(M!=null){if(typeof M!="object"||!("__html"in M))throw Error(a(61));if(x=M.__html,x!=null){if(Q.children!=null)throw Error(a(60));y.innerHTML=x}}break;case"multiple":y.multiple=M&&typeof M!="function"&&typeof M!="symbol";break;case"muted":y.muted=M&&typeof M!="function"&&typeof M!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(M==null||typeof M=="function"||typeof M=="boolean"||typeof M=="symbol"){y.removeAttribute("xlink:href");break}x=as(""+M),y.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",x);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":M!=null&&typeof M!="function"&&typeof M!="symbol"?y.setAttribute(x,""+M):y.removeAttribute(x);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":M&&typeof M!="function"&&typeof M!="symbol"?y.setAttribute(x,""):y.removeAttribute(x);break;case"capture":case"download":M===!0?y.setAttribute(x,""):M!==!1&&M!=null&&typeof M!="function"&&typeof M!="symbol"?y.setAttribute(x,M):y.removeAttribute(x);break;case"cols":case"rows":case"size":case"span":M!=null&&typeof M!="function"&&typeof M!="symbol"&&!isNaN(M)&&1<=M?y.setAttribute(x,M):y.removeAttribute(x);break;case"rowSpan":case"start":M==null||typeof M=="function"||typeof M=="symbol"||isNaN(M)?y.removeAttribute(x):y.setAttribute(x,M);break;case"popover":nr("beforetoggle",y),nr("toggle",y),yn(y,"popover",M);break;case"xlinkActuate":$r(y,"http://www.w3.org/1999/xlink","xlink:actuate",M);break;case"xlinkArcrole":$r(y,"http://www.w3.org/1999/xlink","xlink:arcrole",M);break;case"xlinkRole":$r(y,"http://www.w3.org/1999/xlink","xlink:role",M);break;case"xlinkShow":$r(y,"http://www.w3.org/1999/xlink","xlink:show",M);break;case"xlinkTitle":$r(y,"http://www.w3.org/1999/xlink","xlink:title",M);break;case"xlinkType":$r(y,"http://www.w3.org/1999/xlink","xlink:type",M);break;case"xmlBase":$r(y,"http://www.w3.org/XML/1998/namespace","xml:base",M);break;case"xmlLang":$r(y,"http://www.w3.org/XML/1998/namespace","xml:lang",M);break;case"xmlSpace":$r(y,"http://www.w3.org/XML/1998/namespace","xml:space",M);break;case"is":yn(y,"is",M);break;case"innerText":case"textContent":break;default:(!(2<x.length)||x[0]!=="o"&&x[0]!=="O"||x[1]!=="n"&&x[1]!=="N")&&(x=wN.get(x)||x,yn(y,x,M))}}function N5(y,b,x,M,Q,z){switch(x){case"style":Pl(y,M,z);break;case"dangerouslySetInnerHTML":if(M!=null){if(typeof M!="object"||!("__html"in M))throw Error(a(61));if(x=M.__html,x!=null){if(Q.children!=null)throw Error(a(60));y.innerHTML=x}}break;case"children":typeof M=="string"?rs(y,M):(typeof M=="number"||typeof M=="bigint")&&rs(y,""+M);break;case"onScroll":M!=null&&nr("scroll",y);break;case"onScrollEnd":M!=null&&nr("scrollend",y);break;case"onClick":M!=null&&(y.onclick=$i);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!fa.hasOwnProperty(x))e:{if(x[0]==="o"&&x[1]==="n"&&(Q=x.endsWith("Capture"),b=x.slice(2,Q?x.length-7:void 0),z=y[gt]||null,z=z!=null?z[x]:null,typeof z=="function"&&y.removeEventListener(b,z,Q),typeof M=="function")){typeof z!="function"&&z!==null&&(x in y?y[x]=null:y.hasAttribute(x)&&y.removeAttribute(x)),y.addEventListener(b,M,Q);break e}x in y?y[x]=M:M===!0?y.setAttribute(x,""):yn(y,x,M)}}}function ga(y,b,x){switch(b){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":nr("error",y),nr("load",y);var M=!1,Q=!1,z;for(z in x)if(x.hasOwnProperty(z)){var ie=x[z];if(ie!=null)switch(z){case"src":M=!0;break;case"srcSet":Q=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,b));default:Hr(y,b,z,ie,x,null)}}Q&&Hr(y,b,"srcSet",x.srcSet,x,null),M&&Hr(y,b,"src",x.src,x,null);return;case"input":nr("invalid",y);var _e=z=ie=Q=null,Be=null,et=null;for(M in x)if(x.hasOwnProperty(M)){var ct=x[M];if(ct!=null)switch(M){case"name":Q=ct;break;case"type":ie=ct;break;case"checked":Be=ct;break;case"defaultChecked":et=ct;break;case"value":z=ct;break;case"defaultValue":_e=ct;break;case"children":case"dangerouslySetInnerHTML":if(ct!=null)throw Error(a(137,b));break;default:Hr(y,b,M,ct,x,null)}}C1(y,z,_e,Be,et,ie,Q,!1);return;case"select":nr("invalid",y),M=ie=z=null;for(Q in x)if(x.hasOwnProperty(Q)&&(_e=x[Q],_e!=null))switch(Q){case"value":z=_e;break;case"defaultValue":ie=_e;break;case"multiple":M=_e;default:Hr(y,b,Q,_e,x,null)}b=z,x=ie,y.multiple=!!M,b!=null?xu(y,!!M,b,!1):x!=null&&xu(y,!!M,x,!0);return;case"textarea":nr("invalid",y),z=Q=M=null;for(ie in x)if(x.hasOwnProperty(ie)&&(_e=x[ie],_e!=null))switch(ie){case"value":M=_e;break;case"defaultValue":Q=_e;break;case"children":z=_e;break;case"dangerouslySetInnerHTML":if(_e!=null)throw Error(a(91));break;default:Hr(y,b,ie,_e,x,null)}Ru(y,M,Q,z);return;case"option":for(Be in x)x.hasOwnProperty(Be)&&(M=x[Be],M!=null)&&(Be==="selected"?y.selected=M&&typeof M!="function"&&typeof M!="symbol":Hr(y,b,Be,M,x,null));return;case"dialog":nr("beforetoggle",y),nr("toggle",y),nr("cancel",y),nr("close",y);break;case"iframe":case"object":nr("load",y);break;case"video":case"audio":for(M=0;M<gv.length;M++)nr(gv[M],y);break;case"image":nr("error",y),nr("load",y);break;case"details":nr("toggle",y);break;case"embed":case"source":case"link":nr("error",y),nr("load",y);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(et in x)if(x.hasOwnProperty(et)&&(M=x[et],M!=null))switch(et){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,b));default:Hr(y,b,et,M,x,null)}return;default:if(fc(b)){for(ct in x)x.hasOwnProperty(ct)&&(M=x[ct],M!==void 0&&N5(y,b,ct,M,x,void 0));return}}for(_e in x)x.hasOwnProperty(_e)&&(M=x[_e],M!=null&&Hr(y,b,_e,M,x,null))}function fAe(y,b,x,M){switch(b){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var Q=null,z=null,ie=null,_e=null,Be=null,et=null,ct=null;for(ut in x){var mt=x[ut];if(x.hasOwnProperty(ut)&&mt!=null)switch(ut){case"checked":break;case"value":break;case"defaultValue":Be=mt;default:M.hasOwnProperty(ut)||Hr(y,b,ut,null,M,mt)}}for(var rt in M){var ut=M[rt];if(mt=x[rt],M.hasOwnProperty(rt)&&(ut!=null||mt!=null))switch(rt){case"type":z=ut;break;case"name":Q=ut;break;case"checked":et=ut;break;case"defaultChecked":ct=ut;break;case"value":ie=ut;break;case"defaultValue":_e=ut;break;case"children":case"dangerouslySetInnerHTML":if(ut!=null)throw Error(a(137,b));break;default:ut!==mt&&Hr(y,b,rt,ut,M,mt)}}Gi(y,ie,_e,Be,et,ct,z,Q);return;case"select":ut=ie=_e=rt=null;for(z in x)if(Be=x[z],x.hasOwnProperty(z)&&Be!=null)switch(z){case"value":break;case"multiple":ut=Be;default:M.hasOwnProperty(z)||Hr(y,b,z,null,M,Be)}for(Q in M)if(z=M[Q],Be=x[Q],M.hasOwnProperty(Q)&&(z!=null||Be!=null))switch(Q){case"value":rt=z;break;case"defaultValue":_e=z;break;case"multiple":ie=z;default:z!==Be&&Hr(y,b,Q,z,M,Be)}b=_e,x=ie,M=ut,rt!=null?xu(y,!!x,rt,!1):!!M!=!!x&&(b!=null?xu(y,!!x,b,!0):xu(y,!!x,x?[]:"",!1));return;case"textarea":ut=rt=null;for(_e in x)if(Q=x[_e],x.hasOwnProperty(_e)&&Q!=null&&!M.hasOwnProperty(_e))switch(_e){case"value":break;case"children":break;default:Hr(y,b,_e,null,M,Q)}for(ie in M)if(Q=M[ie],z=x[ie],M.hasOwnProperty(ie)&&(Q!=null||z!=null))switch(ie){case"value":rt=Q;break;case"defaultValue":ut=Q;break;case"children":break;case"dangerouslySetInnerHTML":if(Q!=null)throw Error(a(91));break;default:Q!==z&&Hr(y,b,ie,Q,M,z)}L1(y,rt,ut);return;case"option":for(var It in x)rt=x[It],x.hasOwnProperty(It)&&rt!=null&&!M.hasOwnProperty(It)&&(It==="selected"?y.selected=!1:Hr(y,b,It,null,M,rt));for(Be in M)rt=M[Be],ut=x[Be],M.hasOwnProperty(Be)&&rt!==ut&&(rt!=null||ut!=null)&&(Be==="selected"?y.selected=rt&&typeof rt!="function"&&typeof rt!="symbol":Hr(y,b,Be,rt,M,ut));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ut in x)rt=x[Ut],x.hasOwnProperty(Ut)&&rt!=null&&!M.hasOwnProperty(Ut)&&Hr(y,b,Ut,null,M,rt);for(et in M)if(rt=M[et],ut=x[et],M.hasOwnProperty(et)&&rt!==ut&&(rt!=null||ut!=null))switch(et){case"children":case"dangerouslySetInnerHTML":if(rt!=null)throw Error(a(137,b));break;default:Hr(y,b,et,rt,M,ut)}return;default:if(fc(b)){for(var kr in x)rt=x[kr],x.hasOwnProperty(kr)&&rt!==void 0&&!M.hasOwnProperty(kr)&&N5(y,b,kr,void 0,M,rt);for(ct in M)rt=M[ct],ut=x[ct],!M.hasOwnProperty(ct)||rt===ut||rt===void 0&&ut===void 0||N5(y,b,ct,rt,M,ut);return}}for(var Ke in x)rt=x[Ke],x.hasOwnProperty(Ke)&&rt!=null&&!M.hasOwnProperty(Ke)&&Hr(y,b,Ke,null,M,rt);for(mt in M)rt=M[mt],ut=x[mt],!M.hasOwnProperty(mt)||rt===ut||rt==null&&ut==null||Hr(y,b,mt,rt,M,ut)}function jG(y){switch(y){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function pAe(){if(typeof performance.getEntriesByType=="function"){for(var y=0,b=0,x=performance.getEntriesByType("resource"),M=0;M<x.length;M++){var Q=x[M],z=Q.transferSize,ie=Q.initiatorType,_e=Q.duration;if(z&&_e&&jG(ie)){for(ie=0,_e=Q.responseEnd,M+=1;M<x.length;M++){var Be=x[M],et=Be.startTime;if(et>_e)break;var ct=Be.transferSize,mt=Be.initiatorType;ct&&jG(mt)&&(Be=Be.responseEnd,ie+=ct*(Be<_e?1:(_e-et)/(Be-et)))}if(--M,b+=8*(z+ie)/(Q.duration/1e3),y++,10<y)break}}if(0<y)return b/y/1e6}return navigator.connection&&(y=navigator.connection.downlink,typeof y=="number")?y:5}var I5=null,D5=null;function OI(y){return y.nodeType===9?y:y.ownerDocument}function MG(y){switch(y){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function CG(y,b){if(y===0)switch(b){case"svg":return 1;case"math":return 2;default:return 0}return y===1&&b==="foreignObject"?0:y}function F5(y,b){return y==="textarea"||y==="noscript"||typeof b.children=="string"||typeof b.children=="number"||typeof b.children=="bigint"||typeof b.dangerouslySetInnerHTML=="object"&&b.dangerouslySetInnerHTML!==null&&b.dangerouslySetInnerHTML.__html!=null}var P5=null;function hAe(){var y=window.event;return y&&y.type==="popstate"?y===P5?!1:(P5=y,!0):(P5=null,!1)}var LG=typeof setTimeout=="function"?setTimeout:void 0,yAe=typeof clearTimeout=="function"?clearTimeout:void 0,qG=typeof Promise=="function"?Promise:void 0,mAe=typeof queueMicrotask=="function"?queueMicrotask:typeof qG<"u"?function(y){return qG.resolve(null).then(y).catch(bAe)}:LG;function bAe(y){setTimeout(function(){throw y})}function qc(y){return y==="head"}function BG(y,b){var x=b,M=0;do{var Q=x.nextSibling;if(y.removeChild(x),Q&&Q.nodeType===8)if(x=Q.data,x==="/$"||x==="/&"){if(M===0){y.removeChild(Q),lg(b);return}M--}else if(x==="$"||x==="$?"||x==="$~"||x==="$!"||x==="&")M++;else if(x==="html")_v(y.ownerDocument.documentElement);else if(x==="head"){x=y.ownerDocument.head,_v(x);for(var z=x.firstChild;z;){var ie=z.nextSibling,_e=z.nodeName;z[vt]||_e==="SCRIPT"||_e==="STYLE"||_e==="LINK"&&z.rel.toLowerCase()==="stylesheet"||x.removeChild(z),z=ie}}else x==="body"&&_v(y.ownerDocument.body);x=Q}while(x);lg(b)}function UG(y,b){var x=y;y=0;do{var M=x.nextSibling;if(x.nodeType===1?b?(x._stashedDisplay=x.style.display,x.style.display="none"):(x.style.display=x._stashedDisplay||"",x.getAttribute("style")===""&&x.removeAttribute("style")):x.nodeType===3&&(b?(x._stashedText=x.nodeValue,x.nodeValue=""):x.nodeValue=x._stashedText||""),M&&M.nodeType===8)if(x=M.data,x==="/$"){if(y===0)break;y--}else x!=="$"&&x!=="$?"&&x!=="$~"&&x!=="$!"||y++;x=M}while(x)}function j5(y){var b=y.firstChild;for(b&&b.nodeType===10&&(b=b.nextSibling);b;){var x=b;switch(b=b.nextSibling,x.nodeName){case"HTML":case"HEAD":case"BODY":j5(x),St(x);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(x.rel.toLowerCase()==="stylesheet")continue}y.removeChild(x)}}function gAe(y,b,x,M){for(;y.nodeType===1;){var Q=x;if(y.nodeName.toLowerCase()!==b.toLowerCase()){if(!M&&(y.nodeName!=="INPUT"||y.type!=="hidden"))break}else if(M){if(!y[vt])switch(b){case"meta":if(!y.hasAttribute("itemprop"))break;return y;case"link":if(z=y.getAttribute("rel"),z==="stylesheet"&&y.hasAttribute("data-precedence"))break;if(z!==Q.rel||y.getAttribute("href")!==(Q.href==null||Q.href===""?null:Q.href)||y.getAttribute("crossorigin")!==(Q.crossOrigin==null?null:Q.crossOrigin)||y.getAttribute("title")!==(Q.title==null?null:Q.title))break;return y;case"style":if(y.hasAttribute("data-precedence"))break;return y;case"script":if(z=y.getAttribute("src"),(z!==(Q.src==null?null:Q.src)||y.getAttribute("type")!==(Q.type==null?null:Q.type)||y.getAttribute("crossorigin")!==(Q.crossOrigin==null?null:Q.crossOrigin))&&z&&y.hasAttribute("async")&&!y.hasAttribute("itemprop"))break;return y;default:return y}}else if(b==="input"&&y.type==="hidden"){var z=Q.name==null?null:""+Q.name;if(Q.type==="hidden"&&y.getAttribute("name")===z)return y}else return y;if(y=ou(y.nextSibling),y===null)break}return null}function vAe(y,b,x){if(b==="")return null;for(;y.nodeType!==3;)if((y.nodeType!==1||y.nodeName!=="INPUT"||y.type!=="hidden")&&!x||(y=ou(y.nextSibling),y===null))return null;return y}function QG(y,b){for(;y.nodeType!==8;)if((y.nodeType!==1||y.nodeName!=="INPUT"||y.type!=="hidden")&&!b||(y=ou(y.nextSibling),y===null))return null;return y}function M5(y){return y.data==="$?"||y.data==="$~"}function C5(y){return y.data==="$!"||y.data==="$?"&&y.ownerDocument.readyState!=="loading"}function _Ae(y,b){var x=y.ownerDocument;if(y.data==="$~")y._reactRetry=b;else if(y.data!=="$?"||x.readyState!=="loading")b();else{var M=function(){b(),x.removeEventListener("DOMContentLoaded",M)};x.addEventListener("DOMContentLoaded",M),y._reactRetry=M}}function ou(y){for(;y!=null;y=y.nextSibling){var b=y.nodeType;if(b===1||b===3)break;if(b===8){if(b=y.data,b==="$"||b==="$!"||b==="$?"||b==="$~"||b==="&"||b==="F!"||b==="F")break;if(b==="/$"||b==="/&")return null}}return y}var L5=null;function VG(y){y=y.nextSibling;for(var b=0;y;){if(y.nodeType===8){var x=y.data;if(x==="/$"||x==="/&"){if(b===0)return ou(y.nextSibling);b--}else x!=="$"&&x!=="$!"&&x!=="$?"&&x!=="$~"&&x!=="&"||b++}y=y.nextSibling}return null}function HG(y){y=y.previousSibling;for(var b=0;y;){if(y.nodeType===8){var x=y.data;if(x==="$"||x==="$!"||x==="$?"||x==="$~"||x==="&"){if(b===0)return y;b--}else x!=="/$"&&x!=="/&"||b++}y=y.previousSibling}return null}function kG(y,b,x){switch(b=OI(x),y){case"html":if(y=b.documentElement,!y)throw Error(a(452));return y;case"head":if(y=b.head,!y)throw Error(a(453));return y;case"body":if(y=b.body,!y)throw Error(a(454));return y;default:throw Error(a(451))}}function _v(y){for(var b=y.attributes;b.length;)y.removeAttributeNode(b[0]);St(y)}var su=new Map,zG=new Set;function xI(y){return typeof y.getRootNode=="function"?y.getRootNode():y.nodeType===9?y:y.ownerDocument}var Is=G.d;G.d={f:TAe,r:wAe,D:SAe,C:EAe,L:AAe,m:OAe,X:RAe,S:xAe,M:NAe};function TAe(){var y=Is.f(),b=gI();return y||b}function wAe(y){var b=wr(y);b!==null&&b.tag===5&&b.type==="form"?sz(b):Is.r(y)}var og=typeof document>"u"?null:document;function GG(y,b,x){var M=og;if(M&&typeof b=="string"&&b){var Q=Ia(b);Q='link[rel="'+y+'"][href="'+Q+'"]',typeof x=="string"&&(Q+='[crossorigin="'+x+'"]'),zG.has(Q)||(zG.add(Q),y={rel:y,crossOrigin:x,href:b},M.querySelector(Q)===null&&(b=M.createElement("link"),ga(b,"link",y),yr(b),M.head.appendChild(b)))}}function SAe(y){Is.D(y),GG("dns-prefetch",y,null)}function EAe(y,b){Is.C(y,b),GG("preconnect",y,b)}function AAe(y,b,x){Is.L(y,b,x);var M=og;if(M&&y&&b){var Q='link[rel="preload"][as="'+Ia(b)+'"]';b==="image"&&x&&x.imageSrcSet?(Q+='[imagesrcset="'+Ia(x.imageSrcSet)+'"]',typeof x.imageSizes=="string"&&(Q+='[imagesizes="'+Ia(x.imageSizes)+'"]')):Q+='[href="'+Ia(y)+'"]';var z=Q;switch(b){case"style":z=sg(y);break;case"script":z=cg(y)}su.has(z)||(y=d({rel:"preload",href:b==="image"&&x&&x.imageSrcSet?void 0:y,as:b},x),su.set(z,y),M.querySelector(Q)!==null||b==="style"&&M.querySelector(Tv(z))||b==="script"&&M.querySelector(wv(z))||(b=M.createElement("link"),ga(b,"link",y),yr(b),M.head.appendChild(b)))}}function OAe(y,b){Is.m(y,b);var x=og;if(x&&y){var M=b&&typeof b.as=="string"?b.as:"script",Q='link[rel="modulepreload"][as="'+Ia(M)+'"][href="'+Ia(y)+'"]',z=Q;switch(M){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":z=cg(y)}if(!su.has(z)&&(y=d({rel:"modulepreload",href:y},b),su.set(z,y),x.querySelector(Q)===null)){switch(M){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(x.querySelector(wv(z)))return}M=x.createElement("link"),ga(M,"link",y),yr(M),x.head.appendChild(M)}}}function xAe(y,b,x){Is.S(y,b,x);var M=og;if(M&&y){var Q=aa(M).hoistableStyles,z=sg(y);b=b||"default";var ie=Q.get(z);if(!ie){var _e={loading:0,preload:null};if(ie=M.querySelector(Tv(z)))_e.loading=5;else{y=d({rel:"stylesheet",href:y,"data-precedence":b},x),(x=su.get(z))&&q5(y,x);var Be=ie=M.createElement("link");yr(Be),ga(Be,"link",y),Be._p=new Promise(function(et,ct){Be.onload=et,Be.onerror=ct}),Be.addEventListener("load",function(){_e.loading|=1}),Be.addEventListener("error",function(){_e.loading|=2}),_e.loading|=4,RI(ie,b,M)}ie={type:"stylesheet",instance:ie,count:1,state:_e},Q.set(z,ie)}}}function RAe(y,b){Is.X(y,b);var x=og;if(x&&y){var M=aa(x).hoistableScripts,Q=cg(y),z=M.get(Q);z||(z=x.querySelector(wv(Q)),z||(y=d({src:y,async:!0},b),(b=su.get(Q))&&B5(y,b),z=x.createElement("script"),yr(z),ga(z,"link",y),x.head.appendChild(z)),z={type:"script",instance:z,count:1,state:null},M.set(Q,z))}}function NAe(y,b){Is.M(y,b);var x=og;if(x&&y){var M=aa(x).hoistableScripts,Q=cg(y),z=M.get(Q);z||(z=x.querySelector(wv(Q)),z||(y=d({src:y,async:!0,type:"module"},b),(b=su.get(Q))&&B5(y,b),z=x.createElement("script"),yr(z),ga(z,"link",y),x.head.appendChild(z)),z={type:"script",instance:z,count:1,state:null},M.set(Q,z))}}function $G(y,b,x,M){var Q=(Q=Ae.current)?xI(Q):null;if(!Q)throw Error(a(446));switch(y){case"meta":case"title":return null;case"style":return typeof x.precedence=="string"&&typeof x.href=="string"?(b=sg(x.href),x=aa(Q).hoistableStyles,M=x.get(b),M||(M={type:"style",instance:null,count:0,state:null},x.set(b,M)),M):{type:"void",instance:null,count:0,state:null};case"link":if(x.rel==="stylesheet"&&typeof x.href=="string"&&typeof x.precedence=="string"){y=sg(x.href);var z=aa(Q).hoistableStyles,ie=z.get(y);if(ie||(Q=Q.ownerDocument||Q,ie={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},z.set(y,ie),(z=Q.querySelector(Tv(y)))&&!z._p&&(ie.instance=z,ie.state.loading=5),su.has(y)||(x={rel:"preload",as:"style",href:x.href,crossOrigin:x.crossOrigin,integrity:x.integrity,media:x.media,hrefLang:x.hrefLang,referrerPolicy:x.referrerPolicy},su.set(y,x),z||IAe(Q,y,x,ie.state))),b&&M===null)throw Error(a(528,""));return ie}if(b&&M!==null)throw Error(a(529,""));return null;case"script":return b=x.async,x=x.src,typeof x=="string"&&b&&typeof b!="function"&&typeof b!="symbol"?(b=cg(x),x=aa(Q).hoistableScripts,M=x.get(b),M||(M={type:"script",instance:null,count:0,state:null},x.set(b,M)),M):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,y))}}function sg(y){return'href="'+Ia(y)+'"'}function Tv(y){return'link[rel="stylesheet"]['+y+"]"}function XG(y){return d({},y,{"data-precedence":y.precedence,precedence:null})}function IAe(y,b,x,M){y.querySelector('link[rel="preload"][as="style"]['+b+"]")?M.loading=1:(b=y.createElement("link"),M.preload=b,b.addEventListener("load",function(){return M.loading|=1}),b.addEventListener("error",function(){return M.loading|=2}),ga(b,"link",x),yr(b),y.head.appendChild(b))}function cg(y){return'[src="'+Ia(y)+'"]'}function wv(y){return"script[async]"+y}function KG(y,b,x){if(b.count++,b.instance===null)switch(b.type){case"style":var M=y.querySelector('style[data-href~="'+Ia(x.href)+'"]');if(M)return b.instance=M,yr(M),M;var Q=d({},x,{"data-href":x.href,"data-precedence":x.precedence,href:null,precedence:null});return M=(y.ownerDocument||y).createElement("style"),yr(M),ga(M,"style",Q),RI(M,x.precedence,y),b.instance=M;case"stylesheet":Q=sg(x.href);var z=y.querySelector(Tv(Q));if(z)return b.state.loading|=4,b.instance=z,yr(z),z;M=XG(x),(Q=su.get(Q))&&q5(M,Q),z=(y.ownerDocument||y).createElement("link"),yr(z);var ie=z;return ie._p=new Promise(function(_e,Be){ie.onload=_e,ie.onerror=Be}),ga(z,"link",M),b.state.loading|=4,RI(z,x.precedence,y),b.instance=z;case"script":return z=cg(x.src),(Q=y.querySelector(wv(z)))?(b.instance=Q,yr(Q),Q):(M=x,(Q=su.get(z))&&(M=d({},x),B5(M,Q)),y=y.ownerDocument||y,Q=y.createElement("script"),yr(Q),ga(Q,"link",M),y.head.appendChild(Q),b.instance=Q);case"void":return null;default:throw Error(a(443,b.type))}else b.type==="stylesheet"&&(b.state.loading&4)===0&&(M=b.instance,b.state.loading|=4,RI(M,x.precedence,y));return b.instance}function RI(y,b,x){for(var M=x.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),Q=M.length?M[M.length-1]:null,z=Q,ie=0;ie<M.length;ie++){var _e=M[ie];if(_e.dataset.precedence===b)z=_e;else if(z!==Q)break}z?z.parentNode.insertBefore(y,z.nextSibling):(b=x.nodeType===9?x.head:x,b.insertBefore(y,b.firstChild))}function q5(y,b){y.crossOrigin==null&&(y.crossOrigin=b.crossOrigin),y.referrerPolicy==null&&(y.referrerPolicy=b.referrerPolicy),y.title==null&&(y.title=b.title)}function B5(y,b){y.crossOrigin==null&&(y.crossOrigin=b.crossOrigin),y.referrerPolicy==null&&(y.referrerPolicy=b.referrerPolicy),y.integrity==null&&(y.integrity=b.integrity)}var NI=null;function JG(y,b,x){if(NI===null){var M=new Map,Q=NI=new Map;Q.set(x,M)}else Q=NI,M=Q.get(x),M||(M=new Map,Q.set(x,M));if(M.has(y))return M;for(M.set(y,null),x=x.getElementsByTagName(y),Q=0;Q<x.length;Q++){var z=x[Q];if(!(z[vt]||z[wt]||y==="link"&&z.getAttribute("rel")==="stylesheet")&&z.namespaceURI!=="http://www.w3.org/2000/svg"){var ie=z.getAttribute(b)||"";ie=y+ie;var _e=M.get(ie);_e?_e.push(z):M.set(ie,[z])}}return M}function WG(y,b,x){y=y.ownerDocument||y,y.head.insertBefore(x,b==="title"?y.querySelector("head > title"):null)}function DAe(y,b,x){if(x===1||b.itemProp!=null)return!1;switch(y){case"meta":case"title":return!0;case"style":if(typeof b.precedence!="string"||typeof b.href!="string"||b.href==="")break;return!0;case"link":if(typeof b.rel!="string"||typeof b.href!="string"||b.href===""||b.onLoad||b.onError)break;return b.rel==="stylesheet"?(y=b.disabled,typeof b.precedence=="string"&&y==null):!0;case"script":if(b.async&&typeof b.async!="function"&&typeof b.async!="symbol"&&!b.onLoad&&!b.onError&&b.src&&typeof b.src=="string")return!0}return!1}function YG(y){return!(y.type==="stylesheet"&&(y.state.loading&3)===0)}function FAe(y,b,x,M){if(x.type==="stylesheet"&&(typeof M.media!="string"||matchMedia(M.media).matches!==!1)&&(x.state.loading&4)===0){if(x.instance===null){var Q=sg(M.href),z=b.querySelector(Tv(Q));if(z){b=z._p,b!==null&&typeof b=="object"&&typeof b.then=="function"&&(y.count++,y=II.bind(y),b.then(y,y)),x.state.loading|=4,x.instance=z,yr(z);return}z=b.ownerDocument||b,M=XG(M),(Q=su.get(Q))&&q5(M,Q),z=z.createElement("link"),yr(z);var ie=z;ie._p=new Promise(function(_e,Be){ie.onload=_e,ie.onerror=Be}),ga(z,"link",M),x.instance=z}y.stylesheets===null&&(y.stylesheets=new Map),y.stylesheets.set(x,b),(b=x.state.preload)&&(x.state.loading&3)===0&&(y.count++,x=II.bind(y),b.addEventListener("load",x),b.addEventListener("error",x))}}var U5=0;function PAe(y,b){return y.stylesheets&&y.count===0&&FI(y,y.stylesheets),0<y.count||0<y.imgCount?function(x){var M=setTimeout(function(){if(y.stylesheets&&FI(y,y.stylesheets),y.unsuspend){var z=y.unsuspend;y.unsuspend=null,z()}},6e4+b);0<y.imgBytes&&U5===0&&(U5=62500*pAe());var Q=setTimeout(function(){if(y.waitingForImages=!1,y.count===0&&(y.stylesheets&&FI(y,y.stylesheets),y.unsuspend)){var z=y.unsuspend;y.unsuspend=null,z()}},(y.imgBytes>U5?50:800)+b);return y.unsuspend=x,function(){y.unsuspend=null,clearTimeout(M),clearTimeout(Q)}}:null}function II(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)FI(this,this.stylesheets);else if(this.unsuspend){var y=this.unsuspend;this.unsuspend=null,y()}}}var DI=null;function FI(y,b){y.stylesheets=null,y.unsuspend!==null&&(y.count++,DI=new Map,b.forEach(jAe,y),DI=null,II.call(y))}function jAe(y,b){if(!(b.state.loading&4)){var x=DI.get(y);if(x)var M=x.get(null);else{x=new Map,DI.set(y,x);for(var Q=y.querySelectorAll("link[data-precedence],style[data-precedence]"),z=0;z<Q.length;z++){var ie=Q[z];(ie.nodeName==="LINK"||ie.getAttribute("media")!=="not all")&&(x.set(ie.dataset.precedence,ie),M=ie)}M&&x.set(null,M)}Q=b.instance,ie=Q.getAttribute("data-precedence"),z=x.get(ie)||M,z===M&&x.set(null,Q),x.set(ie,Q),this.count++,M=II.bind(this),Q.addEventListener("load",M),Q.addEventListener("error",M),z?z.parentNode.insertBefore(Q,z.nextSibling):(y=y.nodeType===9?y.head:y,y.insertBefore(Q,y.firstChild)),b.state.loading|=4}}var Sv={$$typeof:T,Provider:null,Consumer:null,_currentValue:J,_currentValue2:J,_threadCount:0};function MAe(y,b,x,M,Q,z,ie,_e,Be){this.tag=1,this.containerInfo=y,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Te(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Te(0),this.hiddenUpdates=Te(null),this.identifierPrefix=M,this.onUncaughtError=Q,this.onCaughtError=z,this.onRecoverableError=ie,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Be,this.incompleteTransitions=new Map}function ZG(y,b,x,M,Q,z,ie,_e,Be,et,ct,mt){return y=new MAe(y,b,x,ie,Be,et,ct,mt,_e),b=1,z===!0&&(b|=24),z=Ei(3,null,null,b),y.current=z,z.stateNode=y,b=v8(),b.refCount++,y.pooledCache=b,b.refCount++,z.memoizedState={element:M,isDehydrated:x,cache:b},S8(z),y}function e$(y){return y?(y=Ub,y):Ub}function t$(y,b,x,M,Q,z){Q=e$(Q),M.context===null?M.context=Q:M.pendingContext=Q,M=xc(b),M.payload={element:x},z=z===void 0?null:z,z!==null&&(M.callback=z),x=Rc(y,M,b),x!==null&&(ci(x,y,b),tv(x,y,b))}function r$(y,b){if(y=y.memoizedState,y!==null&&y.dehydrated!==null){var x=y.retryLane;y.retryLane=x!==0&&x<b?x:b}}function Q5(y,b){r$(y,b),(y=y.alternate)&&r$(y,b)}function n$(y){if(y.tag===13||y.tag===31){var b=kl(y,67108864);b!==null&&ci(b,y,67108864),Q5(y,67108864)}}function a$(y){if(y.tag===13||y.tag===31){var b=Ni();b=Ot(b);var x=kl(y,b);x!==null&&ci(x,y,b),Q5(y,b)}}var PI=!0;function CAe(y,b,x,M){var Q=U.T;U.T=null;var z=G.p;try{G.p=2,V5(y,b,x,M)}finally{G.p=z,U.T=Q}}function LAe(y,b,x,M){var Q=U.T;U.T=null;var z=G.p;try{G.p=8,V5(y,b,x,M)}finally{G.p=z,U.T=Q}}function V5(y,b,x,M){if(PI){var Q=H5(M);if(Q===null)R5(y,b,M,jI,x),u$(y,M);else if(BAe(Q,y,b,x,M))M.stopPropagation();else if(u$(y,M),b&4&&-1<qAe.indexOf(y)){for(;Q!==null;){var z=wr(Q);if(z!==null)switch(z.tag){case 3:if(z=z.stateNode,z.current.memoizedState.isDehydrated){var ie=Qe(z.pendingLanes);if(ie!==0){var _e=z;for(_e.pendingLanes|=2,_e.entangledLanes|=2;ie;){var Be=1<<31-Pe(ie);_e.entanglements[1]|=Be,ie&=~Be}Eo(z),(xr&6)===0&&(mI=He()+500,bv(0))}}break;case 31:case 13:_e=kl(z,2),_e!==null&&ci(_e,z,2),gI(),Q5(z,2)}if(z=H5(M),z===null&&R5(y,b,M,jI,x),z===Q)break;Q=z}Q!==null&&M.stopPropagation()}else R5(y,b,M,null,x)}}function H5(y){return y=is(y),k5(y)}var jI=null;function k5(y){if(jI=null,y=Vt(y),y!==null){var b=t(y);if(b===null)y=null;else{var x=b.tag;if(x===13){if(y=i(b),y!==null)return y;y=null}else if(x===31){if(y=o(b),y!==null)return y;y=null}else if(x===3){if(b.stateNode.current.memoizedState.isDehydrated)return b.tag===3?b.stateNode.containerInfo:null;y=null}else b!==y&&(y=null)}}return jI=y,null}function i$(y){switch(y){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Je()){case Ye:return 2;case oe:return 8;case X:case Y:return 32;case he:return 268435456;default:return 32}default:return 32}}var z5=!1,Bc=null,Uc=null,Qc=null,Ev=new Map,Av=new Map,Vc=[],qAe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function u$(y,b){switch(y){case"focusin":case"focusout":Bc=null;break;case"dragenter":case"dragleave":Uc=null;break;case"mouseover":case"mouseout":Qc=null;break;case"pointerover":case"pointerout":Ev.delete(b.pointerId);break;case"gotpointercapture":case"lostpointercapture":Av.delete(b.pointerId)}}function Ov(y,b,x,M,Q,z){return y===null||y.nativeEvent!==z?(y={blockedOn:b,domEventName:x,eventSystemFlags:M,nativeEvent:z,targetContainers:[Q]},b!==null&&(b=wr(b),b!==null&&n$(b)),y):(y.eventSystemFlags|=M,b=y.targetContainers,Q!==null&&b.indexOf(Q)===-1&&b.push(Q),y)}function BAe(y,b,x,M,Q){switch(b){case"focusin":return Bc=Ov(Bc,y,b,x,M,Q),!0;case"dragenter":return Uc=Ov(Uc,y,b,x,M,Q),!0;case"mouseover":return Qc=Ov(Qc,y,b,x,M,Q),!0;case"pointerover":var z=Q.pointerId;return Ev.set(z,Ov(Ev.get(z)||null,y,b,x,M,Q)),!0;case"gotpointercapture":return z=Q.pointerId,Av.set(z,Ov(Av.get(z)||null,y,b,x,M,Q)),!0}return!1}function o$(y){var b=Vt(y.target);if(b!==null){var x=t(b);if(x!==null){if(b=x.tag,b===13){if(b=i(x),b!==null){y.blockedOn=b,Tt(y.priority,function(){a$(x)});return}}else if(b===31){if(b=o(x),b!==null){y.blockedOn=b,Tt(y.priority,function(){a$(x)});return}}else if(b===3&&x.stateNode.current.memoizedState.isDehydrated){y.blockedOn=x.tag===3?x.stateNode.containerInfo:null;return}}}y.blockedOn=null}function MI(y){if(y.blockedOn!==null)return!1;for(var b=y.targetContainers;0<b.length;){var x=H5(y.nativeEvent);if(x===null){x=y.nativeEvent;var M=new x.constructor(x.type,x);jl=M,x.target.dispatchEvent(M),jl=null}else return b=wr(x),b!==null&&n$(b),y.blockedOn=x,!1;b.shift()}return!0}function s$(y,b,x){MI(y)&&x.delete(b)}function UAe(){z5=!1,Bc!==null&&MI(Bc)&&(Bc=null),Uc!==null&&MI(Uc)&&(Uc=null),Qc!==null&&MI(Qc)&&(Qc=null),Ev.forEach(s$),Av.forEach(s$)}function CI(y,b){y.blockedOn===b&&(y.blockedOn=null,z5||(z5=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,UAe)))}var LI=null;function c$(y){LI!==y&&(LI=y,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){LI===y&&(LI=null);for(var b=0;b<y.length;b+=3){var x=y[b],M=y[b+1],Q=y[b+2];if(typeof M!="function"){if(k5(M||x)===null)continue;break}var z=wr(x);z!==null&&(y.splice(b,3),b-=3,H8(z,{pending:!0,data:Q,method:x.method,action:M},M,Q))}}))}function lg(y){function b(Be){return CI(Be,y)}Bc!==null&&CI(Bc,y),Uc!==null&&CI(Uc,y),Qc!==null&&CI(Qc,y),Ev.forEach(b),Av.forEach(b);for(var x=0;x<Vc.length;x++){var M=Vc[x];M.blockedOn===y&&(M.blockedOn=null)}for(;0<Vc.length&&(x=Vc[0],x.blockedOn===null);)o$(x),x.blockedOn===null&&Vc.shift();if(x=(y.ownerDocument||y).$$reactFormReplay,x!=null)for(M=0;M<x.length;M+=3){var Q=x[M],z=x[M+1],ie=Q[gt]||null;if(typeof z=="function")ie||c$(x);else if(ie){var _e=null;if(z&&z.hasAttribute("formAction")){if(Q=z,ie=z[gt]||null)_e=ie.formAction;else if(k5(Q)!==null)continue}else _e=ie.action;typeof _e=="function"?x[M+1]=_e:(x.splice(M,3),M-=3),c$(x)}}}function l$(){function y(z){z.canIntercept&&z.info==="react-transition"&&z.intercept({handler:function(){return new Promise(function(ie){return Q=ie})},focusReset:"manual",scroll:"manual"})}function b(){Q!==null&&(Q(),Q=null),M||setTimeout(x,20)}function x(){if(!M&&!navigation.transition){var z=navigation.currentEntry;z&&z.url!=null&&navigation.navigate(z.url,{state:z.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var M=!1,Q=null;return navigation.addEventListener("navigate",y),navigation.addEventListener("navigatesuccess",b),navigation.addEventListener("navigateerror",b),setTimeout(x,100),function(){M=!0,navigation.removeEventListener("navigate",y),navigation.removeEventListener("navigatesuccess",b),navigation.removeEventListener("navigateerror",b),Q!==null&&(Q(),Q=null)}}}function G5(y){this._internalRoot=y}qI.prototype.render=G5.prototype.render=function(y){var b=this._internalRoot;if(b===null)throw Error(a(409));var x=b.current,M=Ni();t$(x,M,y,b,null,null)},qI.prototype.unmount=G5.prototype.unmount=function(){var y=this._internalRoot;if(y!==null){this._internalRoot=null;var b=y.containerInfo;t$(y.current,2,null,y,null,null),gI(),b[dr]=null}};function qI(y){this._internalRoot=y}qI.prototype.unstable_scheduleHydration=function(y){if(y){var b=bt();y={blockedOn:null,target:y,priority:b};for(var x=0;x<Vc.length&&b!==0&&b<Vc[x].priority;x++);Vc.splice(x,0,y),x===0&&o$(y)}};var d$=e.version;if(d$!=="19.2.3")throw Error(a(527,d$,"19.2.3"));G.findDOMNode=function(y){var b=y._reactInternals;if(b===void 0)throw typeof y.render=="function"?Error(a(188)):(y=Object.keys(y).join(","),Error(a(268,y)));return y=s(b),y=y!==null?c(y):null,y=y===null?null:y.stateNode,y};var QAe={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var BI=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!BI.isDisabled&&BI.supportsFiber)try{re=BI.inject(QAe),Ie=BI}catch{}}return Rv.createRoot=function(y,b){if(!r(y))throw Error(a(299));var x=!1,M="",Q=gz,z=vz,ie=_z;return b!=null&&(b.unstable_strictMode===!0&&(x=!0),b.identifierPrefix!==void 0&&(M=b.identifierPrefix),b.onUncaughtError!==void 0&&(Q=b.onUncaughtError),b.onCaughtError!==void 0&&(z=b.onCaughtError),b.onRecoverableError!==void 0&&(ie=b.onRecoverableError)),b=ZG(y,1,!1,null,null,x,M,null,Q,z,ie,l$),y[dr]=b.current,x5(y),new G5(b)},Rv.hydrateRoot=function(y,b,x){if(!r(y))throw Error(a(299));var M=!1,Q="",z=gz,ie=vz,_e=_z,Be=null;return x!=null&&(x.unstable_strictMode===!0&&(M=!0),x.identifierPrefix!==void 0&&(Q=x.identifierPrefix),x.onUncaughtError!==void 0&&(z=x.onUncaughtError),x.onCaughtError!==void 0&&(ie=x.onCaughtError),x.onRecoverableError!==void 0&&(_e=x.onRecoverableError),x.formState!==void 0&&(Be=x.formState)),b=ZG(y,1,!0,b,x??null,M,Q,Be,z,ie,_e,l$),b.context=e$(null),x=b.current,M=Ni(),M=Ot(M),Q=xc(M),Q.callback=null,Rc(x,Q,M),x=M,b.current.lanes=x,qe(b,x),Eo(b),y[dr]=b.current,x5(y),new qI(b)},Rv.version="19.2.3",Rv}var T$;function YAe(){if(T$)return K5.exports;T$=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),K5.exports=WAe(),K5.exports}var ZAe=YAe();const eOe=vve(ZAe);var w$="popstate";function tOe(n={}){function e(r,t){let{pathname:i="/",search:o="",hash:l=""}=yb(r.location.hash.substring(1));return!i.startsWith("/")&&!i.startsWith(".")&&(i="/"+i),GL("",{pathname:i,search:o,hash:l},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}function u(r,t){let i=r.document.querySelector("base"),o="";if(i&&i.getAttribute("href")){let l=r.location.href,s=l.indexOf("#");o=s===-1?l:l.slice(0,s)}return o+"#"+(typeof t=="string"?t:o4(t))}function a(r,t){wu(r.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(t)})`)}return nOe(e,u,a,n)}function En(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function wu(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function rOe(){return Math.random().toString(36).substring(2,10)}function S$(n,e){return{usr:n.state,key:n.key,idx:e}}function GL(n,e,u=null,a){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?yb(e):e,state:u,key:e&&e.key||a||rOe()}}function o4({pathname:n="/",search:e="",hash:u=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),u&&u!=="#"&&(n+=u.charAt(0)==="#"?u:"#"+u),n}function yb(n){let e={};if(n){let u=n.indexOf("#");u>=0&&(e.hash=n.substring(u),n=n.substring(0,u));let a=n.indexOf("?");a>=0&&(e.search=n.substring(a),n=n.substring(0,a)),n&&(e.pathname=n)}return e}function nOe(n,e,u,a={}){let{window:r=document.defaultView,v5Compat:t=!1}=a,i=r.history,o="POP",l=null,s=c();s==null&&(s=0,i.replaceState({...i.state,idx:s},""));function c(){return(i.state||{idx:null}).idx}function d(){o="POP";let _=c(),m=_==null?null:_-s;s=_,l&&l({action:o,location:g.location,delta:m})}function f(_,m){o="PUSH";let w=GL(g.location,_,m);u&&u(w,_),s=c()+1;let T=S$(w,s),E=g.createHref(w);try{i.pushState(T,"",E)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;r.location.assign(E)}t&&l&&l({action:o,location:g.location,delta:1})}function p(_,m){o="REPLACE";let w=GL(g.location,_,m);u&&u(w,_),s=c();let T=S$(w,s),E=g.createHref(w);i.replaceState(T,"",E),t&&l&&l({action:o,location:g.location,delta:0})}function h(_){return aOe(_)}let g={get action(){return o},get location(){return n(r,i)},listen(_){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(w$,d),l=_,()=>{r.removeEventListener(w$,d),l=null}},createHref(_){return e(r,_)},createURL:h,encodeLocation(_){let m=h(_);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:f,replace:p,go(_){return i.go(_)}};return g}function aOe(n,e=!1){let u="http://localhost";typeof window<"u"&&(u=window.location.origin!=="null"?window.location.origin:window.location.href),En(u,"No window.location.(origin|href) available to create URL");let a=typeof n=="string"?n:o4(n);return a=a.replace(/ $/,"%20"),!e&&a.startsWith("//")&&(a=u+a),new URL(a,u)}function _ve(n,e,u="/"){return iOe(n,e,u,!1)}function iOe(n,e,u,a){let r=typeof e=="string"?yb(e):e,t=Ys(r.pathname||"/",u);if(t==null)return null;let i=Tve(n);uOe(i);let o=null;for(let l=0;o==null&&l<i.length;++l){let s=bOe(t);o=yOe(i[l],s,a)}return o}function Tve(n,e=[],u=[],a="",r=!1){let t=(i,o,l=r,s)=>{let c={relativePath:s===void 0?i.path||"":s,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};if(c.relativePath.startsWith("/")){if(!c.relativePath.startsWith(a)&&l)return;En(c.relativePath.startsWith(a),`Absolute route path "${c.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(a.length)}let d=Ks([a,c.relativePath]),f=u.concat(c);i.children&&i.children.length>0&&(En(i.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),Tve(i.children,e,f,d,l)),!(i.path==null&&!i.index)&&e.push({path:d,score:pOe(d,i.index),routesMeta:f})};return n.forEach((i,o)=>{if(i.path===""||!i.path?.includes("?"))t(i,o);else for(let l of wve(i.path))t(i,o,!0,l)}),e}function wve(n){let e=n.split("/");if(e.length===0)return[];let[u,...a]=e,r=u.endsWith("?"),t=u.replace(/\?$/,"");if(a.length===0)return r?[t,""]:[t];let i=wve(a.join("/")),o=[];return o.push(...i.map(l=>l===""?t:[t,l].join("/"))),r&&o.push(...i),o.map(l=>n.startsWith("/")&&l===""?"/":l)}function uOe(n){n.sort((e,u)=>e.score!==u.score?u.score-e.score:hOe(e.routesMeta.map(a=>a.childrenIndex),u.routesMeta.map(a=>a.childrenIndex)))}var oOe=/^:[\w-]+$/,sOe=3,cOe=2,lOe=1,dOe=10,fOe=-2,E$=n=>n==="*";function pOe(n,e){let u=n.split("/"),a=u.length;return u.some(E$)&&(a+=fOe),e&&(a+=cOe),u.filter(r=>!E$(r)).reduce((r,t)=>r+(oOe.test(t)?sOe:t===""?lOe:dOe),a)}function hOe(n,e){return n.length===e.length&&n.slice(0,-1).every((a,r)=>a===e[r])?n[n.length-1]-e[e.length-1]:0}function yOe(n,e,u=!1){let{routesMeta:a}=n,r={},t="/",i=[];for(let o=0;o<a.length;++o){let l=a[o],s=o===a.length-1,c=t==="/"?e:e.slice(t.length)||"/",d=wF({path:l.relativePath,caseSensitive:l.caseSensitive,end:s},c),f=l.route;if(!d&&s&&u&&!a[a.length-1].route.index&&(d=wF({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},c)),!d)return null;Object.assign(r,d.params),i.push({params:r,pathname:Ks([t,d.pathname]),pathnameBase:wOe(Ks([t,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(t=Ks([t,d.pathnameBase]))}return i}function wF(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[u,a]=mOe(n.path,n.caseSensitive,n.end),r=e.match(u);if(!r)return null;let t=r[0],i=t.replace(/(.)\/+$/,"$1"),o=r.slice(1);return{params:a.reduce((s,{paramName:c,isOptional:d},f)=>{if(c==="*"){let h=o[f]||"";i=t.slice(0,t.length-h.length).replace(/(.)\/+$/,"$1")}const p=o[f];return d&&!p?s[c]=void 0:s[c]=(p||"").replace(/%2F/g,"/"),s},{}),pathname:t,pathnameBase:i,pattern:n}}function mOe(n,e=!1,u=!0){wu(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let a=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,o,l)=>(a.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(a.push({paramName:"*"}),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):u?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),a]}function bOe(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return wu(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Ys(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let u=e.endsWith("/")?e.length-1:e.length,a=n.charAt(u);return a&&a!=="/"?null:n.slice(u)||"/"}var gOe=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,vOe=n=>gOe.test(n);function _Oe(n,e="/"){let{pathname:u,search:a="",hash:r=""}=typeof n=="string"?yb(n):n,t;if(u)if(vOe(u))t=u;else{if(u.includes("//")){let i=u;u=u.replace(/\/\/+/g,"/"),wu(!1,`Pathnames cannot have embedded double slashes - normalizing ${i} -> ${u}`)}u.startsWith("/")?t=A$(u.substring(1),"/"):t=A$(u,e)}else t=e;return{pathname:t,search:SOe(a),hash:EOe(r)}}function A$(n,e){let u=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?u.length>1&&u.pop():r!=="."&&u.push(r)}),u.length>1?u.join("/"):"/"}function Z5(n,e,u,a){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${u}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function TOe(n){return n.filter((e,u)=>u===0||e.route.path&&e.route.path.length>0)}function Sve(n){let e=TOe(n);return e.map((u,a)=>a===e.length-1?u.pathname:u.pathnameBase)}function Eve(n,e,u,a=!1){let r;typeof n=="string"?r=yb(n):(r={...n},En(!r.pathname||!r.pathname.includes("?"),Z5("?","pathname","search",r)),En(!r.pathname||!r.pathname.includes("#"),Z5("#","pathname","hash",r)),En(!r.search||!r.search.includes("#"),Z5("#","search","hash",r)));let t=n===""||r.pathname==="",i=t?"/":r.pathname,o;if(i==null)o=u;else{let d=e.length-1;if(!a&&i.startsWith("..")){let f=i.split("/");for(;f[0]==="..";)f.shift(),d-=1;r.pathname=f.join("/")}o=d>=0?e[d]:"/"}let l=_Oe(r,o),s=i&&i!=="/"&&i.endsWith("/"),c=(t||i===".")&&u.endsWith("/");return!l.pathname.endsWith("/")&&(s||c)&&(l.pathname+="/"),l}var Ks=n=>n.join("/").replace(/\/\/+/g,"/"),wOe=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),SOe=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,EOe=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function AOe(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function OOe(n){return n.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Ave=["POST","PUT","PATCH","DELETE"];new Set(Ave);var xOe=["GET",...Ave];new Set(xOe);var h1=ze.createContext(null);h1.displayName="DataRouter";var GF=ze.createContext(null);GF.displayName="DataRouterState";ze.createContext(!1);var Ove=ze.createContext({isTransitioning:!1});Ove.displayName="ViewTransition";var ROe=ze.createContext(new Map);ROe.displayName="Fetchers";var NOe=ze.createContext(null);NOe.displayName="Await";var ho=ze.createContext(null);ho.displayName="Navigation";var N4=ze.createContext(null);N4.displayName="Location";var Ho=ze.createContext({outlet:null,matches:[],isDataRoute:!1});Ho.displayName="Route";var U7=ze.createContext(null);U7.displayName="RouteError";function IOe(n,{relative:e}={}){En(I4(),"useHref() may be used only in the context of a <Router> component.");let{basename:u,navigator:a}=ze.useContext(ho),{hash:r,pathname:t,search:i}=F4(n,{relative:e}),o=t;return u!=="/"&&(o=t==="/"?u:Ks([u,t])),a.createHref({pathname:o,search:i,hash:r})}function I4(){return ze.useContext(N4)!=null}function nc(){return En(I4(),"useLocation() may be used only in the context of a <Router> component."),ze.useContext(N4).location}var xve="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Rve(n){ze.useContext(ho).static||ze.useLayoutEffect(n)}function D4(){let{isDataRoute:n}=ze.useContext(Ho);return n?HOe():DOe()}function DOe(){En(I4(),"useNavigate() may be used only in the context of a <Router> component.");let n=ze.useContext(h1),{basename:e,navigator:u}=ze.useContext(ho),{matches:a}=ze.useContext(Ho),{pathname:r}=nc(),t=JSON.stringify(Sve(a)),i=ze.useRef(!1);return Rve(()=>{i.current=!0}),ze.useCallback((l,s={})=>{if(wu(i.current,xve),!i.current)return;if(typeof l=="number"){u.go(l);return}let c=Eve(l,JSON.parse(t),r,s.relative==="path");n==null&&e!=="/"&&(c.pathname=c.pathname==="/"?e:Ks([e,c.pathname])),(s.replace?u.replace:u.push)(c,s.state,s)},[e,u,t,r,n])}ze.createContext(null);function Nve(){let{matches:n}=ze.useContext(Ho),e=n[n.length-1];return e?e.params:{}}function F4(n,{relative:e}={}){let{matches:u}=ze.useContext(Ho),{pathname:a}=nc(),r=JSON.stringify(Sve(u));return ze.useMemo(()=>Eve(n,JSON.parse(r),a,e==="path"),[n,r,a,e])}function FOe(n,e){return Ive(n,e)}function Ive(n,e,u,a,r){En(I4(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:t}=ze.useContext(ho),{matches:i}=ze.useContext(Ho),o=i[i.length-1],l=o?o.params:{},s=o?o.pathname:"/",c=o?o.pathnameBase:"/",d=o&&o.route;{let w=d&&d.path||"";Dve(s,!d||w.endsWith("*")||w.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${s}" (under <Route path="${w}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${w}"> to <Route path="${w==="/"?"*":`${w}/*`}">.`)}let f=nc(),p;if(e){let w=typeof e=="string"?yb(e):e;En(c==="/"||w.pathname?.startsWith(c),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${c}" but pathname "${w.pathname}" was given in the \`location\` prop.`),p=w}else p=f;let h=p.pathname||"/",g=h;if(c!=="/"){let w=c.replace(/^\//,"").split("/");g="/"+h.replace(/^\//,"").split("/").slice(w.length).join("/")}let _=_ve(n,{pathname:g});wu(d||_!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),wu(_==null||_[_.length-1].route.element!==void 0||_[_.length-1].route.Component!==void 0||_[_.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let m=LOe(_&&_.map(w=>Object.assign({},w,{params:Object.assign({},l,w.params),pathname:Ks([c,t.encodeLocation?t.encodeLocation(w.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?c:Ks([c,t.encodeLocation?t.encodeLocation(w.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:w.pathnameBase])})),i,u,a,r);return e&&m?ze.createElement(N4.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...p},navigationType:"POP"}},m):m}function POe(){let n=VOe(),e=AOe(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),u=n instanceof Error?n.stack:null,a="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:a},t={padding:"2px 4px",backgroundColor:a},i=null;return console.error("Error handled by React Router default ErrorBoundary:",n),i=ze.createElement(ze.Fragment,null,ze.createElement("p",null," Hey developer "),ze.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",ze.createElement("code",{style:t},"ErrorBoundary")," or"," ",ze.createElement("code",{style:t},"errorElement")," prop on your route.")),ze.createElement(ze.Fragment,null,ze.createElement("h2",null,"Unexpected Application Error!"),ze.createElement("h3",{style:{fontStyle:"italic"}},e),u?ze.createElement("pre",{style:r},u):null,i)}var jOe=ze.createElement(POe,null),MOe=class extends ze.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?ze.createElement(Ho.Provider,{value:this.props.routeContext},ze.createElement(U7.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function COe({routeContext:n,match:e,children:u}){let a=ze.useContext(h1);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),ze.createElement(Ho.Provider,{value:n},u)}function LOe(n,e=[],u=null,a=null,r=null){if(n==null){if(!u)return null;if(u.errors)n=u.matches;else if(e.length===0&&!u.initialized&&u.matches.length>0)n=u.matches;else return null}let t=n,i=u?.errors;if(i!=null){let c=t.findIndex(d=>d.route.id&&i?.[d.route.id]!==void 0);En(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),t=t.slice(0,Math.min(t.length,c+1))}let o=!1,l=-1;if(u)for(let c=0;c<t.length;c++){let d=t[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(l=c),d.route.id){let{loaderData:f,errors:p}=u,h=d.route.loader&&!f.hasOwnProperty(d.route.id)&&(!p||p[d.route.id]===void 0);if(d.route.lazy||h){o=!0,l>=0?t=t.slice(0,l+1):t=[t[0]];break}}}let s=u&&a?(c,d)=>{a(c,{location:u.location,params:u.matches?.[0]?.params??{},unstable_pattern:OOe(u.matches),errorInfo:d})}:void 0;return t.reduceRight((c,d,f)=>{let p,h=!1,g=null,_=null;u&&(p=i&&d.route.id?i[d.route.id]:void 0,g=d.route.errorElement||jOe,o&&(l<0&&f===0?(Dve("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),h=!0,_=null):l===f&&(h=!0,_=d.route.hydrateFallbackElement||null)));let m=e.concat(t.slice(0,f+1)),w=()=>{let T;return p?T=g:h?T=_:d.route.Component?T=ze.createElement(d.route.Component,null):d.route.element?T=d.route.element:T=c,ze.createElement(COe,{match:d,routeContext:{outlet:c,matches:m,isDataRoute:u!=null},children:T})};return u&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?ze.createElement(MOe,{location:u.location,revalidation:u.revalidation,component:g,error:p,children:w(),routeContext:{outlet:null,matches:m,isDataRoute:!0},onError:s}):w()},null)}function Q7(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function qOe(n){let e=ze.useContext(h1);return En(e,Q7(n)),e}function BOe(n){let e=ze.useContext(GF);return En(e,Q7(n)),e}function UOe(n){let e=ze.useContext(Ho);return En(e,Q7(n)),e}function V7(n){let e=UOe(n),u=e.matches[e.matches.length-1];return En(u.route.id,`${n} can only be used on routes that contain a unique "id"`),u.route.id}function QOe(){return V7("useRouteId")}function VOe(){let n=ze.useContext(U7),e=BOe("useRouteError"),u=V7("useRouteError");return n!==void 0?n:e.errors?.[u]}function HOe(){let{router:n}=qOe("useNavigate"),e=V7("useNavigate"),u=ze.useRef(!1);return Rve(()=>{u.current=!0}),ze.useCallback(async(r,t={})=>{wu(u.current,xve),u.current&&(typeof r=="number"?await n.navigate(r):await n.navigate(r,{fromRouteId:e,...t}))},[n,e])}var O$={};function Dve(n,e,u){!e&&!O$[n]&&(O$[n]=!0,wu(!1,u))}ze.memo(kOe);function kOe({routes:n,future:e,state:u,unstable_onError:a}){return Ive(n,void 0,u,a,e)}function Dg(n){En(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function zOe({basename:n="/",children:e=null,location:u,navigationType:a="POP",navigator:r,static:t=!1,unstable_useTransitions:i}){En(!I4(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=n.replace(/^\/*/,"/"),l=ze.useMemo(()=>({basename:o,navigator:r,static:t,unstable_useTransitions:i,future:{}}),[o,r,t,i]);typeof u=="string"&&(u=yb(u));let{pathname:s="/",search:c="",hash:d="",state:f=null,key:p="default"}=u,h=ze.useMemo(()=>{let g=Ys(s,o);return g==null?null:{location:{pathname:g,search:c,hash:d,state:f,key:p},navigationType:a}},[o,s,c,d,f,p,a]);return wu(h!=null,`<Router basename="${o}"> is not able to match the URL "${s}${c}${d}" because it does not start with the basename, so the <Router> won't render anything.`),h==null?null:ze.createElement(ho.Provider,{value:l},ze.createElement(N4.Provider,{children:e,value:h}))}function GOe({children:n,location:e}){return FOe($L(n),e)}function $L(n,e=[]){let u=[];return ze.Children.forEach(n,(a,r)=>{if(!ze.isValidElement(a))return;let t=[...e,r];if(a.type===ze.Fragment){u.push.apply(u,$L(a.props.children,t));return}En(a.type===Dg,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),En(!a.props.index||!a.props.children,"An index route cannot have child routes.");let i={id:a.props.id||t.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,middleware:a.props.middleware,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(i.children=$L(a.props.children,t)),u.push(i)}),u}var XD="get",KD="application/x-www-form-urlencoded";function $F(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function $Oe(n){return $F(n)&&n.tagName.toLowerCase()==="button"}function XOe(n){return $F(n)&&n.tagName.toLowerCase()==="form"}function KOe(n){return $F(n)&&n.tagName.toLowerCase()==="input"}function JOe(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function WOe(n,e){return n.button===0&&(!e||e==="_self")&&!JOe(n)}var UI=null;function YOe(){if(UI===null)try{new FormData(document.createElement("form"),0),UI=!1}catch{UI=!0}return UI}var ZOe=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ej(n){return n!=null&&!ZOe.has(n)?(wu(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${KD}"`),null):n}function exe(n,e){let u,a,r,t,i;if(XOe(n)){let o=n.getAttribute("action");a=o?Ys(o,e):null,u=n.getAttribute("method")||XD,r=ej(n.getAttribute("enctype"))||KD,t=new FormData(n)}else if($Oe(n)||KOe(n)&&(n.type==="submit"||n.type==="image")){let o=n.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=n.getAttribute("formaction")||o.getAttribute("action");if(a=l?Ys(l,e):null,u=n.getAttribute("formmethod")||o.getAttribute("method")||XD,r=ej(n.getAttribute("formenctype"))||ej(o.getAttribute("enctype"))||KD,t=new FormData(o,n),!YOe()){let{name:s,type:c,value:d}=n;if(c==="image"){let f=s?`${s}.`:"";t.append(`${f}x`,"0"),t.append(`${f}y`,"0")}else s&&t.append(s,d)}}else{if($F(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');u=XD,a=null,r=KD,i=n}return t&&r==="text/plain"&&(i=t,t=void 0),{action:a,method:u.toLowerCase(),encType:r,formData:t,body:i}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function H7(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function txe(n,e,u){let a=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return a.pathname==="/"?a.pathname=`_root.${u}`:e&&Ys(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${u}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${u}`,a}async function rxe(n,e){if(n.id in e)return e[n.id];try{let u=await import(n.module);return e[n.id]=u,u}catch(u){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(u),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function nxe(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function axe(n,e,u){let a=await Promise.all(n.map(async r=>{let t=e.routes[r.route.id];if(t){let i=await rxe(t,u);return i.links?i.links():[]}return[]}));return sxe(a.flat(1).filter(nxe).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function x$(n,e,u,a,r,t){let i=(l,s)=>u[s]?l.route.id!==u[s].route.id:!0,o=(l,s)=>u[s].pathname!==l.pathname||u[s].route.path?.endsWith("*")&&u[s].params["*"]!==l.params["*"];return t==="assets"?e.filter((l,s)=>i(l,s)||o(l,s)):t==="data"?e.filter((l,s)=>{let c=a.routes[l.route.id];if(!c||!c.hasLoader)return!1;if(i(l,s)||o(l,s))return!0;if(l.route.shouldRevalidate){let d=l.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:u[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof d=="boolean")return d}return!0}):[]}function ixe(n,e,{includeHydrateFallback:u}={}){return uxe(n.map(a=>{let r=e.routes[a.route.id];if(!r)return[];let t=[r.module];return r.clientActionModule&&(t=t.concat(r.clientActionModule)),r.clientLoaderModule&&(t=t.concat(r.clientLoaderModule)),u&&r.hydrateFallbackModule&&(t=t.concat(r.hydrateFallbackModule)),r.imports&&(t=t.concat(r.imports)),t}).flat(1))}function uxe(n){return[...new Set(n)]}function oxe(n){let e={},u=Object.keys(n).sort();for(let a of u)e[a]=n[a];return e}function sxe(n,e){let u=new Set;return new Set(e),n.reduce((a,r)=>{let t=JSON.stringify(oxe(r));return u.has(t)||(u.add(t),a.push({key:t,link:r})),a},[])}function Fve(){let n=ze.useContext(h1);return H7(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function cxe(){let n=ze.useContext(GF);return H7(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var k7=ze.createContext(void 0);k7.displayName="FrameworkContext";function Pve(){let n=ze.useContext(k7);return H7(n,"You must render this element inside a <HydratedRouter> element"),n}function lxe(n,e){let u=ze.useContext(k7),[a,r]=ze.useState(!1),[t,i]=ze.useState(!1),{onFocus:o,onBlur:l,onMouseEnter:s,onMouseLeave:c,onTouchStart:d}=e,f=ze.useRef(null);ze.useEffect(()=>{if(n==="render"&&i(!0),n==="viewport"){let g=m=>{m.forEach(w=>{i(w.isIntersecting)})},_=new IntersectionObserver(g,{threshold:.5});return f.current&&_.observe(f.current),()=>{_.disconnect()}}},[n]),ze.useEffect(()=>{if(a){let g=setTimeout(()=>{i(!0)},100);return()=>{clearTimeout(g)}}},[a]);let p=()=>{r(!0)},h=()=>{r(!1),i(!1)};return u?n!=="intent"?[t,f,{}]:[t,f,{onFocus:Nv(o,p),onBlur:Nv(l,h),onMouseEnter:Nv(s,p),onMouseLeave:Nv(c,h),onTouchStart:Nv(d,p)}]:[!1,f,{}]}function Nv(n,e){return u=>{n&&n(u),u.defaultPrevented||e(u)}}function dxe({page:n,...e}){let{router:u}=Fve(),a=ze.useMemo(()=>_ve(u.routes,n,u.basename),[u.routes,n,u.basename]);return a?ze.createElement(pxe,{page:n,matches:a,...e}):null}function fxe(n){let{manifest:e,routeModules:u}=Pve(),[a,r]=ze.useState([]);return ze.useEffect(()=>{let t=!1;return axe(n,e,u).then(i=>{t||r(i)}),()=>{t=!0}},[n,e,u]),a}function pxe({page:n,matches:e,...u}){let a=nc(),{manifest:r,routeModules:t}=Pve(),{basename:i}=Fve(),{loaderData:o,matches:l}=cxe(),s=ze.useMemo(()=>x$(n,e,l,r,a,"data"),[n,e,l,r,a]),c=ze.useMemo(()=>x$(n,e,l,r,a,"assets"),[n,e,l,r,a]),d=ze.useMemo(()=>{if(n===a.pathname+a.search+a.hash)return[];let h=new Set,g=!1;if(e.forEach(m=>{let w=r.routes[m.route.id];!w||!w.hasLoader||(!s.some(T=>T.route.id===m.route.id)&&m.route.id in o&&t[m.route.id]?.shouldRevalidate||w.hasClientLoader?g=!0:h.add(m.route.id))}),h.size===0)return[];let _=txe(n,i,"data");return g&&h.size>0&&_.searchParams.set("_routes",e.filter(m=>h.has(m.route.id)).map(m=>m.route.id).join(",")),[_.pathname+_.search]},[i,o,a,r,s,e,n,t]),f=ze.useMemo(()=>ixe(c,r),[c,r]),p=fxe(c);return ze.createElement(ze.Fragment,null,d.map(h=>ze.createElement("link",{key:h,rel:"prefetch",as:"fetch",href:h,...u})),f.map(h=>ze.createElement("link",{key:h,rel:"modulepreload",href:h,...u})),p.map(({key:h,link:g})=>ze.createElement("link",{key:h,nonce:u.nonce,...g})))}function hxe(...n){return e=>{n.forEach(u=>{typeof u=="function"?u(e):u!=null&&(u.current=e)})}}var jve=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{jve&&(window.__reactRouterVersion="7.10.1")}catch{}function yxe({basename:n,children:e,unstable_useTransitions:u,window:a}){let r=ze.useRef();r.current==null&&(r.current=tOe({window:a,v5Compat:!0}));let t=r.current,[i,o]=ze.useState({action:t.action,location:t.location}),l=ze.useCallback(s=>{u===!1?o(s):ze.startTransition(()=>o(s))},[u]);return ze.useLayoutEffect(()=>t.listen(l),[t,l]),ze.createElement(zOe,{basename:n,children:e,location:i.location,navigationType:i.action,navigator:t,unstable_useTransitions:u===!0})}var Mve=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,s4=ze.forwardRef(function({onClick:e,discover:u="render",prefetch:a="none",relative:r,reloadDocument:t,replace:i,state:o,target:l,to:s,preventScrollReset:c,viewTransition:d,...f},p){let{basename:h,unstable_useTransitions:g}=ze.useContext(ho),_=typeof s=="string"&&Mve.test(s),m,w=!1;if(typeof s=="string"&&_&&(m=s,jve))try{let I=new URL(window.location.href),A=s.startsWith("//")?new URL(I.protocol+s):new URL(s),P=Ys(A.pathname,h);A.origin===I.origin&&P!=null?s=P+A.search+A.hash:w=!0}catch{wu(!1,`<Link to="${s}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let T=IOe(s,{relative:r}),[E,S,N]=lxe(a,f),j=vxe(s,{replace:i,state:o,target:l,preventScrollReset:c,relative:r,viewTransition:d,unstable_useTransitions:g});function q(I){e&&e(I),I.defaultPrevented||j(I)}let O=ze.createElement("a",{...f,...N,href:m||T,onClick:w||t?e:q,ref:hxe(p,S),target:l,"data-discover":!_&&u==="render"?"true":void 0});return E&&!_?ze.createElement(ze.Fragment,null,O,ze.createElement(dxe,{page:T})):O});s4.displayName="Link";var mxe=ze.forwardRef(function({"aria-current":e="page",caseSensitive:u=!1,className:a="",end:r=!1,style:t,to:i,viewTransition:o,children:l,...s},c){let d=F4(i,{relative:s.relative}),f=nc(),p=ze.useContext(GF),{navigator:h,basename:g}=ze.useContext(ho),_=p!=null&&Exe(d)&&o===!0,m=h.encodeLocation?h.encodeLocation(d).pathname:d.pathname,w=f.pathname,T=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;u||(w=w.toLowerCase(),T=T?T.toLowerCase():null,m=m.toLowerCase()),T&&g&&(T=Ys(T,g)||T);const E=m!=="/"&&m.endsWith("/")?m.length-1:m.length;let S=w===m||!r&&w.startsWith(m)&&w.charAt(E)==="/",N=T!=null&&(T===m||!r&&T.startsWith(m)&&T.charAt(m.length)==="/"),j={isActive:S,isPending:N,isTransitioning:_},q=S?e:void 0,O;typeof a=="function"?O=a(j):O=[a,S?"active":null,N?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let I=typeof t=="function"?t(j):t;return ze.createElement(s4,{...s,"aria-current":q,className:O,ref:c,style:I,to:i,viewTransition:o},typeof l=="function"?l(j):l)});mxe.displayName="NavLink";var bxe=ze.forwardRef(({discover:n="render",fetcherKey:e,navigate:u,reloadDocument:a,replace:r,state:t,method:i=XD,action:o,onSubmit:l,relative:s,preventScrollReset:c,viewTransition:d,...f},p)=>{let{unstable_useTransitions:h}=ze.useContext(ho),g=wxe(),_=Sxe(o,{relative:s}),m=i.toLowerCase()==="get"?"get":"post",w=typeof o=="string"&&Mve.test(o),T=E=>{if(l&&l(E),E.defaultPrevented)return;E.preventDefault();let S=E.nativeEvent.submitter,N=S?.getAttribute("formmethod")||i,j=()=>g(S||E.currentTarget,{fetcherKey:e,method:N,navigate:u,replace:r,state:t,relative:s,preventScrollReset:c,viewTransition:d});h&&u!==!1?ze.startTransition(()=>j()):j()};return ze.createElement("form",{ref:p,method:m,action:_,onSubmit:a?l:T,...f,"data-discover":!w&&n==="render"?"true":void 0})});bxe.displayName="Form";function gxe(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Cve(n){let e=ze.useContext(h1);return En(e,gxe(n)),e}function vxe(n,{target:e,replace:u,state:a,preventScrollReset:r,relative:t,viewTransition:i,unstable_useTransitions:o}={}){let l=D4(),s=nc(),c=F4(n,{relative:t});return ze.useCallback(d=>{if(WOe(d,e)){d.preventDefault();let f=u!==void 0?u:o4(s)===o4(c),p=()=>l(n,{replace:f,state:a,preventScrollReset:r,relative:t,viewTransition:i});o?ze.startTransition(()=>p()):p()}},[s,l,c,u,a,e,n,r,t,i,o])}var _xe=0,Txe=()=>`__${String(++_xe)}__`;function wxe(){let{router:n}=Cve("useSubmit"),{basename:e}=ze.useContext(ho),u=QOe(),a=n.fetch,r=n.navigate;return ze.useCallback(async(t,i={})=>{let{action:o,method:l,encType:s,formData:c,body:d}=exe(t,e);if(i.navigate===!1){let f=i.fetcherKey||Txe();await a(f,u,i.action||o,{preventScrollReset:i.preventScrollReset,formData:c,body:d,formMethod:i.method||l,formEncType:i.encType||s,flushSync:i.flushSync})}else await r(i.action||o,{preventScrollReset:i.preventScrollReset,formData:c,body:d,formMethod:i.method||l,formEncType:i.encType||s,replace:i.replace,state:i.state,fromRouteId:u,flushSync:i.flushSync,viewTransition:i.viewTransition})},[a,r,e,u])}function Sxe(n,{relative:e}={}){let{basename:u}=ze.useContext(ho),a=ze.useContext(Ho);En(a,"useFormAction must be used inside a RouteContext");let[r]=a.matches.slice(-1),t={...F4(n||".",{relative:e})},i=nc();if(n==null){t.search=i.search;let o=new URLSearchParams(t.search),l=o.getAll("index");if(l.some(c=>c==="")){o.delete("index"),l.filter(d=>d).forEach(d=>o.append("index",d));let c=o.toString();t.search=c?`?${c}`:""}}return(!n||n===".")&&r.route.index&&(t.search=t.search?t.search.replace(/^\?/,"?index&"):"?index"),u!=="/"&&(t.pathname=t.pathname==="/"?u:Ks([u,t.pathname])),o4(t)}function Exe(n,{relative:e}={}){let u=ze.useContext(Ove);En(u!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=Cve("useViewTransitionState"),r=F4(n,{relative:e});if(!u.isTransitioning)return!1;let t=Ys(u.currentLocation.pathname,a)||u.currentLocation.pathname,i=Ys(u.nextLocation.pathname,a)||u.nextLocation.pathname;return wF(r.pathname,i)!=null||wF(r.pathname,t)!=null}var nd={},Iv={},ad={},id={};var SF="@@__IMMUTABLE_INDEXED__@@";function bi(n){return!!(n&&n[SF])}var EF="@@__IMMUTABLE_KEYED__@@";function en(n){return!!(n&&n[EF])}function XF(n){return en(n)||bi(n)}var Lve="@@__IMMUTABLE_ITERABLE__@@";function gi(n){return!!(n&&n[Lve])}var ca=function(e){return gi(e)?e:Ca(e)},Eu=(function(n){function e(u){return en(u)?u:vl(u)}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e})(ca),mb=(function(n){function e(u){return bi(u)?u:Ou(u)}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e})(ca),y1=(function(n){function e(u){return gi(u)&&!XF(u)?u:v1(u)}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e})(ca);ca.Keyed=Eu;ca.Indexed=mb;ca.Set=y1;var m1=0,Ui=1,Qi=2,XL=typeof Symbol=="function"&&Symbol.iterator,qve="@@iterator",KF=XL||qve,br=function(e){this.next=e};br.prototype.toString=function(){return"[Iterator]"};br.KEYS=m1;br.VALUES=Ui;br.ENTRIES=Qi;br.prototype.inspect=br.prototype.toSource=function(){return this.toString()};br.prototype[KF]=function(){return this};function dn(n,e,u,a){var r=n===m1?e:n===Ui?u:[e,u];return a?a.value=r:a={value:r,done:!1},a}function Ma(){return{value:void 0,done:!0}}function z7(n){return Array.isArray(n)?!0:!!JF(n)}function R$(n){return!!(n&&typeof n.next=="function")}function KL(n){var e=JF(n);return e&&e.call(n)}function JF(n){var e=n&&(XL&&n[XL]||n[qve]);if(typeof e=="function")return e}function Axe(n){var e=JF(n);return e&&e===n.entries}function Oxe(n){var e=JF(n);return e&&e===n.keys}var P4="delete",Jr=5,Li=1<<Jr,Ya=Li-1,pr={};function JL(){return{value:!1}}function vu(n){n&&(n.value=!0)}function G7(){}function Xg(n){return n.size===void 0&&(n.size=n.__iterate(Bve)),n.size}function cl(n,e){if(typeof e!="number"){var u=e>>>0;if(""+u!==e||u===4294967295)return NaN;e=u}return e<0?Xg(n)+e:e}function Bve(){return!0}function j4(n,e,u){return(n===0&&!Qve(n)||u!==void 0&&n<=-u)&&(e===void 0||u!==void 0&&e>=u)}function b1(n,e){return Uve(n,e,0)}function M4(n,e){return Uve(n,e,e)}function Uve(n,e,u){return n===void 0?u:Qve(n)?e===1/0?e:Math.max(0,e+n)|0:e===void 0||e===n?n:Math.min(e,n)|0}function Qve(n){return n<0||n===0&&1/n===-1/0}var Vve="@@__IMMUTABLE_RECORD__@@";function gl(n){return!!(n&&n[Vve])}function Au(n){return gi(n)||gl(n)}var ll="@@__IMMUTABLE_ORDERED__@@";function co(n){return!!(n&&n[ll])}var Hve="@@__IMMUTABLE_SEQ__@@";function WF(n){return!!(n&&n[Hve])}var g1=Object.prototype.hasOwnProperty;function $7(n){return Array.isArray(n)||typeof n=="string"?!0:n&&typeof n=="object"&&Number.isInteger(n.length)&&n.length>=0&&(n.length===0?Object.keys(n).length===1:n.hasOwnProperty(n.length-1))}var Ca=(function(n){function e(u){return u==null?K7():Au(u)?u.toSeq():Rxe(u)}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e.prototype.toSeq=function(){return this},e.prototype.toString=function(){return this.__toString("Seq {","}")},e.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},e.prototype.__iterate=function(a,r){var t=this._cache;if(t){for(var i=t.length,o=0;o!==i;){var l=t[r?i-++o:o++];if(a(l[1],l[0],this)===!1)break}return o}return this.__iterateUncached(a,r)},e.prototype.__iterator=function(a,r){var t=this._cache;if(t){var i=t.length,o=0;return new br(function(){if(o===i)return Ma();var l=t[r?i-++o:o++];return dn(a,l[0],l[1])})}return this.__iteratorUncached(a,r)},e})(ca),vl=(function(n){function e(u){return u==null?K7().toKeyedSeq():gi(u)?en(u)?u.toSeq():u.fromEntrySeq():gl(u)?u.toSeq():J7(u)}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e.prototype.toKeyedSeq=function(){return this},e})(Ca),Ou=(function(n){function e(u){return u==null?K7():gi(u)?en(u)?u.entrySeq():u.toIndexedSeq():gl(u)?u.toSeq().entrySeq():kve(u)}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e.of=function(){return e(arguments)},e.prototype.toIndexedSeq=function(){return this},e.prototype.toString=function(){return this.__toString("Seq [","]")},e})(Ca),v1=(function(n){function e(u){return(gi(u)&&!XF(u)?u:Ou(u)).toSetSeq()}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e.of=function(){return e(arguments)},e.prototype.toSetSeq=function(){return this},e})(Ca);Ca.isSeq=WF;Ca.Keyed=vl;Ca.Set=v1;Ca.Indexed=Ou;Ca.prototype[Hve]=!0;var Kg=(function(n){function e(u){this._array=u,this.size=u.length}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e.prototype.get=function(a,r){return this.has(a)?this._array[cl(this,a)]:r},e.prototype.__iterate=function(a,r){for(var t=this._array,i=t.length,o=0;o!==i;){var l=r?i-++o:o++;if(a(t[l],l,this)===!1)break}return o},e.prototype.__iterator=function(a,r){var t=this._array,i=t.length,o=0;return new br(function(){if(o===i)return Ma();var l=r?i-++o:o++;return dn(a,l,t[l])})},e})(Ou),X7=(function(n){function e(u){var a=Object.keys(u).concat(Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(u):[]);this._object=u,this._keys=a,this.size=a.length}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e.prototype.get=function(a,r){return r!==void 0&&!this.has(a)?r:this._object[a]},e.prototype.has=function(a){return g1.call(this._object,a)},e.prototype.__iterate=function(a,r){for(var t=this._object,i=this._keys,o=i.length,l=0;l!==o;){var s=i[r?o-++l:l++];if(a(t[s],s,this)===!1)break}return l},e.prototype.__iterator=function(a,r){var t=this._object,i=this._keys,o=i.length,l=0;return new br(function(){if(l===o)return Ma();var s=i[r?o-++l:l++];return dn(a,s,t[s])})},e})(vl);X7.prototype[ll]=!0;var xxe=(function(n){function e(u){this._collection=u,this.size=u.length||u.size}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e.prototype.__iterateUncached=function(a,r){if(r)return this.cacheResult().__iterate(a,r);var t=this._collection,i=KL(t),o=0;if(R$(i))for(var l;!(l=i.next()).done&&a(l.value,o++,this)!==!1;);return o},e.prototype.__iteratorUncached=function(a,r){if(r)return this.cacheResult().__iterator(a,r);var t=this._collection,i=KL(t);if(!R$(i))return new br(Ma);var o=0;return new br(function(){var l=i.next();return l.done?l:dn(a,o++,l.value)})},e})(Ou),N$;function K7(){return N$||(N$=new Kg([]))}function J7(n){var e=W7(n);if(e)return e.fromEntrySeq();if(typeof n=="object")return new X7(n);throw new TypeError("Expected Array or collection object of [k, v] entries, or keyed object: "+n)}function kve(n){var e=W7(n);if(e)return e;throw new TypeError("Expected Array or collection object of values: "+n)}function Rxe(n){var e=W7(n);if(e)return Axe(n)?e.fromEntrySeq():Oxe(n)?e.toSetSeq():e;if(typeof n=="object")return new X7(n);throw new TypeError("Expected Array or collection object of values, or keyed object: "+n)}function W7(n){return $7(n)?new Kg(n):z7(n)?new xxe(n):void 0}function C4(){return this.__ensureOwner()}function L4(){return this.__ownerID?this:this.__ensureOwner(new G7)}var Dv=typeof Math.imul=="function"&&Math.imul(4294967295,2)===-2?Math.imul:function(e,u){e|=0,u|=0;var a=e&65535,r=u&65535;return a*r+((e>>>16)*r+a*(u>>>16)<<16>>>0)|0};function YF(n){return n>>>1&1073741824|n&3221225471}var Nxe=Object.prototype.valueOf;function fi(n){if(n==null)return I$(n);if(typeof n.hashCode=="function")return YF(n.hashCode(n));var e=Mxe(n);if(e==null)return I$(e);switch(typeof e){case"boolean":return e?1108378657:1108378656;case"number":return Ixe(e);case"string":return e.length>Cxe?Dxe(e):WL(e);case"object":case"function":return Pxe(e);case"symbol":return Fxe(e);default:if(typeof e.toString=="function")return WL(e.toString());throw new Error("Value type "+typeof e+" cannot be hashed.")}}function I$(n){return n===null?1108378658:1108378659}function Ixe(n){if(n!==n||n===1/0)return 0;var e=n|0;for(e!==n&&(e^=n*4294967295);n>4294967295;)n/=4294967295,e^=n;return YF(e)}function Dxe(n){var e=nj[n];return e===void 0&&(e=WL(n),rj===Lxe&&(rj=0,nj={}),rj++,nj[n]=e),e}function WL(n){for(var e=0,u=0;u<n.length;u++)e=31*e+n.charCodeAt(u)|0;return YF(e)}function Fxe(n){var e=P$[n];return e!==void 0||(e=zve(),P$[n]=e),e}function Pxe(n){var e;if(YL&&(e=ZL.get(n),e!==void 0)||(e=n[eb],e!==void 0)||!F$&&(e=n.propertyIsEnumerable&&n.propertyIsEnumerable[eb],e!==void 0||(e=jxe(n),e!==void 0)))return e;if(e=zve(),YL)ZL.set(n,e);else{if(D$!==void 0&&D$(n)===!1)throw new Error("Non-extensible objects are not allowed as keys.");if(F$)Object.defineProperty(n,eb,{enumerable:!1,configurable:!1,writable:!1,value:e});else if(n.propertyIsEnumerable!==void 0&&n.propertyIsEnumerable===n.constructor.prototype.propertyIsEnumerable)n.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},n.propertyIsEnumerable[eb]=e;else if(n.nodeType!==void 0)n[eb]=e;else throw new Error("Unable to set a non-enumerable property on object.")}return e}var D$=Object.isExtensible,F$=(function(){try{return Object.defineProperty({},"@",{}),!0}catch{return!1}})();function jxe(n){if(n&&n.nodeType>0)switch(n.nodeType){case 1:return n.uniqueID;case 9:return n.documentElement&&n.documentElement.uniqueID}}function Mxe(n){return n.valueOf!==Nxe&&typeof n.valueOf=="function"?n.valueOf(n):n}function zve(){var n=++tj;return tj&1073741824&&(tj=0),n}var YL=typeof WeakMap=="function",ZL;YL&&(ZL=new WeakMap);var P$=Object.create(null),tj=0,eb="__immutablehash__";typeof Symbol=="function"&&(eb=Symbol(eb));var Cxe=16,Lxe=255,rj=0,nj={},ZF=(function(n){function e(u,a){this._iter=u,this._useKeys=a,this.size=u.size}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e.prototype.get=function(a,r){return this._iter.get(a,r)},e.prototype.has=function(a){return this._iter.has(a)},e.prototype.valueSeq=function(){return this._iter.valueSeq()},e.prototype.reverse=function(){var a=this,r=Y7(this,!0);return this._useKeys||(r.valueSeq=function(){return a._iter.toSeq().reverse()}),r},e.prototype.map=function(a,r){var t=this,i=Jve(this,a,r);return this._useKeys||(i.valueSeq=function(){return t._iter.toSeq().map(a,r)}),i},e.prototype.__iterate=function(a,r){var t=this;return this._iter.__iterate(function(i,o){return a(i,o,t)},r)},e.prototype.__iterator=function(a,r){return this._iter.__iterator(a,r)},e})(vl);ZF.prototype[ll]=!0;var Gve=(function(n){function e(u){this._iter=u,this.size=u.size}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e.prototype.includes=function(a){return this._iter.includes(a)},e.prototype.__iterate=function(a,r){var t=this,i=0;return r&&Xg(this),this._iter.__iterate(function(o){return a(o,r?t.size-++i:i++,t)},r)},e.prototype.__iterator=function(a,r){var t=this,i=this._iter.__iterator(Ui,r),o=0;return r&&Xg(this),new br(function(){var l=i.next();return l.done?l:dn(a,r?t.size-++o:o++,l.value,l)})},e})(Ou),$ve=(function(n){function e(u){this._iter=u,this.size=u.size}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e.prototype.has=function(a){return this._iter.includes(a)},e.prototype.__iterate=function(a,r){var t=this;return this._iter.__iterate(function(i){return a(i,i,t)},r)},e.prototype.__iterator=function(a,r){var t=this._iter.__iterator(Ui,r);return new br(function(){var i=t.next();return i.done?i:dn(a,i.value,i.value,i)})},e})(v1),Xve=(function(n){function e(u){this._iter=u,this.size=u.size}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e.prototype.entrySeq=function(){return this._iter.toSeq()},e.prototype.__iterate=function(a,r){var t=this;return this._iter.__iterate(function(i){if(i){M$(i);var o=gi(i);return a(o?i.get(1):i[1],o?i.get(0):i[0],t)}},r)},e.prototype.__iterator=function(a,r){var t=this._iter.__iterator(Ui,r);return new br(function(){for(;;){var i=t.next();if(i.done)return i;var o=i.value;if(o){M$(o);var l=gi(o);return dn(a,l?o.get(0):o[0],l?o.get(1):o[1],i)}}})},e})(vl);Gve.prototype.cacheResult=ZF.prototype.cacheResult=$ve.prototype.cacheResult=Xve.prototype.cacheResult=tq;function Kve(n){var e=ko(n);return e._iter=n,e.size=n.size,e.flip=function(){return n},e.reverse=function(){var u=n.reverse.apply(this);return u.flip=function(){return n.reverse()},u},e.has=function(u){return n.includes(u)},e.includes=function(u){return n.has(u)},e.cacheResult=tq,e.__iterateUncached=function(u,a){var r=this;return n.__iterate(function(t,i){return u(i,t,r)!==!1},a)},e.__iteratorUncached=function(u,a){if(u===Qi){var r=n.__iterator(u,a);return new br(function(){var t=r.next();if(!t.done){var i=t.value[0];t.value[0]=t.value[1],t.value[1]=i}return t})}return n.__iterator(u===Ui?m1:Ui,a)},e}function Jve(n,e,u){var a=ko(n);return a.size=n.size,a.has=function(r){return n.has(r)},a.get=function(r,t){var i=n.get(r,pr);return i===pr?t:e.call(u,i,r,n)},a.__iterateUncached=function(r,t){var i=this;return n.__iterate(function(o,l,s){return r(e.call(u,o,l,s),l,i)!==!1},t)},a.__iteratorUncached=function(r,t){var i=n.__iterator(Qi,t);return new br(function(){var o=i.next();if(o.done)return o;var l=o.value,s=l[0];return dn(r,s,e.call(u,l[1],s,n),o)})},a}function Y7(n,e){var u=this,a=ko(n);return a._iter=n,a.size=n.size,a.reverse=function(){return n},n.flip&&(a.flip=function(){var r=Kve(n);return r.reverse=function(){return n.flip()},r}),a.get=function(r,t){return n.get(e?r:-1-r,t)},a.has=function(r){return n.has(e?r:-1-r)},a.includes=function(r){return n.includes(r)},a.cacheResult=tq,a.__iterate=function(r,t){var i=this,o=0;return t&&Xg(n),n.__iterate(function(l,s){return r(l,e?s:t?i.size-++o:o++,i)},!t)},a.__iterator=function(r,t){var i=0;t&&Xg(n);var o=n.__iterator(Qi,!t);return new br(function(){var l=o.next();if(l.done)return l;var s=l.value;return dn(r,e?s[0]:t?u.size-++i:i++,s[1],l)})},a}function Wve(n,e,u,a){var r=ko(n);return a&&(r.has=function(t){var i=n.get(t,pr);return i!==pr&&!!e.call(u,i,t,n)},r.get=function(t,i){var o=n.get(t,pr);return o!==pr&&e.call(u,o,t,n)?o:i}),r.__iterateUncached=function(t,i){var o=this,l=0;return n.__iterate(function(s,c,d){if(e.call(u,s,c,d))return l++,t(s,a?c:l-1,o)},i),l},r.__iteratorUncached=function(t,i){var o=n.__iterator(Qi,i),l=0;return new br(function(){for(;;){var s=o.next();if(s.done)return s;var c=s.value,d=c[0],f=c[1];if(e.call(u,f,d,n))return dn(t,a?d:l++,f,s)}})},r}function qxe(n,e,u){var a=bb().asMutable();return n.__iterate(function(r,t){a.update(e.call(u,r,t,n),0,function(i){return i+1})}),a.asImmutable()}function Bxe(n,e,u){var a=en(n),r=(co(n)?Qo():bb()).asMutable();n.__iterate(function(i,o){r.update(e.call(u,i,o,n),function(l){return l=l||[],l.push(a?[o,i]:i),l})});var t=eq(n);return r.map(function(i){return Kr(n,t(i))}).asImmutable()}function Uxe(n,e,u){var a=en(n),r=[[],[]];n.__iterate(function(i,o){r[e.call(u,i,o,n)?1:0].push(a?[o,i]:i)});var t=eq(n);return r.map(function(i){return Kr(n,t(i))})}function Z7(n,e,u,a){var r=n.size;if(j4(e,u,r))return n;if(typeof r>"u"&&(e<0||u<0))return Z7(n.toSeq().cacheResult(),e,u,a);var t=b1(e,r),i=M4(u,r),o=i-t,l;o===o&&(l=o<0?0:o);var s=ko(n);return s.size=l===0?l:n.size&&l||void 0,!a&&WF(n)&&l>=0&&(s.get=function(c,d){return c=cl(this,c),c>=0&&c<l?n.get(c+t,d):d}),s.__iterateUncached=function(c,d){var f=this;if(l===0)return 0;if(d)return this.cacheResult().__iterate(c,d);var p=0,h=!0,g=0;return n.__iterate(function(_,m){if(!(h&&(h=p++<t)))return g++,c(_,a?m:g-1,f)!==!1&&g!==l}),g},s.__iteratorUncached=function(c,d){if(l!==0&&d)return this.cacheResult().__iterator(c,d);if(l===0)return new br(Ma);var f=n.__iterator(c,d),p=0,h=0;return new br(function(){for(;p++<t;)f.next();if(++h>l)return Ma();var g=f.next();return a||c===Ui||g.done?g:c===m1?dn(c,h-1,void 0,g):dn(c,h-1,g.value[1],g)})},s}function Qxe(n,e,u){var a=ko(n);return a.__iterateUncached=function(r,t){var i=this;if(t)return this.cacheResult().__iterate(r,t);var o=0;return n.__iterate(function(l,s,c){return e.call(u,l,s,c)&&++o&&r(l,s,i)}),o},a.__iteratorUncached=function(r,t){var i=this;if(t)return this.cacheResult().__iterator(r,t);var o=n.__iterator(Qi,t),l=!0;return new br(function(){if(!l)return Ma();var s=o.next();if(s.done)return s;var c=s.value,d=c[0],f=c[1];return e.call(u,f,d,i)?r===Qi?s:dn(r,d,f,s):(l=!1,Ma())})},a}function Yve(n,e,u,a){var r=ko(n);return r.__iterateUncached=function(t,i){var o=this;if(i)return this.cacheResult().__iterate(t,i);var l=!0,s=0;return n.__iterate(function(c,d,f){if(!(l&&(l=e.call(u,c,d,f))))return s++,t(c,a?d:s-1,o)}),s},r.__iteratorUncached=function(t,i){var o=this;if(i)return this.cacheResult().__iterator(t,i);var l=n.__iterator(Qi,i),s=!0,c=0;return new br(function(){var d,f,p;do{if(d=l.next(),d.done)return a||t===Ui?d:t===m1?dn(t,c++,void 0,d):dn(t,c++,d.value[1],d);var h=d.value;f=h[0],p=h[1],s&&(s=e.call(u,p,f,o))}while(s);return t===Qi?d:dn(t,f,p,d)})},r}var Vxe=(function(n){function e(u){this._wrappedIterables=u.flatMap(function(a){return a._wrappedIterables?a._wrappedIterables:[a]}),this.size=this._wrappedIterables.reduce(function(a,r){if(a!==void 0){var t=r.size;if(t!==void 0)return a+t}},0),this[EF]=this._wrappedIterables[0][EF],this[SF]=this._wrappedIterables[0][SF],this[ll]=this._wrappedIterables[0][ll]}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e.prototype.__iterateUncached=function(a,r){if(this._wrappedIterables.length!==0){if(r)return this.cacheResult().__iterate(a,r);for(var t=0,i=en(this),o=i?Qi:Ui,l=this._wrappedIterables[t].__iterator(o,r),s=!0,c=0;s;){for(var d=l.next();d.done;){if(t++,t===this._wrappedIterables.length)return c;l=this._wrappedIterables[t].__iterator(o,r),d=l.next()}var f=i?a(d.value[1],d.value[0],this):a(d.value,c,this);s=f!==!1,c++}return c}},e.prototype.__iteratorUncached=function(a,r){var t=this;if(this._wrappedIterables.length===0)return new br(Ma);if(r)return this.cacheResult().__iterator(a,r);var i=0,o=this._wrappedIterables[i].__iterator(a,r);return new br(function(){for(var l=o.next();l.done;){if(i++,i===t._wrappedIterables.length)return l;o=t._wrappedIterables[i].__iterator(a,r),l=o.next()}return l})},e})(Ca);function Hxe(n,e){var u=en(n),a=[n].concat(e).map(function(t){return gi(t)?u&&(t=Eu(t)):t=u?J7(t):kve(Array.isArray(t)?t:[t]),t}).filter(function(t){return t.size!==0});if(a.length===0)return n;if(a.length===1){var r=a[0];if(r===n||u&&en(r)||bi(n)&&bi(r))return r}return new Vxe(a)}function Zve(n,e,u){var a=ko(n);return a.__iterateUncached=function(r,t){if(t)return this.cacheResult().__iterate(r,t);var i=0,o=!1;function l(s,c){s.__iterate(function(d,f){return(!e||c<e)&&gi(d)?l(d,c+1):(i++,r(d,u?f:i-1,a)===!1&&(o=!0)),!o},t)}return l(n,0),i},a.__iteratorUncached=function(r,t){if(t)return this.cacheResult().__iterator(r,t);var i=n.__iterator(r,t),o=[],l=0;return new br(function(){for(;i;){var s=i.next();if(s.done!==!1){i=o.pop();continue}var c=s.value;if(r===Qi&&(c=c[1]),(!e||o.length<e)&&gi(c))o.push(i),i=c.__iterator(r,t);else return u?s:dn(r,l++,c,s)}return Ma()})},a}function kxe(n,e,u){var a=eq(n);return n.toSeq().map(function(r,t){return a(e.call(u,r,t,n))}).flatten(!0)}function zxe(n,e){var u=ko(n);return u.size=n.size&&n.size*2-1,u.__iterateUncached=function(a,r){var t=this,i=0;return n.__iterate(function(o){return(!i||a(e,i++,t)!==!1)&&a(o,i++,t)!==!1},r),i},u.__iteratorUncached=function(a,r){var t=n.__iterator(Ui,r),i=0,o;return new br(function(){return(!o||i%2)&&(o=t.next(),o.done)?o:i%2?dn(a,i++,e):dn(a,i++,o.value,o)})},u}function Jg(n,e,u){e||(e=e_e);var a=en(n),r=0,t=n.toSeq().map(function(i,o){return[o,i,r++,u?u(i,o,n):i]}).valueSeq().toArray();return t.sort(function(i,o){return e(i[3],o[3])||i[2]-o[2]}).forEach(a?function(i,o){t[o].length=2}:function(i,o){t[o]=i[1]}),a?vl(t):bi(n)?Ou(t):v1(t)}function QI(n,e,u){if(e||(e=e_e),u){var a=n.toSeq().map(function(r,t){return[r,u(r,t,n)]}).reduce(function(r,t){return j$(e,r[1],t[1])?t:r});return a&&a[0]}return n.reduce(function(r,t){return j$(e,r,t)?t:r})}function j$(n,e,u){var a=n(u,e);return a===0&&u!==e&&(u==null||u!==u)||a>0}function VI(n,e,u,a){var r=ko(n),t=new Kg(u).map(function(i){return i.size});return r.size=a?t.max():t.min(),r.__iterate=function(i,o){for(var l=this.__iterator(Ui,o),s,c=0;!(s=l.next()).done&&i(s.value,c++,this)!==!1;);return c},r.__iteratorUncached=function(i,o){var l=u.map(function(d){return d=ca(d),KL(o?d.reverse():d)}),s=0,c=!1;return new br(function(){var d;return c||(d=l.map(function(f){return f.next()}),c=a?d.every(function(f){return f.done}):d.some(function(f){return f.done})),c?Ma():dn(i,s++,e.apply(null,d.map(function(f){return f.value})))})},r}function Kr(n,e){return n===e?n:WF(n)?e:n.constructor(e)}function M$(n){if(n!==Object(n))throw new TypeError("Expected [K, V] tuple: "+n)}function eq(n){return en(n)?Eu:bi(n)?mb:y1}function ko(n){return Object.create((en(n)?vl:bi(n)?Ou:v1).prototype)}function tq(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):Ca.prototype.cacheResult.call(this)}function e_e(n,e){return n===void 0&&e===void 0?0:n===void 0?1:e===void 0?-1:n>e?1:n<e?-1:0}function e7(n){return!!(n&&typeof n.equals=="function"&&typeof n.hashCode=="function")}function sa(n,e){if(n===e||n!==n&&e!==e)return!0;if(!n||!e)return!1;if(typeof n.valueOf=="function"&&typeof e.valueOf=="function"){if(n=n.valueOf(),e=e.valueOf(),n===e||n!==n&&e!==e)return!0;if(!n||!e)return!1}return!!(e7(n)&&e7(e)&&n.equals(e))}function rq(n,e,u,a){return gb(n,[e],u,a)}function t_e(){for(var n=[],e=arguments.length;e--;)n[e]=arguments[e];return n_e(this,n)}function r_e(n){for(var e=[],u=arguments.length-1;u-- >0;)e[u]=arguments[u+1];if(typeof n!="function")throw new TypeError("Invalid merger function: "+n);return n_e(this,e,n)}function n_e(n,e,u){for(var a=[],r=0;r<e.length;r++){var t=Eu(e[r]);t.size!==0&&a.push(t)}return a.length===0?n:n.toSeq().size===0&&!n.__ownerID&&a.length===1?gl(n)?n:n.constructor(a[0]):n.withMutations(function(i){for(var o=u?function(s,c){rq(i,c,pr,function(d){return d===pr?s:u(d,s,c)})}:function(s,c){i.set(c,s)},l=0;l<a.length;l++)a[l].forEach(o)})}var Gxe=Object.prototype.toString;function nq(n){if(!n||typeof n!="object"||Gxe.call(n)!=="[object Object]")return!1;var e=Object.getPrototypeOf(n);if(e===null)return!0;for(var u=e,a=Object.getPrototypeOf(e);a!==null;)u=a,a=Object.getPrototypeOf(u);return u===e}function dl(n){return typeof n=="object"&&(Au(n)||Array.isArray(n)||nq(n))}function qo(n,e){e=e||0;for(var u=Math.max(0,n.length-e),a=new Array(u),r=0;r<u;r++)a[r]=n[r+e];return a}function AF(n){if(Array.isArray(n))return qo(n);var e={};for(var u in n)g1.call(n,u)&&(e[u]=n[u]);return e}function $xe(n){for(var e=[],u=arguments.length-1;u-- >0;)e[u]=arguments[u+1];return B4(n,e)}function Xxe(n,e){for(var u=[],a=arguments.length-2;a-- >0;)u[a]=arguments[a+2];return B4(e,u,n)}function Kxe(n){for(var e=[],u=arguments.length-1;u-- >0;)e[u]=arguments[u+1];return q4(n,e)}function Jxe(n,e){for(var u=[],a=arguments.length-2;a-- >0;)u[a]=arguments[a+2];return q4(e,u,n)}function q4(n,e,u){return B4(n,e,Wxe(u))}function B4(n,e,u){if(!dl(n))throw new TypeError("Cannot merge into non-data-structure value: "+n);if(Au(n))return typeof u=="function"&&n.mergeWith?n.mergeWith.apply(n,[u].concat(e)):n.merge?n.merge.apply(n,e):n.concat.apply(n,e);for(var a=Array.isArray(n),r=n,t=a?mb:Eu,i=a?function(l){r===n&&(r=AF(r)),r.push(l)}:function(l,s){var c=g1.call(r,s),d=c&&u?u(r[s],l,s):l;(!c||d!==r[s])&&(r===n&&(r=AF(r)),r[s]=d)},o=0;o<e.length;o++)t(e[o]).forEach(i);return r}function Wxe(n){function e(u,a,r){return dl(u)&&dl(a)&&Yxe(u,a)?B4(u,[a],e):n?n(u,a,r):a}return e}function Yxe(n,e){var u=Ca(n),a=Ca(e);return bi(u)===bi(a)&&en(u)===en(a)}function a_e(){for(var n=[],e=arguments.length;e--;)n[e]=arguments[e];return q4(this,n)}function i_e(n){for(var e=[],u=arguments.length-1;u-- >0;)e[u]=arguments[u+1];return q4(this,e,n)}function aq(n){for(var e=[],u=arguments.length-1;u-- >0;)e[u]=arguments[u+1];return gb(this,n,Bo(),function(a){return q4(a,e)})}function iq(n){for(var e=[],u=arguments.length-1;u-- >0;)e[u]=arguments[u+1];return gb(this,n,Bo(),function(a){return B4(a,e)})}function u_e(n,e,u){return gb(n,e,pr,function(){return u})}function uq(n,e){return u_e(this,n,e)}function oq(n,e,u){return arguments.length===1?n(this):rq(this,n,e,u)}function sq(n,e,u){return gb(this,n,e,u)}function cq(){return this.__altered}function U4(n){var e=this.asMutable();return n(e),e.wasAltered()?e.__ensureOwner(this.__ownerID):this}var o_e="@@__IMMUTABLE_MAP__@@";function eP(n){return!!(n&&n[o_e])}function t4(n,e){if(!n)throw new Error(e)}function Ci(n){t4(n!==1/0,"Cannot perform this action with an infinite size.")}var bb=(function(n){function e(u){return u==null?Bo():eP(u)&&!co(u)?u:Bo().withMutations(function(a){var r=n(u);Ci(r.size),r.forEach(function(t,i){return a.set(i,t)})})}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e.prototype.toString=function(){return this.__toString("Map {","}")},e.prototype.get=function(a,r){return this._root?this._root.get(0,void 0,a,r):r},e.prototype.set=function(a,r){return q$(this,a,r)},e.prototype.remove=function(a){return q$(this,a,pr)},e.prototype.deleteAll=function(a){var r=ca(a);return r.size===0?this:this.withMutations(function(t){r.forEach(function(i){return t.remove(i)})})},e.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):Bo()},e.prototype.sort=function(a){return Qo(Jg(this,a))},e.prototype.sortBy=function(a,r){return Qo(Jg(this,r,a))},e.prototype.map=function(a,r){var t=this;return this.withMutations(function(i){i.forEach(function(o,l){i.set(l,a.call(r,o,l,t))})})},e.prototype.__iterator=function(a,r){return new Zxe(this,a,r)},e.prototype.__iterate=function(a,r){var t=this,i=0;return this._root&&this._root.iterate(function(o){return i++,a(o[1],o[0],t)},r),i},e.prototype.__ensureOwner=function(a){return a===this.__ownerID?this:a?lq(this.size,this._root,a,this.__hash):this.size===0?Bo():(this.__ownerID=a,this.__altered=!1,this)},e})(Eu);bb.isMap=eP;var fn=bb.prototype;fn[o_e]=!0;fn[P4]=fn.remove;fn.removeAll=fn.deleteAll;fn.setIn=uq;fn.removeIn=fn.deleteIn=hq;fn.update=oq;fn.updateIn=sq;fn.merge=fn.concat=t_e;fn.mergeWith=r_e;fn.mergeDeep=a_e;fn.mergeDeepWith=i_e;fn.mergeIn=iq;fn.mergeDeepIn=aq;fn.withMutations=U4;fn.wasAltered=cq;fn.asImmutable=C4;fn["@@transducer/init"]=fn.asMutable=L4;fn["@@transducer/step"]=function(n,e){return n.set(e[0],e[1])};fn["@@transducer/result"]=function(n){return n.asImmutable()};var c4=function(e,u){this.ownerID=e,this.entries=u};c4.prototype.get=function(e,u,a,r){for(var t=this.entries,i=0,o=t.length;i<o;i++)if(sa(a,t[i][0]))return t[i][1];return r};c4.prototype.update=function(e,u,a,r,t,i,o){for(var l=t===pr,s=this.entries,c=0,d=s.length;c<d&&!sa(r,s[c][0]);c++);var f=c<d;if(f?s[c][1]===t:l)return this;if(vu(o),(l||!f)&&vu(i),!(l&&s.length===1)){if(!f&&!l&&s.length>=iRe)return eRe(e,s,r,t);var p=e&&e===this.ownerID,h=p?s:qo(s);return f?l?c===d-1?h.pop():h[c]=h.pop():h[c]=[r,t]:h.push([r,t]),p?(this.entries=h,this):new c4(e,h)}};var Wg=function(e,u,a){this.ownerID=e,this.bitmap=u,this.nodes=a};Wg.prototype.get=function(e,u,a,r){u===void 0&&(u=fi(a));var t=1<<((e===0?u:u>>>e)&Ya),i=this.bitmap;return(i&t)===0?r:this.nodes[s_e(i&t-1)].get(e+Jr,u,a,r)};Wg.prototype.update=function(e,u,a,r,t,i,o){a===void 0&&(a=fi(r));var l=(u===0?a:a>>>u)&Ya,s=1<<l,c=this.bitmap,d=(c&s)!==0;if(!d&&t===pr)return this;var f=s_e(c&s-1),p=this.nodes,h=d?p[f]:void 0,g=dq(h,e,u+Jr,a,r,t,i,o);if(g===h)return this;if(!d&&g&&p.length>=uRe)return rRe(e,p,c,l,g);if(d&&!g&&p.length===2&&B$(p[f^1]))return p[f^1];if(d&&g&&p.length===1&&B$(g))return g;var _=e&&e===this.ownerID,m=d?g?c:c^s:c|s,w=d?g?c_e(p,f,g,_):aRe(p,f,_):nRe(p,f,g,_);return _?(this.bitmap=m,this.nodes=w,this):new Wg(e,m,w)};var l4=function(e,u,a){this.ownerID=e,this.count=u,this.nodes=a};l4.prototype.get=function(e,u,a,r){u===void 0&&(u=fi(a));var t=(e===0?u:u>>>e)&Ya,i=this.nodes[t];return i?i.get(e+Jr,u,a,r):r};l4.prototype.update=function(e,u,a,r,t,i,o){a===void 0&&(a=fi(r));var l=(u===0?a:a>>>u)&Ya,s=t===pr,c=this.nodes,d=c[l];if(s&&!d)return this;var f=dq(d,e,u+Jr,a,r,t,i,o);if(f===d)return this;var p=this.count;if(!d)p++;else if(!f&&(p--,p<oRe))return tRe(e,c,p,l);var h=e&&e===this.ownerID,g=c_e(c,l,f,h);return h?(this.count=p,this.nodes=g,this):new l4(e,p,g)};var Yg=function(e,u,a){this.ownerID=e,this.keyHash=u,this.entries=a};Yg.prototype.get=function(e,u,a,r){for(var t=this.entries,i=0,o=t.length;i<o;i++)if(sa(a,t[i][0]))return t[i][1];return r};Yg.prototype.update=function(e,u,a,r,t,i,o){a===void 0&&(a=fi(r));var l=t===pr;if(a!==this.keyHash)return l?this:(vu(o),vu(i),fq(this,e,u,a,[r,t]));for(var s=this.entries,c=0,d=s.length;c<d&&!sa(r,s[c][0]);c++);var f=c<d;if(f?s[c][1]===t:l)return this;if(vu(o),(l||!f)&&vu(i),l&&d===2)return new Zs(e,this.keyHash,s[c^1]);var p=e&&e===this.ownerID,h=p?s:qo(s);return f?l?c===d-1?h.pop():h[c]=h.pop():h[c]=[r,t]:h.push([r,t]),p?(this.entries=h,this):new Yg(e,this.keyHash,h)};var Zs=function(e,u,a){this.ownerID=e,this.keyHash=u,this.entry=a};Zs.prototype.get=function(e,u,a,r){return sa(a,this.entry[0])?this.entry[1]:r};Zs.prototype.update=function(e,u,a,r,t,i,o){var l=t===pr,s=sa(r,this.entry[0]);if(s?t===this.entry[1]:l)return this;if(vu(o),l){vu(i);return}return s?e&&e===this.ownerID?(this.entry[1]=t,this):new Zs(e,this.keyHash,[r,t]):(vu(i),fq(this,e,u,fi(r),[r,t]))};c4.prototype.iterate=Yg.prototype.iterate=function(n,e){for(var u=this.entries,a=0,r=u.length-1;a<=r;a++)if(n(u[e?r-a:a])===!1)return!1};Wg.prototype.iterate=l4.prototype.iterate=function(n,e){for(var u=this.nodes,a=0,r=u.length-1;a<=r;a++){var t=u[e?r-a:a];if(t&&t.iterate(n,e)===!1)return!1}};Zs.prototype.iterate=function(n,e){return n(this.entry)};var Zxe=(function(n){function e(u,a,r){this._type=a,this._reverse=r,this._stack=u._root&&C$(u._root)}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e.prototype.next=function(){for(var a=this._type,r=this._stack;r;){var t=r.node,i=r.index++,o=void 0;if(t.entry){if(i===0)return aj(a,t.entry)}else if(t.entries){if(o=t.entries.length-1,i<=o)return aj(a,t.entries[this._reverse?o-i:i])}else if(o=t.nodes.length-1,i<=o){var l=t.nodes[this._reverse?o-i:i];if(l){if(l.entry)return aj(a,l.entry);r=this._stack=C$(l,r)}continue}r=this._stack=this._stack.__prev}return Ma()},e})(br);function aj(n,e){return dn(n,e[0],e[1])}function C$(n,e){return{node:n,index:0,__prev:e}}function lq(n,e,u,a){var r=Object.create(fn);return r.size=n,r._root=e,r.__ownerID=u,r.__hash=a,r.__altered=!1,r}var L$;function Bo(){return L$||(L$=lq(0))}function q$(n,e,u){var a,r;if(n._root){var t=JL(),i=JL();if(a=dq(n._root,n.__ownerID,0,void 0,e,u,t,i),!i.value)return n;r=n.size+(t.value?u===pr?-1:1:0)}else{if(u===pr)return n;r=1,a=new c4(n.__ownerID,[[e,u]])}return n.__ownerID?(n.size=r,n._root=a,n.__hash=void 0,n.__altered=!0,n):a?lq(r,a):Bo()}function dq(n,e,u,a,r,t,i,o){return n?n.update(e,u,a,r,t,i,o):t===pr?n:(vu(o),vu(i),new Zs(e,a,[r,t]))}function B$(n){return n.constructor===Zs||n.constructor===Yg}function fq(n,e,u,a,r){if(n.keyHash===a)return new Yg(e,a,[n.entry,r]);var t=(u===0?n.keyHash:n.keyHash>>>u)&Ya,i=(u===0?a:a>>>u)&Ya,o,l=t===i?[fq(n,e,u+Jr,a,r)]:(o=new Zs(e,a,r),t<i?[n,o]:[o,n]);return new Wg(e,1<<t|1<<i,l)}function eRe(n,e,u,a){n||(n=new G7);for(var r=new Zs(n,fi(u),[u,a]),t=0;t<e.length;t++){var i=e[t];r=r.update(n,0,void 0,i[0],i[1])}return r}function tRe(n,e,u,a){for(var r=0,t=0,i=new Array(u),o=0,l=1,s=e.length;o<s;o++,l<<=1){var c=e[o];c!==void 0&&o!==a&&(r|=l,i[t++]=c)}return new Wg(n,r,i)}function rRe(n,e,u,a,r){for(var t=0,i=new Array(Li),o=0;u!==0;o++,u>>>=1)i[o]=u&1?e[t++]:void 0;return i[a]=r,new l4(n,t+1,i)}function s_e(n){return n-=n>>1&1431655765,n=(n&858993459)+(n>>2&858993459),n=n+(n>>4)&252645135,n+=n>>8,n+=n>>16,n&127}function c_e(n,e,u,a){var r=a?n:qo(n);return r[e]=u,r}function nRe(n,e,u,a){var r=n.length+1;if(a&&e+1===r)return n[e]=u,n;for(var t=new Array(r),i=0,o=0;o<r;o++)o===e?(t[o]=u,i=-1):t[o]=n[o+i];return t}function aRe(n,e,u){var a=n.length-1;if(u&&e===a)return n.pop(),n;for(var r=new Array(a),t=0,i=0;i<a;i++)i===e&&(t=1),r[i]=n[i+t];return r}var iRe=Li/4,uRe=Li/2,oRe=Li/4;function l_e(n){if($7(n)&&typeof n!="string")return n;if(co(n))return n.toArray();throw new TypeError("Invalid keyPath: expected Ordered Collection or Array: "+n)}function d4(n){try{return typeof n=="string"?JSON.stringify(n):String(n)}catch{return JSON.stringify(n)}}function d_e(n,e){return Au(n)?n.has(e):dl(n)&&g1.call(n,e)}function pq(n,e,u){return Au(n)?n.get(e,u):d_e(n,e)?typeof n.get=="function"?n.get(e):n[e]:u}function f_e(n,e){if(!dl(n))throw new TypeError("Cannot update non-data-structure value: "+n);if(Au(n)){if(!n.remove)throw new TypeError("Cannot update immutable value without .remove() method: "+n);return n.remove(e)}if(!g1.call(n,e))return n;var u=AF(n);return Array.isArray(u)?u.splice(e,1):delete u[e],u}function p_e(n,e,u){if(!dl(n))throw new TypeError("Cannot update non-data-structure value: "+n);if(Au(n)){if(!n.set)throw new TypeError("Cannot update immutable value without .set() method: "+n);return n.set(e,u)}if(g1.call(n,e)&&u===n[e])return n;var a=AF(n);return a[e]=u,a}function gb(n,e,u,a){a||(a=u,u=void 0);var r=h_e(Au(n),n,l_e(e),0,u,a);return r===pr?u:r}function h_e(n,e,u,a,r,t){var i=e===pr;if(a===u.length){var o=i?r:e,l=t(o);return l===o?e:l}if(!i&&!dl(e))throw new TypeError("Cannot update within non-data-structure value in path ["+Array.from(u).slice(0,a).map(d4)+"]: "+e);var s=u[a],c=i?pr:pq(e,s,pr),d=h_e(c===pr?n:Au(c),c,u,a+1,r,t);return d===c?e:d===pr?f_e(e,s):p_e(i?n?Bo():{}:e,s,d)}function y_e(n,e){return gb(n,e,function(){return pr})}function hq(n){return y_e(this,n)}var m_e="@@__IMMUTABLE_LIST__@@";function yq(n){return!!(n&&n[m_e])}var Q4=(function(n){function e(u){var a=JD();if(u==null)return a;if(yq(u))return u;var r=n(u),t=r.size;return t===0?a:(Ci(t),t>0&&t<Li?f4(0,t,Jr,null,new ul(r.toArray())):a.withMutations(function(i){i.setSize(t),r.forEach(function(o,l){return i.set(l,o)})}))}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.prototype.toString=function(){return this.__toString("List [","]")},e.prototype.get=function(a,r){if(a=cl(this,a),a>=0&&a<this.size){a+=this._origin;var t=b_e(this,a);return t&&t.array[a&Ya]}return r},e.prototype.set=function(a,r){return sRe(this,a,r)},e.prototype.remove=function(a){return this.has(a)?a===0?this.shift():a===this.size-1?this.pop():this.splice(a,1):this},e.prototype.insert=function(a,r){return this.splice(a,0,r)},e.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=Jr,this._root=this._tail=this.__hash=void 0,this.__altered=!0,this):JD()},e.prototype.push=function(){var a=arguments,r=this.size;return this.withMutations(function(t){Zc(t,0,r+a.length);for(var i=0;i<a.length;i++)t.set(r+i,a[i])})},e.prototype.pop=function(){return Zc(this,0,-1)},e.prototype.unshift=function(){var a=arguments;return this.withMutations(function(r){Zc(r,-a.length);for(var t=0;t<a.length;t++)r.set(t,a[t])})},e.prototype.shift=function(){return Zc(this,1)},e.prototype.shuffle=function(a){return a===void 0&&(a=Math.random),this.withMutations(function(r){for(var t=r.size,i,o;t;)i=Math.floor(a()*t--),o=r.get(i),r.set(i,r.get(t)),r.set(t,o)})},e.prototype.concat=function(){for(var a=arguments,r=[],t=0;t<arguments.length;t++){var i=a[t],o=n(typeof i!="string"&&z7(i)?i:[i]);o.size!==0&&r.push(o)}return r.length===0?this:this.size===0&&!this.__ownerID&&r.length===1?this.constructor(r[0]):this.withMutations(function(l){r.forEach(function(s){return s.forEach(function(c){return l.push(c)})})})},e.prototype.setSize=function(a){return Zc(this,0,a)},e.prototype.map=function(a,r){var t=this;return this.withMutations(function(i){for(var o=0;o<t.size;o++)i.set(o,a.call(r,i.get(o),o,t))})},e.prototype.slice=function(a,r){var t=this.size;return j4(a,r,t)?this:Zc(this,b1(a,t),M4(r,t))},e.prototype.__iterator=function(a,r){var t=r?this.size:0,i=U$(this,r);return new br(function(){var o=i();return o===r4?Ma():dn(a,r?--t:t++,o)})},e.prototype.__iterate=function(a,r){for(var t=r?this.size:0,i=U$(this,r),o;(o=i())!==r4&&a(o,r?--t:t++,this)!==!1;);return t},e.prototype.__ensureOwner=function(a){return a===this.__ownerID?this:a?f4(this._origin,this._capacity,this._level,this._root,this._tail,a,this.__hash):this.size===0?JD():(this.__ownerID=a,this.__altered=!1,this)},e})(mb);Q4.isList=yq;var Gn=Q4.prototype;Gn[m_e]=!0;Gn[P4]=Gn.remove;Gn.merge=Gn.concat;Gn.setIn=uq;Gn.deleteIn=Gn.removeIn=hq;Gn.update=oq;Gn.updateIn=sq;Gn.mergeIn=iq;Gn.mergeDeepIn=aq;Gn.withMutations=U4;Gn.wasAltered=cq;Gn.asImmutable=C4;Gn["@@transducer/init"]=Gn.asMutable=L4;Gn["@@transducer/step"]=function(n,e){return n.push(e)};Gn["@@transducer/result"]=function(n){return n.asImmutable()};var ul=function(e,u){this.array=e,this.ownerID=u};ul.prototype.removeBefore=function(e,u,a){if((a&(1<<u+Jr)-1)===0||this.array.length===0)return this;var r=a>>>u&Ya;if(r>=this.array.length)return new ul([],e);var t=r===0,i;if(u>0){var o=this.array[r];if(i=o&&o.removeBefore(e,u-Jr,a),i===o&&t)return this}if(t&&!i)return this;var l=Zg(this,e);if(!t)for(var s=0;s<r;s++)l.array[s]=void 0;return i&&(l.array[r]=i),l};ul.prototype.removeAfter=function(e,u,a){if(a===(u?1<<u+Jr:Li)||this.array.length===0)return this;var r=a-1>>>u&Ya;if(r>=this.array.length)return this;var t;if(u>0){var i=this.array[r];if(t=i&&i.removeAfter(e,u-Jr,a),t===i&&r===this.array.length-1)return this}var o=Zg(this,e);return o.array.splice(r+1),t&&(o.array[r]=t),o};var r4={};function U$(n,e){var u=n._origin,a=n._capacity,r=p4(a),t=n._tail;return i(n._root,n._level,0);function i(s,c,d){return c===0?o(s,d):l(s,c,d)}function o(s,c){var d=c===r?t&&t.array:s&&s.array,f=c>u?0:u-c,p=a-c;return p>Li&&(p=Li),function(){if(f===p)return r4;var h=e?--p:f++;return d&&d[h]}}function l(s,c,d){var f,p=s&&s.array,h=d>u?0:u-d>>c,g=(a-d>>c)+1;return g>Li&&(g=Li),function(){for(;;){if(f){var _=f();if(_!==r4)return _;f=null}if(h===g)return r4;var m=e?--g:h++;f=i(p&&p[m],c-Jr,d+(m<<c))}}}}function f4(n,e,u,a,r,t,i){var o=Object.create(Gn);return o.size=e-n,o._origin=n,o._capacity=e,o._level=u,o._root=a,o._tail=r,o.__ownerID=t,o.__hash=i,o.__altered=!1,o}function JD(){return f4(0,0,Jr)}function sRe(n,e,u){if(e=cl(n,e),e!==e)return n;if(e>=n.size||e<0)return n.withMutations(function(i){e<0?Zc(i,e).set(0,u):Zc(i,0,e+1).set(e,u)});e+=n._origin;var a=n._tail,r=n._root,t=JL();return e>=p4(n._capacity)?a=t7(a,n.__ownerID,0,e,u,t):r=t7(r,n.__ownerID,n._level,e,u,t),t.value?n.__ownerID?(n._root=r,n._tail=a,n.__hash=void 0,n.__altered=!0,n):f4(n._origin,n._capacity,n._level,r,a):n}function t7(n,e,u,a,r,t){var i=a>>>u&Ya,o=n&&i<n.array.length;if(!o&&r===void 0)return n;var l;if(u>0){var s=n&&n.array[i],c=t7(s,e,u-Jr,a,r,t);return c===s?n:(l=Zg(n,e),l.array[i]=c,l)}return o&&n.array[i]===r?n:(t&&vu(t),l=Zg(n,e),r===void 0&&i===l.array.length-1?l.array.pop():l.array[i]=r,l)}function Zg(n,e){return e&&n&&e===n.ownerID?n:new ul(n?n.array.slice():[],e)}function b_e(n,e){if(e>=p4(n._capacity))return n._tail;if(e<1<<n._level+Jr){for(var u=n._root,a=n._level;u&&a>0;)u=u.array[e>>>a&Ya],a-=Jr;return u}}function Zc(n,e,u){e!==void 0&&(e|=0),u!==void 0&&(u|=0);var a=n.__ownerID||new G7,r=n._origin,t=n._capacity,i=r+e,o=u===void 0?t:u<0?t+u:r+u;if(i===r&&o===t)return n;if(i>=o)return n.clear();for(var l=n._level,s=n._root,c=0;i+c<0;)s=new ul(s&&s.array.length?[void 0,s]:[],a),l+=Jr,c+=1<<l;c&&(i+=c,r+=c,o+=c,t+=c);for(var d=p4(t),f=p4(o);f>=1<<l+Jr;)s=new ul(s&&s.array.length?[s]:[],a),l+=Jr;var p=n._tail,h=f<d?b_e(n,o-1):f>d?new ul([],a):p;if(p&&f>d&&i<t&&p.array.length){s=Zg(s,a);for(var g=s,_=l;_>Jr;_-=Jr){var m=d>>>_&Ya;g=g.array[m]=Zg(g.array[m],a)}g.array[d>>>Jr&Ya]=p}if(o<t&&(h=h&&h.removeAfter(a,0,o)),i>=f)i-=f,o-=f,l=Jr,s=null,h=h&&h.removeBefore(a,0,i);else if(i>r||f<d){for(c=0;s;){var w=i>>>l&Ya;if(w!==f>>>l&Ya)break;w&&(c+=(1<<l)*w),l-=Jr,s=s.array[w]}s&&i>r&&(s=s.removeBefore(a,l,i-c)),s&&f<d&&(s=s.removeAfter(a,l,f-c)),c&&(i-=c,o-=c)}return n.__ownerID?(n.size=o-i,n._origin=i,n._capacity=o,n._level=l,n._root=s,n._tail=h,n.__hash=void 0,n.__altered=!0,n):f4(i,o,l,s,h)}function p4(n){return n<Li?0:n-1>>>Jr<<Jr}function mq(n){return eP(n)&&co(n)}var Qo=(function(n){function e(u){return u==null?L6():mq(u)?u:L6().withMutations(function(a){var r=Eu(u);Ci(r.size),r.forEach(function(t,i){return a.set(i,t)})})}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.prototype.toString=function(){return this.__toString("OrderedMap {","}")},e.prototype.get=function(a,r){var t=this._map.get(a);return t!==void 0?this._list.get(t)[1]:r},e.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this.__altered=!0,this):L6()},e.prototype.set=function(a,r){return V$(this,a,r)},e.prototype.remove=function(a){return V$(this,a,pr)},e.prototype.__iterate=function(a,r){var t=this;return this._list.__iterate(function(i){return i&&a(i[1],i[0],t)},r)},e.prototype.__iterator=function(a,r){return this._list.fromEntrySeq().__iterator(a,r)},e.prototype.__ensureOwner=function(a){if(a===this.__ownerID)return this;var r=this._map.__ensureOwner(a),t=this._list.__ensureOwner(a);return a?bq(r,t,a,this.__hash):this.size===0?L6():(this.__ownerID=a,this.__altered=!1,this._map=r,this._list=t,this)},e})(bb);Qo.isOrderedMap=mq;Qo.prototype[ll]=!0;Qo.prototype[P4]=Qo.prototype.remove;function bq(n,e,u,a){var r=Object.create(Qo.prototype);return r.size=n?n.size:0,r._map=n,r._list=e,r.__ownerID=u,r.__hash=a,r.__altered=!1,r}var Q$;function L6(){return Q$||(Q$=bq(Bo(),JD()))}function V$(n,e,u){var a=n._map,r=n._list,t=a.get(e),i=t!==void 0,o,l;if(u===pr){if(!i)return n;r.size>=Li&&r.size>=a.size*2?(l=r.filter(function(s,c){return s!==void 0&&t!==c}),o=l.toKeyedSeq().map(function(s){return s[0]}).flip().toMap(),n.__ownerID&&(o.__ownerID=l.__ownerID=n.__ownerID)):(o=a.remove(e),l=t===r.size-1?r.pop():r.set(t,void 0))}else if(i){if(u===r.get(t)[1])return n;o=a,l=r.set(t,[e,u])}else o=a.set(e,r.size),l=r.set(r.size,[e,u]);return n.__ownerID?(n.size=o.size,n._map=o,n._list=l,n.__hash=void 0,n.__altered=!0,n):bq(o,l)}var g_e="@@__IMMUTABLE_STACK__@@";function OF(n){return!!(n&&n[g_e])}var tP=(function(n){function e(u){return u==null?HI():OF(u)?u:HI().pushAll(u)}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.prototype.toString=function(){return this.__toString("Stack [","]")},e.prototype.get=function(a,r){var t=this._head;for(a=cl(this,a);t&&a--;)t=t.next;return t?t.value:r},e.prototype.peek=function(){return this._head&&this._head.value},e.prototype.push=function(){var a=arguments;if(arguments.length===0)return this;for(var r=this.size+arguments.length,t=this._head,i=arguments.length-1;i>=0;i--)t={value:a[i],next:t};return this.__ownerID?(this.size=r,this._head=t,this.__hash=void 0,this.__altered=!0,this):q6(r,t)},e.prototype.pushAll=function(a){if(a=n(a),a.size===0)return this;if(this.size===0&&OF(a))return a;Ci(a.size);var r=this.size,t=this._head;return a.__iterate(function(i){r++,t={value:i,next:t}},!0),this.__ownerID?(this.size=r,this._head=t,this.__hash=void 0,this.__altered=!0,this):q6(r,t)},e.prototype.pop=function(){return this.slice(1)},e.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):HI()},e.prototype.slice=function(a,r){if(j4(a,r,this.size))return this;var t=b1(a,this.size),i=M4(r,this.size);if(i!==this.size)return n.prototype.slice.call(this,a,r);for(var o=this.size-t,l=this._head;t--;)l=l.next;return this.__ownerID?(this.size=o,this._head=l,this.__hash=void 0,this.__altered=!0,this):q6(o,l)},e.prototype.__ensureOwner=function(a){return a===this.__ownerID?this:a?q6(this.size,this._head,a,this.__hash):this.size===0?HI():(this.__ownerID=a,this.__altered=!1,this)},e.prototype.__iterate=function(a,r){var t=this;if(r)return new Kg(this.toArray()).__iterate(function(l,s){return a(l,s,t)},r);for(var i=0,o=this._head;o&&a(o.value,i++,this)!==!1;)o=o.next;return i},e.prototype.__iterator=function(a,r){if(r)return new Kg(this.toArray()).__iterator(a,r);var t=0,i=this._head;return new br(function(){if(i){var o=i.value;return i=i.next,dn(a,t++,o)}return Ma()})},e})(mb);tP.isStack=OF;var Za=tP.prototype;Za[g_e]=!0;Za.shift=Za.pop;Za.unshift=Za.push;Za.unshiftAll=Za.pushAll;Za.withMutations=U4;Za.wasAltered=cq;Za.asImmutable=C4;Za["@@transducer/init"]=Za.asMutable=L4;Za["@@transducer/step"]=function(n,e){return n.unshift(e)};Za["@@transducer/result"]=function(n){return n.asImmutable()};function q6(n,e,u,a){var r=Object.create(Za);return r.size=n,r._head=e,r.__ownerID=u,r.__hash=a,r.__altered=!1,r}var H$;function HI(){return H$||(H$=q6(0))}function k$(n,e,u,a,r,t){return Ci(n.size),n.__iterate(function(i,o,l){r?(r=!1,u=i):u=e.call(a,u,i,o,l)},t),u}function cRe(n,e){return e}function lRe(n,e){return[e,n]}function ij(n){return function(){for(var e=[],u=arguments.length;u--;)e[u]=arguments[u];return!n.apply(this,e)}}function z$(n){return function(){for(var e=[],u=arguments.length;u--;)e[u]=arguments[u];return-n.apply(this,e)}}function G$(n,e){return n<e?1:n>e?-1:0}function gq(n,e){if(n===e)return!0;if(!gi(e)||n.size!==void 0&&e.size!==void 0&&n.size!==e.size||n.__hash!==void 0&&e.__hash!==void 0&&n.__hash!==e.__hash||en(n)!==en(e)||bi(n)!==bi(e)||co(n)!==co(e))return!1;if(n.size===0&&e.size===0)return!0;var u=!XF(n);if(co(n)){var a=n.entries();return e.every(function(l,s){var c=a.next().value;return c&&sa(c[1],l)&&(u||sa(c[0],s))})&&a.next().done}var r=!1;if(n.size===void 0)if(e.size===void 0)typeof n.cacheResult=="function"&&n.cacheResult();else{r=!0;var t=n;n=e,e=t}var i=!0,o=e.__iterate(function(l,s){if(u?!n.has(l):r?!sa(l,n.get(s,pr)):!sa(n.get(s,pr),l))return i=!1,!1});return i&&n.size===o}var v_e=(function(n){function e(u,a,r){if(r===void 0&&(r=1),!(this instanceof e))return new e(u,a,r);if(t4(r!==0,"Cannot step a Range by 0"),t4(u!==void 0,"You must define a start value when using Range"),t4(a!==void 0,"You must define an end value when using Range"),r=Math.abs(r),a<u&&(r=-r),this._start=u,this._end=a,this._step=r,this.size=Math.max(0,Math.ceil((a-u)/r-1)+1),this.size===0){if(uj)return uj;uj=this}}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e.prototype.toString=function(){return this.size===0?"Range []":"Range [ "+this._start+"..."+this._end+(this._step!==1?" by "+this._step:"")+" ]"},e.prototype.get=function(a,r){return this.has(a)?this._start+cl(this,a)*this._step:r},e.prototype.includes=function(a){var r=(a-this._start)/this._step;return r>=0&&r<this.size&&r===Math.floor(r)},e.prototype.slice=function(a,r){return j4(a,r,this.size)?this:(a=b1(a,this.size),r=M4(r,this.size),r<=a?new e(0,0):new e(this.get(a,this._end),this.get(r,this._end),this._step))},e.prototype.indexOf=function(a){var r=a-this._start;if(r%this._step===0){var t=r/this._step;if(t>=0&&t<this.size)return t}return-1},e.prototype.lastIndexOf=function(a){return this.indexOf(a)},e.prototype.__iterate=function(a,r){for(var t=this.size,i=this._step,o=r?this._start+(t-1)*i:this._start,l=0;l!==t&&a(o,r?t-++l:l++,this)!==!1;)o+=r?-i:i;return l},e.prototype.__iterator=function(a,r){var t=this.size,i=this._step,o=r?this._start+(t-1)*i:this._start,l=0;return new br(function(){if(l===t)return Ma();var s=o;return o+=r?-i:i,dn(a,r?t-++l:l++,s)})},e.prototype.equals=function(a){return a instanceof e?this._start===a._start&&this._end===a._end&&this._step===a._step:gq(this,a)},e})(Ou),uj,__e="@@__IMMUTABLE_SET__@@";function rP(n){return!!(n&&n[__e])}var V4=(function(n){function e(u){return u==null?B6():rP(u)&&!co(u)?u:B6().withMutations(function(a){var r=n(u);Ci(r.size),r.forEach(function(t){return a.add(t)})})}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.fromKeys=function(a){return this(Eu(a).keySeq())},e.intersect=function(a){return a=ca(a).toArray(),a.length?Ea.intersect.apply(e(a.pop()),a):B6()},e.union=function(a){return a=ca(a).toArray(),a.length?Ea.union.apply(e(a.pop()),a):B6()},e.prototype.toString=function(){return this.__toString("Set {","}")},e.prototype.has=function(a){return this._map.has(a)},e.prototype.add=function(a){return kI(this,this._map.set(a,a))},e.prototype.remove=function(a){return kI(this,this._map.remove(a))},e.prototype.clear=function(){return kI(this,this._map.clear())},e.prototype.map=function(a,r){var t=this,i=!1,o=kI(this,this._map.mapEntries(function(l){var s=l[1],c=a.call(r,s,s,t);return c!==s&&(i=!0),[c,c]},r));return i?o:this},e.prototype.union=function(){for(var a=[],r=arguments.length;r--;)a[r]=arguments[r];return a=a.filter(function(t){return t.size!==0}),a.length===0?this:this.size===0&&!this.__ownerID&&a.length===1?this.constructor(a[0]):this.withMutations(function(t){for(var i=0;i<a.length;i++)typeof a[i]=="string"?t.add(a[i]):n(a[i]).forEach(function(o){return t.add(o)})})},e.prototype.intersect=function(){for(var a=[],r=arguments.length;r--;)a[r]=arguments[r];if(a.length===0)return this;a=a.map(function(i){return n(i)});var t=[];return this.forEach(function(i){a.every(function(o){return o.includes(i)})||t.push(i)}),this.withMutations(function(i){t.forEach(function(o){i.remove(o)})})},e.prototype.subtract=function(){for(var a=[],r=arguments.length;r--;)a[r]=arguments[r];if(a.length===0)return this;a=a.map(function(i){return n(i)});var t=[];return this.forEach(function(i){a.some(function(o){return o.includes(i)})&&t.push(i)}),this.withMutations(function(i){t.forEach(function(o){i.remove(o)})})},e.prototype.sort=function(a){return t1(Jg(this,a))},e.prototype.sortBy=function(a,r){return t1(Jg(this,r,a))},e.prototype.wasAltered=function(){return this._map.wasAltered()},e.prototype.__iterate=function(a,r){var t=this;return this._map.__iterate(function(i){return a(i,i,t)},r)},e.prototype.__iterator=function(a,r){return this._map.__iterator(a,r)},e.prototype.__ensureOwner=function(a){if(a===this.__ownerID)return this;var r=this._map.__ensureOwner(a);return a?this.__make(r,a):this.size===0?this.__empty():(this.__ownerID=a,this._map=r,this)},e})(y1);V4.isSet=rP;var Ea=V4.prototype;Ea[__e]=!0;Ea[P4]=Ea.remove;Ea.merge=Ea.concat=Ea.union;Ea.withMutations=U4;Ea.asImmutable=C4;Ea["@@transducer/init"]=Ea.asMutable=L4;Ea["@@transducer/step"]=function(n,e){return n.add(e)};Ea["@@transducer/result"]=function(n){return n.asImmutable()};Ea.__empty=B6;Ea.__make=T_e;function kI(n,e){return n.__ownerID?(n.size=e.size,n._map=e,n):e===n._map?n:e.size===0?n.__empty():n.__make(e)}function T_e(n,e){var u=Object.create(Ea);return u.size=n?n.size:0,u._map=n,u.__ownerID=e,u}var $$;function B6(){return $$||($$=T_e(Bo()))}function vq(n,e,u){for(var a=l_e(e),r=0;r!==a.length;)if(n=pq(n,a[r++],pr),n===pr)return u;return n}function w_e(n,e){return vq(this,n,e)}function S_e(n,e){return vq(n,e,pr)!==pr}function dRe(n){return S_e(this,n)}function E_e(){Ci(this.size);var n={};return this.__iterate(function(e,u){n[u]=e}),n}function xF(n){if(!n||typeof n!="object")return n;if(!gi(n)){if(!dl(n))return n;n=Ca(n)}if(en(n)){var e={};return n.__iterate(function(a,r){e[r]=xF(a)}),e}var u=[];return n.__iterate(function(a){u.push(xF(a))}),u}function fRe(n){if(n.size===1/0)return 0;var e=co(n),u=en(n),a=e?1:0;return n.__iterate(u?e?function(r,t){a=31*a+X$(fi(r),fi(t))|0}:function(r,t){a=a+X$(fi(r),fi(t))|0}:e?function(r){a=31*a+fi(r)|0}:function(r){a=a+fi(r)|0}),pRe(n.size,a)}function pRe(n,e){return e=Dv(e,3432918353),e=Dv(e<<15|e>>>-15,461845907),e=Dv(e<<13|e>>>-13,5),e=(e+3864292196|0)^n,e=Dv(e^e>>>16,2246822507),e=Dv(e^e>>>13,3266489909),e=YF(e^e>>>16),e}function X$(n,e){return n^e+2654435769+(n<<6)+(n>>2)|0}function vb(n,e){var u=function(a){n.prototype[a]=e[a]};return Object.keys(e).forEach(u),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(e).forEach(u),n}ca.Iterator=br;vb(ca,{toArray:function(){Ci(this.size);var e=new Array(this.size||0),u=en(this),a=0;return this.__iterate(function(r,t){e[a++]=u?[t,r]:r}),e},toIndexedSeq:function(){return new Gve(this)},toJS:function(){return xF(this)},toKeyedSeq:function(){return new ZF(this,!0)},toMap:function(){return bb(this.toKeyedSeq())},toObject:E_e,toOrderedMap:function(){return Qo(this.toKeyedSeq())},toOrderedSet:function(){return t1(en(this)?this.valueSeq():this)},toSet:function(){return V4(en(this)?this.valueSeq():this)},toSetSeq:function(){return new $ve(this)},toSeq:function(){return bi(this)?this.toIndexedSeq():en(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return tP(en(this)?this.valueSeq():this)},toList:function(){return Q4(en(this)?this.valueSeq():this)},toString:function(){return"[Collection]"},__toString:function(e,u){return this.size===0?e+u:e+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+u},concat:function(){for(var e=[],u=arguments.length;u--;)e[u]=arguments[u];return Kr(this,Hxe(this,e))},includes:function(e){return this.some(function(u){return sa(u,e)})},entries:function(){return this.__iterator(Qi)},every:function(e,u){Ci(this.size);var a=!0;return this.__iterate(function(r,t,i){if(!e.call(u,r,t,i))return a=!1,!1}),a},filter:function(e,u){return Kr(this,Wve(this,e,u,!0))},partition:function(e,u){return Uxe(this,e,u)},find:function(e,u,a){var r=this.findEntry(e,u);return r?r[1]:a},forEach:function(e,u){return Ci(this.size),this.__iterate(u?e.bind(u):e)},join:function(e){Ci(this.size),e=e!==void 0?""+e:",";var u="",a=!0;return this.__iterate(function(r){a?a=!1:u+=e,u+=r!=null?r.toString():""}),u},keys:function(){return this.__iterator(m1)},map:function(e,u){return Kr(this,Jve(this,e,u))},reduce:function(e,u,a){return k$(this,e,u,a,arguments.length<2,!1)},reduceRight:function(e,u,a){return k$(this,e,u,a,arguments.length<2,!0)},reverse:function(){return Kr(this,Y7(this,!0))},slice:function(e,u){return Kr(this,Z7(this,e,u,!0))},some:function(e,u){Ci(this.size);var a=!1;return this.__iterate(function(r,t,i){if(e.call(u,r,t,i))return a=!0,!1}),a},sort:function(e){return Kr(this,Jg(this,e))},values:function(){return this.__iterator(Ui)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return this.size!==void 0?this.size===0:!this.some(function(){return!0})},count:function(e,u){return Xg(e?this.toSeq().filter(e,u):this)},countBy:function(e,u){return qxe(this,e,u)},equals:function(e){return gq(this,e)},entrySeq:function(){var e=this;if(e._cache)return new Kg(e._cache);var u=e.toSeq().map(lRe).toIndexedSeq();return u.fromEntrySeq=function(){return e.toSeq()},u},filterNot:function(e,u){return this.filter(ij(e),u)},findEntry:function(e,u,a){var r=a;return this.__iterate(function(t,i,o){if(e.call(u,t,i,o))return r=[i,t],!1}),r},findKey:function(e,u){var a=this.findEntry(e,u);return a&&a[0]},findLast:function(e,u,a){return this.toKeyedSeq().reverse().find(e,u,a)},findLastEntry:function(e,u,a){return this.toKeyedSeq().reverse().findEntry(e,u,a)},findLastKey:function(e,u){return this.toKeyedSeq().reverse().findKey(e,u)},first:function(e){return this.find(Bve,null,e)},flatMap:function(e,u){return Kr(this,kxe(this,e,u))},flatten:function(e){return Kr(this,Zve(this,e,!0))},fromEntrySeq:function(){return new Xve(this)},get:function(e,u){return this.find(function(a,r){return sa(r,e)},void 0,u)},getIn:w_e,groupBy:function(e,u){return Bxe(this,e,u)},has:function(e){return this.get(e,pr)!==pr},hasIn:dRe,isSubset:function(e){return e=typeof e.includes=="function"?e:ca(e),this.every(function(u){return e.includes(u)})},isSuperset:function(e){return e=typeof e.isSubset=="function"?e:ca(e),e.isSubset(this)},keyOf:function(e){return this.findKey(function(u){return sa(u,e)})},keySeq:function(){return this.toSeq().map(cRe).toIndexedSeq()},last:function(e){return this.toSeq().reverse().first(e)},lastKeyOf:function(e){return this.toKeyedSeq().reverse().keyOf(e)},max:function(e){return QI(this,e)},maxBy:function(e,u){return QI(this,u,e)},min:function(e){return QI(this,e?z$(e):G$)},minBy:function(e,u){return QI(this,u?z$(u):G$,e)},rest:function(){return this.slice(1)},skip:function(e){return e===0?this:this.slice(Math.max(0,e))},skipLast:function(e){return e===0?this:this.slice(0,-Math.max(0,e))},skipWhile:function(e,u){return Kr(this,Yve(this,e,u,!0))},skipUntil:function(e,u){return this.skipWhile(ij(e),u)},sortBy:function(e,u){return Kr(this,Jg(this,u,e))},take:function(e){return this.slice(0,Math.max(0,e))},takeLast:function(e){return this.slice(-Math.max(0,e))},takeWhile:function(e,u){return Kr(this,Qxe(this,e,u))},takeUntil:function(e,u){return this.takeWhile(ij(e),u)},update:function(e){return e(this)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=fRe(this))}});var La=ca.prototype;La[Lve]=!0;La[KF]=La.values;La.toJSON=La.toArray;La.__toStringMapper=d4;La.inspect=La.toSource=function(){return this.toString()};La.chain=La.flatMap;La.contains=La.includes;vb(Eu,{flip:function(){return Kr(this,Kve(this))},mapEntries:function(e,u){var a=this,r=0;return Kr(this,this.toSeq().map(function(t,i){return e.call(u,[i,t],r++,a)}).fromEntrySeq())},mapKeys:function(e,u){var a=this;return Kr(this,this.toSeq().flip().map(function(r,t){return e.call(u,r,t,a)}).flip())}});var H4=Eu.prototype;H4[EF]=!0;H4[KF]=La.entries;H4.toJSON=E_e;H4.__toStringMapper=function(n,e){return d4(e)+": "+d4(n)};vb(mb,{toKeyedSeq:function(){return new ZF(this,!1)},filter:function(e,u){return Kr(this,Wve(this,e,u,!1))},findIndex:function(e,u){var a=this.findEntry(e,u);return a?a[0]:-1},indexOf:function(e){var u=this.keyOf(e);return u===void 0?-1:u},lastIndexOf:function(e){var u=this.lastKeyOf(e);return u===void 0?-1:u},reverse:function(){return Kr(this,Y7(this,!1))},slice:function(e,u){return Kr(this,Z7(this,e,u,!1))},splice:function(e,u){var a=arguments.length;if(u=Math.max(u||0,0),a===0||a===2&&!u)return this;e=b1(e,e<0?this.count():this.size);var r=this.slice(0,e);return Kr(this,a===1?r:r.concat(qo(arguments,2),this.slice(e+u)))},findLastIndex:function(e,u){var a=this.findLastEntry(e,u);return a?a[0]:-1},first:function(e){return this.get(0,e)},flatten:function(e){return Kr(this,Zve(this,e,!1))},get:function(e,u){return e=cl(this,e),e<0||this.size===1/0||this.size!==void 0&&e>this.size?u:this.find(function(a,r){return r===e},void 0,u)},has:function(e){return e=cl(this,e),e>=0&&(this.size!==void 0?this.size===1/0||e<this.size:this.indexOf(e)!==-1)},interpose:function(e){return Kr(this,zxe(this,e))},interleave:function(){var e=[this].concat(qo(arguments)),u=VI(this.toSeq(),Ou.of,e),a=u.flatten(!0);return u.size&&(a.size=u.size*e.length),Kr(this,a)},keySeq:function(){return v_e(0,this.size)},last:function(e){return this.get(-1,e)},skipWhile:function(e,u){return Kr(this,Yve(this,e,u,!1))},zip:function(){var e=[this].concat(qo(arguments));return Kr(this,VI(this,K$,e))},zipAll:function(){var e=[this].concat(qo(arguments));return Kr(this,VI(this,K$,e,!0))},zipWith:function(e){var u=qo(arguments);return u[0]=this,Kr(this,VI(this,e,u))}});var _1=mb.prototype;_1[SF]=!0;_1[ll]=!0;vb(y1,{get:function(e,u){return this.has(e)?e:u},includes:function(e){return this.has(e)},keySeq:function(){return this.valueSeq()}});var e1=y1.prototype;e1.has=La.includes;e1.contains=e1.includes;e1.keys=e1.values;vb(vl,H4);vb(Ou,_1);vb(v1,e1);function K$(){return qo(arguments)}function _q(n){return rP(n)&&co(n)}var t1=(function(n){function e(u){return u==null?r7():_q(u)?u:r7().withMutations(function(a){var r=y1(u);Ci(r.size),r.forEach(function(t){return a.add(t)})})}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.fromKeys=function(a){return this(Eu(a).keySeq())},e.prototype.toString=function(){return this.__toString("OrderedSet {","}")},e})(V4);t1.isOrderedSet=_q;var _b=t1.prototype;_b[ll]=!0;_b.zip=_1.zip;_b.zipWith=_1.zipWith;_b.zipAll=_1.zipAll;_b.__empty=r7;_b.__make=A_e;function A_e(n,e){var u=Object.create(_b);return u.size=n?n.size:0,u._map=n,u.__ownerID=e,u}var J$;function r7(){return J$||(J$=A_e(L6()))}var hRe={LeftThenRight:-1,RightThenLeft:1};function yRe(n){if(gl(n))throw new Error("Can not call `Record` with an immutable Record as default values. Use a plain javascript object instead.");if(Au(n))throw new Error("Can not call `Record` with an immutable Collection as default values. Use a plain javascript object instead.");if(n===null||typeof n!="object")throw new Error("Can not call `Record` with a non-object as default values. Use a plain javascript object instead.")}var ra=function(e,u){var a;yRe(e);var r=function(o){var l=this;if(o instanceof r)return o;if(!(this instanceof r))return new r(o);if(!a){a=!0;var s=Object.keys(e),c=t._indices={};t._name=u,t._keys=s,t._defaultValues=e;for(var d=0;d<s.length;d++){var f=s[d];c[f]=d,t[f]?typeof console=="object"&&console.warn&&console.warn("Cannot define "+wq(this)+' with property "'+f+'" since that property name is part of the Record API.'):mRe(t,f)}}return this.__ownerID=void 0,this._values=Q4().withMutations(function(p){p.setSize(l._keys.length),Eu(o).forEach(function(h,g){p.set(l._indices[g],h===l._defaultValues[g]?void 0:h)})}),this},t=r.prototype=Object.create(tn);return t.constructor=r,u&&(r.displayName=u),r};ra.prototype.toString=function(){for(var e=wq(this)+" { ",u=this._keys,a,r=0,t=u.length;r!==t;r++)a=u[r],e+=(r?", ":"")+a+": "+d4(this.get(a));return e+" }"};ra.prototype.equals=function(e){return this===e||gl(e)&&r1(this).equals(r1(e))};ra.prototype.hashCode=function(){return r1(this).hashCode()};ra.prototype.has=function(e){return this._indices.hasOwnProperty(e)};ra.prototype.get=function(e,u){if(!this.has(e))return u;var a=this._indices[e],r=this._values.get(a);return r===void 0?this._defaultValues[e]:r};ra.prototype.set=function(e,u){if(this.has(e)){var a=this._values.set(this._indices[e],u===this._defaultValues[e]?void 0:u);if(a!==this._values&&!this.__ownerID)return Tq(this,a)}return this};ra.prototype.remove=function(e){return this.set(e)};ra.prototype.clear=function(){var e=this._values.clear().setSize(this._keys.length);return this.__ownerID?this:Tq(this,e)};ra.prototype.wasAltered=function(){return this._values.wasAltered()};ra.prototype.toSeq=function(){return r1(this)};ra.prototype.toJS=function(){return xF(this)};ra.prototype.entries=function(){return this.__iterator(Qi)};ra.prototype.__iterator=function(e,u){return r1(this).__iterator(e,u)};ra.prototype.__iterate=function(e,u){return r1(this).__iterate(e,u)};ra.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var u=this._values.__ensureOwner(e);return e?Tq(this,u,e):(this.__ownerID=e,this._values=u,this)};ra.isRecord=gl;ra.getDescriptiveName=wq;var tn=ra.prototype;tn[Vve]=!0;tn[P4]=tn.remove;tn.deleteIn=tn.removeIn=hq;tn.getIn=w_e;tn.hasIn=La.hasIn;tn.merge=t_e;tn.mergeWith=r_e;tn.mergeIn=iq;tn.mergeDeep=a_e;tn.mergeDeepWith=i_e;tn.mergeDeepIn=aq;tn.setIn=uq;tn.update=oq;tn.updateIn=sq;tn.withMutations=U4;tn.asMutable=L4;tn.asImmutable=C4;tn[KF]=tn.entries;tn.toJSON=tn.toObject=La.toObject;tn.inspect=tn.toSource=function(){return this.toString()};function Tq(n,e,u){var a=Object.create(Object.getPrototypeOf(n));return a._values=e,a.__ownerID=u,a}function wq(n){return n.constructor.displayName||n.constructor.name||"Record"}function r1(n){return J7(n._keys.map(function(e){return[e,n.get(e)]}))}function mRe(n,e){try{Object.defineProperty(n,e,{get:function(){return this.get(e)},set:function(u){t4(this.__ownerID,"Cannot set on an immutable record."),this.set(e,u)}})}catch{}}var bRe=(function(n){function e(u,a){if(!(this instanceof e))return new e(u,a);if(this._value=u,this.size=a===void 0?1/0:Math.max(0,a),this.size===0){if(oj)return oj;oj=this}}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e.prototype.toString=function(){return this.size===0?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},e.prototype.get=function(a,r){return this.has(a)?this._value:r},e.prototype.includes=function(a){return sa(this._value,a)},e.prototype.slice=function(a,r){var t=this.size;return j4(a,r,t)?this:new e(this._value,M4(r,t)-b1(a,t))},e.prototype.reverse=function(){return this},e.prototype.indexOf=function(a){return sa(this._value,a)?0:-1},e.prototype.lastIndexOf=function(a){return sa(this._value,a)?this.size:-1},e.prototype.__iterate=function(a,r){for(var t=this.size,i=0;i!==t&&a(this._value,r?t-++i:i++,this)!==!1;);return i},e.prototype.__iterator=function(a,r){var t=this,i=this.size,o=0;return new br(function(){return o===i?Ma():dn(a,r?i-++o:o++,t._value)})},e.prototype.equals=function(a){return a instanceof e?sa(this._value,a._value):gq(this,a)},e})(Ou),oj;function gRe(n,e){return O_e([],e||vRe,n,"",e&&e.length>2?[]:void 0,{"":n})}function O_e(n,e,u,a,r,t){if(typeof u!="string"&&!Au(u)&&($7(u)||z7(u)||nq(u))){if(~n.indexOf(u))throw new TypeError("Cannot convert circular structure to Immutable");n.push(u),r&&a!==""&&r.push(a);var i=e.call(t,a,Ca(u).map(function(o,l){return O_e(n,e,o,l,r,u)}),r&&r.slice());return n.pop(),r&&r.pop(),i}return u}function vRe(n,e){return bi(e)?e.toList():en(e)?e.toMap():e.toSet()}var _Re="5.1.4",TRe=ca;const wRe=Object.freeze(Object.defineProperty({__proto__:null,Collection:ca,Iterable:TRe,List:Q4,Map:bb,OrderedMap:Qo,OrderedSet:t1,PairSorting:hRe,Range:v_e,Record:ra,Repeat:bRe,Seq:Ca,Set:V4,Stack:tP,fromJS:gRe,get:pq,getIn:vq,has:d_e,hasIn:S_e,hash:fi,is:sa,isAssociative:XF,isCollection:gi,isImmutable:Au,isIndexed:bi,isKeyed:en,isList:yq,isMap:eP,isOrdered:co,isOrderedMap:mq,isOrderedSet:_q,isPlainObject:nq,isRecord:gl,isSeq:WF,isSet:rP,isStack:OF,isValueObject:e7,merge:$xe,mergeDeep:Kxe,mergeDeepWith:Jxe,mergeWith:Xxe,remove:f_e,removeIn:y_e,set:p_e,setIn:u_e,update:rq,updateIn:gb,version:_Re},Symbol.toStringTag,{value:"Module"})),Sq=zF(wRe);var W$;function x_e(){if(W$)return id;W$=1,Object.defineProperty(id,"__esModule",{value:!0}),id.ActionContextKey=id.ActionContext=void 0;const n=Sq;let e=class U6{constructor(r={}){this.map=(0,n.Map)(r)}setDefault(r,t){return this.has(r)?this:this.set(r,t)}set(r,t){return this.setRaw(r.name,t)}setRaw(r,t){return new U6(this.map.set(r,t))}delete(r){return new U6(this.map.delete(r.name))}get(r){return this.getRaw(r.name)}getRaw(r){return this.map.get(r)}getSafe(r){if(!this.has(r))throw new Error(`Context entry ${r.name} is required but not available`);return this.get(r)}has(r){return this.hasRaw(r.name)}hasRaw(r){return this.map.has(r)}merge(...r){let t=this;for(const i of r)for(const o of i.keys())t=t.set(o,i.get(o));return t}keys(){return[...this.map.keys()].map(r=>new u(r))}toJS(){return this.map.toJS()}toString(){return`ActionContext(${JSON.stringify(this.map.toJS())})`}[Symbol.for("nodejs.util.inspect.custom")](){return`ActionContext(${JSON.stringify(this.map.toJS(),null,"  ")})`}static ensureActionContext(r){return r instanceof U6?r:new U6((0,n.Map)(r??{}))}};id.ActionContext=e;class u{constructor(r){this.name=r}}return id.ActionContextKey=u,id}var Fv={},Y$;function R_e(){if(Y$)return Fv;Y$=1,Object.defineProperty(Fv,"__esModule",{value:!0}),Fv.Bus=void 0;let n=class{constructor(u){this.actors=[],this.observers=[],this.dependencyLinks=new Map,Object.assign(this,u),this.failMessage=`All actors over bus ${this.name} failed to handle an action`}subscribe(u){this.actors.push(u),this.reorderForDependencies()}subscribeObserver(u){this.observers.push(u)}unsubscribe(u){const a=this.actors.indexOf(u);return a>=0?(this.actors.splice(a,1),!0):!1}unsubscribeObserver(u){const a=this.observers.indexOf(u);return a>=0?(this.observers.splice(a,1),!0):!1}publish(u){return this.actors.map(a=>({actor:a,reply:a.test(u)}))}onRun(u,a,r){for(const t of this.observers)t.onRun(u,a,r)}addDependencies(u,a){for(const r of a){let t=this.dependencyLinks.get(r);t||(t=[],this.dependencyLinks.set(r,t)),t.push(u)}this.reorderForDependencies()}reorderForDependencies(){if(this.dependencyLinks.size>0){const u=[];for(const a of this.dependencyLinks.keys()){const r=this.actors.indexOf(a);r>=0&&(this.actors.splice(r,1),u.push(a))}for(;u.length>0;){let a=-1;for(let t=0;t<u.length;t++){let i=!0;for(const o of this.dependencyLinks.get(u[t]))if(!this.actors.includes(o)&&u.includes(o)){i=!1;break}if(i){a=t;break}}if(a<0)throw new Error(`Cyclic dependency links detected in bus ${this.name}`);const r=u.splice(a,1)[0];this.actors.push(r)}}}};return Fv.Bus=n,Fv}var Pv={},Z$;function SRe(){if(Z$)return Pv;Z$=1,Object.defineProperty(Pv,"__esModule",{value:!0}),Pv.BusIndexed=void 0;const n=R_e();let e=class extends n.Bus{constructor(a){super(a),this.actorsIndex={}}subscribe(a){const r=this.getActorIdentifiers(a)??["_undefined_"];for(const t of r){let i=this.actorsIndex[t];i||(i=this.actorsIndex[t]=[]),i.push(a),super.subscribe(a)}}unsubscribe(a){const r=this.getActorIdentifiers(a)??["_undefined_"];let t=!1;for(const i of r){const o=this.actorsIndex[i];if(o){const l=o.indexOf(a);l>=0&&o.splice(l,1),o.length===0&&delete this.actorsIndex[i]}t=t||super.unsubscribe(a)}return t}publish(a){const r=this.getActionIdentifier(a);return r?[...this.actorsIndex[r]||[],...this.actorsIndex._undefined_||[]].map(i=>({actor:i,reply:i.test(a)})):super.publish(a)}getActorIdentifiers(a){const r=this.actorIdentifierFields.reduce((t,i)=>t[i],a);if(r)return Array.isArray(r)?r:[r]}getActionIdentifier(a){return this.actionIdentifierFields.reduce((r,t)=>r[t],a)}};return Pv.BusIndexed=e,Pv}var jv={},eX;function N_e(){if(eX)return jv;eX=1,Object.defineProperty(jv,"__esModule",{value:!0}),jv.CONTEXT_KEY_LOGGER=void 0;const n=x_e();return jv.CONTEXT_KEY_LOGGER=new n.ActionContextKey("@comunica/core:log"),jv}var Mv={},tX;function ERe(){if(tX)return Mv;tX=1,Object.defineProperty(Mv,"__esModule",{value:!0}),Mv.ActionObserver=void 0;let n=class{constructor(u){Object.assign(this,u)}};return Mv.ActionObserver=n,Mv}var Cv={},rX;function ARe(){if(rX)return Cv;rX=1,Object.defineProperty(Cv,"__esModule",{value:!0}),Cv.Actor=void 0;const n=N_e();let e=class Gm{constructor(a){this.beforeActors=[],Object.assign(this,a),this.bus.subscribe(this),this.beforeActors.length>0&&this.bus.addDependencies(this,this.beforeActors),a.busFailMessage&&(this.bus.failMessage=a.busFailMessage)}static getContextLogger(a){return a.get(n.CONTEXT_KEY_LOGGER)}runObservable(a,r){const t=this.run(a,r);return this.bus.onRun(this,a,t),t}getDefaultLogData(a,r){const t=r?r():{};return t.actor=this.name,t}logTrace(a,r,t){const i=Gm.getContextLogger(a);i&&i.trace(r,this.getDefaultLogData(a,t))}logDebug(a,r,t){const i=Gm.getContextLogger(a);i&&i.debug(r,this.getDefaultLogData(a,t))}logInfo(a,r,t){const i=Gm.getContextLogger(a);i&&i.info(r,this.getDefaultLogData(a,t))}logWarn(a,r,t){const i=Gm.getContextLogger(a);i&&i.warn(r,this.getDefaultLogData(a,t))}logError(a,r,t){const i=Gm.getContextLogger(a);i&&i.error(r,this.getDefaultLogData(a,t))}logFatal(a,r,t){const i=Gm.getContextLogger(a);i&&i.fatal(r,this.getDefaultLogData(a,t))}};return Cv.Actor=e,Cv}var Lv={},nX;function ORe(){if(nX)return Lv;nX=1,Object.defineProperty(Lv,"__esModule",{value:!0}),Lv.Mediator=void 0;let n=class n7{constructor(u){Object.assign(this,u)}publish(u){const a=this.bus.publish(u);if(a.length===0)throw new Error(`No actors are able to reply to a message in the bus ${this.bus.name}`);return a}async mediateActor(u){return await this.mediateWith(u,this.publish(u))}async mediateTestable(u){return(await this.mediateActor(u)).mapAsync((r,t)=>r.runObservable(u,t))}async mediate(u){return(await this.mediateTestable(u)).getOrThrow()}constructFailureMessage(u,a){const r=`
        `;return`${this.bus.failMessage.replaceAll(/\$\{(.*?)\}/gu,(i,o)=>n7.getObjectValue({action:u},o.split("."))||i)}
    Error messages of failing actors:${r}${a.join(r)}`}static getObjectValue(u,a){if(a.length===0)return u;if(u)return n7.getObjectValue(u[a[0]],a.slice(1))}};return Lv.Mediator=n,Lv}var va={},aX;function xRe(){if(aX)return va;aX=1,Object.defineProperty(va,"__esModule",{value:!0}),va.TestResultFailed=va.TestResultPassed=va.failTest=va.passTestVoidWithSideData=va.passTestWithSideData=va.passTestVoid=va.passTest=void 0;function n(o){return new t(o,void 0)}va.passTest=n;function e(){return new t(!0,void 0)}va.passTestVoid=e;function u(o,l){return new t(o,l)}va.passTestWithSideData=u;function a(o){return new t(!0,o)}va.passTestVoidWithSideData=a;function r(o){return new i(o)}va.failTest=r;class t{constructor(l,s){this.value=l,this.sideData=s}isPassed(){return!0}isFailed(){return!1}get(){return this.value}getOrThrow(){return this.value}getSideData(){return this.sideData}getFailMessage(){}map(l){return new t(l(this.value,this.sideData),this.sideData)}async mapAsync(l){return new t(await l(this.value,this.sideData),this.sideData)}}va.TestResultPassed=t;class i{constructor(l){this.failMessage=l}isPassed(){return!1}isFailed(){return!0}get(){}getOrThrow(){throw new Error(this.getFailMessage())}getSideData(){throw new Error(this.getFailMessage())}getFailMessage(){return this.failMessage}map(){return this}async mapAsync(){return this}}return va.TestResultFailed=i,va}var iX;function De(){return iX||(iX=1,(function(n){var e=ad&&ad.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=ad&&ad.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(x_e(),n),u(R_e(),n),u(SRe(),n),u(N_e(),n),u(ERe(),n),u(ARe(),n),u(ORe(),n),u(xRe(),n)})(ad)),ad}var ud={},qv={},uX;function RRe(){if(uX)return qv;uX=1,Object.defineProperty(qv,"__esModule",{value:!0}),qv.StatisticBase=void 0;let n=class{constructor(){this.listeners=[]}on(u){return this.listeners.push(u),this}removeListener(u){if(!this.listeners||this.listeners.length===0)return this;for(let a=this.listeners.length-1;a>=0;a--)this.listeners[a]===u&&this.listeners.splice(a,1);return this}emit(u){if(!this.listeners||this.listeners.length===0)return!1;for(const a of this.listeners)a(u);return!0}getListeners(){return this.listeners}};return qv.StatisticBase=n,qv}var oX;function Eq(){return oX||(oX=1,(function(n){var e=ud&&ud.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=ud&&ud.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(RRe(),n)})(ud)),ud}var sX;function NRe(){if(sX)return Iv;sX=1,Object.defineProperty(Iv,"__esModule",{value:!0}),Iv.StatisticTraversalTopology=void 0;const n=De(),e=Eq();let u=class extends e.StatisticBase{constructor(r,t){super(),this.adjacencyListIn={},this.adjacencyListOut={},this.openNodes=[],this.edges=new Set,this.edgesInOrder=[],this.nodeMetadata={},this.nodeToIndexDict={},this.indexToNodeDict={},this.dereferenceOrder=[],this.nDereferenced=0,this.nDiscovered=0,this.key=new n.ActionContextKey("@comunica/statistic-traversal-topology:tracked"),t.on(i=>{this.updateStatistic({type:"dereference",data:i})}),r.on(i=>{this.updateStatistic({type:"discover",data:i})})}updateStatistic(r){if(r.type==="discover"){const t={url:r.data.edge[1],metadata:r.data.metadataChild},i={url:r.data.edge[0],metadata:r.data.metadataParent};this.addEdge(t,i)&&this.emit({updateType:r.type,adjacencyListIn:this.adjacencyListIn,adjacencyListOut:this.adjacencyListOut,edgesInOrder:this.edgesInOrder,openNodes:this.openNodes,dereferenceOrder:this.dereferenceOrder,nodeToIndexDict:this.nodeToIndexDict,indexToNodeDict:this.indexToNodeDict,childNode:this.nodeToIndexDict[t.url],parentNode:this.nodeToIndexDict[i.url]})}else if(r.type==="dereference")this.setDereferenced(r.data)&&this.emit({updateType:r.type,adjacencyListIn:this.adjacencyListIn,adjacencyListOut:this.adjacencyListOut,edgesInOrder:this.edgesInOrder,openNodes:this.openNodes,dereferenceOrder:this.dereferenceOrder,nodeToIndexDict:this.nodeToIndexDict,indexToNodeDict:this.indexToNodeDict,childNode:this.nodeToIndexDict[r.data.url],parentNode:this.nodeToIndexDict[r.data.url]});else throw new Error("Invalid topology update data type passed");return!0}addEdge(r,t){if(r.url===t.url)return!1;if(this.nodeToIndexDict[t.url]===void 0){const s=this.nodeToId(t.url);this.adjacencyListIn[s]=[],this.nodeMetadata[s]={seed:!0,dereferenced:!0,discoverOrder:[-1],dereferenceOrder:-1,...t.metadata}}let i=!0;this.nodeToIndexDict[r.url]&&(i=!1);const o=this.nodeToId(r.url),l=this.nodeToId(t.url);if(this.indexToNodeDict[o]=r.url,this.indexToNodeDict[l]=t.url,this.edges.has(JSON.stringify([l,o])))return!1;if(this.adjacencyListOut[l]=this.adjacencyListOut[l]?[...this.adjacencyListOut[l],o]:[o],this.adjacencyListOut[o]??=[],this.adjacencyListIn[o]=this.adjacencyListIn[o]?[...this.adjacencyListIn[o],l]:[l],this.edges.add(JSON.stringify([l,o])),this.edgesInOrder.push([l,o]),this.nodeMetadata[o]){const s=this.nodeMetadata[o].discoverOrder;this.nodeMetadata[o].discoverOrder=s?[...s,this.nDiscovered]:[this.nDiscovered]}else this.nodeMetadata[o]={seed:!1,dereferenced:!1,discoverOrder:[this.nDiscovered],dereferenceOrder:Number.NEGATIVE_INFINITY,...r.metadata};return i&&this.openNodes.push(o),this.nDiscovered++,!0}setDereferenced(r){return this.nodeMetadata[this.nodeToId(r.url)].dereferenced?!1:(this.nodeMetadata[this.nodeToId(r.url)].dereferenced=!0,this.nodeMetadata[this.nodeToId(r.url)].dereferenceOrder=this.nDereferenced,this.dereferenceOrder.push(this.nodeToId(r.url)),this.openNodes=this.openNodes.filter(t=>t!==this.nodeToId(r.url)),this.nDereferenced++,!0)}nodeToId(r){return this.nodeToIndexDict[r]===void 0&&(this.nodeToIndexDict[r]=Object.keys(this.nodeToIndexDict).length),this.nodeToIndexDict[r]}};return Iv.StatisticTraversalTopology=u,Iv}var cX;function IRe(){return cX||(cX=1,(function(n){var e=nd&&nd.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=nd&&nd.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(NRe(),n)})(nd)),nd}var DRe=IRe(),od={},sj={},lX;function FRe(){return lX||(lX=1,Object.defineProperty(sj,"__esModule",{value:!0})),sj}var cj={},dX;function PRe(){return dX||(dX=1,Object.defineProperty(cj,"__esModule",{value:!0})),cj}var lj={},fX;function jRe(){return fX||(fX=1,Object.defineProperty(lj,"__esModule",{value:!0})),lj}var dj={},pX;function MRe(){return pX||(pX=1,Object.defineProperty(dj,"__esModule",{value:!0})),dj}var fj={},hX;function CRe(){return hX||(hX=1,Object.defineProperty(fj,"__esModule",{value:!0})),fj}var pj={},yX;function LRe(){return yX||(yX=1,Object.defineProperty(pj,"__esModule",{value:!0})),pj}var hj={},mX;function qRe(){return mX||(mX=1,Object.defineProperty(hj,"__esModule",{value:!0})),hj}var yj={},bX;function BRe(){return bX||(bX=1,Object.defineProperty(yj,"__esModule",{value:!0})),yj}var mj={},gX;function URe(){return gX||(gX=1,Object.defineProperty(mj,"__esModule",{value:!0})),mj}var bj={},vX;function QRe(){return vX||(vX=1,Object.defineProperty(bj,"__esModule",{value:!0})),bj}var gj={},_X;function VRe(){return _X||(_X=1,Object.defineProperty(gj,"__esModule",{value:!0})),gj}var vj={},TX;function HRe(){return TX||(TX=1,Object.defineProperty(vj,"__esModule",{value:!0})),vj}var _j={},wX;function kRe(){return wX||(wX=1,Object.defineProperty(_j,"__esModule",{value:!0})),_j}var Tj={},SX;function zRe(){return SX||(SX=1,Object.defineProperty(Tj,"__esModule",{value:!0})),Tj}var wj={},EX;function GRe(){return EX||(EX=1,Object.defineProperty(wj,"__esModule",{value:!0})),wj}var Sj={},AX;function $Re(){return AX||(AX=1,Object.defineProperty(Sj,"__esModule",{value:!0})),Sj}var Ej={},OX;function XRe(){return OX||(OX=1,Object.defineProperty(Ej,"__esModule",{value:!0})),Ej}var Aj={},xX;function KRe(){return xX||(xX=1,Object.defineProperty(Aj,"__esModule",{value:!0})),Aj}var Oj={},RX;function JRe(){return RX||(RX=1,Object.defineProperty(Oj,"__esModule",{value:!0})),Oj}var Bv={},NX;function WRe(){if(NX)return Bv;NX=1,Object.defineProperty(Bv,"__esModule",{value:!0}),Bv.Logger=void 0;let n=class I_e{static getLevelOrdinal(u){return I_e.LEVELS[u]}};return Bv.Logger=n,n.LEVELS={trace:0,debug:1,info:2,warn:3,error:4,fatal:5},Bv}var Uv={},IX;function YRe(){if(IX)return Uv;IX=1,Object.defineProperty(Uv,"__esModule",{value:!0}),Uv.ExpressionType=void 0;var n;return(function(e){e.Aggregate="aggregate",e.Existence="existence",e.Operator="operator",e.Term="term",e.Variable="variable"})(n||(Uv.ExpressionType=n={})),Uv}var DX;function ac(){return DX||(DX=1,(function(n){var e=od&&od.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=od&&od.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(FRe(),n),u(PRe(),n),u(jRe(),n),u(MRe(),n),u(CRe(),n),u(LRe(),n),u(qRe(),n),u(BRe(),n),u(URe(),n),u(QRe(),n),u(VRe(),n),u(HRe(),n),u(kRe(),n),u(zRe(),n),u(GRe(),n),u($Re(),n),u(XRe(),n),u(KRe(),n),u(JRe(),n),u(WRe(),n),u(YRe(),n)})(od)),od}var ZRe=ac(),sd={},Qv={},cd={},Vv={},ld={},Hv={},FX;function e6e(){if(FX)return Hv;FX=1,Object.defineProperty(Hv,"__esModule",{value:!0}),Hv.ActorInit=void 0;const n=De();let e=class extends n.Actor{constructor(a){super(a)}};return Hv.ActorInit=e,Hv}var PX;function t6e(){return PX||(PX=1,(function(n){var e=ld&&ld.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=ld&&ld.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(e6e(),n)})(ld)),ld}var jX;function D_e(){if(jX)return Vv;jX=1,Object.defineProperty(Vv,"__esModule",{value:!0}),Vv.ActorInitQueryBase=void 0;const n=t6e(),e=De();let u=class extends n.ActorInit{async test(r){return(0,e.passTestVoid)()}async run(r){throw new Error("ActorInitSparql#run is not supported in the browser.")}};return Vv.ActorInitQueryBase=u,Vv}var kv={},xj={exports:{}},MX;function _l(){if(MX)return xj.exports;MX=1;var n=xj.exports={},e,u;function a(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?e=setTimeout:e=a}catch{e=a}try{typeof clearTimeout=="function"?u=clearTimeout:u=r}catch{u=r}})();function t(g){if(e===setTimeout)return setTimeout(g,0);if((e===a||!e)&&setTimeout)return e=setTimeout,setTimeout(g,0);try{return e(g,0)}catch{try{return e.call(null,g,0)}catch{return e.call(this,g,0)}}}function i(g){if(u===clearTimeout)return clearTimeout(g);if((u===r||!u)&&clearTimeout)return u=clearTimeout,clearTimeout(g);try{return u(g)}catch{try{return u.call(null,g)}catch{return u.call(this,g)}}}var o=[],l=!1,s,c=-1;function d(){!l||!s||(l=!1,s.length?o=s.concat(o):c=-1,o.length&&f())}function f(){if(!l){var g=t(d);l=!0;for(var _=o.length;_;){for(s=o,o=[];++c<_;)s&&s[c].run();c=-1,_=o.length}s=null,l=!1,i(g)}}n.nextTick=function(g){var _=new Array(arguments.length-1);if(arguments.length>1)for(var m=1;m<arguments.length;m++)_[m-1]=arguments[m];o.push(new p(g,_)),o.length===1&&!l&&t(f)};function p(g,_){this.fun=g,this.array=_}p.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={};function h(){}return n.on=h,n.addListener=h,n.once=h,n.off=h,n.removeListener=h,n.removeAllListeners=h,n.emit=h,n.prependListener=h,n.prependOnceListener=h,n.listeners=function(g){return[]},n.binding=function(g){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(g){throw new Error("process.chdir is not supported")},n.umask=function(){return 0},xj.exports}var CX;function r6e(){if(CX)return kv;CX=1,Object.defineProperty(kv,"__esModule",{value:!0}),kv.ActorInitQuery=void 0;const n=D_e();typeof process>"u"&&(globalThis.process=_l());class e extends n.ActorInitQueryBase{}return kv.ActorInitQuery=e,kv}var zv={},dd={},gr={},LX;function F_e(){if(LX)return gr;LX=1,Object.defineProperty(gr,"__esModule",{value:!0}),gr.KeysStatistics=gr.KeysRdfJoin=gr.KeysMergeBindingsContext=gr.KeysRdfUpdateQuads=gr.KeysQuerySourceIdentify=gr.KeysRdfParseHtmlScript=gr.KeysRdfParseJsonLd=gr.KeysQueryOperation=gr.KeysExpressionEvaluator=gr.KeysInitQuery=gr.KeysHttpProxy=gr.KeysHttpMemento=gr.KeysHttpWayback=gr.KeysHttp=gr.KeysCore=void 0;const n=De();return gr.KeysCore={log:n.CONTEXT_KEY_LOGGER},gr.KeysHttp={includeCredentials:new n.ActionContextKey("@comunica/bus-http:include-credentials"),auth:new n.ActionContextKey("@comunica/bus-http:auth"),fetch:new n.ActionContextKey("@comunica/bus-http:fetch"),httpTimeout:new n.ActionContextKey("@comunica/bus-http:http-timeout"),httpBodyTimeout:new n.ActionContextKey("@comunica/bus-http:http-body-timeout"),httpRetryCount:new n.ActionContextKey("@comunica/bus-http:http-retry-count"),httpRetryDelayFallback:new n.ActionContextKey("@comunica/bus-http:http-retry-delay-fallback"),httpRetryDelayLimit:new n.ActionContextKey("@comunica/bus-http:http-retry-delay-limit"),httpRetryStatusCodes:new n.ActionContextKey("@comunica/bus-http:http-retry-status-codes")},gr.KeysHttpWayback={recoverBrokenLinks:new n.ActionContextKey("@comunica/bus-http:recover-broken-links")},gr.KeysHttpMemento={datetime:new n.ActionContextKey("@comunica/actor-http-memento:datetime")},gr.KeysHttpProxy={httpProxyHandler:new n.ActionContextKey("@comunica/actor-http-proxy:httpProxyHandler")},gr.KeysInitQuery={querySourcesUnidentified:new n.ActionContextKey("@comunica/actor-init-query:querySourcesUnidentified"),initialBindings:new n.ActionContextKey("@comunica/actor-init-query:initialBindings"),queryFormat:new n.ActionContextKey("@comunica/actor-init-query:queryFormat"),graphqlSingularizeVariables:new n.ActionContextKey("@comunica/actor-init-query:singularizeVariables"),lenient:new n.ActionContextKey("@comunica/actor-init-query:lenient"),queryString:new n.ActionContextKey("@comunica/actor-init-query:queryString"),query:new n.ActionContextKey("@comunica/actor-init-query:query"),baseIRI:new n.ActionContextKey("@comunica/actor-init-query:baseIRI"),fileBaseIRI:new n.ActionContextKey("@comunica/actor-init-query:fileBaseIRI"),functionArgumentsCache:new n.ActionContextKey("@comunica/actor-init-query:functionArgumentsCache"),queryTimestamp:new n.ActionContextKey("@comunica/actor-init-query:queryTimestamp"),queryTimestampHighResolution:new n.ActionContextKey("@comunica/actor-init-query:queryTimestampHighResolution"),extensionFunctionCreator:new n.ActionContextKey("@comunica/actor-init-query:extensionFunctionCreator"),extensionFunctions:new n.ActionContextKey("@comunica/actor-init-query:extensionFunctions"),extensionFunctionsAlwaysPushdown:new n.ActionContextKey("@comunica/actor-init-query:extensionFunctionsAlwaysPushdown"),cliArgsHandlers:new n.ActionContextKey("@comunica/actor-init-query:cliArgsHandlers"),explain:new n.ActionContextKey("@comunica/actor-init-query:explain"),physicalQueryPlanLogger:new n.ActionContextKey("@comunica/actor-init-query:physicalQueryPlanLogger"),physicalQueryPlanNode:new n.ActionContextKey("@comunica/actor-init-query:physicalQueryPlanNode"),jsonLdContext:new n.ActionContextKey("@context"),invalidateCache:new n.ActionContextKey("@comunica/actor-init-query:invalidateCache"),dataFactory:new n.ActionContextKey("@comunica/actor-init-query:dataFactory"),distinctConstruct:new n.ActionContextKey("@comunica/actor-init-query:distinctConstruct")},gr.KeysExpressionEvaluator={extensionFunctionCreator:new n.ActionContextKey("@comunica/utils-expression-evaluator:extensionFunctionCreator"),superTypeProvider:new n.ActionContextKey("@comunica/utils-expression-evaluator:superTypeProvider"),defaultTimeZone:new n.ActionContextKey("@comunica/utils-expression-evaluator:defaultTimeZone"),actionContext:new n.ActionContextKey("@comunica/utils-expression-evaluator:actionContext")},gr.KeysQueryOperation={operation:new n.ActionContextKey("@comunica/bus-query-operation:operation"),joinLeftMetadata:new n.ActionContextKey("@comunica/bus-query-operation:joinLeftMetadata"),joinRightMetadatas:new n.ActionContextKey("@comunica/bus-query-operation:joinRightMetadatas"),joinBindings:new n.ActionContextKey("@comunica/bus-query-operation:joinBindings"),readOnly:new n.ActionContextKey("@comunica/bus-query-operation:readOnly"),isPathArbitraryLengthDistinctKey:new n.ActionContextKey("@comunica/bus-query-operation:isPathArbitraryLengthDistinct"),limitIndicator:new n.ActionContextKey("@comunica/bus-query-operation:limitIndicator"),unionDefaultGraph:new n.ActionContextKey("@comunica/bus-query-operation:unionDefaultGraph"),querySources:new n.ActionContextKey("@comunica/bus-query-operation:querySources")},gr.KeysRdfParseJsonLd={documentLoader:new n.ActionContextKey("@comunica/actor-rdf-parse-jsonld:documentLoader"),strictValues:new n.ActionContextKey("@comunica/actor-rdf-parse-jsonld:strictValues"),parserOptions:new n.ActionContextKey("@comunica/actor-rdf-parse-jsonld:parserOptions")},gr.KeysRdfParseHtmlScript={processingHtmlScript:new n.ActionContextKey("@comunica/actor-rdf-parse-html-script:processingHtmlScript"),extractAllScripts:new n.ActionContextKey("extractAllScripts")},gr.KeysQuerySourceIdentify={sourceIds:new n.ActionContextKey("@comunica/bus-query-source-identify:sourceIds"),hypermediaSourcesAggregatedStores:new n.ActionContextKey("@comunica/bus-query-source-identify:hypermediaSourcesAggregatedStores"),traverse:new n.ActionContextKey("@comunica/bus-query-source-identify:traverse")},gr.KeysRdfUpdateQuads={destination:new n.ActionContextKey("@comunica/bus-rdf-update-quads:destination")},gr.KeysMergeBindingsContext={sourcesBinding:new n.ActionContextKey("@comunica/bus-merge-bindings-context:sourcesBinding")},gr.KeysRdfJoin={lastPhysicalJoin:new n.ActionContextKey("@comunica/bus-rdf-join:lastPhysicalJoin")},gr.KeysStatistics={discoveredLinks:new n.ActionContextKey("@comunica/statistic:discoveredLinks"),dereferencedLinks:new n.ActionContextKey("@comunica/statistic:dereferencedLinks"),intermediateResults:new n.ActionContextKey("@comunica/statistic:intermediateResults")},gr}var qX;function lt(){return qX||(qX=1,(function(n){var e=dd&&dd.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=dd&&dd.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(F_e(),n)})(dd)),dd}var BX;function n6e(){if(BX)return zv;BX=1,Object.defineProperty(zv,"__esModule",{value:!0}),zv.QueryEngineBase=void 0;const n=lt(),e=De();let u=class a7{constructor(r){this.actorInitQuery=r}async queryBindings(r,t){return this.queryOfType(r,t,"bindings")}async queryQuads(r,t){return this.queryOfType(r,t,"quads")}async queryBoolean(r,t){return this.queryOfType(r,t,"boolean")}async queryVoid(r,t){return this.queryOfType(r,t,"void")}async queryOfType(r,t,i){const o=await this.query(r,t);if(o.resultType===i)return await o.execute();throw new Error(`Query result type '${i}' was expected, while '${o.resultType}' was found.`)}async query(r,t){const i=await this.queryOrExplain(r,t);if("explain"in i)throw new Error("Tried to explain a query when in query-only mode");return i}async explain(r,t,i){return t.explain=i,await this.queryOrExplain(r,t)}async queryOrExplain(r,t){const i=e.ActionContext.ensureActionContext(t);i.get(n.KeysInitQuery.invalidateCache)&&await this.invalidateHttpCache();const{result:o}=await this.actorInitQuery.mediatorQueryProcess.mediate({query:r,context:i});return"explain"in o?o:a7.internalToFinalResult(o)}async getResultMediaTypes(r){return r=e.ActionContext.ensureActionContext(r),(await this.actorInitQuery.mediatorQueryResultSerializeMediaTypeCombiner.mediate({context:r,mediaTypes:!0})).mediaTypes}async getResultMediaTypeFormats(r){return r=e.ActionContext.ensureActionContext(r),(await this.actorInitQuery.mediatorQueryResultSerializeMediaTypeFormatCombiner.mediate({context:r,mediaTypeFormats:!0})).mediaTypeFormats}async resultToString(r,t,i){if(i=e.ActionContext.ensureActionContext(i),!t)switch(r.resultType){case"bindings":t="application/json";break;case"quads":t="application/trig";break;default:t="simple";break}const o={...await a7.finalToInternalResult(r),context:i};return(await this.actorInitQuery.mediatorQueryResultSerialize.mediate({context:i,handle:o,handleMediaType:t})).handle}invalidateHttpCache(r,t){return t=e.ActionContext.ensureActionContext(t),this.actorInitQuery.mediatorHttpInvalidate.mediate({url:r,context:t})}static internalToFinalResult(r){switch(r.type){case"bindings":return{resultType:"bindings",execute:async()=>r.bindingsStream,metadata:async()=>{const t=await r.metadata();return t.variables=t.variables.map(i=>i.variable),t},context:r.context};case"quads":return{resultType:"quads",execute:async()=>r.quadStream,metadata:async()=>await r.metadata(),context:r.context};case"boolean":return{resultType:"boolean",execute:async()=>r.execute(),context:r.context};case"void":return{resultType:"void",execute:async()=>r.execute(),context:r.context}}}static async finalToInternalResult(r){switch(r.resultType){case"bindings":return{type:"bindings",bindingsStream:await r.execute(),metadata:async()=>{const t=await r.metadata();return t.variables=t.variables.map(i=>({variable:i,canBeUndef:!1})),t}};case"quads":return{type:"quads",quadStream:await r.execute(),metadata:async()=>await r.metadata()};case"boolean":return{type:"boolean",execute:()=>r.execute()};case"void":return{type:"void",execute:()=>r.execute()}}}};return zv.QueryEngineBase=u,zv}var UX;function Tb(){return UX||(UX=1,(function(n){var e=cd&&cd.__createBinding||(Object.create?(function(r,t,i,o){o===void 0&&(o=i);var l=Object.getOwnPropertyDescriptor(t,i);(!l||("get"in l?!t.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return t[i]}}),Object.defineProperty(r,o,l)}):(function(r,t,i,o){o===void 0&&(o=i),r[o]=t[i]})),u=cd&&cd.__exportStar||function(r,t){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(t,i)&&e(t,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),n.QueryEngineBase=void 0,u(D_e(),n),u(r6e(),n);var a=n6e();Object.defineProperty(n,"QueryEngineBase",{enumerable:!0,get:function(){return a.QueryEngineBase}})})(cd)),cd}var fd={},Gv={},QX;function a6e(){if(QX)return Gv;QX=1,Object.defineProperty(Gv,"__esModule",{value:!0}),Gv.LoggerVoid=void 0;const n=ac();let e=class extends n.Logger{debug(){}error(){}fatal(){}info(){}trace(){}warn(){}};return Gv.LoggerVoid=e,Gv}var VX;function Aq(){return VX||(VX=1,(function(n){var e=fd&&fd.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=fd&&fd.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(a6e(),n)})(fd)),fd}var pd={},hd={},HX;function P_e(){if(HX)return hd;HX=1,Object.defineProperty(hd,"__esModule",{value:!0}),hd.MediatorFunctionFactory=hd.ActorFunctionFactory=void 0;const n=De();let e=class extends n.Actor{constructor(r){super(r)}};hd.ActorFunctionFactory=e;class u extends n.Mediator{}return hd.MediatorFunctionFactory=u,hd}var $v={},kX;function i6e(){if(kX)return $v;kX=1,Object.defineProperty($v,"__esModule",{value:!0}),$v.ActorFunctionFactoryDedicated=void 0;const n=De(),e=P_e();let u=class extends e.ActorFunctionFactory{constructor(r){super(r)}async test(r){return this.functionNames.includes(r.functionName)&&(this.termFunction||!r.requireTermExpression)?(0,n.passTestVoid)():(0,n.failTest)(`Actor ${this.name} can not provide implementation for "${r.functionName}", only for ${this.termFunction?"":"non-termExpression "}${this.functionNames.join(" and ")}.`)}};return $v.ActorFunctionFactoryDedicated=u,$v}var Xv={},zX;function u6e(){if(zX)return Xv;zX=1,Object.defineProperty(Xv,"__esModule",{value:!0}),Xv.BusFunctionFactory=void 0;const n=De();let e=class extends n.BusIndexed{constructor(a){super({...a,actorIdentifierFields:["functionNames"],actionIdentifierFields:["functionName"]})}};return Xv.BusFunctionFactory=e,Xv}var yd={},Rj={},Kv={},Nj={},_a={},md={},Jv={},GX;function j_e(){if(GX)return Jv;GX=1,Object.defineProperty(Jv,"__esModule",{value:!0}),Jv.BlankNode=void 0;class n{constructor(u){this.termType="BlankNode",this.value=u}equals(u){return!!u&&u.termType==="BlankNode"&&u.value===this.value}}return Jv.BlankNode=n,Jv}var Wv={},Yv={},$X;function M_e(){if($X)return Yv;$X=1,Object.defineProperty(Yv,"__esModule",{value:!0}),Yv.DefaultGraph=void 0;class n{constructor(){this.termType="DefaultGraph",this.value=""}equals(u){return!!u&&u.termType==="DefaultGraph"}}return Yv.DefaultGraph=n,n.INSTANCE=new n,Yv}var Zv={},e_={},XX;function Oq(){if(XX)return e_;XX=1,Object.defineProperty(e_,"__esModule",{value:!0}),e_.NamedNode=void 0;class n{constructor(u){this.termType="NamedNode",this.value=u}equals(u){return!!u&&u.termType==="NamedNode"&&u.value===this.value}}return e_.NamedNode=n,e_}var KX;function C_e(){if(KX)return Zv;KX=1,Object.defineProperty(Zv,"__esModule",{value:!0}),Zv.Literal=void 0;const n=Oq();class e{constructor(a,r){this.termType="Literal",this.value=a,typeof r=="string"?(this.language=r,this.datatype=e.RDF_LANGUAGE_STRING):r?(this.language="",this.datatype=r):(this.language="",this.datatype=e.XSD_STRING)}equals(a){return!!a&&a.termType==="Literal"&&a.value===this.value&&a.language===this.language&&this.datatype.equals(a.datatype)}}return Zv.Literal=e,e.RDF_LANGUAGE_STRING=new n.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),e.XSD_STRING=new n.NamedNode("http://www.w3.org/2001/XMLSchema#string"),Zv}var t_={},JX;function L_e(){if(JX)return t_;JX=1,Object.defineProperty(t_,"__esModule",{value:!0}),t_.Quad=void 0;class n{constructor(u,a,r,t){this.termType="Quad",this.value="",this.subject=u,this.predicate=a,this.object=r,this.graph=t}equals(u){return!!u&&(u.termType==="Quad"||!u.termType)&&this.subject.equals(u.subject)&&this.predicate.equals(u.predicate)&&this.object.equals(u.object)&&this.graph.equals(u.graph)}}return t_.Quad=n,t_}var r_={},WX;function q_e(){if(WX)return r_;WX=1,Object.defineProperty(r_,"__esModule",{value:!0}),r_.Variable=void 0;class n{constructor(u){this.termType="Variable",this.value=u}equals(u){return!!u&&u.termType==="Variable"&&u.value===this.value}}return r_.Variable=n,r_}var YX;function o6e(){if(YX)return Wv;YX=1,Object.defineProperty(Wv,"__esModule",{value:!0}),Wv.DataFactory=void 0;const n=j_e(),e=M_e(),u=C_e(),a=Oq(),r=L_e(),t=q_e();let i=0;class o{constructor(s){this.blankNodeCounter=0,s=s||{},this.blankNodePrefix=s.blankNodePrefix||`df_${i++}_`}namedNode(s){return new a.NamedNode(s)}blankNode(s){return new n.BlankNode(s||`${this.blankNodePrefix}${this.blankNodeCounter++}`)}literal(s,c){return new u.Literal(s,c)}variable(s){return new t.Variable(s)}defaultGraph(){return e.DefaultGraph.INSTANCE}quad(s,c,d,f){return new r.Quad(s,c,d,f||this.defaultGraph())}fromTerm(s){switch(s.termType){case"NamedNode":return this.namedNode(s.value);case"BlankNode":return this.blankNode(s.value);case"Literal":return s.language?this.literal(s.value,s.language):s.datatype.equals(u.Literal.XSD_STRING)?this.literal(s.value):this.literal(s.value,this.fromTerm(s.datatype));case"Variable":return this.variable(s.value);case"DefaultGraph":return this.defaultGraph();case"Quad":return this.quad(this.fromTerm(s.subject),this.fromTerm(s.predicate),this.fromTerm(s.object),this.fromTerm(s.graph))}}fromQuad(s){return this.fromTerm(s)}resetBlankNodeCounter(){this.blankNodeCounter=0}}return Wv.DataFactory=o,Wv}var ZX;function Rr(){return ZX||(ZX=1,(function(n){var e=md&&md.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=md&&md.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(j_e(),n),u(o6e(),n),u(M_e(),n),u(C_e(),n),u(Oq(),n),u(L_e(),n),u(q_e(),n)})(md)),md}var eK;function s6e(){if(eK)return _a;eK=1,Object.defineProperty(_a,"__esModule",{value:!0}),_a.stringQuadToQuad=_a.quadToStringQuad=_a.stringToTerm=_a.getLiteralLanguage=_a.getLiteralType=_a.getLiteralValue=_a.termToString=void 0;const n=Rr(),e=new n.DataFactory;function u(s){if(s)switch(s.termType){case"NamedNode":return s.value;case"BlankNode":return"_:"+s.value;case"Literal":const c=s;return'"'+c.value+'"'+(c.datatype&&c.datatype.value!=="http://www.w3.org/2001/XMLSchema#string"&&c.datatype.value!=="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"?"^^"+c.datatype.value:"")+(c.language?"@"+c.language:"");case"Quad":return`<<${u(s.subject)} ${u(s.predicate)} ${u(s.object)}${s.graph.termType==="DefaultGraph"?"":" "+u(s.graph)}>>`;case"Variable":return"?"+s.value;case"DefaultGraph":return s.value}}_a.termToString=u;function a(s){const c=/^"([^]*)"/.exec(s);if(!c)throw new Error(s+" is not a literal");return c[1]}_a.getLiteralValue=a;function r(s){const c=/^"[^]*"(?:\^\^([^"]+)|(@)[^@"]+)?$/.exec(s);if(!c)throw new Error(s+" is not a literal");return c[1]||(c[2]?"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString":"http://www.w3.org/2001/XMLSchema#string")}_a.getLiteralType=r;function t(s){const c=/^"[^]*"(?:@([^@"]+)|\^\^[^"]+)?$/.exec(s);if(!c)throw new Error(s+" is not a literal");return c[1]?c[1].toLowerCase():""}_a.getLiteralLanguage=t;function i(s,c){if(c=c||e,!s||!s.length)return c.defaultGraph();switch(s[0]){case"_":return c.blankNode(s.substr(2));case"?":if(!c.variable)throw new Error("Missing 'variable()' method on the given DataFactory");return c.variable(s.substr(1));case'"':const d=t(s),f=c.namedNode(r(s));return c.literal(a(s),d||f);default:if(s[0]==="<"&&s.length>4&&s[1]==="<"&&s[s.length-1]===">"&&s[s.length-2]===">"){const p=s.slice(2,-2).trim();let h=[],g=0,_=0,m=!1;for(let w=0;w<p.length;w++){const T=p[w];if(T==="<"&&g++,T===">"){if(g===0)throw new Error("Found closing tag without opening tag in "+s);g--}if(T==='"'){let E=!1,S=w;for(;S-- >0&&p[S]==="\\";)E=!E;E||(m=!m)}if(T===" "&&!m&&g===0){for(h.push(p.slice(_,w));p[w+1]===" ";)w+=1;_=w+1}}if(g!==0)throw new Error("Found opening tag without closing tag in "+s);if(h.push(p.slice(_,p.length)),h.length!==3&&h.length!==4)throw new Error("Nested quad syntax error "+s);return h=h.map(w=>w.startsWith("<")&&!w.includes(" ")?w.slice(1,-1):w),c.quad(i(h[0]),i(h[1]),i(h[2]),h[3]?i(h[3]):void 0)}return c.namedNode(s)}}_a.stringToTerm=i;function o(s){return{subject:u(s.subject),predicate:u(s.predicate),object:u(s.object),graph:u(s.graph)}}_a.quadToStringQuad=o;function l(s,c){return c=c||e,c.quad(i(s.subject,c),i(s.predicate,c),i(s.object,c),i(s.graph,c))}return _a.stringQuadToQuad=l,_a}var tK;function Xt(){return tK||(tK=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.termToString=n.stringToTerm=n.stringQuadToQuad=n.quadToStringQuad=n.getLiteralValue=n.getLiteralType=n.getLiteralLanguage=void 0;const e=s6e();Object.defineProperty(n,"getLiteralLanguage",{enumerable:!0,get:function(){return e.getLiteralLanguage}}),Object.defineProperty(n,"getLiteralType",{enumerable:!0,get:function(){return e.getLiteralType}}),Object.defineProperty(n,"getLiteralValue",{enumerable:!0,get:function(){return e.getLiteralValue}}),Object.defineProperty(n,"quadToStringQuad",{enumerable:!0,get:function(){return e.quadToStringQuad}}),Object.defineProperty(n,"stringQuadToQuad",{enumerable:!0,get:function(){return e.stringQuadToQuad}}),Object.defineProperty(n,"stringToTerm",{enumerable:!0,get:function(){return e.stringToTerm}}),Object.defineProperty(n,"termToString",{enumerable:!0,get:function(){return e.termToString}})})(Nj)),Nj}var Mu={},cu={},Ij,rK;function T1(){return rK||(rK=1,Ij=function n(e,u){if(e===u)return!0;if(e&&u&&typeof e=="object"&&typeof u=="object"){if(e.constructor!==u.constructor)return!1;var a,r,t;if(Array.isArray(e)){if(a=e.length,a!=u.length)return!1;for(r=a;r--!==0;)if(!n(e[r],u[r]))return!1;return!0}if(e instanceof Map&&u instanceof Map){if(e.size!==u.size)return!1;for(r of e.entries())if(!u.has(r[0]))return!1;for(r of e.entries())if(!n(r[1],u.get(r[0])))return!1;return!0}if(e instanceof Set&&u instanceof Set){if(e.size!==u.size)return!1;for(r of e.entries())if(!u.has(r[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(u)){if(a=e.length,a!=u.length)return!1;for(r=a;r--!==0;)if(e[r]!==u[r])return!1;return!0}if(e.constructor===RegExp)return e.source===u.source&&e.flags===u.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===u.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===u.toString();if(t=Object.keys(e),a=t.length,a!==Object.keys(u).length)return!1;for(r=a;r--!==0;)if(!Object.prototype.hasOwnProperty.call(u,t[r]))return!1;for(r=a;r--!==0;){var i=t[r];if(!n(e[i],u[i]))return!1}return!0}return e!==e&&u!==u}),Ij}var Dj={},Cu={},bd={},n_={},nK;function B_e(){if(nK)return n_;nK=1,Object.defineProperty(n_,"__esModule",{value:!0}),n_.BlankNode=void 0;class n{constructor(u){this.termType="BlankNode",this.value=u}equals(u){return!!u&&u.termType==="BlankNode"&&u.value===this.value}}return n_.BlankNode=n,n_}var a_={},i_={},aK;function U_e(){if(aK)return i_;aK=1,Object.defineProperty(i_,"__esModule",{value:!0}),i_.DefaultGraph=void 0;class n{constructor(){this.termType="DefaultGraph",this.value=""}equals(u){return!!u&&u.termType==="DefaultGraph"}}return i_.DefaultGraph=n,n.INSTANCE=new n,i_}var u_={},o_={},iK;function xq(){if(iK)return o_;iK=1,Object.defineProperty(o_,"__esModule",{value:!0}),o_.NamedNode=void 0;class n{constructor(u){this.termType="NamedNode",this.value=u}equals(u){return!!u&&u.termType==="NamedNode"&&u.value===this.value}}return o_.NamedNode=n,o_}var uK;function Q_e(){if(uK)return u_;uK=1,Object.defineProperty(u_,"__esModule",{value:!0}),u_.Literal=void 0;const n=xq();class e{constructor(a,r){this.termType="Literal",this.value=a,typeof r=="string"?(this.language=r,this.datatype=e.RDF_LANGUAGE_STRING,this.direction=""):r?"termType"in r?(this.language="",this.datatype=r,this.direction=""):(this.language=r.language,this.datatype=r.direction?e.RDF_DIRECTIONAL_LANGUAGE_STRING:e.RDF_LANGUAGE_STRING,this.direction=r.direction||""):(this.language="",this.datatype=e.XSD_STRING,this.direction="")}equals(a){return!!a&&a.termType==="Literal"&&a.value===this.value&&a.language===this.language&&(a.direction===this.direction||!a.direction&&this.direction==="")&&this.datatype.equals(a.datatype)}}return u_.Literal=e,e.RDF_LANGUAGE_STRING=new n.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),e.RDF_DIRECTIONAL_LANGUAGE_STRING=new n.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#dirLangString"),e.XSD_STRING=new n.NamedNode("http://www.w3.org/2001/XMLSchema#string"),u_}var s_={},oK;function V_e(){if(oK)return s_;oK=1,Object.defineProperty(s_,"__esModule",{value:!0}),s_.Quad=void 0;class n{constructor(u,a,r,t){this.termType="Quad",this.value="",this.subject=u,this.predicate=a,this.object=r,this.graph=t}equals(u){return!!u&&(u.termType==="Quad"||!u.termType)&&this.subject.equals(u.subject)&&this.predicate.equals(u.predicate)&&this.object.equals(u.object)&&this.graph.equals(u.graph)}}return s_.Quad=n,s_}var c_={},sK;function H_e(){if(sK)return c_;sK=1,Object.defineProperty(c_,"__esModule",{value:!0}),c_.Variable=void 0;class n{constructor(u){this.termType="Variable",this.value=u}equals(u){return!!u&&u.termType==="Variable"&&u.value===this.value}}return c_.Variable=n,c_}var cK;function c6e(){if(cK)return a_;cK=1,Object.defineProperty(a_,"__esModule",{value:!0}),a_.DataFactory=void 0;const n=B_e(),e=U_e(),u=Q_e(),a=xq(),r=V_e(),t=H_e();let i=0;class o{constructor(s){this.blankNodeCounter=0,s=s||{},this.blankNodePrefix=s.blankNodePrefix||`df_${i++}_`}namedNode(s){return new a.NamedNode(s)}blankNode(s){return new n.BlankNode(s||`${this.blankNodePrefix}${this.blankNodeCounter++}`)}literal(s,c){return new u.Literal(s,c)}variable(s){return new t.Variable(s)}defaultGraph(){return e.DefaultGraph.INSTANCE}quad(s,c,d,f){return new r.Quad(s,c,d,f||this.defaultGraph())}fromTerm(s){switch(s.termType){case"NamedNode":return this.namedNode(s.value);case"BlankNode":return this.blankNode(s.value);case"Literal":return s.language?this.literal(s.value,s.language):s.datatype.equals(u.Literal.XSD_STRING)?this.literal(s.value):this.literal(s.value,this.fromTerm(s.datatype));case"Variable":return this.variable(s.value);case"DefaultGraph":return this.defaultGraph();case"Quad":return this.quad(this.fromTerm(s.subject),this.fromTerm(s.predicate),this.fromTerm(s.object),this.fromTerm(s.graph))}}fromQuad(s){return this.fromTerm(s)}resetBlankNodeCounter(){this.blankNodeCounter=0}}return a_.DataFactory=o,a_}var lK;function Rq(){return lK||(lK=1,(function(n){var e=bd&&bd.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=bd&&bd.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(B_e(),n),u(c6e(),n),u(U_e(),n),u(Q_e(),n),u(xq(),n),u(V_e(),n),u(H_e(),n)})(bd)),bd}var dK;function l6e(){if(dK)return Cu;dK=1,Object.defineProperty(Cu,"__esModule",{value:!0}),Cu.termToString=u,Cu.getLiteralValue=a,Cu.getLiteralType=r,Cu.getLiteralLanguage=t,Cu.getLiteralDirection=i,Cu.stringToTerm=o,Cu.quadToStringQuad=l,Cu.stringQuadToQuad=s;const n=Rq(),e=new n.DataFactory;function u(c){if(c)switch(c.termType){case"NamedNode":return c.value;case"BlankNode":return"_:"+c.value;case"Literal":const d=c;return'"'+d.value+'"'+(d.datatype&&d.datatype.value!=="http://www.w3.org/2001/XMLSchema#string"&&d.datatype.value!=="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"&&d.datatype.value!=="http://www.w3.org/1999/02/22-rdf-syntax-ns#dirLangString"?"^^"+d.datatype.value:"")+(d.language?"@"+d.language:"")+(d.direction?"--"+d.direction:"");case"Quad":return`<<${u(c.subject)} ${u(c.predicate)} ${u(c.object)}${c.graph.termType==="DefaultGraph"?"":" "+u(c.graph)}>>`;case"Variable":return"?"+c.value;case"DefaultGraph":return c.value}}function a(c){const d=/^"([^]*)"/.exec(c);if(!d)throw new Error(c+" is not a literal");return d[1]}function r(c){const d=/^"[^]*"(?:\^\^([^"]+)|(@)[^@"]+)?$/.exec(c);if(!d)throw new Error(c+" is not a literal");return d[1]||(d[2]?"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString":"http://www.w3.org/2001/XMLSchema#string")}function t(c){const d=/^"[^]*"(?:@([^@"]+)|\^\^[^"]+)?$/.exec(c);if(!d)throw new Error(c+" is not a literal");if(d[1]){let f=d[1].toLowerCase();const p=f.indexOf("--");return p>=0&&(f=f.slice(0,p)),f}return""}function i(c){const d=c.indexOf("--",c.lastIndexOf('"'));if(d>=0){const f=c.slice(d+2,c.length);if(f==="ltr"||f==="rtl")return f;throw new Error(c+" is not a literal with a valid direction")}return""}function o(c,d){if(d=d||e,!c||!c.length)return d.defaultGraph();switch(c[0]){case"_":return d.blankNode(c.substr(2));case"?":if(!d.variable)throw new Error("Missing 'variable()' method on the given DataFactory");return d.variable(c.substr(1));case'"':const f=t(c),p=i(c),h=d.namedNode(r(c));return d.literal(a(c),f?{language:f,direction:p}:h);default:if(c[0]==="<"&&c.length>4&&c[1]==="<"&&c[c.length-1]===">"&&c[c.length-2]===">"){const g=c.slice(2,-2).trim();let _=[],m=0,w=0,T=!1;for(let E=0;E<g.length;E++){const S=g[E];if(S==="<"&&m++,S===">"){if(m===0)throw new Error("Found closing tag without opening tag in "+c);m--}if(S==='"'){let N=!1,j=E;for(;j-- >0&&g[j]==="\\";)N=!N;N||(T=!T)}if(S===" "&&!T&&m===0){for(_.push(g.slice(w,E));g[E+1]===" ";)E+=1;w=E+1}}if(m!==0)throw new Error("Found opening tag without closing tag in "+c);if(_.push(g.slice(w,g.length)),_.length!==3&&_.length!==4)throw new Error("Nested quad syntax error "+c);return _=_.map(E=>E.startsWith("<")&&!E.includes(" ")?E.slice(1,-1):E),d.quad(o(_[0]),o(_[1]),o(_[2]),_[3]?o(_[3]):void 0)}return d.namedNode(c)}}function l(c){return{subject:u(c.subject),predicate:u(c.predicate),object:u(c.object),graph:u(c.graph)}}function s(c,d){return d=d||e,d.quad(o(c.subject,d),o(c.predicate,d),o(c.object,d),o(c.graph,d))}return Cu}var fK;function nP(){return fK||(fK=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.termToString=n.stringToTerm=n.stringQuadToQuad=n.quadToStringQuad=n.getLiteralValue=n.getLiteralType=n.getLiteralDirection=n.getLiteralLanguage=void 0;const e=l6e();Object.defineProperty(n,"getLiteralLanguage",{enumerable:!0,get:function(){return e.getLiteralLanguage}}),Object.defineProperty(n,"getLiteralDirection",{enumerable:!0,get:function(){return e.getLiteralDirection}}),Object.defineProperty(n,"getLiteralType",{enumerable:!0,get:function(){return e.getLiteralType}}),Object.defineProperty(n,"getLiteralValue",{enumerable:!0,get:function(){return e.getLiteralValue}}),Object.defineProperty(n,"quadToStringQuad",{enumerable:!0,get:function(){return e.quadToStringQuad}}),Object.defineProperty(n,"stringQuadToQuad",{enumerable:!0,get:function(){return e.stringQuadToQuad}}),Object.defineProperty(n,"stringToTerm",{enumerable:!0,get:function(){return e.stringToTerm}}),Object.defineProperty(n,"termToString",{enumerable:!0,get:function(){return e.termToString}})})(Dj)),Dj}var Fj={},pK;function k4(){return pK||(pK=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.expressionTypes=n.types=void 0,(function(e){e.ALT="alt",e.ASK="ask",e.BGP="bgp",e.CONSTRUCT="construct",e.DESCRIBE="describe",e.DISTINCT="distinct",e.EXPRESSION="expression",e.EXTEND="extend",e.FILTER="filter",e.FROM="from",e.GRAPH="graph",e.GROUP="group",e.INV="inv",e.JOIN="join",e.LEFT_JOIN="leftjoin",e.LINK="link",e.MINUS="minus",e.NOP="nop",e.NPS="nps",e.ONE_OR_MORE_PATH="OneOrMorePath",e.ORDER_BY="orderby",e.PATH="path",e.PATTERN="pattern",e.PROJECT="project",e.REDUCED="reduced",e.SEQ="seq",e.SERVICE="service",e.SLICE="slice",e.UNION="union",e.VALUES="values",e.ZERO_OR_MORE_PATH="ZeroOrMorePath",e.ZERO_OR_ONE_PATH="ZeroOrOnePath",e.COMPOSITE_UPDATE="compositeupdate",e.DELETE_INSERT="deleteinsert",e.LOAD="load",e.CLEAR="clear",e.CREATE="create",e.DROP="drop",e.ADD="add",e.MOVE="move",e.COPY="copy"})(n.types||(n.types={})),(function(e){e.AGGREGATE="aggregate",e.EXISTENCE="existence",e.NAMED="named",e.OPERATOR="operator",e.TERM="term",e.WILDCARD="wildcard"})(n.expressionTypes||(n.expressionTypes={}))})(Fj)),Fj}var Ao={},Pj={},hK;function k_e(){if(hK)return Pj;hK=1;let n=class{constructor(){return e||this}equals(a){return a&&this.termType===a.termType}};Object.defineProperty(n.prototype,"value",{enumerable:!0,value:"*"}),Object.defineProperty(n.prototype,"termType",{enumerable:!0,value:"Wildcard"});var e=new n;return Pj.Wildcard=n,Pj}var jj,yK;function d6e(){if(yK)return jj;yK=1;var n=(function(){var e=function(ot,nt,dt,_t){for(dt=dt||{},_t=ot.length;_t--;dt[ot[_t]]=nt);return dt},u=[6,12,13,15,16,24,32,36,41,45,100,110,113,115,116,123,126,131,197,224,229,308,329,330,331,332,333],a=[2,247],r=[100,110,113,115,116,123,126,131,329,330,331,332,333],t=[2,409],i=[1,18],o=[1,27],l=[13,16,45,197,224,229,308],s=[28,29,53],c=[28,53],d=[1,42],f=[1,45],p=[1,41],h=[1,44],g=[123,126],_=[1,67],m=[39,45,87],w=[13,16,45,197,224,308],T=[1,87],E=[2,281],S=[1,86],N=[13,16,45,82,87,89,231,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312],j=[6,28,29,53,63,70,73,81,83,85],q=[6,13,16,28,29,53,63,70,73,81,83,85,87,308],O=[6,13,16,28,29,45,53,63,70,73,81,82,83,85,87,89,197,231,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,314],I=[6,13,16,28,29,31,39,45,47,48,53,63,70,73,81,82,83,85,87,89,109,112,121,123,126,128,159,160,161,163,164,174,193,197,224,229,231,232,242,246,250,263,265,272,290,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,314,317,318,335,337,338,340,341,342,343,344,345,346],A=[13,16,308],P=[112,132,327,334],C=[13,16,112,132,308],B=[1,111],V=[1,117],U=[112,132,327,328,334],G=[13,16,112,132,308,328],J=[28,29,45,53,87],ne=[1,138],W=[1,151],ee=[1,128],se=[1,127],pe=[1,129],le=[1,140],Ee=[1,141],Ae=[1,142],Ne=[1,143],Oe=[1,144],be=[1,145],te=[1,147],v=[1,148],F=[2,457],D=[1,158],L=[1,159],H=[1,160],Z=[1,152],$=[1,153],ue=[1,156],ae=[1,171],ce=[1,172],Se=[1,173],xe=[1,174],Ce=[1,175],He=[1,176],Je=[1,167],Ye=[1,168],oe=[1,169],X=[1,170],Y=[1,157],he=[1,166],ve=[1,161],ye=[1,162],re=[1,163],Ie=[1,164],Le=[1,165],Pe=[6,13,16,29,31,45,82,85,87,89,112,159,160,161,163,164,231,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,335],Fe=[1,195],R=[6,31,73,81,83,85],k=[2,285],K=[1,199],de=[1,201],ge=[6,31,70,73,81,83,85],Qe=[2,283],je=[1,207],$e=[1,218],at=[1,223],fe=[1,219],Te=[1,225],qe=[1,226],it=[1,224],Me=[6,63,70,73,81,83,85],st=[1,236],tt=[2,334],Ot=[1,243],yt=[1,241],bt=[6,193],Tt=[2,349],xt=[2,339],wt=[28,128],gt=[47,48,193,272],dr=[47,48,193,242,272],ht=[47,48,193,242,246,272],Re=[47,48,193,242,246,250,263,265,272,290,297,298,299,300,301,302,341,342,343,344,345,346],Ve=[39,47,48,193,242,246,250,263,265,272,290,297,298,299,300,301,302,338,341,342,343,344,345,346],Ge=[1,271],vt=[1,270],St=[6,13,16,29,31,39,45,47,48,70,73,76,78,81,82,83,85,87,89,112,159,160,161,163,164,193,231,242,246,250,263,265,268,269,270,271,272,273,274,276,277,279,280,283,285,290,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,335,338,341,342,343,344,345,346,347,348,349,350,351],Vt=[1,281],wr=[1,280],hr=[13,16,29,31,39,45,47,48,82,85,87,89,112,159,160,161,163,164,174,193,197,224,229,231,232,242,246,250,263,265,272,290,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,314,317,318,335,338,341,342,343,344,345,346],aa=[45,89],yr=[13,16,29,31,39,45,47,48,82,85,87,89,112,159,160,161,163,164,174,193,197,224,229,231,232,242,246,250,263,265,272,290,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,314,317,318,335,338,341,342,343,344,345,346],Ir=[13,16,31,82,174,294,295,296,297,298,299,300,301,302,303,304,305,306,308,312],fa=[31,89],Or=[48,87],xn=[6,13,16,45,48,82,87,89,231,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,337,338],hn=[6,13,16,39,45,48,82,87,89,231,263,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,337,338,340],_i=[1,313],Rn=[6,85],yo=[6,31,81,83,85],yn=[2,361],Nn=[2,353],$r=[1,343],mn=[31,112,335],bn=[13,16,29,31,45,48,82,85,87,89,112,159,160,161,163,164,193,197,224,229,231,232,272,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,317,318,335],Dl=[13,16,29,31,45,48,82,85,87,89,112,159,160,161,163,164,193,197,224,229,231,232,272,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,314,317,318,335],Fl=[6,109,193],zi=[31,112],nn=[13,16,45,82,87,224,263,265,268,269,270,271,273,274,276,277,279,280,283,285,294,295,296,297,298,299,300,301,302,303,304,305,306,308,312,346,347,348,349,350,351],M1=[1,390],Ia=[1,391],Gi=[13,16,87,197,308,314],C1=[13,16,39,45,82,87,224,263,265,268,269,270,271,273,274,276,277,279,280,283,285,294,295,296,297,298,299,300,301,302,303,304,305,306,308,312,346,347,348,349,350,351],dc=[1,417],xu=[1,418],L1=[13,16,48,197,229,308],Ru=[6,31,85],rs=[6,13,16,31,45,73,81,83,85,268,269,270,271,273,274,276,277,279,280,283,285,308,346,347,348,349,350,351],q1=[6,13,16,29,31,45,73,76,78,81,82,83,85,87,89,112,159,160,161,163,164,231,268,269,270,271,273,274,276,277,279,280,283,285,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,335,346,347,348,349,350,351],mo=[29,31,85,112,159,160,161,163,164],Pl=[1,443],fc=[1,444],wN=[1,449],ns=[31,112,193,232,318,335],as=[13,16,45,48,82,87,89,231,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312],$i=[13,16,31,45,48,82,87,89,112,193,231,232,272,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,317,318,335],jl=[13,16,29,31,45,48,82,85,87,89,112,159,160,161,163,164,193,231,232,272,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,317,318,335],is=[13,16,31,48,82,174,294,295,296,297,298,299,300,301,302,303,304,305,306,308,312],Xi=[31,45],us=[1,507],B1=[1,508],Rb=[6,13,16,29,31,39,45,47,48,63,70,73,76,78,81,82,83,85,87,89,112,159,160,161,163,164,193,231,242,246,250,263,265,268,269,270,271,272,273,274,276,277,279,280,283,285,290,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,335,336,338,341,342,343,344,345,346,347,348,349,350,351],Ml=[29,31,85,112,159,160,161,163,164,335],Ti=[6,13,16,31,45,70,73,81,83,85,87,268,269,270,271,273,274,276,277,279,280,283,285,308,346,347,348,349,350,351],Ki=[13,16,31,45,48,82,87,89,112,193,197,231,232,272,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,317,318,335],Nb=[2,352],os=[13,16,197,308,314],Nu=[1,565],bo=[6,13,16,31,45,76,78,81,83,85,87,268,269,270,271,273,274,276,277,279,280,283,285,308,346,347,348,349,350,351],Cl=[13,16,29,31,45,82,85,87,89,112,159,160,161,163,164,231,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312],Ji=[13,16,29,31,45,82,85,87,89,112,159,160,161,163,164,231,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,335],Ll=[13,16,87,308],ni=[2,364],ss=[29,31,85,112,159,160,161,163,164,193,232,318,335],Kn=[31,112,193,232,272,318,335],pa=[2,359],ql=[13,16,48,82,174,294,295,296,297,298,299,300,301,302,303,304,305,306,308,312],go=[29,31,85,112,159,160,161,163,164,193,232,272,318,335],SN=[13,16,31,45,82,87,89,112,231,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312],Ib=[2,347],Bl={trace:function(){},yy:{},symbols_:{error:2,QueryOrUpdate:3,Prologue:4,QueryOrUpdate_group0:5,EOF:6,Query:7,Qry:8,Query_option0:9,Prologue_repetition0:10,BaseDecl:11,BASE:12,IRIREF:13,PrefixDecl:14,PREFIX:15,PNAME_NS:16,SelectClauseWildcard:17,Qry_repetition0:18,WhereClause:19,SolutionModifierNoGroup:20,SelectClauseVars:21,Qry_repetition1:22,SolutionModifier:23,CONSTRUCT:24,ConstructTemplate:25,Qry_repetition2:26,Qry_repetition3:27,WHERE:28,"{":29,Qry_option0:30,"}":31,DESCRIBE:32,Qry_group0:33,Qry_repetition4:34,Qry_option1:35,ASK:36,Qry_repetition5:37,SelectClauseBase:38,"*":39,SelectClauseVars_repetition_plus0:40,SELECT:41,SelectClauseBase_option0:42,SelectClauseItem:43,Var:44,"(":45,Expression:46,AS:47,")":48,SubSelect:49,SubSelect_option0:50,SubSelect_option1:51,DatasetClause:52,FROM:53,DatasetClause_option0:54,iri:55,WhereClause_option0:56,GroupGraphPattern:57,SolutionModifier_option0:58,SolutionModifierNoGroup_option0:59,SolutionModifierNoGroup_option1:60,SolutionModifierNoGroup_option2:61,GroupClause:62,GROUP:63,BY:64,GroupClause_repetition_plus0:65,GroupCondition:66,BuiltInCall:67,FunctionCall:68,HavingClause:69,HAVING:70,HavingClause_repetition_plus0:71,OrderClause:72,ORDER:73,OrderClause_repetition_plus0:74,OrderCondition:75,ASC:76,BrackettedExpression:77,DESC:78,Constraint:79,LimitOffsetClauses:80,LIMIT:81,INTEGER:82,OFFSET:83,ValuesClause:84,VALUES:85,InlineData:86,VAR:87,InlineData_repetition0:88,NIL:89,InlineData_repetition1:90,InlineData_repetition_plus2:91,InlineData_repetition3:92,DataBlock:93,DataBlockValueList:94,DataBlockValueList_repetition_plus0:95,Update:96,Update_repetition0:97,Update1:98,Update_option0:99,LOAD:100,Update1_option0:101,Update1_option1:102,Update1_group0:103,Update1_option2:104,GraphRefAll:105,Update1_group1:106,Update1_option3:107,GraphOrDefault:108,TO:109,CREATE:110,Update1_option4:111,GRAPH:112,INSERTDATA:113,QuadPattern:114,DELETEDATA:115,DELETEWHERE:116,Update1_option5:117,InsertDeleteClause:118,Update1_repetition0:119,IntoGraphClause:120,INTO:121,GraphRef:122,DELETE:123,InsertDeleteClause_option0:124,InsertClause:125,INSERT:126,UsingClause:127,USING:128,UsingClause_option0:129,WithClause:130,WITH:131,DEFAULT:132,GraphOrDefault_option0:133,GraphRefAll_group0:134,Quads:135,Quads_option0:136,Quads_repetition0:137,QuadsNotTriples:138,VarOrIri:139,QuadsNotTriples_option0:140,QuadsNotTriples_option1:141,QuadsNotTriples_option2:142,TriplesTemplate:143,TriplesTemplate_repetition0:144,TriplesSameSubject:145,TriplesTemplate_option0:146,GroupGraphPatternSub:147,GroupGraphPatternSub_option0:148,GroupGraphPatternSub_repetition0:149,GroupGraphPatternSubTail:150,GraphPatternNotTriples:151,GroupGraphPatternSubTail_option0:152,GroupGraphPatternSubTail_option1:153,TriplesBlock:154,TriplesBlock_repetition0:155,TriplesSameSubjectPath:156,TriplesBlock_option0:157,GroupOrUnionGraphPattern:158,OPTIONAL:159,MINUS:160,SERVICE:161,GraphPatternNotTriples_option0:162,FILTER:163,BIND:164,InlineDataOneVar:165,InlineDataFull:166,InlineDataOneVar_repetition0:167,InlineDataFull_repetition0:168,InlineDataFull_repetition_plus1:169,InlineDataFull_repetition2:170,DataBlockValue:171,Literal:172,QuotedTriple:173,UNDEF:174,GroupOrUnionGraphPattern_repetition0:175,ArgList:176,ArgList_option0:177,ArgList_repetition0:178,ExpressionList:179,ExpressionList_repetition0:180,ConstructTemplate_option0:181,ConstructTriples:182,ConstructTriples_repetition0:183,ConstructTriples_option0:184,VarOrTermOrQuotedTP:185,PropertyListNotEmpty:186,TriplesNode:187,PropertyList:188,PropertyList_option0:189,VerbObjectList:190,PropertyListNotEmpty_repetition0:191,SemiOptionalVerbObjectList:192,";":193,SemiOptionalVerbObjectList_option0:194,Verb:195,ObjectList:196,a:197,ObjectList_repetition0:198,Object:199,GraphNode:200,Object_option0:201,PropertyListPathNotEmpty:202,TriplesNodePath:203,TriplesSameSubjectPath_option0:204,O:205,PropertyListPathNotEmpty_repetition0:206,PropertyListPathNotEmptyTail:207,O_group0:208,ObjectListPath:209,ObjectListPath_repetition0:210,ObjectPath:211,GraphNodePath:212,ObjectPath_option0:213,Path:214,Path_repetition0:215,PathSequence:216,PathSequence_repetition0:217,PathEltOrInverse:218,PathElt:219,PathPrimary:220,PathElt_option0:221,PathEltOrInverse_option0:222,IriOrA:223,"!":224,PathNegatedPropertySet:225,PathOneInPropertySet:226,PathNegatedPropertySet_repetition0:227,PathNegatedPropertySet_option0:228,"^":229,TriplesNode_repetition_plus0:230,"[":231,"]":232,TriplesNodePath_repetition_plus0:233,VarOrTermOrQuotedTPExpr:234,VarOrTerm:235,GraphTerm:236,BlankNode:237,ConditionalOrExpression:238,ConditionalAndExpression:239,ConditionalOrExpression_repetition0:240,ConditionalOrExpressionTail:241,"||":242,RelationalExpression:243,ConditionalAndExpression_repetition0:244,ConditionalAndExpressionTail:245,"&&":246,NumericExpression:247,RelationalExpression_group0:248,RelationalExpression_option0:249,IN:250,MultiplicativeExpression:251,NumericExpression_repetition0:252,AdditiveExpressionTail:253,AdditiveExpressionTail_group0:254,NumericLiteralPositive:255,AdditiveExpressionTail_repetition0:256,NumericLiteralNegative:257,AdditiveExpressionTail_repetition1:258,UnaryExpression:259,MultiplicativeExpression_repetition0:260,MultiplicativeExpressionTail:261,MultiplicativeExpressionTail_group0:262,"+":263,PrimaryExpression:264,"-":265,ExprQuotedTP:266,Aggregate:267,FUNC_ARITY0:268,FUNC_ARITY1:269,FUNC_ARITY1_SPARQL_STAR:270,FUNC_ARITY2:271,",":272,FUNC_ARITY3:273,FUNC_ARITY3_SPARQL_STAR:274,BuiltInCall_group0:275,BOUND:276,BNODE:277,BuiltInCall_option0:278,EXISTS:279,COUNT:280,Aggregate_option0:281,Aggregate_group0:282,FUNC_AGGREGATE:283,Aggregate_option1:284,GROUP_CONCAT:285,Aggregate_option2:286,Aggregate_option3:287,GroupConcatSeparator:288,SEPARATOR:289,"=":290,String:291,LANGTAG:292,"^^":293,DECIMAL:294,DOUBLE:295,BOOLEAN:296,INTEGER_POSITIVE:297,DECIMAL_POSITIVE:298,DOUBLE_POSITIVE:299,INTEGER_NEGATIVE:300,DECIMAL_NEGATIVE:301,DOUBLE_NEGATIVE:302,STRING_LITERAL1:303,STRING_LITERAL2:304,STRING_LITERAL_LONG1:305,STRING_LITERAL_LONG2:306,PrefixedName:307,PNAME_LN:308,BLANK_NODE_LABEL:309,ANON:310,QuotedTP:311,"<<":312,qtSubjectOrObject:313,">>":314,DataValueTerm:315,AnnotationPattern:316,"{|":317,"|}":318,AnnotationPatternPath:319,ExprVarOrTerm:320,QueryOrUpdate_group0_option0:321,Prologue_repetition0_group0:322,Qry_group0_repetition_plus0:323,SelectClauseBase_option0_group0:324,DISTINCT:325,REDUCED:326,NAMED:327,SILENT:328,CLEAR:329,DROP:330,ADD:331,MOVE:332,COPY:333,ALL:334,".":335,UNION:336,"|":337,"/":338,PathElt_option0_group0:339,"?":340,"!=":341,"<":342,">":343,"<=":344,">=":345,NOT:346,CONCAT:347,COALESCE:348,SUBSTR:349,REGEX:350,REPLACE:351,$accept:0,$end:1},terminals_:{2:"error",6:"EOF",12:"BASE",13:"IRIREF",15:"PREFIX",16:"PNAME_NS",24:"CONSTRUCT",28:"WHERE",29:"{",31:"}",32:"DESCRIBE",36:"ASK",39:"*",41:"SELECT",45:"(",47:"AS",48:")",53:"FROM",63:"GROUP",64:"BY",70:"HAVING",73:"ORDER",76:"ASC",78:"DESC",81:"LIMIT",82:"INTEGER",83:"OFFSET",85:"VALUES",87:"VAR",89:"NIL",100:"LOAD",109:"TO",110:"CREATE",112:"GRAPH",113:"INSERTDATA",115:"DELETEDATA",116:"DELETEWHERE",121:"INTO",123:"DELETE",126:"INSERT",128:"USING",131:"WITH",132:"DEFAULT",159:"OPTIONAL",160:"MINUS",161:"SERVICE",163:"FILTER",164:"BIND",174:"UNDEF",193:";",197:"a",224:"!",229:"^",231:"[",232:"]",242:"||",246:"&&",250:"IN",263:"+",265:"-",268:"FUNC_ARITY0",269:"FUNC_ARITY1",270:"FUNC_ARITY1_SPARQL_STAR",271:"FUNC_ARITY2",272:",",273:"FUNC_ARITY3",274:"FUNC_ARITY3_SPARQL_STAR",276:"BOUND",277:"BNODE",279:"EXISTS",280:"COUNT",283:"FUNC_AGGREGATE",285:"GROUP_CONCAT",289:"SEPARATOR",290:"=",292:"LANGTAG",293:"^^",294:"DECIMAL",295:"DOUBLE",296:"BOOLEAN",297:"INTEGER_POSITIVE",298:"DECIMAL_POSITIVE",299:"DOUBLE_POSITIVE",300:"INTEGER_NEGATIVE",301:"DECIMAL_NEGATIVE",302:"DOUBLE_NEGATIVE",303:"STRING_LITERAL1",304:"STRING_LITERAL2",305:"STRING_LITERAL_LONG1",306:"STRING_LITERAL_LONG2",308:"PNAME_LN",309:"BLANK_NODE_LABEL",310:"ANON",312:"<<",314:">>",317:"{|",318:"|}",325:"DISTINCT",326:"REDUCED",327:"NAMED",328:"SILENT",329:"CLEAR",330:"DROP",331:"ADD",332:"MOVE",333:"COPY",334:"ALL",335:".",336:"UNION",337:"|",338:"/",340:"?",341:"!=",342:"<",343:">",344:"<=",345:">=",346:"NOT",347:"CONCAT",348:"COALESCE",349:"SUBSTR",350:"REGEX",351:"REPLACE"},productions_:[0,[3,3],[7,2],[4,1],[11,2],[14,3],[8,4],[8,4],[8,5],[8,7],[8,5],[8,4],[17,2],[21,2],[38,2],[43,1],[43,5],[49,4],[49,4],[52,3],[19,2],[23,2],[20,3],[62,3],[66,1],[66,1],[66,3],[66,5],[66,1],[69,2],[72,3],[75,2],[75,2],[75,1],[75,1],[80,2],[80,2],[80,4],[80,4],[84,2],[86,4],[86,4],[86,6],[86,2],[94,3],[96,3],[98,4],[98,3],[98,5],[98,4],[98,2],[98,2],[98,2],[98,5],[120,2],[118,3],[118,1],[125,2],[127,3],[130,2],[108,1],[108,2],[122,2],[105,1],[105,1],[114,3],[135,2],[138,7],[143,3],[57,3],[57,3],[147,2],[150,3],[154,3],[151,1],[151,2],[151,2],[151,3],[151,4],[151,2],[151,6],[151,1],[93,1],[93,1],[165,4],[166,4],[166,6],[171,1],[171,1],[171,1],[171,1],[158,2],[79,1],[79,1],[79,1],[68,2],[176,1],[176,5],[179,1],[179,4],[25,3],[182,3],[145,2],[145,2],[188,1],[186,2],[192,2],[190,2],[195,1],[195,1],[196,2],[199,2],[156,2],[156,2],[202,2],[207,1],[207,2],[205,2],[209,2],[211,2],[214,2],[216,2],[219,2],[218,2],[220,1],[220,2],[220,3],[225,1],[225,1],[225,4],[226,1],[226,2],[187,3],[187,3],[203,3],[203,3],[200,1],[200,1],[212,1],[212,1],[234,1],[235,1],[235,1],[139,1],[139,1],[44,1],[236,1],[236,1],[236,1],[236,1],[46,1],[238,2],[241,2],[239,2],[245,2],[243,1],[243,3],[243,4],[247,2],[253,2],[253,2],[253,2],[251,2],[261,2],[259,2],[259,2],[259,2],[259,1],[264,1],[264,1],[264,1],[264,1],[264,1],[264,1],[264,1],[77,3],[67,1],[67,2],[67,4],[67,4],[67,6],[67,8],[67,8],[67,2],[67,4],[67,2],[67,4],[67,3],[267,5],[267,5],[267,6],[288,4],[172,1],[172,2],[172,3],[172,1],[172,1],[172,1],[172,1],[172,1],[172,1],[255,1],[255,1],[255,1],[257,1],[257,1],[257,1],[291,1],[291,1],[291,1],[291,1],[55,1],[55,1],[307,1],[307,1],[237,1],[237,1],[311,5],[173,5],[313,1],[313,1],[313,1],[313,1],[313,1],[315,1],[315,1],[315,1],[185,1],[185,1],[185,1],[316,3],[319,3],[266,5],[320,1],[320,1],[320,1],[223,1],[223,1],[321,0],[321,1],[5,1],[5,1],[5,1],[9,0],[9,1],[322,1],[322,1],[10,0],[10,2],[18,0],[18,2],[22,0],[22,2],[26,0],[26,2],[27,0],[27,2],[30,0],[30,1],[323,1],[323,2],[33,1],[33,1],[34,0],[34,2],[35,0],[35,1],[37,0],[37,2],[40,1],[40,2],[324,1],[324,1],[42,0],[42,1],[50,0],[50,1],[51,0],[51,1],[54,0],[54,1],[56,0],[56,1],[58,0],[58,1],[59,0],[59,1],[60,0],[60,1],[61,0],[61,1],[65,1],[65,2],[71,1],[71,2],[74,1],[74,2],[88,0],[88,2],[90,0],[90,2],[91,1],[91,2],[92,0],[92,2],[95,1],[95,2],[97,0],[97,4],[99,0],[99,2],[101,0],[101,1],[102,0],[102,1],[103,1],[103,1],[104,0],[104,1],[106,1],[106,1],[106,1],[107,0],[107,1],[111,0],[111,1],[117,0],[117,1],[119,0],[119,2],[124,0],[124,1],[129,0],[129,1],[133,0],[133,1],[134,1],[134,1],[134,1],[136,0],[136,1],[137,0],[137,2],[140,0],[140,1],[141,0],[141,1],[142,0],[142,1],[144,0],[144,3],[146,0],[146,1],[148,0],[148,1],[149,0],[149,2],[152,0],[152,1],[153,0],[153,1],[155,0],[155,3],[157,0],[157,1],[162,0],[162,1],[167,0],[167,2],[168,0],[168,2],[169,1],[169,2],[170,0],[170,2],[175,0],[175,3],[177,0],[177,1],[178,0],[178,3],[180,0],[180,3],[181,0],[181,1],[183,0],[183,3],[184,0],[184,1],[189,0],[189,1],[191,0],[191,2],[194,0],[194,1],[198,0],[198,3],[201,0],[201,1],[204,0],[204,1],[206,0],[206,2],[208,1],[208,1],[210,0],[210,3],[213,0],[213,1],[215,0],[215,3],[217,0],[217,3],[339,1],[339,1],[339,1],[221,0],[221,1],[222,0],[222,1],[227,0],[227,3],[228,0],[228,1],[230,1],[230,2],[233,1],[233,2],[240,0],[240,2],[244,0],[244,2],[248,1],[248,1],[248,1],[248,1],[248,1],[248,1],[249,0],[249,1],[252,0],[252,2],[254,1],[254,1],[256,0],[256,2],[258,0],[258,2],[260,0],[260,2],[262,1],[262,1],[275,1],[275,1],[275,1],[275,1],[275,1],[278,0],[278,1],[281,0],[281,1],[282,1],[282,1],[284,0],[284,1],[286,0],[286,1],[287,0],[287,1]],performAction:function(nt,dt,_t,jt,Nt,me,Da){var we=me.length-1;switch(Nt){case 1:if(me[we-1]=me[we-1]||{},Kt.base&&(me[we-1].base=Kt.base),Kt.base="",me[we-1].prefixes=Kt.prefixes,Kt.prefixes=null,Kt.pathOnly){if(me[we-1].type==="path"||"termType"in me[we-1])return me[we-1];throw new Error("Received full SPARQL query in path only mode")}else if(me[we-1].type==="path"||"termType"in me[we-1])throw new Error("Received only path in full SPARQL mode");if(me[we-1].type==="update"){const kt={};for(const mr of me[we-1].updates)if(mr.updateType==="insert"){const zt={};for(const un of mr.insert)if(un.type==="bgp"||un.type==="graph")for(const qn of un.triples)qn.subject.termType==="BlankNode"&&(zt[qn.subject.value]=!0),qn.predicate.termType==="BlankNode"&&(zt[qn.predicate.value]=!0),qn.object.termType==="BlankNode"&&(zt[qn.object.value]=!0);for(const un of Object.keys(zt)){if(kt[un])throw new Error("Detected reuse blank node across different INSERT DATA clauses");kt[un]=!0}}}return me[we-1];case 2:this.$={...me[we-1],...me[we],type:"query"};break;case 4:Kt.base=Ul(me[we]);break;case 5:Kt.prefixes||(Kt.prefixes={}),me[we-1]=me[we-1].substr(0,me[we-1].length-1),me[we]=Ul(me[we]),Kt.prefixes[me[we-1]]=me[we];break;case 6:this.$={...me[we-3],...fs(me[we-2]),...me[we-1],...me[we]};break;case 7:if(!Kt.skipValidation&&(ps(me[we-3].variables.map(mr=>Fb(mr.expression))).some(mr=>mr.aggregation==="count"&&!(mr.expression instanceof vo))||me[we].group)){for(const mr of me[we-3].variables)if(mr.termType==="Variable"){if(!me[we].group||!me[we].group.map(zt=>vc(zt)).includes(vc(mr)))throw Error("Projection of ungrouped variable (?"+vc(mr)+")")}else if(Fb(mr.expression).length===0){const zt=jN(mr.expression);for(const un of zt)if(!me[we].group||!me[we].group.map||!me[we].group.map(qn=>vc(qn)).includes(vc(un)))throw Error("Use of ungrouped variable in projection of operation (?"+vc(un)+")")}}const _o=me[we-1].where.filter(kt=>kt.type==="query");if(_o.length>0){const kt=me[we-3].variables.filter(zt=>zt.variable&&zt.variable.value).map(zt=>zt.variable.value),mr=ps(_o.map(zt=>zt.variables)).map(zt=>zt.value||zt.variable.value);for(const zt of kt)if(mr.indexOf(zt)>=0)throw Error("Target id of 'AS' (?"+zt+") already used in subquery")}this.$=an(me[we-3],fs(me[we-2]),me[we-1],me[we]);break;case 8:this.$=an({queryType:"CONSTRUCT",template:me[we-3]},fs(me[we-2]),me[we-1],me[we]);break;case 9:this.$=an({queryType:"CONSTRUCT",template:me[we-2]=me[we-2]?me[we-2].triples:[]},fs(me[we-5]),{where:[{type:"bgp",triples:hc([],me[we-2])}]},me[we]);break;case 10:this.$=an({queryType:"DESCRIBE",variables:me[we-3]==="*"?[new vo]:me[we-3]},fs(me[we-2]),me[we-1],me[we]);break;case 11:this.$=an({queryType:"ASK"},fs(me[we-2]),me[we-1],me[we]);break;case 12:this.$=an(me[we-1],{variables:[new vo]});break;case 13:const Lb=me[we].map(kt=>kt.value||kt.variable.value),Zi=Pb(Lb);if(Zi.length>0)throw Error("Two or more of the resulting columns have the same name (?"+Zi[0]+")");this.$=an(me[we-1],{variables:me[we]});break;case 14:this.$=an({queryType:"SELECT"},me[we]&&(me[we-1]=ha(me[we]),me[we]={},me[we][me[we-1]]=!0,me[we]));break;case 16:case 27:this.$=yc(me[we-3],{variable:me[we-1]});break;case 17:case 18:this.$=an(me[we-3],me[we-2],me[we-1],me[we],{type:"query"});break;case 19:case 58:this.$={iri:me[we],named:!!me[we-1]};break;case 20:this.$={where:me[we].patterns};break;case 21:this.$=an(me[we-1],me[we]);break;case 22:this.$=an(me[we-2],me[we-1],me[we]);break;case 23:this.$={group:me[we]};break;case 24:case 25:case 28:case 31:case 33:case 34:this.$=yc(me[we]);break;case 26:this.$=yc(me[we-1]);break;case 29:this.$={having:me[we]};break;case 30:this.$={order:me[we]};break;case 32:this.$=yc(me[we],{descending:!0});break;case 35:this.$={limit:bc(me[we])};break;case 36:this.$={offset:bc(me[we])};break;case 37:this.$={limit:bc(me[we-2]),offset:bc(me[we])};break;case 38:this.$={limit:bc(me[we]),offset:bc(me[we-2])};break;case 39:case 43:this.$={type:"values",values:me[we]};break;case 40:case 84:this.$=me[we-1].map(kt=>({[me[we-3]]:kt}));break;case 41:case 85:this.$=me[we-1].map(()=>({}));break;case 42:case 86:var Du=me[we-4].length;me[we-4]=me[we-4].map(Q1),this.$=me[we-1].map(function(kt){if(kt.length!==Du)throw Error("Inconsistent VALUES length");for(var mr={},zt=0;zt<Du;zt++)mr["?"+me[we-4][zt].value]=kt[zt];return mr});break;case 44:case 65:case 100:case 126:case 175:this.$=me[we-1];break;case 45:this.$={type:"update",updates:ds(me[we-2],me[we-1])};break;case 46:this.$=an({type:"load",silent:!!me[we-2],source:me[we-1]},me[we]&&{destination:me[we]});break;case 47:this.$={type:ha(me[we-2]),silent:!!me[we-1],graph:me[we]};break;case 48:this.$={type:ha(me[we-4]),silent:!!me[we-3],source:me[we-2],destination:me[we]};break;case 49:this.$={type:"create",silent:!!me[we-2],graph:{type:"graph",name:me[we]}};break;case 50:this.$={updateType:"insert",insert:jb(me[we])};break;case 51:this.$={updateType:"delete",delete:Mb(jb(me[we]))};break;case 52:this.$={updateType:"deletewhere",delete:Mb(me[we])};break;case 53:this.$={updateType:"insertdelete",...me[we-4],...me[we-3],...fs(me[we-2],"using"),where:me[we].patterns};break;case 54:case 57:case 62:case 167:case 191:case 236:this.$=me[we];break;case 55:this.$={delete:Mb(me[we-1]),insert:me[we]||[]};break;case 56:this.$={delete:[],insert:me[we]};break;case 59:this.$={graph:me[we]};break;case 60:this.$={type:"graph",default:!0};break;case 61:case 63:this.$={type:"graph",name:me[we]};break;case 64:this.$={[ha(me[we])]:!0};break;case 66:this.$=me[we-1]?Wi(me[we],[me[we-1]]):Wi(me[we]);break;case 67:var Vl=an(me[we-3]||{triples:[]},{type:"graph",name:me[we-5]});this.$=me[we]?[Vl,me[we]]:[Vl];break;case 68:case 73:this.$={type:"bgp",triples:Wi(me[we-2],[me[we-1]])};break;case 69:this.$={type:"group",patterns:[me[we-1]]};break;case 70:for(const kt of me[we-1].filter(mr=>mr.type==="bind")){const mr=me[we-1].indexOf(kt),zt=new Set;for(const un of me[we-1].slice(0,mr))(un.type==="group"||un.type==="bgp")&&MN(un).forEach(qn=>zt.add(qn));if(zt.has(kt.variable.value))throw Error("Variable used to bind is already bound (?"+kt.variable.value+")")}this.$={type:"group",patterns:me[we-1]};break;case 71:this.$=me[we-1]?Wi([me[we-1]],me[we]):Wi(me[we]);break;case 72:this.$=me[we]?[me[we-2],me[we]]:me[we-2];break;case 75:this.$=an(me[we],{type:"optional"});break;case 76:this.$=an(me[we],{type:"minus"});break;case 77:this.$=an(me[we],{type:"graph",name:me[we-1]});break;case 78:this.$=an(me[we],{type:"service",name:me[we-1],silent:!!me[we-2]});break;case 79:this.$={type:"filter",expression:me[we]};break;case 80:this.$={type:"bind",variable:me[we-1],expression:me[we-3]};break;case 89:this.$=_c(me[we]);break;case 90:this.$=void 0;break;case 91:this.$=me[we-1].length?{type:"union",patterns:Wi(me[we-1].map(H1),[H1(me[we])])}:me[we];break;case 95:this.$={...me[we],function:me[we-1]};break;case 96:this.$={type:"functionCall",args:[]};break;case 97:this.$={type:"functionCall",args:ds(me[we-2],me[we-1]),distinct:!!me[we-3]};break;case 98:case 115:case 128:case 247:case 249:case 251:case 253:case 255:case 263:case 267:case 297:case 299:case 303:case 307:case 328:case 341:case 349:case 355:case 361:case 367:case 369:case 373:case 375:case 379:case 381:case 385:case 391:case 395:case 401:case 405:case 409:case 411:case 420:case 428:case 430:case 440:case 444:case 446:case 448:this.$=[];break;case 99:this.$=ds(me[we-2],me[we-1]);break;case 101:this.$=Wi(me[we-2],[me[we-1]]);break;case 102:case 112:this.$=Ql(me[we].map(kt=>an(wi(me[we-1]),kt)));break;case 103:this.$=Ql(hc(me[we].map(kt=>an(wi(me[we-1].entity),kt)),me[we-1].triples));break;case 105:this.$=Wi([me[we-1]],me[we]);break;case 106:this.$=Wi(me[we]);break;case 107:this.$=G1(me[we-1],me[we]);break;case 109:case 237:this.$=Kt.factory.namedNode(EN);break;case 110:case 118:this.$=ds(me[we-1],me[we]);break;case 111:this.$=me[we]?{annotation:me[we],object:me[we-1]}:me[we-1];break;case 113:this.$=me[we]?Ql(hc(me[we].map(kt=>an(wi(me[we-1].entity),kt)),me[we-1].triples)):me[we-1].triples;break;case 114:this.$=G1(...me[we-1],me[we]);break;case 116:this.$=G1(...me[we]);break;case 117:case 159:case 163:this.$=[me[we-1],me[we]];break;case 119:this.$=me[we]?{object:me[we-1],annotation:me[we]}:me[we-1];break;case 120:this.$=me[we-1].length?mc("|",ds(me[we-1],me[we])):me[we];break;case 121:this.$=me[we-1].length?mc("/",ds(me[we-1],me[we])):me[we];break;case 122:this.$=me[we]?mc(me[we],[me[we-1]]):me[we-1];break;case 123:this.$=me[we-1]?mc(me[we-1],[me[we]]):me[we];break;case 125:case 131:this.$=mc(me[we-1],[me[we]]);break;case 129:this.$=mc("|",ds(me[we-2],me[we-1]));break;case 132:case 134:this.$=gc(me[we-1]);break;case 133:case 135:this.$=i8(me[we-1]);break;case 140:this.$={entity:me[we],triples:[]};break;case 145:this.$=Q1(me[we]);break;case 149:this.$=Kt.factory.namedNode(AN);break;case 151:case 153:case 158:case 162:this.$=V1(me[we-1],me[we]);break;case 152:this.$=["||",me[we]];break;case 154:this.$=["&&",me[we]];break;case 156:this.$=Ln(me[we-1],[me[we-2],me[we]]);break;case 157:this.$=Ln(me[we-2]?"notin":"in",[me[we-3],me[we]]);break;case 160:this.$=["+",V1(me[we-1],me[we])];break;case 161:var Tc=Yi(me[we-1].value.replace("-",""),me[we-1].datatype);this.$=["-",V1(Tc,me[we])];break;case 164:this.$=Ln("UPLUS",[me[we]]);break;case 165:this.$=Ln(me[we-1],[me[we]]);break;case 166:this.$=Ln("UMINUS",[me[we]]);break;case 177:this.$=Ln(ha(me[we-1]));break;case 178:this.$=Ln(ha(me[we-3]),[me[we-1]]);break;case 179:this.$=_c(Ln(ha(me[we-3]),[me[we-1]]));break;case 180:this.$=Ln(ha(me[we-5]),[me[we-3],me[we-1]]);break;case 181:this.$=Ln(ha(me[we-7]),[me[we-5],me[we-3],me[we-1]]);break;case 182:this.$=_c(Ln(ha(me[we-7]),[me[we-5],me[we-3],me[we-1]]));break;case 183:this.$=Ln(ha(me[we-1]),me[we]);break;case 184:this.$=Ln("bound",[Q1(me[we-1])]);break;case 185:this.$=Ln(me[we-1],[]);break;case 186:this.$=Ln(me[we-3],[me[we-1]]);break;case 187:this.$=Ln(me[we-2]?"notexists":"exists",[H1(me[we])]);break;case 188:case 189:this.$=yc(me[we-1],{type:"aggregate",aggregation:ha(me[we-4]),distinct:!!me[we-2]});break;case 190:this.$=yc(me[we-2],{type:"aggregate",aggregation:ha(me[we-5]),distinct:!!me[we-3],separator:typeof me[we-1]=="string"?me[we-1]:" "});break;case 192:this.$=Yi(me[we]);break;case 193:this.$=a8(me[we-1],ha(me[we].substr(1)));break;case 194:this.$=Yi(me[we-2],me[we]);break;case 195:case 204:this.$=Yi(me[we],ON);break;case 196:case 205:this.$=Yi(me[we],xN);break;case 197:case 206:this.$=Yi(ha(me[we]),RN);break;case 200:this.$=Yi(me[we].toLowerCase(),n8);break;case 201:this.$=Yi(me[we].substr(1),ON);break;case 202:this.$=Yi(me[we].substr(1),xN);break;case 203:this.$=Yi(me[we].substr(1).toLowerCase(),RN);break;case 207:case 208:this.$=z1(me[we],1);break;case 209:case 210:this.$=z1(me[we],3);break;case 211:this.$=Kt.factory.namedNode(Ul(me[we]));break;case 213:var Cb=me[we].indexOf(":"),Qr=me[we].substr(0,Cb),ai=Kt.prefixes[Qr];if(!ai)throw new Error("Unknown prefix: "+Qr);var Si=Ul(ai+me[we].substr(Cb+1));this.$=Kt.factory.namedNode(Si);break;case 214:if(me[we]=me[we].substr(0,me[we].length-1),!(me[we]in Kt.prefixes))throw new Error("Unknown prefix: "+me[we]);var Si=Ul(Kt.prefixes[me[we]]);this.$=Kt.factory.namedNode(Si);break;case 215:this.$=Iu(me[we].replace(/^(_:)/,""));break;case 216:this.$=Iu();break;case 217:case 218:case 232:this.$=_c(k1(me[we-3],me[we-2],me[we-1]));break;case 230:case 231:this.$=_c(me[we-1]);break;case 248:case 250:case 252:case 254:case 256:case 260:case 264:case 268:case 270:case 292:case 294:case 296:case 298:case 300:case 302:case 304:case 306:case 329:case 342:case 356:case 368:case 370:case 372:case 374:case 392:case 402:case 425:case 427:case 429:case 431:case 441:case 445:case 447:case 449:me[we-1].push(me[we]);break;case 259:case 269:case 291:case 293:case 295:case 301:case 305:case 371:case 424:case 426:this.$=[me[we]];break;case 308:me[we-3].push(me[we-2]);break;case 350:case 362:case 376:case 380:case 382:case 386:case 396:case 406:case 410:case 412:case 421:me[we-2].push(me[we-1]);break}},table:[e(u,a,{3:1,4:2,10:3}),{1:[3]},e(r,[2,307],{5:4,7:5,321:6,214:7,8:8,96:9,215:10,17:11,21:12,97:16,38:17,6:[2,238],13:t,16:t,45:t,197:t,224:t,229:t,308:t,24:[1,13],32:[1,14],36:[1,15],41:i}),e([6,13,16,24,32,36,41,45,100,110,113,115,116,123,126,131,197,224,229,308,329,330,331,332,333],[2,3],{322:19,11:20,14:21,12:[1,22],15:[1,23]}),{6:[1,24]},{6:[2,240]},{6:[2,241]},{6:[2,242]},{6:[2,243],9:25,84:26,85:o},{6:[2,239]},e(l,[2,411],{216:28,217:29}),e(s,[2,249],{18:30}),e(s,[2,251],{22:31}),e(c,[2,255],{25:32,27:33,29:[1,34]}),{13:d,16:f,33:35,39:[1,37],44:39,55:40,87:p,139:38,307:43,308:h,323:36},e(s,[2,267],{37:46}),e(g,[2,326],{98:47,103:49,106:50,117:55,130:61,100:[1,48],110:[1,51],113:[1,52],115:[1,53],116:[1,54],131:[1,62],329:[1,56],330:[1,57],331:[1,58],332:[1,59],333:[1,60]}),{39:[1,63],40:64,43:65,44:66,45:_,87:p},e(m,[2,273],{42:68,324:69,325:[1,70],326:[1,71]}),e(u,[2,248]),e(u,[2,245]),e(u,[2,246]),{13:[1,72]},{16:[1,73]},{1:[2,1]},{6:[2,2]},{6:[2,244]},{45:[1,77],85:[1,78],86:74,87:[1,75],89:[1,76]},e([6,13,16,45,48,82,87,89,231,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312],[2,120],{337:[1,79]}),e(w,[2,418],{218:80,222:81,229:[1,82]}),{19:83,28:T,29:E,52:84,53:S,56:85},{19:88,28:T,29:E,52:89,53:S,56:85},e(s,[2,253],{26:90}),{28:[1,91],52:92,53:S},e(N,[2,385],{181:93,182:94,183:95,31:[2,383]}),e(j,[2,263],{34:96}),e(j,[2,261],{44:39,55:40,307:43,139:97,13:d,16:f,87:p,308:h}),e(j,[2,262]),e(q,[2,259]),e(O,[2,143]),e(O,[2,144]),e([6,13,16,28,29,31,39,45,47,48,53,63,70,73,76,78,81,82,83,85,87,89,112,159,160,161,163,164,193,197,224,229,231,232,242,246,250,263,265,268,269,270,271,272,273,274,276,277,279,280,283,285,290,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,314,317,318,335,338,341,342,343,344,345,346,347,348,349,350,351],[2,145]),e(I,[2,211]),e(I,[2,212]),e(I,[2,213]),e(I,[2,214]),{19:98,28:T,29:E,52:99,53:S,56:85},{6:[2,309],99:100,193:[1,101]},e(A,[2,311],{101:102,328:[1,103]}),e(P,[2,317],{104:104,328:[1,105]}),e(C,[2,322],{107:106,328:[1,107]}),{111:108,112:[2,324],328:[1,109]},{29:B,114:110},{29:B,114:112},{29:B,114:113},{118:114,123:[1,115],125:116,126:V},e(U,[2,315]),e(U,[2,316]),e(G,[2,319]),e(G,[2,320]),e(G,[2,321]),e(g,[2,327]),{13:d,16:f,55:118,307:43,308:h},e(s,[2,12]),e(s,[2,13],{44:66,43:119,45:_,87:p}),e(J,[2,269]),e(J,[2,15]),{13:d,16:f,44:136,45:ne,46:120,55:133,67:132,68:134,77:131,82:W,87:p,172:135,224:ee,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:se,264:130,265:pe,266:137,267:139,268:le,269:Ee,270:Ae,271:Ne,273:Oe,274:be,275:146,276:te,277:v,278:149,279:F,280:D,283:L,285:H,291:150,294:Z,295:$,296:ue,297:ae,298:ce,299:Se,300:xe,301:Ce,302:He,303:Je,304:Ye,305:oe,306:X,307:43,308:h,312:Y,346:he,347:ve,348:ye,349:re,350:Ie,351:Le},e(m,[2,14]),e(m,[2,274]),e(m,[2,271]),e(m,[2,272]),e(u,[2,4]),{13:[1,177]},e(Pe,[2,39]),{29:[1,178]},{29:[1,179]},{87:[1,181],91:180},{45:[1,187],87:[1,185],89:[1,186],93:182,165:183,166:184},e(l,[2,410]),e([6,13,16,45,48,82,87,89,231,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,337],[2,121],{338:[1,188]}),{13:d,16:f,45:[1,193],55:194,197:Fe,219:189,220:190,223:191,224:[1,192],307:43,308:h},e(w,[2,419]),e(R,k,{20:196,59:197,69:198,70:K}),e(s,[2,250]),{29:de,57:200},e(A,[2,279],{54:202,327:[1,203]}),{29:[2,282]},e(ge,Qe,{23:204,58:205,62:206,63:je}),e(s,[2,252]),{19:208,28:T,29:E,52:209,53:S,56:85},{29:[1,210]},e(c,[2,256]),{31:[1,211]},{31:[2,384]},{13:d,16:f,44:215,45:$e,55:220,82:W,87:p,89:at,145:212,172:221,185:213,187:214,231:fe,236:216,237:222,255:154,257:155,291:150,294:Z,295:$,296:ue,297:ae,298:ce,299:Se,300:xe,301:Ce,302:He,303:Je,304:Ye,305:oe,306:X,307:43,308:h,309:Te,310:qe,311:217,312:it},e(Me,[2,265],{56:85,35:227,52:228,19:229,28:T,29:E,53:S}),e(q,[2,260]),e(ge,Qe,{58:205,62:206,23:230,63:je}),e(s,[2,268]),{6:[2,45]},e(u,a,{10:3,4:231}),{13:d,16:f,55:232,307:43,308:h},e(A,[2,312]),{105:233,112:st,122:234,132:[1,237],134:235,327:[1,238],334:[1,239]},e(P,[2,318]),e(A,tt,{108:240,133:242,112:Ot,132:yt}),e(C,[2,323]),{112:[1,244]},{112:[2,325]},e(bt,[2,50]),e(N,Tt,{135:245,136:246,143:247,144:248,31:xt,112:xt}),e(bt,[2,51]),e(bt,[2,52]),e(wt,[2,328],{119:249}),{29:B,114:250},e(wt,[2,56]),{29:B,114:251},e(g,[2,59]),e(J,[2,270]),{47:[1,252]},e(gt,[2,150]),e(dr,[2,428],{240:253}),e(ht,[2,430],{244:254}),e(ht,[2,155],{248:255,249:256,250:[2,438],290:[1,257],341:[1,258],342:[1,259],343:[1,260],344:[1,261],345:[1,262],346:[1,263]}),e(Re,[2,440],{252:264}),e(Ve,[2,448],{260:265}),{13:d,16:f,44:136,45:ne,55:133,67:132,68:134,77:131,82:W,87:p,172:135,255:154,257:155,264:266,266:137,267:139,268:le,269:Ee,270:Ae,271:Ne,273:Oe,274:be,275:146,276:te,277:v,278:149,279:F,280:D,283:L,285:H,291:150,294:Z,295:$,296:ue,297:ae,298:ce,299:Se,300:xe,301:Ce,302:He,303:Je,304:Ye,305:oe,306:X,307:43,308:h,312:Y,346:he,347:ve,348:ye,349:re,350:Ie,351:Le},{13:d,16:f,44:136,45:ne,55:133,67:132,68:134,77:131,82:W,87:p,172:135,255:154,257:155,264:267,266:137,267:139,268:le,269:Ee,270:Ae,271:Ne,273:Oe,274:be,275:146,276:te,277:v,278:149,279:F,280:D,283:L,285:H,291:150,294:Z,295:$,296:ue,297:ae,298:ce,299:Se,300:xe,301:Ce,302:He,303:Je,304:Ye,305:oe,306:X,307:43,308:h,312:Y,346:he,347:ve,348:ye,349:re,350:Ie,351:Le},{13:d,16:f,44:136,45:ne,55:133,67:132,68:134,77:131,82:W,87:p,172:135,255:154,257:155,264:268,266:137,267:139,268:le,269:Ee,270:Ae,271:Ne,273:Oe,274:be,275:146,276:te,277:v,278:149,279:F,280:D,283:L,285:H,291:150,294:Z,295:$,296:ue,297:ae,298:ce,299:Se,300:xe,301:Ce,302:He,303:Je,304:Ye,305:oe,306:X,307:43,308:h,312:Y,346:he,347:ve,348:ye,349:re,350:Ie,351:Le},e(Ve,[2,167]),e(Ve,[2,168]),e(Ve,[2,169]),e(Ve,[2,170],{176:269,45:Ge,89:vt}),e(Ve,[2,171]),e(Ve,[2,172]),e(Ve,[2,173]),e(Ve,[2,174]),{13:d,16:f,44:136,45:ne,46:272,55:133,67:132,68:134,77:131,82:W,87:p,172:135,224:ee,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:se,264:130,265:pe,266:137,267:139,268:le,269:Ee,270:Ae,271:Ne,273:Oe,274:be,275:146,276:te,277:v,278:149,279:F,280:D,283:L,285:H,291:150,294:Z,295:$,296:ue,297:ae,298:ce,299:Se,300:xe,301:Ce,302:He,303:Je,304:Ye,305:oe,306:X,307:43,308:h,312:Y,346:he,347:ve,348:ye,349:re,350:Ie,351:Le},e(St,[2,176]),{89:[1,273]},{45:[1,274]},{45:[1,275]},{45:[1,276]},{45:[1,277]},{45:[1,278]},{45:Vt,89:wr,179:279},{45:[1,282]},{45:[1,284],89:[1,283]},{279:[1,285]},e(hr,[2,192],{292:[1,286],293:[1,287]}),e(hr,[2,195]),e(hr,[2,196]),e(hr,[2,197]),e(hr,[2,198]),e(hr,[2,199]),e(hr,[2,200]),{13:d,16:f,44:39,55:40,82:W,87:p,139:289,172:291,255:154,257:155,266:290,291:150,294:Z,295:$,296:ue,297:ae,298:ce,299:Se,300:xe,301:Ce,302:He,303:Je,304:Ye,305:oe,306:X,307:43,308:h,312:Y,320:288},{45:[1,292]},{45:[1,293]},{45:[1,294]},e(aa,[2,452]),e(aa,[2,453]),e(aa,[2,454]),e(aa,[2,455]),e(aa,[2,456]),{279:[2,458]},e(yr,[2,207]),e(yr,[2,208]),e(yr,[2,209]),e(yr,[2,210]),e(hr,[2,201]),e(hr,[2,202]),e(hr,[2,203]),e(hr,[2,204]),e(hr,[2,205]),e(hr,[2,206]),e(u,[2,5]),e(Ir,[2,297],{88:295}),e(fa,[2,299],{90:296}),{48:[1,297],87:[1,298]},e(Or,[2,301]),e(Pe,[2,43]),e(Pe,[2,82]),e(Pe,[2,83]),{29:[1,299]},{29:[1,300]},{87:[1,302],169:301},e(l,[2,412]),e(xn,[2,123]),e(xn,[2,416],{221:303,339:304,39:[1,306],263:[1,307],340:[1,305]}),e(hn,[2,124]),{13:d,16:f,45:[1,311],55:194,89:[1,310],197:Fe,223:312,225:308,226:309,229:_i,307:43,308:h},e(l,t,{215:10,214:314}),e(hn,[2,236]),e(hn,[2,237]),e(Rn,[2,6]),e(yo,[2,287],{60:315,72:316,73:[1,317]}),e(R,[2,286]),{13:d,16:f,45:ne,55:323,67:321,68:322,71:318,77:320,79:319,267:139,268:le,269:Ee,270:Ae,271:Ne,273:Oe,274:be,275:146,276:te,277:v,278:149,279:F,280:D,283:L,285:H,307:43,308:h,346:he,347:ve,348:ye,349:re,350:Ie,351:Le},e([6,31,63,70,73,81,83,85],[2,20]),e(N,yn,{38:17,49:324,147:325,17:326,21:327,148:328,154:329,155:330,29:Nn,31:Nn,85:Nn,112:Nn,159:Nn,160:Nn,161:Nn,163:Nn,164:Nn,41:i}),{13:d,16:f,55:331,307:43,308:h},e(A,[2,280]),e(Rn,[2,7]),e(R,k,{59:197,69:198,20:332,70:K}),e(ge,[2,284]),{64:[1,333]},e(ge,Qe,{58:205,62:206,23:334,63:je}),e(s,[2,254]),e(N,Tt,{144:248,30:335,143:336,31:[2,257]}),e(s,[2,100]),{31:[2,387],184:337,335:[1,338]},{13:d,16:f,44:39,55:40,87:p,139:342,186:339,190:340,195:341,197:$r,307:43,308:h},e(mn,[2,389],{44:39,55:40,307:43,190:340,195:341,139:342,188:344,189:345,186:346,13:d,16:f,87:p,197:$r,308:h}),e(bn,[2,227]),e(bn,[2,228]),e(bn,[2,229]),{13:d,16:f,44:215,45:$e,55:220,82:W,87:p,89:at,172:221,185:351,187:350,200:348,230:347,231:fe,234:349,236:216,237:222,255:154,257:155,291:150,294:Z,295:$,296:ue,297:ae,298:ce,299:Se,300:xe,301:Ce,302:He,303:Je,304:Ye,305:oe,306:X,307:43,308:h,309:Te,310:qe,311:217,312:it},{13:d,16:f,44:39,55:40,87:p,139:342,186:352,190:340,195:341,197:$r,307:43,308:h},e(bn,[2,146]),e(bn,[2,147]),e(bn,[2,148]),e(bn,[2,149]),{13:d,16:f,44:354,55:355,82:W,87:p,172:357,237:356,255:154,257:155,291:150,294:Z,295:$,296:ue,297:ae,298:ce,299:Se,300:xe,301:Ce,302:He,303:Je,304:Ye,305:oe,306:X,307:43,308:h,309:Te,310:qe,311:358,312:it,313:353},e(Dl,[2,215]),e(Dl,[2,216]),e(ge,Qe,{58:205,62:206,23:359,63:je}),e(j,[2,264]),e(Me,[2,266]),e(Rn,[2,11]),e(r,[2,308],{6:[2,310]}),e(bt,[2,313],{102:360,120:361,121:[1,362]}),e(bt,[2,47]),e(bt,[2,63]),e(bt,[2,64]),{13:d,16:f,55:363,307:43,308:h},e(bt,[2,336]),e(bt,[2,337]),e(bt,[2,338]),{109:[1,364]},e(Fl,[2,60]),{13:d,16:f,55:365,307:43,308:h},e(A,[2,335]),{13:d,16:f,55:366,307:43,308:h},{31:[1,367]},e(zi,[2,341],{137:368}),e(zi,[2,340]),{13:d,16:f,44:215,45:$e,55:220,82:W,87:p,89:at,145:369,172:221,185:213,187:214,231:fe,236:216,237:222,255:154,257:155,291:150,294:Z,295:$,296:ue,297:ae,298:ce,299:Se,300:xe,301:Ce,302:He,303:Je,304:Ye,305:oe,306:X,307:43,308:h,309:Te,310:qe,311:217,312:it},{28:[1,370],127:371,128:[1,372]},e(wt,[2,330],{124:373,125:374,126:V}),e(wt,[2,57]),{44:375,87:p},e(gt,[2,151],{241:376,242:[1,377]}),e(dr,[2,153],{245:378,246:[1,379]}),{13:d,16:f,44:136,45:ne,55:133,67:132,68:134,77:131,82:W,87:p,172:135,224:ee,247:380,251:125,255:154,257:155,259:126,263:se,264:130,265:pe,266:137,267:139,268:le,269:Ee,270:Ae,271:Ne,273:Oe,274:be,275:146,276:te,277:v,278:149,279:F,280:D,283:L,285:H,291:150,294:Z,295:$,296:ue,297:ae,298:ce,299:Se,300:xe,301:Ce,302:He,303:Je,304:Ye,305:oe,306:X,307:43,308:h,312:Y,346:he,347:ve,348:ye,349:re,350:Ie,351:Le},{250:[1,381]},e(nn,[2,432]),e(nn,[2,433]),e(nn,[2,434]),e(nn,[2,435]),e(nn,[2,436]),e(nn,[2,437]),{250:[2,439]},e([47,48,193,242,246,250,272,290,341,342,343,344,345,346],[2,158],{253:382,254:383,255:384,257:385,263:[1,386],265:[1,387],297:ae,298:ce,299:Se,300:xe,301:Ce,302:He}),e(Re,[2,162],{261:388,262:389,39:M1,338:Ia}),e(Ve,[2,164]),e(Ve,[2,165]),e(Ve,[2,166]),e(St,[2,95]),e(St,[2,96]),e(nn,[2,377],{177:392,325:[1,393]}),{48:[1,394]},e(St,[2,177]),{13:d,16:f,44:136,45:ne,46:395,55:133,67:132,68:134,77:131,82:W,87:p,172:135,224:ee,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:se,264:130,265:pe,266:137,267:139,268:le,269:Ee,270:Ae,271:Ne,273:Oe,274:be,275:146,276:te,277:v,278:149,279:F,280:D,283:L,285:H,291:150,294:Z,295:$,296:ue,297:ae,298:ce,299:Se,300:xe,301:Ce,302:He,303:Je,304:Ye,305:oe,306:X,307:43,308:h,312:Y,346:he,347:ve,348:ye,349:re,350:Ie,351:Le},{13:d,16:f,44:136,45:ne,46:396,55:133,67:132,68:134,77:131,82:W,87:p,172:135,224:ee,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:se,264:130,265:pe,266:137,267:139,268:le,269:Ee,270:Ae,271:Ne,273:Oe,274:be,275:146,276:te,277:v,278:149,279:F,280:D,283:L,285:H,291:150,294:Z,295:$,296:ue,297:ae,298:ce,299:Se,300:xe,301:Ce,302:He,303:Je,304:Ye,305:oe,306:X,307:43,308:h,312:Y,346:he,347:ve,348:ye,349:re,350:Ie,351:Le},{13:d,16:f,44:136,45:ne,46:397,55:133,67:132,68:134,77:131,82:W,87:p,172:135,224:ee,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:se,264:130,265:pe,266:137,267:139,268:le,269:Ee,270:Ae,271:Ne,273:Oe,274:be,275:146,276:te,277:v,278:149,279:F,280:D,283:L,285:H,291:150,294:Z,295:$,296:ue,297:ae,298:ce,299:Se,300:xe,301:Ce,302:He,303:Je,304:Ye,305:oe,306:X,307:43,308:h,312:Y,346:he,347:ve,348:ye,349:re,350:Ie,351:Le},{13:d,16:f,44:136,45:ne,46:398,55:133,67:132,68:134,77:131,82:W,87:p,172:135,224:ee,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:se,264:130,265:pe,266:137,267:139,268:le,269:Ee,270:Ae,271:Ne,273:Oe,274:be,275:146,276:te,277:v,278:149,279:F,280:D,283:L,285:H,291:150,294:Z,295:$,296:ue,297:ae,298:ce,299:Se,300:xe,301:Ce,302:He,303:Je,304:Ye,305:oe,306:X,307:43,308:h,312:Y,346:he,347:ve,348:ye,349:re,350:Ie,351:Le},{13:d,16:f,44:136,45:ne,46:399,55:133,67:132,68:134,77:131,82:W,87:p,172:135,224:ee,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:se,264:130,265:pe,266:137,267:139,268:le,269:Ee,270:Ae,271:Ne,273:Oe,274:be,275:146,276:te,277:v,278:149,279:F,280:D,283:L,285:H,291:150,294:Z,295:$,296:ue,297:ae,298:ce,299:Se,300:xe,301:Ce,302:He,303:Je,304:Ye,305:oe,306:X,307:43,308:h,312:Y,346:he,347:ve,348:ye,349:re,350:Ie,351:Le},e(St,[2,183]),e(St,[2,98]),e(nn,[2,381],{180:400}),{87:[1,401]},e(St,[2,185]),{13:d,16:f,44:136,45:ne,46:402,55:133,67:132,68:134,77:131,82:W,87:p,172:135,224:ee,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:se,264:130,265:pe,266:137,267:139,268:le,269:Ee,270:Ae,271:Ne,273:Oe,274:be,275:146,276:te,277:v,278:149,279:F,280:D,283:L,285:H,291:150,294:Z,295:$,296:ue,297:ae,298:ce,299:Se,300:xe,301:Ce,302:He,303:Je,304:Ye,305:oe,306:X,307:43,308:h,312:Y,346:he,347:ve,348:ye,349:re,350:Ie,351:Le},{29:de,57:403},e(hr,[2,193]),{13:d,16:f,55:404,307:43,308:h},{13:d,16:f,44:39,55:40,87:p,139:342,195:405,197:$r,307:43,308:h},e(Gi,[2,233]),e(Gi,[2,234]),e(Gi,[2,235]),e(C1,[2,459],{281:406,325:[1,407]}),e(nn,[2,463],{284:408,325:[1,409]}),e(nn,[2,465],{286:410,325:[1,411]}),{13:d,16:f,31:[1,412],55:414,82:W,171:413,172:415,173:416,174:dc,255:154,257:155,291:150,294:Z,295:$,296:ue,297:ae,298:ce,299:Se,300:xe,301:Ce,302:He,303:Je,304:Ye,305:oe,306:X,307:43,308:h,312:xu},{31:[1,419],89:[1,420]},{29:[1,421]},e(Or,[2,302]),e(Ir,[2,367],{167:422}),e(fa,[2,369],{168:423}),{48:[1,424],87:[1,425]},e(Or,[2,371]),e(xn,[2,122]),e(xn,[2,417]),e(xn,[2,413]),e(xn,[2,414]),e(xn,[2,415]),e(hn,[2,125]),e(hn,[2,127]),e(hn,[2,128]),e(L1,[2,420],{227:426}),e(hn,[2,130]),{13:d,16:f,55:194,197:Fe,223:427,307:43,308:h},{48:[1,428]},e(Ru,[2,289],{61:429,80:430,81:[1,431],83:[1,432]}),e(yo,[2,288]),{64:[1,433]},e(R,[2,29],{307:43,267:139,275:146,278:149,77:320,67:321,68:322,55:323,79:434,13:d,16:f,45:ne,268:le,269:Ee,270:Ae,271:Ne,273:Oe,274:be,276:te,277:v,279:F,280:D,283:L,285:H,308:h,346:he,347:ve,348:ye,349:re,350:Ie,351:Le}),e(rs,[2,293]),e(q1,[2,92]),e(q1,[2,93]),e(q1,[2,94]),{45:Ge,89:vt,176:269},{31:[1,435]},{31:[1,436]},{19:437,28:T,29:E,56:85},{19:438,28:T,29:E,56:85},e(mo,[2,355],{149:439}),e(mo,[2,354]),{13:d,16:f,44:215,45:Pl,55:220,82:W,87:p,89:at,156:440,172:221,185:441,203:442,231:fc,236:216,237:222,255:154,257:155,291:150,294:Z,295:$,296:ue,297:ae,298:ce,299:Se,300:xe,301:Ce,302:He,303:Je,304:Ye,305:oe,306:X,307:43,308:h,309:Te,310:qe,311:217,312:it},e(j,[2,19]),e(Ru,[2,21]),{13:d,16:f,44:450,45:wN,55:323,65:445,66:446,67:447,68:448,87:p,267:139,268:le,269:Ee,270:Ae,271:Ne,273:Oe,274:be,275:146,276:te,277:v,278:149,279:F,280:D,283:L,285:H,307:43,308:h,346:he,347:ve,348:ye,349:re,350:Ie,351:Le},e(Rn,[2,8]),{31:[1,451]},{31:[2,258]},{31:[2,101]},e(N,[2,386],{31:[2,388]}),e(mn,[2,102]),e(ns,[2,391],{191:452}),e(N,[2,395],{196:453,198:454}),e(N,[2,108]),e(N,[2,109]),e(mn,[2,103]),e(mn,[2,104]),e(mn,[2,390]),{13:d,16:f,44:215,45:$e,48:[1,455],55:220,82:W,87:p,89:at,172:221,185:351,187:350,200:456,231:fe,234:349,236:216,237:222,255:154,257:155,291:150,294:Z,295:$,296:ue,297:ae,298:ce,299:Se,300:xe,301:Ce,302:He,303:Je,304:Ye,305:oe,306:X,307:43,308:h,309:Te,310:qe,311:217,312:it},e(as,[2,424]),e($i,[2,136]),e($i,[2,137]),e(jl,[2,140]),{232:[1,457]},{13:d,16:f,44:39,55:40,87:p,139:342,195:458,197:$r,307:43,308:h},e(Gi,[2,219]),e(Gi,[2,220]),e(Gi,[2,221]),e(Gi,[2,222]),e(Gi,[2,223]),e(Rn,[2,10]),e(bt,[2,46]),e(bt,[2,314]),{112:st,122:459},e(bt,[2,62]),e(A,tt,{133:242,108:460,112:Ot,132:yt}),e(Fl,[2,61]),e(bt,[2,49]),e([6,28,126,128,193],[2,65]),{31:[2,66],112:[1,462],138:461},e(zi,[2,351],{146:463,335:[1,464]}),{29:de,57:465},e(wt,[2,329]),e(A,[2,332],{129:466,327:[1,467]}),e(wt,[2,55]),e(wt,[2,331]),{48:[1,468]},e(dr,[2,429]),{13:d,16:f,44:136,45:ne,55:133,67:132,68:134,77:131,82:W,87:p,172:135,224:ee,239:469,243:123,247:124,251:125,255:154,257:155,259:126,263:se,264:130,265:pe,266:137,267:139,268:le,269:Ee,270:Ae,271:Ne,273:Oe,274:be,275:146,276:te,277:v,278:149,279:F,280:D,283:L,285:H,291:150,294:Z,295:$,296:ue,297:ae,298:ce,299:Se,300:xe,301:Ce,302:He,303:Je,304:Ye,305:oe,306:X,307:43,308:h,312:Y,346:he,347:ve,348:ye,349:re,350:Ie,351:Le},e(ht,[2,431]),{13:d,16:f,44:136,45:ne,55:133,67:132,68:134,77:131,82:W,87:p,172:135,224:ee,243:470,247:124,251:125,255:154,257:155,259:126,263:se,264:130,265:pe,266:137,267:139,268:le,269:Ee,270:Ae,271:Ne,273:Oe,274:be,275:146,276:te,277:v,278:149,279:F,280:D,283:L,285:H,291:150,294:Z,295:$,296:ue,297:ae,298:ce,299:Se,300:xe,301:Ce,302:He,303:Je,304:Ye,305:oe,306:X,307:43,308:h,312:Y,346:he,347:ve,348:ye,349:re,350:Ie,351:Le},e(ht,[2,156]),{45:Vt,89:wr,179:471},e(Re,[2,441]),{13:d,16:f,44:136,45:ne,55:133,67:132,68:134,77:131,82:W,87:p,172:135,224:ee,251:472,255:154,257:155,259:126,263:se,264:130,265:pe,266:137,267:139,268:le,269:Ee,270:Ae,271:Ne,273:Oe,274:be,275:146,276:te,277:v,278:149,279:F,280:D,283:L,285:H,291:150,294:Z,295:$,296:ue,297:ae,298:ce,299:Se,300:xe,301:Ce,302:He,303:Je,304:Ye,305:oe,306:X,307:43,308:h,312:Y,346:he,347:ve,348:ye,349:re,350:Ie,351:Le},e(Ve,[2,444],{256:473}),e(Ve,[2,446],{258:474}),e(nn,[2,442]),e(nn,[2,443]),e(Ve,[2,449]),{13:d,16:f,44:136,45:ne,55:133,67:132,68:134,77:131,82:W,87:p,172:135,224:ee,255:154,257:155,259:475,263:se,264:130,265:pe,266:137,267:139,268:le,269:Ee,270:Ae,271:Ne,273:Oe,274:be,275:146,276:te,277:v,278:149,279:F,280:D,283:L,285:H,291:150,294:Z,295:$,296:ue,297:ae,298:ce,299:Se,300:xe,301:Ce,302:He,303:Je,304:Ye,305:oe,306:X,307:43,308:h,312:Y,346:he,347:ve,348:ye,349:re,350:Ie,351:Le},e(nn,[2,450]),e(nn,[2,451]),e(nn,[2,379],{178:476}),e(nn,[2,378]),e([6,13,16,29,31,39,45,47,48,73,76,78,81,82,83,85,87,89,112,159,160,161,163,164,193,231,242,246,250,263,265,268,269,270,271,272,273,274,276,277,279,280,283,285,290,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,335,338,341,342,343,344,345,346,347,348,349,350,351],[2,175]),{48:[1,477]},{48:[1,478]},{272:[1,479]},{272:[1,480]},{272:[1,481]},{13:d,16:f,44:136,45:ne,46:482,55:133,67:132,68:134,77:131,82:W,87:p,172:135,224:ee,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:se,264:130,265:pe,266:137,267:139,268:le,269:Ee,270:Ae,271:Ne,273:Oe,274:be,275:146,276:te,277:v,278:149,279:F,280:D,283:L,285:H,291:150,294:Z,295:$,296:ue,297:ae,298:ce,299:Se,300:xe,301:Ce,302:He,303:Je,304:Ye,305:oe,306:X,307:43,308:h,312:Y,346:he,347:ve,348:ye,349:re,350:Ie,351:Le},{48:[1,483]},{48:[1,484]},e(St,[2,187]),e(hr,[2,194]),{13:d,16:f,44:39,55:40,82:W,87:p,139:289,172:291,255:154,257:155,266:290,291:150,294:Z,295:$,296:ue,297:ae,298:ce,299:Se,300:xe,301:Ce,302:He,303:Je,304:Ye,305:oe,306:X,307:43,308:h,312:Y,320:485},{13:d,16:f,39:[1,487],44:136,45:ne,46:488,55:133,67:132,68:134,77:131,82:W,87:p,172:135,224:ee,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:se,264:130,265:pe,266:137,267:139,268:le,269:Ee,270:Ae,271:Ne,273:Oe,274:be,275:146,276:te,277:v,278:149,279:F,280:D,282:486,283:L,285:H,291:150,294:Z,295:$,296:ue,297:ae,298:ce,299:Se,300:xe,301:Ce,302:He,303:Je,304:Ye,305:oe,306:X,307:43,308:h,312:Y,346:he,347:ve,348:ye,349:re,350:Ie,351:Le},e(C1,[2,460]),{13:d,16:f,44:136,45:ne,46:489,55:133,67:132,68:134,77:131,82:W,87:p,172:135,224:ee,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:se,264:130,265:pe,266:137,267:139,268:le,269:Ee,270:Ae,271:Ne,273:Oe,274:be,275:146,276:te,277:v,278:149,279:F,280:D,283:L,285:H,291:150,294:Z,295:$,296:ue,297:ae,298:ce,299:Se,300:xe,301:Ce,302:He,303:Je,304:Ye,305:oe,306:X,307:43,308:h,312:Y,346:he,347:ve,348:ye,349:re,350:Ie,351:Le},e(nn,[2,464]),{13:d,16:f,44:136,45:ne,46:490,55:133,67:132,68:134,77:131,82:W,87:p,172:135,224:ee,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:se,264:130,265:pe,266:137,267:139,268:le,269:Ee,270:Ae,271:Ne,273:Oe,274:be,275:146,276:te,277:v,278:149,279:F,280:D,283:L,285:H,291:150,294:Z,295:$,296:ue,297:ae,298:ce,299:Se,300:xe,301:Ce,302:He,303:Je,304:Ye,305:oe,306:X,307:43,308:h,312:Y,346:he,347:ve,348:ye,349:re,350:Ie,351:Le},e(nn,[2,466]),e(Pe,[2,40]),e(Ir,[2,298]),e(is,[2,87]),e(is,[2,88]),e(is,[2,89]),e(is,[2,90]),{13:d,16:f,55:492,82:W,172:493,255:154,257:155,291:150,294:Z,295:$,296:ue,297:ae,298:ce,299:Se,300:xe,301:Ce,302:He,303:Je,304:Ye,305:oe,306:X,307:43,308:h,311:494,312:it,315:491},e(Pe,[2,41]),e(fa,[2,300]),e(Xi,[2,303],{92:495}),{13:d,16:f,31:[1,496],55:414,82:W,171:497,172:415,173:416,174:dc,255:154,257:155,291:150,294:Z,295:$,296:ue,297:ae,298:ce,299:Se,300:xe,301:Ce,302:He,303:Je,304:Ye,305:oe,306:X,307:43,308:h,312:xu},{31:[1,498],89:[1,499]},{29:[1,500]},e(Or,[2,372]),{13:d,16:f,48:[2,422],55:194,197:Fe,223:312,226:502,228:501,229:_i,307:43,308:h},e(hn,[2,131]),e(hn,[2,126]),e(Ru,[2,22]),e(Ru,[2,290]),{82:[1,503]},{82:[1,504]},{13:d,16:f,44:510,45:ne,55:323,67:321,68:322,74:505,75:506,76:us,77:320,78:B1,79:509,87:p,267:139,268:le,269:Ee,270:Ae,271:Ne,273:Oe,274:be,275:146,276:te,277:v,278:149,279:F,280:D,283:L,285:H,307:43,308:h,346:he,347:ve,348:ye,349:re,350:Ie,351:Le},e(rs,[2,294]),e(Rb,[2,69]),e(Rb,[2,70]),e(R,k,{59:197,69:198,20:511,70:K}),e(ge,Qe,{58:205,62:206,23:512,63:je}),{29:[2,375],31:[2,71],84:522,85:o,112:[1,518],150:513,151:514,158:515,159:[1,516],160:[1,517],161:[1,519],163:[1,520],164:[1,521],175:523},e(mo,[2,363],{157:524,335:[1,525]}),e(l,t,{215:10,202:526,205:527,208:528,214:529,44:530,87:p}),e(Ml,[2,399],{215:10,205:527,208:528,214:529,44:530,204:531,202:532,13:t,16:t,45:t,197:t,224:t,229:t,308:t,87:p}),{13:d,16:f,44:215,45:Pl,55:220,82:W,87:p,89:at,172:221,185:351,203:536,212:534,231:fc,233:533,234:535,236:216,237:222,255:154,257:155,291:150,294:Z,295:$,296:ue,297:ae,298:ce,299:Se,300:xe,301:Ce,302:He,303:Je,304:Ye,305:oe,306:X,307:43,308:h,309:Te,310:qe,311:217,312:it},e(l,t,{215:10,205:527,208:528,214:529,44:530,202:537,87:p}),e(ge,[2,23],{307:43,267:139,275:146,278:149,55:323,67:447,68:448,44:450,66:538,13:d,16:f,45:wN,87:p,268:le,269:Ee,270:Ae,271:Ne,273:Oe,274:be,276:te,277:v,279:F,280:D,283:L,285:H,308:h,346:he,347:ve,348:ye,349:re,350:Ie,351:Le}),e(Ti,[2,291]),e(Ti,[2,24]),e(Ti,[2,25]),{13:d,16:f,44:136,45:ne,46:539,55:133,67:132,68:134,77:131,82:W,87:p,172:135,224:ee,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:se,264:130,265:pe,266:137,267:139,268:le,269:Ee,270:Ae,271:Ne,273:Oe,274:be,275:146,276:te,277:v,278:149,279:F,280:D,283:L,285:H,291:150,294:Z,295:$,296:ue,297:ae,298:ce,299:Se,300:xe,301:Ce,302:He,303:Je,304:Ye,305:oe,306:X,307:43,308:h,312:Y,346:he,347:ve,348:ye,349:re,350:Ie,351:Le},e(Ti,[2,28]),e(ge,Qe,{58:205,62:206,23:540,63:je}),e([31,112,232,318,335],[2,105],{192:541,193:[1,542]}),e(ns,[2,107]),{13:d,16:f,44:215,45:$e,55:220,82:W,87:p,89:at,172:221,185:351,187:350,199:543,200:544,231:fe,234:349,236:216,237:222,255:154,257:155,291:150,294:Z,295:$,296:ue,297:ae,298:ce,299:Se,300:xe,301:Ce,302:He,303:Je,304:Ye,305:oe,306:X,307:43,308:h,309:Te,310:qe,311:217,312:it},e(Ki,[2,132]),e(as,[2,425]),e(Ki,[2,133]),{13:d,16:f,44:354,55:355,82:W,87:p,172:357,237:356,255:154,257:155,291:150,294:Z,295:$,296:ue,297:ae,298:ce,299:Se,300:xe,301:Ce,302:He,303:Je,304:Ye,305:oe,306:X,307:43,308:h,309:Te,310:qe,311:358,312:it,313:545},e(bt,[2,54]),e(bt,[2,48]),e(zi,[2,342]),{13:d,16:f,44:39,55:40,87:p,139:546,307:43,308:h},e(zi,[2,68]),e(N,[2,350],{31:Nb,112:Nb}),e(bt,[2,53]),{13:d,16:f,55:547,307:43,308:h},e(A,[2,333]),e(J,[2,16]),e(dr,[2,152]),e(ht,[2,154]),e(ht,[2,157]),e(Re,[2,159]),e(Re,[2,160],{262:389,261:548,39:M1,338:Ia}),e(Re,[2,161],{262:389,261:549,39:M1,338:Ia}),e(Ve,[2,163]),{13:d,16:f,44:136,45:ne,46:550,55:133,67:132,68:134,77:131,82:W,87:p,172:135,224:ee,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:se,264:130,265:pe,266:137,267:139,268:le,269:Ee,270:Ae,271:Ne,273:Oe,274:be,275:146,276:te,277:v,278:149,279:F,280:D,283:L,285:H,291:150,294:Z,295:$,296:ue,297:ae,298:ce,299:Se,300:xe,301:Ce,302:He,303:Je,304:Ye,305:oe,306:X,307:43,308:h,312:Y,346:he,347:ve,348:ye,349:re,350:Ie,351:Le},e(St,[2,178]),e(St,[2,179]),{13:d,16:f,44:136,45:ne,46:551,55:133,67:132,68:134,77:131,82:W,87:p,172:135,224:ee,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:se,264:130,265:pe,266:137,267:139,268:le,269:Ee,270:Ae,271:Ne,273:Oe,274:be,275:146,276:te,277:v,278:149,279:F,280:D,283:L,285:H,291:150,294:Z,295:$,296:ue,297:ae,298:ce,299:Se,300:xe,301:Ce,302:He,303:Je,304:Ye,305:oe,306:X,307:43,308:h,312:Y,346:he,347:ve,348:ye,349:re,350:Ie,351:Le},{13:d,16:f,44:136,45:ne,46:552,55:133,67:132,68:134,77:131,82:W,87:p,172:135,224:ee,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:se,264:130,265:pe,266:137,267:139,268:le,269:Ee,270:Ae,271:Ne,273:Oe,274:be,275:146,276:te,277:v,278:149,279:F,280:D,283:L,285:H,291:150,294:Z,295:$,296:ue,297:ae,298:ce,299:Se,300:xe,301:Ce,302:He,303:Je,304:Ye,305:oe,306:X,307:43,308:h,312:Y,346:he,347:ve,348:ye,349:re,350:Ie,351:Le},{13:d,16:f,44:136,45:ne,46:553,55:133,67:132,68:134,77:131,82:W,87:p,172:135,224:ee,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:se,264:130,265:pe,266:137,267:139,268:le,269:Ee,270:Ae,271:Ne,273:Oe,274:be,275:146,276:te,277:v,278:149,279:F,280:D,283:L,285:H,291:150,294:Z,295:$,296:ue,297:ae,298:ce,299:Se,300:xe,301:Ce,302:He,303:Je,304:Ye,305:oe,306:X,307:43,308:h,312:Y,346:he,347:ve,348:ye,349:re,350:Ie,351:Le},{48:[1,554],272:[1,555]},e(St,[2,184]),e(St,[2,186]),{314:[1,556]},{48:[1,557]},{48:[2,461]},{48:[2,462]},{48:[1,558]},{48:[2,467],193:[1,561],287:559,288:560},{13:d,16:f,55:194,197:Fe,223:562,307:43,308:h},e(os,[2,224]),e(os,[2,225]),e(os,[2,226]),{31:[1,563],45:Nu,94:564},e(Pe,[2,84]),e(Ir,[2,368]),e(Pe,[2,85]),e(fa,[2,370]),e(Xi,[2,373],{170:566}),{48:[1,567]},{48:[2,423],337:[1,568]},e(Ru,[2,35],{83:[1,569]}),e(Ru,[2,36],{81:[1,570]}),e(yo,[2,30],{307:43,267:139,275:146,278:149,77:320,67:321,68:322,55:323,79:509,44:510,75:571,13:d,16:f,45:ne,76:us,78:B1,87:p,268:le,269:Ee,270:Ae,271:Ne,273:Oe,274:be,276:te,277:v,279:F,280:D,283:L,285:H,308:h,346:he,347:ve,348:ye,349:re,350:Ie,351:Le}),e(bo,[2,295]),{45:ne,77:572},{45:ne,77:573},e(bo,[2,33]),e(bo,[2,34]),{31:[2,275],50:574,84:575,85:o},{31:[2,277],51:576,84:577,85:o},e(mo,[2,356]),e(Cl,[2,357],{152:578,335:[1,579]}),e(Ji,[2,74]),{29:de,57:580},{29:de,57:581},{13:d,16:f,44:39,55:40,87:p,139:582,307:43,308:h},e(Ll,[2,365],{162:583,328:[1,584]}),{13:d,16:f,45:ne,55:323,67:321,68:322,77:320,79:585,267:139,268:le,269:Ee,270:Ae,271:Ne,273:Oe,274:be,275:146,276:te,277:v,278:149,279:F,280:D,283:L,285:H,307:43,308:h,346:he,347:ve,348:ye,349:re,350:Ie,351:Le},{45:[1,586]},e(Ji,[2,81]),{29:de,57:587},e(mo,[2,73]),e(N,[2,362],{29:ni,31:ni,85:ni,112:ni,159:ni,160:ni,161:ni,163:ni,164:ni}),e(Ml,[2,112]),e(ss,[2,401],{206:588}),e(N,[2,405],{209:589,210:590}),e(N,[2,403]),e(N,[2,404]),e(Ml,[2,113]),e(Ml,[2,400]),{13:d,16:f,44:215,45:Pl,48:[1,591],55:220,82:W,87:p,89:at,172:221,185:351,203:536,212:592,231:fc,234:535,236:216,237:222,255:154,257:155,291:150,294:Z,295:$,296:ue,297:ae,298:ce,299:Se,300:xe,301:Ce,302:He,303:Je,304:Ye,305:oe,306:X,307:43,308:h,309:Te,310:qe,311:217,312:it},e(as,[2,426]),e(jl,[2,138]),e(jl,[2,139]),{232:[1,593]},e(Ti,[2,292]),{47:[1,595],48:[1,594]},e(Rn,[2,9]),e(ns,[2,392]),e(ns,[2,393],{44:39,55:40,307:43,195:341,139:342,194:596,190:597,13:d,16:f,87:p,197:$r,308:h}),e(ns,[2,110],{272:[1,598]}),e(Kn,[2,397],{201:599,316:600,317:[1,601]}),{314:[1,602]},{29:[1,603]},e(wt,[2,58]),e(Ve,[2,445]),e(Ve,[2,447]),{48:[1,604],272:[1,605]},{48:[1,606]},{272:[1,607]},{272:[1,608]},e(St,[2,99]),e(nn,[2,382]),e([13,16,39,47,48,87,193,197,242,246,250,263,265,272,290,297,298,299,300,301,302,308,314,338,341,342,343,344,345,346],[2,232]),e(St,[2,188]),e(St,[2,189]),{48:[1,609]},{48:[2,468]},{289:[1,610]},{13:d,16:f,55:492,82:W,172:493,255:154,257:155,291:150,294:Z,295:$,296:ue,297:ae,298:ce,299:Se,300:xe,301:Ce,302:He,303:Je,304:Ye,305:oe,306:X,307:43,308:h,311:494,312:it,315:611},e(Pe,[2,42]),e(Xi,[2,304]),{13:d,16:f,55:414,82:W,95:612,171:613,172:415,173:416,174:dc,255:154,257:155,291:150,294:Z,295:$,296:ue,297:ae,298:ce,299:Se,300:xe,301:Ce,302:He,303:Je,304:Ye,305:oe,306:X,307:43,308:h,312:xu},{31:[1,614],45:Nu,94:615},e(hn,[2,129]),e(L1,[2,421]),{82:[1,616]},{82:[1,617]},e(bo,[2,296]),e(bo,[2,31]),e(bo,[2,32]),{31:[2,17]},{31:[2,276]},{31:[2,18]},{31:[2,278]},e(N,yn,{155:330,153:618,154:619,29:pa,31:pa,85:pa,112:pa,159:pa,160:pa,161:pa,163:pa,164:pa}),e(Cl,[2,358]),e(Ji,[2,75]),e(Ji,[2,76]),{29:de,57:620},{13:d,16:f,44:39,55:40,87:p,139:621,307:43,308:h},e(Ll,[2,366]),e(Ji,[2,79]),{13:d,16:f,44:136,45:ne,46:622,55:133,67:132,68:134,77:131,82:W,87:p,172:135,224:ee,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:se,264:130,265:pe,266:137,267:139,268:le,269:Ee,270:Ae,271:Ne,273:Oe,274:be,275:146,276:te,277:v,278:149,279:F,280:D,283:L,285:H,291:150,294:Z,295:$,296:ue,297:ae,298:ce,299:Se,300:xe,301:Ce,302:He,303:Je,304:Ye,305:oe,306:X,307:43,308:h,312:Y,346:he,347:ve,348:ye,349:re,350:Ie,351:Le},e(Ji,[2,91],{336:[1,623]}),e([29,31,85,112,159,160,161,163,164,232,318,335],[2,114],{207:624,193:[1,625]}),e(ss,[2,117]),{13:d,16:f,44:215,45:Pl,55:220,82:W,87:p,89:at,172:221,185:351,203:536,211:626,212:627,231:fc,234:535,236:216,237:222,255:154,257:155,291:150,294:Z,295:$,296:ue,297:ae,298:ce,299:Se,300:xe,301:Ce,302:He,303:Je,304:Ye,305:oe,306:X,307:43,308:h,309:Te,310:qe,311:217,312:it},e(bn,[2,134]),e(as,[2,427]),e(bn,[2,135]),e(Ti,[2,26]),{44:628,87:p},e(ns,[2,106]),e(ns,[2,394]),e(N,[2,396]),e(Kn,[2,111]),e(Kn,[2,398]),{13:d,16:f,44:39,55:40,87:p,139:342,186:629,190:340,195:341,197:$r,307:43,308:h},e(Dl,[2,217]),e(N,Tt,{144:248,140:630,143:631,31:[2,343]}),e(St,[2,97]),e(nn,[2,380]),e(St,[2,180]),{13:d,16:f,44:136,45:ne,46:632,55:133,67:132,68:134,77:131,82:W,87:p,172:135,224:ee,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:se,264:130,265:pe,266:137,267:139,268:le,269:Ee,270:Ae,271:Ne,273:Oe,274:be,275:146,276:te,277:v,278:149,279:F,280:D,283:L,285:H,291:150,294:Z,295:$,296:ue,297:ae,298:ce,299:Se,300:xe,301:Ce,302:He,303:Je,304:Ye,305:oe,306:X,307:43,308:h,312:Y,346:he,347:ve,348:ye,349:re,350:Ie,351:Le},{13:d,16:f,44:136,45:ne,46:633,55:133,67:132,68:134,77:131,82:W,87:p,172:135,224:ee,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:se,264:130,265:pe,266:137,267:139,268:le,269:Ee,270:Ae,271:Ne,273:Oe,274:be,275:146,276:te,277:v,278:149,279:F,280:D,283:L,285:H,291:150,294:Z,295:$,296:ue,297:ae,298:ce,299:Se,300:xe,301:Ce,302:He,303:Je,304:Ye,305:oe,306:X,307:43,308:h,312:Y,346:he,347:ve,348:ye,349:re,350:Ie,351:Le},e(St,[2,190]),{290:[1,634]},{314:[1,635]},{13:d,16:f,48:[1,636],55:414,82:W,171:637,172:415,173:416,174:dc,255:154,257:155,291:150,294:Z,295:$,296:ue,297:ae,298:ce,299:Se,300:xe,301:Ce,302:He,303:Je,304:Ye,305:oe,306:X,307:43,308:h,312:xu},e(ql,[2,305]),e(Pe,[2,86]),e(Xi,[2,374]),e(Ru,[2,37]),e(Ru,[2,38]),e(mo,[2,72]),e(mo,[2,360]),e(Ji,[2,77]),{29:de,57:638},{47:[1,639]},{29:[2,376]},e(ss,[2,402]),e(ss,[2,115],{215:10,208:528,214:529,44:530,205:640,13:t,16:t,45:t,197:t,224:t,229:t,308:t,87:p}),e(ss,[2,118],{272:[1,641]}),e(go,[2,407],{213:642,319:643,317:[1,644]}),{48:[1,645]},{318:[1,646]},{31:[1,647]},{31:[2,344]},{48:[1,648]},{48:[1,649]},{291:650,303:Je,304:Ye,305:oe,306:X},e(is,[2,218]),e(Xi,[2,44]),e(ql,[2,306]),e(Ji,[2,78]),{44:651,87:p},e(ss,[2,116]),e(N,[2,406]),e(go,[2,119]),e(go,[2,408]),e(l,t,{215:10,205:527,208:528,214:529,44:530,202:652,87:p}),e(Ti,[2,27]),e(Kn,[2,230]),e(SN,[2,345],{141:653,335:[1,654]}),e(St,[2,181]),e(St,[2,182]),{48:[2,191]},{48:[1,655]},{318:[1,656]},e(N,Tt,{144:248,142:657,143:658,31:Ib,112:Ib}),e(SN,[2,346]),e(Ji,[2,80]),e(go,[2,231]),e(zi,[2,67]),e(zi,[2,348])],defaultActions:{5:[2,240],6:[2,241],7:[2,242],9:[2,239],24:[2,1],25:[2,2],26:[2,244],87:[2,282],94:[2,384],100:[2,45],109:[2,325],166:[2,458],263:[2,439],336:[2,258],337:[2,101],487:[2,461],488:[2,462],560:[2,468],574:[2,17],575:[2,276],576:[2,18],577:[2,278],623:[2,376],631:[2,344],650:[2,191]},parseError:function(nt,dt){if(dt.recoverable)this.trace(nt);else{var _t=new Error(nt);throw _t.hash=dt,_t}},parse:function(nt){var dt=this,_t=[0],jt=[null],Nt=[],me=this.table,Da="",we=0,Du=0,Vl=2,Tc=1,Cb=Nt.slice.call(arguments,1),Qr=Object.create(this.lexer),ai={yy:{}};for(var Si in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Si)&&(ai.yy[Si]=this.yy[Si]);Qr.setInput(nt,ai.yy),ai.yy.lexer=Qr,ai.yy.parser=this,typeof Qr.yylloc>"u"&&(Qr.yylloc={});var _o=Qr.yylloc;Nt.push(_o);var Lb=Qr.options&&Qr.options.ranges;typeof ai.yy.parseError=="function"?this.parseError=ai.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var Zi=function(){var ys;return ys=Qr.lex()||Tc,typeof ys!="number"&&(ys=dt.symbols_[ys]||ys),ys},kt,mr,zt,un,qn={},Hl,eu,LN,qb;;){if(mr=_t[_t.length-1],this.defaultActions[mr]?zt=this.defaultActions[mr]:((kt===null||typeof kt>"u")&&(kt=Zi()),zt=me[mr]&&me[mr][kt]),typeof zt>"u"||!zt.length||!zt[0]){var X1="";qb=[];for(Hl in me[mr])this.terminals_[Hl]&&Hl>Vl&&qb.push("'"+this.terminals_[Hl]+"'");Qr.showPosition?X1="Parse error on line "+(we+1)+`:
`+Qr.showPosition()+`
Expecting `+qb.join(", ")+", got '"+(this.terminals_[kt]||kt)+"'":X1="Parse error on line "+(we+1)+": Unexpected "+(kt==Tc?"end of input":"'"+(this.terminals_[kt]||kt)+"'"),this.parseError(X1,{text:Qr.match,token:this.terminals_[kt]||kt,line:Qr.yylineno,loc:_o,expected:qb})}if(zt[0]instanceof Array&&zt.length>1)throw new Error("Parse Error: multiple actions possible at state: "+mr+", token: "+kt);switch(zt[0]){case 1:_t.push(kt),jt.push(Qr.yytext),Nt.push(Qr.yylloc),_t.push(zt[1]),kt=null,Du=Qr.yyleng,Da=Qr.yytext,we=Qr.yylineno,_o=Qr.yylloc;break;case 2:if(eu=this.productions_[zt[1]][1],qn.$=jt[jt.length-eu],qn._$={first_line:Nt[Nt.length-(eu||1)].first_line,last_line:Nt[Nt.length-1].last_line,first_column:Nt[Nt.length-(eu||1)].first_column,last_column:Nt[Nt.length-1].last_column},Lb&&(qn._$.range=[Nt[Nt.length-(eu||1)].range[0],Nt[Nt.length-1].range[1]]),un=this.performAction.apply(qn,[Da,Du,we,ai.yy,zt[1],jt,Nt].concat(Cb)),typeof un<"u")return un;eu&&(_t=_t.slice(0,-1*eu*2),jt=jt.slice(0,-1*eu),Nt=Nt.slice(0,-1*eu)),_t.push(this.productions_[zt[1]][0]),jt.push(qn.$),Nt.push(qn._$),LN=me[_t[_t.length-2]][_t[_t.length-1]],_t.push(LN);break;case 3:return!0}}return!0}},vo=k_e().Wildcard,cs="http://www.w3.org/1999/02/22-rdf-syntax-ns#",EN=cs+"type",t8=cs+"first",r8=cs+"rest",AN=cs+"nil",pc="http://www.w3.org/2001/XMLSchema#",ON=pc+"integer",xN=pc+"decimal",RN=pc+"double",n8=pc+"boolean",ls="",U1="",NN="";function ha(ot){return ot.toLowerCase()}function ds(ot,nt){return ot.push(nt),ot}function hc(ot,nt){return ot.push.apply(ot,nt),ot}function an(ot){ot||(ot={});for(var nt=1,dt=arguments.length,_t;nt<dt&&(_t=arguments[nt]||{});nt++)for(var jt in _t)ot[jt]=_t[jt];return ot}function Wi(){for(var ot=[],nt=0,dt=arguments.length;nt<dt;nt++)ot=ot.concat.apply(ot,arguments[nt]);return ot}function Ul(ot){if(ot[0]==="<"&&(ot=ot.substring(1,ot.length-1)),/^[a-z][a-z0-9.+-]*:/i.test(ot))return ot;if(!Kt.base)throw new Error("Cannot resolve relative IRI "+ot+" because no base IRI was set.");switch(ls!==Kt.base&&(ls=Kt.base,U1=ls.replace(/[^\/:]*$/,""),NN=ls.match(/^(?:[a-z]+:\/*)?[^\/]*/)[0]),ot[0]){case void 0:return ls;case"#":return ls+ot;case"?":return ls.replace(/(?:\?.*)?$/,ot);case"/":return NN+ot;default:return U1+ot}}function Q1(ot){if(ot){var nt=ot[0];if(nt==="?"||nt==="$")return Kt.factory.variable(ot.substr(1))}return ot}function Ln(ot,nt){return{type:"operation",operator:ot,args:nt||[]}}function yc(ot,nt){var dt={expression:ot==="*"?new vo:ot};if(nt)for(var _t in nt)dt[_t]=nt[_t];return dt}function mc(ot,nt){return{type:"path",pathType:ot,items:nt}}function V1(ot,nt){for(var dt=0,_t=nt.length,jt;dt<_t&&(jt=nt[dt]);dt++)ot=Ln(jt[0],[ot,jt[1]]);return ot}function fs(ot,nt){var dt=[],_t=[],jt=ot.length,Nt,me={};if(!jt)return null;for(var Da=0;Da<jt&&(Nt=ot[Da]);Da++)(Nt.named?_t:dt).push(Nt.iri);return me[nt||"from"]={default:dt,named:_t},me}function bc(ot){return parseInt(ot,10)}function H1(ot){return ot.type==="group"&&ot.patterns.length===1?ot.patterns[0]:ot}function Yi(ot,nt){return nt&&nt.termType!=="NamedNode"&&(nt=Kt.factory.namedNode(nt)),Kt.factory.literal(ot,nt)}function a8(ot,nt){return Kt.factory.literal(ot,nt)}function k1(ot,nt,dt){if(!("termType"in nt))throw new Error("Nested triples cannot contain paths");return Kt.factory.quad(ot,nt,dt)}function wi(ot,nt,dt,_t){var jt={};return ot!=null&&(jt.subject=ot),nt!=null&&(jt.predicate=nt),dt!=null&&(jt.object=dt),_t!=null&&(jt.annotations=_t),jt}function Iu(ot){return typeof ot=="string"?ot.startsWith("e_")?Kt.factory.blankNode(ot):Kt.factory.blankNode("e_"+ot):Kt.factory.blankNode("g_"+IN++)}var IN=0;Kt._resetBlanks=function(){IN=0};var DN=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{8})|\\(.)/g,FN={"\\":"\\","'":"'",'"':'"',t:"	",b:"\b",n:`
`,r:"\r",f:"\f"},PN=/[\uD800-\uDBFF]([^\uDC00-\uDFFF]|$)/,Db=String.fromCharCode;function z1(ot,nt){ot=ot.substring(nt,ot.length-nt);try{ot=ot.replace(DN,function(dt,_t,jt,Nt){var me;if(_t){if(me=parseInt(_t,16),isNaN(me))throw new Error;return Db(me)}else if(jt){if(me=parseInt(jt,16),isNaN(me))throw new Error;return me<65535?Db(me):Db(55296+((me-=65536)>>10),56320+(me&1023))}else{var Da=FN[Nt];if(!Da)throw new Error;return Da}})}catch{return""}if(PN.exec(ot))throw new Error("Invalid unicode codepoint of surrogate pair without corresponding codepoint in "+ot);return ot}function gc(ot){var nt=Iu(),dt=nt,_t=[],jt,Nt=[];ot.forEach(function(Du){_t.push(Du.entity),hc(Nt,Du.triples)});for(var me=0,Da=0,we=_t.length,jt=Array(we*2);me<we;)jt[Da++]=wi(dt,Kt.factory.namedNode(t8),_t[me]),jt[Da++]=wi(dt,Kt.factory.namedNode(r8),dt=++me<we?Iu():Kt.factory.namedNode(AN));return{entity:nt,triples:hc(jt,Nt)}}function i8(ot){var nt=Iu();return{entity:nt,triples:ot.map(function(dt){return an(wi(nt),dt)})}}function G1(ot,nt,dt){var _t=[],jt=[];return nt.forEach(function(Nt){let me=null;Nt.annotation&&(me=Nt.annotation,Nt=Nt.object),_t.push(wi(null,ot,Nt.entity,me)),hc(jt,Nt.triples)}),Wi(_t,dt||[],jt)}function vc(ot){return ot.variable?ot.variable.value:ot.value||ot.expression.value}function Fb(ot){if(!ot)return[];if(ot.type==="aggregate")return[ot];if(ot.type==="operation"){const nt=[];for(const dt of ot.args)nt.push(...Fb(dt));return nt}return[]}function jN(ot){const nt=new Set,dt=function(_t){_t&&(_t.termType==="Variable"?nt.add(_t):_t.type==="operation"&&_t.args.forEach(dt))};return dt(ot),nt}function ps(ot,nt=1,dt=[]){for(const _t of ot)nt>0&&_t instanceof Array?ps(_t,nt-1,dt):dt.push(_t);return dt}function hs(ot){return ot.termType==="Variable"}function MN(ot){if(ot.triples){const nt=[];for(const dt of ot.triples)hs(dt.subject)&&nt.push(dt.subject.value),hs(dt.predicate)&&nt.push(dt.predicate.value),hs(dt.object)&&nt.push(dt.object.value);return nt}else if(ot.patterns){const nt=[];for(const dt of ot.patterns)nt.push(...MN(dt));return nt}return[]}function Pb(ot){const nt=ot.slice().sort(),dt=[];for(let _t=0;_t<nt.length-1;_t++)nt[_t+1]==nt[_t]&&dt.push(nt[_t]);return dt}function _c(ot){if(!Kt.sparqlStar)throw new Error("SPARQL-star support is not enabled");return ot}function $1(ot,nt,dt){for(const _t of nt){const jt=wi("subject"in _t?_t.subject:ot,_t.predicate,_t.object);dt.push(jt),_t.annotations&&$1(k1(ot,_t.predicate,_t.object),_t.annotations,dt)}}function Ql(ot){if(Kt.sparqlStar){const nt=[];return ot.forEach(dt=>{const _t=wi(dt.subject,dt.predicate,dt.object);nt.push(_t),dt.annotations&&$1(k1(dt.subject,dt.predicate,dt.object),dt.annotations,nt)}),nt}return ot}function jb(ot){for(const nt of ot){if(nt.type==="graph"&&nt.name.termType==="Variable")throw new Error("Detected illegal variable in GRAPH");if(nt.type==="bgp"||nt.type==="graph"){for(const dt of nt.triples)if(dt.subject.termType==="Variable"||dt.predicate.termType==="Variable"||dt.object.termType==="Variable")throw new Error("Detected illegal variable in BGP")}}return ot}function Mb(ot){for(const nt of ot)if(nt.type==="bgp"){for(const dt of nt.triples)if(dt.subject.termType==="BlankNode"||dt.predicate.termType==="BlankNode"||dt.object.termType==="BlankNode")throw new Error("Detected illegal blank node in BGP")}return ot}var CN=(function(){var ot={EOF:1,parseError:function(dt,_t){if(this.yy.parser)this.yy.parser.parseError(dt,_t);else throw new Error(dt)},setInput:function(nt,dt){return this.yy=dt||this.yy||{},this._input=nt,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var nt=this._input[0];this.yytext+=nt,this.yyleng++,this.offset++,this.match+=nt,this.matched+=nt;var dt=nt.match(/(?:\r\n?|\n).*/g);return dt?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),nt},unput:function(nt){var dt=nt.length,_t=nt.split(/(?:\r\n?|\n)/g);this._input=nt+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-dt),this.offset-=dt;var jt=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),_t.length-1&&(this.yylineno-=_t.length-1);var Nt=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:_t?(_t.length===jt.length?this.yylloc.first_column:0)+jt[jt.length-_t.length].length-_t[0].length:this.yylloc.first_column-dt},this.options.ranges&&(this.yylloc.range=[Nt[0],Nt[0]+this.yyleng-dt]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(nt){this.unput(this.match.slice(nt))},pastInput:function(){var nt=this.matched.substr(0,this.matched.length-this.match.length);return(nt.length>20?"...":"")+nt.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var nt=this.match;return nt.length<20&&(nt+=this._input.substr(0,20-nt.length)),(nt.substr(0,20)+(nt.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var nt=this.pastInput(),dt=new Array(nt.length+1).join("-");return nt+this.upcomingInput()+`
`+dt+"^"},test_match:function(nt,dt){var _t,jt,Nt;if(this.options.backtrack_lexer&&(Nt={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(Nt.yylloc.range=this.yylloc.range.slice(0))),jt=nt[0].match(/(?:\r\n?|\n).*/g),jt&&(this.yylineno+=jt.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:jt?jt[jt.length-1].length-jt[jt.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+nt[0].length},this.yytext+=nt[0],this.match+=nt[0],this.matches=nt,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(nt[0].length),this.matched+=nt[0],_t=this.performAction.call(this,this.yy,this,dt,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),_t)return _t;if(this._backtrack){for(var me in Nt)this[me]=Nt[me];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var nt,dt,_t,jt;this._more||(this.yytext="",this.match="");for(var Nt=this._currentRules(),me=0;me<Nt.length;me++)if(_t=this._input.match(this.rules[Nt[me]]),_t&&(!dt||_t[0].length>dt[0].length)){if(dt=_t,jt=me,this.options.backtrack_lexer){if(nt=this.test_match(_t,Nt[me]),nt!==!1)return nt;if(this._backtrack){dt=!1;continue}else return!1}else if(!this.options.flex)break}return dt?(nt=this.test_match(dt,Nt[jt]),nt!==!1?nt:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var dt=this.next();return dt||this.lex()},begin:function(dt){this.conditionStack.push(dt)},popState:function(){var dt=this.conditionStack.length-1;return dt>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(dt){return dt=this.conditionStack.length-1-Math.abs(dt||0),dt>=0?this.conditionStack[dt]:"INITIAL"},pushState:function(dt){this.begin(dt)},stateStackSize:function(){return this.conditionStack.length},options:{flex:!0,"case-insensitive":!0},performAction:function(dt,_t,jt,Nt){switch(jt){case 0:break;case 1:return 12;case 2:return 15;case 3:return 41;case 4:return 325;case 5:return 326;case 6:return 45;case 7:return 47;case 8:return 48;case 9:return 39;case 10:return 24;case 11:return 28;case 12:return 29;case 13:return 31;case 14:return 32;case 15:return 36;case 16:return 53;case 17:return 327;case 18:return 63;case 19:return 64;case 20:return 70;case 21:return 73;case 22:return 76;case 23:return 78;case 24:return 81;case 25:return 83;case 26:return 85;case 27:return 193;case 28:return 100;case 29:return 328;case 30:return 121;case 31:return 329;case 32:return 330;case 33:return 110;case 34:return 331;case 35:return 109;case 36:return 332;case 37:return 333;case 38:return 113;case 39:return 115;case 40:return 116;case 41:return 131;case 42:return 123;case 43:return 126;case 44:return 128;case 45:return 132;case 46:return 112;case 47:return 334;case 48:return 335;case 49:return 159;case 50:return 161;case 51:return 164;case 52:return 174;case 53:return 160;case 54:return 336;case 55:return 163;case 56:return 312;case 57:return 314;case 58:return 317;case 59:return 318;case 60:return 272;case 61:return 197;case 62:return 337;case 63:return 338;case 64:return 229;case 65:return 340;case 66:return 263;case 67:return 224;case 68:return 231;case 69:return 232;case 70:return 242;case 71:return 246;case 72:return 290;case 73:return 341;case 74:return 342;case 75:return 343;case 76:return 344;case 77:return 345;case 78:return 250;case 79:return 346;case 80:return 265;case 81:return 276;case 82:return 277;case 83:return 268;case 84:return 269;case 85:return 270;case 86:return 271;case 87:return 347;case 88:return 348;case 89:return 273;case 90:return 274;case 91:return 350;case 92:return 349;case 93:return 351;case 94:return 279;case 95:return 280;case 96:return 283;case 97:return 285;case 98:return 289;case 99:return 293;case 100:return 296;case 101:return 13;case 102:return 16;case 103:return 308;case 104:return 309;case 105:return 87;case 106:return 292;case 107:return 82;case 108:return 294;case 109:return 295;case 110:return 297;case 111:return 298;case 112:return 299;case 113:return 300;case 114:return 301;case 115:return 302;case 116:return"EXPONENT";case 117:return 303;case 118:return 304;case 119:return 305;case 120:return 306;case 121:return 89;case 122:return 310;case 123:return 6;case 124:return"INVALID";case 125:console.log(_t.yytext);break}},rules:[/^(?:\s+|(#[^\n\r]*))/i,/^(?:BASE)/i,/^(?:PREFIX)/i,/^(?:SELECT)/i,/^(?:DISTINCT)/i,/^(?:REDUCED)/i,/^(?:\()/i,/^(?:AS)/i,/^(?:\))/i,/^(?:\*)/i,/^(?:CONSTRUCT)/i,/^(?:WHERE)/i,/^(?:\{)/i,/^(?:\})/i,/^(?:DESCRIBE)/i,/^(?:ASK)/i,/^(?:FROM)/i,/^(?:NAMED)/i,/^(?:GROUP)/i,/^(?:BY)/i,/^(?:HAVING)/i,/^(?:ORDER)/i,/^(?:ASC)/i,/^(?:DESC)/i,/^(?:LIMIT)/i,/^(?:OFFSET)/i,/^(?:VALUES)/i,/^(?:;)/i,/^(?:LOAD)/i,/^(?:SILENT)/i,/^(?:INTO)/i,/^(?:CLEAR)/i,/^(?:DROP)/i,/^(?:CREATE)/i,/^(?:ADD)/i,/^(?:TO)/i,/^(?:MOVE)/i,/^(?:COPY)/i,/^(?:INSERT((\s+|(#[^\n\r]*)\n\r?)+)DATA)/i,/^(?:DELETE((\s+|(#[^\n\r]*)\n\r?)+)DATA)/i,/^(?:DELETE((\s+|(#[^\n\r]*)\n\r?)+)WHERE)/i,/^(?:WITH)/i,/^(?:DELETE)/i,/^(?:INSERT)/i,/^(?:USING)/i,/^(?:DEFAULT)/i,/^(?:GRAPH)/i,/^(?:ALL)/i,/^(?:\.)/i,/^(?:OPTIONAL)/i,/^(?:SERVICE)/i,/^(?:BIND)/i,/^(?:UNDEF)/i,/^(?:MINUS)/i,/^(?:UNION)/i,/^(?:FILTER)/i,/^(?:<<)/i,/^(?:>>)/i,/^(?:\{\|)/i,/^(?:\|\})/i,/^(?:,)/i,/^(?:a)/i,/^(?:\|)/i,/^(?:\/)/i,/^(?:\^)/i,/^(?:\?)/i,/^(?:\+)/i,/^(?:!)/i,/^(?:\[)/i,/^(?:\])/i,/^(?:\|\|)/i,/^(?:&&)/i,/^(?:=)/i,/^(?:!=)/i,/^(?:<)/i,/^(?:>)/i,/^(?:<=)/i,/^(?:>=)/i,/^(?:IN)/i,/^(?:NOT)/i,/^(?:-)/i,/^(?:BOUND)/i,/^(?:BNODE)/i,/^(?:(RAND|NOW|UUID|STRUUID))/i,/^(?:(LANG|DATATYPE|IRI|URI|ABS|CEIL|FLOOR|ROUND|STRLEN|STR|UCASE|LCASE|ENCODE_FOR_URI|YEAR|MONTH|DAY|HOURS|MINUTES|SECONDS|TIMEZONE|TZ|MD5|SHA1|SHA256|SHA384|SHA512|isIRI|isURI|isBLANK|isLITERAL|isNUMERIC))/i,/^(?:(SUBJECT|PREDICATE|OBJECT|isTRIPLE))/i,/^(?:(LANGMATCHES|CONTAINS|STRSTARTS|STRENDS|STRBEFORE|STRAFTER|STRLANG|STRDT|sameTerm))/i,/^(?:CONCAT)/i,/^(?:COALESCE)/i,/^(?:IF)/i,/^(?:TRIPLE)/i,/^(?:REGEX)/i,/^(?:SUBSTR)/i,/^(?:REPLACE)/i,/^(?:EXISTS)/i,/^(?:COUNT)/i,/^(?:SUM|MIN|MAX|AVG|SAMPLE)/i,/^(?:GROUP_CONCAT)/i,/^(?:SEPARATOR)/i,/^(?:\^\^)/i,/^(?:true|false)/i,/^(?:(<(?:[^<>\"\{\}\|\^`\\\u0000-\u0020])*>))/i,/^(?:((([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])(?:(?:(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040])|\.)*(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040]))?)?:))/i,/^(?:(((([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])(?:(?:(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040])|\.)*(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040]))?)?:)((?:((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|:|[0-9]|((%([0-9A-Fa-f])([0-9A-Fa-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%))))(?:(?:(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040])|\.|:|((%([0-9A-Fa-f])([0-9A-Fa-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%))))*(?:(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040])|:|((%([0-9A-Fa-f])([0-9A-Fa-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%)))))?)))/i,/^(?:(_:(?:((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|[0-9])(?:(?:(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040])|\.)*(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040]))?))/i,/^(?:([\?\$]((?:((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|[0-9])(?:((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040])*)))/i,/^(?:(@[a-zA-Z]+(?:-[a-zA-Z0-9]+)*))/i,/^(?:([0-9]+))/i,/^(?:([0-9]*\.[0-9]+))/i,/^(?:([0-9]+\.[0-9]*([eE][+-]?[0-9]+)|\.([0-9])+([eE][+-]?[0-9]+)|([0-9])+([eE][+-]?[0-9]+)))/i,/^(?:(\+([0-9]+)))/i,/^(?:(\+([0-9]*\.[0-9]+)))/i,/^(?:(\+([0-9]+\.[0-9]*([eE][+-]?[0-9]+)|\.([0-9])+([eE][+-]?[0-9]+)|([0-9])+([eE][+-]?[0-9]+))))/i,/^(?:(-([0-9]+)))/i,/^(?:(-([0-9]*\.[0-9]+)))/i,/^(?:(-([0-9]+\.[0-9]*([eE][+-]?[0-9]+)|\.([0-9])+([eE][+-]?[0-9]+)|([0-9])+([eE][+-]?[0-9]+))))/i,/^(?:([eE][+-]?[0-9]+))/i,/^(?:('(?:(?:[^\u0027\u005C\u000A\u000D])|(\\[tbnrf\\\"']|\\u([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])|\\U([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])))*'))/i,/^(?:("(?:(?:[^\u0022\u005C\u000A\u000D])|(\\[tbnrf\\\"']|\\u([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])|\\U([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])))*"))/i,/^(?:('''(?:(?:'|'')?(?:[^'\\]|(\\[tbnrf\\\"']|\\u([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])|\\U([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f]))))*'''))/i,/^(?:("""(?:(?:"|"")?(?:[^\"\\]|(\\[tbnrf\\\"']|\\u([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])|\\U([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f]))))*"""))/i,/^(?:(\((\u0020|\u0009|\u000D|\u000A)*\)))/i,/^(?:(\[(\u0020|\u0009|\u000D|\u000A)*\]))/i,/^(?:$)/i,/^(?:.)/i,/^(?:.)/i],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125],inclusive:!0}}};return ot})();Bl.lexer=CN;function Kt(){this.yy={}}return Kt.prototype=Bl,Bl.Parser=Kt,new Kt})();return jj=n,jj}var Mj,mK;function f6e(){if(mK)return Mj;mK=1;var n="http://www.w3.org/2001/XMLSchema#integer",e="http://www.w3.org/2001/XMLSchema#string";function u(f){this._options=f=f||{};var p=f.prefixes||{};this._prefixByIri={};var h=[];for(var g in p){var _=p[g];o(_)&&(this._prefixByIri[_]=g,h.push(_))}var m=h.join("|").replace(/[\]\/\(\)\*\+\?\.\\\$]/g,"\\$&");this._prefixRegex=new RegExp("^("+m+")([a-zA-Z][\\-_a-zA-Z0-9]*)$"),this._usedPrefixes={},this._sparqlStar=f.sparqlStar,this._indent=o(f.indent)?f.indent:"  ",this._newline=o(f.newline)?f.newline:`
`,this._explicitDatatype=!!f.explicitDatatype}u.prototype.toQuery=function(f){var p="";return f.queryType&&(p+=f.queryType.toUpperCase()+" "),f.reduced&&(p+="REDUCED "),f.distinct&&(p+="DISTINCT "),f.variables?p+=c(f.variables,void 0,function(h){return/^[?$]/.test(h)?h:l(h)?this.toEntity(h):"("+this.toExpression(h.expression)+" AS "+i(h.variable)+")"},this)+" ":f.template&&(p+=this.group(f.template,!0)+this._newline),f.from&&(p+=this.graphs("FROM ",f.from.default)+this.graphs("FROM NAMED ",f.from.named)),f.where&&(p+="WHERE "+this.group(f.where,!0)+this._newline),f.updates&&(p+=c(f.updates,";"+this._newline,this.toUpdate,this)),f.group&&(p+="GROUP BY "+c(f.group,void 0,function(h){var g=l(h.expression)?this.toEntity(h.expression):"("+this.toExpression(h.expression)+")";return h.variable?"("+g+" AS "+i(h.variable)+")":g},this)+this._newline),f.having&&(p+="HAVING ("+c(f.having,void 0,this.toExpression,this)+")"+this._newline),f.order&&(p+="ORDER BY "+c(f.order,void 0,function(h){var g="("+this.toExpression(h.expression)+")";return h.descending?"DESC "+g:g},this)+this._newline),f.offset&&(p+="OFFSET "+f.offset+this._newline),f.limit&&(p+="LIMIT "+f.limit+this._newline),f.values&&(p+=this.values(f)),p=this.baseAndPrefixes(f)+p,p.trim()},u.prototype.baseAndPrefixes=function(f){var p=f.base?"BASE <"+f.base+">"+this._newline:"",h="";for(var g in f.prefixes)(this._options.allPrefixes||this._usedPrefixes[g])&&(h+="PREFIX "+g+": <"+f.prefixes[g]+">"+this._newline);return p+h},u.prototype.toPattern=function(f){var p=f.type||f instanceof Array&&"array"||(f.subject&&f.predicate&&f.object?"triple":"");if(!(p in this))throw new Error("Unknown entry type: "+p);return this[p](f)},u.prototype.triple=function(f){return this.toEntity(f.subject)+" "+this.toEntity(f.predicate)+" "+this.toEntity(f.object)+"."},u.prototype.array=function(f){return c(f,this._newline,this.toPattern,this)},u.prototype.bgp=function(f){return this.encodeTriples(f.triples)},u.prototype.encodeTriples=function(f){if(!f.length)return"";for(var p=[],h=void 0,g=void 0,_=0;_<f.length;_++){var m=f[_];s(m.subject,h)?s(m.predicate,g)?p.push(","):(g=m.predicate,p.push(";"+this._newline,this._indent,this.toEntity(g))):(h&&p.push("."+this._newline),h=m.subject,g=m.predicate,p.push(this.toEntity(h)," ",this.toEntity(g))),p.push(" ",this.toEntity(m.object))}return p.push("."),p.join("")},u.prototype.graph=function(f){return"GRAPH "+this.toEntity(f.name)+" "+this.group(f)},u.prototype.graphs=function(f,p){return!p||p.length===0?"":c(p,"",function(h){return f+this.toEntity(h)+this._newline},this)},u.prototype.group=function(f,p){return f=p!==!0?this.array(f.patterns||f.triples):this.toPattern(f.type!=="group"?f:f.patterns),f.indexOf(this._newline)===-1?"{ "+f+" }":"{"+this._newline+this.indent(f)+this._newline+"}"},u.prototype.query=function(f){return this.toQuery(f)},u.prototype.filter=function(f){return"FILTER("+this.toExpression(f.expression)+")"},u.prototype.bind=function(f){return"BIND("+this.toExpression(f.expression)+" AS "+i(f.variable)+")"},u.prototype.optional=function(f){return"OPTIONAL "+this.group(f)},u.prototype.union=function(f){return c(f.patterns,this._newline+"UNION"+this._newline,function(p){return this.group(p,!0)},this)},u.prototype.minus=function(f){return"MINUS "+this.group(f)},u.prototype.values=function(f){var p=Object.keys(f.values.reduce(function(_,m){for(var w in m)_[w]=!0;return _},{})),h,g;return p.length===1?h=g="":(h="(",g=")"),"VALUES "+h+p.join(" ")+g+" {"+this._newline+c(f.values,this._newline,function(_){return"  "+h+c(p,void 0,function(m){return _[m]?this.toEntity(_[m]):"UNDEF"},this)+g},this)+this._newline+"}"},u.prototype.service=function(f){return"SERVICE "+(f.silent?"SILENT ":"")+this.toEntity(f.name)+" "+this.group(f)},u.prototype.toExpression=function(f){if(l(f))return this.toEntity(f);switch(f.type.toLowerCase()){case"aggregate":return f.aggregation.toUpperCase()+"("+(f.distinct?"DISTINCT ":"")+this.toExpression(f.expression)+(typeof f.separator=="string"?'; SEPARATOR = "'+f.separator.replace(a,r)+'"':"")+")";case"functioncall":return this.toEntity(f.function)+"("+c(f.args,", ",this.toExpression,this)+")";case"operation":var p=f.operator.toUpperCase(),h=f.args||[];switch(f.operator.toLowerCase()){case"<":case">":case">=":case"<=":case"&&":case"||":case"=":case"!=":case"+":case"-":case"*":case"/":return(l(h[0])?this.toEntity(h[0]):"("+this.toExpression(h[0])+")")+" "+p+" "+(l(h[1])?this.toEntity(h[1]):"("+this.toExpression(h[1])+")");case"!":return"!("+this.toExpression(h[0])+")";case"uplus":return"+("+this.toExpression(h[0])+")";case"uminus":return"-("+this.toExpression(h[0])+")";case"notin":p="NOT IN";case"in":return this.toExpression(h[0])+" "+p+"("+(o(h[1])?h[1]:c(h[1],", ",this.toExpression,this))+")";case"notexists":p="NOT EXISTS";case"exists":return p+" "+this.group(h[0],!0);default:return p+"("+c(h,", ",this.toExpression,this)+")"}default:throw new Error("Unknown expression type: "+f.type)}},u.prototype.toEntity=function(f){if(l(f))switch(f.termType){case"Wildcard":return"*";case"Variable":return i(f);case"BlankNode":return"_:"+f.value;case"Literal":var p=f.value||"",h=f.language||"",g=f.datatype;if(f='"'+p.replace(a,r)+'"',h)f+="@"+h;else if(g){if(!this._explicitDatatype)switch(g.value){case e:return f;case n:if(/^\d+$/.test(p))return p+" "}f+="^^"+this.encodeIRI(g.value)}return f;case"Quad":if(!this._sparqlStar)throw new Error("SPARQL* support is not enabled");return f.graph&&f.graph.termType!=="DefaultGraph"?"<< GRAPH "+this.toEntity(f.graph)+" { "+this.toEntity(f.subject)+" "+this.toEntity(f.predicate)+" "+this.toEntity(f.object)+" }  >>":"<< "+this.toEntity(f.subject)+" "+this.toEntity(f.predicate)+" "+this.toEntity(f.object)+" >>";default:return this.encodeIRI(f.value)}else{var _=f.items.map(this.toEntity,this),m=f.pathType;switch(m){case"^":case"!":return m+_[0];case"*":case"+":case"?":return"("+_[0]+m+")";default:return"("+_.join(m)+")"}}};var a=/["\\\t\n\r\b\f]/g,r=function(f){return t[f]},t={"\\":"\\\\",'"':'\\"',"	":"\\t","\n":"\\n","\r":"\\r","\b":"\\b","\f":"\\f"};u.prototype.encodeIRI=function(f){var p=this._prefixRegex.exec(f);if(p){var h=this._prefixByIri[p[1]];return this._usedPrefixes[h]=!0,h+":"+p[2]}return"<"+f+">"},u.prototype.toUpdate=function(f){switch(f.type||f.updateType){case"load":return"LOAD"+(f.source?" "+this.toEntity(f.source):"")+(f.destination?" INTO GRAPH "+this.toEntity(f.destination):"");case"insert":return"INSERT DATA "+this.group(f.insert,!0);case"delete":return"DELETE DATA "+this.group(f.delete,!0);case"deletewhere":return"DELETE WHERE "+this.group(f.delete,!0);case"insertdelete":return(f.graph?"WITH "+this.toEntity(f.graph)+this._newline:"")+(f.delete.length?"DELETE "+this.group(f.delete,!0)+this._newline:"")+(f.insert.length?"INSERT "+this.group(f.insert,!0)+this._newline:"")+(f.using?this.graphs("USING ",f.using.default):"")+(f.using?this.graphs("USING NAMED ",f.using.named):"")+"WHERE "+this.group(f.where,!0);case"add":case"copy":case"move":return f.type.toUpperCase()+" "+(f.silent?"SILENT ":"")+(f.source.default?"DEFAULT":this.toEntity(f.source.name))+" TO "+this.toEntity(f.destination.name);case"create":case"clear":case"drop":return f.type.toUpperCase()+(f.silent?" SILENT ":" ")+(f.graph.default?"DEFAULT":f.graph.named?"NAMED":f.graph.all?"ALL":"GRAPH "+this.toEntity(f.graph.name));default:throw new Error("Unknown update query type: "+f.type)}},u.prototype.indent=function(f){return f.replace(/^/gm,this._indent)};function i(f){return"?"+f.value}function o(f){return typeof f=="string"}function l(f){return typeof f.termType=="string"}function s(f,p){if(!f||!l(f)||!p||!l(p)||f.termType!==p.termType)return!1;switch(f.termType){case"Literal":return f.value===p.value&&f.language===p.language&&s(f.datatype,p.datatype);case"Quad":return s(f.subject,p.subject)&&s(f.predicate,p.predicate)&&s(f.object,p.object)&&s(f.graph,p.graph);default:return f.value===p.value}}function c(f,p,h,g){return f.map(h,g).join(o(p)?p:" ")}function d(f={}){return{stringify:function(p){var h=Object.create(f);return h.prefixes=p.prefixes,new u(h).toQuery(p)},createGenerator:function(){return new u(f)}}}return Mj={Generator:d},Mj}var Cj,bK;function $n(){if(bK)return Cj;bK=1;const{Parser:n}=d6e(),{Generator:e}=f6e(),{Wildcard:u}=k_e(),{DataFactory:a}=Rr();function r({prefixes:t,baseIRI:i,factory:o,pathOnly:l,sparqlStar:s,skipValidation:c,skipUngroupedVariableCheck:d}={}){const f={};for(const h in t??{})f[h]=t[h];const p=new n;return p.parse=function(){return n.base=i||"",n.prefixes=Object.create(f),n.factory=o||new a,n.sparqlStar=!!s,n.pathOnly=!!l,n.skipValidation=!!c||!!d,n.prototype.parse.apply(p,arguments)},p._resetBlanks=n._resetBlanks,p}return Cj={Parser:r,Generator:e,Wildcard:u},Cj}var gK;function aP(){if(gK)return Ao;gK=1;var n=Ao&&Ao.__createBinding||(Object.create?(function(l,s,c,d){d===void 0&&(d=c);var f=Object.getOwnPropertyDescriptor(s,c);(!f||("get"in f?!s.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return s[c]}}),Object.defineProperty(l,d,f)}):(function(l,s,c,d){d===void 0&&(d=c),l[d]=s[c]})),e=Ao&&Ao.__setModuleDefault||(Object.create?(function(l,s){Object.defineProperty(l,"default",{enumerable:!0,value:s})}):function(l,s){l.default=s}),u=Ao&&Ao.__importStar||function(l){if(l&&l.__esModule)return l;var s={};if(l!=null)for(var c in l)c!=="default"&&Object.prototype.hasOwnProperty.call(l,c)&&n(s,l,c);return e(s,l),s};Object.defineProperty(Ao,"__esModule",{value:!0});const a=u(k4()),r=Rq(),t=nP(),i=$n();class o{constructor(s){this.dataFactory=s||new r.DataFactory,this.stringType=this.createTerm("http://www.w3.org/2001/XMLSchema#string")}createAlt(s,c=!0){return this.flattenMulti({type:a.types.ALT,input:s},c)}createAsk(s){return{type:a.types.ASK,input:s}}createBoundAggregate(s,c,d,f,p){const h=this.createAggregateExpression(c,d,f,p);return h.variable=s,h}createBgp(s){return{type:a.types.BGP,patterns:s}}createConstruct(s,c){return{type:a.types.CONSTRUCT,input:s,template:c}}createDescribe(s,c){return{type:a.types.DESCRIBE,input:s,terms:c}}createDistinct(s){return{type:a.types.DISTINCT,input:s}}createExtend(s,c,d){return{type:a.types.EXTEND,input:s,variable:c,expression:d}}createFrom(s,c,d){return{type:a.types.FROM,input:s,default:c,named:d}}createFilter(s,c){return{type:a.types.FILTER,input:s,expression:c}}createGraph(s,c){return{type:a.types.GRAPH,input:s,name:c}}createGroup(s,c,d){return{type:a.types.GROUP,input:s,variables:c,aggregates:d}}createInv(s){return{type:a.types.INV,path:s}}createJoin(s,c=!0){return this.flattenMulti({type:a.types.JOIN,input:s},c)}createLeftJoin(s,c,d){return d?{type:a.types.LEFT_JOIN,input:[s,c],expression:d}:{type:a.types.LEFT_JOIN,input:[s,c]}}createLink(s){return{type:a.types.LINK,iri:s}}createMinus(s,c){return{type:a.types.MINUS,input:[s,c]}}createNop(){return{type:a.types.NOP}}createNps(s){return{type:a.types.NPS,iris:s}}createOneOrMorePath(s){return{type:a.types.ONE_OR_MORE_PATH,path:s}}createOrderBy(s,c){return{type:a.types.ORDER_BY,input:s,expressions:c}}createPath(s,c,d,f){return f?{type:a.types.PATH,subject:s,predicate:c,object:d,graph:f}:{type:a.types.PATH,subject:s,predicate:c,object:d,graph:this.dataFactory.defaultGraph()}}createPattern(s,c,d,f){const p=this.dataFactory.quad(s,c,d,f);return p.type=a.types.PATTERN,p}createProject(s,c){return{type:a.types.PROJECT,input:s,variables:c}}createReduced(s){return{type:a.types.REDUCED,input:s}}createSeq(s,c=!0){return this.flattenMulti({type:a.types.SEQ,input:s},c)}createService(s,c,d){return{type:a.types.SERVICE,input:s,name:c,silent:!!d}}createSlice(s,c,d){return c=c||0,d!==void 0?{type:a.types.SLICE,input:s,start:c,length:d}:{type:a.types.SLICE,input:s,start:c}}createUnion(s,c=!0){return this.flattenMulti({type:a.types.UNION,input:s},c)}createValues(s,c){return{type:a.types.VALUES,variables:s,bindings:c}}createZeroOrMorePath(s){return{type:a.types.ZERO_OR_MORE_PATH,path:s}}createZeroOrOnePath(s){return{type:a.types.ZERO_OR_ONE_PATH,path:s}}createAggregateExpression(s,c,d,f){return f?{type:a.types.EXPRESSION,expressionType:a.expressionTypes.AGGREGATE,aggregator:s,expression:c,separator:f,distinct:d}:{type:a.types.EXPRESSION,expressionType:a.expressionTypes.AGGREGATE,aggregator:s,expression:c,distinct:d}}createExistenceExpression(s,c){return{type:a.types.EXPRESSION,expressionType:a.expressionTypes.EXISTENCE,not:s,input:c}}createNamedExpression(s,c){return{type:a.types.EXPRESSION,expressionType:a.expressionTypes.NAMED,name:s,args:c}}createOperatorExpression(s,c){return{type:a.types.EXPRESSION,expressionType:a.expressionTypes.OPERATOR,operator:s,args:c}}createTermExpression(s){return{type:a.types.EXPRESSION,expressionType:a.expressionTypes.TERM,term:s}}createWildcardExpression(){return{type:a.types.EXPRESSION,expressionType:a.expressionTypes.WILDCARD,wildcard:new i.Wildcard}}createTerm(s){return s[0]==="$"&&(s=s.replace("$","?")),(0,t.stringToTerm)(s,this.dataFactory)}createCompositeUpdate(s){return{type:a.types.COMPOSITE_UPDATE,updates:s}}createDeleteInsert(s,c,d){const f={type:a.types.DELETE_INSERT};return s&&(f.delete=s),c&&(f.insert=c),d&&(f.where=d),f}createLoad(s,c,d){const f={type:a.types.LOAD,source:s};return c&&(f.destination=c),this.addSilent(f,!!d)}createClear(s,c){return this.addSilent({type:a.types.CLEAR,source:s},!!c)}createCreate(s,c){return this.addSilent({type:a.types.CREATE,source:s},!!c)}createDrop(s,c){return this.addSilent({type:a.types.DROP,source:s},!!c)}createAdd(s,c,d){return this.addSilent({type:a.types.ADD,source:s,destination:c},!!d)}createMove(s,c,d){return this.addSilent({type:a.types.MOVE,source:s,destination:c},!!d)}createCopy(s,c,d){return this.addSilent({type:a.types.COPY,source:s,destination:c},!!d)}addSilent(s,c){return c&&(s.silent=c),s}flattenMulti(s,c){if(!c)return s;const d=s.type,f=s.input;let p=[];for(const h of f)h.type===d?p.push(...h.input):p.push(h);return s.input=p,s}}return Ao.default=o,Ao}var dg={},gd={},Dr={},vK;function p6e(){if(vK)return Dr;vK=1,Object.defineProperty(Dr,"__esModule",{value:!0}),Dr.TRIPLE_TERM_NAMES=Dr.QUAD_TERM_NAMES=void 0,Dr.getTerms=u,Dr.getTermsNested=a,Dr.getNamedTerms=r,Dr.collectNamedTerms=t,Dr.forEachTerms=i,Dr.forEachTermsNested=o,Dr.filterTerms=l,Dr.filterTermsNested=s,Dr.filterQuadTermNames=c,Dr.filterQuadTermNamesNested=d,Dr.mapTerms=f,Dr.mapTermsNested=p,Dr.reduceTerms=h,Dr.reduceTermsNested=g,Dr.everyTerms=_,Dr.everyTermsNested=m,Dr.someTerms=w,Dr.someTermsNested=T,Dr.getValueNestedPath=E,Dr.matchTerm=S,Dr.matchPattern=N,Dr.matchPatternComplete=j,Dr.matchPatternMappings=q;const n=Rq(),e=new n.DataFactory;Dr.QUAD_TERM_NAMES=["subject","predicate","object","graph"],Dr.TRIPLE_TERM_NAMES=["subject","predicate","object"];function u(O,I){return I&&O.graph.termType==="DefaultGraph"?[O.subject,O.predicate,O.object]:[O.subject,O.predicate,O.object,O.graph]}function a(O,I){const A=[];for(const P of u(O,I))P.termType==="Quad"?a(P,I).forEach(C=>A.push(C)):A.push(P);return A}function r(O){return[{key:"subject",value:O.subject},{key:"predicate",value:O.predicate},{key:"object",value:O.object},{key:"graph",value:O.graph}]}function t(O,I,A){const P={};return O.forEach(C=>P[C.key]=C.value),I&&(P.subject=P.subject||I("subject"),P.predicate=P.predicate||I("predicate"),P.object=P.object||I("object"),P.graph=P.graph||I("graph")),(A||e).quad(P.subject,P.predicate,P.object,P.graph)}function i(O,I){I(O.subject,"subject"),I(O.predicate,"predicate"),I(O.object,"object"),I(O.graph,"graph")}function o(O,I,A=[]){O.subject.termType==="Quad"?o(O.subject,I,[...A,"subject"]):I(O.subject,[...A,"subject"]),O.predicate.termType==="Quad"?o(O.predicate,I,[...A,"predicate"]):I(O.predicate,[...A,"predicate"]),O.object.termType==="Quad"?o(O.object,I,[...A,"object"]):I(O.object,[...A,"object"]),O.graph.termType==="Quad"?o(O.graph,I,[...A,"graph"]):I(O.graph,[...A,"graph"])}function l(O,I){const A=[];return I(O.subject,"subject")&&A.push(O.subject),I(O.predicate,"predicate")&&A.push(O.predicate),I(O.object,"object")&&A.push(O.object),I(O.graph,"graph")&&A.push(O.graph),A}function s(O,I,A=[]){let P=[];return O.subject.termType==="Quad"?P=[...P,...s(O.subject,I,[...A,"subject"])]:I(O.subject,[...A,"subject"])&&P.push(O.subject),O.predicate.termType==="Quad"?P=[...P,...s(O.predicate,I,[...A,"predicate"])]:I(O.predicate,[...A,"predicate"])&&P.push(O.predicate),O.object.termType==="Quad"?P=[...P,...s(O.object,I,[...A,"object"])]:I(O.object,[...A,"object"])&&P.push(O.object),O.graph.termType==="Quad"?P=[...P,...s(O.graph,I,[...A,"graph"])]:I(O.graph,[...A,"graph"])&&P.push(O.graph),P}function c(O,I){const A=[];return I(O.subject,"subject")&&A.push("subject"),I(O.predicate,"predicate")&&A.push("predicate"),I(O.object,"object")&&A.push("object"),I(O.graph,"graph")&&A.push("graph"),A}function d(O,I,A=[]){let P=[];const C=[...A,"subject"];O.subject.termType==="Quad"?P=[...P,...d(O.subject,I,C)]:I(O.subject,C)&&P.push(C);const B=[...A,"predicate"];O.predicate.termType==="Quad"?P=[...P,...d(O.predicate,I,B)]:I(O.predicate,B)&&P.push(B);const V=[...A,"object"];O.object.termType==="Quad"?P=[...P,...d(O.object,I,V)]:I(O.object,V)&&P.push(V);const U=[...A,"graph"];return O.graph.termType==="Quad"?P=[...P,...d(O.graph,I,U)]:I(O.graph,U)&&P.push(U),P}function f(O,I,A){return(A||e).quad(I(O.subject,"subject"),I(O.predicate,"predicate"),I(O.object,"object"),I(O.graph,"graph"))}function p(O,I,A,P=[]){return(A||e).quad(O.subject.termType==="Quad"?p(O.subject,I,A,[...P,"subject"]):I(O.subject,[...P,"subject"]),O.predicate.termType==="Quad"?p(O.predicate,I,A,[...P,"predicate"]):I(O.predicate,[...P,"predicate"]),O.object.termType==="Quad"?p(O.object,I,A,[...P,"object"]):I(O.object,[...P,"object"]),O.graph.termType==="Quad"?p(O.graph,I,A,[...P,"graph"]):I(O.graph,[...P,"graph"]))}function h(O,I,A){let P=A;return P=I(P,O.subject,"subject"),P=I(P,O.predicate,"predicate"),P=I(P,O.object,"object"),I(P,O.graph,"graph")}function g(O,I,A,P=[]){let C=A;return O.subject.termType==="Quad"?C=g(O.subject,I,C,[...P,"subject"]):C=I(C,O.subject,[...P,"subject"]),O.predicate.termType==="Quad"?C=g(O.predicate,I,C,[...P,"predicate"]):C=I(C,O.predicate,[...P,"predicate"]),O.object.termType==="Quad"?C=g(O.object,I,C,[...P,"object"]):C=I(C,O.object,[...P,"object"]),O.graph.termType==="Quad"?C=g(O.graph,I,C,[...P,"graph"]):C=I(C,O.graph,[...P,"graph"]),C}function _(O,I){return I(O.subject,"subject")&&I(O.predicate,"predicate")&&I(O.object,"object")&&I(O.graph,"graph")}function m(O,I,A=[]){return(O.subject.termType==="Quad"?m(O.subject,I,[...A,"subject"]):I(O.subject,[...A,"subject"]))&&(O.predicate.termType==="Quad"?m(O.predicate,I,[...A,"predicate"]):I(O.predicate,[...A,"predicate"]))&&(O.object.termType==="Quad"?m(O.object,I,[...A,"object"]):I(O.object,[...A,"object"]))&&(O.graph.termType==="Quad"?m(O.graph,I,[...A,"graph"]):I(O.graph,[...A,"graph"]))}function w(O,I){return I(O.subject,"subject")||I(O.predicate,"predicate")||I(O.object,"object")||I(O.graph,"graph")}function T(O,I,A=[]){return(O.subject.termType==="Quad"?T(O.subject,I,[...A,"subject"]):I(O.subject,[...A,"subject"]))||(O.predicate.termType==="Quad"?T(O.predicate,I,[...A,"predicate"]):I(O.predicate,[...A,"predicate"]))||(O.object.termType==="Quad"?T(O.object,I,[...A,"object"]):I(O.object,[...A,"object"]))||(O.graph.termType==="Quad"?T(O.graph,I,[...A,"graph"]):I(O.graph,[...A,"graph"]))}function E(O,I){if(I.length===0)return O;if(O.termType==="Quad")return E(O[I[0]],I.slice(1));throw new Error(`Tried to get ${I[0]} from term of type ${O.termType}`)}function S(O,I){return!I||I.termType==="Variable"||I.termType==="Quad"&&O.termType==="Quad"&&j(O,I)||I.equals(O)}function N(O,I,A,P,C){return S(O.subject,I)&&S(O.predicate,A)&&S(O.object,P)&&S(O.graph,C)}function j(O,I){return N(O,I.subject,I.predicate,I.object,I.graph)}function q(O,I,A={}){const P={};function C(B,V){return _(B,(U,G)=>{var J,ne;const W=V[G];switch(U.termType){case"Variable":return A.skipVarMapping&&W.termType==="Variable"||((ne=(J=P[U.value])===null||J===void 0?void 0:J.equals(W))!==null&&ne!==void 0?ne:(P[U.value]=W,!0));case"Quad":return W.termType==="Quad"&&C(U,W);default:return U.equals(W)}})}return C(I,O)&&(A.returnMappings?P:!0)}return Dr}var Ii={},_K;function h6e(){if(_K)return Ii;_K=1,Object.defineProperty(Ii,"__esModule",{value:!0}),Ii.TERM_TYPES=void 0,Ii.uniqTerms=e,Ii.getTermsOfType=u,Ii.getNamedNodes=a,Ii.getBlankNodes=r,Ii.getLiterals=t,Ii.getVariables=i,Ii.getDefaultGraphs=o,Ii.getQuads=l;const n=nP();Ii.TERM_TYPES=["NamedNode","BlankNode","Literal","Variable","DefaultGraph","Quad"];function e(s){const c={};return s.filter(d=>{const f=(0,n.termToString)(d);return!(f in c)&&(c[f]=!0)})}function u(s,c){return s.filter(d=>d.termType===c)}function a(s){return u(s,"NamedNode")}function r(s){return u(s,"BlankNode")}function t(s){return u(s,"Literal")}function i(s){return u(s,"Variable")}function o(s){return u(s,"DefaultGraph")}function l(s){return u(s,"Quad")}return Ii}var TK;function y6e(){return TK||(TK=1,(function(n){var e=gd&&gd.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=gd&&gd.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(p6e(),n),u(h6e(),n)})(gd)),gd}var wK;function Nq(){if(wK)return dg;wK=1;var n=dg&&dg.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(dg,"__esModule",{value:!0});const e=k4(),u=n(aP()),a=y6e();class r{static flatten(i){return Array.prototype.concat(...i).filter(o=>o)}static objectify(i){if(i.termType){if(i.termType==="Quad")return{type:"pattern",termType:"Quad",subject:r.objectify(i.subject),predicate:r.objectify(i.predicate),object:r.objectify(i.object),graph:r.objectify(i.graph)};{let o={termType:i.termType,value:i.value};return i.language&&(o.language=i.language),i.datatype&&(o.datatype=r.objectify(i.datatype)),o}}if(Array.isArray(i))return i.map(o=>r.objectify(o));if(i===Object(i)){let o={};for(let l of Object.keys(i))o[l]=r.objectify(i[l]);return o}return i}static inScopeVariables(i){const o=[];function l(c){o.find(d=>c.value===d.value)||o.push(c)}function s(c){c.subject.termType==="Variable"&&l(c.subject),c.predicate.termType==="Variable"&&l(c.predicate),c.object.termType==="Variable"&&l(c.object),c.graph.termType==="Variable"&&l(c.graph),c.subject.termType==="Quad"&&s(c.subject),c.predicate.termType==="Quad"&&s(c.predicate),c.object.termType==="Quad"&&s(c.object),c.graph.termType==="Quad"&&s(c.graph)}return r.recurseOperation(i,{[e.types.EXPRESSION]:c=>(c.expressionType===e.expressionTypes.AGGREGATE&&c.variable&&l(c.variable),!0),[e.types.EXTEND]:c=>(l(c.variable),!0),[e.types.GRAPH]:c=>(c.name.termType==="Variable"&&l(c.name),!0),[e.types.GROUP]:c=>(c.variables.forEach(l),!0),[e.types.PATH]:c=>(c.subject.termType==="Variable"&&l(c.subject),c.object.termType==="Variable"&&l(c.object),c.graph.termType==="Variable"&&l(c.graph),c.subject.termType==="Quad"&&s(c.subject),c.object.termType==="Quad"&&s(c.object),c.graph.termType==="Quad"&&s(c.graph),!0),[e.types.PATTERN]:c=>(s(c),!0),[e.types.PROJECT]:c=>(c.variables.forEach(l),!1),[e.types.SERVICE]:c=>(c.name.termType==="Variable"&&l(c.name),!0),[e.types.VALUES]:c=>(c.variables.forEach(l),!0)}),o}static recurseOperation(i,o){let l=i,s=!0;const c=o[i.type];if(c&&(s=c(i)),!s)return;let d=f=>r.recurseOperation(f,o);switch(l.type){case e.types.ALT:l.input.map(d);break;case e.types.ASK:d(l.input);break;case e.types.BGP:l.patterns.forEach(d);break;case e.types.CONSTRUCT:d(l.input),l.template.map(d);break;case e.types.DESCRIBE:d(l.input);break;case e.types.DISTINCT:d(l.input);break;case e.types.EXPRESSION:l.expressionType===e.expressionTypes.EXISTENCE&&d(l.input);break;case e.types.EXTEND:d(l.input),d(l.expression);break;case e.types.FILTER:d(l.input),d(l.expression);break;case e.types.FROM:d(l.input);break;case e.types.GRAPH:d(l.input);break;case e.types.GROUP:d(l.input),l.aggregates.forEach(d);break;case e.types.INV:d(l.path);break;case e.types.JOIN:l.input.map(d);break;case e.types.LEFT_JOIN:l.input.map(d),l.expression&&d(l.expression);break;case e.types.LINK:break;case e.types.MINUS:l.input.map(d);break;case e.types.NOP:break;case e.types.NPS:break;case e.types.ONE_OR_MORE_PATH:d(l.path);break;case e.types.ORDER_BY:d(l.input),l.expressions.forEach(d);break;case e.types.PATH:d(l.predicate);break;case e.types.PATTERN:break;case e.types.PROJECT:d(l.input);break;case e.types.REDUCED:d(l.input);break;case e.types.SEQ:l.input.map(d);break;case e.types.SERVICE:d(l.input);break;case e.types.SLICE:d(l.input);break;case e.types.UNION:l.input.map(d);break;case e.types.VALUES:break;case e.types.ZERO_OR_MORE_PATH:d(l.path);break;case e.types.ZERO_OR_ONE_PATH:d(l.path);break;case e.types.COMPOSITE_UPDATE:l.updates.forEach(f=>d(f));break;case e.types.DELETE_INSERT:l.delete&&l.delete.forEach(f=>d(f)),l.insert&&l.insert.forEach(f=>d(f)),l.where&&d(l.where);break;case e.types.LOAD:break;case e.types.CLEAR:break;case e.types.CREATE:break;case e.types.DROP:break;case e.types.ADD:break;case e.types.MOVE:break;case e.types.COPY:break;default:throw new Error(`Unknown Operation type ${l.type}`)}}static mapOperation(i,o,l){let s=i,c=!0,d=!0;l=l||new u.default;const f=o[i.type];if(f){const g=f(i,l);s=g.result,c=g.recurse,d=g.copyMetadata!==!1}let p;if(d&&(s.metadata||i.metadata)&&(p={...s.metadata,...i.metadata}),!c)return p&&(s.metadata=p),s;let h=g=>r.mapOperation(g,o,l);switch(s.type){case e.types.ALT:s=l.createAlt(s.input.map(h));break;case e.types.ASK:s=l.createAsk(h(s.input));break;case e.types.BGP:s=l.createBgp(s.patterns.map(h));break;case e.types.CONSTRUCT:s=l.createConstruct(h(s.input),s.template.map(h));break;case e.types.DESCRIBE:s=l.createDescribe(h(s.input),s.terms);break;case e.types.DISTINCT:s=l.createDistinct(h(s.input));break;case e.types.EXPRESSION:s=r.mapExpression(s,o,l);break;case e.types.EXTEND:s=l.createExtend(h(s.input),s.variable,h(s.expression));break;case e.types.FILTER:s=l.createFilter(h(s.input),h(s.expression));break;case e.types.FROM:s=l.createFrom(h(s.input),[...s.default],[...s.named]);break;case e.types.GRAPH:s=l.createGraph(h(s.input),s.name);break;case e.types.GROUP:s=l.createGroup(h(s.input),[].concat(s.variables),s.aggregates.map(h));break;case e.types.INV:s=l.createInv(h(s.path));break;case e.types.JOIN:s=l.createJoin(s.input.map(h));break;case e.types.LEFT_JOIN:s=l.createLeftJoin(h(s.input[0]),h(s.input[1]),s.expression?h(s.expression):void 0);break;case e.types.LINK:s=l.createLink(s.iri);break;case e.types.MINUS:s=l.createMinus(h(s.input[0]),h(s.input[1]));break;case e.types.NOP:s=l.createNop();break;case e.types.NPS:s=l.createNps([].concat(s.iris));break;case e.types.ONE_OR_MORE_PATH:s=l.createOneOrMorePath(h(s.path));break;case e.types.ORDER_BY:s=l.createOrderBy(h(s.input),s.expressions.map(h));break;case e.types.PATH:s=l.createPath(s.subject,h(s.predicate),s.object,s.graph);break;case e.types.PATTERN:s=l.createPattern(s.subject,s.predicate,s.object,s.graph);break;case e.types.PROJECT:s=l.createProject(h(s.input),[...s.variables]);break;case e.types.REDUCED:s=l.createReduced(h(s.input));break;case e.types.SEQ:s=l.createSeq(s.input.map(h));break;case e.types.SERVICE:s=l.createService(h(s.input),s.name,s.silent);break;case e.types.SLICE:s=l.createSlice(h(s.input),s.start,s.length);break;case e.types.UNION:s=l.createUnion(s.input.map(h));break;case e.types.VALUES:s=l.createValues([].concat(s.variables),s.bindings.map(g=>Object.assign({},g)));break;case e.types.ZERO_OR_MORE_PATH:s=l.createZeroOrMorePath(h(s.path));break;case e.types.ZERO_OR_ONE_PATH:s=l.createZeroOrOnePath(h(s.path));break;case e.types.COMPOSITE_UPDATE:s=l.createCompositeUpdate(s.updates.map(h));break;case e.types.DELETE_INSERT:s=l.createDeleteInsert(s.delete?s.delete.map(h):void 0,s.insert?s.insert.map(h):void 0,s.where?h(s.where):void 0);break;case e.types.LOAD:s=l.createLoad(s.source,s.destination,s.silent);break;case e.types.CLEAR:s=l.createClear(s.source,s.silent);break;case e.types.CREATE:s=l.createCreate(s.source,s.silent);break;case e.types.DROP:s=l.createDrop(s.source,s.silent);break;case e.types.ADD:s=l.createAdd(s.source,s.destination);break;case e.types.MOVE:s=l.createMove(s.source,s.destination);break;case e.types.COPY:s=l.createCopy(s.source,s.destination);break;default:throw new Error(`Unknown Operation type ${s.type}`)}return p&&(s.metadata=p),s}static mapExpression(i,o,l){let s=i,c=!0;l=l||new u.default;const d=o[i.expressionType];if(d&&({result:s,recurse:c}=d(i,l)),!c)return s;let f=p=>r.mapOperation(p,o,l);switch(i.expressionType){case e.expressionTypes.AGGREGATE:return i.variable?l.createBoundAggregate(i.variable,i.aggregator,f(i.expression),i.distinct,i.separator):l.createAggregateExpression(i.aggregator,f(i.expression),i.distinct,i.separator);case e.expressionTypes.EXISTENCE:return l.createExistenceExpression(i.not,f(i.input));case e.expressionTypes.NAMED:return l.createNamedExpression(i.name,i.args.map(f));case e.expressionTypes.OPERATOR:return l.createOperatorExpression(i.operator,i.args.map(f));case e.expressionTypes.TERM:return l.createTermExpression(i.term);case e.expressionTypes.WILDCARD:return l.createWildcardExpression();default:throw new Error(`Unknown Expression type ${i.expressionType}`)}}static cloneOperation(i){return r.mapOperation(i,{})}static cloneExpression(i){return r.mapExpression(i,{})}static createUniqueVariable(i,o,l){let s=0,c=i;for(;o[c];)c=`${i}${s++}`;return l.variable(c)}static isSimpleTerm(i){return i.termType!==void 0&&i.termType!=="Quad"&&i.termType!=="Wildcard"}static isQuad(i){return i.termType==="Quad"}static hasQuadVariables(i){return(0,a.someTermsNested)(i,o=>o.termType==="Variable")}static isWildcard(i){return i.termType==="Wildcard"}}return dg.default=r,dg}var SK;function m6e(){if(SK)return cu;SK=1;var n=cu&&cu.__createBinding||(Object.create?(function(v,F,D,L){L===void 0&&(L=D);var H=Object.getOwnPropertyDescriptor(F,D);(!H||("get"in H?!F.__esModule:H.writable||H.configurable))&&(H={enumerable:!0,get:function(){return F[D]}}),Object.defineProperty(v,L,H)}):(function(v,F,D,L){L===void 0&&(L=D),v[L]=F[D]})),e=cu&&cu.__setModuleDefault||(Object.create?(function(v,F){Object.defineProperty(v,"default",{enumerable:!0,value:F})}):function(v,F){v.default=F}),u=cu&&cu.__importStar||function(v){if(v&&v.__esModule)return v;var F={};if(v!=null)for(var D in v)D!=="default"&&Object.prototype.hasOwnProperty.call(v,D)&&n(F,v,D);return e(F,v),F},a=cu&&cu.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(cu,"__esModule",{value:!0});const r=T1(),t=nP(),i=u(k4()),o=a(aP()),l=a(Nq()),s=$n().Parser,c=i.types;let d=new Set,f=0,p=!1,h;function g(v,F){F=F||{},h=new o.default(F.dataFactory);let D;if(m(v)){let L=new s(F);L._resetBlanks(),D=L.parse(v)}else D=v;return _(D,F.quads,F.blankToVariable)}cu.default=g;function _(v,F,D){if(d=new Set,f=0,p=!!F,!v.type)return h.createNop();if(v.type!=="query"&&v.type!=="update")throw new Error("Translate only works on complete query or update objects.");let L;if(S(v),v.type==="query"){const H={type:"group",patterns:v.where||[]};L=j(H),L=W(v,L)}else v.type==="update"&&(L=pe(v));return D&&(L=te(L)),L}function m(v){return typeof v=="string"}function w(v){return!!v?.termType}function T(v){return v.subject&&v.predicate&&v.object}function E(v){return v?.termType==="Variable"}function S(v){if(w(v))E(v)&&d.add(`?${v.value}`);else if(Array.isArray(v))for(const F of v)S(F);else if(v&&typeof v=="object")for(let F of Object.keys(v))F.startsWith("?")?d.add(F):F.startsWith("$")&&d.add(`?${F.slice(1)}`),S(v[F])}function N(v){let F={};if(T(v)){const D=[N(v.subject),N(v.predicate),N(v.object),v.graph?N(v.graph):{}];Object.assign(F,...D)}else if(w(v))E(v)&&(F[v.value]=v);else if(v.type==="bgp"){const D=v.triples;Object.assign(F,...D.map(N))}else if(v.type==="path")Object.assign(F,...v.items.map(N));else if(v.type==="group"||v.type==="union"||v.type==="optional")Object.assign(F,...v.patterns.map(N));else if(v.type==="service"||v.type==="graph")Object.assign(F,N(v.name)),Object.assign(F,...v.patterns.map(N));else if(v.type==="bind")Object.assign(F,N(v.variable));else if(v.type==="values"){if(v.values.length>0){const D=Object.keys(v.values[0]).map(L=>h.createTerm(L));Object.assign(F,...D.map(N))}}else if(v.type==="query"&&(v.queryType==="SELECT"||v.queryType==="DESCRIBE")){v.where&&v.variables.some(l.default.isWildcard)&&Object.assign(F,...v.where.map(N));for(const D of v.variables)E(D)?Object.assign(F,N(D)):D.variable&&Object.assign(F,N(D.variable));if(v.queryType==="SELECT"){if(v.group)for(const D of v.group)D.variable&&Object.assign(F,N(D.variable));if(v.values){const D={type:"values",values:v.values};Object.assign(F,N(D))}}}return F}function j(v){if(v.type==="bgp")return O(v);if(v.type==="union")return h.createUnion(v.patterns.map(F=>(F.type!=="group"&&(F={type:"group",patterns:[F]}),j(F))));if(v.type==="graph"){const F={type:"group",patterns:v.patterns};let D=j(F);return p?D=U(D,v.name):D=h.createGraph(D,v.name),D}if(v.type==="values")return ne(v);if(v.type==="query")return _(v,p,!1);if(v.type==="group"){let F=[],D=[];for(let Z of v.patterns)(Z.type==="filter"?F:D).push(Z);let L=D.reduce(G,h.createBgp([])),H=F.map(Z=>q(Z.expression));return H.length>0&&(L=h.createFilter(L,H.reduce((Z,$)=>h.createOperatorExpression("&&",[Z,$])))),L}throw new Error(`Unexpected type: ${v.type}`)}function q(v){if(l.default.isSimpleTerm(v))return h.createTermExpression(v);if(l.default.isQuad(v))return l.default.hasQuadVariables(v)?h.createOperatorExpression("triple",[q(v.subject),q(v.predicate),q(v.object)]):h.createTermExpression(v);if(l.default.isWildcard(v))return h.createWildcardExpression();if("aggregation"in v)return h.createAggregateExpression(v.aggregation,q(v.expression),!!v.distinct,v.separator);if("function"in v)return h.createNamedExpression(v.function,v.args.map(q));if("operator"in v)return v.operator==="exists"||v.operator==="notexists"?h.createExistenceExpression(v.operator==="notexists",j(v.args[0])):((v.operator==="in"||v.operator==="notin")&&(v.args=[v.args[0]].concat(v.args[1])),h.createOperatorExpression(v.operator,v.args.map(q)));throw new Error(`Unknown expression: ${JSON.stringify(v)}`)}function O(v){let F=[],D=[];for(let L of v.triples)if("pathType"in L.predicate){let H=I(L);for(let Z of H)Z.type===c.PATH?(F.length>0&&D.push(h.createBgp(F)),F=[],D.push(Z)):F.push(Z)}else F.push(B(L));return F.length>0&&D.push(h.createBgp(F)),D.length===1?D[0]:h.createJoin(D)}function I(v){let F=v.subject,D=A(v.predicate),L=v.object;return P(F,D,L)}function A(v){if(l.default.isSimpleTerm(v)){if(v.termType==="NamedNode")return h.createLink(v);throw new Error(`Path predicate should be a NamedNode, got ${JSON.stringify(v)}`)}if(v.pathType==="^")return h.createInv(A(v.items[0]));if(v.pathType==="!"){let F=[],D=[],L;"pathType"in v.items[0]&&v.items[0].pathType==="|"?L=v.items[0].items:L=v.items;for(let $ of L)if(l.default.isSimpleTerm($))F.push($);else if($.pathType==="^")D.push($.items[0]);else throw new Error(`Unexpected item: ${JSON.stringify($)}`);let H=h.createNps(F),Z=h.createInv(h.createNps(D));return D.length===0?H:F.length===0?Z:h.createAlt([H,Z])}if(v.pathType==="/")return h.createSeq(v.items.map(A));if(v.pathType==="|")return h.createAlt(v.items.map(A));if(v.pathType==="*")return h.createZeroOrMorePath(A(v.items[0]));if(v.pathType==="+")return h.createOneOrMorePath(A(v.items[0]));if(v.pathType==="?")return h.createZeroOrOnePath(A(v.items[0]));throw new Error(`Unable to translate path expression ${JSON.stringify(v)}`)}function P(v,F,D){if(F.type===c.LINK)return[h.createPattern(v,F.iri,D)];if(F.type===c.INV)return P(D,F.path,v);if(F.type===c.SEQ){let L=v;return l.default.flatten(F.input.map((H,Z)=>{const $=Z===F.input.length-1?D:C(),ue=P(L,H,$);return $.termType==="Variable"&&(L=$),ue}))}return[h.createPath(v,F,D)]}function C(){let v=`?var${f++}`;return d.has(v)?C():(d.add(v),h.createTerm(v))}function B(v){if("pathType"in v.predicate)throw new Error("Trying to translate property path to quad.");return h.createPattern(v.subject,v.predicate,v.object,v.graph)}let V=Object.values(c);function U(v,F,D){if(v.type===c.GRAPH){if(D)throw new Error("Recursing through nested GRAPH statements with a replacement is impossible.");v=U(v.input,v.name)}else if(v.type!==c.SERVICE)if(v.type===c.BGP)v.patterns=v.patterns.map(L=>(D&&(L.subject.equals(F)&&(L.subject=D),L.predicate.equals(F)&&(L.predicate=D),L.object.equals(F)&&(L.object=D)),L.graph.termType==="DefaultGraph"&&(L.graph=F),L));else if(v.type===c.PATH)D&&(v.subject.equals(F)&&(v.subject=D),v.object.equals(F)&&(v.object=D)),v.graph.termType==="DefaultGraph"&&(v.graph=F);else if(v.type===c.PROJECT&&!D)v.variables.some(L=>L.equals(F))||(D=C()),v.input=U(v.input,F,D);else if(v.type===c.EXTEND&&!D)v.variable.equals(F)&&(D=C()),v.input=U(v.input,F,D);else if(v.type===c.MINUS&&F.termType==="Variable")v.metadata={graphVariableFromParentScope:F},v.input=[U(v.input[0],F,D),U(v.input[1],F,D)];else for(let L of Object.keys(v))Array.isArray(v[L])?v[L]=v[L].map(H=>U(H,F,D)):V.indexOf(v[L].type)>=0?v[L]=U(v[L],F,D):D&&E(v[L])&&v[L].equals(F)&&(v[L]=D);return v}function G(v,F){if(F.type==="optional"){const D=j({type:"group",patterns:F.patterns});D.type===c.FILTER?v=h.createLeftJoin(v,D.input,D.expression):v=h.createLeftJoin(v,D)}else if(F.type==="minus"){const D=j({type:"group",patterns:F.patterns});v=h.createMinus(v,D)}else if(F.type==="bind")v=h.createExtend(v,F.variable,q(F.expression));else if(F.type==="service"){const D={type:"group",patterns:F.patterns},L=h.createService(j(D),F.name,F.silent);v=J(v,L)}else{const D=j(F);v=J(v,D)}return v}function J(v,F){return v.type===c.BGP&&F.type===c.BGP?v=h.createBgp([...v.patterns,...F.patterns]):v.type===c.BGP&&v.patterns.length===0?v=F:F.type===c.BGP&&F.patterns.length===0||(v=h.createJoin([v,F])),v}function ne(v){let F=(v.values.length===0?[]:Object.keys(v.values[0])).map(h.createTerm.bind(h)),D=v.values.map(L=>{let H=Object.keys(L);H=H.filter($=>L[$]!==void 0);let Z={};for(let $ of H)Z[$]=L[$];return Z});return h.createValues(F,D)}function W(v,F){const D=v,L=[],H={};if(D.variables=D.variables&&D.variables.map($=>ee($,H)),D.having=D.having&&D.having.map($=>ee($,H)),D.order=D.order&&D.order.map($=>ee($,H)),D.group||Object.keys(H).length>0){const $=Object.keys(H).map(ae=>se(H[ae],h.createTerm(ae))),ue=[];if(D.group)for(const ae of D.group)if(l.default.isSimpleTerm(ae.expression))ue.push(ae.expression);else{const ce="variable"in ae?ae.variable:C();F=h.createExtend(F,ce,q(ae.expression)),ue.push(ce)}F=h.createGroup(F,ue,$)}if(D.having)for(let $ of D.having)F=h.createFilter(F,q($));v.values&&(F=h.createJoin([F,ne(v)]));let Z=[];if(v.queryType==="SELECT"||v.queryType==="DESCRIBE")if(v.variables.some($=>$&&l.default.isWildcard($)))Z=Object.values(N(v)).sort(($,ue)=>$.value.localeCompare(ue.value));else for(let $ of v.variables)E($)||!("variable"in $)?Z.push($):$.variable&&(Z.push($.variable),L.push($));for(let $ of L)F=h.createExtend(F,$.variable,q($.expression));return D.order&&(F=h.createOrderBy(F,D.order.map($=>{let ue=q($.expression);return $.descending&&(ue=h.createOperatorExpression("desc",[ue])),ue}))),v.queryType==="SELECT"&&(F=h.createProject(F,Z)),D.distinct&&(F=h.createDistinct(F)),D.reduced&&(F=h.createReduced(F)),v.queryType==="CONSTRUCT"?F=h.createConstruct(F,(v.template||[]).map(B)):v.queryType==="ASK"?F=h.createAsk(F):v.queryType==="DESCRIBE"&&(F=h.createDescribe(F,Z)),(D.offset||D.limit)&&(F=h.createSlice(F,D.offset||0,D.limit)),D.from&&(F=h.createFrom(F,D.from.default,D.from.named)),F}function ee(v,F){if("type"in v&&v.type==="aggregate"){let D=!1,L;for(let H of Object.keys(F))if(r(F[H],v)){L=h.createTerm(H),D=!0;break}return D||(L=C(),F[(0,t.termToString)(L)]=v),L}return"expression"in v&&v.expression?{...v,expression:ee(v.expression,F)}:"args"in v&&v.args?{...v,args:v.args.map(D=>ee(D,F))}:v}function se(v,F){if(v.type!=="aggregate"||!v.aggregation)throw new Error(`Unexpected input: ${JSON.stringify(v)}`);const D=q(v);return D.variable=F,D}function pe(v){return v.updates.length===1?le(v.updates[0]):h.createCompositeUpdate(v.updates.map(le))}function le(v){if("type"in v){if(v.type==="load")return Oe(v);if(v.type==="clear"||v.type==="create"||v.type==="drop")return Ne(v);if(v.type==="add"||v.type==="copy"||v.type==="move")return be(v)}else if(v.updateType==="insertdelete"||v.updateType==="deletewhere"||v.updateType==="delete"||v.updateType==="insert")return Ee(v);throw new Error(`Unknown update type ${JSON.stringify(v)}`)}function Ee(v){if(!p)throw new Error("INSERT/DELETE operations are only supported with quads option enabled");let F=[],D=[],L;if(v.delete&&(F=l.default.flatten(v.delete.map(H=>Ae(H,v.graph)))),v.insert&&(D=l.default.flatten(v.insert.map(H=>Ae(H,v.graph)))),v.where&&v.where.length>0){L=j({type:"group",patterns:v.where});const H=v.using;H?L=h.createFrom(L,H.default,H.named):v.graph&&(L=U(L,v.graph))}else v.updateType==="deletewhere"&&F.length>0&&(L=h.createBgp(F));return h.createDeleteInsert(F.length>0?F:void 0,D.length>0?D:void 0,L)}function Ae(v,F){let D=F;v.type==="graph"&&(D=v.name);let L=v.triples;return D&&(L=L.map(H=>Object.assign(H,{graph:D}))),L.map(B)}function Ne(v){let F;switch(l.default.isSimpleTerm(v.graph)?F=v.graph:v.graph.all?F="ALL":v.graph.default?F="DEFAULT":v.graph.named?F="NAMED":F=v.graph.name,v.type){case"clear":return h.createClear(F,v.silent);case"create":return h.createCreate(F,v.silent);case"drop":return h.createDrop(F,v.silent)}}function Oe(v){return h.createLoad(v.source,v.destination,v.silent)}function be(v){const F=v.source.default?"DEFAULT":v.source.name,D=v.destination.default?"DEFAULT":v.destination.name;switch(v.type){case"copy":return h.createCopy(F,D,v.silent);case"move":return h.createMove(F,D,v.silent);case"add":return h.createAdd(F,D,v.silent)}}function te(v){const F={},D=Array.from(d).reduce((H,Z)=>(H[Z]=!0,H),{});return l.default.mapOperation(v,{[i.types.DELETE_INSERT]:H=>({result:h.createDeleteInsert(H.delete,H.insert,H.where&&te(H.where)),recurse:!1}),[i.types.PATH]:(H,Z)=>({result:Z.createPath(L(H.subject),H.predicate,L(H.object),L(H.graph)),recurse:!1}),[i.types.PATTERN]:(H,Z)=>({result:Z.createPattern(L(H.subject),L(H.predicate),L(H.object),L(H.graph)),recurse:!1}),[i.types.CONSTRUCT]:H=>({result:h.createConstruct(te(H.input),H.template),recurse:!1})});function L(H){if(H.termType==="BlankNode"){let Z=F[H.value];return Z||(Z=l.default.createUniqueVariable(H.value,D,h.dataFactory),D[Z.value]=!0,F[H.value]=Z),Z}return H.termType==="Quad"?h.dataFactory.quad(L(H.subject),L(H.predicate),L(H.object),L(H.graph)):H}}return cu}var Ha={},vd={},Hn={},Lj={},Lu={},_d={},l_={},EK;function z_e(){if(EK)return l_;EK=1,Object.defineProperty(l_,"__esModule",{value:!0}),l_.BlankNode=void 0;class n{constructor(u){this.termType="BlankNode",this.value=u}equals(u){return!!u&&u.termType==="BlankNode"&&u.value===this.value}}return l_.BlankNode=n,l_}var d_={},f_={},AK;function G_e(){if(AK)return f_;AK=1,Object.defineProperty(f_,"__esModule",{value:!0}),f_.DefaultGraph=void 0;class n{constructor(){this.termType="DefaultGraph",this.value=""}equals(u){return!!u&&u.termType==="DefaultGraph"}}return f_.DefaultGraph=n,n.INSTANCE=new n,f_}var p_={},h_={},OK;function Iq(){if(OK)return h_;OK=1,Object.defineProperty(h_,"__esModule",{value:!0}),h_.NamedNode=void 0;class n{constructor(u){this.termType="NamedNode",this.value=u}equals(u){return!!u&&u.termType==="NamedNode"&&u.value===this.value}}return h_.NamedNode=n,h_}var xK;function $_e(){if(xK)return p_;xK=1,Object.defineProperty(p_,"__esModule",{value:!0}),p_.Literal=void 0;const n=Iq();class e{constructor(a,r){this.termType="Literal",this.value=a,typeof r=="string"?(this.language=r,this.datatype=e.RDF_LANGUAGE_STRING,this.direction=""):r?"termType"in r?(this.language="",this.datatype=r,this.direction=""):(this.language=r.language,this.datatype=r.direction?e.RDF_DIRECTIONAL_LANGUAGE_STRING:e.RDF_LANGUAGE_STRING,this.direction=r.direction||""):(this.language="",this.datatype=e.XSD_STRING,this.direction="")}equals(a){return!!a&&a.termType==="Literal"&&a.value===this.value&&a.language===this.language&&(a.direction===this.direction||!a.direction&&this.direction==="")&&this.datatype.equals(a.datatype)}}return p_.Literal=e,e.RDF_LANGUAGE_STRING=new n.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),e.RDF_DIRECTIONAL_LANGUAGE_STRING=new n.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#dirLangString"),e.XSD_STRING=new n.NamedNode("http://www.w3.org/2001/XMLSchema#string"),p_}var y_={},RK;function X_e(){if(RK)return y_;RK=1,Object.defineProperty(y_,"__esModule",{value:!0}),y_.Quad=void 0;class n{constructor(u,a,r,t){this.termType="Quad",this.value="",this.subject=u,this.predicate=a,this.object=r,this.graph=t}equals(u){return!!u&&(u.termType==="Quad"||!u.termType)&&this.subject.equals(u.subject)&&this.predicate.equals(u.predicate)&&this.object.equals(u.object)&&this.graph.equals(u.graph)}}return y_.Quad=n,y_}var m_={},NK;function K_e(){if(NK)return m_;NK=1,Object.defineProperty(m_,"__esModule",{value:!0}),m_.Variable=void 0;class n{constructor(u){this.termType="Variable",this.value=u}equals(u){return!!u&&u.termType==="Variable"&&u.value===this.value}}return m_.Variable=n,m_}var IK;function b6e(){if(IK)return d_;IK=1,Object.defineProperty(d_,"__esModule",{value:!0}),d_.DataFactory=void 0;const n=z_e(),e=G_e(),u=$_e(),a=Iq(),r=X_e(),t=K_e();let i=0;class o{constructor(s){this.blankNodeCounter=0,s=s||{},this.blankNodePrefix=s.blankNodePrefix||`df_${i++}_`}namedNode(s){return new a.NamedNode(s)}blankNode(s){return new n.BlankNode(s||`${this.blankNodePrefix}${this.blankNodeCounter++}`)}literal(s,c){return new u.Literal(s,c)}variable(s){return new t.Variable(s)}defaultGraph(){return e.DefaultGraph.INSTANCE}quad(s,c,d,f){return new r.Quad(s,c,d,f||this.defaultGraph())}fromTerm(s){switch(s.termType){case"NamedNode":return this.namedNode(s.value);case"BlankNode":return this.blankNode(s.value);case"Literal":return s.language?this.literal(s.value,s.language):s.datatype.equals(u.Literal.XSD_STRING)?this.literal(s.value):this.literal(s.value,this.fromTerm(s.datatype));case"Variable":return this.variable(s.value);case"DefaultGraph":return this.defaultGraph();case"Quad":return this.quad(this.fromTerm(s.subject),this.fromTerm(s.predicate),this.fromTerm(s.object),this.fromTerm(s.graph))}}fromQuad(s){return this.fromTerm(s)}resetBlankNodeCounter(){this.blankNodeCounter=0}}return d_.DataFactory=o,d_}var DK;function J_e(){return DK||(DK=1,(function(n){var e=_d&&_d.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=_d&&_d.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(z_e(),n),u(b6e(),n),u(G_e(),n),u($_e(),n),u(Iq(),n),u(X_e(),n),u(K_e(),n)})(_d)),_d}var FK;function g6e(){if(FK)return Lu;FK=1,Object.defineProperty(Lu,"__esModule",{value:!0}),Lu.termToString=u,Lu.getLiteralValue=a,Lu.getLiteralType=r,Lu.getLiteralLanguage=t,Lu.getLiteralDirection=i,Lu.stringToTerm=o,Lu.quadToStringQuad=l,Lu.stringQuadToQuad=s;const n=J_e(),e=new n.DataFactory;function u(c){if(c)switch(c.termType){case"NamedNode":return c.value;case"BlankNode":return"_:"+c.value;case"Literal":const d=c;return'"'+d.value+'"'+(d.datatype&&d.datatype.value!=="http://www.w3.org/2001/XMLSchema#string"&&d.datatype.value!=="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"&&d.datatype.value!=="http://www.w3.org/1999/02/22-rdf-syntax-ns#dirLangString"?"^^"+d.datatype.value:"")+(d.language?"@"+d.language:"")+(d.direction?"--"+d.direction:"");case"Quad":return`<<${u(c.subject)} ${u(c.predicate)} ${u(c.object)}${c.graph.termType==="DefaultGraph"?"":" "+u(c.graph)}>>`;case"Variable":return"?"+c.value;case"DefaultGraph":return c.value}}function a(c){const d=/^"([^]*)"/.exec(c);if(!d)throw new Error(c+" is not a literal");return d[1]}function r(c){const d=/^"[^]*"(?:\^\^([^"]+)|(@)[^@"]+)?$/.exec(c);if(!d)throw new Error(c+" is not a literal");return d[1]||(d[2]?"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString":"http://www.w3.org/2001/XMLSchema#string")}function t(c){const d=/^"[^]*"(?:@([^@"]+)|\^\^[^"]+)?$/.exec(c);if(!d)throw new Error(c+" is not a literal");if(d[1]){let f=d[1].toLowerCase();const p=f.indexOf("--");return p>=0&&(f=f.slice(0,p)),f}return""}function i(c){const d=c.indexOf("--",c.lastIndexOf('"'));if(d>=0){const f=c.slice(d+2,c.length);if(f==="ltr"||f==="rtl")return f;throw new Error(c+" is not a literal with a valid direction")}return""}function o(c,d){if(d=d||e,!c||!c.length)return d.defaultGraph();switch(c[0]){case"_":return d.blankNode(c.substr(2));case"?":if(!d.variable)throw new Error("Missing 'variable()' method on the given DataFactory");return d.variable(c.substr(1));case'"':const f=t(c),p=i(c),h=d.namedNode(r(c));return d.literal(a(c),f?{language:f,direction:p}:h);default:if(c[0]==="<"&&c.length>4&&c[1]==="<"&&c[c.length-1]===">"&&c[c.length-2]===">"){const g=c.slice(2,-2).trim();let _=[],m=0,w=0,T=!1;for(let E=0;E<g.length;E++){const S=g[E];if(S==="<"&&m++,S===">"){if(m===0)throw new Error("Found closing tag without opening tag in "+c);m--}if(S==='"'){let N=!1,j=E;for(;j-- >0&&g[j]==="\\";)N=!N;N||(T=!T)}if(S===" "&&!T&&m===0){for(_.push(g.slice(w,E));g[E+1]===" ";)E+=1;w=E+1}}if(m!==0)throw new Error("Found opening tag without closing tag in "+c);if(_.push(g.slice(w,g.length)),_.length!==3&&_.length!==4)throw new Error("Nested quad syntax error "+c);return _=_.map(E=>E.startsWith("<")&&!E.includes(" ")?E.slice(1,-1):E),d.quad(o(_[0]),o(_[1]),o(_[2]),_[3]?o(_[3]):void 0)}return d.namedNode(c)}}function l(c){return{subject:u(c.subject),predicate:u(c.predicate),object:u(c.object),graph:u(c.graph)}}function s(c,d){return d=d||e,d.quad(o(c.subject,d),o(c.predicate,d),o(c.object,d),o(c.graph,d))}return Lu}var PK;function W_e(){return PK||(PK=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.termToString=n.stringToTerm=n.stringQuadToQuad=n.quadToStringQuad=n.getLiteralValue=n.getLiteralType=n.getLiteralDirection=n.getLiteralLanguage=void 0;const e=g6e();Object.defineProperty(n,"getLiteralLanguage",{enumerable:!0,get:function(){return e.getLiteralLanguage}}),Object.defineProperty(n,"getLiteralDirection",{enumerable:!0,get:function(){return e.getLiteralDirection}}),Object.defineProperty(n,"getLiteralType",{enumerable:!0,get:function(){return e.getLiteralType}}),Object.defineProperty(n,"getLiteralValue",{enumerable:!0,get:function(){return e.getLiteralValue}}),Object.defineProperty(n,"quadToStringQuad",{enumerable:!0,get:function(){return e.quadToStringQuad}}),Object.defineProperty(n,"stringQuadToQuad",{enumerable:!0,get:function(){return e.stringQuadToQuad}}),Object.defineProperty(n,"stringToTerm",{enumerable:!0,get:function(){return e.stringToTerm}}),Object.defineProperty(n,"termToString",{enumerable:!0,get:function(){return e.termToString}})})(Lj)),Lj}var Td={},Fr={},jK;function v6e(){if(jK)return Fr;jK=1,Object.defineProperty(Fr,"__esModule",{value:!0}),Fr.TRIPLE_TERM_NAMES=Fr.QUAD_TERM_NAMES=void 0,Fr.getTerms=u,Fr.getTermsNested=a,Fr.getNamedTerms=r,Fr.collectNamedTerms=t,Fr.forEachTerms=i,Fr.forEachTermsNested=o,Fr.filterTerms=l,Fr.filterTermsNested=s,Fr.filterQuadTermNames=c,Fr.filterQuadTermNamesNested=d,Fr.mapTerms=f,Fr.mapTermsNested=p,Fr.reduceTerms=h,Fr.reduceTermsNested=g,Fr.everyTerms=_,Fr.everyTermsNested=m,Fr.someTerms=w,Fr.someTermsNested=T,Fr.getValueNestedPath=E,Fr.matchTerm=S,Fr.matchPattern=N,Fr.matchPatternComplete=j,Fr.matchPatternMappings=q;const n=J_e(),e=new n.DataFactory;Fr.QUAD_TERM_NAMES=["subject","predicate","object","graph"],Fr.TRIPLE_TERM_NAMES=["subject","predicate","object"];function u(O,I){return I&&O.graph.termType==="DefaultGraph"?[O.subject,O.predicate,O.object]:[O.subject,O.predicate,O.object,O.graph]}function a(O,I){const A=[];for(const P of u(O,I))P.termType==="Quad"?a(P,I).forEach(C=>A.push(C)):A.push(P);return A}function r(O){return[{key:"subject",value:O.subject},{key:"predicate",value:O.predicate},{key:"object",value:O.object},{key:"graph",value:O.graph}]}function t(O,I,A){const P={};return O.forEach(C=>P[C.key]=C.value),I&&(P.subject=P.subject||I("subject"),P.predicate=P.predicate||I("predicate"),P.object=P.object||I("object"),P.graph=P.graph||I("graph")),(A||e).quad(P.subject,P.predicate,P.object,P.graph)}function i(O,I){I(O.subject,"subject"),I(O.predicate,"predicate"),I(O.object,"object"),I(O.graph,"graph")}function o(O,I,A=[]){O.subject.termType==="Quad"?o(O.subject,I,[...A,"subject"]):I(O.subject,[...A,"subject"]),O.predicate.termType==="Quad"?o(O.predicate,I,[...A,"predicate"]):I(O.predicate,[...A,"predicate"]),O.object.termType==="Quad"?o(O.object,I,[...A,"object"]):I(O.object,[...A,"object"]),O.graph.termType==="Quad"?o(O.graph,I,[...A,"graph"]):I(O.graph,[...A,"graph"])}function l(O,I){const A=[];return I(O.subject,"subject")&&A.push(O.subject),I(O.predicate,"predicate")&&A.push(O.predicate),I(O.object,"object")&&A.push(O.object),I(O.graph,"graph")&&A.push(O.graph),A}function s(O,I,A=[]){let P=[];return O.subject.termType==="Quad"?P=[...P,...s(O.subject,I,[...A,"subject"])]:I(O.subject,[...A,"subject"])&&P.push(O.subject),O.predicate.termType==="Quad"?P=[...P,...s(O.predicate,I,[...A,"predicate"])]:I(O.predicate,[...A,"predicate"])&&P.push(O.predicate),O.object.termType==="Quad"?P=[...P,...s(O.object,I,[...A,"object"])]:I(O.object,[...A,"object"])&&P.push(O.object),O.graph.termType==="Quad"?P=[...P,...s(O.graph,I,[...A,"graph"])]:I(O.graph,[...A,"graph"])&&P.push(O.graph),P}function c(O,I){const A=[];return I(O.subject,"subject")&&A.push("subject"),I(O.predicate,"predicate")&&A.push("predicate"),I(O.object,"object")&&A.push("object"),I(O.graph,"graph")&&A.push("graph"),A}function d(O,I,A=[]){let P=[];const C=[...A,"subject"];O.subject.termType==="Quad"?P=[...P,...d(O.subject,I,C)]:I(O.subject,C)&&P.push(C);const B=[...A,"predicate"];O.predicate.termType==="Quad"?P=[...P,...d(O.predicate,I,B)]:I(O.predicate,B)&&P.push(B);const V=[...A,"object"];O.object.termType==="Quad"?P=[...P,...d(O.object,I,V)]:I(O.object,V)&&P.push(V);const U=[...A,"graph"];return O.graph.termType==="Quad"?P=[...P,...d(O.graph,I,U)]:I(O.graph,U)&&P.push(U),P}function f(O,I,A){return(A||e).quad(I(O.subject,"subject"),I(O.predicate,"predicate"),I(O.object,"object"),I(O.graph,"graph"))}function p(O,I,A,P=[]){return(A||e).quad(O.subject.termType==="Quad"?p(O.subject,I,A,[...P,"subject"]):I(O.subject,[...P,"subject"]),O.predicate.termType==="Quad"?p(O.predicate,I,A,[...P,"predicate"]):I(O.predicate,[...P,"predicate"]),O.object.termType==="Quad"?p(O.object,I,A,[...P,"object"]):I(O.object,[...P,"object"]),O.graph.termType==="Quad"?p(O.graph,I,A,[...P,"graph"]):I(O.graph,[...P,"graph"]))}function h(O,I,A){let P=A;return P=I(P,O.subject,"subject"),P=I(P,O.predicate,"predicate"),P=I(P,O.object,"object"),I(P,O.graph,"graph")}function g(O,I,A,P=[]){let C=A;return O.subject.termType==="Quad"?C=g(O.subject,I,C,[...P,"subject"]):C=I(C,O.subject,[...P,"subject"]),O.predicate.termType==="Quad"?C=g(O.predicate,I,C,[...P,"predicate"]):C=I(C,O.predicate,[...P,"predicate"]),O.object.termType==="Quad"?C=g(O.object,I,C,[...P,"object"]):C=I(C,O.object,[...P,"object"]),O.graph.termType==="Quad"?C=g(O.graph,I,C,[...P,"graph"]):C=I(C,O.graph,[...P,"graph"]),C}function _(O,I){return I(O.subject,"subject")&&I(O.predicate,"predicate")&&I(O.object,"object")&&I(O.graph,"graph")}function m(O,I,A=[]){return(O.subject.termType==="Quad"?m(O.subject,I,[...A,"subject"]):I(O.subject,[...A,"subject"]))&&(O.predicate.termType==="Quad"?m(O.predicate,I,[...A,"predicate"]):I(O.predicate,[...A,"predicate"]))&&(O.object.termType==="Quad"?m(O.object,I,[...A,"object"]):I(O.object,[...A,"object"]))&&(O.graph.termType==="Quad"?m(O.graph,I,[...A,"graph"]):I(O.graph,[...A,"graph"]))}function w(O,I){return I(O.subject,"subject")||I(O.predicate,"predicate")||I(O.object,"object")||I(O.graph,"graph")}function T(O,I,A=[]){return(O.subject.termType==="Quad"?T(O.subject,I,[...A,"subject"]):I(O.subject,[...A,"subject"]))||(O.predicate.termType==="Quad"?T(O.predicate,I,[...A,"predicate"]):I(O.predicate,[...A,"predicate"]))||(O.object.termType==="Quad"?T(O.object,I,[...A,"object"]):I(O.object,[...A,"object"]))||(O.graph.termType==="Quad"?T(O.graph,I,[...A,"graph"]):I(O.graph,[...A,"graph"]))}function E(O,I){if(I.length===0)return O;if(O.termType==="Quad")return E(O[I[0]],I.slice(1));throw new Error(`Tried to get ${I[0]} from term of type ${O.termType}`)}function S(O,I){return!I||I.termType==="Variable"||I.termType==="Quad"&&O.termType==="Quad"&&j(O,I)||I.equals(O)}function N(O,I,A,P,C){return S(O.subject,I)&&S(O.predicate,A)&&S(O.object,P)&&S(O.graph,C)}function j(O,I){return N(O,I.subject,I.predicate,I.object,I.graph)}function q(O,I,A={}){const P={};function C(B,V){return _(B,(U,G)=>{var J,ne;const W=V[G];switch(U.termType){case"Variable":return A.skipVarMapping&&W.termType==="Variable"||((ne=(J=P[U.value])===null||J===void 0?void 0:J.equals(W))!==null&&ne!==void 0?ne:(P[U.value]=W,!0));case"Quad":return W.termType==="Quad"&&C(U,W);default:return U.equals(W)}})}return C(I,O)&&(A.returnMappings?P:!0)}return Fr}var Di={},MK;function _6e(){if(MK)return Di;MK=1,Object.defineProperty(Di,"__esModule",{value:!0}),Di.TERM_TYPES=void 0,Di.uniqTerms=e,Di.getTermsOfType=u,Di.getNamedNodes=a,Di.getBlankNodes=r,Di.getLiterals=t,Di.getVariables=i,Di.getDefaultGraphs=o,Di.getQuads=l;const n=W_e();Di.TERM_TYPES=["NamedNode","BlankNode","Literal","Variable","DefaultGraph","Quad"];function e(s){const c={};return s.filter(d=>{const f=(0,n.termToString)(d);return!(f in c)&&(c[f]=!0)})}function u(s,c){return s.filter(d=>d.termType===c)}function a(s){return u(s,"NamedNode")}function r(s){return u(s,"BlankNode")}function t(s){return u(s,"Literal")}function i(s){return u(s,"Variable")}function o(s){return u(s,"DefaultGraph")}function l(s){return u(s,"Quad")}return Di}var CK;function T6e(){return CK||(CK=1,(function(n){var e=Td&&Td.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=Td&&Td.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(v6e(),n),u(_6e(),n)})(Td)),Td}var qj={exports:{}};var LK;function Dq(){return LK||(LK=1,(function(n){(function(){var e;function u(a,r){var t=this instanceof u?this:e;if(t.reset(r),typeof a=="string"&&a.length>0&&t.hash(a),t!==this)return t}u.prototype.hash=function(a){var r,t,i,o,l;switch(l=a.length,this.len+=l,t=this.k1,i=0,this.rem){case 0:t^=l>i?a.charCodeAt(i++)&65535:0;case 1:t^=l>i?(a.charCodeAt(i++)&65535)<<8:0;case 2:t^=l>i?(a.charCodeAt(i++)&65535)<<16:0;case 3:t^=l>i?(a.charCodeAt(i)&255)<<24:0,t^=l>i?(a.charCodeAt(i++)&65280)>>8:0}if(this.rem=l+this.rem&3,l-=this.rem,l>0){for(r=this.h1;t=t*11601+(t&65535)*3432906752&4294967295,t=t<<15|t>>>17,t=t*13715+(t&65535)*461832192&4294967295,r^=t,r=r<<13|r>>>19,r=r*5+3864292196&4294967295,!(i>=l);)t=a.charCodeAt(i++)&65535^(a.charCodeAt(i++)&65535)<<8^(a.charCodeAt(i++)&65535)<<16,o=a.charCodeAt(i++),t^=(o&255)<<24^(o&65280)>>8;switch(t=0,this.rem){case 3:t^=(a.charCodeAt(i+2)&65535)<<16;case 2:t^=(a.charCodeAt(i+1)&65535)<<8;case 1:t^=a.charCodeAt(i)&65535}this.h1=r}return this.k1=t,this},u.prototype.result=function(){var a,r;return a=this.k1,r=this.h1,a>0&&(a=a*11601+(a&65535)*3432906752&4294967295,a=a<<15|a>>>17,a=a*13715+(a&65535)*461832192&4294967295,r^=a),r^=this.len,r^=r>>>16,r=r*51819+(r&65535)*2246770688&4294967295,r^=r>>>13,r=r*44597+(r&65535)*3266445312&4294967295,r^=r>>>16,r>>>0},u.prototype.reset=function(a){return this.h1=typeof a=="number"?a:0,this.rem=this.k1=this.len=0,this},e=new u,n.exports=u})()})(qj)),qj.exports}var qK;function w6e(){if(qK)return Hn;qK=1,Object.defineProperty(Hn,"__esModule",{value:!0}),Hn.isomorphic=a,Hn.getBijection=r,Hn.getBijectionInner=t,Hn.hashValues=o,Hn.hasValue=l,Hn.getQuadsWithBlankNodes=s,Hn.getQuadsWithoutBlankNodes=c,Hn.indexGraph=d,Hn.deindexGraph=f,Hn.uniqGraph=p,Hn.getGraphBlankNodes=h,Hn.hashTerms=g,Hn.hashTerm=_,Hn.hashNumber=m,Hn.quadToSignature=w,Hn.termToSignature=T,Hn.isTermGrounded=E;const n=W_e(),e=T6e(),u=Dq();function a(S,N){return!!r(S,N)}function r(S,N){const j=d(c(S)),q=d(c(N));if(Object.keys(j).length!==Object.keys(q).length)return null;for(const C in j)if(j[C]!==q[C])return null;const O=p(s(S)),I=p(s(N)),A=h(S),P=h(N);return t(O,I,A,P)}function t(S,N,j,q,O,I){O||(O={}),I||(I={});const[A,P]=g(S,j,O),[C,B]=g(N,q,I);if(Object.keys(A).length!==Object.keys(C).length)return null;for(const U in A)if(!l(C,A[U]))return null;let V={};for(const U of j){const G=(0,n.termToString)(U),J=P[G];for(const ne in B)if(B[ne]===J){V[G]=ne,delete B[ne];break}}if(!i(Object.keys(V).sort(),j.map(n.termToString).sort())||!i(o(V).sort(),q.map(n.termToString).sort())){V=null;for(const U of j){const G=(0,n.termToString)(U);if(!A[G])for(const J of q){const ne=(0,n.termToString)(J);if(!C[ne]&&P[G]===B[ne]){const W=m(G);V=t(S,N,j,q,Object.assign(Object.assign({},A),{[G]:W}),Object.assign(Object.assign({},C),{[ne]:W}))}}}}return V}function i(S,N){if(S.length!==N.length)return!1;for(let j=S.length;j--;)if(S[j]!==N[j])return!1;return!0}function o(S){const N=[];for(const j in S)N.push(S[j]);return N}function l(S,N){for(const j in S)if(S[j]===N)return!0;return!1}function s(S){return S.filter(N=>(0,e.someTerms)(N,j=>j.termType==="BlankNode"||j.termType==="Quad"&&(0,e.getTermsNested)(j).some(q=>q.termType==="BlankNode")))}function c(S){return S.filter(N=>(0,e.everyTerms)(N,j=>j.termType!=="BlankNode"&&!(j.termType==="Quad"&&(0,e.getTermsNested)(j).some(q=>q.termType==="BlankNode"))))}function d(S){const N={};for(const j of S)N[JSON.stringify((0,n.quadToStringQuad)(j))]=!0;return N}function f(S){return Object.keys(S).map(N=>(0,n.stringQuadToQuad)(JSON.parse(N)))}function p(S){return f(d(S))}function h(S){return(0,e.uniqTerms)(S.map(N=>(0,e.getBlankNodes)((0,e.getTermsNested)(N))).reduce((N,j)=>N.concat(j),[]))}function g(S,N,j){const q=Object.assign({},j),O={};let I=!0;for(;I;){const A=Object.keys(q).length;for(const C of N){const B=(0,n.termToString)(C);if(!q[B]){const[V,U]=_(C,S,q);V&&(q[B]=U),O[B]=U}}const P=new Map;for(const C in O){const B=O[C];P.get(B)===void 0?P.set(B,C):P.set(B,!1)}for(const[C,B]of P.entries())B&&(q[B]=C);I=A!==Object.keys(q).length}return[q,O]}function _(S,N,j){const q=[];let O=!0;for(const A of N){const P=(0,e.getTermsNested)(A);if(P.some(C=>C.equals(S))){q.push(w(A,j,S));for(const C of P)!E(C,j)&&!C.equals(S)&&(O=!1)}}const I=m(q.sort().join(""));return[O,I]}function m(S){return u().hash(S).result()}function w(S,N,j){return(0,e.getTerms)(S).map(q=>T(q,N,j)).join("|")}function T(S,N,j){var q;return S.equals(j)?"@self":S.termType==="BlankNode"?((q=N[(0,n.termToString)(S)])===null||q===void 0?void 0:q.toString())||"@blank":S.termType==="Quad"?`<${w(S,N,j)}>`:(0,n.termToString)(S)}function E(S,N){return S.termType!=="BlankNode"&&!(S.termType==="Quad"&&(0,e.getTermsNested)(S).some(j=>!E(j,N)))||!!N[(0,n.termToString)(S)]}return Hn}var BK;function S6e(){return BK||(BK=1,(function(n){var e=vd&&vd.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=vd&&vd.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(w6e(),n)})(vd)),vd}var UK;function E6e(){if(UK)return Ha;UK=1;var n=Ha&&Ha.__createBinding||(Object.create?(function(R,k,K,de){de===void 0&&(de=K);var ge=Object.getOwnPropertyDescriptor(k,K);(!ge||("get"in ge?!k.__esModule:ge.writable||ge.configurable))&&(ge={enumerable:!0,get:function(){return k[K]}}),Object.defineProperty(R,de,ge)}):(function(R,k,K,de){de===void 0&&(de=K),R[de]=k[K]})),e=Ha&&Ha.__setModuleDefault||(Object.create?(function(R,k){Object.defineProperty(R,"default",{enumerable:!0,value:k})}):function(R,k){R.default=k}),u=Ha&&Ha.__importStar||function(R){if(R&&R.__esModule)return R;var k={};if(R!=null)for(var K in R)K!=="default"&&Object.prototype.hasOwnProperty.call(R,K)&&n(k,R,K);return e(k,R),k},a=Ha&&Ha.__importDefault||function(R){return R&&R.__esModule?R:{default:R}};Object.defineProperty(Ha,"__esModule",{value:!0}),Ha.toSparqlJs=Ha.toSparql=void 0;const r=S6e(),t=nP(),i=$n(),o=u(k4()),l=a(aP()),s=a(Nq()),c=o.types,d=o.expressionTypes;let f;const p=new l.default;function h(R,k={}){return new i.Generator(k).stringify(g(R))}Ha.toSparql=h;function g(R){_(),R=Le(R);let k=m(R);return k.type==="group"?k.patterns[0]:k}Ha.toSparqlJs=g;function _(){f={project:!1,extend:[],group:[],aggregates:[],order:[]}}function m(R){switch(R.type!==c.EXTEND&&R.type!==c.ORDER_BY&&R.type!==c.GRAPH&&(f.project=!1),R.type){case c.EXPRESSION:return w(R);case c.ASK:return Oe(R,c.ASK);case c.BGP:return C(R);case c.CONSTRUCT:return B(R);case c.DESCRIBE:return Oe(R,c.DESCRIBE);case c.DISTINCT:return V(R);case c.EXTEND:return U(R);case c.FROM:return G(R);case c.FILTER:return J(R);case c.GRAPH:return ne(R);case c.GROUP:return W(R);case c.JOIN:return ee(R);case c.LEFT_JOIN:return se(R);case c.MINUS:return pe(R);case c.NOP:return{};case c.ORDER_BY:return le(R);case c.PATH:return Ee(R);case c.PATTERN:return Ae(R);case c.PROJECT:return Oe(R,c.PROJECT);case c.REDUCED:return te(R);case c.SERVICE:return v(R);case c.SLICE:return F(R);case c.UNION:return D(R);case c.VALUES:return L(R);case c.COMPOSITE_UPDATE:return Ce(R);case c.DELETE_INSERT:return He(R);case c.LOAD:return Je(R);case c.CLEAR:return Ye(R);case c.CREATE:return oe(R);case c.DROP:return X(R);case c.ADD:return he(R);case c.MOVE:return ve(R);case c.COPY:return ye(R)}throw new Error(`Unknown Operation type ${R.type}`)}function w(R){switch(R.expressionType){case d.AGGREGATE:return S(R);case d.EXISTENCE:return N(R);case d.NAMED:return j(R);case d.OPERATOR:return q(R);case d.TERM:return O(R);case d.WILDCARD:return I(R)}throw new Error(`Unknown Expression Operation type ${R.expressionType}`)}function T(R){switch(R.type){case c.ALT:return H(R);case c.INV:return Z(R);case c.LINK:return $(R);case c.NPS:return ue(R);case c.ONE_OR_MORE_PATH:return ae(R);case c.SEQ:return ce(R);case c.ZERO_OR_MORE_PATH:return Se(R);case c.ZERO_OR_ONE_PATH:return xe(R)}throw new Error(`Unknown Path type ${R.type}`)}function E(R){return(0,t.termToString)(R)}function S(R){const k={expression:w(R.expression),type:"aggregate",aggregation:R.aggregator,distinct:R.distinct};return R.separator&&(k.separator=R.separator),k}function N(R){return{type:"operation",operator:R.not?"notexists":"exists",args:[{type:"group",patterns:s.default.flatten([m(R.input)])}]}}function j(R){return{type:"functionCall",function:R.name,args:R.args.map(w)}}function q(R){if(R.operator==="desc"){const K={expression:w(R.args[0])};return K.descending=!0,K}const k={type:"operation",operator:R.operator,args:R.args.map(w)};return(k.operator==="in"||k.operator==="notin")&&(k.args=[k.args[0]].concat([k.args.slice(1)])),k}function O(R){return R.term}function I(R){return R.wildcard}function A(R){return Array.isArray(R)?R.length===1?R[0]:{type:"group",patterns:R}:R}function P(R){return R}function C(R){let k=R.patterns.map(Ae);return k.length===0?null:{type:"bgp",triples:k}}function B(R){return{type:"query",prefixes:{},queryType:"CONSTRUCT",template:R.template.map(Ae),where:s.default.flatten([m(R.input)])}}function V(R){let k=m(R.input);return k.patterns[0].distinct=!0,k}function U(R){return f.project?(f.extend.push(R),m(R.input)):s.default.flatten([m(R.input),{type:"bind",variable:R.variable,expression:w(R.expression)}])}function G(R){const k=m(R.input);let K=k;return k.type==="group"&&(K=k.patterns[0]),K.from={default:R.default,named:R.named},k}function J(R){return{type:"group",patterns:s.default.flatten([m(R.input),{type:"filter",expression:w(R.expression)}])}}function ne(R){return{type:"graph",patterns:s.default.flatten([m(R.input)]),name:R.name}}function W(R){const k=m(R.input),K=R.aggregates.map(P);return f.aggregates.push(...K),f.group.push(...R.variables),k}function ee(R){return s.default.flatten(R.input.map(m)).reduce((K,de)=>(de.type!=="bgp"||K.length==0||K[K.length-1].type!=="bgp"?K.push(de):K[K.length-1].triples.push(...de.triples),K),[])}function se(R){const k={type:"optional",patterns:[m(R.input[1])]};return R.expression&&k.patterns.push({type:"filter",expression:w(R.expression)}),k.patterns=s.default.flatten(k.patterns),s.default.flatten([m(R.input[0]),k])}function pe(R){let k=m(R.input[1]);return k.type==="group"&&(k=k.patterns),Array.isArray(k)||(k=[k]),s.default.flatten([m(R.input[0]),{type:"minus",patterns:k}])}function le(R){return f.order.push(...R.expressions),m(R.input)}function Ee(R){return{type:"bgp",triples:[{subject:R.subject,predicate:T(R.predicate),object:R.object}]}}function Ae(R){return{subject:R.subject,predicate:R.predicate,object:R.object}}function Ne(R,k){let K=s.default.isSimpleTerm(R)?E(R):R;if(typeof K=="string"){if(k[K])return k[K]}else if(Array.isArray(R))R=R.map(de=>Ne(de,k));else for(let de of Object.keys(R))R[de]=Ne(R[de],k);return R}function Oe(R,k){const K={type:"query",prefixes:{}},de=K;let ge;k===c.PROJECT?(K.queryType="SELECT",ge=R.variables):k===c.ASK?K.queryType="ASK":k===c.DESCRIBE&&(K.queryType="DESCRIBE",ge=R.terms);const Qe=f.extend,je=f.group,$e=f.aggregates,at=f.order;_(),f.project=!0;let fe=s.default.flatten([m(R.input)]);fe.length===1&&fe[0].type==="group"&&(fe=fe[0].patterns),K.where=fe;let Te={};for(let Me of f.aggregates)Te[E(Me.variable)]=w(Me);let qe={};for(let Me=f.extend.length-1;Me>=0;--Me){let st=f.extend[Me];qe[E(st.variable)]=Ne(w(st.expression),Te)}f.group.length>0&&(de.group=f.group.map(Me=>{let st=E(Me);if(qe[st]){let tt=qe[st];return delete qe[st],{variable:Me,expression:tt}}return{expression:Me}})),f.order.length>0&&(de.order=f.order.map(m).map(Me=>Me.descending?Me:{expression:Me})),ge&&(de.variables=ge.map(Me=>{let st=E(Me);if(qe[st]){let tt=qe[st];return delete qe[st],{variable:Me,expression:tt}}return Me}),de.variables.length===0&&(de.variables=[new i.Wildcard]));const it=Object.entries(qe);if(it.length>0){de.where=de.where||[];for(const[Me,st]of it)de.where.push({type:"bind",variable:(0,t.stringToTerm)(Me),expression:st})}if(K.where.length>0&&K.where[K.where.length-1].type==="filter"){const Me=K.where[K.where.length-1];be(Me,Object.keys(Te))&&(de.having=s.default.flatten([Ne(Me.expression,Te)]),K.where.splice(-1))}return f.extend=Qe,f.group=je,f.aggregates=$e,f.order=at,{type:"group",patterns:[de]}}function be(R,k){return s.default.isSimpleTerm(R)?k.indexOf(E(R))>=0:Array.isArray(R)?R.some(K=>be(K,k)):R===Object(R)?Object.keys(R).some(K=>be(R[K],k)):k.indexOf(R)>=0}function te(R){let k=m(R.input);return k.patterns[0].reduced=!0,k}function v(R){let k=m(R.input);return k.type==="group"&&(k=k.patterns),Array.isArray(k)||(k=[k]),{type:"service",name:R.name,silent:R.silent,patterns:k}}function F(R){let k=m(R.input),K=k;return k.type&&k.type==="group"&&(K=k.patterns[0]),R.start!==0&&(K.offset=R.start),R.length!==void 0&&(K.limit=R.length),k}function D(R){return{type:"union",patterns:R.input.map(m).map(A)}}function L(R){return{type:"values",values:R.bindings.map(k=>{let K={};for(let de of R.variables){let ge=`?${de.value}`;k[ge]?K[ge]=k[ge]:K[ge]=void 0}return K})}}function H(R){const k=R.input.map(T);return k.every(K=>"pathType"in K&&K.pathType==="!")?{type:"path",pathType:"!",items:[{type:"path",pathType:"|",items:s.default.flatten(k.map(K=>K.items))}]}:{type:"path",pathType:"|",items:k}}function Z(R){if(R.path.type===c.NPS){const k=R.path.iris.map(K=>({type:"path",pathType:"^",items:[K]}));return k.length<=1?{type:"path",pathType:"!",items:k}:{type:"path",pathType:"!",items:[{type:"path",pathType:"|",items:k}]}}return{type:"path",pathType:"^",items:[T(R.path)]}}function $(R){return R.iri}function ue(R){return R.iris.length<=1?{type:"path",pathType:"!",items:R.iris}:{type:"path",pathType:"!",items:[{type:"path",pathType:"|",items:R.iris}]}}function ae(R){return{type:"path",pathType:"+",items:[T(R.path)]}}function ce(R){return{type:"path",pathType:"/",items:R.input.map(T)}}function Se(R){return{type:"path",pathType:"*",items:[T(R.path)]}}function xe(R){return{type:"path",pathType:"?",items:[T(R.path)]}}function Ce(R){const k=R.updates.map(K=>m(K).updates[0]);return{prefixes:{},type:"update",updates:k}}function He(R){var k;let K=R.where,de;if(K&&K.type===c.FROM){let Qe=K;K=Qe.input,de={default:Qe.default,named:Qe.named}}const ge=[{updateType:"insertdelete",delete:Ie(R.delete||[]),insert:Ie(R.insert||[])}];if(de&&(ge[0].using=de),!K||K.type===c.BGP&&K.patterns.length===0)ge[0].where=[];else{const Qe=[];let je=m(Pe(K,Qe));if(je.type==="group"?ge[0].where=je.patterns:ge[0].where=[je],Qe.length>0){if(Qe.length!==1)throw new Error("This is unexpected and might indicate an error in graph handling for updates.");((k=Qe[0])===null||k===void 0?void 0:k.value)!==""&&(ge[0].where=[{type:"graph",patterns:ge[0].where,name:Qe[0]}])}}return!R.delete&&!R.where?(ge[0].updateType="insert",delete ge[0].delete,delete ge[0].where):!R.insert&&!R.where?(delete ge[0].insert,delete ge[0].where,R.delete.some(Qe=>Qe.subject.termType==="Variable"||Qe.predicate.termType==="Variable"||Qe.object.termType==="Variable")?ge[0].updateType="deletewhere":ge[0].updateType="delete"):!R.insert&&R.where&&R.where.type==="bgp"&&(0,r.isomorphic)(R.delete,R.where.patterns)&&(delete ge[0].where,ge[0].updateType="deletewhere"),{prefixes:{},type:"update",updates:ge}}function Je(R){const k=[{type:"load",silent:!!R.silent,source:R.source}];return R.destination&&(k[0].destination=R.destination),{prefixes:{},type:"update",updates:k}}function Ye(R){return Y(R,"clear")}function oe(R){return Y(R,"create")}function X(R){return Y(R,"drop")}function Y(R,k){const K=[{type:k,silent:!!R.silent}];return R.source==="DEFAULT"?K[0].graph={default:!0}:R.source==="NAMED"?K[0].graph={named:!0}:R.source==="ALL"?K[0].graph={all:!0}:K[0].graph={type:"graph",name:R.source},{prefixes:{},type:"update",updates:K}}function he(R){return re(R,"add")}function ve(R){return re(R,"move")}function ye(R){return re(R,"copy")}function re(R,k){const K=[{type:k,silent:!!R.silent}];return K[0].source=R.source==="DEFAULT"?{type:"graph",default:!0}:{type:"graph",name:R.source},K[0].destination=R.destination==="DEFAULT"?{type:"graph",default:!0}:{type:"graph",name:R.destination},{prefixes:{},type:"update",updates:K}}function Ie(R){if(!R)return[];const k={};return R.forEach(K=>{const de=K.graph.value;k[de]||(k[de]=[]),k[de].push(K)}),Object.keys(k).map(K=>K===""?{type:"bgp",triples:k[K].map(Ae)}:{type:"graph",triples:k[K].map(Ae),name:k[K][0].graph})}function Le(R){return Pe(R,[])}function Pe(R,k){if(Array.isArray(R))return R.map(je=>Pe(je,k));if(!R.type||R.type===c.DELETE_INSERT)return R;if((R.type===c.PATTERN||R.type===c.PATH)&&R.graph)return k.push(R.graph),R.graph.name!==""?R.type===c.PATTERN?p.createPattern(R.subject,R.predicate,R.object):p.createPath(R.subject,R.predicate,R.object):R;const K={},de={},ge={};for(let je of Object.keys(R)){const $e=[];if(K[je]=Pe(R[je],$e),$e.length>0){de[je]=$e;for(const at of $e)ge[at.value]=at}}const Qe=Object.keys(ge);if(Qe.length>0)if(Qe.length===1&&![c.PROJECT,c.SERVICE].includes(R.type))k.push(ge[Qe[0]]);else{if(R.type===c.BGP)return Fe(R,de.patterns);for(let je of Object.keys(de)){const $e=K[je];Array.isArray($e)?K[je]=$e.map((at,fe)=>de[je][0].value===""?at:p.createGraph(at,de[je][fe])):de[je][0].value!==""&&(K[je]=p.createGraph($e,de[je][0]))}}return K}function Fe(R,k){var K;const de={};for(let je=0;je<R.patterns.length;++je){const $e=R.patterns[je],at=k[je].value;de[at]=(K=de[at])!==null&&K!==void 0?K:{patterns:[],graph:k[je]},de[at].patterns.push($e)}let ge=[];for(const[je,{patterns:$e,graph:at}]of Object.entries(de)){const fe=p.createBgp($e);ge.push(je===""?fe:p.createGraph(fe,at))}let Qe=ge[0];for(let je=1;je<ge.length;++je)Qe=p.createJoin([Qe,ge[je]]);return Qe}return Ha}var QK;function Qt(){return QK||(QK=1,(function(n){var e=Mu&&Mu.__createBinding||(Object.create?(function(c,d,f,p){p===void 0&&(p=f);var h=Object.getOwnPropertyDescriptor(d,f);(!h||("get"in h?!d.__esModule:h.writable||h.configurable))&&(h={enumerable:!0,get:function(){return d[f]}}),Object.defineProperty(c,p,h)}):(function(c,d,f,p){p===void 0&&(p=f),c[p]=d[f]})),u=Mu&&Mu.__setModuleDefault||(Object.create?(function(c,d){Object.defineProperty(c,"default",{enumerable:!0,value:d})}):function(c,d){c.default=d}),a=Mu&&Mu.__importStar||function(c){if(c&&c.__esModule)return c;var d={};if(c!=null)for(var f in c)f!=="default"&&Object.prototype.hasOwnProperty.call(c,f)&&e(d,c,f);return u(d,c),d},r=Mu&&Mu.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(n,"__esModule",{value:!0}),n.Util=n.toSparqlJs=n.toSparql=n.Factory=n.Algebra=n.translate=void 0;const t=r(m6e());n.translate=t.default;const i=a(k4());n.Algebra=i;const o=r(aP());n.Factory=o.default;const l=E6e();Object.defineProperty(n,"toSparql",{enumerable:!0,get:function(){return l.toSparql}}),Object.defineProperty(n,"toSparqlJs",{enumerable:!0,get:function(){return l.toSparqlJs}});const s=r(Nq());n.Util=s.default})(Mu)),Mu}var wd={},b_={},VK;function A6e(){if(VK)return b_;VK=1,Object.defineProperty(b_,"__esModule",{value:!0}),b_.asTermType=void 0;function n(e){if(e==="namedNode"||e==="literal"||e==="blankNode"||e==="quad")return e}return b_.asTermType=n,b_}var g_={},HK;function O6e(){if(HK)return g_;HK=1,Object.defineProperty(g_,"__esModule",{value:!0}),g_.Variable=void 0;const n=ac();class e{constructor(a){this.expressionType=n.ExpressionType.Variable,this.name=a}}return g_.Variable=e,g_}var Ht={},qu={},kK;function ob(){if(kK)return qu;kK=1,Object.defineProperty(qu,"__esModule",{value:!0}),qu.SparqlOperator=qu.TypeURL=qu.typedLiteral=qu.TypeAlias=void 0;const n=Rr();var e;(function(i){i.SPARQL_NUMERIC="SPARQL_NUMERIC",i.SPARQL_STRINGLY="SPARQL_STRINGLY"})(e||(qu.TypeAlias=e={}));const u=new n.DataFactory;function a(i,o){return u.literal(i,u.namedNode(o))}qu.typedLiteral=a;var r;(function(i){i.XSD_ANY_URI="http://www.w3.org/2001/XMLSchema#anyURI",i.XSD_STRING="http://www.w3.org/2001/XMLSchema#string",i.RDF_LANG_STRING="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString",i.XSD_BOOLEAN="http://www.w3.org/2001/XMLSchema#boolean",i.XSD_DATE_TIME="http://www.w3.org/2001/XMLSchema#dateTime",i.XSD_DATE_TIME_STAMP="http://www.w3.org/2001/XMLSchema#dateTimeStamp",i.XSD_DATE="http://www.w3.org/2001/XMLSchema#date",i.XSD_G_MONTH="http://www.w3.org/2001/XMLSchema#gMonth",i.XSD_G_MONTHDAY="http://www.w3.org/2001/XMLSchema#gMonthDay",i.XSD_G_YEAR="http://www.w3.org/2001/XMLSchema#gYear",i.XSD_G_YEAR_MONTH="http://www.w3.org/2001/XMLSchema#gYearMonth",i.XSD_TIME="http://www.w3.org/2001/XMLSchema#time",i.XSD_G_DAY="http://www.w3.org/2001/XMLSchema#gDay",i.XSD_DECIMAL="http://www.w3.org/2001/XMLSchema#decimal",i.XSD_FLOAT="http://www.w3.org/2001/XMLSchema#float",i.XSD_DOUBLE="http://www.w3.org/2001/XMLSchema#double",i.XSD_INTEGER="http://www.w3.org/2001/XMLSchema#integer",i.XSD_NON_POSITIVE_INTEGER="http://www.w3.org/2001/XMLSchema#nonPositiveInteger",i.XSD_NEGATIVE_INTEGER="http://www.w3.org/2001/XMLSchema#negativeInteger",i.XSD_LONG="http://www.w3.org/2001/XMLSchema#long",i.XSD_INT="http://www.w3.org/2001/XMLSchema#int",i.XSD_SHORT="http://www.w3.org/2001/XMLSchema#short",i.XSD_BYTE="http://www.w3.org/2001/XMLSchema#byte",i.XSD_NON_NEGATIVE_INTEGER="http://www.w3.org/2001/XMLSchema#nonNegativeInteger",i.XSD_POSITIVE_INTEGER="http://www.w3.org/2001/XMLSchema#positiveInteger",i.XSD_UNSIGNED_LONG="http://www.w3.org/2001/XMLSchema#unsignedLong",i.XSD_UNSIGNED_INT="http://www.w3.org/2001/XMLSchema#unsignedInt",i.XSD_UNSIGNED_SHORT="http://www.w3.org/2001/XMLSchema#unsignedShort",i.XSD_UNSIGNED_BYTE="http://www.w3.org/2001/XMLSchema#unsignedByte",i.XSD_NORMALIZED_STRING="http://www.w3.org/2001/XMLSchema#normalizedString",i.XSD_TOKEN="http://www.w3.org/2001/XMLSchema#token",i.XSD_LANGUAGE="http://www.w3.org/2001/XMLSchema#language",i.XSD_NM_TOKEN="http://www.w3.org/2001/XMLSchema#NMTOKEN",i.XSD_NAME="http://www.w3.org/2001/XMLSchema#name",i.XSD_NC_NAME="http://www.w3.org/2001/XMLSchema#NCName",i.XSD_ENTITY="http://www.w3.org/2001/XMLSchema#ENTITY",i.XSD_ID="http://www.w3.org/2001/XMLSchema#ID",i.XSD_ID_REF="http://www.w3.org/2001/XMLSchema#IDREF",i.XSD_DURATION="http://www.w3.org/2001/XMLSchema#duration",i.XSD_YEAR_MONTH_DURATION="http://www.w3.org/2001/XMLSchema#yearMonthDuration",i.XSD_DAY_TIME_DURATION="http://www.w3.org/2001/XMLSchema#dayTimeDuration",i.XSD_UNTYPED_ATOMIC="http://www.w3.org/2001/XMLSchema#untypedAtomic"})(r||(qu.TypeURL=r={}));var t;return(function(i){i.NOT="!",i.UMINUS="uminus",i.UPLUS="uplus",i.LOGICAL_OR="||",i.LOGICAL_AND="&&",i.EQUAL="=",i.NOT_EQUAL="!=",i.LT="<",i.GT=">",i.LTE="<=",i.GTE=">=",i.SAME_TERM="sameterm",i.IN="in",i.NOT_IN="notin",i.MULTIPLICATION="*",i.DIVISION="/",i.ADDITION="+",i.SUBTRACTION="-",i.IS_IRI="isiri",i.IS_URI="isuri",i.IS_BLANK="isblank",i.IS_LITERAL="isliteral",i.IS_NUMERIC="isnumeric",i.STR="str",i.LANG="lang",i.DATATYPE="datatype",i.IRI="iri",i.URI="uri",i.BNODE="bnode",i.STRDT="strdt",i.STRLANG="strlang",i.UUID="uuid",i.STRUUID="struuid",i.STRLEN="strlen",i.SUBSTR="substr",i.UCASE="ucase",i.LCASE="lcase",i.STRSTARTS="strstarts",i.STRENDS="strends",i.CONTAINS="contains",i.STRBEFORE="strbefore",i.STRAFTER="strafter",i.ENCODE_FOR_URI="encode_for_uri",i.CONCAT="concat",i.LANG_MATCHES="langmatches",i.REGEX="regex",i.REPLACE="replace",i.ABS="abs",i.ROUND="round",i.CEIL="ceil",i.FLOOR="floor",i.RAND="rand",i.NOW="now",i.YEAR="year",i.MONTH="month",i.DAY="day",i.HOURS="hours",i.MINUTES="minutes",i.SECONDS="seconds",i.TIMEZONE="timezone",i.TZ="tz",i.MD5="md5",i.SHA1="sha1",i.SHA256="sha256",i.SHA384="sha384",i.SHA512="sha512",i.TRIPLE="triple",i.SUBJECT="subject",i.PREDICATE="predicate",i.OBJECT="object",i.IS_TRIPLE="istriple",i.BOUND="bound",i.IF="if",i.COALESCE="coalesce"})(t||(qu.SparqlOperator=t={})),qu}var Yt={},zK;function n1(){if(zK)return Yt;zK=1,Object.defineProperty(Yt,"__esModule",{value:!0}),Yt.NoAggregator=Yt.ExtensionFunctionError=Yt.InvalidExpression=Yt.InvalidArity=Yt.UnexpectedError=Yt.ParseError=Yt.EmptyAggregateError=Yt.IncompatibleLanguageOperation=Yt.InvalidTimezoneCall=Yt.CastError=Yt.InvalidArgumentTypes=Yt.InError=Yt.CoalesceError=Yt.RDFEqualTypeError=Yt.EBVCoercionError=Yt.UnboundVariableError=Yt.InvalidLexicalForm=Yt.isExpressionError=Yt.ExpressionError=void 0;class n extends Error{}Yt.ExpressionError=n;function e(E){return E instanceof n}Yt.isExpressionError=e;class u extends n{constructor(S){super(`Invalid lexical form '${T(S)}'`),this.arg=S}}Yt.InvalidLexicalForm=u;class a extends n{constructor(S,N){super(`Unbound variable '${T(S)}'`),this.variable=S,this.bindings=N}}Yt.UnboundVariableError=a;class r extends n{constructor(S){super(`Cannot coerce term to EBV '${T(S)}'`),this.arg=S}}Yt.EBVCoercionError=r;class t extends n{constructor(S){super("Equality test for literals with unsupported datatypes"),this.args=S}}Yt.RDFEqualTypeError=t;class i extends n{constructor(S){super("All COALESCE arguments threw errors"),this.errors=S}}Yt.CoalesceError=i;class o extends n{constructor(S){super(`Some argument to IN errorred and none where equal. ${S.map(N=>`(${N.toString()}) `).join("and ")}`),this.errors=S}}Yt.InError=o;class l extends n{constructor(S,N){super(`Argument types not valid for operator: '${T(N)}' with '${T(S)}`),this.args=S,this.op=N}}Yt.InvalidArgumentTypes=l;class s extends n{constructor(S,N){super(`Invalid cast: '${T(S)}' to '${T(N)}'`),this.arg=S}}Yt.CastError=s;class c extends n{constructor(S){super(`TIMEZONE call on ${S} which has no timezone`),this.dateString=S}}Yt.InvalidTimezoneCall=c;class d extends n{constructor(S,N){super(`Operation on incompatible language literals '${T(S)}' and '${T(N)}'`),this.arg1=S,this.arg2=N}}Yt.IncompatibleLanguageOperation=d;class f extends n{constructor(){super("Empty aggregate expression")}}Yt.EmptyAggregateError=f;class p extends n{constructor(S,N){super(`Failed to parse "${S}" as ${N}.`)}}Yt.ParseError=p;class h extends Error{constructor(S,N){super(`Programmer Error '${S}'`),this.payload=N}}Yt.UnexpectedError=h;class g extends Error{constructor(S,N){super(`The number of args does not match the arity of the operator '${T(N)}'.`),this.args=S,this.op=N}}Yt.InvalidArity=g;class _ extends Error{constructor(S){super(`Invalid SPARQL Expression '${T(S)}'`)}}Yt.InvalidExpression=_;class m extends Error{constructor(S,N){N instanceof Error?super(`Error thrown in ${S}: ${N.message}${N.stack?`
${N.stack}`:""}`):super(`Error thrown in ${S}`)}}Yt.ExtensionFunctionError=m;class w extends Error{constructor(S){super(`Aggregate expression ${T(S)} found, but no aggregate hook provided.`)}}Yt.NoAggregator=w;function T(E){return JSON.stringify(E)}return Yt}var Bu={},GK;function x6e(){if(GK)return Bu;GK=1,Object.defineProperty(Bu,"__esModule",{value:!0}),Bu.serializeDuration=Bu.serializeTime=Bu.serializeDate=Bu.serializeDateTime=void 0;function n(i,o=2){return i.toLocaleString(void 0,{minimumIntegerDigits:o,useGrouping:!1})}function e(i){return`${a({year:i.year,month:i.month,day:i.day})}T${r(i)}`}Bu.serializeDateTime=e;function u(i){return i.zoneHours===void 0||i.zoneMinutes===void 0?"":i.zoneHours===0&&i.zoneMinutes===0?"Z":`${i.zoneHours>=0?`+${n(i.zoneHours)}`:n(i.zoneHours)}:${n(Math.abs(i.zoneMinutes))}`}function a(i){return`${n(i.year,4)}-${n(i.month)}-${n(i.day)}${u(i)}`}Bu.serializeDate=a;function r(i){return`${n(i.hours)}:${n(i.minutes)}:${n(i.seconds)}${u(i)}`}Bu.serializeTime=r;function t(i,o="PT0S"){if(!Object.values(i).some(_=>(_||0)!==0))return o;const l=Object.values(i).some(_=>(_||0)<0)?"-":"",s=i.year?`${Math.abs(i.year)}Y`:"",c=i.month?`${Math.abs(i.month)}M`:"",d=i.day?`${Math.abs(i.day)}D`:"",f=`${l}P${s}${c}${d}`;if(!(i.hours||i.minutes||i.seconds))return f;const p=i.hours?`${Math.abs(i.hours)}H`:"",h=i.minutes?`${Math.abs(i.minutes)}M`:"",g=i.seconds?`${Math.abs(i.seconds)}S`:"";return`${f}T${p}${h}${g}`}return Bu.serializeDuration=t,Bu}var Bj={},cn={},v_={},$K;function Y_e(){if($K)return v_;$K=1,Object.defineProperty(v_,"__esModule",{value:!0}),v_.OverloadTree=void 0;const n=a1(),e=iP();let u=class i7{constructor(r,t){this.identifier=r,this.implementation=void 0,this.generalOverloads=Object.create(null),this.literalOverLoads=[],this.depth=t??0,this.promotionCount=void 0}getSubtree(r){const t=(0,e.asGeneralType)(r);if(t)return this.generalOverloads[t];for(const[i,o]of this.literalOverLoads)if(r===i)return o}getImplementationExact(r){let t=this;for(const i of r)if(t=t.getSubtree(i),!t)return;return t.implementation}search(r,t,i){let o=i[this.identifier],l=0;for(;l<r.length&&o?.cache;){const d=r[l],f=(0,n.isLiteralTermExpression)(d);o=o.cache[f?f.dataType:d.termType],l++}if(l===r.length&&o?.func)return o.func;const s=[],c=0;if(r.length===0)return this.implementation;for(s.push(...this.getSubTreeWithArg(r[c],t).map(d=>({node:d,index:c+1})));s.length>0;){const{index:d,node:f}=s.pop();if(d===r.length&&f.implementation)return this.addToCache(i,r,f.implementation),f.implementation;s.push(...f.getSubTreeWithArg(r[d],t).map(p=>({node:p,index:d+1})))}}addToCache(r,t,i){function o(s,c){return c in s||(s[c]={}),s[c]}let l=o(r,this.identifier);for(const s of t){const c=(0,n.isLiteralTermExpression)(s),d=c?c.dataType:s.termType;l.cache=l.cache??{},l=o(l.cache,d)}l.func=i}addOverload(r,t){this._addOverload([...r],t,0)}_addOverload(r,t,i){const[o,...l]=r;if(!o){(this.promotionCount===void 0||i<=this.promotionCount)&&(this.promotionCount=i,this.implementation=t);return}let s=this.getSubtree(o);if(!s){const c=new i7(this.identifier,this.depth+1),d=(0,e.asGeneralType)(o);d&&(this.generalOverloads[d]=c);const f=(0,e.asOverrideType)(o);f&&this.literalOverLoads.push([f,c]),s=c}if(s._addOverload(l,t,i),e.typePromotion[o])for(const c of e.typePromotion[o])this.addPromotedOverload(c.typeToPromote,t,c.conversionFunction,l,i)}addPromotedOverload(r,t,i,o,l){let s=this.getSubtree(r);if(!s){const c=new i7(this.identifier,this.depth+1);this.literalOverLoads.push([r,c]),s=c}s._addOverload(o,c=>d=>t(c)([...d.slice(0,this.depth),i(d[this.depth]),...d.slice(this.depth+1,d.length)]),l+1)}getSubTreeWithArg(r,t){const i=[],o=(0,n.isLiteralTermExpression)(r);if(this.generalOverloads.term&&i.push(this.generalOverloads.term),this.generalOverloads[r.termType]&&i.push(this.generalOverloads[r.termType]),o){const l=(0,e.asKnownLiteralType)(o.dataType);let s;l?s=e.superTypeDictTable[l]:s=(0,e.getSuperTypes)(o.dataType,t);const c=this.literalOverLoads.filter(([d,f])=>d in s).map(([d,f])=>[s[d],f]);c.sort(([d,f],[p,h])=>d-p),i.push(...c.map(([d,f])=>f))}return i}};return v_.OverloadTree=u,v_}var XK;function Z_e(){if(XK)return cn;XK=1,Object.defineProperty(cn,"__esModule",{value:!0}),cn.expressionToVar=cn.dateTime=cn.langString=cn.string=cn.double=cn.float=cn.decimal=cn.integer=cn.bool=cn.Builder=cn.declare=void 0;const n=lt(),e=a1(),u=a1(),a=ob(),r=ob(),t=n1(),i=Y_e();function o(w){return new l(w)}cn.declare=o;class l{constructor(T){this.overloadTree=new i.OverloadTree(T),this.collected=!1}collect(){if(this.collected)throw new Error("Builders can only be collected once!");return this.collected=!0,this.overloadTree}static wrapInvalidLexicalProtected(T){return E=>S=>{for(const[N,j]of S.entries())if(j instanceof u.NonLexicalLiteral)throw new t.InvalidLexicalForm(S[N].toRDF(E.context.getSafe(n.KeysInitQuery.dataFactory)));return T(E)(S)}}set(T,E,S=!0){return this.overloadTree.addOverload(T,S?l.wrapInvalidLexicalProtected(E):E),this}copy({from:T,to:E}){const S=this.overloadTree.getImplementationExact(T);if(!S)throw new t.UnexpectedError("Tried to copy implementation, but types not found",{from:T,to:E});return this.set(E,S)}onUnary(T,E,S=!0){return this.set([T],N=>([j])=>E(N)(j),S)}onUnaryTyped(T,E,S=!0){return this.set([T],N=>([j])=>E(N)(j.typedValue),S)}onBinary(T,E,S=!0){return this.set(T,N=>([j,q])=>E(N)(j,q),S)}onBinaryTyped(T,E,S=!0){return this.set(T,N=>([j,q])=>E(N)(j.typedValue,q.typedValue),S)}onTernaryTyped(T,E,S=!0){return this.set(T,N=>([j,q,O])=>E(N)(j.typedValue,q.typedValue,O.typedValue),S)}onTernary(T,E,S=!0){return this.set(T,N=>([j,q,O])=>E(N)(j,q,O),S)}onQuaternaryTyped(T,E,S=!0){return this.set(T,N=>([j,q,O,I])=>E(N)(j.typedValue,q.typedValue,O.typedValue,I.typedValue),S)}onTerm1(T,E=!1){return this.set(["term"],S=>([N])=>T(S)(N),E)}onTerm3(T){return this.set(["term","term","term"],E=>([S,N,j])=>T(E)(S,N,j))}onQuad1(T){return this.set(["quad"],E=>([S])=>T(E)(S))}onLiteral1(T,E=!0){return this.set(["literal"],S=>([N])=>T(S)(N),E)}onBoolean1(T,E=!0){return this.set([a.TypeURL.XSD_BOOLEAN],S=>([N])=>T(S)(N),E)}onBoolean1Typed(T,E=!0){return this.set([a.TypeURL.XSD_BOOLEAN],S=>([N])=>T(S)(N.typedValue),E)}onString1(T,E=!0){return this.set([a.TypeURL.XSD_STRING],S=>([N])=>T(S)(N),E)}onString1Typed(T,E=!0){return this.set([a.TypeURL.XSD_STRING],S=>([N])=>T(S)(N.typedValue),E)}onLangString1(T,E=!0){return this.set([a.TypeURL.RDF_LANG_STRING],S=>([N])=>T(S)(N),E)}onStringly1(T,E=!0){return this.set([a.TypeAlias.SPARQL_STRINGLY],S=>([N])=>T(S)(N),E)}onStringly1Typed(T,E=!0){return this.set([a.TypeAlias.SPARQL_STRINGLY],S=>([N])=>T(S)(N.typedValue),E)}onNumeric1(T,E=!0){return this.set([a.TypeAlias.SPARQL_NUMERIC],S=>([N])=>T(S)(N),E)}onDateTime1(T,E=!0){return this.set([a.TypeURL.XSD_DATE_TIME],S=>([N])=>T(S)(N),E)}numericConverter(T,E=!0){const S=N=>j=>T(N)(j.typedValue);return this.onUnary(r.TypeURL.XSD_INTEGER,N=>j=>c(S(N)(j)),E).onUnary(r.TypeURL.XSD_DECIMAL,N=>j=>d(S(N)(j)),E).onUnary(r.TypeURL.XSD_FLOAT,N=>j=>f(S(N)(j)),E).onUnary(r.TypeURL.XSD_DOUBLE,N=>j=>p(S(N)(j)),E)}arithmetic(T,E=!0){const S=N=>(j,q)=>T(N)(j.typedValue,q.typedValue);return this.onBinary([r.TypeURL.XSD_INTEGER,r.TypeURL.XSD_INTEGER],N=>(j,q)=>c(S(N)(j,q)),E).onBinary([r.TypeURL.XSD_DECIMAL,r.TypeURL.XSD_DECIMAL],N=>(j,q)=>d(S(N)(j,q)),E).onBinary([r.TypeURL.XSD_FLOAT,r.TypeURL.XSD_FLOAT],N=>(j,q)=>f(S(N)(j,q)),E).onBinary([r.TypeURL.XSD_DOUBLE,r.TypeURL.XSD_DOUBLE],N=>(j,q)=>p(S(N)(j,q)),E)}numberTest(T){return this.numeric(E=>([S,N])=>{const j=T(E)(S.typedValue,N.typedValue);return s(j)})}stringTest(T,E=!0){return this.set([a.TypeURL.XSD_STRING,a.TypeURL.XSD_STRING],S=>([N,j])=>{const q=T(S)(N.typedValue,j.typedValue);return s(q)},E)}booleanTest(T,E=!0){return this.set([a.TypeURL.XSD_BOOLEAN,a.TypeURL.XSD_BOOLEAN],S=>([N,j])=>{const q=T(S)(N.typedValue,j.typedValue);return s(q)},E)}dateTimeTest(T,E=!0){return this.set([a.TypeURL.XSD_DATE_TIME,a.TypeURL.XSD_DATE_TIME],S=>([N,j])=>{const q=T(S)(N.typedValue,j.typedValue);return s(q)},E)}numeric(T){return this.set([a.TypeAlias.SPARQL_NUMERIC,a.TypeAlias.SPARQL_NUMERIC],T)}}cn.Builder=l;function s(w){return new e.BooleanLiteral(w)}cn.bool=s;function c(w){return new e.IntegerLiteral(w)}cn.integer=c;function d(w){return new e.DecimalLiteral(w)}cn.decimal=d;function f(w){return new e.FloatLiteral(w)}cn.float=f;function p(w){return new e.DoubleLiteral(w)}cn.double=p;function h(w){return new e.StringLiteral(w)}cn.string=h;function g(w,T){return new e.LangStringLiteral(w,T)}cn.langString=g;function _(w,T){return new e.DateTimeLiteral(w,T)}cn.dateTime=_;function m(w,T){return w.variable(T.name.slice(1))}return cn.expressionToVar=m,cn}var KK;function iP(){return KK||(KK=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.typePromotion=n.isSubTypeOf=n.getSuperTypeDict=n.isInternalSubType=n.asGeneralType=n.asOverrideType=n.asKnownLiteralType=n.asTypeAlias=n.typeAliasCheck=n.extensionTableInit=n.getSuperTypes=n.superTypeDictTable=n.extensionTableInput=void 0;const e=a1(),u=Z_e(),a=ob();n.extensionTableInput={[a.TypeURL.XSD_DATE_TIME_STAMP]:a.TypeURL.XSD_DATE_TIME,[a.TypeURL.XSD_DAY_TIME_DURATION]:a.TypeURL.XSD_DURATION,[a.TypeURL.XSD_YEAR_MONTH_DURATION]:a.TypeURL.XSD_DURATION,[a.TypeURL.RDF_LANG_STRING]:a.TypeAlias.SPARQL_STRINGLY,[a.TypeURL.XSD_STRING]:a.TypeAlias.SPARQL_STRINGLY,[a.TypeURL.XSD_NORMALIZED_STRING]:a.TypeURL.XSD_STRING,[a.TypeURL.XSD_TOKEN]:a.TypeURL.XSD_NORMALIZED_STRING,[a.TypeURL.XSD_LANGUAGE]:a.TypeURL.XSD_TOKEN,[a.TypeURL.XSD_NM_TOKEN]:a.TypeURL.XSD_TOKEN,[a.TypeURL.XSD_NAME]:a.TypeURL.XSD_TOKEN,[a.TypeURL.XSD_NC_NAME]:a.TypeURL.XSD_NAME,[a.TypeURL.XSD_ENTITY]:a.TypeURL.XSD_NC_NAME,[a.TypeURL.XSD_ID]:a.TypeURL.XSD_NC_NAME,[a.TypeURL.XSD_ID_REF]:a.TypeURL.XSD_NC_NAME,[a.TypeURL.XSD_UNTYPED_ATOMIC]:a.TypeURL.XSD_STRING,[a.TypeURL.XSD_DOUBLE]:a.TypeAlias.SPARQL_NUMERIC,[a.TypeURL.XSD_FLOAT]:a.TypeAlias.SPARQL_NUMERIC,[a.TypeURL.XSD_DECIMAL]:a.TypeAlias.SPARQL_NUMERIC,[a.TypeURL.XSD_INTEGER]:a.TypeURL.XSD_DECIMAL,[a.TypeURL.XSD_NON_POSITIVE_INTEGER]:a.TypeURL.XSD_INTEGER,[a.TypeURL.XSD_NEGATIVE_INTEGER]:a.TypeURL.XSD_NON_POSITIVE_INTEGER,[a.TypeURL.XSD_LONG]:a.TypeURL.XSD_INTEGER,[a.TypeURL.XSD_INT]:a.TypeURL.XSD_LONG,[a.TypeURL.XSD_SHORT]:a.TypeURL.XSD_INT,[a.TypeURL.XSD_BYTE]:a.TypeURL.XSD_SHORT,[a.TypeURL.XSD_NON_NEGATIVE_INTEGER]:a.TypeURL.XSD_INTEGER,[a.TypeURL.XSD_POSITIVE_INTEGER]:a.TypeURL.XSD_NON_NEGATIVE_INTEGER,[a.TypeURL.XSD_UNSIGNED_LONG]:a.TypeURL.XSD_NON_NEGATIVE_INTEGER,[a.TypeURL.XSD_UNSIGNED_INT]:a.TypeURL.XSD_UNSIGNED_LONG,[a.TypeURL.XSD_UNSIGNED_SHORT]:a.TypeURL.XSD_UNSIGNED_INT,[a.TypeURL.XSD_UNSIGNED_BYTE]:a.TypeURL.XSD_UNSIGNED_SHORT,[a.TypeURL.XSD_DATE_TIME]:"term",[a.TypeURL.XSD_BOOLEAN]:"term",[a.TypeURL.XSD_DATE]:"term",[a.TypeURL.XSD_G_MONTH]:"term",[a.TypeURL.XSD_G_MONTHDAY]:"term",[a.TypeURL.XSD_G_YEAR]:"term",[a.TypeURL.XSD_G_YEAR_MONTH]:"term",[a.TypeURL.XSD_TIME]:"term",[a.TypeURL.XSD_G_DAY]:"term",[a.TypeURL.XSD_DURATION]:"term",[a.TypeAlias.SPARQL_NUMERIC]:"term",[a.TypeAlias.SPARQL_STRINGLY]:"term",[a.TypeURL.XSD_ANY_URI]:"term"},n.superTypeDictTable=Object.create(null);function r(g,_){const m=_.cache.get(g);if(m)return m;const w=_.discoverer(g);if(w==="term"){const S=Object.create(null);return S.__depth=0,S[g]=0,_.cache.set(g,S),S}let T;const E=s(w);return E?T={...n.superTypeDictTable[E]}:T={...r(w,_)},T.__depth++,T[g]=T.__depth,_.cache.set(g,T),T}n.getSuperTypes=r;function t(){for(const[g,_]of Object.entries(n.extensionTableInput)){const m=g;n.superTypeDictTable[m]||i(m,_,n.superTypeDictTable)}}n.extensionTableInit=t,t();function i(g,_,m){if(_==="term"||_===void 0){const w=Object.create(null);w.__depth=0,w[g]=0,m[g]=w;return}m[_]||i(_,n.extensionTableInput[_],m),m[g]={...m[_],[g]:m[_].__depth+1,__depth:m[_].__depth+1}}n.typeAliasCheck=Object.create(null);function o(){for(const g of Object.values(a.TypeAlias))n.typeAliasCheck[g]=!0}o();function l(g){if(g in n.typeAliasCheck)return g}n.asTypeAlias=l;function s(g){if(g in n.superTypeDictTable)return g}n.asKnownLiteralType=s;function c(g){if(s(g)??g==="term")return g}n.asOverrideType=c;function d(g){if(g==="term"||(0,e.asTermType)(g))return g}n.asGeneralType=d;function f(g,_){return g!=="term"&&n.superTypeDictTable[g]&&n.superTypeDictTable[g][_]!==void 0}n.isInternalSubType=f;function p(g,_){const m=s(g);return m?n.superTypeDictTable[m]:r(g,_)}n.getSuperTypeDict=p;function h(g,_,m){return g==="term"?!1:p(g,m)[_]!==void 0}n.isSubTypeOf=h,n.typePromotion={[a.TypeURL.XSD_STRING]:[{typeToPromote:a.TypeURL.XSD_ANY_URI,conversionFunction:g=>(0,u.string)(g.str())}],[a.TypeURL.XSD_DOUBLE]:[{typeToPromote:a.TypeURL.XSD_FLOAT,conversionFunction:g=>(0,u.double)(g.typedValue)},{typeToPromote:a.TypeURL.XSD_DECIMAL,conversionFunction:g=>(0,u.double)(g.typedValue)}],[a.TypeURL.XSD_FLOAT]:[{typeToPromote:a.TypeURL.XSD_DECIMAL,conversionFunction:g=>(0,u.float)(g.typedValue)}]}})(Bj)),Bj}var JK;function R6e(){if(JK)return Ht;JK=1,Object.defineProperty(Ht,"__esModule",{value:!0}),Ht.isNonLexicalLiteral=Ht.NonLexicalLiteral=Ht.YearMonthDurationLiteral=Ht.DayTimeDurationLiteral=Ht.DurationLiteral=Ht.DateLiteral=Ht.TimeLiteral=Ht.DateTimeLiteral=Ht.StringLiteral=Ht.LangStringLiteral=Ht.BooleanLiteral=Ht.DoubleLiteral=Ht.FloatLiteral=Ht.DecimalLiteral=Ht.IntegerLiteral=Ht.NumericLiteral=Ht.Literal=Ht.isLiteralTermExpression=Ht.DefaultGraph=Ht.Quad=Ht.BlankNode=Ht.NamedNode=Ht.Term=void 0;const n=ac(),e=ob(),u=ob(),a=n1(),r=x6e(),t=iP();class i{constructor(){this.expressionType=n.ExpressionType.Term}str(){throw new a.InvalidArgumentTypes([this],e.SparqlOperator.STR)}coerceEBV(){throw new a.EBVCoercionError(this)}}Ht.Term=i;class o extends i{constructor(B){super(),this.value=B,this.termType="namedNode"}toRDF(B){return B.namedNode(this.value)}str(){return this.value}}Ht.NamedNode=o;class l extends i{constructor(B){super(),this.termType="blankNode",this.value=B}toRDF(B){return typeof this.value=="string"?B.blankNode(this.value):this.value}}Ht.BlankNode=l;class s extends i{constructor(B,V,U,G){super(),this.subject=B,this.predicate=V,this.object=U,this.graph=G,this.termType="quad"}toRDF(B){return B.quad(this.subject.toRDF(B),this.predicate.toRDF(B),this.object.toRDF(B),this.graph.toRDF(B))}str(){return`Quad: [${this.subject.str()}, ${this.predicate.str()}, ${this.object.str()}, ${this.graph.str()}]`}}Ht.Quad=s;class c extends i{constructor(){super(),this.termType="defaultGraph"}toRDF(B){return B.defaultGraph()}str(){return"DefaultGraph"}}Ht.DefaultGraph=c;function d(C){if(C.termType==="literal")return C}Ht.isLiteralTermExpression=d;class f extends i{constructor(B,V,U,G){super(),this.typedValue=B,this.dataType=V,this.strValue=U,this.language=G,this.termType="literal"}toRDF(B){return B.literal(this.strValue??this.str(),this.language??B.namedNode(this.dataType))}str(){return this.strValue??this.typedValue.toString()}}Ht.Literal=f;class p extends f{constructor(B,V,U,G){super(B,V,U,G),this.typedValue=B,this.strValue=U,this.language=G}coerceEBV(){return!!this.typedValue}toRDF(B){const V=super.toRDF(B);return Number.isFinite(this.typedValue)||(V.value=V.value.replace("Infinity","INF")),V}str(){return this.strValue??this.specificFormatter(this.typedValue)}}Ht.NumericLiteral=p;class h extends p{constructor(B,V,U,G){super(B,V??u.TypeURL.XSD_INTEGER,U,G),this.typedValue=B,this.strValue=U,this.language=G}specificFormatter(B){return B.toFixed(0)}}Ht.IntegerLiteral=h;class g extends p{constructor(B,V,U,G){super(B,V??u.TypeURL.XSD_DECIMAL,U,G),this.typedValue=B,this.strValue=U,this.language=G}specificFormatter(B){return B.toString()}}Ht.DecimalLiteral=g;class _ extends p{constructor(B,V,U,G){super(B,V??u.TypeURL.XSD_FLOAT,U,G),this.typedValue=B,this.strValue=U,this.language=G}specificFormatter(B){return B.toString()}}Ht.FloatLiteral=_;class m extends p{constructor(B,V,U,G){super(B,V??u.TypeURL.XSD_DOUBLE,U,G),this.typedValue=B,this.strValue=U,this.language=G}specificFormatter(B){if(!Number.isFinite(B))return B>0?"INF":B<0?"-INF":"NaN";const V=B.toExponential(),[U,G]=V.split("e"),J=G.replace(/\+/u,"");return`${U.includes(".")?U:`${U}.0`}E${J}`}}Ht.DoubleLiteral=m;class w extends f{constructor(B,V,U){super(B,U??u.TypeURL.XSD_BOOLEAN,V),this.typedValue=B,this.strValue=V}coerceEBV(){return this.typedValue}}Ht.BooleanLiteral=w;class T extends f{constructor(B,V,U){super(B,U??u.TypeURL.RDF_LANG_STRING,B,V),this.typedValue=B,this.language=V}coerceEBV(){return this.str().length>0}}Ht.LangStringLiteral=T;class E extends f{constructor(B,V){super(B,V??u.TypeURL.XSD_STRING,B),this.typedValue=B}coerceEBV(){return this.str().length>0}}Ht.StringLiteral=E;class S extends f{constructor(B,V,U){super(B,U??u.TypeURL.XSD_DATE_TIME,V),this.typedValue=B,this.strValue=V}str(){return(0,r.serializeDateTime)(this.typedValue)}}Ht.DateTimeLiteral=S;class N extends f{constructor(B,V,U){super(B,U??u.TypeURL.XSD_TIME,V),this.typedValue=B,this.strValue=V}str(){return(0,r.serializeTime)(this.typedValue)}}Ht.TimeLiteral=N;class j extends f{constructor(B,V,U){super(B,U??u.TypeURL.XSD_DATE,V),this.typedValue=B,this.strValue=V}str(){return(0,r.serializeDate)(this.typedValue)}}Ht.DateLiteral=j;class q extends f{constructor(B,V,U){super(B,U??u.TypeURL.XSD_DURATION,V),this.typedValue=B,this.strValue=V}str(){return(0,r.serializeDuration)(this.typedValue)}}Ht.DurationLiteral=q;class O extends q{constructor(B,V,U){super(B,V,U??u.TypeURL.XSD_DAY_TIME_DURATION),this.typedValue=B,this.strValue=V}}Ht.DayTimeDurationLiteral=O;class I extends f{constructor(B,V,U){super(B,U??u.TypeURL.XSD_YEAR_MONTH_DURATION,V),this.typedValue=B,this.strValue=V}str(){return(0,r.serializeDuration)(this.typedValue,"P0M")}}Ht.YearMonthDurationLiteral=I;class A extends f{constructor(B,V,U,G,J){super({toString:()=>"undefined"},V,G,J),this.openWorldType=U}coerceEBV(){if((0,t.isSubTypeOf)(this.dataType,u.TypeURL.XSD_BOOLEAN,this.openWorldType)||(0,t.isSubTypeOf)(this.dataType,u.TypeAlias.SPARQL_NUMERIC,this.openWorldType))return!1;throw new a.EBVCoercionError(this)}toRDF(B){return B.literal(this.str(),this.language??B.namedNode(this.dataType))}str(){return this.strValue??""}}Ht.NonLexicalLiteral=A;function P(C){if(C instanceof A)return C}return Ht.isNonLexicalLiteral=P,Ht}var __={},WK;function N6e(){if(WK)return __;WK=1,Object.defineProperty(__,"__esModule",{value:!0}),__.Operator=void 0;const n=ac();let e=class{constructor(a,r,t){this.name=a,this.args=r,this.apply=t,this.expressionType=n.ExpressionType.Operator}};return __.Operator=e,__}var T_={},YK;function I6e(){if(YK)return T_;YK=1,Object.defineProperty(T_,"__esModule",{value:!0}),T_.Aggregate=void 0;const n=ac();let e=class{constructor(a,r){this.name=a,this.expression=r,this.expressionType=n.ExpressionType.Aggregate}};return T_.Aggregate=e,T_}var w_={},ZK;function D6e(){if(ZK)return w_;ZK=1,Object.defineProperty(w_,"__esModule",{value:!0}),w_.Existence=void 0;const n=ac();let e=class{constructor(a){this.expression=a,this.expressionType=n.ExpressionType.Existence}};return w_.Existence=e,w_}var eJ;function a1(){return eJ||(eJ=1,(function(n){var e=wd&&wd.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=wd&&wd.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(A6e(),n),u(O6e(),n),u(R6e(),n),u(N6e(),n),u(I6e(),n),u(D6e(),n)})(wd)),wd}var Wn={},vr={},tJ;function h4(){if(tJ)return vr;tJ=1,Object.defineProperty(vr,"__esModule",{value:!0}),vr.extractTimeZone=vr.extractRawTimeZone=vr.dayTimeDurationsToSeconds=vr.yearMonthDurationsToMonths=vr.trimToDayTimeDuration=vr.trimToYearMonthDuration=vr.toUTCDate=vr.toJSDate=vr.negateDuration=vr.toDateTimeRepresentation=vr.defaultedDateTimeRepresentation=vr.simplifyDurationRepresentation=vr.defaultedDurationRepresentation=vr.defaultedYearMonthDurationRepresentation=vr.defaultedDayTimeDurationRepresentation=void 0;function n(g){return{day:g.day??0,hours:g.hours??0,minutes:g.minutes??0,seconds:g.seconds??0}}vr.defaultedDayTimeDurationRepresentation=n;function e(g){return{year:g.year??0,month:g.month??0}}vr.defaultedYearMonthDurationRepresentation=e;function u(g){return{...n(g),...e(g)}}vr.defaultedDurationRepresentation=u;function a(g){const _=u(g),m={},w=_.year+Math.trunc(_.month/12);w&&(m.year=w,_.month%=12),_.month&&(m.month=_.month);const T=_.day+Math.trunc(_.hours/24)+Math.trunc(_.minutes/1440)+Math.trunc(_.seconds/(1440*60));T&&(m.day=T,_.hours%=24,_.minutes%=1440,_.seconds%=1440*60);const E=_.hours+Math.trunc(_.minutes/60)+Math.trunc(_.seconds/3600);E&&(m.hours=E,_.minutes%=60,_.seconds%=3600);const S=_.minutes+Math.trunc(_.seconds/60);return S&&(m.minutes=S,_.seconds%=60),_.seconds&&(m.seconds=_.seconds),m}vr.simplifyDurationRepresentation=a;function r(g){return{...g,day:g.day??1,hours:g.hours??0,month:g.month??1,year:g.year??0,seconds:g.seconds??0,minutes:g.minutes??0}}vr.defaultedDateTimeRepresentation=r;function t({date:g,timeZone:_}){return{year:g.getFullYear(),month:g.getMonth()+1,day:g.getDate(),hours:g.getHours(),minutes:g.getMinutes(),seconds:g.getSeconds(),zoneHours:_.zoneHours,zoneMinutes:_.zoneMinutes}}vr.toDateTimeRepresentation=t;function i(g){return{year:g.year===void 0?void 0:-1*g.year,month:g.month===void 0?void 0:-1*g.month,day:g.day===void 0?void 0:-1*g.day,hours:g.hours===void 0?void 0:-1*g.hours,minutes:g.minutes===void 0?void 0:-1*g.minutes,seconds:g.seconds===void 0?void 0:-1*g.seconds}}vr.negateDuration=i;function o(g){const _=new Date(g.year,g.month-1,g.day,g.hours,g.minutes,Math.trunc(g.seconds),g.seconds%1*1e3);return g.year>=0&&g.year<100&&_.setFullYear(_.getFullYear()-1900),_}vr.toJSDate=o;function l(g,_){const m=o(r(g)),w=m.getTimezoneOffset(),T=g.zoneHours??_.zoneHours,E=g.zoneMinutes??_.zoneMinutes;return new Date(m.getTime()-(w+T*60+E)*60*1e3)}vr.toUTCDate=l;function s(g){return{year:g.year,month:g.month}}vr.trimToYearMonthDuration=s;function c(g){return{day:g.day,hours:g.hours,minutes:g.minutes,seconds:g.seconds}}vr.trimToDayTimeDuration=c;function d(g){return g.year*12+g.month}vr.yearMonthDurationsToMonths=d;function f(g){return((g.day*24+g.hours)*60+g.minutes)*60+g.seconds}vr.dayTimeDurationsToSeconds=f;function p(g){return/(Z|([+-]\d\d:\d\d))?$/u.exec(g)[0]}vr.extractRawTimeZone=p;function h(g){return{zoneHours:g.getTimezoneOffset()/60,zoneMinutes:g.getTimezoneOffset()%60}}return vr.extractTimeZone=h,vr}var Ds={},rJ;function e2e(){if(rJ)return Ds;rJ=1,Object.defineProperty(Ds,"__esModule",{value:!0}),Ds.elapsedDuration=Ds.addDurationToDateTime=Ds.maximumDayInMonthFor=void 0;const n=h4();function e(t,i,o=0){const l=t-o,s=i-o,c=Math.floor(l/s);return{intDiv:c,remainder:t-c*s}}function u(t,i){const{intDiv:o,remainder:l}=e(i,13,1),s=t+o;return[1,3,5,7,8,10,12].includes(l)?31:[4,6,9,11].includes(l)?30:l===2&&(e(s,400).remainder===0||e(s,100).remainder!==0&&e(s,4).remainder===0)?29:28}Ds.maximumDayInMonthFor=u;function a(t,i){const o={...t};let l=e(t.month+i.month,13,1);for(o.month=l.remainder,o.year=t.year+i.year+l.intDiv,l=e(t.seconds+i.seconds,60),o.seconds=l.remainder,l=e(t.minutes+i.minutes+l.intDiv,60),o.minutes=l.remainder,l=e(t.hours+i.hours+l.intDiv,24),o.hours=l.remainder,o.day=t.day+i.day+l.intDiv;;){let s;if(o.day<1)o.day+=u(o.year,o.month-1),s=-1;else if(o.day>u(o.year,o.month))o.day-=u(o.year,o.month),s=1;else break;l=e(o.month+s,13,1),o.month=l.remainder,o.year+=l.intDiv}return o}Ds.addDurationToDateTime=a;function r(t,i,o){const l=(0,n.toUTCDate)(t,o),s=(0,n.toUTCDate)(i,o),c=l.getTime()-s.getTime();return{day:Math.floor(c/(1e3*60*60*24)),hours:Math.floor(c%(1e3*60*60*24)/(1e3*60*60)),minutes:Math.floor(c%(1e3*60*60)/(1e3*60)),seconds:c%(1e3*60)}}return Ds.elapsedDuration=r,Ds}var nJ;function u7(){if(nJ)return Wn;nJ=1,Object.defineProperty(Wn,"__esModule",{value:!0}),Wn.parseDayTimeDuration=Wn.parseYearMonthDuration=Wn.parseDuration=Wn.parseTime=Wn.parseDate=Wn.parseDateTime=Wn.parseXSDDecimal=Wn.parseXSDFloat=void 0;const n=h4(),e=n1(),u=e2e();function a(p){const h=Number(p);return Number.isNaN(h)?p==="NaN"?Number.NaN:p==="INF"||p==="+INF"?Number.POSITIVE_INFINITY:p==="-INF"?Number.NEGATIVE_INFINITY:void 0:h}Wn.parseXSDFloat=a;function r(p){const h=Number(p);return Number.isNaN(h)?void 0:h}Wn.parseXSDDecimal=r;function t(p){const[h,g]=p.split("T");if(g===void 0)throw new e.ParseError(p,"dateTime");return{...o(h),...l(g)}}Wn.parseDateTime=t;function i(p){if(p==="")return{zoneHours:void 0,zoneMinutes:void 0};if(p==="Z")return{zoneHours:0,zoneMinutes:0};const g=p.replaceAll(/^([+|-])(\d\d):(\d\d)$/gu,"$11!$2!$3").split("!").map(Number);return{zoneHours:g[0]*g[1],zoneMinutes:g[0]*g[2]}}function o(p){const h=p.replaceAll(/^(-)?([123456789]*\d{4})-(\d\d)-(\d\d)(Z|([+-]\d\d:\d\d))?$/gu,"$11!$2!$3!$4!$5");if(h===p)throw new e.ParseError(p,"date");const g=h.split("!"),_=g.slice(0,-1).map(Number),m={year:_[0]*_[1],month:_[2],day:_[3],...i(g[4])};if(!(m.month>=1&&m.month<=12)||!(m.day>=1&&m.day<=(0,u.maximumDayInMonthFor)(m.year,m.month)))throw new e.ParseError(p,"date");return m}Wn.parseDate=o;function l(p){const h=p.replaceAll(/^(\d\d):(\d\d):(\d\d(\.\d+)?)(Z|([+-]\d\d:\d\d))?$/gu,"$1!$2!$3!$5");if(h===p)throw new e.ParseError(p,"time");const g=h.split("!"),_=g.slice(0,-1).map(Number),m={hours:_[0],minutes:_[1],seconds:_[2],...i(g[3])};if(m.seconds>=60||m.minutes>=60||m.hours>24||m.hours===24&&(m.minutes!==0||m.seconds!==0))throw new e.ParseError(p,"time");return m}function s(p){const h=l(p);return h.hours%=24,h}Wn.parseTime=s;function c(p){const[h,g]=p.split("T"),_=h.replaceAll(/^(-)?P(\d+Y)?(\d+M)?(\d+D)?$/gu,"$11S!$2!$3!$4");if(_===h)throw new e.ParseError(p,"duration");const m=_.split("!");if(g!==void 0){const E=g.replaceAll(/^(\d+H)?(\d+M)?(\d+(\.\d+)?S)?$/gu,"$1!$2!$3");if(g===""||g===E)throw new e.ParseError(p,"duration");m.push(...E.split("!"))}const w=m.map(E=>E.slice(0,-1));if(!w.slice(1).some(Boolean))throw new e.ParseError(p,"duration");const T=Number(w[0]);return(0,n.simplifyDurationRepresentation)({year:w[1]?T*Number(w[1]):void 0,month:w[2]?T*Number(w[2]):void 0,day:w[3]?T*Number(w[3]):void 0,hours:w[4]?T*Number(w[4]):void 0,minutes:w[5]?T*Number(w[5]):void 0,seconds:w[6]?T*Number(w[6]):void 0})}Wn.parseDuration=c;function d(p){const h=c(p);if(["hours","minutes","seconds","day"].some(g=>!!h[g]))throw new e.ParseError(p,"yearMonthDuration");return h}Wn.parseYearMonthDuration=d;function f(p){const h=c(p);if(["year","month"].some(g=>!!h[g]))throw new e.ParseError(p,"dayTimeDuration");return h}return Wn.parseDayTimeDuration=f,Wn}var aJ;function F6e(){if(aJ)return Kv;aJ=1,Object.defineProperty(Kv,"__esModule",{value:!0}),Kv.TermTransformer=void 0;const n=Xt(),e=Qt(),u=a1(),a=ob(),r=n1(),t=n1(),i=u7(),o=u7(),l=iP();let s=class{constructor(d){this.superTypeProvider=d}transformRDFTermUnsafe(d){return this.transformTerm({term:d,type:e.Algebra.types.EXPRESSION,expressionType:e.Algebra.expressionTypes.TERM})}transformTerm(d){if(!d.term)throw new r.InvalidExpression(d);switch(d.term.termType){case"Variable":return new u.Variable(n.termToString(d.term));case"Literal":return this.transformLiteral(d.term);case"NamedNode":return new u.NamedNode(d.term.value);case"BlankNode":return new u.BlankNode(d.term.value);case"Quad":return new u.Quad(this.transformRDFTermUnsafe(d.term.subject),this.transformRDFTermUnsafe(d.term.predicate),this.transformRDFTermUnsafe(d.term.object),this.transformRDFTermUnsafe(d.term.graph));case"DefaultGraph":return new u.DefaultGraph}}transformLiteral(d){if(!d.datatype||[null,void 0,""].includes(d.datatype.value))return d.language?new u.LangStringLiteral(d.value,d.language):new u.StringLiteral(d.value);const f=d.datatype.value,p=(0,l.getSuperTypeDict)(f,this.superTypeProvider);try{if(a.TypeURL.XSD_STRING in p)return new u.StringLiteral(d.value,f);if(a.TypeURL.RDF_LANG_STRING in p)return new u.LangStringLiteral(d.value,d.language);if(a.TypeURL.XSD_YEAR_MONTH_DURATION in p)return new u.YearMonthDurationLiteral((0,i.parseYearMonthDuration)(d.value),d.value,f);if(a.TypeURL.XSD_DAY_TIME_DURATION in p)return new u.DayTimeDurationLiteral((0,i.parseDayTimeDuration)(d.value),d.value,f);if(a.TypeURL.XSD_DURATION in p)return new u.DurationLiteral((0,i.parseDuration)(d.value),d.value,f);if(a.TypeURL.XSD_DATE_TIME in p){const _=new Date(d.value);return Number.isNaN(_.getTime())?new u.NonLexicalLiteral(void 0,f,this.superTypeProvider,d.value):new u.DateTimeLiteral((0,i.parseDateTime)(d.value),d.value,f)}if(a.TypeURL.XSD_DATE in p)return new u.DateLiteral((0,i.parseDate)(d.value),d.value,f);if(a.TypeURL.XSD_TIME in p)return new u.TimeLiteral((0,i.parseTime)(d.value),d.value,f);if(a.TypeURL.XSD_BOOLEAN in p)return d.value!=="true"&&d.value!=="false"&&d.value!=="1"&&d.value!=="0"?new u.NonLexicalLiteral(void 0,f,this.superTypeProvider,d.value):new u.BooleanLiteral(d.value==="true"||d.value==="1",d.value);if(a.TypeURL.XSD_DECIMAL in p){const _=o.parseXSDDecimal(d.value);return _===void 0?new u.NonLexicalLiteral(void 0,f,this.superTypeProvider,d.value):a.TypeURL.XSD_INTEGER in p?new u.IntegerLiteral(_,f,d.value):new u.DecimalLiteral(_,f,d.value)}const h=a.TypeURL.XSD_FLOAT in p,g=a.TypeURL.XSD_DOUBLE in p;if(h||g){const _=o.parseXSDFloat(d.value);return _===void 0?new u.NonLexicalLiteral(void 0,f,this.superTypeProvider,d.value):h?new u.FloatLiteral(_,f,d.value):new u.DoubleLiteral(_,f,d.value)}return new u.Literal(d.value,f,d.value)}catch(h){if((0,t.isExpressionError)(h))return new u.NonLexicalLiteral(void 0,f,this.superTypeProvider,d.value);throw h}}};return Kv.TermTransformer=s,Kv}var S_={},E_={},iJ;function wb(){if(iJ)return E_;iJ=1,Object.defineProperty(E_,"__esModule",{value:!0}),E_.LRUCache=void 0;const n=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,e=new Set,u=typeof process=="object"&&process?process:{},a=(f,p,h,g)=>{typeof u.emitWarning=="function"?u.emitWarning(f,p,h,g):console.error(`[${h}] ${p}: ${f}`)};let r=globalThis.AbortController,t=globalThis.AbortSignal;if(typeof r>"u"){t=class{onabort;_onabort=[];reason;aborted=!1;addEventListener(g,_){this._onabort.push(_)}},r=class{constructor(){p()}signal=new t;abort(g){if(!this.signal.aborted){this.signal.reason=g,this.signal.aborted=!0;for(const _ of this.signal._onabort)_(g);this.signal.onabort?.(g)}}};let f=u.env?.LRU_CACHE_IGNORE_AC_WARNING!=="1";const p=()=>{f&&(f=!1,a("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",p))}}const i=f=>!e.has(f),o=f=>f&&f===Math.floor(f)&&f>0&&isFinite(f),l=f=>o(f)?f<=Math.pow(2,8)?Uint8Array:f<=Math.pow(2,16)?Uint16Array:f<=Math.pow(2,32)?Uint32Array:f<=Number.MAX_SAFE_INTEGER?s:null:null;class s extends Array{constructor(p){super(p),this.fill(0)}}class c{heap;length;static#s=!1;static create(p){const h=l(p);if(!h)return[];c.#s=!0;const g=new c(p,h);return c.#s=!1,g}constructor(p,h){if(!c.#s)throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new h(p),this.length=0}push(p){this.heap[this.length++]=p}pop(){return this.heap[--this.length]}}class d{#s;#d;#y;#m;#I;#D;ttl;ttlResolution;ttlAutopurge;updateAgeOnGet;updateAgeOnHas;allowStale;noDisposeOnSet;noUpdateTTL;maxEntrySize;sizeCalculation;noDeleteOnFetchRejection;noDeleteOnStaleGet;allowStaleOnFetchAbort;allowStaleOnFetchRejection;ignoreFetchAbort;#a;#b;#n;#r;#e;#c;#f;#o;#i;#g;#u;#v;#_;#p;#T;#O;#l;static unsafeExposeInternals(p){return{starts:p.#_,ttls:p.#p,sizes:p.#v,keyMap:p.#n,keyList:p.#r,valList:p.#e,next:p.#c,prev:p.#f,get head(){return p.#o},get tail(){return p.#i},free:p.#g,isBackgroundFetch:h=>p.#t(h),backgroundFetch:(h,g,_,m)=>p.#j(h,g,_,m),moveToTail:h=>p.#N(h),indexes:h=>p.#w(h),rindexes:h=>p.#S(h),isStale:h=>p.#h(h)}}get max(){return this.#s}get maxSize(){return this.#d}get calculatedSize(){return this.#b}get size(){return this.#a}get fetchMethod(){return this.#I}get memoMethod(){return this.#D}get dispose(){return this.#y}get disposeAfter(){return this.#m}constructor(p){const{max:h=0,ttl:g,ttlResolution:_=1,ttlAutopurge:m,updateAgeOnGet:w,updateAgeOnHas:T,allowStale:E,dispose:S,disposeAfter:N,noDisposeOnSet:j,noUpdateTTL:q,maxSize:O=0,maxEntrySize:I=0,sizeCalculation:A,fetchMethod:P,memoMethod:C,noDeleteOnFetchRejection:B,noDeleteOnStaleGet:V,allowStaleOnFetchRejection:U,allowStaleOnFetchAbort:G,ignoreFetchAbort:J}=p;if(h!==0&&!o(h))throw new TypeError("max option must be a nonnegative integer");const ne=h?l(h):Array;if(!ne)throw new Error("invalid max value: "+h);if(this.#s=h,this.#d=O,this.maxEntrySize=I||this.#d,this.sizeCalculation=A,this.sizeCalculation){if(!this.#d&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(C!==void 0&&typeof C!="function")throw new TypeError("memoMethod must be a function if defined");if(this.#D=C,P!==void 0&&typeof P!="function")throw new TypeError("fetchMethod must be a function if specified");if(this.#I=P,this.#O=!!P,this.#n=new Map,this.#r=new Array(h).fill(void 0),this.#e=new Array(h).fill(void 0),this.#c=new ne(h),this.#f=new ne(h),this.#o=0,this.#i=0,this.#g=c.create(h),this.#a=0,this.#b=0,typeof S=="function"&&(this.#y=S),typeof N=="function"?(this.#m=N,this.#u=[]):(this.#m=void 0,this.#u=void 0),this.#T=!!this.#y,this.#l=!!this.#m,this.noDisposeOnSet=!!j,this.noUpdateTTL=!!q,this.noDeleteOnFetchRejection=!!B,this.allowStaleOnFetchRejection=!!U,this.allowStaleOnFetchAbort=!!G,this.ignoreFetchAbort=!!J,this.maxEntrySize!==0){if(this.#d!==0&&!o(this.#d))throw new TypeError("maxSize must be a positive integer if specified");if(!o(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.#Q()}if(this.allowStale=!!E,this.noDeleteOnStaleGet=!!V,this.updateAgeOnGet=!!w,this.updateAgeOnHas=!!T,this.ttlResolution=o(_)||_===0?_:1,this.ttlAutopurge=!!m,this.ttl=g||0,this.ttl){if(!o(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.#M()}if(this.#s===0&&this.ttl===0&&this.#d===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.#s&&!this.#d){const W="LRU_CACHE_UNBOUNDED";i(W)&&(e.add(W),a("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",W,d))}}getRemainingTTL(p){return this.#n.has(p)?1/0:0}#M(){const p=new s(this.#s),h=new s(this.#s);this.#p=p,this.#_=h,this.#C=(m,w,T=n.now())=>{if(h[m]=w!==0?T:0,p[m]=w,w!==0&&this.ttlAutopurge){const E=setTimeout(()=>{this.#h(m)&&this.#E(this.#r[m],"expire")},w+1);E.unref&&E.unref()}},this.#x=m=>{h[m]=p[m]!==0?n.now():0},this.#A=(m,w)=>{if(p[w]){const T=p[w],E=h[w];if(!T||!E)return;m.ttl=T,m.start=E,m.now=g||_();const S=m.now-E;m.remainingTTL=T-S}};let g=0;const _=()=>{const m=n.now();if(this.ttlResolution>0){g=m;const w=setTimeout(()=>g=0,this.ttlResolution);w.unref&&w.unref()}return m};this.getRemainingTTL=m=>{const w=this.#n.get(m);if(w===void 0)return 0;const T=p[w],E=h[w];if(!T||!E)return 1/0;const S=(g||_())-E;return T-S},this.#h=m=>{const w=h[m],T=p[m];return!!T&&!!w&&(g||_())-w>T}}#x=()=>{};#A=()=>{};#C=()=>{};#h=()=>!1;#Q(){const p=new s(this.#s);this.#b=0,this.#v=p,this.#R=h=>{this.#b-=p[h],p[h]=0},this.#L=(h,g,_,m)=>{if(this.#t(g))return 0;if(!o(_))if(m){if(typeof m!="function")throw new TypeError("sizeCalculation must be a function");if(_=m(g,h),!o(_))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return _},this.#F=(h,g,_)=>{if(p[h]=g,this.#d){const m=this.#d-p[h];for(;this.#b>m;)this.#P(!0)}this.#b+=p[h],_&&(_.entrySize=g,_.totalCalculatedSize=this.#b)}}#R=p=>{};#F=(p,h,g)=>{};#L=(p,h,g,_)=>{if(g||_)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0};*#w({allowStale:p=this.allowStale}={}){if(this.#a)for(let h=this.#i;!(!this.#q(h)||((p||!this.#h(h))&&(yield h),h===this.#o));)h=this.#f[h]}*#S({allowStale:p=this.allowStale}={}){if(this.#a)for(let h=this.#o;!(!this.#q(h)||((p||!this.#h(h))&&(yield h),h===this.#i));)h=this.#c[h]}#q(p){return p!==void 0&&this.#n.get(this.#r[p])===p}*entries(){for(const p of this.#w())this.#e[p]!==void 0&&this.#r[p]!==void 0&&!this.#t(this.#e[p])&&(yield[this.#r[p],this.#e[p]])}*rentries(){for(const p of this.#S())this.#e[p]!==void 0&&this.#r[p]!==void 0&&!this.#t(this.#e[p])&&(yield[this.#r[p],this.#e[p]])}*keys(){for(const p of this.#w()){const h=this.#r[p];h!==void 0&&!this.#t(this.#e[p])&&(yield h)}}*rkeys(){for(const p of this.#S()){const h=this.#r[p];h!==void 0&&!this.#t(this.#e[p])&&(yield h)}}*values(){for(const p of this.#w())this.#e[p]!==void 0&&!this.#t(this.#e[p])&&(yield this.#e[p])}*rvalues(){for(const p of this.#S())this.#e[p]!==void 0&&!this.#t(this.#e[p])&&(yield this.#e[p])}[Symbol.iterator](){return this.entries()}[Symbol.toStringTag]="LRUCache";find(p,h={}){for(const g of this.#w()){const _=this.#e[g],m=this.#t(_)?_.__staleWhileFetching:_;if(m!==void 0&&p(m,this.#r[g],this))return this.get(this.#r[g],h)}}forEach(p,h=this){for(const g of this.#w()){const _=this.#e[g],m=this.#t(_)?_.__staleWhileFetching:_;m!==void 0&&p.call(h,m,this.#r[g],this)}}rforEach(p,h=this){for(const g of this.#S()){const _=this.#e[g],m=this.#t(_)?_.__staleWhileFetching:_;m!==void 0&&p.call(h,m,this.#r[g],this)}}purgeStale(){let p=!1;for(const h of this.#S({allowStale:!0}))this.#h(h)&&(this.#E(this.#r[h],"expire"),p=!0);return p}info(p){const h=this.#n.get(p);if(h===void 0)return;const g=this.#e[h],_=this.#t(g)?g.__staleWhileFetching:g;if(_===void 0)return;const m={value:_};if(this.#p&&this.#_){const w=this.#p[h],T=this.#_[h];if(w&&T){const E=w-(n.now()-T);m.ttl=E,m.start=Date.now()}}return this.#v&&(m.size=this.#v[h]),m}dump(){const p=[];for(const h of this.#w({allowStale:!0})){const g=this.#r[h],_=this.#e[h],m=this.#t(_)?_.__staleWhileFetching:_;if(m===void 0||g===void 0)continue;const w={value:m};if(this.#p&&this.#_){w.ttl=this.#p[h];const T=n.now()-this.#_[h];w.start=Math.floor(Date.now()-T)}this.#v&&(w.size=this.#v[h]),p.unshift([g,w])}return p}load(p){this.clear();for(const[h,g]of p){if(g.start){const _=Date.now()-g.start;g.start=n.now()-_}this.set(h,g.value,g)}}set(p,h,g={}){if(h===void 0)return this.delete(p),this;const{ttl:_=this.ttl,start:m,noDisposeOnSet:w=this.noDisposeOnSet,sizeCalculation:T=this.sizeCalculation,status:E}=g;let{noUpdateTTL:S=this.noUpdateTTL}=g;const N=this.#L(p,h,g.size||0,T);if(this.maxEntrySize&&N>this.maxEntrySize)return E&&(E.set="miss",E.maxEntrySizeExceeded=!0),this.#E(p,"set"),this;let j=this.#a===0?void 0:this.#n.get(p);if(j===void 0)j=this.#a===0?this.#i:this.#g.length!==0?this.#g.pop():this.#a===this.#s?this.#P(!1):this.#a,this.#r[j]=p,this.#e[j]=h,this.#n.set(p,j),this.#c[this.#i]=j,this.#f[j]=this.#i,this.#i=j,this.#a++,this.#F(j,N,E),E&&(E.set="add"),S=!1;else{this.#N(j);const q=this.#e[j];if(h!==q){if(this.#O&&this.#t(q)){q.__abortController.abort(new Error("replaced"));const{__staleWhileFetching:O}=q;O!==void 0&&!w&&(this.#T&&this.#y?.(O,p,"set"),this.#l&&this.#u?.push([O,p,"set"]))}else w||(this.#T&&this.#y?.(q,p,"set"),this.#l&&this.#u?.push([q,p,"set"]));if(this.#R(j),this.#F(j,N,E),this.#e[j]=h,E){E.set="replace";const O=q&&this.#t(q)?q.__staleWhileFetching:q;O!==void 0&&(E.oldValue=O)}}else E&&(E.set="update")}if(_!==0&&!this.#p&&this.#M(),this.#p&&(S||this.#C(j,_,m),E&&this.#A(E,j)),!w&&this.#l&&this.#u){const q=this.#u;let O;for(;O=q?.shift();)this.#m?.(...O)}return this}pop(){try{for(;this.#a;){const p=this.#e[this.#o];if(this.#P(!0),this.#t(p)){if(p.__staleWhileFetching)return p.__staleWhileFetching}else if(p!==void 0)return p}}finally{if(this.#l&&this.#u){const p=this.#u;let h;for(;h=p?.shift();)this.#m?.(...h)}}}#P(p){const h=this.#o,g=this.#r[h],_=this.#e[h];return this.#O&&this.#t(_)?_.__abortController.abort(new Error("evicted")):(this.#T||this.#l)&&(this.#T&&this.#y?.(_,g,"evict"),this.#l&&this.#u?.push([_,g,"evict"])),this.#R(h),p&&(this.#r[h]=void 0,this.#e[h]=void 0,this.#g.push(h)),this.#a===1?(this.#o=this.#i=0,this.#g.length=0):this.#o=this.#c[h],this.#n.delete(g),this.#a--,h}has(p,h={}){const{updateAgeOnHas:g=this.updateAgeOnHas,status:_}=h,m=this.#n.get(p);if(m!==void 0){const w=this.#e[m];if(this.#t(w)&&w.__staleWhileFetching===void 0)return!1;if(this.#h(m))_&&(_.has="stale",this.#A(_,m));else return g&&this.#x(m),_&&(_.has="hit",this.#A(_,m)),!0}else _&&(_.has="miss");return!1}peek(p,h={}){const{allowStale:g=this.allowStale}=h,_=this.#n.get(p);if(_===void 0||!g&&this.#h(_))return;const m=this.#e[_];return this.#t(m)?m.__staleWhileFetching:m}#j(p,h,g,_){const m=h===void 0?void 0:this.#e[h];if(this.#t(m))return m;const w=new r,{signal:T}=g;T?.addEventListener("abort",()=>w.abort(T.reason),{signal:w.signal});const E={signal:w.signal,options:g,context:_},S=(A,P=!1)=>{const{aborted:C}=w.signal,B=g.ignoreFetchAbort&&A!==void 0;if(g.status&&(C&&!P?(g.status.fetchAborted=!0,g.status.fetchError=w.signal.reason,B&&(g.status.fetchAbortIgnored=!0)):g.status.fetchResolved=!0),C&&!B&&!P)return j(w.signal.reason);const V=O;return this.#e[h]===O&&(A===void 0?V.__staleWhileFetching?this.#e[h]=V.__staleWhileFetching:this.#E(p,"fetch"):(g.status&&(g.status.fetchUpdated=!0),this.set(p,A,E.options))),A},N=A=>(g.status&&(g.status.fetchRejected=!0,g.status.fetchError=A),j(A)),j=A=>{const{aborted:P}=w.signal,C=P&&g.allowStaleOnFetchAbort,B=C||g.allowStaleOnFetchRejection,V=B||g.noDeleteOnFetchRejection,U=O;if(this.#e[h]===O&&(!V||U.__staleWhileFetching===void 0?this.#E(p,"fetch"):C||(this.#e[h]=U.__staleWhileFetching)),B)return g.status&&U.__staleWhileFetching!==void 0&&(g.status.returnedStale=!0),U.__staleWhileFetching;if(U.__returned===U)throw A},q=(A,P)=>{const C=this.#I?.(p,m,E);C&&C instanceof Promise&&C.then(B=>A(B===void 0?void 0:B),P),w.signal.addEventListener("abort",()=>{(!g.ignoreFetchAbort||g.allowStaleOnFetchAbort)&&(A(void 0),g.allowStaleOnFetchAbort&&(A=B=>S(B,!0)))})};g.status&&(g.status.fetchDispatched=!0);const O=new Promise(q).then(S,N),I=Object.assign(O,{__abortController:w,__staleWhileFetching:m,__returned:void 0});return h===void 0?(this.set(p,I,{...E.options,status:void 0}),h=this.#n.get(p)):this.#e[h]=I,I}#t(p){if(!this.#O)return!1;const h=p;return!!h&&h instanceof Promise&&h.hasOwnProperty("__staleWhileFetching")&&h.__abortController instanceof r}async fetch(p,h={}){const{allowStale:g=this.allowStale,updateAgeOnGet:_=this.updateAgeOnGet,noDeleteOnStaleGet:m=this.noDeleteOnStaleGet,ttl:w=this.ttl,noDisposeOnSet:T=this.noDisposeOnSet,size:E=0,sizeCalculation:S=this.sizeCalculation,noUpdateTTL:N=this.noUpdateTTL,noDeleteOnFetchRejection:j=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:q=this.allowStaleOnFetchRejection,ignoreFetchAbort:O=this.ignoreFetchAbort,allowStaleOnFetchAbort:I=this.allowStaleOnFetchAbort,context:A,forceRefresh:P=!1,status:C,signal:B}=h;if(!this.#O)return C&&(C.fetch="get"),this.get(p,{allowStale:g,updateAgeOnGet:_,noDeleteOnStaleGet:m,status:C});const V={allowStale:g,updateAgeOnGet:_,noDeleteOnStaleGet:m,ttl:w,noDisposeOnSet:T,size:E,sizeCalculation:S,noUpdateTTL:N,noDeleteOnFetchRejection:j,allowStaleOnFetchRejection:q,allowStaleOnFetchAbort:I,ignoreFetchAbort:O,status:C,signal:B};let U=this.#n.get(p);if(U===void 0){C&&(C.fetch="miss");const G=this.#j(p,U,V,A);return G.__returned=G}else{const G=this.#e[U];if(this.#t(G)){const se=g&&G.__staleWhileFetching!==void 0;return C&&(C.fetch="inflight",se&&(C.returnedStale=!0)),se?G.__staleWhileFetching:G.__returned=G}const J=this.#h(U);if(!P&&!J)return C&&(C.fetch="hit"),this.#N(U),_&&this.#x(U),C&&this.#A(C,U),G;const ne=this.#j(p,U,V,A),ee=ne.__staleWhileFetching!==void 0&&g;return C&&(C.fetch=J?"stale":"refresh",ee&&J&&(C.returnedStale=!0)),ee?ne.__staleWhileFetching:ne.__returned=ne}}async forceFetch(p,h={}){const g=await this.fetch(p,h);if(g===void 0)throw new Error("fetch() returned undefined");return g}memo(p,h={}){const g=this.#D;if(!g)throw new Error("no memoMethod provided to constructor");const{context:_,forceRefresh:m,...w}=h,T=this.get(p,w);if(!m&&T!==void 0)return T;const E=g(p,T,{options:w,context:_});return this.set(p,E,w),E}get(p,h={}){const{allowStale:g=this.allowStale,updateAgeOnGet:_=this.updateAgeOnGet,noDeleteOnStaleGet:m=this.noDeleteOnStaleGet,status:w}=h,T=this.#n.get(p);if(T!==void 0){const E=this.#e[T],S=this.#t(E);return w&&this.#A(w,T),this.#h(T)?(w&&(w.get="stale"),S?(w&&g&&E.__staleWhileFetching!==void 0&&(w.returnedStale=!0),g?E.__staleWhileFetching:void 0):(m||this.#E(p,"expire"),w&&g&&(w.returnedStale=!0),g?E:void 0)):(w&&(w.get="hit"),S?E.__staleWhileFetching:(this.#N(T),_&&this.#x(T),E))}else w&&(w.get="miss")}#B(p,h){this.#f[h]=p,this.#c[p]=h}#N(p){p!==this.#i&&(p===this.#o?this.#o=this.#c[p]:this.#B(this.#f[p],this.#c[p]),this.#B(this.#i,p),this.#i=p)}delete(p){return this.#E(p,"delete")}#E(p,h){let g=!1;if(this.#a!==0){const _=this.#n.get(p);if(_!==void 0)if(g=!0,this.#a===1)this.#U(h);else{this.#R(_);const m=this.#e[_];if(this.#t(m)?m.__abortController.abort(new Error("deleted")):(this.#T||this.#l)&&(this.#T&&this.#y?.(m,p,h),this.#l&&this.#u?.push([m,p,h])),this.#n.delete(p),this.#r[_]=void 0,this.#e[_]=void 0,_===this.#i)this.#i=this.#f[_];else if(_===this.#o)this.#o=this.#c[_];else{const w=this.#f[_];this.#c[w]=this.#c[_];const T=this.#c[_];this.#f[T]=this.#f[_]}this.#a--,this.#g.push(_)}}if(this.#l&&this.#u?.length){const _=this.#u;let m;for(;m=_?.shift();)this.#m?.(...m)}return g}clear(){return this.#U("delete")}#U(p){for(const h of this.#S({allowStale:!0})){const g=this.#e[h];if(this.#t(g))g.__abortController.abort(new Error("deleted"));else{const _=this.#r[h];this.#T&&this.#y?.(g,_,p),this.#l&&this.#u?.push([g,_,p])}}if(this.#n.clear(),this.#e.fill(void 0),this.#r.fill(void 0),this.#p&&this.#_&&(this.#p.fill(0),this.#_.fill(0)),this.#v&&this.#v.fill(0),this.#o=0,this.#i=0,this.#g.length=0,this.#b=0,this.#a=0,this.#l&&this.#u){const h=this.#u;let g;for(;g=h?.shift();)this.#m?.(...g)}}}return E_.LRUCache=d,E_}var uJ;function P6e(){if(uJ)return S_;uJ=1,Object.defineProperty(S_,"__esModule",{value:!0}),S_.prepareEvaluatorActionContext=void 0;const n=lt(),e=wb(),u=h4();function a(r){let t=r;if(t.has(n.KeysInitQuery.extensionFunctionCreator)&&t.has(n.KeysInitQuery.extensionFunctions))throw new Error("Illegal simultaneous usage of extensionFunctionCreator and extensionFunctions in context");if(t.has(n.KeysInitQuery.extensionFunctionCreator))t=t.set(n.KeysExpressionEvaluator.extensionFunctionCreator,t.get(n.KeysInitQuery.extensionFunctionCreator));else if(t.has(n.KeysInitQuery.extensionFunctions)){const i=t.getSafe(n.KeysInitQuery.extensionFunctions);t=t.set(n.KeysExpressionEvaluator.extensionFunctionCreator,async o=>i[o.value])}else t=t.setDefault(n.KeysExpressionEvaluator.extensionFunctionCreator,async()=>{});return t=t.setDefault(n.KeysExpressionEvaluator.defaultTimeZone,(0,u.extractTimeZone)(t.getSafe(n.KeysInitQuery.queryTimestamp))),t=t.setDefault(n.KeysExpressionEvaluator.superTypeProvider,{cache:new e.LRUCache({max:1e3}),discoverer:()=>"term"}),t}return S_.prepareEvaluatorActionContext=a,S_}var oJ;function Xe(){return oJ||(oJ=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.LangStringLiteral=n.TimeLiteral=n.DurationLiteral=n.DateLiteral=n.DayTimeDurationLiteral=n.DateTimeLiteral=n.yearMonthDurationsToMonths=n.toUTCDate=n.toDateTimeRepresentation=n.negateDuration=n.extractRawTimeZone=n.defaultedYearMonthDurationRepresentation=n.defaultedDurationRepresentation=n.defaultedDayTimeDurationRepresentation=n.defaultedDateTimeRepresentation=n.dayTimeDurationsToSeconds=n.isSubTypeOf=n.SparqlOperator=n.TypeAlias=n.TypeURL=n.typedLiteral=n.InvalidArity=n.InvalidLexicalForm=n.ExtensionFunctionError=n.CastError=n.UnboundVariableError=n.NoAggregator=n.InError=n.CoalesceError=n.InvalidArgumentTypes=n.InvalidTimezoneCall=n.IncompatibleLanguageOperation=n.RDFEqualTypeError=n.EmptyAggregateError=n.isExpressionError=n.ExpressionError=n.Builder=n.expressionToVar=n.float=n.decimal=n.langString=n.dateTime=n.integer=n.double=n.string=n.bool=n.declare=n.prepareEvaluatorActionContext=n.OverloadTree=n.TermTransformer=void 0,n.trimToDayTimeDuration=n.trimToYearMonthDuration=n.parseDate=n.parseXSDFloat=n.parseXSDDecimal=n.parseYearMonthDuration=n.parseTime=n.parseDuration=n.parseDayTimeDuration=n.parseDateTime=n.elapsedDuration=n.addDurationToDateTime=n.isNonLexicalLiteral=n.StringLiteral=n.NonLexicalLiteral=n.FloatLiteral=n.IntegerLiteral=n.Literal=n.Existence=n.Aggregate=n.DoubleLiteral=n.DefaultGraph=n.DecimalLiteral=n.BlankNode=n.BooleanLiteral=n.NumericLiteral=n.Variable=n.NamedNode=n.Operator=n.Quad=n.YearMonthDurationLiteral=n.Term=void 0;var e=F6e();Object.defineProperty(n,"TermTransformer",{enumerable:!0,get:function(){return e.TermTransformer}});var u=Y_e();Object.defineProperty(n,"OverloadTree",{enumerable:!0,get:function(){return u.OverloadTree}});var a=P6e();Object.defineProperty(n,"prepareEvaluatorActionContext",{enumerable:!0,get:function(){return a.prepareEvaluatorActionContext}});var r=Z_e();Object.defineProperty(n,"declare",{enumerable:!0,get:function(){return r.declare}}),Object.defineProperty(n,"bool",{enumerable:!0,get:function(){return r.bool}}),Object.defineProperty(n,"string",{enumerable:!0,get:function(){return r.string}}),Object.defineProperty(n,"double",{enumerable:!0,get:function(){return r.double}}),Object.defineProperty(n,"integer",{enumerable:!0,get:function(){return r.integer}}),Object.defineProperty(n,"dateTime",{enumerable:!0,get:function(){return r.dateTime}}),Object.defineProperty(n,"langString",{enumerable:!0,get:function(){return r.langString}}),Object.defineProperty(n,"decimal",{enumerable:!0,get:function(){return r.decimal}}),Object.defineProperty(n,"float",{enumerable:!0,get:function(){return r.float}}),Object.defineProperty(n,"expressionToVar",{enumerable:!0,get:function(){return r.expressionToVar}}),Object.defineProperty(n,"Builder",{enumerable:!0,get:function(){return r.Builder}});var t=n1();Object.defineProperty(n,"ExpressionError",{enumerable:!0,get:function(){return t.ExpressionError}}),Object.defineProperty(n,"isExpressionError",{enumerable:!0,get:function(){return t.isExpressionError}}),Object.defineProperty(n,"EmptyAggregateError",{enumerable:!0,get:function(){return t.EmptyAggregateError}}),Object.defineProperty(n,"RDFEqualTypeError",{enumerable:!0,get:function(){return t.RDFEqualTypeError}}),Object.defineProperty(n,"IncompatibleLanguageOperation",{enumerable:!0,get:function(){return t.IncompatibleLanguageOperation}}),Object.defineProperty(n,"InvalidTimezoneCall",{enumerable:!0,get:function(){return t.InvalidTimezoneCall}}),Object.defineProperty(n,"InvalidArgumentTypes",{enumerable:!0,get:function(){return t.InvalidArgumentTypes}}),Object.defineProperty(n,"CoalesceError",{enumerable:!0,get:function(){return t.CoalesceError}}),Object.defineProperty(n,"InError",{enumerable:!0,get:function(){return t.InError}}),Object.defineProperty(n,"NoAggregator",{enumerable:!0,get:function(){return t.NoAggregator}}),Object.defineProperty(n,"UnboundVariableError",{enumerable:!0,get:function(){return t.UnboundVariableError}}),Object.defineProperty(n,"CastError",{enumerable:!0,get:function(){return t.CastError}}),Object.defineProperty(n,"ExtensionFunctionError",{enumerable:!0,get:function(){return t.ExtensionFunctionError}}),Object.defineProperty(n,"InvalidLexicalForm",{enumerable:!0,get:function(){return t.InvalidLexicalForm}}),Object.defineProperty(n,"InvalidArity",{enumerable:!0,get:function(){return t.InvalidArity}});var i=ob();Object.defineProperty(n,"typedLiteral",{enumerable:!0,get:function(){return i.typedLiteral}}),Object.defineProperty(n,"TypeURL",{enumerable:!0,get:function(){return i.TypeURL}}),Object.defineProperty(n,"TypeAlias",{enumerable:!0,get:function(){return i.TypeAlias}}),Object.defineProperty(n,"SparqlOperator",{enumerable:!0,get:function(){return i.SparqlOperator}});var o=iP();Object.defineProperty(n,"isSubTypeOf",{enumerable:!0,get:function(){return o.isSubTypeOf}});var l=h4();Object.defineProperty(n,"dayTimeDurationsToSeconds",{enumerable:!0,get:function(){return l.dayTimeDurationsToSeconds}}),Object.defineProperty(n,"defaultedDateTimeRepresentation",{enumerable:!0,get:function(){return l.defaultedDateTimeRepresentation}}),Object.defineProperty(n,"defaultedDayTimeDurationRepresentation",{enumerable:!0,get:function(){return l.defaultedDayTimeDurationRepresentation}}),Object.defineProperty(n,"defaultedDurationRepresentation",{enumerable:!0,get:function(){return l.defaultedDurationRepresentation}}),Object.defineProperty(n,"defaultedYearMonthDurationRepresentation",{enumerable:!0,get:function(){return l.defaultedYearMonthDurationRepresentation}}),Object.defineProperty(n,"extractRawTimeZone",{enumerable:!0,get:function(){return l.extractRawTimeZone}}),Object.defineProperty(n,"negateDuration",{enumerable:!0,get:function(){return l.negateDuration}}),Object.defineProperty(n,"toDateTimeRepresentation",{enumerable:!0,get:function(){return l.toDateTimeRepresentation}}),Object.defineProperty(n,"toUTCDate",{enumerable:!0,get:function(){return l.toUTCDate}}),Object.defineProperty(n,"yearMonthDurationsToMonths",{enumerable:!0,get:function(){return l.yearMonthDurationsToMonths}});var s=a1();Object.defineProperty(n,"DateTimeLiteral",{enumerable:!0,get:function(){return s.DateTimeLiteral}}),Object.defineProperty(n,"DayTimeDurationLiteral",{enumerable:!0,get:function(){return s.DayTimeDurationLiteral}}),Object.defineProperty(n,"DateLiteral",{enumerable:!0,get:function(){return s.DateLiteral}}),Object.defineProperty(n,"DurationLiteral",{enumerable:!0,get:function(){return s.DurationLiteral}}),Object.defineProperty(n,"TimeLiteral",{enumerable:!0,get:function(){return s.TimeLiteral}}),Object.defineProperty(n,"LangStringLiteral",{enumerable:!0,get:function(){return s.LangStringLiteral}}),Object.defineProperty(n,"Term",{enumerable:!0,get:function(){return s.Term}}),Object.defineProperty(n,"YearMonthDurationLiteral",{enumerable:!0,get:function(){return s.YearMonthDurationLiteral}}),Object.defineProperty(n,"Quad",{enumerable:!0,get:function(){return s.Quad}}),Object.defineProperty(n,"Operator",{enumerable:!0,get:function(){return s.Operator}}),Object.defineProperty(n,"NamedNode",{enumerable:!0,get:function(){return s.NamedNode}}),Object.defineProperty(n,"Variable",{enumerable:!0,get:function(){return s.Variable}}),Object.defineProperty(n,"NumericLiteral",{enumerable:!0,get:function(){return s.NumericLiteral}}),Object.defineProperty(n,"BooleanLiteral",{enumerable:!0,get:function(){return s.BooleanLiteral}}),Object.defineProperty(n,"BlankNode",{enumerable:!0,get:function(){return s.BlankNode}}),Object.defineProperty(n,"DecimalLiteral",{enumerable:!0,get:function(){return s.DecimalLiteral}}),Object.defineProperty(n,"DefaultGraph",{enumerable:!0,get:function(){return s.DefaultGraph}}),Object.defineProperty(n,"DoubleLiteral",{enumerable:!0,get:function(){return s.DoubleLiteral}}),Object.defineProperty(n,"Aggregate",{enumerable:!0,get:function(){return s.Aggregate}}),Object.defineProperty(n,"Existence",{enumerable:!0,get:function(){return s.Existence}}),Object.defineProperty(n,"Literal",{enumerable:!0,get:function(){return s.Literal}}),Object.defineProperty(n,"IntegerLiteral",{enumerable:!0,get:function(){return s.IntegerLiteral}}),Object.defineProperty(n,"FloatLiteral",{enumerable:!0,get:function(){return s.FloatLiteral}}),Object.defineProperty(n,"NonLexicalLiteral",{enumerable:!0,get:function(){return s.NonLexicalLiteral}}),Object.defineProperty(n,"StringLiteral",{enumerable:!0,get:function(){return s.StringLiteral}}),Object.defineProperty(n,"isNonLexicalLiteral",{enumerable:!0,get:function(){return s.isNonLexicalLiteral}});var c=e2e();Object.defineProperty(n,"addDurationToDateTime",{enumerable:!0,get:function(){return c.addDurationToDateTime}}),Object.defineProperty(n,"elapsedDuration",{enumerable:!0,get:function(){return c.elapsedDuration}});var d=u7();Object.defineProperty(n,"parseDateTime",{enumerable:!0,get:function(){return d.parseDateTime}}),Object.defineProperty(n,"parseDayTimeDuration",{enumerable:!0,get:function(){return d.parseDayTimeDuration}}),Object.defineProperty(n,"parseDuration",{enumerable:!0,get:function(){return d.parseDuration}}),Object.defineProperty(n,"parseTime",{enumerable:!0,get:function(){return d.parseTime}}),Object.defineProperty(n,"parseYearMonthDuration",{enumerable:!0,get:function(){return d.parseYearMonthDuration}}),Object.defineProperty(n,"parseXSDDecimal",{enumerable:!0,get:function(){return d.parseXSDDecimal}}),Object.defineProperty(n,"parseXSDFloat",{enumerable:!0,get:function(){return d.parseXSDFloat}}),Object.defineProperty(n,"parseDate",{enumerable:!0,get:function(){return d.parseDate}});var f=h4();Object.defineProperty(n,"trimToYearMonthDuration",{enumerable:!0,get:function(){return f.trimToYearMonthDuration}}),Object.defineProperty(n,"trimToDayTimeDuration",{enumerable:!0,get:function(){return f.trimToDayTimeDuration}})})(Rj)),Rj}var sJ;function t2e(){if(sJ)return yd;sJ=1,Object.defineProperty(yd,"__esModule",{value:!0}),yd.TermFunctionBase=yd.ExpressionFunctionBase=void 0;const n=lt(),e=Xe();class u{constructor({arity:t,operator:i,apply:o}){this.arity=t,this.operator=i,this.apply=o}checkArity(t){return Array.isArray(this.arity)?this.arity.includes(t.length):this.arity===Number.POSITIVE_INFINITY?!0:t.length===this.arity}}yd.ExpressionFunctionBase=u;class a extends u{constructor({arity:t,operator:i,overloads:o}){super({arity:t,operator:i,apply:async({args:l,exprEval:s,mapping:c})=>this.applyOnTerms(await Promise.all(l.map(d=>s.evaluatorExpressionEvaluation(d,c))),s)}),this.supportsTermExpressions=!0,this.overloads=o}applyOnTerms(t,i){return(this.overloads.search(t,i.context.getSafe(n.KeysExpressionEvaluator.superTypeProvider),i.context.getSafe(n.KeysInitQuery.functionArgumentsCache))??this.handleInvalidTypes(t))(i)(t)}handleInvalidTypes(t){throw new e.InvalidArgumentTypes(t,this.operator)}}return yd.TermFunctionBase=a,yd}var cJ;function We(){return cJ||(cJ=1,(function(n){var e=pd&&pd.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=pd&&pd.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(P_e(),n),u(i6e(),n),u(u6e(),n),u(t2e(),n)})(pd)),pd}var Sd={},A_={},lJ;function r2e(){if(lJ)return A_;lJ=1,Object.defineProperty(A_,"__esModule",{value:!0}),A_.ActorQueryOperation=void 0;const n=De();let e=class extends n.Actor{constructor(a){super(a)}};return A_.ActorQueryOperation=e,A_}var O_={},Ed={},x_={},dJ;function j6e(){if(dJ)return x_;dJ=1,Object.defineProperty(x_,"__esModule",{value:!0}),x_.MetadataValidationState=void 0;let n=class{constructor(){this.invalidateListeners=[],this.valid=!0}addInvalidateListener(u){this.invalidateListeners.push(u)}invalidate(){if(this.valid){this.valid=!1;for(const u of this.invalidateListeners)u()}}};return x_.MetadataValidationState=n,x_}var Fi={},fJ;function M6e(){if(fJ)return Fi;fJ=1,Object.defineProperty(Fi,"__esModule",{value:!0}),Fi.cachifyMetadata=Fi.validateMetadataBindings=Fi.validateMetadataQuads=Fi.getMetadataBindings=Fi.getMetadataQuads=void 0;function n(t){return r(()=>new Promise((i,o)=>{t.getProperty("metadata",l=>i(l)),t.on("error",o)}).then(i=>u(i)))}Fi.getMetadataQuads=n;function e(t){return r(()=>new Promise((i,o)=>{t.getProperty("metadata",l=>i(l)),t.on("error",o)}).then(i=>a(i)))}Fi.getMetadataBindings=e;function u(t){for(const i of["cardinality"])if(!(i in t))throw new Error(`Invalid metadata: missing ${i} in ${JSON.stringify(t)}`);return t}Fi.validateMetadataQuads=u;function a(t){for(const i of["cardinality","variables"])if(!(i in t))throw new Error(`Invalid metadata: missing ${i} in ${JSON.stringify(t)}`);return t}Fi.validateMetadataBindings=a;function r(t){let i;return()=>(i||(i=t(),i.then(o=>o.state.addInvalidateListener(()=>{i=void 0})).catch(()=>{})),i)}return Fi.cachifyMetadata=r,Fi}var pJ;function xa(){return pJ||(pJ=1,(function(n){var e=Ed&&Ed.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=Ed&&Ed.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(j6e(),n),u(M6e(),n)})(Ed)),Ed}var hJ;function n2e(){if(hJ)return O_;hJ=1,Object.defineProperty(O_,"__esModule",{value:!0}),O_.ActorQueryOperationTyped=void 0;const n=lt(),e=De(),u=xa(),a=r2e();let r=class extends a.ActorQueryOperation{constructor(i,o){if(super({...i,operationName:o}),!this.operationName)throw new Error('A valid "operationName" argument must be provided.')}async test(i){if(!i.operation)return(0,e.failTest)("Missing field 'operation' in a query operation action.");if(i.operation.type!==this.operationName)return(0,e.failTest)(`Actor ${this.name} only supports ${this.operationName} operations, but got ${i.operation.type}`);const o=i.operation;return this.testOperation(o,i.context)}async run(i,o){const l=i.context.get(n.KeysInitQuery.physicalQueryPlanLogger);l&&(l.logOperation(i.operation.type,void 0,i.operation,i.context.get(n.KeysInitQuery.physicalQueryPlanNode),this.name,{}),i.context=i.context.set(n.KeysInitQuery.physicalQueryPlanNode,i.operation));const s=i.operation,c=i.context.set(n.KeysQueryOperation.operation,s),d=await this.runOperation(s,c,o);return"metadata"in d&&(d.metadata=(0,u.cachifyMetadata)(d.metadata)),d}};return O_.ActorQueryOperationTyped=r,O_}var R_={},yJ;function C6e(){if(yJ)return R_;yJ=1,Object.defineProperty(R_,"__esModule",{value:!0}),R_.ActorQueryOperationTypedMediated=void 0;const n=n2e();let e=class extends n.ActorQueryOperationTyped{constructor(a,r){super(a,r)}};return R_.ActorQueryOperationTypedMediated=e,R_}var N_={},mJ;function L6e(){if(mJ)return N_;mJ=1,Object.defineProperty(N_,"__esModule",{value:!0}),N_.BusQueryOperation=void 0;const n=De();let e=class extends n.BusIndexed{constructor(a){super({...a,actorIdentifierFields:["operationName"],actionIdentifierFields:["operation","type"]})}};return N_.BusQueryOperation=e,N_}var bJ;function qr(){return bJ||(bJ=1,(function(n){var e=Sd&&Sd.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=Sd&&Sd.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(r2e(),n),u(n2e(),n),u(C6e(),n),u(L6e(),n)})(Sd)),Sd}var Ad={},I_={},Od={},D_={},gJ;function q6e(){if(gJ)return D_;gJ=1,Object.defineProperty(D_,"__esModule",{value:!0}),D_.ActorRdfResolveHypermediaLinksQueue=void 0;const n=De();let e=class extends n.Actor{constructor(a){super(a)}};return D_.ActorRdfResolveHypermediaLinksQueue=e,D_}var Uj={},vJ;function B6e(){return vJ||(vJ=1,Object.defineProperty(Uj,"__esModule",{value:!0})),Uj}var F_={},_J;function U6e(){if(_J)return F_;_J=1,Object.defineProperty(F_,"__esModule",{value:!0}),F_.LinkQueueWrapper=void 0;let n=class{constructor(u){this.linkQueue=u}push(u,a){return this.linkQueue.push(u,a)}getSize(){return this.linkQueue.getSize()}isEmpty(){return this.linkQueue.isEmpty()}pop(){return this.linkQueue.pop()}peek(){return this.linkQueue.peek()}};return F_.LinkQueueWrapper=n,F_}var TJ;function Fq(){return TJ||(TJ=1,(function(n){var e=Od&&Od.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=Od&&Od.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(q6e(),n),u(B6e(),n),u(U6e(),n)})(Od)),Od}var P_={},wJ;function a2e(){if(wJ)return P_;wJ=1,Object.defineProperty(P_,"__esModule",{value:!0}),P_.LinkQueueFifo=void 0;let n=class{constructor(){this.links=[]}push(u){return this.links.push(u),!0}getSize(){return this.links.length}isEmpty(){return this.links.length===0}pop(){return this.links.shift()}peek(){return this.links[0]}};return P_.LinkQueueFifo=n,P_}var SJ;function Q6e(){if(SJ)return I_;SJ=1,Object.defineProperty(I_,"__esModule",{value:!0}),I_.ActorRdfResolveHypermediaLinksQueueFifo=void 0;const n=Fq(),e=De(),u=a2e();let a=class extends n.ActorRdfResolveHypermediaLinksQueue{constructor(t){super(t)}async test(t){return(0,e.passTestVoid)()}async run(t){return{linkQueue:new u.LinkQueueFifo}}};return I_.ActorRdfResolveHypermediaLinksQueueFifo=a,I_}var EJ;function Pq(){return EJ||(EJ=1,(function(n){var e=Ad&&Ad.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=Ad&&Ad.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(Q6e(),n),u(a2e(),n)})(Ad)),Ad}var xd={},j_={},AJ;function V6e(){if(AJ)return j_;AJ=1,Object.defineProperty(j_,"__esModule",{value:!0}),j_.MediatorRace=void 0;const n=De();let e=class extends n.Mediator{constructor(a){super(a)}mediateWith(a,r){return new Promise((t,i)=>{const o=[];for(const l of r)l.reply.then(s=>{s.isPassed()?t((0,n.passTestWithSideData)(l.actor,s.getSideData())):(o.push(s.getFailMessage()),o.length===r.length&&t((0,n.failTest)(this.constructFailureMessage(a,o))))}).catch(s=>{i(s)})})}};return j_.MediatorRace=e,j_}var OJ;function Mt(){return OJ||(OJ=1,(function(n){var e=xd&&xd.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=xd&&xd.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(V6e(),n)})(xd)),xd}var Rd={},M_={},Nd={},C_={},xJ;function H6e(){if(xJ)return C_;xJ=1,Object.defineProperty(C_,"__esModule",{value:!0}),C_.ActorExtractLinks=void 0;const n=De();let e=class extends n.Actor{constructor(a){super(a)}static collectStream(a,r){return new Promise((t,i)=>{const o=[];a.on("error",i),a.on("data",l=>r(l,o)),a.on("end",()=>{t(o)})})}};return C_.ActorExtractLinks=e,C_}var RJ;function uP(){return RJ||(RJ=1,(function(n){var e=Nd&&Nd.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=Nd&&Nd.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(H6e(),n)})(Nd)),Nd}var NJ;function k6e(){if(NJ)return M_;NJ=1,Object.defineProperty(M_,"__esModule",{value:!0}),M_.ActorExtractLinksPredicates=void 0;const n=uP(),e=De();let u=class extends n.ActorExtractLinks{constructor(r){super(r),this.stringPredicates=r.predicateRegexes,this.predicates=r.predicateRegexes.map(t=>new RegExp(t,"u"))}async test(r){return(0,e.passTestVoid)()}async run(r){return{links:await n.ActorExtractLinks.collectStream(r.metadata,(t,i)=>{if(!this.checkSubject||this.subjectMatches(t.subject.value,r.url)){for(const o of this.predicates)if(o.test(t.predicate.value)){i.push({url:t.object.value,metadata:{producedByActor:{name:this.name,predicates:this.stringPredicates,matchingPredicate:t.predicate.value,checkSubject:this.checkSubject}}});break}}})}}subjectMatches(r,t){const i=r.indexOf("#");return i>=0&&(r=r.slice(0,i)),r===t}};return M_.ActorExtractLinksPredicates=u,M_}var IJ;function Js(){return IJ||(IJ=1,(function(n){var e=Rd&&Rd.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=Rd&&Rd.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(k6e(),n)})(Rd)),Rd}var Id={},L_={},DJ;function z6e(){if(DJ)return L_;DJ=1,Object.defineProperty(L_,"__esModule",{value:!0}),L_.ActorExtractLinksHeaders=void 0;const n=uP(),e=De();let u=class extends n.ActorExtractLinks{constructor(r){super(r),this.linkRegEx=/<(.*)>/u,this.headers=r.headersRegexes.map(t=>new RegExp(t,"u"))}async test(r){return(0,e.passTestVoid)()}async run(r){return new Promise((t,i)=>{const o=r.headers,l=[];for(const s of this.headers){const c=o?.get("link")?.split(",");if(c){for(const d of c)if(s.test(d)){const f=this.linkRegEx.exec(d);f&&l.push({url:new URL(f[1],r.url).href})}}}t({links:l})})}};return L_.ActorExtractLinksHeaders=u,L_}var FJ;function jq(){return FJ||(FJ=1,(function(n){var e=Id&&Id.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=Id&&Id.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(z6e(),n)})(Id)),Id}var Dd={},q_={},Fd={},qt={},PJ;function i2e(){if(PJ)return qt;PJ=1,Object.defineProperty(qt,"__esModule",{value:!0}),qt.matchPatternMappings=qt.matchPatternComplete=qt.matchPattern=qt.matchTerm=qt.getValueNestedPath=qt.someTermsNested=qt.someTerms=qt.everyTermsNested=qt.everyTerms=qt.reduceTermsNested=qt.reduceTerms=qt.mapTermsNested=qt.mapTerms=qt.filterQuadTermNamesNested=qt.filterQuadTermNames=qt.filterTermsNested=qt.filterTerms=qt.forEachTermsNested=qt.forEachTerms=qt.collectNamedTerms=qt.getNamedTerms=qt.getTermsNested=qt.getTerms=qt.TRIPLE_TERM_NAMES=qt.QUAD_TERM_NAMES=void 0;const n=Rr(),e=new n.DataFactory;qt.QUAD_TERM_NAMES=["subject","predicate","object","graph"],qt.TRIPLE_TERM_NAMES=["subject","predicate","object"];function u(O,I){return I&&O.graph.termType==="DefaultGraph"?[O.subject,O.predicate,O.object]:[O.subject,O.predicate,O.object,O.graph]}qt.getTerms=u;function a(O,I){const A=[];for(const P of u(O,I))P.termType==="Quad"?a(P,I).forEach(C=>A.push(C)):A.push(P);return A}qt.getTermsNested=a;function r(O){return[{key:"subject",value:O.subject},{key:"predicate",value:O.predicate},{key:"object",value:O.object},{key:"graph",value:O.graph}]}qt.getNamedTerms=r;function t(O,I,A){const P={};return O.forEach(C=>P[C.key]=C.value),I&&(P.subject=P.subject||I("subject"),P.predicate=P.predicate||I("predicate"),P.object=P.object||I("object"),P.graph=P.graph||I("graph")),(A||e).quad(P.subject,P.predicate,P.object,P.graph)}qt.collectNamedTerms=t;function i(O,I){I(O.subject,"subject"),I(O.predicate,"predicate"),I(O.object,"object"),I(O.graph,"graph")}qt.forEachTerms=i;function o(O,I,A=[]){O.subject.termType==="Quad"?o(O.subject,I,[...A,"subject"]):I(O.subject,[...A,"subject"]),O.predicate.termType==="Quad"?o(O.predicate,I,[...A,"predicate"]):I(O.predicate,[...A,"predicate"]),O.object.termType==="Quad"?o(O.object,I,[...A,"object"]):I(O.object,[...A,"object"]),O.graph.termType==="Quad"?o(O.graph,I,[...A,"graph"]):I(O.graph,[...A,"graph"])}qt.forEachTermsNested=o;function l(O,I){const A=[];return I(O.subject,"subject")&&A.push(O.subject),I(O.predicate,"predicate")&&A.push(O.predicate),I(O.object,"object")&&A.push(O.object),I(O.graph,"graph")&&A.push(O.graph),A}qt.filterTerms=l;function s(O,I,A=[]){let P=[];return O.subject.termType==="Quad"?P=[...P,...s(O.subject,I,[...A,"subject"])]:I(O.subject,[...A,"subject"])&&P.push(O.subject),O.predicate.termType==="Quad"?P=[...P,...s(O.predicate,I,[...A,"predicate"])]:I(O.predicate,[...A,"predicate"])&&P.push(O.predicate),O.object.termType==="Quad"?P=[...P,...s(O.object,I,[...A,"object"])]:I(O.object,[...A,"object"])&&P.push(O.object),O.graph.termType==="Quad"?P=[...P,...s(O.graph,I,[...A,"graph"])]:I(O.graph,[...A,"graph"])&&P.push(O.graph),P}qt.filterTermsNested=s;function c(O,I){const A=[];return I(O.subject,"subject")&&A.push("subject"),I(O.predicate,"predicate")&&A.push("predicate"),I(O.object,"object")&&A.push("object"),I(O.graph,"graph")&&A.push("graph"),A}qt.filterQuadTermNames=c;function d(O,I,A=[]){let P=[];const C=[...A,"subject"];O.subject.termType==="Quad"?P=[...P,...d(O.subject,I,C)]:I(O.subject,C)&&P.push(C);const B=[...A,"predicate"];O.predicate.termType==="Quad"?P=[...P,...d(O.predicate,I,B)]:I(O.predicate,B)&&P.push(B);const V=[...A,"object"];O.object.termType==="Quad"?P=[...P,...d(O.object,I,V)]:I(O.object,V)&&P.push(V);const U=[...A,"graph"];return O.graph.termType==="Quad"?P=[...P,...d(O.graph,I,U)]:I(O.graph,U)&&P.push(U),P}qt.filterQuadTermNamesNested=d;function f(O,I,A){return(A||e).quad(I(O.subject,"subject"),I(O.predicate,"predicate"),I(O.object,"object"),I(O.graph,"graph"))}qt.mapTerms=f;function p(O,I,A,P=[]){return(A||e).quad(O.subject.termType==="Quad"?p(O.subject,I,A,[...P,"subject"]):I(O.subject,[...P,"subject"]),O.predicate.termType==="Quad"?p(O.predicate,I,A,[...P,"predicate"]):I(O.predicate,[...P,"predicate"]),O.object.termType==="Quad"?p(O.object,I,A,[...P,"object"]):I(O.object,[...P,"object"]),O.graph.termType==="Quad"?p(O.graph,I,A,[...P,"graph"]):I(O.graph,[...P,"graph"]))}qt.mapTermsNested=p;function h(O,I,A){let P=A;return P=I(P,O.subject,"subject"),P=I(P,O.predicate,"predicate"),P=I(P,O.object,"object"),I(P,O.graph,"graph")}qt.reduceTerms=h;function g(O,I,A,P=[]){let C=A;return O.subject.termType==="Quad"?C=g(O.subject,I,C,[...P,"subject"]):C=I(C,O.subject,[...P,"subject"]),O.predicate.termType==="Quad"?C=g(O.predicate,I,C,[...P,"predicate"]):C=I(C,O.predicate,[...P,"predicate"]),O.object.termType==="Quad"?C=g(O.object,I,C,[...P,"object"]):C=I(C,O.object,[...P,"object"]),O.graph.termType==="Quad"?C=g(O.graph,I,C,[...P,"graph"]):C=I(C,O.graph,[...P,"graph"]),C}qt.reduceTermsNested=g;function _(O,I){return I(O.subject,"subject")&&I(O.predicate,"predicate")&&I(O.object,"object")&&I(O.graph,"graph")}qt.everyTerms=_;function m(O,I,A=[]){return(O.subject.termType==="Quad"?m(O.subject,I,[...A,"subject"]):I(O.subject,[...A,"subject"]))&&(O.predicate.termType==="Quad"?m(O.predicate,I,[...A,"predicate"]):I(O.predicate,[...A,"predicate"]))&&(O.object.termType==="Quad"?m(O.object,I,[...A,"object"]):I(O.object,[...A,"object"]))&&(O.graph.termType==="Quad"?m(O.graph,I,[...A,"graph"]):I(O.graph,[...A,"graph"]))}qt.everyTermsNested=m;function w(O,I){return I(O.subject,"subject")||I(O.predicate,"predicate")||I(O.object,"object")||I(O.graph,"graph")}qt.someTerms=w;function T(O,I,A=[]){return(O.subject.termType==="Quad"?T(O.subject,I,[...A,"subject"]):I(O.subject,[...A,"subject"]))||(O.predicate.termType==="Quad"?T(O.predicate,I,[...A,"predicate"]):I(O.predicate,[...A,"predicate"]))||(O.object.termType==="Quad"?T(O.object,I,[...A,"object"]):I(O.object,[...A,"object"]))||(O.graph.termType==="Quad"?T(O.graph,I,[...A,"graph"]):I(O.graph,[...A,"graph"]))}qt.someTermsNested=T;function E(O,I){if(I.length===0)return O;if(O.termType==="Quad")return E(O[I[0]],I.slice(1));throw new Error(`Tried to get ${I[0]} from term of type ${O.termType}`)}qt.getValueNestedPath=E;function S(O,I){return!I||I.termType==="Variable"||I.termType==="Quad"&&O.termType==="Quad"&&j(O,I)||I.equals(O)}qt.matchTerm=S;function N(O,I,A,P,C){return S(O.subject,I)&&S(O.predicate,A)&&S(O.object,P)&&S(O.graph,C)}qt.matchPattern=N;function j(O,I){return N(O,I.subject,I.predicate,I.object,I.graph)}qt.matchPatternComplete=j;function q(O,I,A={}){const P={};function C(B,V){return _(B,(U,G)=>{var J,ne;const W=V[G];switch(U.termType){case"Variable":return A.skipVarMapping&&W.termType==="Variable"||((ne=(J=P[U.value])===null||J===void 0?void 0:J.equals(W))!==null&&ne!==void 0?ne:(P[U.value]=W,!0));case"Quad":return W.termType==="Quad"&&C(U,W);default:return U.equals(W)}})}return C(I,O)&&(A.returnMappings?P:!0)}return qt.matchPatternMappings=q,qt}var Mn={},jJ;function G6e(){if(jJ)return Mn;jJ=1,Object.defineProperty(Mn,"__esModule",{value:!0}),Mn.getQuads=Mn.getDefaultGraphs=Mn.getVariables=Mn.getLiterals=Mn.getBlankNodes=Mn.getNamedNodes=Mn.getTermsOfType=Mn.uniqTerms=Mn.TERM_TYPES=void 0;const n=Xt();Mn.TERM_TYPES=["NamedNode","BlankNode","Literal","Variable","DefaultGraph","Quad"];function e(s){const c={};return s.filter(d=>{const f=(0,n.termToString)(d);return!(f in c)&&(c[f]=!0)})}Mn.uniqTerms=e;function u(s,c){return s.filter(d=>d.termType===c)}Mn.getTermsOfType=u;function a(s){return u(s,"NamedNode")}Mn.getNamedNodes=a;function r(s){return u(s,"BlankNode")}Mn.getBlankNodes=r;function t(s){return u(s,"Literal")}Mn.getLiterals=t;function i(s){return u(s,"Variable")}Mn.getVariables=i;function o(s){return u(s,"DefaultGraph")}Mn.getDefaultGraphs=o;function l(s){return u(s,"Quad")}return Mn.getQuads=l,Mn}var MJ;function Yr(){return MJ||(MJ=1,(function(n){var e=Fd&&Fd.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=Fd&&Fd.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(i2e(),n),u(G6e(),n)})(Fd)),Fd}var Uu={},lu={},Qj={},CJ;function z4(){return CJ||(CJ=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.expressionTypes=n.types=void 0,(function(e){e.ALT="alt",e.ASK="ask",e.BGP="bgp",e.CONSTRUCT="construct",e.DESCRIBE="describe",e.DISTINCT="distinct",e.EXPRESSION="expression",e.EXTEND="extend",e.FILTER="filter",e.FROM="from",e.GRAPH="graph",e.GROUP="group",e.INV="inv",e.JOIN="join",e.LEFT_JOIN="leftjoin",e.LINK="link",e.MINUS="minus",e.NOP="nop",e.NPS="nps",e.ONE_OR_MORE_PATH="OneOrMorePath",e.ORDER_BY="orderby",e.PATH="path",e.PATTERN="pattern",e.PROJECT="project",e.REDUCED="reduced",e.SEQ="seq",e.SERVICE="service",e.SLICE="slice",e.UNION="union",e.VALUES="values",e.ZERO_OR_MORE_PATH="ZeroOrMorePath",e.ZERO_OR_ONE_PATH="ZeroOrOnePath",e.COMPOSITE_UPDATE="compositeupdate",e.DELETE_INSERT="deleteinsert",e.LOAD="load",e.CLEAR="clear",e.CREATE="create",e.DROP="drop",e.ADD="add",e.MOVE="move",e.COPY="copy"})(n.types||(n.types={})),(function(e){e.AGGREGATE="aggregate",e.EXISTENCE="existence",e.NAMED="named",e.OPERATOR="operator",e.TERM="term",e.WILDCARD="wildcard"})(n.expressionTypes||(n.expressionTypes={}))})(Qj)),Qj}var Oo={},LJ;function oP(){if(LJ)return Oo;LJ=1;var n=Oo&&Oo.__createBinding||(Object.create?(function(l,s,c,d){d===void 0&&(d=c);var f=Object.getOwnPropertyDescriptor(s,c);(!f||("get"in f?!s.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return s[c]}}),Object.defineProperty(l,d,f)}):(function(l,s,c,d){d===void 0&&(d=c),l[d]=s[c]})),e=Oo&&Oo.__setModuleDefault||(Object.create?(function(l,s){Object.defineProperty(l,"default",{enumerable:!0,value:s})}):function(l,s){l.default=s}),u=Oo&&Oo.__importStar||function(l){if(l&&l.__esModule)return l;var s={};if(l!=null)for(var c in l)c!=="default"&&Object.prototype.hasOwnProperty.call(l,c)&&n(s,l,c);return e(s,l),s};Object.defineProperty(Oo,"__esModule",{value:!0});const a=u(z4()),r=Rr(),t=Xt(),i=$n();class o{constructor(s){this.dataFactory=s||new r.DataFactory,this.stringType=this.createTerm("http://www.w3.org/2001/XMLSchema#string")}createAlt(s,c=!0){return this.flattenMulti({type:a.types.ALT,input:s},c)}createAsk(s){return{type:a.types.ASK,input:s}}createBoundAggregate(s,c,d,f,p){const h=this.createAggregateExpression(c,d,f,p);return h.variable=s,h}createBgp(s){return{type:a.types.BGP,patterns:s}}createConstruct(s,c){return{type:a.types.CONSTRUCT,input:s,template:c}}createDescribe(s,c){return{type:a.types.DESCRIBE,input:s,terms:c}}createDistinct(s){return{type:a.types.DISTINCT,input:s}}createExtend(s,c,d){return{type:a.types.EXTEND,input:s,variable:c,expression:d}}createFrom(s,c,d){return{type:a.types.FROM,input:s,default:c,named:d}}createFilter(s,c){return{type:a.types.FILTER,input:s,expression:c}}createGraph(s,c){return{type:a.types.GRAPH,input:s,name:c}}createGroup(s,c,d){return{type:a.types.GROUP,input:s,variables:c,aggregates:d}}createInv(s){return{type:a.types.INV,path:s}}createJoin(s,c=!0){return this.flattenMulti({type:a.types.JOIN,input:s},c)}createLeftJoin(s,c,d){return d?{type:a.types.LEFT_JOIN,input:[s,c],expression:d}:{type:a.types.LEFT_JOIN,input:[s,c]}}createLink(s){return{type:a.types.LINK,iri:s}}createMinus(s,c){return{type:a.types.MINUS,input:[s,c]}}createNop(){return{type:a.types.NOP}}createNps(s){return{type:a.types.NPS,iris:s}}createOneOrMorePath(s){return{type:a.types.ONE_OR_MORE_PATH,path:s}}createOrderBy(s,c){return{type:a.types.ORDER_BY,input:s,expressions:c}}createPath(s,c,d,f){return f?{type:a.types.PATH,subject:s,predicate:c,object:d,graph:f}:{type:a.types.PATH,subject:s,predicate:c,object:d,graph:this.dataFactory.defaultGraph()}}createPattern(s,c,d,f){const p=this.dataFactory.quad(s,c,d,f);return p.type=a.types.PATTERN,p}createProject(s,c){return{type:a.types.PROJECT,input:s,variables:c}}createReduced(s){return{type:a.types.REDUCED,input:s}}createSeq(s,c=!0){return this.flattenMulti({type:a.types.SEQ,input:s},c)}createService(s,c,d){return{type:a.types.SERVICE,input:s,name:c,silent:!!d}}createSlice(s,c,d){return c=c||0,d!==void 0?{type:a.types.SLICE,input:s,start:c,length:d}:{type:a.types.SLICE,input:s,start:c}}createUnion(s,c=!0){return this.flattenMulti({type:a.types.UNION,input:s},c)}createValues(s,c){return{type:a.types.VALUES,variables:s,bindings:c}}createZeroOrMorePath(s){return{type:a.types.ZERO_OR_MORE_PATH,path:s}}createZeroOrOnePath(s){return{type:a.types.ZERO_OR_ONE_PATH,path:s}}createAggregateExpression(s,c,d,f){return f?{type:a.types.EXPRESSION,expressionType:a.expressionTypes.AGGREGATE,aggregator:s,expression:c,separator:f,distinct:d}:{type:a.types.EXPRESSION,expressionType:a.expressionTypes.AGGREGATE,aggregator:s,expression:c,distinct:d}}createExistenceExpression(s,c){return{type:a.types.EXPRESSION,expressionType:a.expressionTypes.EXISTENCE,not:s,input:c}}createNamedExpression(s,c){return{type:a.types.EXPRESSION,expressionType:a.expressionTypes.NAMED,name:s,args:c}}createOperatorExpression(s,c){return{type:a.types.EXPRESSION,expressionType:a.expressionTypes.OPERATOR,operator:s,args:c}}createTermExpression(s){return{type:a.types.EXPRESSION,expressionType:a.expressionTypes.TERM,term:s}}createWildcardExpression(){return{type:a.types.EXPRESSION,expressionType:a.expressionTypes.WILDCARD,wildcard:new i.Wildcard}}createTerm(s){return s[0]==="$"&&(s=s.replace("$","?")),(0,t.stringToTerm)(s,this.dataFactory)}createCompositeUpdate(s){return{type:a.types.COMPOSITE_UPDATE,updates:s}}createDeleteInsert(s,c,d){const f={type:a.types.DELETE_INSERT};return s&&(f.delete=s),c&&(f.insert=c),d&&(f.where=d),f}createLoad(s,c,d){const f={type:a.types.LOAD,source:s};return c&&(f.destination=c),this.addSilent(f,!!d)}createClear(s,c){return this.addSilent({type:a.types.CLEAR,source:s},!!c)}createCreate(s,c){return this.addSilent({type:a.types.CREATE,source:s},!!c)}createDrop(s,c){return this.addSilent({type:a.types.DROP,source:s},!!c)}createAdd(s,c,d){return this.addSilent({type:a.types.ADD,source:s,destination:c},!!d)}createMove(s,c,d){return this.addSilent({type:a.types.MOVE,source:s,destination:c},!!d)}createCopy(s,c,d){return this.addSilent({type:a.types.COPY,source:s,destination:c},!!d)}addSilent(s,c){return c&&(s.silent=c),s}flattenMulti(s,c){if(!c)return s;const d=s.type,f=s.input;let p=[];for(const h of f)h.type===d?p.push(...h.input):p.push(h);return s.input=p,s}}return Oo.default=o,Oo}var fg={},qJ;function Mq(){if(qJ)return fg;qJ=1;var n=fg&&fg.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(fg,"__esModule",{value:!0});const e=z4(),u=n(oP()),a=Yr();class r{static flatten(i){return Array.prototype.concat(...i).filter(o=>o)}static objectify(i){if(i.termType){if(i.termType==="Quad")return{type:"pattern",termType:"Quad",subject:r.objectify(i.subject),predicate:r.objectify(i.predicate),object:r.objectify(i.object),graph:r.objectify(i.graph)};{let o={termType:i.termType,value:i.value};return i.language&&(o.language=i.language),i.datatype&&(o.datatype=r.objectify(i.datatype)),o}}if(Array.isArray(i))return i.map(o=>r.objectify(o));if(i===Object(i)){let o={};for(let l of Object.keys(i))o[l]=r.objectify(i[l]);return o}return i}static inScopeVariables(i){const o=[];function l(c){o.find(d=>c.value===d.value)||o.push(c)}function s(c){c.subject.termType==="Variable"&&l(c.subject),c.predicate.termType==="Variable"&&l(c.predicate),c.object.termType==="Variable"&&l(c.object),c.graph.termType==="Variable"&&l(c.graph),c.subject.termType==="Quad"&&s(c.subject),c.predicate.termType==="Quad"&&s(c.predicate),c.object.termType==="Quad"&&s(c.object),c.graph.termType==="Quad"&&s(c.graph)}return r.recurseOperation(i,{[e.types.EXPRESSION]:c=>(c.expressionType===e.expressionTypes.AGGREGATE&&c.variable&&l(c.variable),!0),[e.types.EXTEND]:c=>(l(c.variable),!0),[e.types.GRAPH]:c=>(c.name.termType==="Variable"&&l(c.name),!0),[e.types.GROUP]:c=>(c.variables.forEach(l),!0),[e.types.PATH]:c=>(c.subject.termType==="Variable"&&l(c.subject),c.object.termType==="Variable"&&l(c.object),c.graph.termType==="Variable"&&l(c.graph),c.subject.termType==="Quad"&&s(c.subject),c.object.termType==="Quad"&&s(c.object),c.graph.termType==="Quad"&&s(c.graph),!0),[e.types.PATTERN]:c=>(s(c),!0),[e.types.PROJECT]:c=>(c.variables.forEach(l),!1),[e.types.SERVICE]:c=>(c.name.termType==="Variable"&&l(c.name),!0),[e.types.VALUES]:c=>(c.variables.forEach(l),!0)}),o}static recurseOperation(i,o){let l=i,s=!0;const c=o[i.type];if(c&&(s=c(i)),!s)return;let d=f=>r.recurseOperation(f,o);switch(l.type){case e.types.ALT:l.input.map(d);break;case e.types.ASK:d(l.input);break;case e.types.BGP:l.patterns.forEach(d);break;case e.types.CONSTRUCT:d(l.input),l.template.map(d);break;case e.types.DESCRIBE:d(l.input);break;case e.types.DISTINCT:d(l.input);break;case e.types.EXPRESSION:l.expressionType===e.expressionTypes.EXISTENCE&&d(l.input);break;case e.types.EXTEND:d(l.input),d(l.expression);break;case e.types.FILTER:d(l.input),d(l.expression);break;case e.types.FROM:d(l.input);break;case e.types.GRAPH:d(l.input);break;case e.types.GROUP:d(l.input),l.aggregates.forEach(d);break;case e.types.INV:d(l.path);break;case e.types.JOIN:l.input.map(d);break;case e.types.LEFT_JOIN:l.input.map(d),l.expression&&d(l.expression);break;case e.types.LINK:break;case e.types.MINUS:l.input.map(d);break;case e.types.NOP:break;case e.types.NPS:break;case e.types.ONE_OR_MORE_PATH:d(l.path);break;case e.types.ORDER_BY:d(l.input),l.expressions.forEach(d);break;case e.types.PATH:d(l.predicate);break;case e.types.PATTERN:break;case e.types.PROJECT:d(l.input);break;case e.types.REDUCED:d(l.input);break;case e.types.SEQ:l.input.map(d);break;case e.types.SERVICE:d(l.input);break;case e.types.SLICE:d(l.input);break;case e.types.UNION:l.input.map(d);break;case e.types.VALUES:break;case e.types.ZERO_OR_MORE_PATH:d(l.path);break;case e.types.ZERO_OR_ONE_PATH:d(l.path);break;case e.types.COMPOSITE_UPDATE:l.updates.forEach(f=>d(f));break;case e.types.DELETE_INSERT:l.delete&&l.delete.forEach(f=>d(f)),l.insert&&l.insert.forEach(f=>d(f)),l.where&&d(l.where);break;case e.types.LOAD:break;case e.types.CLEAR:break;case e.types.CREATE:break;case e.types.DROP:break;case e.types.ADD:break;case e.types.MOVE:break;case e.types.COPY:break;default:throw new Error(`Unknown Operation type ${l.type}`)}}static mapOperation(i,o,l){let s=i,c=!0,d=!0;l=l||new u.default;const f=o[i.type];if(f){const g=f(i,l);s=g.result,c=g.recurse,d=g.copyMetadata!==!1}let p;if(d&&(s.metadata||i.metadata)&&(p={...s.metadata,...i.metadata}),!c)return p&&(s.metadata=p),s;let h=g=>r.mapOperation(g,o,l);switch(s.type){case e.types.ALT:s=l.createAlt(s.input.map(h));break;case e.types.ASK:s=l.createAsk(h(s.input));break;case e.types.BGP:s=l.createBgp(s.patterns.map(h));break;case e.types.CONSTRUCT:s=l.createConstruct(h(s.input),s.template.map(h));break;case e.types.DESCRIBE:s=l.createDescribe(h(s.input),s.terms);break;case e.types.DISTINCT:s=l.createDistinct(h(s.input));break;case e.types.EXPRESSION:s=r.mapExpression(s,o,l);break;case e.types.EXTEND:s=l.createExtend(h(s.input),s.variable,h(s.expression));break;case e.types.FILTER:s=l.createFilter(h(s.input),h(s.expression));break;case e.types.FROM:s=l.createFrom(h(s.input),[...s.default],[...s.named]);break;case e.types.GRAPH:s=l.createGraph(h(s.input),s.name);break;case e.types.GROUP:s=l.createGroup(h(s.input),[].concat(s.variables),s.aggregates.map(h));break;case e.types.INV:s=l.createInv(h(s.path));break;case e.types.JOIN:s=l.createJoin(s.input.map(h));break;case e.types.LEFT_JOIN:s=l.createLeftJoin(h(s.input[0]),h(s.input[1]),s.expression?h(s.expression):void 0);break;case e.types.LINK:s=l.createLink(s.iri);break;case e.types.MINUS:s=l.createMinus(h(s.input[0]),h(s.input[1]));break;case e.types.NOP:s=l.createNop();break;case e.types.NPS:s=l.createNps([].concat(s.iris));break;case e.types.ONE_OR_MORE_PATH:s=l.createOneOrMorePath(h(s.path));break;case e.types.ORDER_BY:s=l.createOrderBy(h(s.input),s.expressions.map(h));break;case e.types.PATH:s=l.createPath(s.subject,h(s.predicate),s.object,s.graph);break;case e.types.PATTERN:s=l.createPattern(s.subject,s.predicate,s.object,s.graph);break;case e.types.PROJECT:s=l.createProject(h(s.input),[...s.variables]);break;case e.types.REDUCED:s=l.createReduced(h(s.input));break;case e.types.SEQ:s=l.createSeq(s.input.map(h));break;case e.types.SERVICE:s=l.createService(h(s.input),s.name,s.silent);break;case e.types.SLICE:s=l.createSlice(h(s.input),s.start,s.length);break;case e.types.UNION:s=l.createUnion(s.input.map(h));break;case e.types.VALUES:s=l.createValues([].concat(s.variables),s.bindings.map(g=>Object.assign({},g)));break;case e.types.ZERO_OR_MORE_PATH:s=l.createZeroOrMorePath(h(s.path));break;case e.types.ZERO_OR_ONE_PATH:s=l.createZeroOrOnePath(h(s.path));break;case e.types.COMPOSITE_UPDATE:s=l.createCompositeUpdate(s.updates.map(h));break;case e.types.DELETE_INSERT:s=l.createDeleteInsert(s.delete?s.delete.map(h):void 0,s.insert?s.insert.map(h):void 0,s.where?h(s.where):void 0);break;case e.types.LOAD:s=l.createLoad(s.source,s.destination,s.silent);break;case e.types.CLEAR:s=l.createClear(s.source,s.silent);break;case e.types.CREATE:s=l.createCreate(s.source,s.silent);break;case e.types.DROP:s=l.createDrop(s.source,s.silent);break;case e.types.ADD:s=l.createAdd(s.source,s.destination);break;case e.types.MOVE:s=l.createMove(s.source,s.destination);break;case e.types.COPY:s=l.createCopy(s.source,s.destination);break;default:throw new Error(`Unknown Operation type ${s.type}`)}return p&&(s.metadata=p),s}static mapExpression(i,o,l){let s=i,c=!0;l=l||new u.default;const d=o[i.expressionType];if(d&&({result:s,recurse:c}=d(i,l)),!c)return s;let f=p=>r.mapOperation(p,o,l);switch(i.expressionType){case e.expressionTypes.AGGREGATE:return i.variable?l.createBoundAggregate(i.variable,i.aggregator,f(i.expression),i.distinct,i.separator):l.createAggregateExpression(i.aggregator,f(i.expression),i.distinct,i.separator);case e.expressionTypes.EXISTENCE:return l.createExistenceExpression(i.not,f(i.input));case e.expressionTypes.NAMED:return l.createNamedExpression(i.name,i.args.map(f));case e.expressionTypes.OPERATOR:return l.createOperatorExpression(i.operator,i.args.map(f));case e.expressionTypes.TERM:return l.createTermExpression(i.term);case e.expressionTypes.WILDCARD:return l.createWildcardExpression();default:throw new Error(`Unknown Expression type ${i.expressionType}`)}}static cloneOperation(i){return r.mapOperation(i,{})}static cloneExpression(i){return r.mapExpression(i,{})}static createUniqueVariable(i,o,l){let s=0,c=i;for(;o[c];)c=`${i}${s++}`;return l.variable(c)}static isSimpleTerm(i){return i.termType!==void 0&&i.termType!=="Quad"&&i.termType!=="Wildcard"}static isQuad(i){return i.termType==="Quad"}static hasQuadVariables(i){return(0,a.someTermsNested)(i,o=>o.termType==="Variable")}static isWildcard(i){return i.termType==="Wildcard"}}return fg.default=r,fg}var BJ;function $6e(){if(BJ)return lu;BJ=1;var n=lu&&lu.__createBinding||(Object.create?(function(v,F,D,L){L===void 0&&(L=D);var H=Object.getOwnPropertyDescriptor(F,D);(!H||("get"in H?!F.__esModule:H.writable||H.configurable))&&(H={enumerable:!0,get:function(){return F[D]}}),Object.defineProperty(v,L,H)}):(function(v,F,D,L){L===void 0&&(L=D),v[L]=F[D]})),e=lu&&lu.__setModuleDefault||(Object.create?(function(v,F){Object.defineProperty(v,"default",{enumerable:!0,value:F})}):function(v,F){v.default=F}),u=lu&&lu.__importStar||function(v){if(v&&v.__esModule)return v;var F={};if(v!=null)for(var D in v)D!=="default"&&Object.prototype.hasOwnProperty.call(v,D)&&n(F,v,D);return e(F,v),F},a=lu&&lu.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(lu,"__esModule",{value:!0});const r=T1(),t=Xt(),i=u(z4()),o=a(oP()),l=a(Mq()),s=$n().Parser,c=i.types;let d=new Set,f=0,p=!1,h;function g(v,F){F=F||{},h=new o.default(F.dataFactory);let D;if(m(v)){let L=new s(F);L._resetBlanks(),D=L.parse(v)}else D=v;return _(D,F.quads,F.blankToVariable)}lu.default=g;function _(v,F,D){if(d=new Set,f=0,p=!!F,!v.type)return h.createNop();if(v.type!=="query"&&v.type!=="update")throw new Error("Translate only works on complete query or update objects.");let L;if(S(v),v.type==="query"){const H={type:"group",patterns:v.where||[]};L=j(H),L=W(v,L)}else v.type==="update"&&(L=pe(v));return D&&(L=te(L)),L}function m(v){return typeof v=="string"}function w(v){return!!v?.termType}function T(v){return v.subject&&v.predicate&&v.object}function E(v){return v?.termType==="Variable"}function S(v){if(w(v))E(v)&&d.add(`?${v.value}`);else if(Array.isArray(v))for(const F of v)S(F);else if(v&&typeof v=="object")for(let F of Object.keys(v))F.startsWith("?")?d.add(F):F.startsWith("$")&&d.add(`?${F.slice(1)}`),S(v[F])}function N(v){let F={};if(T(v)){const D=[N(v.subject),N(v.predicate),N(v.object),v.graph?N(v.graph):{}];Object.assign(F,...D)}else if(w(v))E(v)&&(F[v.value]=v);else if(v.type==="bgp"){const D=v.triples;Object.assign(F,...D.map(N))}else if(v.type==="path")Object.assign(F,...v.items.map(N));else if(v.type==="group"||v.type==="union"||v.type==="optional")Object.assign(F,...v.patterns.map(N));else if(v.type==="service"||v.type==="graph")Object.assign(F,N(v.name)),Object.assign(F,...v.patterns.map(N));else if(v.type==="bind")Object.assign(F,N(v.variable));else if(v.type==="values"){if(v.values.length>0){const D=Object.keys(v.values[0]).map(L=>h.createTerm(L));Object.assign(F,...D.map(N))}}else if(v.type==="query"&&(v.queryType==="SELECT"||v.queryType==="DESCRIBE")){v.where&&v.variables.some(l.default.isWildcard)&&Object.assign(F,...v.where.map(N));for(const D of v.variables)E(D)?Object.assign(F,N(D)):D.variable&&Object.assign(F,N(D.variable));if(v.queryType==="SELECT"){if(v.group)for(const D of v.group)D.variable&&Object.assign(F,N(D.variable));if(v.values){const D={type:"values",values:v.values};Object.assign(F,N(D))}}}return F}function j(v){if(v.type==="bgp")return O(v);if(v.type==="union")return h.createUnion(v.patterns.map(F=>(F.type!=="group"&&(F={type:"group",patterns:[F]}),j(F))));if(v.type==="graph"){const F={type:"group",patterns:v.patterns};let D=j(F);return p?D=U(D,v.name):D=h.createGraph(D,v.name),D}if(v.type==="values")return ne(v);if(v.type==="query")return _(v,p,!1);if(v.type==="group"){let F=[],D=[];for(let Z of v.patterns)(Z.type==="filter"?F:D).push(Z);let L=D.reduce(G,h.createBgp([])),H=F.map(Z=>q(Z.expression));return H.length>0&&(L=h.createFilter(L,H.reduce((Z,$)=>h.createOperatorExpression("&&",[Z,$])))),L}throw new Error(`Unexpected type: ${v.type}`)}function q(v){if(l.default.isSimpleTerm(v))return h.createTermExpression(v);if(l.default.isQuad(v))return l.default.hasQuadVariables(v)?h.createOperatorExpression("triple",[q(v.subject),q(v.predicate),q(v.object)]):h.createTermExpression(v);if(l.default.isWildcard(v))return h.createWildcardExpression();if("aggregation"in v)return h.createAggregateExpression(v.aggregation,q(v.expression),!!v.distinct,v.separator);if("function"in v)return h.createNamedExpression(v.function,v.args.map(q));if("operator"in v)return v.operator==="exists"||v.operator==="notexists"?h.createExistenceExpression(v.operator==="notexists",j(v.args[0])):((v.operator==="in"||v.operator==="notin")&&(v.args=[v.args[0]].concat(v.args[1])),h.createOperatorExpression(v.operator,v.args.map(q)));throw new Error(`Unknown expression: ${JSON.stringify(v)}`)}function O(v){let F=[],D=[];for(let L of v.triples)if("pathType"in L.predicate){let H=I(L);for(let Z of H)Z.type===c.PATH?(F.length>0&&D.push(h.createBgp(F)),F=[],D.push(Z)):F.push(Z)}else F.push(B(L));return F.length>0&&D.push(h.createBgp(F)),D.length===1?D[0]:h.createJoin(D)}function I(v){let F=v.subject,D=A(v.predicate),L=v.object;return P(F,D,L)}function A(v){if(l.default.isSimpleTerm(v)){if(v.termType==="NamedNode")return h.createLink(v);throw new Error(`Path predicate should be a NamedNode, got ${JSON.stringify(v)}`)}if(v.pathType==="^")return h.createInv(A(v.items[0]));if(v.pathType==="!"){let F=[],D=[],L;"pathType"in v.items[0]&&v.items[0].pathType==="|"?L=v.items[0].items:L=v.items;for(let $ of L)if(l.default.isSimpleTerm($))F.push($);else if($.pathType==="^")D.push($.items[0]);else throw new Error(`Unexpected item: ${JSON.stringify($)}`);let H=h.createNps(F),Z=h.createInv(h.createNps(D));return D.length===0?H:F.length===0?Z:h.createAlt([H,Z])}if(v.pathType==="/")return h.createSeq(v.items.map(A));if(v.pathType==="|")return h.createAlt(v.items.map(A));if(v.pathType==="*")return h.createZeroOrMorePath(A(v.items[0]));if(v.pathType==="+")return h.createOneOrMorePath(A(v.items[0]));if(v.pathType==="?")return h.createZeroOrOnePath(A(v.items[0]));throw new Error(`Unable to translate path expression ${JSON.stringify(v)}`)}function P(v,F,D){if(F.type===c.LINK)return[h.createPattern(v,F.iri,D)];if(F.type===c.INV)return P(D,F.path,v);if(F.type===c.SEQ){let L=v;return l.default.flatten(F.input.map((H,Z)=>{const $=Z===F.input.length-1?D:C(),ue=P(L,H,$);return $.termType==="Variable"&&(L=$),ue}))}return[h.createPath(v,F,D)]}function C(){let v=`?var${f++}`;return d.has(v)?C():(d.add(v),h.createTerm(v))}function B(v){if("pathType"in v.predicate)throw new Error("Trying to translate property path to quad.");return h.createPattern(v.subject,v.predicate,v.object,v.graph)}let V=Object.values(c);function U(v,F,D){if(v.type===c.GRAPH){if(D)throw new Error("Recursing through nested GRAPH statements with a replacement is impossible.");v=U(v.input,v.name)}else if(v.type!==c.SERVICE)if(v.type===c.BGP)v.patterns=v.patterns.map(L=>(D&&(L.subject.equals(F)&&(L.subject=D),L.predicate.equals(F)&&(L.predicate=D),L.object.equals(F)&&(L.object=D)),L.graph.termType==="DefaultGraph"&&(L.graph=F),L));else if(v.type===c.PATH)D&&(v.subject.equals(F)&&(v.subject=D),v.object.equals(F)&&(v.object=D)),v.graph.termType==="DefaultGraph"&&(v.graph=F);else if(v.type===c.PROJECT&&!D)v.variables.some(L=>L.equals(F))||(D=C()),v.input=U(v.input,F,D);else if(v.type===c.EXTEND&&!D)v.variable.equals(F)&&(D=C()),v.input=U(v.input,F,D);else for(let L of Object.keys(v))Array.isArray(v[L])?v[L]=v[L].map(H=>U(H,F,D)):V.indexOf(v[L].type)>=0?v[L]=U(v[L],F,D):D&&E(v[L])&&v[L].equals(F)&&(v[L]=D);return v}function G(v,F){if(F.type==="optional"){const D=j({type:"group",patterns:F.patterns});D.type===c.FILTER?v=h.createLeftJoin(v,D.input,D.expression):v=h.createLeftJoin(v,D)}else if(F.type==="minus"){const D=j({type:"group",patterns:F.patterns});v=h.createMinus(v,D)}else if(F.type==="bind")v=h.createExtend(v,F.variable,q(F.expression));else if(F.type==="service"){const D={type:"group",patterns:F.patterns},L=h.createService(j(D),F.name,F.silent);v=J(v,L)}else{const D=j(F);v=J(v,D)}return v}function J(v,F){return v.type===c.BGP&&F.type===c.BGP?v=h.createBgp([...v.patterns,...F.patterns]):v.type===c.BGP&&v.patterns.length===0?v=F:F.type===c.BGP&&F.patterns.length===0||(v=h.createJoin([v,F])),v}function ne(v){let F=(v.values.length===0?[]:Object.keys(v.values[0])).map(h.createTerm.bind(h)),D=v.values.map(L=>{let H=Object.keys(L);H=H.filter($=>L[$]!==void 0);let Z={};for(let $ of H)Z[$]=L[$];return Z});return h.createValues(F,D)}function W(v,F){const D=v,L=[],H={};if(D.variables=D.variables&&D.variables.map($=>ee($,H)),D.having=D.having&&D.having.map($=>ee($,H)),D.order=D.order&&D.order.map($=>ee($,H)),D.group||Object.keys(H).length>0){const $=Object.keys(H).map(ae=>se(H[ae],h.createTerm(ae))),ue=[];if(D.group)for(const ae of D.group)if(l.default.isSimpleTerm(ae.expression))ue.push(ae.expression);else{const ce="variable"in ae?ae.variable:C();F=h.createExtend(F,ce,q(ae.expression)),ue.push(ce)}F=h.createGroup(F,ue,$)}if(D.having)for(let $ of D.having)F=h.createFilter(F,q($));v.values&&(F=h.createJoin([F,ne(v)]));let Z=[];if(v.queryType==="SELECT"||v.queryType==="DESCRIBE")if(v.variables.some($=>$&&l.default.isWildcard($)))Z=Object.values(N(v)).sort(($,ue)=>$.value.localeCompare(ue.value));else for(let $ of v.variables)E($)||!("variable"in $)?Z.push($):$.variable&&(Z.push($.variable),L.push($));for(let $ of L)F=h.createExtend(F,$.variable,q($.expression));return D.order&&(F=h.createOrderBy(F,D.order.map($=>{let ue=q($.expression);return $.descending&&(ue=h.createOperatorExpression("desc",[ue])),ue}))),v.queryType==="SELECT"&&(F=h.createProject(F,Z)),D.distinct&&(F=h.createDistinct(F)),D.reduced&&(F=h.createReduced(F)),v.queryType==="CONSTRUCT"?F=h.createConstruct(F,(v.template||[]).map(B)):v.queryType==="ASK"?F=h.createAsk(F):v.queryType==="DESCRIBE"&&(F=h.createDescribe(F,Z)),(D.offset||D.limit)&&(F=h.createSlice(F,D.offset||0,D.limit)),D.from&&(F=h.createFrom(F,D.from.default,D.from.named)),F}function ee(v,F){if("type"in v&&v.type==="aggregate"){let D=!1,L;for(let H of Object.keys(F))if(r(F[H],v)){L=h.createTerm(H),D=!0;break}return D||(L=C(),F[(0,t.termToString)(L)]=v),L}return"expression"in v&&v.expression?{...v,expression:ee(v.expression,F)}:"args"in v&&v.args?{...v,args:v.args.map(D=>ee(D,F))}:v}function se(v,F){if(v.type!=="aggregate"||!v.aggregation)throw new Error(`Unexpected input: ${JSON.stringify(v)}`);const D=q(v);return D.variable=F,D}function pe(v){return v.updates.length===1?le(v.updates[0]):h.createCompositeUpdate(v.updates.map(le))}function le(v){if("type"in v){if(v.type==="load")return Oe(v);if(v.type==="clear"||v.type==="create"||v.type==="drop")return Ne(v);if(v.type==="add"||v.type==="copy"||v.type==="move")return be(v)}else if(v.updateType==="insertdelete"||v.updateType==="deletewhere"||v.updateType==="delete"||v.updateType==="insert")return Ee(v);throw new Error(`Unknown update type ${JSON.stringify(v)}`)}function Ee(v){if(!p)throw new Error("INSERT/DELETE operations are only supported with quads option enabled");let F=[],D=[],L;if(v.delete&&(F=l.default.flatten(v.delete.map(H=>Ae(H,v.graph)))),v.insert&&(D=l.default.flatten(v.insert.map(H=>Ae(H,v.graph)))),v.where&&v.where.length>0){L=j({type:"group",patterns:v.where});const H=v.using;H?L=h.createFrom(L,H.default,H.named):v.graph&&(L=U(L,v.graph))}else v.updateType==="deletewhere"&&F.length>0&&(L=h.createBgp(F));return h.createDeleteInsert(F.length>0?F:void 0,D.length>0?D:void 0,L)}function Ae(v,F){let D=F;v.type==="graph"&&(D=v.name);let L=v.triples;return D&&(L=L.map(H=>Object.assign(H,{graph:D}))),L.map(B)}function Ne(v){let F;switch(l.default.isSimpleTerm(v.graph)?F=v.graph:v.graph.all?F="ALL":v.graph.default?F="DEFAULT":v.graph.named?F="NAMED":F=v.graph.name,v.type){case"clear":return h.createClear(F,v.silent);case"create":return h.createCreate(F,v.silent);case"drop":return h.createDrop(F,v.silent)}}function Oe(v){return h.createLoad(v.source,v.destination,v.silent)}function be(v){const F=v.source.default?"DEFAULT":v.source.name,D=v.destination.default?"DEFAULT":v.destination.name;switch(v.type){case"copy":return h.createCopy(F,D,v.silent);case"move":return h.createMove(F,D,v.silent);case"add":return h.createAdd(F,D,v.silent)}}function te(v){const F={},D=Array.from(d).reduce((H,Z)=>(H[Z]=!0,H),{});return l.default.mapOperation(v,{[i.types.DELETE_INSERT]:H=>({result:h.createDeleteInsert(H.delete,H.insert,H.where&&te(H.where)),recurse:!1}),[i.types.PATH]:(H,Z)=>({result:Z.createPath(L(H.subject),H.predicate,L(H.object),L(H.graph)),recurse:!1}),[i.types.PATTERN]:(H,Z)=>({result:Z.createPattern(L(H.subject),L(H.predicate),L(H.object),L(H.graph)),recurse:!1}),[i.types.CONSTRUCT]:H=>({result:h.createConstruct(te(H.input),H.template),recurse:!1})});function L(H){if(H.termType==="BlankNode"){let Z=F[H.value];return Z||(Z=l.default.createUniqueVariable(H.value,D,h.dataFactory),D[Z.value]=!0,F[H.value]=Z),Z}return H}}return lu}var ka={},Pd={},ar={},Vj={},zr={},Hj,UJ;function G4(){if(UJ)return Hj;UJ=1,Hj=n;function n(e,u){if(!e)throw new Error(u||"Assertion failed")}return n.equal=function(u,a,r){if(u!=a)throw new Error(r||"Assertion failed: "+u+" != "+a)},Hj}var zI={exports:{}},QJ;function X6e(){return QJ||(QJ=1,typeof Object.create=="function"?zI.exports=function(e,u){u&&(e.super_=u,e.prototype=Object.create(u.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:zI.exports=function(e,u){if(u){e.super_=u;var a=function(){};a.prototype=u.prototype,e.prototype=new a,e.prototype.constructor=e}}),zI.exports}var VJ;function zo(){if(VJ)return zr;VJ=1;var n=G4(),e=X6e();zr.inherits=e;function u(P,C){return(P.charCodeAt(C)&64512)!==55296||C<0||C+1>=P.length?!1:(P.charCodeAt(C+1)&64512)===56320}function a(P,C){if(Array.isArray(P))return P.slice();if(!P)return[];var B=[];if(typeof P=="string")if(C){if(C==="hex")for(P=P.replace(/[^a-z0-9]+/ig,""),P.length%2!==0&&(P="0"+P),U=0;U<P.length;U+=2)B.push(parseInt(P[U]+P[U+1],16))}else for(var V=0,U=0;U<P.length;U++){var G=P.charCodeAt(U);G<128?B[V++]=G:G<2048?(B[V++]=G>>6|192,B[V++]=G&63|128):u(P,U)?(G=65536+((G&1023)<<10)+(P.charCodeAt(++U)&1023),B[V++]=G>>18|240,B[V++]=G>>12&63|128,B[V++]=G>>6&63|128,B[V++]=G&63|128):(B[V++]=G>>12|224,B[V++]=G>>6&63|128,B[V++]=G&63|128)}else for(U=0;U<P.length;U++)B[U]=P[U]|0;return B}zr.toArray=a;function r(P){for(var C="",B=0;B<P.length;B++)C+=o(P[B].toString(16));return C}zr.toHex=r;function t(P){var C=P>>>24|P>>>8&65280|P<<8&16711680|(P&255)<<24;return C>>>0}zr.htonl=t;function i(P,C){for(var B="",V=0;V<P.length;V++){var U=P[V];C==="little"&&(U=t(U)),B+=l(U.toString(16))}return B}zr.toHex32=i;function o(P){return P.length===1?"0"+P:P}zr.zero2=o;function l(P){return P.length===7?"0"+P:P.length===6?"00"+P:P.length===5?"000"+P:P.length===4?"0000"+P:P.length===3?"00000"+P:P.length===2?"000000"+P:P.length===1?"0000000"+P:P}zr.zero8=l;function s(P,C,B,V){var U=B-C;n(U%4===0);for(var G=new Array(U/4),J=0,ne=C;J<G.length;J++,ne+=4){var W;V==="big"?W=P[ne]<<24|P[ne+1]<<16|P[ne+2]<<8|P[ne+3]:W=P[ne+3]<<24|P[ne+2]<<16|P[ne+1]<<8|P[ne],G[J]=W>>>0}return G}zr.join32=s;function c(P,C){for(var B=new Array(P.length*4),V=0,U=0;V<P.length;V++,U+=4){var G=P[V];C==="big"?(B[U]=G>>>24,B[U+1]=G>>>16&255,B[U+2]=G>>>8&255,B[U+3]=G&255):(B[U+3]=G>>>24,B[U+2]=G>>>16&255,B[U+1]=G>>>8&255,B[U]=G&255)}return B}zr.split32=c;function d(P,C){return P>>>C|P<<32-C}zr.rotr32=d;function f(P,C){return P<<C|P>>>32-C}zr.rotl32=f;function p(P,C){return P+C>>>0}zr.sum32=p;function h(P,C,B){return P+C+B>>>0}zr.sum32_3=h;function g(P,C,B,V){return P+C+B+V>>>0}zr.sum32_4=g;function _(P,C,B,V,U){return P+C+B+V+U>>>0}zr.sum32_5=_;function m(P,C,B,V){var U=P[C],G=P[C+1],J=V+G>>>0,ne=(J<V?1:0)+B+U;P[C]=ne>>>0,P[C+1]=J}zr.sum64=m;function w(P,C,B,V){var U=C+V>>>0,G=(U<C?1:0)+P+B;return G>>>0}zr.sum64_hi=w;function T(P,C,B,V){var U=C+V;return U>>>0}zr.sum64_lo=T;function E(P,C,B,V,U,G,J,ne){var W=0,ee=C;ee=ee+V>>>0,W+=ee<C?1:0,ee=ee+G>>>0,W+=ee<G?1:0,ee=ee+ne>>>0,W+=ee<ne?1:0;var se=P+B+U+J+W;return se>>>0}zr.sum64_4_hi=E;function S(P,C,B,V,U,G,J,ne){var W=C+V+G+ne;return W>>>0}zr.sum64_4_lo=S;function N(P,C,B,V,U,G,J,ne,W,ee){var se=0,pe=C;pe=pe+V>>>0,se+=pe<C?1:0,pe=pe+G>>>0,se+=pe<G?1:0,pe=pe+ne>>>0,se+=pe<ne?1:0,pe=pe+ee>>>0,se+=pe<ee?1:0;var le=P+B+U+J+W+se;return le>>>0}zr.sum64_5_hi=N;function j(P,C,B,V,U,G,J,ne,W,ee){var se=C+V+G+ne+ee;return se>>>0}zr.sum64_5_lo=j;function q(P,C,B){var V=C<<32-B|P>>>B;return V>>>0}zr.rotr64_hi=q;function O(P,C,B){var V=P<<32-B|C>>>B;return V>>>0}zr.rotr64_lo=O;function I(P,C,B){return P>>>B}zr.shr64_hi=I;function A(P,C,B){var V=P<<32-B|C>>>B;return V>>>0}return zr.shr64_lo=A,zr}var kj={},HJ;function $4(){if(HJ)return kj;HJ=1;var n=zo(),e=G4();function u(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}return kj.BlockHash=u,u.prototype.update=function(r,t){if(r=n.toArray(r,t),this.pending?this.pending=this.pending.concat(r):this.pending=r,this.pendingTotal+=r.length,this.pending.length>=this._delta8){r=this.pending;var i=r.length%this._delta8;this.pending=r.slice(r.length-i,r.length),this.pending.length===0&&(this.pending=null),r=n.join32(r,0,r.length-i,this.endian);for(var o=0;o<r.length;o+=this._delta32)this._update(r,o,o+this._delta32)}return this},u.prototype.digest=function(r){return this.update(this._pad()),e(this.pending===null),this._digest(r)},u.prototype._pad=function(){var r=this.pendingTotal,t=this._delta8,i=t-(r+this.padLength)%t,o=new Array(i+this.padLength);o[0]=128;for(var l=1;l<i;l++)o[l]=0;if(r<<=3,this.endian==="big"){for(var s=8;s<this.padLength;s++)o[l++]=0;o[l++]=0,o[l++]=0,o[l++]=0,o[l++]=0,o[l++]=r>>>24&255,o[l++]=r>>>16&255,o[l++]=r>>>8&255,o[l++]=r&255}else for(o[l++]=r&255,o[l++]=r>>>8&255,o[l++]=r>>>16&255,o[l++]=r>>>24&255,o[l++]=0,o[l++]=0,o[l++]=0,o[l++]=0,s=8;s<this.padLength;s++)o[l++]=0;return o},kj}var jd={},xo={},kJ;function u2e(){if(kJ)return xo;kJ=1;var n=zo(),e=n.rotr32;function u(c,d,f,p){if(c===0)return a(d,f,p);if(c===1||c===3)return t(d,f,p);if(c===2)return r(d,f,p)}xo.ft_1=u;function a(c,d,f){return c&d^~c&f}xo.ch32=a;function r(c,d,f){return c&d^c&f^d&f}xo.maj32=r;function t(c,d,f){return c^d^f}xo.p32=t;function i(c){return e(c,2)^e(c,13)^e(c,22)}xo.s0_256=i;function o(c){return e(c,6)^e(c,11)^e(c,25)}xo.s1_256=o;function l(c){return e(c,7)^e(c,18)^c>>>3}xo.g0_256=l;function s(c){return e(c,17)^e(c,19)^c>>>10}return xo.g1_256=s,xo}var zj,zJ;function K6e(){if(zJ)return zj;zJ=1;var n=zo(),e=$4(),u=u2e(),a=n.rotl32,r=n.sum32,t=n.sum32_5,i=u.ft_1,o=e.BlockHash,l=[1518500249,1859775393,2400959708,3395469782];function s(){if(!(this instanceof s))return new s;o.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}return n.inherits(s,o),zj=s,s.blockSize=512,s.outSize=160,s.hmacStrength=80,s.padLength=64,s.prototype._update=function(d,f){for(var p=this.W,h=0;h<16;h++)p[h]=d[f+h];for(;h<p.length;h++)p[h]=a(p[h-3]^p[h-8]^p[h-14]^p[h-16],1);var g=this.h[0],_=this.h[1],m=this.h[2],w=this.h[3],T=this.h[4];for(h=0;h<p.length;h++){var E=~~(h/20),S=t(a(g,5),i(E,_,m,w),T,p[h],l[E]);T=w,w=m,m=a(_,30),_=g,g=S}this.h[0]=r(this.h[0],g),this.h[1]=r(this.h[1],_),this.h[2]=r(this.h[2],m),this.h[3]=r(this.h[3],w),this.h[4]=r(this.h[4],T)},s.prototype._digest=function(d){return d==="hex"?n.toHex32(this.h,"big"):n.split32(this.h,"big")},zj}var Gj,GJ;function o2e(){if(GJ)return Gj;GJ=1;var n=zo(),e=$4(),u=u2e(),a=G4(),r=n.sum32,t=n.sum32_4,i=n.sum32_5,o=u.ch32,l=u.maj32,s=u.s0_256,c=u.s1_256,d=u.g0_256,f=u.g1_256,p=e.BlockHash,h=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function g(){if(!(this instanceof g))return new g;p.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=h,this.W=new Array(64)}return n.inherits(g,p),Gj=g,g.blockSize=512,g.outSize=256,g.hmacStrength=192,g.padLength=64,g.prototype._update=function(m,w){for(var T=this.W,E=0;E<16;E++)T[E]=m[w+E];for(;E<T.length;E++)T[E]=t(f(T[E-2]),T[E-7],d(T[E-15]),T[E-16]);var S=this.h[0],N=this.h[1],j=this.h[2],q=this.h[3],O=this.h[4],I=this.h[5],A=this.h[6],P=this.h[7];for(a(this.k.length===T.length),E=0;E<T.length;E++){var C=i(P,c(O),o(O,I,A),this.k[E],T[E]),B=r(s(S),l(S,N,j));P=A,A=I,I=O,O=r(q,C),q=j,j=N,N=S,S=r(C,B)}this.h[0]=r(this.h[0],S),this.h[1]=r(this.h[1],N),this.h[2]=r(this.h[2],j),this.h[3]=r(this.h[3],q),this.h[4]=r(this.h[4],O),this.h[5]=r(this.h[5],I),this.h[6]=r(this.h[6],A),this.h[7]=r(this.h[7],P)},g.prototype._digest=function(m){return m==="hex"?n.toHex32(this.h,"big"):n.split32(this.h,"big")},Gj}var $j,$J;function J6e(){if($J)return $j;$J=1;var n=zo(),e=o2e();function u(){if(!(this instanceof u))return new u;e.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}return n.inherits(u,e),$j=u,u.blockSize=512,u.outSize=224,u.hmacStrength=192,u.padLength=64,u.prototype._digest=function(r){return r==="hex"?n.toHex32(this.h.slice(0,7),"big"):n.split32(this.h.slice(0,7),"big")},$j}var Xj,XJ;function s2e(){if(XJ)return Xj;XJ=1;var n=zo(),e=$4(),u=G4(),a=n.rotr64_hi,r=n.rotr64_lo,t=n.shr64_hi,i=n.shr64_lo,o=n.sum64,l=n.sum64_hi,s=n.sum64_lo,c=n.sum64_4_hi,d=n.sum64_4_lo,f=n.sum64_5_hi,p=n.sum64_5_lo,h=e.BlockHash,g=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function _(){if(!(this instanceof _))return new _;h.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=g,this.W=new Array(160)}n.inherits(_,h),Xj=_,_.blockSize=1024,_.outSize=512,_.hmacStrength=192,_.padLength=128,_.prototype._prepareBlock=function(B,V){for(var U=this.W,G=0;G<32;G++)U[G]=B[V+G];for(;G<U.length;G+=2){var J=A(U[G-4],U[G-3]),ne=P(U[G-4],U[G-3]),W=U[G-14],ee=U[G-13],se=O(U[G-30],U[G-29]),pe=I(U[G-30],U[G-29]),le=U[G-32],Ee=U[G-31];U[G]=c(J,ne,W,ee,se,pe,le,Ee),U[G+1]=d(J,ne,W,ee,se,pe,le,Ee)}},_.prototype._update=function(B,V){this._prepareBlock(B,V);var U=this.W,G=this.h[0],J=this.h[1],ne=this.h[2],W=this.h[3],ee=this.h[4],se=this.h[5],pe=this.h[6],le=this.h[7],Ee=this.h[8],Ae=this.h[9],Ne=this.h[10],Oe=this.h[11],be=this.h[12],te=this.h[13],v=this.h[14],F=this.h[15];u(this.k.length===U.length);for(var D=0;D<U.length;D+=2){var L=v,H=F,Z=j(Ee,Ae),$=q(Ee,Ae),ue=m(Ee,Ae,Ne,Oe,be),ae=w(Ee,Ae,Ne,Oe,be,te),ce=this.k[D],Se=this.k[D+1],xe=U[D],Ce=U[D+1],He=f(L,H,Z,$,ue,ae,ce,Se,xe,Ce),Je=p(L,H,Z,$,ue,ae,ce,Se,xe,Ce);L=S(G,J),H=N(G,J),Z=T(G,J,ne,W,ee),$=E(G,J,ne,W,ee,se);var Ye=l(L,H,Z,$),oe=s(L,H,Z,$);v=be,F=te,be=Ne,te=Oe,Ne=Ee,Oe=Ae,Ee=l(pe,le,He,Je),Ae=s(le,le,He,Je),pe=ee,le=se,ee=ne,se=W,ne=G,W=J,G=l(He,Je,Ye,oe),J=s(He,Je,Ye,oe)}o(this.h,0,G,J),o(this.h,2,ne,W),o(this.h,4,ee,se),o(this.h,6,pe,le),o(this.h,8,Ee,Ae),o(this.h,10,Ne,Oe),o(this.h,12,be,te),o(this.h,14,v,F)},_.prototype._digest=function(B){return B==="hex"?n.toHex32(this.h,"big"):n.split32(this.h,"big")};function m(C,B,V,U,G){var J=C&V^~C&G;return J<0&&(J+=4294967296),J}function w(C,B,V,U,G,J){var ne=B&U^~B&J;return ne<0&&(ne+=4294967296),ne}function T(C,B,V,U,G){var J=C&V^C&G^V&G;return J<0&&(J+=4294967296),J}function E(C,B,V,U,G,J){var ne=B&U^B&J^U&J;return ne<0&&(ne+=4294967296),ne}function S(C,B){var V=a(C,B,28),U=a(B,C,2),G=a(B,C,7),J=V^U^G;return J<0&&(J+=4294967296),J}function N(C,B){var V=r(C,B,28),U=r(B,C,2),G=r(B,C,7),J=V^U^G;return J<0&&(J+=4294967296),J}function j(C,B){var V=a(C,B,14),U=a(C,B,18),G=a(B,C,9),J=V^U^G;return J<0&&(J+=4294967296),J}function q(C,B){var V=r(C,B,14),U=r(C,B,18),G=r(B,C,9),J=V^U^G;return J<0&&(J+=4294967296),J}function O(C,B){var V=a(C,B,1),U=a(C,B,8),G=t(C,B,7),J=V^U^G;return J<0&&(J+=4294967296),J}function I(C,B){var V=r(C,B,1),U=r(C,B,8),G=i(C,B,7),J=V^U^G;return J<0&&(J+=4294967296),J}function A(C,B){var V=a(C,B,19),U=a(B,C,29),G=t(C,B,6),J=V^U^G;return J<0&&(J+=4294967296),J}function P(C,B){var V=r(C,B,19),U=r(B,C,29),G=i(C,B,6),J=V^U^G;return J<0&&(J+=4294967296),J}return Xj}var Kj,KJ;function W6e(){if(KJ)return Kj;KJ=1;var n=zo(),e=s2e();function u(){if(!(this instanceof u))return new u;e.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}return n.inherits(u,e),Kj=u,u.blockSize=1024,u.outSize=384,u.hmacStrength=192,u.padLength=128,u.prototype._digest=function(r){return r==="hex"?n.toHex32(this.h.slice(0,12),"big"):n.split32(this.h.slice(0,12),"big")},Kj}var JJ;function Y6e(){return JJ||(JJ=1,jd.sha1=K6e(),jd.sha224=J6e(),jd.sha256=o2e(),jd.sha384=W6e(),jd.sha512=s2e()),jd}var Jj={},WJ;function Z6e(){if(WJ)return Jj;WJ=1;var n=zo(),e=$4(),u=n.rotl32,a=n.sum32,r=n.sum32_3,t=n.sum32_4,i=e.BlockHash;function o(){if(!(this instanceof o))return new o;i.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}n.inherits(o,i),Jj.ripemd160=o,o.blockSize=512,o.outSize=160,o.hmacStrength=192,o.padLength=64,o.prototype._update=function(_,m){for(var w=this.h[0],T=this.h[1],E=this.h[2],S=this.h[3],N=this.h[4],j=w,q=T,O=E,I=S,A=N,P=0;P<80;P++){var C=a(u(t(w,l(P,T,E,S),_[d[P]+m],s(P)),p[P]),N);w=N,N=S,S=u(E,10),E=T,T=C,C=a(u(t(j,l(79-P,q,O,I),_[f[P]+m],c(P)),h[P]),A),j=A,A=I,I=u(O,10),O=q,q=C}C=r(this.h[1],E,I),this.h[1]=r(this.h[2],S,A),this.h[2]=r(this.h[3],N,j),this.h[3]=r(this.h[4],w,q),this.h[4]=r(this.h[0],T,O),this.h[0]=C},o.prototype._digest=function(_){return _==="hex"?n.toHex32(this.h,"little"):n.split32(this.h,"little")};function l(g,_,m,w){return g<=15?_^m^w:g<=31?_&m|~_&w:g<=47?(_|~m)^w:g<=63?_&w|m&~w:_^(m|~w)}function s(g){return g<=15?0:g<=31?1518500249:g<=47?1859775393:g<=63?2400959708:2840853838}function c(g){return g<=15?1352829926:g<=31?1548603684:g<=47?1836072691:g<=63?2053994217:0}var d=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],f=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],p=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],h=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11];return Jj}var Wj,YJ;function e4e(){if(YJ)return Wj;YJ=1;var n=zo(),e=G4();function u(a,r,t){if(!(this instanceof u))return new u(a,r,t);this.Hash=a,this.blockSize=a.blockSize/8,this.outSize=a.outSize/8,this.inner=null,this.outer=null,this._init(n.toArray(r,t))}return Wj=u,u.prototype._init=function(r){r.length>this.blockSize&&(r=new this.Hash().update(r).digest()),e(r.length<=this.blockSize);for(var t=r.length;t<this.blockSize;t++)r.push(0);for(t=0;t<r.length;t++)r[t]^=54;for(this.inner=new this.Hash().update(r),t=0;t<r.length;t++)r[t]^=106;this.outer=new this.Hash().update(r)},u.prototype.update=function(r,t){return this.inner.update(r,t),this},u.prototype.digest=function(r){return this.outer.update(this.inner.digest()),this.outer.digest(r)},Wj}var ZJ;function ic(){return ZJ||(ZJ=1,(function(n){var e=n;e.utils=zo(),e.common=$4(),e.sha=Y6e(),e.ripemd=Z6e(),e.hmac=e4e(),e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160})(Vj)),Vj}var eW;function t4e(){if(eW)return ar;eW=1,Object.defineProperty(ar,"__esModule",{value:!0}),ar.isTermGrounded=ar.termToSignature=ar.quadToSignature=ar.sha1hex=ar.hashTerm=ar.hashTerms=ar.getGraphBlankNodes=ar.uniqGraph=ar.deindexGraph=ar.indexGraph=ar.getQuadsWithoutBlankNodes=ar.getQuadsWithBlankNodes=ar.hasValue=ar.hashValues=ar.getBijectionInner=ar.getBijection=ar.isomorphic=void 0;const n=ic(),e=Xt(),u=Yr();function a(S,N){return!!r(S,N)}ar.isomorphic=a;function r(S,N){const j=d(c(S)),q=d(c(N));if(Object.keys(j).length!==Object.keys(q).length)return null;for(const C in j)if(j[C]!==q[C])return null;const O=p(s(S)),I=p(s(N)),A=h(S),P=h(N);return t(O,I,A,P)}ar.getBijection=r;function t(S,N,j,q,O,I){O||(O={}),I||(I={});const[A,P]=g(S,j,O),[C,B]=g(N,q,I);if(Object.keys(A).length!==Object.keys(C).length)return null;for(const U in A)if(!l(C,A[U]))return null;let V={};for(const U of j){const G=e.termToString(U),J=P[G];for(const ne in B)if(B[ne]===J){V[G]=ne,delete B[ne];break}}if(!i(Object.keys(V).sort(),j.map(e.termToString).sort())||!i(o(V).sort(),q.map(e.termToString).sort())){V=null;for(const U of j){const G=e.termToString(U);if(!A[G])for(const J of q){const ne=e.termToString(J);if(!C[ne]&&P[G]===B[ne]){const W=m(G);V=t(S,N,j,q,Object.assign(Object.assign({},A),{[G]:W}),Object.assign(Object.assign({},C),{[ne]:W}))}}}}return V}ar.getBijectionInner=t;function i(S,N){if(S.length!==N.length)return!1;for(let j=S.length;j--;)if(S[j]!==N[j])return!1;return!0}function o(S){const N=[];for(const j in S)N.push(S[j]);return N}ar.hashValues=o;function l(S,N){for(const j in S)if(S[j]===N)return!0;return!1}ar.hasValue=l;function s(S){return S.filter(N=>u.someTerms(N,j=>j.termType==="BlankNode"||j.termType==="Quad"&&u.getTermsNested(j).some(q=>q.termType==="BlankNode")))}ar.getQuadsWithBlankNodes=s;function c(S){return S.filter(N=>u.everyTerms(N,j=>j.termType!=="BlankNode"&&!(j.termType==="Quad"&&u.getTermsNested(j).some(q=>q.termType==="BlankNode"))))}ar.getQuadsWithoutBlankNodes=c;function d(S){const N={};for(const j of S)N[JSON.stringify(e.quadToStringQuad(j))]=!0;return N}ar.indexGraph=d;function f(S){return Object.keys(S).map(N=>e.stringQuadToQuad(JSON.parse(N)))}ar.deindexGraph=f;function p(S){return f(d(S))}ar.uniqGraph=p;function h(S){return u.uniqTerms(S.map(N=>u.getBlankNodes(u.getTermsNested(N))).reduce((N,j)=>N.concat(j),[]))}ar.getGraphBlankNodes=h;function g(S,N,j){const q=Object.assign({},j),O={};let I=!0;for(;I;){const A=Object.keys(q).length;for(const C of N){const B=e.termToString(C);if(!q[B]){const[V,U]=_(C,S,q);V&&(q[B]=U),O[B]=U}}const P={};for(const C in O){const B=O[C];P[B]===void 0?P[B]=C:P[B]=!1}for(const C in P){const B=P[C];B&&(q[B]=C)}I=A!==Object.keys(q).length}return[q,O]}ar.hashTerms=g;function _(S,N,j){const q=[];let O=!0;for(const A of N){const P=u.getTermsNested(A);if(P.some(C=>C.equals(S))){q.push(w(A,j,S));for(const C of P)!E(C,j)&&!C.equals(S)&&(O=!1)}}const I=m(q.sort().join(""));return[O,I]}ar.hashTerm=_;function m(S){return n.sha1().update(S).digest("hex")}ar.sha1hex=m;function w(S,N,j){return u.getTerms(S).map(q=>T(q,N,j)).join("|")}ar.quadToSignature=w;function T(S,N,j){return S.equals(j)?"@self":S.termType==="BlankNode"?N[e.termToString(S)]||"@blank":S.termType==="Quad"?`<${w(S,N,j)}>`:e.termToString(S)}ar.termToSignature=T;function E(S,N){return S.termType!=="BlankNode"&&!(S.termType==="Quad"&&u.getTermsNested(S).some(j=>!E(j,N)))||!!N[e.termToString(S)]}return ar.isTermGrounded=E,ar}var tW;function r4e(){return tW||(tW=1,(function(n){var e=Pd&&Pd.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t),Object.defineProperty(a,i,{enumerable:!0,get:function(){return r[t]}})}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=Pd&&Pd.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(t4e(),n)})(Pd)),Pd}var rW;function n4e(){if(rW)return ka;rW=1;var n=ka&&ka.__createBinding||(Object.create?(function(R,k,K,de){de===void 0&&(de=K);var ge=Object.getOwnPropertyDescriptor(k,K);(!ge||("get"in ge?!k.__esModule:ge.writable||ge.configurable))&&(ge={enumerable:!0,get:function(){return k[K]}}),Object.defineProperty(R,de,ge)}):(function(R,k,K,de){de===void 0&&(de=K),R[de]=k[K]})),e=ka&&ka.__setModuleDefault||(Object.create?(function(R,k){Object.defineProperty(R,"default",{enumerable:!0,value:k})}):function(R,k){R.default=k}),u=ka&&ka.__importStar||function(R){if(R&&R.__esModule)return R;var k={};if(R!=null)for(var K in R)K!=="default"&&Object.prototype.hasOwnProperty.call(R,K)&&n(k,R,K);return e(k,R),k},a=ka&&ka.__importDefault||function(R){return R&&R.__esModule?R:{default:R}};Object.defineProperty(ka,"__esModule",{value:!0}),ka.toSparqlJs=ka.toSparql=void 0;const r=r4e(),t=Xt(),i=$n(),o=u(z4()),l=a(oP()),s=a(Mq()),c=o.types,d=o.expressionTypes;let f;const p=new l.default;function h(R,k={}){return new i.Generator(k).stringify(g(R))}ka.toSparql=h;function g(R){_(),R=Le(R);let k=m(R);return k.type==="group"?k.patterns[0]:k}ka.toSparqlJs=g;function _(){f={project:!1,extend:[],group:[],aggregates:[],order:[]}}function m(R){switch(R.type!==c.EXTEND&&R.type!==c.ORDER_BY&&R.type!==c.GRAPH&&(f.project=!1),R.type){case c.EXPRESSION:return w(R);case c.ASK:return Oe(R,c.ASK);case c.BGP:return C(R);case c.CONSTRUCT:return B(R);case c.DESCRIBE:return Oe(R,c.DESCRIBE);case c.DISTINCT:return V(R);case c.EXTEND:return U(R);case c.FROM:return G(R);case c.FILTER:return J(R);case c.GRAPH:return ne(R);case c.GROUP:return W(R);case c.JOIN:return ee(R);case c.LEFT_JOIN:return se(R);case c.MINUS:return pe(R);case c.NOP:return{};case c.ORDER_BY:return le(R);case c.PATH:return Ee(R);case c.PATTERN:return Ae(R);case c.PROJECT:return Oe(R,c.PROJECT);case c.REDUCED:return te(R);case c.SERVICE:return v(R);case c.SLICE:return F(R);case c.UNION:return D(R);case c.VALUES:return L(R);case c.COMPOSITE_UPDATE:return Ce(R);case c.DELETE_INSERT:return He(R);case c.LOAD:return Je(R);case c.CLEAR:return Ye(R);case c.CREATE:return oe(R);case c.DROP:return X(R);case c.ADD:return he(R);case c.MOVE:return ve(R);case c.COPY:return ye(R)}throw new Error(`Unknown Operation type ${R.type}`)}function w(R){switch(R.expressionType){case d.AGGREGATE:return S(R);case d.EXISTENCE:return N(R);case d.NAMED:return j(R);case d.OPERATOR:return q(R);case d.TERM:return O(R);case d.WILDCARD:return I(R)}throw new Error(`Unknown Expression Operation type ${R.expressionType}`)}function T(R){switch(R.type){case c.ALT:return H(R);case c.INV:return Z(R);case c.LINK:return $(R);case c.NPS:return ue(R);case c.ONE_OR_MORE_PATH:return ae(R);case c.SEQ:return ce(R);case c.ZERO_OR_MORE_PATH:return Se(R);case c.ZERO_OR_ONE_PATH:return xe(R)}throw new Error(`Unknown Path type ${R.type}`)}function E(R){return(0,t.termToString)(R)}function S(R){const k={expression:w(R.expression),type:"aggregate",aggregation:R.aggregator,distinct:R.distinct};return R.separator&&(k.separator=R.separator),k}function N(R){return{type:"operation",operator:R.not?"notexists":"exists",args:[{type:"group",patterns:s.default.flatten([m(R.input)])}]}}function j(R){return{type:"functionCall",function:R.name,args:R.args.map(w)}}function q(R){if(R.operator==="desc"){const K={expression:w(R.args[0])};return K.descending=!0,K}const k={type:"operation",operator:R.operator,args:R.args.map(w)};return(k.operator==="in"||k.operator==="notin")&&(k.args=[k.args[0]].concat([k.args.slice(1)])),k}function O(R){return R.term}function I(R){return R.wildcard}function A(R){return Array.isArray(R)?R.length===1?R[0]:{type:"group",patterns:R}:R}function P(R){return R}function C(R){let k=R.patterns.map(Ae);return k.length===0?null:{type:"bgp",triples:k}}function B(R){return{type:"query",prefixes:{},queryType:"CONSTRUCT",template:R.template.map(Ae),where:s.default.flatten([m(R.input)])}}function V(R){let k=m(R.input);return k.patterns[0].distinct=!0,k}function U(R){return f.project?(f.extend.push(R),m(R.input)):s.default.flatten([m(R.input),{type:"bind",variable:R.variable,expression:w(R.expression)}])}function G(R){const k=m(R.input);let K=k;return k.type==="group"&&(K=k.patterns[0]),K.from={default:R.default,named:R.named},k}function J(R){return{type:"group",patterns:s.default.flatten([m(R.input),{type:"filter",expression:w(R.expression)}])}}function ne(R){return{type:"graph",patterns:s.default.flatten([m(R.input)]),name:R.name}}function W(R){const k=m(R.input),K=R.aggregates.map(P);return f.aggregates.push(...K),f.group.push(...R.variables),k}function ee(R){return s.default.flatten(R.input.map(m)).reduce((K,de)=>(de.type!=="bgp"||K.length==0||K[K.length-1].type!=="bgp"?K.push(de):K[K.length-1].triples.push(...de.triples),K),[])}function se(R){const k={type:"optional",patterns:[m(R.input[1])]};return R.expression&&k.patterns.push({type:"filter",expression:w(R.expression)}),k.patterns=s.default.flatten(k.patterns),s.default.flatten([m(R.input[0]),k])}function pe(R){let k=m(R.input[1]);return k.type==="group"&&(k=k.patterns),Array.isArray(k)||(k=[k]),s.default.flatten([m(R.input[0]),{type:"minus",patterns:k}])}function le(R){return f.order.push(...R.expressions),m(R.input)}function Ee(R){return{type:"bgp",triples:[{subject:R.subject,predicate:T(R.predicate),object:R.object}]}}function Ae(R){return{subject:R.subject,predicate:R.predicate,object:R.object}}function Ne(R,k){let K=s.default.isSimpleTerm(R)?E(R):R;if(typeof K=="string"){if(k[K])return k[K]}else if(Array.isArray(R))R=R.map(de=>Ne(de,k));else for(let de of Object.keys(R))R[de]=Ne(R[de],k);return R}function Oe(R,k){const K={type:"query",prefixes:{}},de=K;let ge;k===c.PROJECT?(K.queryType="SELECT",ge=R.variables):k===c.ASK?K.queryType="ASK":k===c.DESCRIBE&&(K.queryType="DESCRIBE",ge=R.terms);const Qe=f.extend,je=f.group,$e=f.aggregates,at=f.order;_(),f.project=!0;let fe=s.default.flatten([m(R.input)]);fe.length===1&&fe[0].type==="group"&&(fe=fe[0].patterns),K.where=fe;let Te={};for(let Me of f.aggregates)Te[E(Me.variable)]=w(Me);let qe={};for(let Me=f.extend.length-1;Me>=0;--Me){let st=f.extend[Me];qe[E(st.variable)]=Ne(w(st.expression),Te)}f.group.length>0&&(de.group=f.group.map(Me=>{let st=E(Me);if(qe[st]){let tt=qe[st];return delete qe[st],{variable:Me,expression:tt}}return{expression:Me}})),f.order.length>0&&(de.order=f.order.map(m).map(Me=>Me.descending?Me:{expression:Me})),ge&&(de.variables=ge.map(Me=>{let st=E(Me);if(qe[st]){let tt=qe[st];return delete qe[st],{variable:Me,expression:tt}}return Me}),de.variables.length===0&&(de.variables=[new i.Wildcard]));const it=Object.entries(qe);if(it.length>0){de.where=de.where||[];for(const[Me,st]of it)de.where.push({type:"bind",variable:(0,t.stringToTerm)(Me),expression:st})}if(K.where.length>0&&K.where[K.where.length-1].type==="filter"){const Me=K.where[K.where.length-1];be(Me,Object.keys(Te))&&(de.having=s.default.flatten([Ne(Me.expression,Te)]),K.where.splice(-1))}return f.extend=Qe,f.group=je,f.aggregates=$e,f.order=at,{type:"group",patterns:[de]}}function be(R,k){return s.default.isSimpleTerm(R)?k.indexOf(E(R))>=0:Array.isArray(R)?R.some(K=>be(K,k)):R===Object(R)?Object.keys(R).some(K=>be(R[K],k)):k.indexOf(R)>=0}function te(R){let k=m(R.input);return k.patterns[0].reduced=!0,k}function v(R){let k=m(R.input);return k.type==="group"&&(k=k.patterns),Array.isArray(k)||(k=[k]),{type:"service",name:R.name,silent:R.silent,patterns:k}}function F(R){let k=m(R.input),K=k;return k.type&&k.type==="group"&&(K=k.patterns[0]),R.start!==0&&(K.offset=R.start),R.length!==void 0&&(K.limit=R.length),k}function D(R){return{type:"union",patterns:R.input.map(m).map(A)}}function L(R){return{type:"values",values:R.bindings.map(k=>{let K={};for(let de of R.variables){let ge=`?${de.value}`;k[ge]?K[ge]=k[ge]:K[ge]=void 0}return K})}}function H(R){const k=R.input.map(T);return k.every(K=>"pathType"in K&&K.pathType==="!")?{type:"path",pathType:"!",items:[{type:"path",pathType:"|",items:s.default.flatten(k.map(K=>K.items))}]}:{type:"path",pathType:"|",items:k}}function Z(R){if(R.path.type===c.NPS){const k=R.path.iris.map(K=>({type:"path",pathType:"^",items:[K]}));return k.length<=1?{type:"path",pathType:"!",items:k}:{type:"path",pathType:"!",items:[{type:"path",pathType:"|",items:k}]}}return{type:"path",pathType:"^",items:[T(R.path)]}}function $(R){return R.iri}function ue(R){return R.iris.length<=1?{type:"path",pathType:"!",items:R.iris}:{type:"path",pathType:"!",items:[{type:"path",pathType:"|",items:R.iris}]}}function ae(R){return{type:"path",pathType:"+",items:[T(R.path)]}}function ce(R){return{type:"path",pathType:"/",items:R.input.map(T)}}function Se(R){return{type:"path",pathType:"*",items:[T(R.path)]}}function xe(R){return{type:"path",pathType:"?",items:[T(R.path)]}}function Ce(R){const k=R.updates.map(K=>m(K).updates[0]);return{prefixes:{},type:"update",updates:k}}function He(R){var k;let K=R.where,de;if(K&&K.type===c.FROM){let Qe=K;K=Qe.input,de={default:Qe.default,named:Qe.named}}const ge=[{updateType:"insertdelete",delete:Ie(R.delete||[]),insert:Ie(R.insert||[])}];if(de&&(ge[0].using=de),!K||K.type===c.BGP&&K.patterns.length===0)ge[0].where=[];else{const Qe=[];let je=m(Pe(K,Qe));if(je.type==="group"?ge[0].where=je.patterns:ge[0].where=[je],Qe.length>0){if(Qe.length!==1)throw new Error("This is unexpected and might indicate an error in graph handling for updates.");((k=Qe[0])===null||k===void 0?void 0:k.value)!==""&&(ge[0].where=[{type:"graph",patterns:ge[0].where,name:Qe[0]}])}}return!R.delete&&!R.where?(ge[0].updateType="insert",delete ge[0].delete,delete ge[0].where):!R.insert&&!R.where?(delete ge[0].insert,delete ge[0].where,R.delete.some(Qe=>Qe.subject.termType==="Variable"||Qe.predicate.termType==="Variable"||Qe.object.termType==="Variable")?ge[0].updateType="deletewhere":ge[0].updateType="delete"):!R.insert&&R.where&&R.where.type==="bgp"&&(0,r.isomorphic)(R.delete,R.where.patterns)&&(delete ge[0].where,ge[0].updateType="deletewhere"),{prefixes:{},type:"update",updates:ge}}function Je(R){const k=[{type:"load",silent:!!R.silent,source:R.source}];return R.destination&&(k[0].destination=R.destination),{prefixes:{},type:"update",updates:k}}function Ye(R){return Y(R,"clear")}function oe(R){return Y(R,"create")}function X(R){return Y(R,"drop")}function Y(R,k){const K=[{type:k,silent:!!R.silent}];return R.source==="DEFAULT"?K[0].graph={default:!0}:R.source==="NAMED"?K[0].graph={named:!0}:R.source==="ALL"?K[0].graph={all:!0}:K[0].graph={type:"graph",name:R.source},{prefixes:{},type:"update",updates:K}}function he(R){return re(R,"add")}function ve(R){return re(R,"move")}function ye(R){return re(R,"copy")}function re(R,k){const K=[{type:k,silent:!!R.silent}];return K[0].source=R.source==="DEFAULT"?{type:"graph",default:!0}:{type:"graph",name:R.source},K[0].destination=R.destination==="DEFAULT"?{type:"graph",default:!0}:{type:"graph",name:R.destination},{prefixes:{},type:"update",updates:K}}function Ie(R){if(!R)return[];const k={};return R.forEach(K=>{const de=K.graph.value;k[de]||(k[de]=[]),k[de].push(K)}),Object.keys(k).map(K=>K===""?{type:"bgp",triples:k[K].map(Ae)}:{type:"graph",triples:k[K].map(Ae),name:k[K][0].graph})}function Le(R){return Pe(R,[])}function Pe(R,k){if(Array.isArray(R))return R.map(je=>Pe(je,k));if(!R.type||R.type===c.DELETE_INSERT)return R;if((R.type===c.PATTERN||R.type===c.PATH)&&R.graph)return k.push(R.graph),R.graph.name!==""?R.type===c.PATTERN?p.createPattern(R.subject,R.predicate,R.object):p.createPath(R.subject,R.predicate,R.object):R;const K={},de={},ge={};for(let je of Object.keys(R)){const $e=[];if(K[je]=Pe(R[je],$e),$e.length>0){de[je]=$e;for(const at of $e)ge[at.value]=at}}const Qe=Object.keys(ge);if(Qe.length>0)if(Qe.length===1&&![c.PROJECT,c.SERVICE].includes(R.type))k.push(ge[Qe[0]]);else{if(R.type===c.BGP)return Fe(R,de.patterns);for(let je of Object.keys(de)){const $e=K[je];Array.isArray($e)?K[je]=$e.map((at,fe)=>de[je][0].value===""?at:p.createGraph(at,de[je][fe])):de[je][0].value!==""&&(K[je]=p.createGraph($e,de[je][0]))}}return K}function Fe(R,k){var K;const de={};for(let je=0;je<R.patterns.length;++je){const $e=R.patterns[je],at=k[je].value;de[at]=(K=de[at])!==null&&K!==void 0?K:{patterns:[],graph:k[je]},de[at].patterns.push($e)}let ge=[];for(const[je,{patterns:$e,graph:at}]of Object.entries(de)){const fe=p.createBgp($e);ge.push(je===""?fe:p.createGraph(fe,at))}let Qe=ge[0];for(let je=1;je<ge.length;++je)Qe=p.createJoin([Qe,ge[je]]);return Qe}return ka}var nW;function a4e(){return nW||(nW=1,(function(n){var e=Uu&&Uu.__createBinding||(Object.create?(function(c,d,f,p){p===void 0&&(p=f);var h=Object.getOwnPropertyDescriptor(d,f);(!h||("get"in h?!d.__esModule:h.writable||h.configurable))&&(h={enumerable:!0,get:function(){return d[f]}}),Object.defineProperty(c,p,h)}):(function(c,d,f,p){p===void 0&&(p=f),c[p]=d[f]})),u=Uu&&Uu.__setModuleDefault||(Object.create?(function(c,d){Object.defineProperty(c,"default",{enumerable:!0,value:d})}):function(c,d){c.default=d}),a=Uu&&Uu.__importStar||function(c){if(c&&c.__esModule)return c;var d={};if(c!=null)for(var f in c)f!=="default"&&Object.prototype.hasOwnProperty.call(c,f)&&e(d,c,f);return u(d,c),d},r=Uu&&Uu.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(n,"__esModule",{value:!0}),n.Util=n.toSparqlJs=n.toSparql=n.Factory=n.Algebra=n.translate=void 0;const t=r($6e());n.translate=t.default;const i=a(z4());n.Algebra=i;const o=r(oP());n.Factory=o.default;const l=n4e();Object.defineProperty(n,"toSparql",{enumerable:!0,get:function(){return l.toSparql}}),Object.defineProperty(n,"toSparqlJs",{enumerable:!0,get:function(){return l.toSparqlJs}});const s=r(Mq());n.Util=s.default})(Uu)),Uu}var aW;function i4e(){if(aW)return q_;aW=1,Object.defineProperty(q_,"__esModule",{value:!0}),q_.ActorExtractLinksQuadPatternQuery=void 0;const n=uP(),e=lt(),u=De(),a=Rr(),r=Yr(),t=a4e(),i=new a.DataFactory,o=i.variable("__comunica:pp_var");let l=class WD extends n.ActorExtractLinks{constructor(c){super(c)}static getCurrentQuery(c){const d=c.get(e.KeysInitQuery.query);if(d)return d}static matchQuadPatternInOperation(c,d){const f=[];return t.Util.recurseOperation(d,{pattern(p){return(0,r.matchPatternComplete)(c,p)&&f.push(p),!1},path(p){return t.Util.recurseOperation(p,{link(h){const g=i.quad(o,h.iri,o,p.graph);return(0,r.matchPatternComplete)(c,g)&&f.push(g),!1},nps(h){for(const g of h.iris){const _=i.quad(o,g,o,p.graph);(0,r.matchPatternComplete)(c,_)&&f.push(_)}return!1}}),!1}}),f}async test(c){return WD.getCurrentQuery(c.context)?(0,u.passTestVoid)():(0,u.failTest)(`Actor ${this.name} can only work in the context of a query.`)}async run(c){const d=WD.getCurrentQuery(c.context);return{links:await n.ActorExtractLinks.collectStream(c.metadata,(f,p)=>{const h=WD.matchQuadPatternInOperation(f,d);if(h.length>0)if(this.onlyVariables){const g={};for(const _ of h)for(const m of(0,r.filterQuadTermNames)(_,w=>w.termType==="Variable"))g[m]=!0;for(const _ of Object.keys(g))f[_].termType==="NamedNode"&&p.push({url:f[_].value,metadata:{producedByActor:{name:this.name,onlyVariables:this.onlyVariables}}})}else for(const g of(0,r.getNamedNodes)((0,r.getTerms)(f)))p.push({url:g.value,metadata:{producedByActor:{name:this.name,onlyVariables:this.onlyVariables}}})})}}};return q_.ActorExtractLinksQuadPatternQuery=l,q_}var iW;function Cq(){return iW||(iW=1,(function(n){var e=Dd&&Dd.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=Dd&&Dd.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(i4e(),n)})(Dd)),Dd}var Md={},B_={},uW;function u4e(){if(uW)return B_;uW=1,Object.defineProperty(B_,"__esModule",{value:!0}),B_.MediatorCombineArray=void 0;const n=De();let e=class extends n.Mediator{constructor(a){super(a),this.combiner=this.createCombiner()}async mediate(a){let r;try{r=this.publish(a)}catch{r=[]}if(this.filterErrors){const o=[];for(const l of r)(await l.reply).isPassed()&&o.push(l);r=o}const t=[];await Promise.all(r.map(async({reply:o},l)=>{const s=await o,c=s.getOrThrow();return t[l]=s.getSideData(),c}));const i=await Promise.all(r.map((o,l)=>o.actor.runObservable(a,t[l])));return this.combiner(i)}mediateWith(){throw new Error("Method not supported.")}createCombiner(){return a=>{const r={};for(const t of this.fields){r[t]=[];for(const i of[[]].concat(a.map(o=>o[t])))i&&r[t].push(...i)}return r}}};return B_.MediatorCombineArray=e,B_}var oW;function Lq(){return oW||(oW=1,(function(n){var e=Md&&Md.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=Md&&Md.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(u4e(),n)})(Md)),Md}var Cd={},U_={},Ld={},Q_={},sW;function o4e(){if(sW)return Q_;sW=1,Object.defineProperty(Q_,"__esModule",{value:!0}),Q_.ActorContextPreprocess=void 0;const n=De();let e=class extends n.Actor{constructor(a){super(a)}};return Q_.ActorContextPreprocess=e,Q_}var cW;function w1(){return cW||(cW=1,(function(n){var e=Ld&&Ld.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=Ld&&Ld.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(o4e(),n)})(Ld)),Ld}var lW;function s4e(){if(lW)return U_;lW=1,Object.defineProperty(U_,"__esModule",{value:!0}),U_.ActorContextPreprocessConvertShortcuts=void 0;const n=w1(),e=De();let u=class c2e extends n.ActorContextPreprocess{constructor(r){super(r)}async test(r){return(0,e.passTestVoid)()}async run(r){return{context:c2e.expandShortcuts(r.context,this.contextKeyShortcuts)}}static expandShortcuts(r,t){for(const i of r.keys())t[i.name]&&(r=r.set(new e.ActionContextKey(t[i.name]),r.get(i)).delete(i));return r}};return U_.ActorContextPreprocessConvertShortcuts=u,U_}var dW;function qq(){return dW||(dW=1,(function(n){var e=Cd&&Cd.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=Cd&&Cd.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(s4e(),n)})(Cd)),Cd}var qd={},V_={},fW;function c4e(){if(fW)return V_;fW=1,Object.defineProperty(V_,"__esModule",{value:!0}),V_.ActorContextPreprocessSetDefaults=void 0;const n=w1(),e=lt(),u=De(),a=Rr();let r=class extends n.ActorContextPreprocess{constructor(i){super(i),this.defaultFunctionArgumentsCache={}}async test(i){return(0,u.passTestVoid)()}async run(i){let o=i.context;if(i.initialize){o=o.setDefault(e.KeysInitQuery.queryTimestamp,new Date).setDefault(e.KeysInitQuery.queryTimestampHighResolution,performance.now()).setDefault(e.KeysQuerySourceIdentify.sourceIds,new Map).setDefault(e.KeysCore.log,this.logger).setDefault(e.KeysInitQuery.functionArgumentsCache,this.defaultFunctionArgumentsCache).setDefault(e.KeysQuerySourceIdentify.hypermediaSourcesAggregatedStores,new Map).setDefault(e.KeysInitQuery.dataFactory,new a.DataFactory);let l={language:"sparql",version:"1.1"};o.has(e.KeysInitQuery.queryFormat)?(l=o.get(e.KeysInitQuery.queryFormat),l.language==="graphql"&&(o=o.setDefault(e.KeysInitQuery.graphqlSingularizeVariables,{}))):o=o.set(e.KeysInitQuery.queryFormat,l),!o.has(e.KeysInitQuery.extensionFunctionsAlwaysPushdown)&&!o.has(e.KeysInitQuery.extensionFunctions)&&(o=o.set(e.KeysInitQuery.extensionFunctionsAlwaysPushdown,!0))}return{context:o}}};return V_.ActorContextPreprocessSetDefaults=r,V_}var pW;function Bq(){return pW||(pW=1,(function(n){var e=qd&&qd.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=qd&&qd.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(c4e(),n)})(qd)),qd}var Bd={},H_={},hW;function l4e(){if(hW)return H_;hW=1,Object.defineProperty(H_,"__esModule",{value:!0}),H_.ActorContextPreprocessSourceToDestination=void 0;const n=w1(),e=lt(),u=De();let a=class extends n.ActorContextPreprocess{constructor(t){super(t)}async test(t){return(0,u.passTestVoid)()}async run(t){if(t.context.get(e.KeysInitQuery.querySourcesUnidentified)&&!t.context.get(e.KeysRdfUpdateQuads.destination)){const i=t.context.get(e.KeysInitQuery.querySourcesUnidentified);if(i.length===1)return{context:t.context.set(e.KeysRdfUpdateQuads.destination,i[0])}}return t}};return H_.ActorContextPreprocessSourceToDestination=a,H_}var yW;function Uq(){return yW||(yW=1,(function(n){var e=Bd&&Bd.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=Bd&&Bd.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(l4e(),n)})(Bd)),Bd}var Ud={},k_={},z_={},Yj={},GI={exports:{}},mW;function X4(){if(mW)return GI.exports;mW=1;var n=typeof Reflect=="object"?Reflect:null,e=n&&typeof n.apply=="function"?n.apply:function(S,N,j){return Function.prototype.apply.call(S,N,j)},u;n&&typeof n.ownKeys=="function"?u=n.ownKeys:Object.getOwnPropertySymbols?u=function(S){return Object.getOwnPropertyNames(S).concat(Object.getOwnPropertySymbols(S))}:u=function(S){return Object.getOwnPropertyNames(S)};function a(E){console&&console.warn&&console.warn(E)}var r=Number.isNaN||function(S){return S!==S};function t(){t.init.call(this)}GI.exports=t,GI.exports.once=m,t.EventEmitter=t,t.prototype._events=void 0,t.prototype._eventsCount=0,t.prototype._maxListeners=void 0;var i=10;function o(E){if(typeof E!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof E)}Object.defineProperty(t,"defaultMaxListeners",{enumerable:!0,get:function(){return i},set:function(E){if(typeof E!="number"||E<0||r(E))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+E+".");i=E}}),t.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},t.prototype.setMaxListeners=function(S){if(typeof S!="number"||S<0||r(S))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+S+".");return this._maxListeners=S,this};function l(E){return E._maxListeners===void 0?t.defaultMaxListeners:E._maxListeners}t.prototype.getMaxListeners=function(){return l(this)},t.prototype.emit=function(S){for(var N=[],j=1;j<arguments.length;j++)N.push(arguments[j]);var q=S==="error",O=this._events;if(O!==void 0)q=q&&O.error===void 0;else if(!q)return!1;if(q){var I;if(N.length>0&&(I=N[0]),I instanceof Error)throw I;var A=new Error("Unhandled error."+(I?" ("+I.message+")":""));throw A.context=I,A}var P=O[S];if(P===void 0)return!1;if(typeof P=="function")e(P,this,N);else for(var C=P.length,B=h(P,C),j=0;j<C;++j)e(B[j],this,N);return!0};function s(E,S,N,j){var q,O,I;if(o(N),O=E._events,O===void 0?(O=E._events=Object.create(null),E._eventsCount=0):(O.newListener!==void 0&&(E.emit("newListener",S,N.listener?N.listener:N),O=E._events),I=O[S]),I===void 0)I=O[S]=N,++E._eventsCount;else if(typeof I=="function"?I=O[S]=j?[N,I]:[I,N]:j?I.unshift(N):I.push(N),q=l(E),q>0&&I.length>q&&!I.warned){I.warned=!0;var A=new Error("Possible EventEmitter memory leak detected. "+I.length+" "+String(S)+" listeners added. Use emitter.setMaxListeners() to increase limit");A.name="MaxListenersExceededWarning",A.emitter=E,A.type=S,A.count=I.length,a(A)}return E}t.prototype.addListener=function(S,N){return s(this,S,N,!1)},t.prototype.on=t.prototype.addListener,t.prototype.prependListener=function(S,N){return s(this,S,N,!0)};function c(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(E,S,N){var j={fired:!1,wrapFn:void 0,target:E,type:S,listener:N},q=c.bind(j);return q.listener=N,j.wrapFn=q,q}t.prototype.once=function(S,N){return o(N),this.on(S,d(this,S,N)),this},t.prototype.prependOnceListener=function(S,N){return o(N),this.prependListener(S,d(this,S,N)),this},t.prototype.removeListener=function(S,N){var j,q,O,I,A;if(o(N),q=this._events,q===void 0)return this;if(j=q[S],j===void 0)return this;if(j===N||j.listener===N)--this._eventsCount===0?this._events=Object.create(null):(delete q[S],q.removeListener&&this.emit("removeListener",S,j.listener||N));else if(typeof j!="function"){for(O=-1,I=j.length-1;I>=0;I--)if(j[I]===N||j[I].listener===N){A=j[I].listener,O=I;break}if(O<0)return this;O===0?j.shift():g(j,O),j.length===1&&(q[S]=j[0]),q.removeListener!==void 0&&this.emit("removeListener",S,A||N)}return this},t.prototype.off=t.prototype.removeListener,t.prototype.removeAllListeners=function(S){var N,j,q;if(j=this._events,j===void 0)return this;if(j.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):j[S]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete j[S]),this;if(arguments.length===0){var O=Object.keys(j),I;for(q=0;q<O.length;++q)I=O[q],I!=="removeListener"&&this.removeAllListeners(I);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(N=j[S],typeof N=="function")this.removeListener(S,N);else if(N!==void 0)for(q=N.length-1;q>=0;q--)this.removeListener(S,N[q]);return this};function f(E,S,N){var j=E._events;if(j===void 0)return[];var q=j[S];return q===void 0?[]:typeof q=="function"?N?[q.listener||q]:[q]:N?_(q):h(q,q.length)}t.prototype.listeners=function(S){return f(this,S,!0)},t.prototype.rawListeners=function(S){return f(this,S,!1)},t.listenerCount=function(E,S){return typeof E.listenerCount=="function"?E.listenerCount(S):p.call(E,S)},t.prototype.listenerCount=p;function p(E){var S=this._events;if(S!==void 0){var N=S[E];if(typeof N=="function")return 1;if(N!==void 0)return N.length}return 0}t.prototype.eventNames=function(){return this._eventsCount>0?u(this._events):[]};function h(E,S){for(var N=new Array(S),j=0;j<S;++j)N[j]=E[j];return N}function g(E,S){for(;S+1<E.length;S++)E[S]=E[S+1];E.pop()}function _(E){for(var S=new Array(E.length),N=0;N<S.length;++N)S[N]=E[N].listener||E[N];return S}function m(E,S){return new Promise(function(N,j){function q(I){E.removeListener(S,O),j(I)}function O(){typeof E.removeListener=="function"&&E.removeListener("error",q),N([].slice.call(arguments))}T(E,S,O,{once:!0}),S!=="error"&&w(E,q,{once:!0})})}function w(E,S,N){typeof E.on=="function"&&T(E,"error",S,N)}function T(E,S,N,j){if(typeof E.on=="function")j.once?E.once(S,N):E.on(S,N);else if(typeof E.addEventListener=="function")E.addEventListener(S,function q(O){j.once&&E.removeEventListener(S,q),N(O)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof E)}return GI.exports}var G_={},bW;function d4e(){if(bW)return G_;bW=1,Object.defineProperty(G_,"__esModule",{value:!0}),G_.LinkedList=void 0;class n{constructor(){this._length=0,this._head=null,this._tail=null}get length(){return this._length}get first(){var u;return(u=this._head)===null||u===void 0?void 0:u.value}get last(){var u;return(u=this._tail)===null||u===void 0?void 0:u.value}get empty(){return this._head===null}push(u){const a={value:u,next:null};this._tail===null?this._head=this._tail=a:this._tail.next=this._tail=a,this._length++}shift(){if(this._head===null)return;const{value:u,next:a}=this._head;return this._head=a,a===null&&(this._tail=null),this._length--,u}clear(){this._length=0,this._head=this._tail=null}}return G_.LinkedList=n,G_}var $_={};let Zj=1;const Qq=new Map;let eM=!1,Vq,l2e=(n,...e)=>(Qq.set(Zj,[n,e]),Vq(Zj),Zj++),Hq=n=>{Qq.delete(n)};function kq(n){if(eM)setTimeout(kq,0,n);else{const e=Qq.get(n);if(e){eM=!0;try{e[0](...e[1])}finally{Hq(n),eM=!1}}}}function f4e(){const n=new MessageChannel;n.port1.onmessage=e=>{kq(e.data)},Vq=e=>{n.port2.postMessage(e)}}function p4e(){const n=`setImmediate$${Math.random()}$`;window.addEventListener("message",e=>{typeof e.data=="string"&&e.data.startsWith(n)&&kq(+e.data.slice(n.length))}),Vq=e=>{window.postMessage(n+e,"*")}}const $I=typeof self>"u"?typeof global>"u"?void 0:global:self;$I.setImmediate?(l2e=$I.setImmediate,Hq=$I.clearImmediate):$I.importScripts?f4e():p4e();const h4e=Object.freeze(Object.defineProperty({__proto__:null,get clearImmediate(){return Hq},get setImmediate(){return l2e}},Symbol.toStringTag,{value:"Module"})),y4e=zF(h4e);var gW;function m4e(){if(gW)return $_;gW=1,Object.defineProperty($_,"__esModule",{value:!0}),$_.createTaskScheduler=void 0;const n=y4e,e=Promise.resolve(void 0);function u(a=n.setImmediate){const r=typeof queueMicrotask=="function"?queueMicrotask:o=>e.then(o);let t=0,i=null;return o=>{i!==null?i.push(o):++t<100?r(o):(i=[o],a(()=>{for(const l of i)r(l);i=null,t=0}))}}return $_.createTaskScheduler=u,$_}var vW;function Gt(){return vW||(vW=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.isIterator=n.isIterable=n.isSourceExpression=n.isPromise=n.isEventEmitter=n.isFunction=n.range=n.union=n.fromIterable=n.fromIterator=n.fromArray=n.single=n.empty=n.wrap=n.WrappingIterator=n.ClonedIterator=n.UnionIterator=n.MultiTransformIterator=n.SimpleTransformIterator=n.TransformIterator=n.BufferedIterator=n.MappingIterator=n.DESTINATION=n.identity=n.IntegerIterator=n.ArrayIterator=n.SingletonIterator=n.EmptyIterator=n.AsyncIterator=n.DESTROYED=n.ENDED=n.CLOSED=n.CLOSING=n.OPEN=n.INIT=n.setTaskScheduler=n.getTaskScheduler=n.scheduleTask=n.LinkedList=void 0;const e=X4(),u=d4e();Object.defineProperty(n,"LinkedList",{enumerable:!0,get:function(){return u.LinkedList}});let r=m4e().createTaskScheduler();function t(F){r(F)}n.scheduleTask=t;function i(){return r}n.getTaskScheduler=i;function o(F){r=F}n.setTaskScheduler=o,n.INIT=1,n.OPEN=2,n.CLOSING=4,n.CLOSED=8,n.ENDED=16,n.DESTROYED=32;class l extends e.EventEmitter{constructor(D=n.OPEN){super(),this._readable=!1,this._state=D,this.on("newListener",s)}_changeState(D,L=!1){const H=D>this._state&&this._state<n.ENDED;return H&&(this._state=D,D===n.ENDED&&(L?r(()=>this.emit("end")):this.emit("end"))),H}read(){return null}forEach(D,L){this.on("data",Ee(D,L))}close(){this._changeState(n.CLOSED)&&this._endAsync()}destroy(D){this.done||this._destroy(D,L=>{D=D||L,D&&this.emit("error",D),this._end(!0)})}_destroy(D,L){L()}_end(D=!1){this._changeState(D?n.DESTROYED:n.ENDED)&&(this._readable=!1,this.removeAllListeners("readable"),this.removeAllListeners("data"),this.removeAllListeners("end"))}_endAsync(){r(()=>this._end())}get readable(){return this._readable}set readable(D){D=!!D&&!this.done,this._readable!==D&&(this._readable=D,D&&r(()=>this.emit("readable")))}get closed(){return this._state>=n.CLOSING}get ended(){return this._state===n.ENDED}get destroyed(){return this._state===n.DESTROYED}get done(){return this._state>=n.ENDED}toString(){const D=this._toStringDetails();return`[${this.constructor.name}${D?` ${D}`:""}]`}_toStringDetails(){return""}toArray(D){const L=[],H=typeof D?.limit=="number"?D.limit:1/0;return this.ended||H<=0?Promise.resolve(L):new Promise((Z,$)=>{const ue=()=>Z(L),ae=ce=>{L.push(ce),L.length>=H&&(this.removeListener("error",$),this.removeListener("data",ae),this.removeListener("end",ue),Z(L))};this.on("error",$),this.on("data",ae),this.on("end",ue)})}getProperty(D,L){const H=this._properties;if(!L)return H&&H[D];if(H&&D in H)r(()=>L(H[D]));else{let Z;(Z=this._propertyCallbacks)||(this._propertyCallbacks=Z=Object.create(null)),D in Z?Z[D].push(L):Z[D]=[L]}}setProperty(D,L){const H=this._properties||(this._properties=Object.create(null));H[D]=L;const Z=this._propertyCallbacks||{},$=Z[D];if($){delete Z[D],r(()=>{for(const ue of $)ue(L)});for(D in Z)return;delete this._propertyCallbacks}}getProperties(){const D=this._properties,L={};for(const H in D)L[H]=D[H];return L}setProperties(D){for(const L in D)this.setProperty(L,D[L])}copyProperties(D,L){for(const H of L)D.getProperty(H,Z=>this.setProperty(H,Z))}transform(D){return new I(this,D)}map(D,L){return new m(this,Ee(D,L))}filter(D,L){return this.map(function(H){return D.call(L||this,H)?H:null})}uniq(D=_){const L=new Set;return this.filter(function(H){const Z=D.call(this,H);return L.has(Z)?!1:(L.add(Z),!0)})}prepend(D){return this.transform({prepend:D})}append(D){return this.transform({append:D})}surround(D,L){return this.transform({prepend:D,append:L})}skip(D){return this.map(L=>D-- >0?null:L)}take(D){return this.transform({limit:D})}range(D,L){return this.transform({offset:D,limit:Math.max(L-D+1,0)})}clone(){return new B(this)}[Symbol.asyncIterator](){const D=this;let L=null,H=null,Z=null;D.addListener("readable",$),D.addListener("end",$),D.addListener("error",ue);function $(){if(L!==null)if(Z!==null)ue(Z);else if(D.done)L({done:!0,value:void 0}),L=H=null,ae();else{const ce=D.read();ce!==null&&(L({done:!1,value:ce}),L=H=null)}}function ue(ce){H!==null?(H(ce),L=H=Z=null,ae()):Z===null&&(Z=ce)}function ae(){D.removeListener("readable",$),D.removeListener("end",$),D.removeListener("error",ue)}return{next(){return new Promise((ce,Se)=>{L=ce,H=Se,$()})}}}}n.AsyncIterator=l;function s(F){F==="data"&&(this.removeListener("newListener",s),d(this,"readable",c),this.readable&&r(()=>c.call(this)))}function c(){let F;for(;this.listenerCount("data")!==0&&(F=this.read())!==null;)this.emit("data",F);this.listenerCount("data")===0&&!this.done&&(this.removeListener("readable",c),d(this,"newListener",s))}function d(F,D,L){F.listeners(D).includes(L)||F.on(D,L)}class f extends l{constructor(){super(),this._changeState(n.ENDED,!0)}}n.EmptyIterator=f;class p extends l{constructor(D){super(),this._item=D,D===null?this.close():this.readable=!0}read(){const D=this._item;return this._item=null,this.close(),D}_toStringDetails(){return this._item===null?"":`(${this._item})`}}n.SingletonIterator=p;class h extends l{constructor(D=[],{autoStart:L=!0,preserve:H=!0}={}){super();const Z=H||!Array.isArray(D)?[...D]:D;this._index=0,this._sourceStarted=L!==!1,this._truncateThreshold=H?-1:64,this._sourceStarted&&Z.length===0?this.close():this._buffer=Z,this.readable=!0}read(){this._sourceStarted||(this._sourceStarted=!0);let D=null;return this._buffer&&(this._index<this._buffer.length&&(D=this._buffer[this._index++]),this._index===this._buffer.length?(delete this._buffer,this.close()):this._index===this._truncateThreshold&&(this._buffer.splice(0,this._truncateThreshold),this._index=0)),D}_toStringDetails(){return`(${this._buffer?this._buffer.length-this._index:0})`}_destroy(D,L){delete this._buffer,L()}toArray(D={}){if(!this._buffer)return Promise.resolve([]);const{length:L}=this._buffer,H=this._index,Z=typeof D.limit!="number"?L:H+D.limit,$=this._buffer.slice(H,Z);return this._index=Z,Z>=L&&this.close(),Promise.resolve($)}}n.ArrayIterator=h;class g extends l{constructor({start:D=0,step:L=1,end:H}={}){super(),Number.isFinite(D)&&(D=Math.trunc(D)),this._next=D,Number.isFinite(L)&&(L=Math.trunc(L)),this._step=L;const Z=L>=0,$=Z?1/0:-1/0;Number.isFinite(H)?H=Math.trunc(H):H!==-$&&(H=$),this._last=H,!Number.isFinite(D)||(Z?D>H:D<H)?this.close():this.readable=!0}read(){if(this.closed)return null;const D=this._next,L=this._step,H=this._last,Z=this._next+=L;return(L>=0?Z>H:Z<H)&&this.close(),D}_toStringDetails(){return`(${this._next}...${this._last})`}}n.IntegerIterator=g;function _(F){return F}n.identity=_,n.DESTINATION=Symbol("destination");class m extends l{constructor(D,L=_,H={}){super(),this._map=L,this._source=w(D),this._destroySource=H.destroySource!==!1,D.done?this.close():(this._source[n.DESTINATION]=this,this._source.on("end",j),this._source.on("error",N),this._source.on("readable",S),this.readable=this._source.readable)}read(){if(!this.done){if(this._source.readable){let D,L;for(;(D=this._source.read())!==null;)if((L=this._map(D))!==null)return L}this.readable=!1,this._source.done&&this.close()}return null}_end(D){this._source.removeListener("end",j),this._source.removeListener("error",N),this._source.removeListener("readable",S),delete this._source[n.DESTINATION],this._destroySource&&this._source.destroy(),super._end(D)}}n.MappingIterator=m;function w(F,D=!1){if(!F||!Ae(F.read)||!Ae(F.on))throw new TypeError(`Invalid source: ${F}`);if(!D&&F[n.DESTINATION])throw new Error("The source already has a destination");return F}class T extends l{constructor({maxBufferSize:D=4,autoStart:L=!0}={}){super(n.INIT),this._buffer=new u.LinkedList,this._maxBufferSize=4,this._reading=!0,this._pushedCount=0,this.maxBufferSize=D,r(()=>this._init(L)),this._sourceStarted=L!==!1}get maxBufferSize(){return this._maxBufferSize}set maxBufferSize(D){D!==1/0&&(D=Number.isFinite(D)?Math.max(Math.trunc(D),1):4),this._maxBufferSize!==D&&(this._maxBufferSize=D,this._state===n.OPEN&&this._fillBuffer())}_init(D){let L=!1;this._reading=!0,this._begin(()=>{if(L)throw new Error("done callback called multiple times");L=!0,this._reading=!1,this._changeState(n.OPEN),D?this._fillBufferAsync():this.readable=!0})}_begin(D){D()}read(){if(this.done)return null;this._sourceStarted||(this._sourceStarted=!0);const D=this._buffer;let L;return D.empty?(L=null,this.readable=!1):L=D.shift(),!this._reading&&D.length<this._maxBufferSize&&(this.closed?D.empty&&this._endAsync():this._fillBufferAsync()),L}_read(D,L){L()}_push(D){this.done||(this._pushedCount++,this._buffer.push(D),this.readable=!0)}_fillBuffer(){let D;this._reading||(this.closed?this._completeClose():(D=Math.min(this._maxBufferSize-this._buffer.length,128))>0&&(this._pushedCount=0,this._reading=!0,this._read(D,()=>{if(!D)throw new Error("done callback called multiple times");D=0,this._reading=!1,this.closed?this._completeClose():this._pushedCount&&(this.readable=!0,this._buffer.length<this._maxBufferSize/2&&this._fillBufferAsync())})))}_fillBufferAsync(){this._reading||(this._reading=!0,r(()=>{this._reading=!1,this._fillBuffer()}))}close(){this._reading?this._changeState(n.CLOSING):this._completeClose()}_completeClose(){this._changeState(n.CLOSED)&&(this._reading=!0,this._flush(()=>{if(!this._reading)throw new Error("done callback called multiple times");this._reading=!1,this._buffer.empty&&this._endAsync()}))}_destroy(D,L){this._buffer.clear(),L()}_flush(D){D()}_toStringDetails(){const D=this._buffer;return`{${D.empty?"":`next: ${D.first}, `}buffer: ${D.length}}`}}n.BufferedIterator=T;class E extends T{constructor(D,L=D||{}){super(L),this._boundPush=H=>this._push(H),be(D)||(D=L.source),Ne(D)?this.source=D:D&&(this._createSource=Oe(D)?()=>D:D,this._sourceStarted&&this._loadSourceAsync()),this._optional=!!L.optional,this._destroySource=L.destroySource!==!1}get source(){return Ae(this._createSource)&&this._loadSourceAsync(),this._source}set source(D){const L=this._source=this._validateSource(D);L[n.DESTINATION]=this,this.done?this._destroySource&&L.destroy():L.done?this.close():(L.on("end",q),L.on("readable",O),L.on("error",N))}_loadSourceAsync(){Ae(this._createSource)&&(Promise.resolve(this._createSource()).then(D=>{delete this._createSource,this.source=D,this._fillBuffer()},D=>this.emit("error",D)),this._createSource=null)}_validateSource(D,L=!1){if(this._source||typeof this._createSource<"u")throw new Error("The source cannot be changed after it has been set");return w(D,L)}_read(D,L){const H=()=>{this._pushedCount<D&&!this.closed?r(()=>this._readAndTransform(H,L)):L()};this._readAndTransform(H,L)}_readAndTransform(D,L){let H;const Z=this.source;!Z||Z.done||(H=Z.read())===null?L():this._optional?this._optionalTransform(H,D):this._transform(H,D,this._boundPush)}_optionalTransform(D,L){const H=this._pushedCount;this._transform(D,()=>{H===this._pushedCount&&this._push(D),L()},this._boundPush)}_transform(D,L,H){H(D),L()}_closeWhenDone(){this.close()}_end(D){const L=this._source;L&&(L.removeListener("end",q),L.removeListener("error",N),L.removeListener("readable",O),delete L[n.DESTINATION],this._destroySource&&L.destroy()),super._end(D)}}n.TransformIterator=E;function S(){this[n.DESTINATION].readable=!0}function N(F){this[n.DESTINATION].emit("error",F)}function j(){this[n.DESTINATION].close()}function q(){this[n.DESTINATION]._closeWhenDone()}function O(){this[n.DESTINATION]._sourceStarted!==!1&&this[n.DESTINATION]._fillBuffer()}class I extends E{constructor(D,L){if(super(D,L),this._offset=0,this._limit=1/0,this._filter=H=>!0,L=L||(be(D)?null:D),L){const H=Ae(L)?L:L.transform,{limit:Z,offset:$,filter:ue,map:ae,prepend:ce,append:Se}=L;$===1/0||Z===-1/0?this._limit=0:(Number.isFinite($)&&(this._offset=Math.max(Math.trunc($),0)),Number.isFinite(Z)&&(this._limit=Math.max(Math.trunc(Z),0)),Ae(ue)&&(this._filter=ue),Ae(ae)&&(this._map=ae),this._transform=Ae(H)?H:null),ce&&(this._prepender=Ne(ce)?ce:W(ce)),Se&&(this._appender=Ne(Se)?Se:W(Se))}}_read(D,L){const H=()=>this._readAndTransformSimple(D,Z,L);this._readAndTransformSimple(D,Z,L);function Z(){r(H)}}_readAndTransformSimple(D,L,H){let Z;const{source:$}=this;if(!$||$.done){H();return}for(this._limit===0&&this.close();!this.closed&&this._pushedCount<D&&(Z=$.read())!==null;){if(!this._filter(Z)||this._offset!==0&&this._offset--)continue;const ue=typeof this._map>"u"?Z:this._map(Z);if(ue===null)this._optional&&this._push(Z);else if(!Ae(this._transform))this._push(ue);else{this._optional?this._optionalTransform(ue,L):this._transform(ue,L,this._boundPush);return}--this._limit===0&&this.close()}H()}_begin(D){this._insert(this._prepender,D),delete this._prepender}_flush(D){this._insert(this._appender,D),delete this._appender}_insert(D,L){const H=$=>this._push($);!D||D.done?L():(D.on("data",H),D.on("end",Z));function Z(){D.removeListener("data",H),D.removeListener("end",Z),L()}}}n.SimpleTransformIterator=I;class A extends E{constructor(D,L){if(super(D,L),this._transformerQueue=[],L){const H=Ae(L)?L:L.multiTransform;H&&(this._createTransformer=H)}}_read(D,L){const H=this._transformerQueue,Z=this._optional;let $,ue;for(;($=H[0])&&$.transformer.done;){Z&&$.item!==null&&(D--,this._push($.item)),H.shift();const{transformer:ce}=$;ce.removeListener("end",O),ce.removeListener("readable",O),ce.removeListener("error",N)}const{source:ae}=this;for(;ae&&!ae.done&&H.length<this.maxBufferSize&&(ue=ae.read(),ue!==null);){const ce=this._createTransformer(ue)||new f;ce[n.DESTINATION]=this,ce.on("end",O),ce.on("readable",O),ce.on("error",N),H.push({transformer:ce,item:ue})}if($=H[0],$){const{transformer:ce}=$;for(;D-- >0&&(ue=ce.read())!==null;)this._push(ue),Z&&($.item=null)}else ae&&ae.done&&this.close();L()}_createTransformer(D){return new p(D)}_closeWhenDone(){this._transformerQueue.length||this.close()}_end(D){if(super._end(D),this._destroySource)for(const L of this._transformerQueue)L.transformer.destroy()}}n.MultiTransformIterator=A;class P extends T{constructor(D,L={}){super(L),this._sources=[],this._currentSource=-1;const H=L.autoStart!==!1;if(Ne(D))D.on("error",Z=>this.emit("error",Z)),this._pending={loading:!1,sources:D},H&&this._loadSources();else if(Array.isArray(D)&&D.length>0)for(const Z of D)this._addSource(Z);else H&&this.close();this._destroySources=L.destroySources!==!1}_loadSources(){const D=this._pending.sources;this._pending.loading=!0,D.done?(delete this._pending,this.close()):(D.on("data",L=>{this._addSource(L),this._fillBufferAsync()}),D.on("end",()=>{delete this._pending,this._fillBuffer()}))}_addSource(D){Oe(D)&&(D=G(D)),D.done||(this._sources.push(D),D[n.DESTINATION]=this,D.on("error",N),D.on("readable",O),D.on("end",C))}_removeEmptySources(){this._sources=this._sources.filter((D,L)=>(D.done&&L<=this._currentSource&&this._currentSource--,!D.done)),this._fillBuffer()}_read(D,L){var H;((H=this._pending)===null||H===void 0?void 0:H.loading)===!1&&this._loadSources();let Z=0,$;for(;Z!==(Z=D);)for(let ue=0;ue<this._sources.length&&D>0;ue++)this._currentSource=(this._currentSource+1)%this._sources.length,($=this._sources[this._currentSource].read())!==null&&(D--,this._push($));!this._pending&&this._sources.length===0&&this.close(),L()}_end(D=!1){if(super._end(D),this._destroySources){for(const L of this._sources)L.destroy();this._pending&&(this._pending.sources.destroy(),delete this._pending)}}}n.UnionIterator=P;function C(){this[n.DESTINATION]._removeEmptySources()}class B extends E{constructor(D){super(D,{autoStart:!1}),this._readPosition=0,this._reading=!1,D&&(this.readable=!0)}_init(){}close(){l.prototype.close.call(this)}get source(){return super.source}set source(D){const L=this._source=this._validateSource(D),H=L&&L[n.DESTINATION]||(L[n.DESTINATION]=new V(L));this.done?this._destroySource&&L.destroy():H.endsAt(0)?this.close():(H.register(this),(L._sourceStarted===!1||H.readAt(0)!==null)&&(this.readable=!0));const Z=this._propertyCallbacks;for(const $ in Z){const ue=Z[$];for(const ae of ue)this._getSourceProperty($,ae)}}_validateSource(D,L=!1){const H=D&&D[n.DESTINATION];return super._validateSource(D,!H||H instanceof V)}getProperty(D,L){const{source:H}=this,Z=this._properties,$=Z&&D in Z;if(!L)return $?Z&&Z[D]:H&&H.getProperty(D);super.getProperty(D,L),H&&!$&&this._getSourceProperty(D,L)}_getSourceProperty(D,L){this.source.getProperty(D,H=>{(!this._properties||!(D in this._properties))&&L(H)})}getProperties(){const D=this.source?this.source.getProperties():{},L=this._properties;for(const H in L)D[H]=L[H];return D}_toStringDetails(){return`{source: ${this.source?this.source.toString():"none"}}`}read(){this._sourceStarted||(this._sourceStarted=!0);const D=this.source;let L=null;if(!this.done&&D){const H=D[n.DESTINATION];(L=H.readAt(this._readPosition))!==null?this._readPosition++:this.readable=!1,H.endsAt(this._readPosition)&&this.close()}return L}_end(D){const L=this.source,H=L?.[n.DESTINATION];H&&H.unregister(this),T.prototype._end.call(this,D)}}n.ClonedIterator=B;class V{constructor(D){if(this._history=[],this._trackers=new Set,this._source=D,!D.done){const L=()=>{for(const $ of this._trackers)$.readable=!0},H=$=>{for(const ue of this._trackers)ue.emit("error",$)},Z=()=>{for(const $ of this._trackers)$._sourceStarted!==!1&&$._readPosition===this._history.length&&$.close();this._trackers.clear(),D.removeListener("end",Z),D.removeListener("error",H),D.removeListener("readable",L)};D.on("end",Z),D.on("error",H),D.on("readable",L)}}register(D){this._source.done||this._trackers.add(D)}unregister(D){this._trackers.delete(D)}readAt(D){let L=null;return D<this._history.length?L=this._history[D]:!this._source.done&&(L=this._source.read())!==null&&(this._history[D]=L),L}endsAt(D){return this._source.done&&this._history.length===D}}class U extends l{constructor(D,L){super(),this._source=null,this._destroySource=L?.destroySource!==!1,Oe(D)?(this._source=new l,D.then(H=>{this._source=null,this.source=H}).catch(H=>this.emit("error",H))):D&&(this.source=D)}set source(D){let L=D;if(this._source!==null)throw new Error("The source cannot be changed after it has been set");if(te(L)&&(L=L[Symbol.iterator]()),v(L)){let H=L;L=new e.EventEmitter,L.read=()=>{if(H!==null){let Z;for(;!(Z=H.next()).done;)if(Z.value!==null)return Z.value;H=null,this.close()}return null}}else L=w(L);if(this.done){this._destroySource&&Ae(L.destroy)&&L.destroy();return}L[n.DESTINATION]=this,L.on("end",j),L.on("error",N),L.on("readable",S),this._source=L,this.readable=L.readable!==!1}read(){if(this._source!==null&&this._source.readable!==!1){const D=this._source.read();if(D!==null)return D;this.readable=!1}return null}_end(D=!1){this._source!==null&&(this._source.removeListener("end",j),this._source.removeListener("error",N),this._source.removeListener("readable",S),delete this._source[n.DESTINATION],this._destroySource&&Ae(this._source.destroy)&&this._source.destroy(),this._source=null),super._end(D)}}n.WrappingIterator=U;function G(F,D){if(D&&("autoStart"in D||"optional"in D||"source"in D||"maxBufferSize"in D))return F&&!Ne(F)&&(F=new U(F)),new E(F,D);if(!F)return J();if(Oe(F))return new U(F,D);if(F instanceof l)return F;if(Array.isArray(F))return W(F);if(te(F)||v(F)||Ne(F))return new U(F,D);throw new TypeError(`Invalid source: ${F}`)}n.wrap=G;function J(){return new f}n.empty=J;function ne(F){return new p(F)}n.single=ne;function W(F){return new h(F)}n.fromArray=W;function ee(F){return new U(F)}n.fromIterator=ee;function se(F){return new U(F)}n.fromIterable=se;function pe(F){return new P(F)}n.union=pe;function le(F,D,L){return new g({start:F,end:D,step:L})}n.range=le;function Ee(F,D){return D?F.bind(D):F}function Ae(F){return typeof F=="function"}n.isFunction=Ae;function Ne(F){return Ae(F?.on)}n.isEventEmitter=Ne;function Oe(F){return Ae(F?.then)}n.isPromise=Oe;function be(F){return F&&(Ne(F)||Oe(F)||Ae(F))}n.isSourceExpression=be;function te(F){return F&&Symbol.iterator in F}n.isIterable=te;function v(F){return Ae(F?.next)}n.isIterator=v})(Yj)),Yj}var tM={},Qd={},X_={},_W;function b4e(){if(_W)return X_;_W=1,Object.defineProperty(X_,"__esModule",{value:!0}),X_.BlankNodeScoped=void 0;let n=class{constructor(u,a){this.termType="BlankNode",this.value=u,this.skolemized=a}equals(u){return!!u&&u.termType==="BlankNode"&&u.value===this.value}};return X_.BlankNodeScoped=n,X_}var K_={},TW;function g4e(){if(TW)return K_;TW=1,Object.defineProperty(K_,"__esModule",{value:!0}),K_.BlankNodeBindingsScoped=void 0;let n=class{constructor(u){this.termType="BlankNode",this.singleBindingsScope=!0,this.value=u}equals(u){return!!u&&u.termType==="BlankNode"&&u.value===this.value}};return K_.BlankNodeBindingsScoped=n,K_}var wW;function zq(){return wW||(wW=1,(function(n){var e=Qd&&Qd.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=Qd&&Qd.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(b4e(),n),u(g4e(),n)})(Qd)),Qd}var SW;function Gq(){return SW||(SW=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.deskolemizeOperation=n.deskolemizeQuad=n.deskolemizeTermNestedThrowing=n.deskolemizeTerm=n.skolemizeBindingsStream=n.skolemizeQuadStream=n.skolemizeBindings=n.skolemizeQuad=n.skolemizeTerm=n.getSourceId=n.SKOLEM_PREFIX=void 0;const e=zq(),u=Yr(),a=Qt();n.SKOLEM_PREFIX="urn:comunica_skolem:source_";function r(h,g){let _=h.get(g.referenceValue);return _===void 0&&(_=`${h.size}`,h.set(g.referenceValue,_)),_}n.getSourceId=r;function t(h,g,_){return g.termType==="BlankNode"?new e.BlankNodeScoped(`bc_${_}_${g.value}`,h.namedNode(`${n.SKOLEM_PREFIX}${_}:${g.value}`)):g}n.skolemizeTerm=t;function i(h,g,_){return(0,u.mapTermsNested)(g,m=>t(h,m,_))}n.skolemizeQuad=i;function o(h,g,_){return g.map(m=>m.termType==="Quad"?i(h,m,_):t(h,m,_))}n.skolemizeBindings=o;function l(h,g,_){const m=g.map(T=>i(h,T,_));function w(){g.getProperty("metadata",T=>{m.setProperty("metadata",T),T.state.addInvalidateListener(w)})}return w(),m}n.skolemizeQuadStream=l;function s(h,g,_){const m=g.map(T=>o(h,T,_));function w(){g.getProperty("metadata",T=>{m.setProperty("metadata",T),T.state.addInvalidateListener(w)})}return w(),m}n.skolemizeBindingsStream=s;function c(h,g,_){if(g.termType==="BlankNode"&&"skolemized"in g&&(g=g.skolemized),g.termType==="NamedNode"&&g.value.startsWith(n.SKOLEM_PREFIX)){const m=g.value.indexOf(":",n.SKOLEM_PREFIX.length);if(g.value.slice(n.SKOLEM_PREFIX.length,m)===_){const T=g.value.slice(m+1,g.value.length);return h.blankNode(T)}return null}return g}n.deskolemizeTerm=c;function d(h,g,_){if(g.termType==="Quad")return(0,u.mapTermsNested)(g,w=>{const T=c(h,w,_);if(!T)throw new Error("Skolemized term is not in scope for this source");return T});const m=c(h,g,_);if(m===null)throw new Error("Skolemized term is not in scope for this source");return m}n.deskolemizeTermNestedThrowing=d;function f(h,g,_){return(0,u.mapTermsNested)(g,m=>c(h,m,_)??m)}n.deskolemizeQuad=f;function p(h,g,_){const m=new a.Factory;try{return a.Util.mapOperation(g,{[a.Algebra.types.PATTERN](w,T){return{result:Object.assign(T.createPattern(d(h,w.subject,_),d(h,w.predicate,_),d(h,w.object,_),d(h,w.graph,_)),{metadata:w.metadata}),recurse:!1}},[a.Algebra.types.PATH](w,T){return{result:Object.assign(T.createPath(d(h,w.subject,_),w.predicate,d(h,w.object,_),d(h,w.graph,_)),{metadata:w.metadata}),recurse:!1}}},m)}catch{}}n.deskolemizeOperation=p})(tM)),tM}var EW;function d2e(){if(EW)return z_;EW=1,Object.defineProperty(z_,"__esModule",{value:!0}),z_.QuerySourceSkolemized=void 0;const n=lt(),e=xa(),u=Gt(),a=Gq();let r=class{constructor(i,o){this.innerSource=i,this.sourceId=o}async getSelectorShape(i){return this.innerSource.getSelectorShape(i)}queryBindings(i,o,l){const s=o.getSafe(n.KeysInitQuery.dataFactory),c=(0,a.deskolemizeOperation)(s,i,this.sourceId);if(!c){const d=new u.ArrayIterator([],{autoStart:!1});return d.setProperty("metadata",{state:new e.MetadataValidationState,cardinality:{type:"exact",value:0},variables:[]}),d}return(0,a.skolemizeBindingsStream)(s,this.innerSource.queryBindings(c,o,l),this.sourceId)}queryBoolean(i,o){return this.innerSource.queryBoolean(i,o)}queryQuads(i,o){const l=o.getSafe(n.KeysInitQuery.dataFactory),s=(0,a.deskolemizeOperation)(l,i,this.sourceId);if(!s){const c=new u.ArrayIterator([],{autoStart:!1});return c.setProperty("metadata",{state:new e.MetadataValidationState,cardinality:{type:"exact",value:0}}),c}return(0,a.skolemizeQuadStream)(l,this.innerSource.queryQuads(s,o),this.sourceId)}queryVoid(i,o){return this.innerSource.queryVoid(i,o)}get referenceValue(){return this.innerSource.referenceValue}toString(){return`${this.innerSource.toString()}(SkolemID:${this.sourceId})`}};return z_.QuerySourceSkolemized=r,z_}var AW;function v4e(){if(AW)return k_;AW=1,Object.defineProperty(k_,"__esModule",{value:!0}),k_.ActorContextPreprocessQuerySourceSkolemize=void 0;const n=w1(),e=lt(),u=De(),a=d2e(),r=Gq();let t=class extends n.ActorContextPreprocess{constructor(o){super(o)}async test(o){return(0,u.passTestVoid)()}async run(o){let l=o.context;if(l.has(e.KeysQueryOperation.querySources)){l.has(e.KeysQuerySourceIdentify.sourceIds)||(l=l.set(e.KeysQuerySourceIdentify.sourceIds,new Map));const s=l.getSafe(e.KeysQuerySourceIdentify.sourceIds);let c=l.getSafe(e.KeysQueryOperation.querySources);c=c.map(d=>({source:new a.QuerySourceSkolemized(d.source,(0,r.getSourceId)(s,d.source)),context:d.context})),l=l.set(e.KeysQueryOperation.querySources,c)}return{context:l}}};return k_.ActorContextPreprocessQuerySourceSkolemize=t,k_}var OW;function sP(){return OW||(OW=1,(function(n){var e=Ud&&Ud.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=Ud&&Ud.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(v4e(),n),u(d2e(),n),u(Gq(),n)})(Ud)),Ud}var Vd={},J_={},xW;function _4e(){if(xW)return J_;xW=1,Object.defineProperty(J_,"__esModule",{value:!0}),J_.ActorContextPreprocessSetDefaultsLinkTraversal=void 0;const n=w1(),e=lt(),u=De();let a=class extends n.ActorContextPreprocess{constructor(t){super(t)}async test(t){return(0,u.passTestVoid)()}async run(t){let i=t.context;return i.has(e.KeysQuerySourceIdentify.traverse)||(i=i.set(e.KeysQuerySourceIdentify.traverse,!0)),{context:i}}};return J_.ActorContextPreprocessSetDefaultsLinkTraversal=a,J_}var RW;function $q(){return RW||(RW=1,(function(n){var e=Vd&&Vd.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=Vd&&Vd.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(_4e(),n)})(Vd)),Vd}var Hd={},W_={},NW;function T4e(){if(NW)return W_;NW=1,Object.defineProperty(W_,"__esModule",{value:!0}),W_.MediatorCombinePipeline=void 0;const n=De();let e=class extends n.Mediator{constructor(a){super(a)}async mediate(a){let r;try{r=this.publish(a)}catch{return a}if(this.filterFailures){const l=[];for(const s of r)(await s.reply).isPassed()&&l.push(s);r=l}const t=[];if(r=await Promise.all(r.map(async({actor:l,reply:s},c)=>{try{const d=await s,f=d.getOrThrow();return t[c]=d.getSideData(),{actor:l,reply:f}}catch(d){throw new Error(this.constructFailureMessage(a,[d.message]))}})),this.order){const l=s=>{const c=this.field?s[this.field]:s;if(typeof c!="number")throw new TypeError("Cannot order elements that are not numbers.");return c};r=r.sort((s,c)=>(this.order==="increasing"?1:-1)*(l(s.reply)-l(c.reply)))}let i=a,o=0;for(const{actor:l}of r)i={...i,...await l.runObservable(i,t[o++])};return i}mediateWith(){throw new Error("Method not supported.")}};return W_.MediatorCombinePipeline=e,W_}var IW;function i1(){return IW||(IW=1,(function(n){var e=Hd&&Hd.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=Hd&&Hd.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(T4e(),n)})(Hd)),Hd}var kd={},Y_={},zd={},Z_={},DW;function w4e(){if(DW)return Z_;DW=1,Object.defineProperty(Z_,"__esModule",{value:!0}),Z_.ActorHashBindings=void 0;const n=De();let e=class extends n.Actor{constructor(a){super(a)}};return Z_.ActorHashBindings=e,Z_}var FW;function S4e(){return FW||(FW=1,(function(n){var e=zd&&zd.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=zd&&zd.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(w4e(),n)})(zd)),zd}var PW;function E4e(){if(PW)return Y_;PW=1,Object.defineProperty(Y_,"__esModule",{value:!0}),Y_.ActorHashBindingsMurmur=void 0;const n=S4e(),e=De(),u=Dq();let a=class extends n.ActorHashBindings{async test(t){return(0,e.passTestVoid)()}async run(t){return{hashFunction:(i,o)=>{let l=u();for(const s of o)l=l.hash(i.get(s)?.value??"UNDEF");return l.result()}}}};return Y_.ActorHashBindingsMurmur=a,Y_}var jW;function Xq(){return jW||(jW=1,(function(n){var e=kd&&kd.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=kd&&kd.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(E4e(),n)})(kd)),kd}var Gd={},e2={},$d={},t2={},MW;function A4e(){if(MW)return t2;MW=1,Object.defineProperty(t2,"__esModule",{value:!0}),t2.ActorHashQuads=void 0;const n=De();let e=class extends n.Actor{constructor(a){super(a)}};return t2.ActorHashQuads=e,t2}var CW;function O4e(){return CW||(CW=1,(function(n){var e=$d&&$d.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=$d&&$d.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(A4e(),n)})($d)),$d}var LW;function x4e(){if(LW)return e2;LW=1,Object.defineProperty(e2,"__esModule",{value:!0}),e2.ActorHashQuadsMurmur=void 0;const n=O4e(),e=De(),u=Dq();let a=class extends n.ActorHashQuads{async test(t){return(0,e.passTestVoid)()}async run(t){return{hashFunction:i=>{const o=u(i.subject.value);return o.hash(i.predicate.value),o.hash(i.object.value),o.hash(i.graph.value),o.result()}}}};return e2.ActorHashQuadsMurmur=a,e2}var qW;function Kq(){return qW||(qW=1,(function(n){var e=Gd&&Gd.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=Gd&&Gd.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(x4e(),n)})(Gd)),Gd}var Xd={},r2={},Kd={},n2={},BW;function R4e(){if(BW)return n2;BW=1,Object.defineProperty(n2,"__esModule",{value:!0}),n2.ActorOptimizeQueryOperation=void 0;const n=De();let e=class extends n.Actor{constructor(a){super(a)}};return n2.ActorOptimizeQueryOperation=e,n2}var UW;function Vi(){return UW||(UW=1,(function(n){var e=Kd&&Kd.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=Kd&&Kd.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(R4e(),n)})(Kd)),Kd}var QW;function N4e(){if(QW)return r2;QW=1,Object.defineProperty(r2,"__esModule",{value:!0}),r2.ActorOptimizeQueryOperationRewriteCopy=void 0;const n=Vi(),e=lt(),u=De(),a=Qt();let r=class extends n.ActorOptimizeQueryOperation{constructor(i){super(i)}async test(i){return(0,u.passTestVoid)()}async run(i){const o=i.context.getSafe(e.KeysInitQuery.dataFactory),l=new a.Factory(o);return{operation:a.Util.mapOperation(i.operation,{[a.Algebra.types.COPY](c,d){let f;return typeof c.destination=="string"&&typeof c.source=="string"&&c.destination===c.source||typeof c.destination!="string"&&typeof c.source!="string"&&c.destination.equals(c.source)?f=d.createCompositeUpdate([]):f=d.createCompositeUpdate([d.createDrop(c.destination,!0),d.createAdd(c.source,c.destination,c.silent)]),{result:f,recurse:!1}}},l),context:i.context}}};return r2.ActorOptimizeQueryOperationRewriteCopy=r,r2}var VW;function Jq(){return VW||(VW=1,(function(n){var e=Xd&&Xd.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=Xd&&Xd.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(N4e(),n)})(Xd)),Xd}var Jd={},a2={},HW;function I4e(){if(HW)return a2;HW=1,Object.defineProperty(a2,"__esModule",{value:!0}),a2.ActorOptimizeQueryOperationRewriteMove=void 0;const n=Vi(),e=lt(),u=De(),a=Qt();let r=class extends n.ActorOptimizeQueryOperation{constructor(i){super(i)}async test(i){return(0,u.passTestVoid)()}async run(i){const o=i.context.getSafe(e.KeysInitQuery.dataFactory),l=new a.Factory(o);return{operation:a.Util.mapOperation(i.operation,{[a.Algebra.types.MOVE](c,d){let f;if(typeof c.destination=="string"&&typeof c.source=="string"&&c.destination===c.source||typeof c.destination!="string"&&typeof c.source!="string"&&c.destination.equals(c.source))f=d.createCompositeUpdate([]);else{const p=[d.createDrop(c.destination,!0),d.createAdd(c.source,c.destination,c.silent),d.createDrop(c.source)];f=d.createCompositeUpdate(p)}return{result:f,recurse:!1}}},l),context:i.context}}};return a2.ActorOptimizeQueryOperationRewriteMove=r,a2}var kW;function Wq(){return kW||(kW=1,(function(n){var e=Jd&&Jd.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=Jd&&Jd.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(I4e(),n)})(Jd)),Jd}var Wd={},i2={},zW;function D4e(){if(zW)return i2;zW=1,Object.defineProperty(i2,"__esModule",{value:!0}),i2.ActorOptimizeQueryOperationRewriteAdd=void 0;const n=Vi(),e=lt(),u=De(),a=Rr(),r=Qt(),t=new a.DataFactory;let i=class extends n.ActorOptimizeQueryOperation{constructor(l){super(l)}async test(l){return(0,u.passTestVoid)()}async run(l){const s=l.context.getSafe(e.KeysInitQuery.dataFactory),c=new r.Factory(s);return{operation:r.Util.mapOperation(l.operation,{[r.Algebra.types.ADD](f,p){const h=f.destination==="DEFAULT"?t.defaultGraph():f.destination,g=f.source==="DEFAULT"?t.defaultGraph():f.source;return{result:p.createDeleteInsert(void 0,[p.createPattern(t.variable("s"),t.variable("p"),t.variable("o"),h)],p.createPattern(t.variable("s"),t.variable("p"),t.variable("o"),g)),recurse:!1}}},c),context:l.context}}};return i2.ActorOptimizeQueryOperationRewriteAdd=i,i2}var GW;function Yq(){return GW||(GW=1,(function(n){var e=Wd&&Wd.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=Wd&&Wd.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(D4e(),n)})(Wd)),Wd}var Yd={},u2={},Zd={},za={},$W;function F4e(){if($W)return za;$W=1,Object.defineProperty(za,"__esModule",{value:!0}),za.estimateNpsCardinality=za.estimateJoinCardinality=za.estimateUnionCardinality=za.estimateSliceCardinality=za.estimateMinusCardinality=za.estimateCardinality=void 0;const n=Rr(),e=Qt(),u=new n.DataFactory,a=new e.Factory(u);function r(c,d){const f=d.getCardinality(c);if(f)return f;switch(c.type){case e.Algebra.types.ASK:return{type:"exact",value:1,dataset:d.uri};case e.Algebra.types.LOAD:case e.Algebra.types.DELETE_INSERT:case e.Algebra.types.ADD:case e.Algebra.types.COMPOSITE_UPDATE:case e.Algebra.types.CLEAR:case e.Algebra.types.NOP:case e.Algebra.types.DROP:case e.Algebra.types.CREATE:case e.Algebra.types.MOVE:case e.Algebra.types.COPY:return{type:"exact",value:0,dataset:d.uri};case e.Algebra.types.PROJECT:case e.Algebra.types.FILTER:case e.Algebra.types.ORDER_BY:case e.Algebra.types.GROUP:case e.Algebra.types.CONSTRUCT:case e.Algebra.types.DISTINCT:case e.Algebra.types.REDUCED:case e.Algebra.types.EXTEND:case e.Algebra.types.FROM:case e.Algebra.types.GRAPH:return r(c.input,d);case e.Algebra.types.ZERO_OR_ONE_PATH:case e.Algebra.types.ZERO_OR_MORE_PATH:case e.Algebra.types.ONE_OR_MORE_PATH:case e.Algebra.types.INV:return r(c.path,d);case e.Algebra.types.PATH:return r(c.predicate,d);case e.Algebra.types.NPS:return s(c,d);case e.Algebra.types.LINK:return r(a.createPattern(u.variable("s"),c.iri,u.variable("o")),d);case e.Algebra.types.UNION:case e.Algebra.types.SEQ:case e.Algebra.types.ALT:return o(c.input,d);case e.Algebra.types.BGP:return l(c.patterns,d);case e.Algebra.types.JOIN:case e.Algebra.types.LEFT_JOIN:return l(c.input,d);case e.Algebra.types.SLICE:return i(c,d);case e.Algebra.types.MINUS:return t(c,d);case e.Algebra.types.VALUES:return{type:"exact",value:c.bindings.length,dataset:d.uri};case e.Algebra.types.SERVICE:case e.Algebra.types.DESCRIBE:case e.Algebra.types.EXPRESSION:case e.Algebra.types.PATTERN:return{type:"estimate",value:Number.POSITIVE_INFINITY,dataset:d.uri}}}za.estimateCardinality=r;function t(c,d){const f=r(c.input[0],d),p=r(c.input[1],d);return{type:"estimate",value:Math.max(f.value-p.value,0),dataset:d.uri}}za.estimateMinusCardinality=t;function i(c,d){const f=r(c.input,d);return f.value>0&&(f.value=Math.max(f.value-c.start,0),c.length!==void 0&&(f.value=Math.min(f.value,c.length))),f}za.estimateSliceCardinality=i;function o(c,d){const f={type:"exact",value:0,dataset:d.uri};for(const p of c){const h=r(p,d);h.type==="estimate"&&f.type==="exact"&&(f.type=h.type),f.value+=h.value}return f}za.estimateUnionCardinality=o;function l(c,d){const f=[];for(const h of c){const g=e.Util.inScopeVariables(h).map(m=>m.value),_=f.find(m=>g.some(w=>m.vars.has(w)));if(_){_.ops.push(h);for(const m of g)_.vars.add(m)}else f.push({ops:[h],vars:new Set(g)})}return{type:"estimate",value:f.map(h=>Math.min(...h.ops.map(g=>r(g,d).value))).reduce((h,g)=>h*g,1),dataset:d.uri}}za.estimateJoinCardinality=l;function s(c,d){const f=a.createSeq([...c.iris].reverse().map(_=>a.createLink(_))),p=r(f,d),h=a.createPattern(u.variable("s"),u.variable("p"),u.variable("o")),g=r(h,d);return{type:"estimate",value:Math.max(0,g.value-p.value),dataset:d.uri}}return za.estimateNpsCardinality=s,za}var o2={},XW;function P4e(){if(XW)return o2;XW=1,Object.defineProperty(o2,"__esModule",{value:!0}),o2.getExpressionVariables=void 0;const n=Yr(),e=Qt();function u(a){switch(a.expressionType){case e.Algebra.expressionTypes.AGGREGATE:case e.Algebra.expressionTypes.WILDCARD:throw new Error(`Getting expression variables is not supported for ${a.expressionType}`);case e.Algebra.expressionTypes.EXISTENCE:return e.Util.inScopeVariables(a.input);case e.Algebra.expressionTypes.NAMED:return[];case e.Algebra.expressionTypes.OPERATOR:return(0,n.uniqTerms)(a.args.flatMap(r=>u(r)));case e.Algebra.expressionTypes.TERM:return a.term.termType==="Variable"?[a.term]:[]}}return o2.getExpressionVariables=u,o2}var s2={},KW;function j4e(){if(KW)return s2;KW=1,Object.defineProperty(s2,"__esModule",{value:!0}),s2.doesShapeAcceptOperation=void 0;const n=Qt();function e(o,l,s){return u(o,o,l,s)}s2.doesShapeAcceptOperation=e;function u(o,l,s,c){if(l.type==="conjunction")return l.children.every(f=>u(o,f,s,c));if(l.type==="disjunction")return l.children.some(f=>u(o,f,s,c));if(l.type==="negation")return!u(l.child,l.child,s,c);if(l.type==="arity")return u(o,l.child,s,c);if((c?.joinBindings&&!l.joinBindings)??(c?.filterBindings&&!l.filterBindings))return!1;const d=l.operation;switch(d.operationType){case"type":return d.type===n.Algebra.types.EXPRESSION&&i(s)&&!("extensionFunctions"in d&&d.extensionFunctions?.includes(s.name.value))||!a(o,l.children,s,c)&&!r(o,s,c)?!1:d.type===s.type;case"pattern":return!a(o,l.children,s,c)&&!r(o,s,c)?!1:d.pattern.type===s.type;case"wildcard":{if(c?.wildcardAcceptAllExtensionFunctions)return!0;if(i(s))return!1;let f=!1;return n.Util.recurseOperation(s,{[n.Algebra.types.EXPRESSION](p){return i(p)&&!e(o,p,c)?(f=!0,!1):!0}}),!f}}}function a(o,l,s,c){if(i(s)||i(s.expression))return!1;if(l){const d=s.input?Array.isArray(s.input)?s.input:[s.input]:s.patterns??[];for(const[f,p]of l.entries())if(!d[f]||!u(o,p,d[f],c))return!1;return!0}return!1}function r(o,l,s){return l.input&&!(Array.isArray(l.input)?l.input:[l.input]).every(d=>u(o,o,d,s))||l.expression&&i(l.expression)&&!u(o,o,l.expression,s)?!1:!(l.patterns&&!l.patterns.every(c=>u(o,o,c,s)))}function t(o){return/^https?:\/\/www\.w3\.org\//u.test(o)}function i(o){return o&&o.type===n.Algebra.types.EXPRESSION&&o.expressionType===n.Algebra.expressionTypes.NAMED&&!t(o.name.value)}return s2}var Cn={},JW;function M4e(){if(JW)return Cn;JW=1,Object.defineProperty(Cn,"__esModule",{value:!0}),Cn.removeOperationSource=Cn.assignOperationSource=Cn.getOperationSource=Cn.testReadOnly=Cn.validateQueryOutput=Cn.getSafeVoid=Cn.getSafeBoolean=Cn.getSafeQuads=Cn.getSafeBindings=void 0;const n=lt(),e=De();function u(d){return i(d,"bindings"),d}Cn.getSafeBindings=u;function a(d){return i(d,"quads"),d}Cn.getSafeQuads=a;function r(d){return i(d,"boolean"),d}Cn.getSafeBoolean=r;function t(d){return i(d,"void"),d}Cn.getSafeVoid=t;function i(d,f){if(d.type!==f)throw new Error(`Invalid query output type: Expected '${f}' but got '${d.type}'`)}Cn.validateQueryOutput=i;function o(d){return d.get(n.KeysQueryOperation.readOnly)?(0,e.failTest)("Attempted a write operation in read-only mode"):(0,e.passTestVoid)()}Cn.testReadOnly=o;function l(d){return d.metadata?.scopedSource}Cn.getOperationSource=l;function s(d,f){return d={...d},d.metadata=d.metadata?{...d.metadata}:{},d.metadata.scopedSource=f,d}Cn.assignOperationSource=s;function c(d){delete d.metadata?.scopedSource,d.metadata&&Object.keys(d.metadata).length===0&&delete d.metadata}return Cn.removeOperationSource=c,Cn}var ef={},WW;function C4e(){if(WW)return ef;WW=1,Object.defineProperty(ef,"__esModule",{value:!0}),ef.materializeOperation=ef.materializeTerm=void 0;const n=Xt(),e=Yr(),u=Qt();function a(i,o){if(i.termType==="Variable"){const l=o.get(i);if(l)return l}return i.termType==="Quad"&&(0,e.someTermsNested)(i,l=>l.termType==="Variable")?(0,e.mapTermsNested)(i,l=>a(l,o)):i}ef.materializeTerm=a;function r(i,o,l,s,c={}){return c={strictTargetVariables:"strictTargetVariables"in c?c.strictTargetVariables:!1,bindFilter:"bindFilter"in c?c.bindFilter:!0,originalBindings:"originalBindings"in c?c.originalBindings:o},u.Util.mapOperation(i,{path(d,f){return{recurse:!1,result:Object.assign(f.createPath(a(d.subject,o),d.predicate,a(d.object,o),a(d.graph,o)),{metadata:d.metadata})}},pattern(d,f){return{recurse:!1,result:Object.assign(f.createPattern(a(d.subject,o),a(d.predicate,o),a(d.object,o),a(d.graph,o)),{metadata:d.metadata})}},join(d,f){return{recurse:!1,result:f.createJoin(d.input.map(p=>r(p,o,l,s,c)),d.input.every(p=>!p.metadata))}},extend(d){if(o.has(d.variable)){if(c.strictTargetVariables)throw new Error(`Tried to bind variable ${(0,n.termToString)(d.variable)} in a BIND operator.`);return{recurse:!0,result:r(d.input,o,l,s,c)}}return{recurse:!0,result:d}},group(d,f){if(c.strictTargetVariables){for(const h of d.variables)if(o.has(h))throw new Error(`Tried to bind variable ${(0,n.termToString)(h)} in a GROUP BY operator.`);return{recurse:!0,result:d}}const p=d.variables.filter(h=>!o.has(h));return{recurse:!0,result:f.createGroup(d.input,p,d.aggregates)}},filter(d,f){const p=c.originalBindings;if(d.expression.expressionType!=="operator"||p.size===0)return{recurse:!1,result:d};const h=t(f,p),g=r(d.expression,o,l,s,c),_=f.createJoin([...h,r(d.input,o,l,s,c)]);return{recurse:!1,result:f.createFilter(_,g)}},project(d,f){const p=t(f,c.originalBindings,d.variables);let h=r(d.input,o,l,s,c);return p.length>0&&(h=f.createJoin([...p,h])),{recurse:!1,result:f.createProject(h,d.variables)}},values(d,f){if(c.strictTargetVariables){for(const p of d.variables)if(o.has(p))throw new Error(`Tried to bind variable ${(0,n.termToString)(p)} in a VALUES operator.`)}else{const p=d.variables.filter(g=>!o.has(g)),h=d.bindings.map(g=>{const _={...g};let m=!0;return o.forEach((w,T)=>{const E=(0,n.termToString)(T);E in _&&(w.equals(_[E])||(m=!1),delete _[E])}),m?_:void 0}).filter(Boolean);return{recurse:!0,result:f.createValues(p,h)}}return{recurse:!1,result:d}},expression(d,f){if(!c.bindFilter)return{recurse:!1,result:d};if(d.expressionType==="term")return{recurse:!1,result:f.createTermExpression(a(d.term,o))};if(d.expressionType==="operator")return d.operator==="bound"&&d.args.length===1&&d.args[0].expressionType==="term"&&[...o.keys()].some(p=>d.args[0].term.equals(p))?{recurse:!1,result:f.createTermExpression(f.dataFactory.literal("true",f.dataFactory.namedNode("http://www.w3.org/2001/XMLSchema#boolean")))}:{recurse:!0,result:d};if(d.expressionType==="aggregate"&&"variable"in d&&o.has(d.variable)){if(c.strictTargetVariables)throw new Error(`Tried to bind ${(0,n.termToString)(d.variable)} in a ${d.aggregator} aggregate.`);return{recurse:!0,result:d}}return{recurse:!0,result:d}}},l)}ef.materializeOperation=r;function t(i,o,l){const s=[];for(const[c,d]of o)if(!l||l.some(f=>f.equals(c))){const f={[(0,n.termToString)(c)]:d};s.push(i.createValues([c],[f]))}return s}return ef}var YW;function er(){return YW||(YW=1,(function(n){var e=Zd&&Zd.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=Zd&&Zd.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(F4e(),n),u(P4e(),n),u(j4e(),n),u(M4e(),n),u(C4e(),n)})(Zd)),Zd}var ZW;function L4e(){if(ZW)return u2;ZW=1,Object.defineProperty(u2,"__esModule",{value:!0}),u2.ActorOptimizeQueryOperationGroupSources=void 0;const n=Vi(),e=lt(),u=De(),a=er(),r=Qt();let t=class extends n.ActorOptimizeQueryOperation{constructor(o){super(o)}async test(o){return(0,a.getOperationSource)(o.operation)?(0,u.failTest)(`Actor ${this.name} does not work with top-level operation sources.`):(0,u.passTestVoid)()}async run(o){return{operation:await this.groupOperation(o.operation,o.context),context:o.context}}async groupOperation(o,l){const s=l.getSafe(e.KeysInitQuery.dataFactory),c=new r.Factory(s);if((0,a.getOperationSource)(o)??!("input"in o))return o;if(!Array.isArray(o.input)){const h=await this.groupOperation(o.input,l);if(h.metadata?.scopedSource){const g=(0,a.getOperationSource)(h);o=await this.moveSourceAnnotationUpwardsIfPossible(o,[h],g,l)}return{...o,input:h}}const d=await Promise.all(o.input.map(h=>this.groupOperation(h,l))),f=this.clusterOperationsWithEqualSources(d);if(f.length===1){const h=f[0],g=(0,a.getOperationSource)(f[0][0]);return{...await this.moveSourceAnnotationUpwardsIfPossible(o,h,g,l),input:h}}if(f.length===d.length)return{...o,input:d};let p;switch(o.type){case r.Algebra.types.JOIN:p=c.createJoin.bind(c);break;case r.Algebra.types.UNION:p=c.createUnion.bind(c);break;case r.Algebra.types.ALT:p=c.createAlt.bind(c);break;case r.Algebra.types.SEQ:p=c.createSeq.bind(c);break;default:throw new Error(`Unsupported operation '${o.type}' detected while grouping sources`)}return await this.groupOperationMulti(f,p,l)}async groupOperationMulti(o,l,s){let c=!0;const d=await Promise.all(o.map(async f=>{const p=(0,a.getOperationSource)(f[0]),h=await this.moveSourceAnnotationUpwardsIfPossible(l(f,!0),f,p,s);return(0,a.getOperationSource)(h)&&(c=!1),h}));return l(d,c)}clusterOperationsWithEqualSources(o){const l=new Map,s=[];for(const d of o){const f=(0,a.getOperationSource)(d);f?(l.has(f)||l.set(f,[]),l.get(f).push(d)):s.push(d)}const c=[];s.length>0&&c.push(s);for(const[d,f]of l.entries())c.push(f.map(p=>(0,a.assignOperationSource)(p,d)));return c}async moveSourceAnnotationUpwardsIfPossible(o,l,s,c){if(s&&this.isPossibleToMoveSourceAnnotationUpwards(o,await s.source.getSelectorShape(c),c)){this.logDebug(c,`Hoist ${l.length} source-specific operations into a single ${o.type} operation for ${s.source.toString()}`),o=(0,a.assignOperationSource)(o,s);for(const d of l)(0,a.removeOperationSource)(d)}return o}isPossibleToMoveSourceAnnotationUpwards(o,l,s){const c=s.get(e.KeysInitQuery.extensionFunctionsAlwaysPushdown);if((0,a.doesShapeAcceptOperation)(l,o,{wildcardAcceptAllExtensionFunctions:c})){const d=s.get(e.KeysInitQuery.extensionFunctions),f=o.expression;return!d||f?.expressionType!==r.Algebra.expressionTypes.NAMED||!(f?.name.value in d)||(0,a.doesShapeAcceptOperation)(l,f,{wildcardAcceptAllExtensionFunctions:c})}return!1}};return u2.ActorOptimizeQueryOperationGroupSources=t,u2}var eY;function Zq(){return eY||(eY=1,(function(n){var e=Yd&&Yd.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=Yd&&Yd.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(L4e(),n)})(Yd)),Yd}var tf={},c2={},tY;function q4e(){if(tY)return c2;tY=1,Object.defineProperty(c2,"__esModule",{value:!0}),c2.ActorOptimizeQueryOperationConstructDistinct=void 0;const n=Vi(),e=F_e(),u=De(),a=Qt();let r=class extends n.ActorOptimizeQueryOperation{constructor(i){super(i)}async test(i){return i.context.has(e.KeysInitQuery.distinctConstruct)?(0,u.passTestVoid)():(0,u.failTest)(`${this.name} was not enabled by the query.`)}async run(i){return{operation:a.Util.mapOperation(i.operation,{construct(l,s){return{recurse:!1,result:s.createDistinct(s.createConstruct(l.input,l.template))}}}),context:i.context.delete(e.KeysInitQuery.distinctConstruct)}}};return c2.ActorOptimizeQueryOperationConstructDistinct=r,c2}var rY;function eB(){return rY||(rY=1,(function(n){var e=tf&&tf.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=tf&&tf.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(q4e(),n)})(tf)),tf}var rf={},l2={},nf={},d2={},nY;function B4e(){if(nY)return d2;nY=1,Object.defineProperty(d2,"__esModule",{value:!0}),d2.ActorQueryParse=void 0;const n=De();let e=class extends n.Actor{constructor(a){super(a)}};return d2.ActorQueryParse=e,d2}var aY;function f2e(){return aY||(aY=1,(function(n){var e=nf&&nf.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=nf&&nf.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(B4e(),n)})(nf)),nf}var iY;function U4e(){if(iY)return l2;iY=1,Object.defineProperty(l2,"__esModule",{value:!0}),l2.ActorQueryParseSparql=void 0;const n=f2e(),e=lt(),u=De(),a=Qt(),r=$n();let t=class extends n.ActorQueryParse{constructor(o){super(o),this.prefixes=Object.freeze(this.prefixes)}async test(o){return o.queryFormat&&o.queryFormat.language!=="sparql"?(0,u.failTest)("This actor can only parse SPARQL queries"):(0,u.passTestVoid)()}async run(o){const l=o.context.getSafe(e.KeysInitQuery.dataFactory),c=new r.Parser({prefixes:this.prefixes,baseIRI:o.baseIRI,sparqlStar:!0,factory:l}).parse(o.query);return{baseIRI:c.type==="query"?c.base:void 0,operation:(0,a.translate)(c,{quads:!0,prefixes:this.prefixes,blankToVariable:!0,baseIRI:o.baseIRI,dataFactory:l})}}};return l2.ActorQueryParseSparql=t,l2}var uY;function tB(){return uY||(uY=1,(function(n){var e=rf&&rf.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=rf&&rf.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(U4e(),n)})(rf)),rf}var af={},f2={},uf={},of={},sf={},p2={},oY;function S1(){if(oY)return p2;oY=1,Object.defineProperty(p2,"__esModule",{value:!0}),p2.DirectiveNodeHandlerAdapter=void 0;let n=class{constructor(u,a,r){this.targetKind=u,this.util=a,this.settings=r}getDirectiveConditionalValue(u,a){const r=this.util.getArgument(u.arguments,"if");if(!r)throw new Error(`The directive ${u.name.value} is missing an if-argument.`);const t=this.util.handleNodeValue(r.value,r.name.value,a);if(t.terms.length!==1)throw new Error(`Can not apply the directive ${u.name.value} with a list.`);return t.terms[0]}isDirectiveScopeAll(u){const a=this.util.getArgument(u.arguments,"scope");return a&&a.value.kind==="EnumValue"&&a.value.value==="all"}};return p2.DirectiveNodeHandlerAdapter=n,p2}var h2={},sY;function Q4e(){if(sY)return h2;sY=1,Object.defineProperty(h2,"__esModule",{value:!0}),h2.DirectiveNodeHandlerInclude=void 0;const n=S1();let e=class extends n.DirectiveNodeHandlerAdapter{constructor(a,r){super("include",a,r)}handle(a,r){const t=this.getDirectiveConditionalValue(a.directive,r);return t.termType==="Literal"&&t.value==="false"?{ignore:!0}:{}}};return h2.DirectiveNodeHandlerInclude=e,h2}var y2={},cY;function V4e(){if(cY)return y2;cY=1,Object.defineProperty(y2,"__esModule",{value:!0}),y2.DirectiveNodeHandlerOptional=void 0;const n=S1();let e=class extends n.DirectiveNodeHandlerAdapter{constructor(a,r){super("optional",a,r)}handle(a,r){return{operationOverrider:t=>this.util.operationFactory.createLeftJoin(this.util.operationFactory.createBgp([]),t)}}};return y2.DirectiveNodeHandlerOptional=e,y2}var m2={},rM={},lY;function K4(){return lY||(lY=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.SingularizeState=void 0,(function(e){e[e.SINGLE=0]="SINGLE",e[e.PLURAL=1]="PLURAL"})(n.SingularizeState||(n.SingularizeState={}))})(rM)),rM}var dY;function H4e(){if(dY)return m2;dY=1,Object.defineProperty(m2,"__esModule",{value:!0}),m2.DirectiveNodeHandlerPlural=void 0;const n=K4(),e=S1();let u=class extends e.DirectiveNodeHandlerAdapter{constructor(r,t){super("plural",r,t)}handle(r,t){return this.isDirectiveScopeAll(r.directive)&&(t.singularizeState=n.SingularizeState.PLURAL),delete t.singularizeVariables[this.util.nameToVariable(r.fieldLabel,t).value],{}}};return m2.DirectiveNodeHandlerPlural=u,m2}var b2={},fY;function k4e(){if(fY)return b2;fY=1,Object.defineProperty(b2,"__esModule",{value:!0}),b2.DirectiveNodeHandlerSingle=void 0;const n=K4(),e=S1();let u=class extends e.DirectiveNodeHandlerAdapter{constructor(r,t){super("single",r,t)}handle(r,t){return this.isDirectiveScopeAll(r.directive)&&(t.singularizeState=n.SingularizeState.SINGLE),t.singularizeVariables[this.util.nameToVariable(r.fieldLabel,t).value]=!0,{}}};return b2.DirectiveNodeHandlerSingle=u,b2}var g2={},pY;function z4e(){if(pY)return g2;pY=1,Object.defineProperty(g2,"__esModule",{value:!0}),g2.DirectiveNodeHandlerSkip=void 0;const n=S1();let e=class extends n.DirectiveNodeHandlerAdapter{constructor(a,r){super("skip",a,r)}handle(a,r){const t=this.getDirectiveConditionalValue(a.directive,r);return t.termType==="Literal"&&t.value==="true"?{ignore:!0}:{}}};return g2.DirectiveNodeHandlerSkip=e,g2}var hY;function p2e(){return hY||(hY=1,(function(n){var e=sf&&sf.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=sf&&sf.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(S1(),n),u(Q4e(),n),u(V4e(),n),u(H4e(),n),u(k4e(),n),u(z4e(),n)})(sf)),sf}var cf={},v2={},yY;function Go(){if(yY)return v2;yY=1,Object.defineProperty(v2,"__esModule",{value:!0}),v2.NodeValueHandlerAdapter=void 0;let n=class{constructor(u,a,r){this.targetKind=u,this.util=a,this.settings=r}};return v2.NodeValueHandlerAdapter=n,v2}var _2={},mY;function G4e(){if(mY)return _2;mY=1,Object.defineProperty(_2,"__esModule",{value:!0}),_2.NodeValueHandlerBoolean=void 0;const n=Go();let e=class extends n.NodeValueHandlerAdapter{constructor(a,r){super("BooleanValue",a,r),this.datatype=this.util.dataFactory.namedNode("http://www.w3.org/2001/XMLSchema#boolean")}handle(a,r,t){return{terms:[this.util.dataFactory.literal(a.value?"true":"false",this.datatype)]}}};return _2.NodeValueHandlerBoolean=e,_2}var T2={},bY;function $4e(){if(bY)return T2;bY=1,Object.defineProperty(T2,"__esModule",{value:!0}),T2.NodeValueHandlerEnum=void 0;const n=Go();let e=class extends n.NodeValueHandlerAdapter{constructor(a,r){super("EnumValue",a,r)}handle(a,r,t){return{terms:[this.util.valueToNamedNode(a.value,t.context)]}}};return T2.NodeValueHandlerEnum=e,T2}var w2={},gY;function X4e(){if(gY)return w2;gY=1,Object.defineProperty(w2,"__esModule",{value:!0}),w2.NodeValueHandlerFloat=void 0;const n=Go();let e=class extends n.NodeValueHandlerAdapter{constructor(a,r){super("FloatValue",a,r),this.datatype=this.util.dataFactory.namedNode("http://www.w3.org/2001/XMLSchema#float")}handle(a,r,t){return{terms:[this.util.dataFactory.literal(a.value,this.datatype)]}}};return w2.NodeValueHandlerFloat=e,w2}var S2={},vY;function K4e(){if(vY)return S2;vY=1,Object.defineProperty(S2,"__esModule",{value:!0}),S2.NodeValueHandlerInt=void 0;const n=Go();let e=class extends n.NodeValueHandlerAdapter{constructor(a,r){super("IntValue",a,r),this.datatype=this.util.dataFactory.namedNode("http://www.w3.org/2001/XMLSchema#integer")}handle(a,r,t){return{terms:[this.util.dataFactory.literal(a.value,this.datatype)]}}};return S2.NodeValueHandlerInt=e,S2}var E2={},_Y;function J4e(){if(_Y)return E2;_Y=1,Object.defineProperty(E2,"__esModule",{value:!0}),E2.NodeValueHandlerList=void 0;const n=Go();let e=class extends n.NodeValueHandlerAdapter{constructor(a,r){super("ListValue",a,r),this.nodeFirst=this.util.dataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#first"),this.nodeRest=this.util.dataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"),this.nodeNil=this.util.dataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#nil")}handle(a,r,t){const i=[];let o=[];for(const l of a.values){const s=this.util.handleNodeValue(l,r,t);for(const c of s.terms)i.push(c);s.auxiliaryPatterns&&(o=o.concat(s.auxiliaryPatterns))}if(this.settings.arraysToRdfLists){const l=this.util.dataFactory.blankNode();let s=l,c=i.length;for(const d of i){o.push(this.util.operationFactory.createPattern(s,this.nodeFirst,d,t.graph));const f=--c===0?this.nodeNil:this.util.dataFactory.blankNode();o.push(this.util.operationFactory.createPattern(s,this.nodeRest,f,t.graph)),s=f}return{terms:[l],auxiliaryPatterns:o}}else return{terms:i,auxiliaryPatterns:o}}};return E2.NodeValueHandlerList=e,E2}var A2={},TY;function W4e(){if(TY)return A2;TY=1,Object.defineProperty(A2,"__esModule",{value:!0}),A2.NodeValueHandlerNull=void 0;const n=Go();let e=class extends n.NodeValueHandlerAdapter{constructor(a,r){super("NullValue",a,r),this.nil=this.util.dataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#nil")}handle(a,r,t){return{terms:[this.nil]}}};return A2.NodeValueHandlerNull=e,A2}var O2={},wY;function Y4e(){if(wY)return O2;wY=1,Object.defineProperty(O2,"__esModule",{value:!0}),O2.NodeValueHandlerObject=void 0;const n=Go();let e=class extends n.NodeValueHandlerAdapter{constructor(a,r){super("ObjectValue",a,r)}handle(a,r,t){const i=this.util.dataFactory.blankNode();let o=[];for(const l of a.fields){const s=this.util.handleNodeValue(l.value,r,t);for(const c of s.terms)o.push(this.util.createQuadPattern(i,l.name,c,t.graph,t.context));s.auxiliaryPatterns&&(o=o.concat(s.auxiliaryPatterns))}return{terms:[i],auxiliaryPatterns:o}}};return O2.NodeValueHandlerObject=e,O2}var x2={},SY;function Z4e(){if(SY)return x2;SY=1,Object.defineProperty(x2,"__esModule",{value:!0}),x2.NodeValueHandlerString=void 0;const n=Go();let e=class extends n.NodeValueHandlerAdapter{constructor(a,r){super("StringValue",a,r)}handle(a,r,t){const i=t.context.getContextRaw()[r];let o,l;return i&&typeof i!="string"&&(i["@language"]?o=i["@language"]:i["@type"]&&(l=this.util.dataFactory.namedNode(i["@type"]))),{terms:[this.util.dataFactory.literal(a.value,o||l)]}}};return x2.NodeValueHandlerString=e,x2}var R2={},EY;function eNe(){if(EY)return R2;EY=1,Object.defineProperty(R2,"__esModule",{value:!0}),R2.NodeValueHandlerVariable=void 0;const n=Go();let e=class extends n.NodeValueHandlerAdapter{constructor(a,r){super("Variable",a,r)}handle(a,r,t){const i=a.name.value,o=t.variablesDict[i],l=t.variablesMetaDict[i];if(!o){if(!t.ignoreUnknownVariables&&(!l||l.mandatory))throw new Error(`Undefined variable: ${i}`);{const s=this.util.dataFactory.variable(i);return t.terminalVariables.map(c=>c.value).indexOf(i)<0&&t.terminalVariables.push(s),{terms:[s]}}}if(o.kind==="Variable")throw new Error(`Variable refers to another variable: ${i}`);if(l)if(l.list){if(o.kind!=="ListValue")throw new Error(`Expected a list, but got ${o.kind} for ${i}`);if(l.type){const s=o;for(const c of s.values)if(c.kind!==l.type)throw new Error(`Expected ${l.type}, but got ${c.kind} for ${i}`)}}else l.type;return this.util.handleNodeValue(o,r,t)}};return R2.NodeValueHandlerVariable=e,R2}var AY;function tNe(){return AY||(AY=1,(function(n){var e=cf&&cf.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=cf&&cf.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(Go(),n),u(G4e(),n),u($4e(),n),u(X4e(),n),u(K4e(),n),u(J4e(),n),u(W4e(),n),u(Y4e(),n),u(Z4e(),n),u(eNe(),n)})(cf)),cf}var N2={},OY;function cP(){if(OY)return N2;OY=1,Object.defineProperty(N2,"__esModule",{value:!0}),N2.NodeHandlerAdapter=void 0;let n=class{constructor(u,a,r){this.targetKind=u,this.util=a,this.settings=r}getNodeQuadContextSelectionSet(u,a,r){const t={};if(u){for(const i of u.selections)if(i.kind==="Field"){const o=i;this.handleNodeQuadContextField(o,r,t,"id","subject"),this.handleNodeQuadContextField(o,r,t,"graph","graph")}}return t}handleNodeQuadContextField(u,a,r,t,i){if(!r[i]&&u.name.value===t){if(!r[i]){const o=this.util.getArgument(u.arguments,"_");if(o){const l=this.util.handleNodeValue(o.value,u.name.value,a);if(l.terms.length!==1)throw new Error(`Only single values can be set as ${t}, but got ${l.terms.length} at ${u.name.value}`);r[i]=l.terms[0],l.auxiliaryPatterns&&(r.auxiliaryPatterns||(r.auxiliaryPatterns=[]),r.auxiliaryPatterns.concat(l.auxiliaryPatterns))}}if(!r[i]){const o=this.util.nameToVariable(this.util.getFieldLabel(u),a);a.terminalVariables.push(o),r[i]=o}}}getDirectiveOutputs(u,a,r){const t=[];if(u)for(const i of u){const o=this.util.handleDirectiveNode({directive:i,fieldLabel:a},r);if(o){if(o.ignore)return null;t.push(o)}}return t}handleDirectiveOutputs(u,a){for(const r of u){if(r.ignore)return this.util.operationFactory.createBgp([]);r.operationOverrider&&(a=r.operationOverrider(a))}return a}};return N2.NodeHandlerAdapter=n,N2}var I2={},xY;function rB(){if(xY)return I2;xY=1,Object.defineProperty(I2,"__esModule",{value:!0}),I2.NodeHandlerDefinitionAdapter=void 0;const n=cP();let e=class extends n.NodeHandlerAdapter{constructor(a,r,t){super(a,r,t)}};return I2.NodeHandlerDefinitionAdapter=e,I2}var D2={},RY;function rNe(){if(RY)return D2;RY=1,Object.defineProperty(D2,"__esModule",{value:!0}),D2.NodeHandlerDefinitionFragment=void 0;const n=rB();let e=class extends n.NodeHandlerDefinitionAdapter{constructor(a,r){super("FragmentDefinition",a,r)}handle(a,r){throw new Error("Illegal state: fragment definitions must be indexed and removed before processing")}};return D2.NodeHandlerDefinitionFragment=e,D2}var F2={},NY;function nNe(){if(NY)return F2;NY=1,Object.defineProperty(F2,"__esModule",{value:!0}),F2.NodeHandlerDefinitionOperation=void 0;const n=rB();let e=class extends n.NodeHandlerDefinitionAdapter{constructor(a,r){super("OperationDefinition",a,r)}handle(a,r){if(a.operation!=="query")throw new Error("Unsupported definition operation: "+a.operation);if(a.variableDefinitions)for(const o of a.variableDefinitions){const l=o.variable.name.value;o.defaultValue&&(r.variablesDict[l]||(r.variablesDict[l]=o.defaultValue));let s=o.type;const c=s.kind==="NonNullType";c&&(s=s.type);const d=s.kind==="ListType";d&&(s=s.type);const f=s.name.value;r.variablesMetaDict[l]={mandatory:c,list:d,type:f}}const t=this.getDirectiveOutputs(a.directives,a.name?a.name.value:"",r);if(!t)return this.util.operationFactory.createBgp([]);const i=this.util.joinOperations(a.selectionSet.selections.map(o=>this.util.handleNode(o,r)));return this.handleDirectiveOutputs(t,i)}};return F2.NodeHandlerDefinitionOperation=e,F2}var P2={},Qu={},du={},nM={},IY;function J4(){return IY||(IY=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.expressionTypes=n.types=void 0,(function(e){e.ALT="alt",e.ASK="ask",e.BGP="bgp",e.CONSTRUCT="construct",e.DESCRIBE="describe",e.DISTINCT="distinct",e.EXPRESSION="expression",e.EXTEND="extend",e.FILTER="filter",e.FROM="from",e.GRAPH="graph",e.GROUP="group",e.INV="inv",e.JOIN="join",e.LEFT_JOIN="leftjoin",e.LINK="link",e.MINUS="minus",e.NOP="nop",e.NPS="nps",e.ONE_OR_MORE_PATH="OneOrMorePath",e.ORDER_BY="orderby",e.PATH="path",e.PATTERN="pattern",e.PROJECT="project",e.REDUCED="reduced",e.SEQ="seq",e.SERVICE="service",e.SLICE="slice",e.UNION="union",e.VALUES="values",e.ZERO_OR_MORE_PATH="ZeroOrMorePath",e.ZERO_OR_ONE_PATH="ZeroOrOnePath",e.COMPOSITE_UPDATE="compositeupdate",e.DELETE_INSERT="deleteinsert",e.LOAD="load",e.CLEAR="clear",e.CREATE="create",e.DROP="drop",e.ADD="add",e.MOVE="move",e.COPY="copy"})(n.types||(n.types={})),(function(e){e.AGGREGATE="aggregate",e.EXISTENCE="existence",e.NAMED="named",e.OPERATOR="operator",e.TERM="term",e.WILDCARD="wildcard"})(n.expressionTypes||(n.expressionTypes={}))})(nM)),nM}var Ro={},DY;function lP(){if(DY)return Ro;DY=1;var n=Ro&&Ro.__createBinding||(Object.create?(function(l,s,c,d){d===void 0&&(d=c);var f=Object.getOwnPropertyDescriptor(s,c);(!f||("get"in f?!s.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return s[c]}}),Object.defineProperty(l,d,f)}):(function(l,s,c,d){d===void 0&&(d=c),l[d]=s[c]})),e=Ro&&Ro.__setModuleDefault||(Object.create?(function(l,s){Object.defineProperty(l,"default",{enumerable:!0,value:s})}):function(l,s){l.default=s}),u=Ro&&Ro.__importStar||function(l){if(l&&l.__esModule)return l;var s={};if(l!=null)for(var c in l)c!=="default"&&Object.prototype.hasOwnProperty.call(l,c)&&n(s,l,c);return e(s,l),s};Object.defineProperty(Ro,"__esModule",{value:!0});const a=u(J4()),r=Rr(),t=Xt(),i=$n();class o{constructor(s){this.dataFactory=s||new r.DataFactory,this.stringType=this.createTerm("http://www.w3.org/2001/XMLSchema#string")}createAlt(s,c=!0){return this.flattenMulti({type:a.types.ALT,input:s},c)}createAsk(s){return{type:a.types.ASK,input:s}}createBoundAggregate(s,c,d,f,p){const h=this.createAggregateExpression(c,d,f,p);return h.variable=s,h}createBgp(s){return{type:a.types.BGP,patterns:s}}createConstruct(s,c){return{type:a.types.CONSTRUCT,input:s,template:c}}createDescribe(s,c){return{type:a.types.DESCRIBE,input:s,terms:c}}createDistinct(s){return{type:a.types.DISTINCT,input:s}}createExtend(s,c,d){return{type:a.types.EXTEND,input:s,variable:c,expression:d}}createFrom(s,c,d){return{type:a.types.FROM,input:s,default:c,named:d}}createFilter(s,c){return{type:a.types.FILTER,input:s,expression:c}}createGraph(s,c){return{type:a.types.GRAPH,input:s,name:c}}createGroup(s,c,d){return{type:a.types.GROUP,input:s,variables:c,aggregates:d}}createInv(s){return{type:a.types.INV,path:s}}createJoin(s,c=!0){return this.flattenMulti({type:a.types.JOIN,input:s},c)}createLeftJoin(s,c,d){return d?{type:a.types.LEFT_JOIN,input:[s,c],expression:d}:{type:a.types.LEFT_JOIN,input:[s,c]}}createLink(s){return{type:a.types.LINK,iri:s}}createMinus(s,c){return{type:a.types.MINUS,input:[s,c]}}createNop(){return{type:a.types.NOP}}createNps(s){return{type:a.types.NPS,iris:s}}createOneOrMorePath(s){return{type:a.types.ONE_OR_MORE_PATH,path:s}}createOrderBy(s,c){return{type:a.types.ORDER_BY,input:s,expressions:c}}createPath(s,c,d,f){return f?{type:a.types.PATH,subject:s,predicate:c,object:d,graph:f}:{type:a.types.PATH,subject:s,predicate:c,object:d,graph:this.dataFactory.defaultGraph()}}createPattern(s,c,d,f){const p=this.dataFactory.quad(s,c,d,f);return p.type=a.types.PATTERN,p}createProject(s,c){return{type:a.types.PROJECT,input:s,variables:c}}createReduced(s){return{type:a.types.REDUCED,input:s}}createSeq(s,c=!0){return this.flattenMulti({type:a.types.SEQ,input:s},c)}createService(s,c,d){return{type:a.types.SERVICE,input:s,name:c,silent:!!d}}createSlice(s,c,d){return c=c||0,d!==void 0?{type:a.types.SLICE,input:s,start:c,length:d}:{type:a.types.SLICE,input:s,start:c}}createUnion(s,c=!0){return this.flattenMulti({type:a.types.UNION,input:s},c)}createValues(s,c){return{type:a.types.VALUES,variables:s,bindings:c}}createZeroOrMorePath(s){return{type:a.types.ZERO_OR_MORE_PATH,path:s}}createZeroOrOnePath(s){return{type:a.types.ZERO_OR_ONE_PATH,path:s}}createAggregateExpression(s,c,d,f){return f?{type:a.types.EXPRESSION,expressionType:a.expressionTypes.AGGREGATE,aggregator:s,expression:c,separator:f,distinct:d}:{type:a.types.EXPRESSION,expressionType:a.expressionTypes.AGGREGATE,aggregator:s,expression:c,distinct:d}}createExistenceExpression(s,c){return{type:a.types.EXPRESSION,expressionType:a.expressionTypes.EXISTENCE,not:s,input:c}}createNamedExpression(s,c){return{type:a.types.EXPRESSION,expressionType:a.expressionTypes.NAMED,name:s,args:c}}createOperatorExpression(s,c){return{type:a.types.EXPRESSION,expressionType:a.expressionTypes.OPERATOR,operator:s,args:c}}createTermExpression(s){return{type:a.types.EXPRESSION,expressionType:a.expressionTypes.TERM,term:s}}createWildcardExpression(){return{type:a.types.EXPRESSION,expressionType:a.expressionTypes.WILDCARD,wildcard:new i.Wildcard}}createTerm(s){return s[0]==="$"&&(s=s.replace("$","?")),(0,t.stringToTerm)(s,this.dataFactory)}createCompositeUpdate(s){return{type:a.types.COMPOSITE_UPDATE,updates:s}}createDeleteInsert(s,c,d){const f={type:a.types.DELETE_INSERT};return s&&(f.delete=s),c&&(f.insert=c),d&&(f.where=d),f}createLoad(s,c,d){const f={type:a.types.LOAD,source:s};return c&&(f.destination=c),this.addSilent(f,!!d)}createClear(s,c){return this.addSilent({type:a.types.CLEAR,source:s},!!c)}createCreate(s,c){return this.addSilent({type:a.types.CREATE,source:s},!!c)}createDrop(s,c){return this.addSilent({type:a.types.DROP,source:s},!!c)}createAdd(s,c,d){return this.addSilent({type:a.types.ADD,source:s,destination:c},!!d)}createMove(s,c,d){return this.addSilent({type:a.types.MOVE,source:s,destination:c},!!d)}createCopy(s,c,d){return this.addSilent({type:a.types.COPY,source:s,destination:c},!!d)}addSilent(s,c){return c&&(s.silent=c),s}flattenMulti(s,c){if(!c)return s;const d=s.type,f=s.input;let p=[];for(const h of f)h.type===d?p.push(...h.input):p.push(h);return s.input=p,s}}return Ro.default=o,Ro}var pg={},FY;function nB(){if(FY)return pg;FY=1;var n=pg&&pg.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(pg,"__esModule",{value:!0});const e=J4(),u=n(lP()),a=Yr();class r{static flatten(i){return Array.prototype.concat(...i).filter(o=>o)}static objectify(i){if(i.termType){if(i.termType==="Quad")return{type:"pattern",termType:"Quad",subject:r.objectify(i.subject),predicate:r.objectify(i.predicate),object:r.objectify(i.object),graph:r.objectify(i.graph)};{let o={termType:i.termType,value:i.value};return i.language&&(o.language=i.language),i.datatype&&(o.datatype=r.objectify(i.datatype)),o}}if(Array.isArray(i))return i.map(o=>r.objectify(o));if(i===Object(i)){let o={};for(let l of Object.keys(i))o[l]=r.objectify(i[l]);return o}return i}static inScopeVariables(i){const o=[];function l(c){o.find(d=>c.value===d.value)||o.push(c)}function s(c){c.subject.termType==="Variable"&&l(c.subject),c.predicate.termType==="Variable"&&l(c.predicate),c.object.termType==="Variable"&&l(c.object),c.graph.termType==="Variable"&&l(c.graph),c.subject.termType==="Quad"&&s(c.subject),c.predicate.termType==="Quad"&&s(c.predicate),c.object.termType==="Quad"&&s(c.object),c.graph.termType==="Quad"&&s(c.graph)}return r.recurseOperation(i,{[e.types.EXPRESSION]:c=>(c.expressionType===e.expressionTypes.AGGREGATE&&c.variable&&l(c.variable),!0),[e.types.EXTEND]:c=>(l(c.variable),!0),[e.types.GRAPH]:c=>(c.name.termType==="Variable"&&l(c.name),!0),[e.types.GROUP]:c=>(c.variables.forEach(l),!0),[e.types.PATH]:c=>(c.subject.termType==="Variable"&&l(c.subject),c.object.termType==="Variable"&&l(c.object),c.graph.termType==="Variable"&&l(c.graph),c.subject.termType==="Quad"&&s(c.subject),c.object.termType==="Quad"&&s(c.object),c.graph.termType==="Quad"&&s(c.graph),!0),[e.types.PATTERN]:c=>(s(c),!0),[e.types.PROJECT]:c=>(c.variables.forEach(l),!1),[e.types.SERVICE]:c=>(c.name.termType==="Variable"&&l(c.name),!0),[e.types.VALUES]:c=>(c.variables.forEach(l),!0)}),o}static recurseOperation(i,o){let l=i,s=!0;const c=o[i.type];if(c&&(s=c(i)),!s)return;let d=f=>r.recurseOperation(f,o);switch(l.type){case e.types.ALT:l.input.map(d);break;case e.types.ASK:d(l.input);break;case e.types.BGP:l.patterns.forEach(d);break;case e.types.CONSTRUCT:d(l.input),l.template.map(d);break;case e.types.DESCRIBE:d(l.input);break;case e.types.DISTINCT:d(l.input);break;case e.types.EXPRESSION:l.expressionType===e.expressionTypes.EXISTENCE&&d(l.input);break;case e.types.EXTEND:d(l.input),d(l.expression);break;case e.types.FILTER:d(l.input),d(l.expression);break;case e.types.FROM:d(l.input);break;case e.types.GRAPH:d(l.input);break;case e.types.GROUP:d(l.input),l.aggregates.forEach(d);break;case e.types.INV:d(l.path);break;case e.types.JOIN:l.input.map(d);break;case e.types.LEFT_JOIN:l.input.map(d),l.expression&&d(l.expression);break;case e.types.LINK:break;case e.types.MINUS:l.input.map(d);break;case e.types.NOP:break;case e.types.NPS:break;case e.types.ONE_OR_MORE_PATH:d(l.path);break;case e.types.ORDER_BY:d(l.input),l.expressions.forEach(d);break;case e.types.PATH:d(l.predicate);break;case e.types.PATTERN:break;case e.types.PROJECT:d(l.input);break;case e.types.REDUCED:d(l.input);break;case e.types.SEQ:l.input.map(d);break;case e.types.SERVICE:d(l.input);break;case e.types.SLICE:d(l.input);break;case e.types.UNION:l.input.map(d);break;case e.types.VALUES:break;case e.types.ZERO_OR_MORE_PATH:d(l.path);break;case e.types.ZERO_OR_ONE_PATH:d(l.path);break;case e.types.COMPOSITE_UPDATE:l.updates.forEach(f=>d(f));break;case e.types.DELETE_INSERT:l.delete&&l.delete.forEach(f=>d(f)),l.insert&&l.insert.forEach(f=>d(f)),l.where&&d(l.where);break;case e.types.LOAD:break;case e.types.CLEAR:break;case e.types.CREATE:break;case e.types.DROP:break;case e.types.ADD:break;case e.types.MOVE:break;case e.types.COPY:break;default:throw new Error(`Unknown Operation type ${l.type}`)}}static mapOperation(i,o,l){let s=i,c=!0,d=!0;l=l||new u.default;const f=o[i.type];if(f){const g=f(i,l);s=g.result,c=g.recurse,d=g.copyMetadata!==!1}let p;if(d&&(s.metadata||i.metadata)&&(p={...s.metadata,...i.metadata}),!c)return p&&(s.metadata=p),s;let h=g=>r.mapOperation(g,o,l);switch(s.type){case e.types.ALT:s=l.createAlt(s.input.map(h));break;case e.types.ASK:s=l.createAsk(h(s.input));break;case e.types.BGP:s=l.createBgp(s.patterns.map(h));break;case e.types.CONSTRUCT:s=l.createConstruct(h(s.input),s.template.map(h));break;case e.types.DESCRIBE:s=l.createDescribe(h(s.input),s.terms);break;case e.types.DISTINCT:s=l.createDistinct(h(s.input));break;case e.types.EXPRESSION:s=r.mapExpression(s,o,l);break;case e.types.EXTEND:s=l.createExtend(h(s.input),s.variable,h(s.expression));break;case e.types.FILTER:s=l.createFilter(h(s.input),h(s.expression));break;case e.types.FROM:s=l.createFrom(h(s.input),[...s.default],[...s.named]);break;case e.types.GRAPH:s=l.createGraph(h(s.input),s.name);break;case e.types.GROUP:s=l.createGroup(h(s.input),[].concat(s.variables),s.aggregates.map(h));break;case e.types.INV:s=l.createInv(h(s.path));break;case e.types.JOIN:s=l.createJoin(s.input.map(h));break;case e.types.LEFT_JOIN:s=l.createLeftJoin(h(s.input[0]),h(s.input[1]),s.expression?h(s.expression):void 0);break;case e.types.LINK:s=l.createLink(s.iri);break;case e.types.MINUS:s=l.createMinus(h(s.input[0]),h(s.input[1]));break;case e.types.NOP:s=l.createNop();break;case e.types.NPS:s=l.createNps([].concat(s.iris));break;case e.types.ONE_OR_MORE_PATH:s=l.createOneOrMorePath(h(s.path));break;case e.types.ORDER_BY:s=l.createOrderBy(h(s.input),s.expressions.map(h));break;case e.types.PATH:s=l.createPath(s.subject,h(s.predicate),s.object,s.graph);break;case e.types.PATTERN:s=l.createPattern(s.subject,s.predicate,s.object,s.graph);break;case e.types.PROJECT:s=l.createProject(h(s.input),[...s.variables]);break;case e.types.REDUCED:s=l.createReduced(h(s.input));break;case e.types.SEQ:s=l.createSeq(s.input.map(h));break;case e.types.SERVICE:s=l.createService(h(s.input),s.name,s.silent);break;case e.types.SLICE:s=l.createSlice(h(s.input),s.start,s.length);break;case e.types.UNION:s=l.createUnion(s.input.map(h));break;case e.types.VALUES:s=l.createValues([].concat(s.variables),s.bindings.map(g=>Object.assign({},g)));break;case e.types.ZERO_OR_MORE_PATH:s=l.createZeroOrMorePath(h(s.path));break;case e.types.ZERO_OR_ONE_PATH:s=l.createZeroOrOnePath(h(s.path));break;case e.types.COMPOSITE_UPDATE:s=l.createCompositeUpdate(s.updates.map(h));break;case e.types.DELETE_INSERT:s=l.createDeleteInsert(s.delete?s.delete.map(h):void 0,s.insert?s.insert.map(h):void 0,s.where?h(s.where):void 0);break;case e.types.LOAD:s=l.createLoad(s.source,s.destination,s.silent);break;case e.types.CLEAR:s=l.createClear(s.source,s.silent);break;case e.types.CREATE:s=l.createCreate(s.source,s.silent);break;case e.types.DROP:s=l.createDrop(s.source,s.silent);break;case e.types.ADD:s=l.createAdd(s.source,s.destination);break;case e.types.MOVE:s=l.createMove(s.source,s.destination);break;case e.types.COPY:s=l.createCopy(s.source,s.destination);break;default:throw new Error(`Unknown Operation type ${s.type}`)}return p&&(s.metadata=p),s}static mapExpression(i,o,l){let s=i,c=!0;l=l||new u.default;const d=o[i.expressionType];if(d&&({result:s,recurse:c}=d(i,l)),!c)return s;let f=p=>r.mapOperation(p,o,l);switch(i.expressionType){case e.expressionTypes.AGGREGATE:return i.variable?l.createBoundAggregate(i.variable,i.aggregator,f(i.expression),i.distinct,i.separator):l.createAggregateExpression(i.aggregator,f(i.expression),i.distinct,i.separator);case e.expressionTypes.EXISTENCE:return l.createExistenceExpression(i.not,f(i.input));case e.expressionTypes.NAMED:return l.createNamedExpression(i.name,i.args.map(f));case e.expressionTypes.OPERATOR:return l.createOperatorExpression(i.operator,i.args.map(f));case e.expressionTypes.TERM:return l.createTermExpression(i.term);case e.expressionTypes.WILDCARD:return l.createWildcardExpression();default:throw new Error(`Unknown Expression type ${i.expressionType}`)}}static cloneOperation(i){return r.mapOperation(i,{})}static cloneExpression(i){return r.mapExpression(i,{})}static createUniqueVariable(i,o,l){let s=0,c=i;for(;o[c];)c=`${i}${s++}`;return l.variable(c)}static isSimpleTerm(i){return i.termType!==void 0&&i.termType!=="Quad"&&i.termType!=="Wildcard"}static isQuad(i){return i.termType==="Quad"}static hasQuadVariables(i){return(0,a.someTermsNested)(i,o=>o.termType==="Variable")}static isWildcard(i){return i.termType==="Wildcard"}}return pg.default=r,pg}var PY;function aNe(){if(PY)return du;PY=1;var n=du&&du.__createBinding||(Object.create?(function(v,F,D,L){L===void 0&&(L=D);var H=Object.getOwnPropertyDescriptor(F,D);(!H||("get"in H?!F.__esModule:H.writable||H.configurable))&&(H={enumerable:!0,get:function(){return F[D]}}),Object.defineProperty(v,L,H)}):(function(v,F,D,L){L===void 0&&(L=D),v[L]=F[D]})),e=du&&du.__setModuleDefault||(Object.create?(function(v,F){Object.defineProperty(v,"default",{enumerable:!0,value:F})}):function(v,F){v.default=F}),u=du&&du.__importStar||function(v){if(v&&v.__esModule)return v;var F={};if(v!=null)for(var D in v)D!=="default"&&Object.prototype.hasOwnProperty.call(v,D)&&n(F,v,D);return e(F,v),F},a=du&&du.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(du,"__esModule",{value:!0});const r=T1(),t=Xt(),i=u(J4()),o=a(lP()),l=a(nB()),s=$n().Parser,c=i.types;let d=new Set,f=0,p=!1,h;function g(v,F){F=F||{},h=new o.default(F.dataFactory);let D;if(m(v)){let L=new s(F);L._resetBlanks(),D=L.parse(v)}else D=v;return _(D,F.quads,F.blankToVariable)}du.default=g;function _(v,F,D){if(d=new Set,f=0,p=!!F,!v.type)return h.createNop();if(v.type!=="query"&&v.type!=="update")throw new Error("Translate only works on complete query or update objects.");let L;if(S(v),v.type==="query"){const H={type:"group",patterns:v.where||[]};L=j(H),L=W(v,L)}else v.type==="update"&&(L=pe(v));return D&&(L=te(L)),L}function m(v){return typeof v=="string"}function w(v){return!!v?.termType}function T(v){return v.subject&&v.predicate&&v.object}function E(v){return v?.termType==="Variable"}function S(v){if(w(v))E(v)&&d.add(`?${v.value}`);else if(Array.isArray(v))for(const F of v)S(F);else if(v&&typeof v=="object")for(let F of Object.keys(v))F.startsWith("?")?d.add(F):F.startsWith("$")&&d.add(`?${F.slice(1)}`),S(v[F])}function N(v){let F={};if(T(v)){const D=[N(v.subject),N(v.predicate),N(v.object),v.graph?N(v.graph):{}];Object.assign(F,...D)}else if(w(v))E(v)&&(F[v.value]=v);else if(v.type==="bgp"){const D=v.triples;Object.assign(F,...D.map(N))}else if(v.type==="path")Object.assign(F,...v.items.map(N));else if(v.type==="group"||v.type==="union"||v.type==="optional")Object.assign(F,...v.patterns.map(N));else if(v.type==="service"||v.type==="graph")Object.assign(F,N(v.name)),Object.assign(F,...v.patterns.map(N));else if(v.type==="bind")Object.assign(F,N(v.variable));else if(v.type==="values"){if(v.values.length>0){const D=Object.keys(v.values[0]).map(L=>h.createTerm(L));Object.assign(F,...D.map(N))}}else if(v.type==="query"&&(v.queryType==="SELECT"||v.queryType==="DESCRIBE")){v.where&&v.variables.some(l.default.isWildcard)&&Object.assign(F,...v.where.map(N));for(const D of v.variables)E(D)?Object.assign(F,N(D)):D.variable&&Object.assign(F,N(D.variable));if(v.queryType==="SELECT"){if(v.group)for(const D of v.group)D.variable&&Object.assign(F,N(D.variable));if(v.values){const D={type:"values",values:v.values};Object.assign(F,N(D))}}}return F}function j(v){if(v.type==="bgp")return O(v);if(v.type==="union")return h.createUnion(v.patterns.map(F=>(F.type!=="group"&&(F={type:"group",patterns:[F]}),j(F))));if(v.type==="graph"){const F={type:"group",patterns:v.patterns};let D=j(F);return p?D=U(D,v.name):D=h.createGraph(D,v.name),D}if(v.type==="values")return ne(v);if(v.type==="query")return _(v,p,!1);if(v.type==="group"){let F=[],D=[];for(let Z of v.patterns)(Z.type==="filter"?F:D).push(Z);let L=D.reduce(G,h.createBgp([])),H=F.map(Z=>q(Z.expression));return H.length>0&&(L=h.createFilter(L,H.reduce((Z,$)=>h.createOperatorExpression("&&",[Z,$])))),L}throw new Error(`Unexpected type: ${v.type}`)}function q(v){if(l.default.isSimpleTerm(v))return h.createTermExpression(v);if(l.default.isQuad(v))return l.default.hasQuadVariables(v)?h.createOperatorExpression("triple",[q(v.subject),q(v.predicate),q(v.object)]):h.createTermExpression(v);if(l.default.isWildcard(v))return h.createWildcardExpression();if("aggregation"in v)return h.createAggregateExpression(v.aggregation,q(v.expression),!!v.distinct,v.separator);if("function"in v)return h.createNamedExpression(v.function,v.args.map(q));if("operator"in v)return v.operator==="exists"||v.operator==="notexists"?h.createExistenceExpression(v.operator==="notexists",j(v.args[0])):((v.operator==="in"||v.operator==="notin")&&(v.args=[v.args[0]].concat(v.args[1])),h.createOperatorExpression(v.operator,v.args.map(q)));throw new Error(`Unknown expression: ${JSON.stringify(v)}`)}function O(v){let F=[],D=[];for(let L of v.triples)if("pathType"in L.predicate){let H=I(L);for(let Z of H)Z.type===c.PATH?(F.length>0&&D.push(h.createBgp(F)),F=[],D.push(Z)):F.push(Z)}else F.push(B(L));return F.length>0&&D.push(h.createBgp(F)),D.length===1?D[0]:h.createJoin(D)}function I(v){let F=v.subject,D=A(v.predicate),L=v.object;return P(F,D,L)}function A(v){if(l.default.isSimpleTerm(v)){if(v.termType==="NamedNode")return h.createLink(v);throw new Error(`Path predicate should be a NamedNode, got ${JSON.stringify(v)}`)}if(v.pathType==="^")return h.createInv(A(v.items[0]));if(v.pathType==="!"){let F=[],D=[],L;"pathType"in v.items[0]&&v.items[0].pathType==="|"?L=v.items[0].items:L=v.items;for(let $ of L)if(l.default.isSimpleTerm($))F.push($);else if($.pathType==="^")D.push($.items[0]);else throw new Error(`Unexpected item: ${JSON.stringify($)}`);let H=h.createNps(F),Z=h.createInv(h.createNps(D));return D.length===0?H:F.length===0?Z:h.createAlt([H,Z])}if(v.pathType==="/")return h.createSeq(v.items.map(A));if(v.pathType==="|")return h.createAlt(v.items.map(A));if(v.pathType==="*")return h.createZeroOrMorePath(A(v.items[0]));if(v.pathType==="+")return h.createOneOrMorePath(A(v.items[0]));if(v.pathType==="?")return h.createZeroOrOnePath(A(v.items[0]));throw new Error(`Unable to translate path expression ${JSON.stringify(v)}`)}function P(v,F,D){if(F.type===c.LINK)return[h.createPattern(v,F.iri,D)];if(F.type===c.INV)return P(D,F.path,v);if(F.type===c.SEQ){let L=v;return l.default.flatten(F.input.map((H,Z)=>{const $=Z===F.input.length-1?D:C(),ue=P(L,H,$);return $.termType==="Variable"&&(L=$),ue}))}return[h.createPath(v,F,D)]}function C(){let v=`?var${f++}`;return d.has(v)?C():(d.add(v),h.createTerm(v))}function B(v){if("pathType"in v.predicate)throw new Error("Trying to translate property path to quad.");return h.createPattern(v.subject,v.predicate,v.object,v.graph)}let V=Object.values(c);function U(v,F,D){if(v.type===c.GRAPH){if(D)throw new Error("Recursing through nested GRAPH statements with a replacement is impossible.");v=U(v.input,v.name)}else if(v.type!==c.SERVICE)if(v.type===c.BGP)v.patterns=v.patterns.map(L=>(D&&(L.subject.equals(F)&&(L.subject=D),L.predicate.equals(F)&&(L.predicate=D),L.object.equals(F)&&(L.object=D)),L.graph.termType==="DefaultGraph"&&(L.graph=F),L));else if(v.type===c.PATH)D&&(v.subject.equals(F)&&(v.subject=D),v.object.equals(F)&&(v.object=D)),v.graph.termType==="DefaultGraph"&&(v.graph=F);else if(v.type===c.PROJECT&&!D)v.variables.some(L=>L.equals(F))||(D=C()),v.input=U(v.input,F,D);else if(v.type===c.EXTEND&&!D)v.variable.equals(F)&&(D=C()),v.input=U(v.input,F,D);else for(let L of Object.keys(v))Array.isArray(v[L])?v[L]=v[L].map(H=>U(H,F,D)):V.indexOf(v[L].type)>=0?v[L]=U(v[L],F,D):D&&E(v[L])&&v[L].equals(F)&&(v[L]=D);return v}function G(v,F){if(F.type==="optional"){const D=j({type:"group",patterns:F.patterns});D.type===c.FILTER?v=h.createLeftJoin(v,D.input,D.expression):v=h.createLeftJoin(v,D)}else if(F.type==="minus"){const D=j({type:"group",patterns:F.patterns});v=h.createMinus(v,D)}else if(F.type==="bind")v=h.createExtend(v,F.variable,q(F.expression));else if(F.type==="service"){const D={type:"group",patterns:F.patterns},L=h.createService(j(D),F.name,F.silent);v=J(v,L)}else{const D=j(F);v=J(v,D)}return v}function J(v,F){return v.type===c.BGP&&F.type===c.BGP?v=h.createBgp([...v.patterns,...F.patterns]):v.type===c.BGP&&v.patterns.length===0?v=F:F.type===c.BGP&&F.patterns.length===0||(v=h.createJoin([v,F])),v}function ne(v){let F=(v.values.length===0?[]:Object.keys(v.values[0])).map(h.createTerm.bind(h)),D=v.values.map(L=>{let H=Object.keys(L);H=H.filter($=>L[$]!==void 0);let Z={};for(let $ of H)Z[$]=L[$];return Z});return h.createValues(F,D)}function W(v,F){const D=v,L=[],H={};if(D.variables=D.variables&&D.variables.map($=>ee($,H)),D.having=D.having&&D.having.map($=>ee($,H)),D.order=D.order&&D.order.map($=>ee($,H)),D.group||Object.keys(H).length>0){const $=Object.keys(H).map(ae=>se(H[ae],h.createTerm(ae))),ue=[];if(D.group)for(const ae of D.group)if(l.default.isSimpleTerm(ae.expression))ue.push(ae.expression);else{const ce="variable"in ae?ae.variable:C();F=h.createExtend(F,ce,q(ae.expression)),ue.push(ce)}F=h.createGroup(F,ue,$)}if(D.having)for(let $ of D.having)F=h.createFilter(F,q($));v.values&&(F=h.createJoin([F,ne(v)]));let Z=[];if(v.queryType==="SELECT"||v.queryType==="DESCRIBE")if(v.variables.some($=>$&&l.default.isWildcard($)))Z=Object.values(N(v)).sort(($,ue)=>$.value.localeCompare(ue.value));else for(let $ of v.variables)E($)||!("variable"in $)?Z.push($):$.variable&&(Z.push($.variable),L.push($));for(let $ of L)F=h.createExtend(F,$.variable,q($.expression));return D.order&&(F=h.createOrderBy(F,D.order.map($=>{let ue=q($.expression);return $.descending&&(ue=h.createOperatorExpression("desc",[ue])),ue}))),v.queryType==="SELECT"&&(F=h.createProject(F,Z)),D.distinct&&(F=h.createDistinct(F)),D.reduced&&(F=h.createReduced(F)),v.queryType==="CONSTRUCT"?F=h.createConstruct(F,(v.template||[]).map(B)):v.queryType==="ASK"?F=h.createAsk(F):v.queryType==="DESCRIBE"&&(F=h.createDescribe(F,Z)),(D.offset||D.limit)&&(F=h.createSlice(F,D.offset||0,D.limit)),D.from&&(F=h.createFrom(F,D.from.default,D.from.named)),F}function ee(v,F){if("type"in v&&v.type==="aggregate"){let D=!1,L;for(let H of Object.keys(F))if(r(F[H],v)){L=h.createTerm(H),D=!0;break}return D||(L=C(),F[(0,t.termToString)(L)]=v),L}return"expression"in v&&v.expression?{...v,expression:ee(v.expression,F)}:"args"in v&&v.args?{...v,args:v.args.map(D=>ee(D,F))}:v}function se(v,F){if(v.type!=="aggregate"||!v.aggregation)throw new Error(`Unexpected input: ${JSON.stringify(v)}`);const D=q(v);return D.variable=F,D}function pe(v){return v.updates.length===1?le(v.updates[0]):h.createCompositeUpdate(v.updates.map(le))}function le(v){if("type"in v){if(v.type==="load")return Oe(v);if(v.type==="clear"||v.type==="create"||v.type==="drop")return Ne(v);if(v.type==="add"||v.type==="copy"||v.type==="move")return be(v)}else if(v.updateType==="insertdelete"||v.updateType==="deletewhere"||v.updateType==="delete"||v.updateType==="insert")return Ee(v);throw new Error(`Unknown update type ${JSON.stringify(v)}`)}function Ee(v){if(!p)throw new Error("INSERT/DELETE operations are only supported with quads option enabled");let F=[],D=[],L;if(v.delete&&(F=l.default.flatten(v.delete.map(H=>Ae(H,v.graph)))),v.insert&&(D=l.default.flatten(v.insert.map(H=>Ae(H,v.graph)))),v.where&&v.where.length>0){L=j({type:"group",patterns:v.where});const H=v.using;H?L=h.createFrom(L,H.default,H.named):v.graph&&(L=U(L,v.graph))}else v.updateType==="deletewhere"&&F.length>0&&(L=h.createBgp(F));return h.createDeleteInsert(F.length>0?F:void 0,D.length>0?D:void 0,L)}function Ae(v,F){let D=F;v.type==="graph"&&(D=v.name);let L=v.triples;return D&&(L=L.map(H=>Object.assign(H,{graph:D}))),L.map(B)}function Ne(v){let F;switch(l.default.isSimpleTerm(v.graph)?F=v.graph:v.graph.all?F="ALL":v.graph.default?F="DEFAULT":v.graph.named?F="NAMED":F=v.graph.name,v.type){case"clear":return h.createClear(F,v.silent);case"create":return h.createCreate(F,v.silent);case"drop":return h.createDrop(F,v.silent)}}function Oe(v){return h.createLoad(v.source,v.destination,v.silent)}function be(v){const F=v.source.default?"DEFAULT":v.source.name,D=v.destination.default?"DEFAULT":v.destination.name;switch(v.type){case"copy":return h.createCopy(F,D,v.silent);case"move":return h.createMove(F,D,v.silent);case"add":return h.createAdd(F,D,v.silent)}}function te(v){const F={},D=Array.from(d).reduce((H,Z)=>(H[Z]=!0,H),{});return l.default.mapOperation(v,{[i.types.DELETE_INSERT]:H=>({result:h.createDeleteInsert(H.delete,H.insert,H.where&&te(H.where)),recurse:!1}),[i.types.PATH]:(H,Z)=>({result:Z.createPath(L(H.subject),H.predicate,L(H.object),L(H.graph)),recurse:!1}),[i.types.PATTERN]:(H,Z)=>({result:Z.createPattern(L(H.subject),L(H.predicate),L(H.object),L(H.graph)),recurse:!1}),[i.types.CONSTRUCT]:H=>({result:h.createConstruct(te(H.input),H.template),recurse:!1})});function L(H){if(H.termType==="BlankNode"){let Z=F[H.value];return Z||(Z=l.default.createUniqueVariable(H.value,D,h.dataFactory),D[Z.value]=!0,F[H.value]=Z),Z}return H}}return du}var Ga={},lf={},ir={},jY;function iNe(){if(jY)return ir;jY=1,Object.defineProperty(ir,"__esModule",{value:!0}),ir.isTermGrounded=ir.termToSignature=ir.quadToSignature=ir.sha1hex=ir.hashTerm=ir.hashTerms=ir.getGraphBlankNodes=ir.uniqGraph=ir.deindexGraph=ir.indexGraph=ir.getQuadsWithoutBlankNodes=ir.getQuadsWithBlankNodes=ir.hasValue=ir.hashValues=ir.getBijectionInner=ir.getBijection=ir.isomorphic=void 0;const n=ic(),e=Xt(),u=Yr();function a(S,N){return!!r(S,N)}ir.isomorphic=a;function r(S,N){const j=d(c(S)),q=d(c(N));if(Object.keys(j).length!==Object.keys(q).length)return null;for(const C in j)if(j[C]!==q[C])return null;const O=p(s(S)),I=p(s(N)),A=h(S),P=h(N);return t(O,I,A,P)}ir.getBijection=r;function t(S,N,j,q,O,I){O||(O={}),I||(I={});const[A,P]=g(S,j,O),[C,B]=g(N,q,I);if(Object.keys(A).length!==Object.keys(C).length)return null;for(const U in A)if(!l(C,A[U]))return null;let V={};for(const U of j){const G=e.termToString(U),J=P[G];for(const ne in B)if(B[ne]===J){V[G]=ne,delete B[ne];break}}if(!i(Object.keys(V).sort(),j.map(e.termToString).sort())||!i(o(V).sort(),q.map(e.termToString).sort())){V=null;for(const U of j){const G=e.termToString(U);if(!A[G])for(const J of q){const ne=e.termToString(J);if(!C[ne]&&P[G]===B[ne]){const W=m(G);V=t(S,N,j,q,Object.assign(Object.assign({},A),{[G]:W}),Object.assign(Object.assign({},C),{[ne]:W}))}}}}return V}ir.getBijectionInner=t;function i(S,N){if(S.length!==N.length)return!1;for(let j=S.length;j--;)if(S[j]!==N[j])return!1;return!0}function o(S){const N=[];for(const j in S)N.push(S[j]);return N}ir.hashValues=o;function l(S,N){for(const j in S)if(S[j]===N)return!0;return!1}ir.hasValue=l;function s(S){return S.filter(N=>u.someTerms(N,j=>j.termType==="BlankNode"||j.termType==="Quad"&&u.getTermsNested(j).some(q=>q.termType==="BlankNode")))}ir.getQuadsWithBlankNodes=s;function c(S){return S.filter(N=>u.everyTerms(N,j=>j.termType!=="BlankNode"&&!(j.termType==="Quad"&&u.getTermsNested(j).some(q=>q.termType==="BlankNode"))))}ir.getQuadsWithoutBlankNodes=c;function d(S){const N={};for(const j of S)N[JSON.stringify(e.quadToStringQuad(j))]=!0;return N}ir.indexGraph=d;function f(S){return Object.keys(S).map(N=>e.stringQuadToQuad(JSON.parse(N)))}ir.deindexGraph=f;function p(S){return f(d(S))}ir.uniqGraph=p;function h(S){return u.uniqTerms(S.map(N=>u.getBlankNodes(u.getTermsNested(N))).reduce((N,j)=>N.concat(j),[]))}ir.getGraphBlankNodes=h;function g(S,N,j){const q=Object.assign({},j),O={};let I=!0;for(;I;){const A=Object.keys(q).length;for(const C of N){const B=e.termToString(C);if(!q[B]){const[V,U]=_(C,S,q);V&&(q[B]=U),O[B]=U}}const P={};for(const C in O){const B=O[C];P[B]===void 0?P[B]=C:P[B]=!1}for(const C in P){const B=P[C];B&&(q[B]=C)}I=A!==Object.keys(q).length}return[q,O]}ir.hashTerms=g;function _(S,N,j){const q=[];let O=!0;for(const A of N){const P=u.getTermsNested(A);if(P.some(C=>C.equals(S))){q.push(w(A,j,S));for(const C of P)!E(C,j)&&!C.equals(S)&&(O=!1)}}const I=m(q.sort().join(""));return[O,I]}ir.hashTerm=_;function m(S){return n.sha1().update(S).digest("hex")}ir.sha1hex=m;function w(S,N,j){return u.getTerms(S).map(q=>T(q,N,j)).join("|")}ir.quadToSignature=w;function T(S,N,j){return S.equals(j)?"@self":S.termType==="BlankNode"?N[e.termToString(S)]||"@blank":S.termType==="Quad"?`<${w(S,N,j)}>`:e.termToString(S)}ir.termToSignature=T;function E(S,N){return S.termType!=="BlankNode"&&!(S.termType==="Quad"&&u.getTermsNested(S).some(j=>!E(j,N)))||!!N[e.termToString(S)]}return ir.isTermGrounded=E,ir}var MY;function uNe(){return MY||(MY=1,(function(n){var e=lf&&lf.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t),Object.defineProperty(a,i,{enumerable:!0,get:function(){return r[t]}})}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=lf&&lf.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(iNe(),n)})(lf)),lf}var CY;function oNe(){if(CY)return Ga;CY=1;var n=Ga&&Ga.__createBinding||(Object.create?(function(R,k,K,de){de===void 0&&(de=K);var ge=Object.getOwnPropertyDescriptor(k,K);(!ge||("get"in ge?!k.__esModule:ge.writable||ge.configurable))&&(ge={enumerable:!0,get:function(){return k[K]}}),Object.defineProperty(R,de,ge)}):(function(R,k,K,de){de===void 0&&(de=K),R[de]=k[K]})),e=Ga&&Ga.__setModuleDefault||(Object.create?(function(R,k){Object.defineProperty(R,"default",{enumerable:!0,value:k})}):function(R,k){R.default=k}),u=Ga&&Ga.__importStar||function(R){if(R&&R.__esModule)return R;var k={};if(R!=null)for(var K in R)K!=="default"&&Object.prototype.hasOwnProperty.call(R,K)&&n(k,R,K);return e(k,R),k},a=Ga&&Ga.__importDefault||function(R){return R&&R.__esModule?R:{default:R}};Object.defineProperty(Ga,"__esModule",{value:!0}),Ga.toSparqlJs=Ga.toSparql=void 0;const r=uNe(),t=Xt(),i=$n(),o=u(J4()),l=a(lP()),s=a(nB()),c=o.types,d=o.expressionTypes;let f;const p=new l.default;function h(R,k={}){return new i.Generator(k).stringify(g(R))}Ga.toSparql=h;function g(R){_(),R=Le(R);let k=m(R);return k.type==="group"?k.patterns[0]:k}Ga.toSparqlJs=g;function _(){f={project:!1,extend:[],group:[],aggregates:[],order:[]}}function m(R){switch(R.type!==c.EXTEND&&R.type!==c.ORDER_BY&&R.type!==c.GRAPH&&(f.project=!1),R.type){case c.EXPRESSION:return w(R);case c.ASK:return Oe(R,c.ASK);case c.BGP:return C(R);case c.CONSTRUCT:return B(R);case c.DESCRIBE:return Oe(R,c.DESCRIBE);case c.DISTINCT:return V(R);case c.EXTEND:return U(R);case c.FROM:return G(R);case c.FILTER:return J(R);case c.GRAPH:return ne(R);case c.GROUP:return W(R);case c.JOIN:return ee(R);case c.LEFT_JOIN:return se(R);case c.MINUS:return pe(R);case c.NOP:return{};case c.ORDER_BY:return le(R);case c.PATH:return Ee(R);case c.PATTERN:return Ae(R);case c.PROJECT:return Oe(R,c.PROJECT);case c.REDUCED:return te(R);case c.SERVICE:return v(R);case c.SLICE:return F(R);case c.UNION:return D(R);case c.VALUES:return L(R);case c.COMPOSITE_UPDATE:return Ce(R);case c.DELETE_INSERT:return He(R);case c.LOAD:return Je(R);case c.CLEAR:return Ye(R);case c.CREATE:return oe(R);case c.DROP:return X(R);case c.ADD:return he(R);case c.MOVE:return ve(R);case c.COPY:return ye(R)}throw new Error(`Unknown Operation type ${R.type}`)}function w(R){switch(R.expressionType){case d.AGGREGATE:return S(R);case d.EXISTENCE:return N(R);case d.NAMED:return j(R);case d.OPERATOR:return q(R);case d.TERM:return O(R);case d.WILDCARD:return I(R)}throw new Error(`Unknown Expression Operation type ${R.expressionType}`)}function T(R){switch(R.type){case c.ALT:return H(R);case c.INV:return Z(R);case c.LINK:return $(R);case c.NPS:return ue(R);case c.ONE_OR_MORE_PATH:return ae(R);case c.SEQ:return ce(R);case c.ZERO_OR_MORE_PATH:return Se(R);case c.ZERO_OR_ONE_PATH:return xe(R)}throw new Error(`Unknown Path type ${R.type}`)}function E(R){return(0,t.termToString)(R)}function S(R){const k={expression:w(R.expression),type:"aggregate",aggregation:R.aggregator,distinct:R.distinct};return R.separator&&(k.separator=R.separator),k}function N(R){return{type:"operation",operator:R.not?"notexists":"exists",args:[{type:"group",patterns:s.default.flatten([m(R.input)])}]}}function j(R){return{type:"functionCall",function:R.name,args:R.args.map(w)}}function q(R){if(R.operator==="desc"){const K={expression:w(R.args[0])};return K.descending=!0,K}const k={type:"operation",operator:R.operator,args:R.args.map(w)};return(k.operator==="in"||k.operator==="notin")&&(k.args=[k.args[0]].concat([k.args.slice(1)])),k}function O(R){return R.term}function I(R){return R.wildcard}function A(R){return Array.isArray(R)?R.length===1?R[0]:{type:"group",patterns:R}:R}function P(R){return R}function C(R){let k=R.patterns.map(Ae);return k.length===0?null:{type:"bgp",triples:k}}function B(R){return{type:"query",prefixes:{},queryType:"CONSTRUCT",template:R.template.map(Ae),where:s.default.flatten([m(R.input)])}}function V(R){let k=m(R.input);return k.patterns[0].distinct=!0,k}function U(R){return f.project?(f.extend.push(R),m(R.input)):s.default.flatten([m(R.input),{type:"bind",variable:R.variable,expression:w(R.expression)}])}function G(R){const k=m(R.input);let K=k;return k.type==="group"&&(K=k.patterns[0]),K.from={default:R.default,named:R.named},k}function J(R){return{type:"group",patterns:s.default.flatten([m(R.input),{type:"filter",expression:w(R.expression)}])}}function ne(R){return{type:"graph",patterns:s.default.flatten([m(R.input)]),name:R.name}}function W(R){const k=m(R.input),K=R.aggregates.map(P);return f.aggregates.push(...K),f.group.push(...R.variables),k}function ee(R){return s.default.flatten(R.input.map(m)).reduce((K,de)=>(de.type!=="bgp"||K.length==0||K[K.length-1].type!=="bgp"?K.push(de):K[K.length-1].triples.push(...de.triples),K),[])}function se(R){const k={type:"optional",patterns:[m(R.input[1])]};return R.expression&&k.patterns.push({type:"filter",expression:w(R.expression)}),k.patterns=s.default.flatten(k.patterns),s.default.flatten([m(R.input[0]),k])}function pe(R){let k=m(R.input[1]);return k.type==="group"&&(k=k.patterns),Array.isArray(k)||(k=[k]),s.default.flatten([m(R.input[0]),{type:"minus",patterns:k}])}function le(R){return f.order.push(...R.expressions),m(R.input)}function Ee(R){return{type:"bgp",triples:[{subject:R.subject,predicate:T(R.predicate),object:R.object}]}}function Ae(R){return{subject:R.subject,predicate:R.predicate,object:R.object}}function Ne(R,k){let K=s.default.isSimpleTerm(R)?E(R):R;if(typeof K=="string"){if(k[K])return k[K]}else if(Array.isArray(R))R=R.map(de=>Ne(de,k));else for(let de of Object.keys(R))R[de]=Ne(R[de],k);return R}function Oe(R,k){const K={type:"query",prefixes:{}},de=K;let ge;k===c.PROJECT?(K.queryType="SELECT",ge=R.variables):k===c.ASK?K.queryType="ASK":k===c.DESCRIBE&&(K.queryType="DESCRIBE",ge=R.terms);const Qe=f.extend,je=f.group,$e=f.aggregates,at=f.order;_(),f.project=!0;let fe=s.default.flatten([m(R.input)]);fe.length===1&&fe[0].type==="group"&&(fe=fe[0].patterns),K.where=fe;let Te={};for(let Me of f.aggregates)Te[E(Me.variable)]=w(Me);let qe={};for(let Me=f.extend.length-1;Me>=0;--Me){let st=f.extend[Me];qe[E(st.variable)]=Ne(w(st.expression),Te)}f.group.length>0&&(de.group=f.group.map(Me=>{let st=E(Me);if(qe[st]){let tt=qe[st];return delete qe[st],{variable:Me,expression:tt}}return{expression:Me}})),f.order.length>0&&(de.order=f.order.map(m).map(Me=>Me.descending?Me:{expression:Me})),ge&&(de.variables=ge.map(Me=>{let st=E(Me);if(qe[st]){let tt=qe[st];return delete qe[st],{variable:Me,expression:tt}}return Me}),de.variables.length===0&&(de.variables=[new i.Wildcard]));const it=Object.entries(qe);if(it.length>0){de.where=de.where||[];for(const[Me,st]of it)de.where.push({type:"bind",variable:(0,t.stringToTerm)(Me),expression:st})}if(K.where.length>0&&K.where[K.where.length-1].type==="filter"){const Me=K.where[K.where.length-1];be(Me,Object.keys(Te))&&(de.having=s.default.flatten([Ne(Me.expression,Te)]),K.where.splice(-1))}return f.extend=Qe,f.group=je,f.aggregates=$e,f.order=at,{type:"group",patterns:[de]}}function be(R,k){return s.default.isSimpleTerm(R)?k.indexOf(E(R))>=0:Array.isArray(R)?R.some(K=>be(K,k)):R===Object(R)?Object.keys(R).some(K=>be(R[K],k)):k.indexOf(R)>=0}function te(R){let k=m(R.input);return k.patterns[0].reduced=!0,k}function v(R){let k=m(R.input);return k.type==="group"&&(k=k.patterns),Array.isArray(k)||(k=[k]),{type:"service",name:R.name,silent:R.silent,patterns:k}}function F(R){let k=m(R.input),K=k;return k.type&&k.type==="group"&&(K=k.patterns[0]),R.start!==0&&(K.offset=R.start),R.length!==void 0&&(K.limit=R.length),k}function D(R){return{type:"union",patterns:R.input.map(m).map(A)}}function L(R){return{type:"values",values:R.bindings.map(k=>{let K={};for(let de of R.variables){let ge=`?${de.value}`;k[ge]?K[ge]=k[ge]:K[ge]=void 0}return K})}}function H(R){const k=R.input.map(T);return k.every(K=>"pathType"in K&&K.pathType==="!")?{type:"path",pathType:"!",items:[{type:"path",pathType:"|",items:s.default.flatten(k.map(K=>K.items))}]}:{type:"path",pathType:"|",items:k}}function Z(R){if(R.path.type===c.NPS){const k=R.path.iris.map(K=>({type:"path",pathType:"^",items:[K]}));return k.length<=1?{type:"path",pathType:"!",items:k}:{type:"path",pathType:"!",items:[{type:"path",pathType:"|",items:k}]}}return{type:"path",pathType:"^",items:[T(R.path)]}}function $(R){return R.iri}function ue(R){return R.iris.length<=1?{type:"path",pathType:"!",items:R.iris}:{type:"path",pathType:"!",items:[{type:"path",pathType:"|",items:R.iris}]}}function ae(R){return{type:"path",pathType:"+",items:[T(R.path)]}}function ce(R){return{type:"path",pathType:"/",items:R.input.map(T)}}function Se(R){return{type:"path",pathType:"*",items:[T(R.path)]}}function xe(R){return{type:"path",pathType:"?",items:[T(R.path)]}}function Ce(R){const k=R.updates.map(K=>m(K).updates[0]);return{prefixes:{},type:"update",updates:k}}function He(R){var k;let K=R.where,de;if(K&&K.type===c.FROM){let Qe=K;K=Qe.input,de={default:Qe.default,named:Qe.named}}const ge=[{updateType:"insertdelete",delete:Ie(R.delete||[]),insert:Ie(R.insert||[])}];if(de&&(ge[0].using=de),!K||K.type===c.BGP&&K.patterns.length===0)ge[0].where=[];else{const Qe=[];let je=m(Pe(K,Qe));if(je.type==="group"?ge[0].where=je.patterns:ge[0].where=[je],Qe.length>0){if(Qe.length!==1)throw new Error("This is unexpected and might indicate an error in graph handling for updates.");((k=Qe[0])===null||k===void 0?void 0:k.value)!==""&&(ge[0].where=[{type:"graph",patterns:ge[0].where,name:Qe[0]}])}}return!R.delete&&!R.where?(ge[0].updateType="insert",delete ge[0].delete,delete ge[0].where):!R.insert&&!R.where?(delete ge[0].insert,delete ge[0].where,R.delete.some(Qe=>Qe.subject.termType==="Variable"||Qe.predicate.termType==="Variable"||Qe.object.termType==="Variable")?ge[0].updateType="deletewhere":ge[0].updateType="delete"):!R.insert&&R.where&&R.where.type==="bgp"&&(0,r.isomorphic)(R.delete,R.where.patterns)&&(delete ge[0].where,ge[0].updateType="deletewhere"),{prefixes:{},type:"update",updates:ge}}function Je(R){const k=[{type:"load",silent:!!R.silent,source:R.source}];return R.destination&&(k[0].destination=R.destination),{prefixes:{},type:"update",updates:k}}function Ye(R){return Y(R,"clear")}function oe(R){return Y(R,"create")}function X(R){return Y(R,"drop")}function Y(R,k){const K=[{type:k,silent:!!R.silent}];return R.source==="DEFAULT"?K[0].graph={default:!0}:R.source==="NAMED"?K[0].graph={named:!0}:R.source==="ALL"?K[0].graph={all:!0}:K[0].graph={type:"graph",name:R.source},{prefixes:{},type:"update",updates:K}}function he(R){return re(R,"add")}function ve(R){return re(R,"move")}function ye(R){return re(R,"copy")}function re(R,k){const K=[{type:k,silent:!!R.silent}];return K[0].source=R.source==="DEFAULT"?{type:"graph",default:!0}:{type:"graph",name:R.source},K[0].destination=R.destination==="DEFAULT"?{type:"graph",default:!0}:{type:"graph",name:R.destination},{prefixes:{},type:"update",updates:K}}function Ie(R){if(!R)return[];const k={};return R.forEach(K=>{const de=K.graph.value;k[de]||(k[de]=[]),k[de].push(K)}),Object.keys(k).map(K=>K===""?{type:"bgp",triples:k[K].map(Ae)}:{type:"graph",triples:k[K].map(Ae),name:k[K][0].graph})}function Le(R){return Pe(R,[])}function Pe(R,k){if(Array.isArray(R))return R.map(je=>Pe(je,k));if(!R.type||R.type===c.DELETE_INSERT)return R;if((R.type===c.PATTERN||R.type===c.PATH)&&R.graph)return k.push(R.graph),R.graph.name!==""?R.type===c.PATTERN?p.createPattern(R.subject,R.predicate,R.object):p.createPath(R.subject,R.predicate,R.object):R;const K={},de={},ge={};for(let je of Object.keys(R)){const $e=[];if(K[je]=Pe(R[je],$e),$e.length>0){de[je]=$e;for(const at of $e)ge[at.value]=at}}const Qe=Object.keys(ge);if(Qe.length>0)if(Qe.length===1&&![c.PROJECT,c.SERVICE].includes(R.type))k.push(ge[Qe[0]]);else{if(R.type===c.BGP)return Fe(R,de.patterns);for(let je of Object.keys(de)){const $e=K[je];Array.isArray($e)?K[je]=$e.map((at,fe)=>de[je][0].value===""?at:p.createGraph(at,de[je][fe])):de[je][0].value!==""&&(K[je]=p.createGraph($e,de[je][0]))}}return K}function Fe(R,k){var K;const de={};for(let je=0;je<R.patterns.length;++je){const $e=R.patterns[je],at=k[je].value;de[at]=(K=de[at])!==null&&K!==void 0?K:{patterns:[],graph:k[je]},de[at].patterns.push($e)}let ge=[];for(const[je,{patterns:$e,graph:at}]of Object.entries(de)){const fe=p.createBgp($e);ge.push(je===""?fe:p.createGraph(fe,at))}let Qe=ge[0];for(let je=1;je<ge.length;++je)Qe=p.createJoin([Qe,ge[je]]);return Qe}return Ga}var LY;function aB(){return LY||(LY=1,(function(n){var e=Qu&&Qu.__createBinding||(Object.create?(function(c,d,f,p){p===void 0&&(p=f);var h=Object.getOwnPropertyDescriptor(d,f);(!h||("get"in h?!d.__esModule:h.writable||h.configurable))&&(h={enumerable:!0,get:function(){return d[f]}}),Object.defineProperty(c,p,h)}):(function(c,d,f,p){p===void 0&&(p=f),c[p]=d[f]})),u=Qu&&Qu.__setModuleDefault||(Object.create?(function(c,d){Object.defineProperty(c,"default",{enumerable:!0,value:d})}):function(c,d){c.default=d}),a=Qu&&Qu.__importStar||function(c){if(c&&c.__esModule)return c;var d={};if(c!=null)for(var f in c)f!=="default"&&Object.prototype.hasOwnProperty.call(c,f)&&e(d,c,f);return u(d,c),d},r=Qu&&Qu.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(n,"__esModule",{value:!0}),n.Util=n.toSparqlJs=n.toSparql=n.Factory=n.Algebra=n.translate=void 0;const t=r(aNe());n.translate=t.default;const i=a(J4());n.Algebra=i;const o=r(lP());n.Factory=o.default;const l=oNe();Object.defineProperty(n,"toSparql",{enumerable:!0,get:function(){return l.toSparql}}),Object.defineProperty(n,"toSparqlJs",{enumerable:!0,get:function(){return l.toSparqlJs}});const s=r(nB());n.Util=s.default})(Qu)),Qu}var qY;function sNe(){if(qY)return P2;qY=1,Object.defineProperty(P2,"__esModule",{value:!0}),P2.NodeHandlerDocument=void 0;const n=aB(),e=cP();let u=class extends e.NodeHandlerAdapter{constructor(r,t){super("Document",r,t)}handle(r,t){const i=r.definitions.map(l=>{const s=this.getNodeQuadContextDefinitionNode(l,Object.assign(Object.assign({},t),{ignoreUnknownVariables:!0})),c=Object.assign(Object.assign({},t),{graph:s.graph||t.graph,subject:s.subject||this.util.dataFactory.blankNode()});let d=this.util.handleNode(l,c);return s&&s.auxiliaryPatterns&&(d=this.util.joinOperations([d,this.util.operationFactory.createBgp(s.auxiliaryPatterns)])),d}),o=this.util.operationFactory.createProject(i.length===1?i[0]:this.util.operationFactory.createUnion(i),t.terminalVariables);return this.translateBlankNodesToVariables(o)}getNodeQuadContextDefinitionNode(r,t){if(r.kind==="OperationDefinition")return this.getNodeQuadContextSelectionSet(r.selectionSet,r.name?r.name.value:"",t);throw new Error(`Unsupported definition: ${r.kind}`)}translateBlankNodesToVariables(r){const t=this,i={},o=Array.from(r.variables).reduce((s,c)=>(s[c.value]=!0,s),{});return n.Util.mapOperation(r,{path:(s,c)=>({recurse:!1,result:c.createPath(l(s.subject),s.predicate,l(s.object),l(s.graph))}),pattern:(s,c)=>({recurse:!1,result:c.createPattern(l(s.subject),l(s.predicate),l(s.object),l(s.graph))})});function l(s){if(s.termType==="BlankNode"){let c=i[s.value];return c||(c=n.Util.createUniqueVariable(s.value,o,t.util.dataFactory),o[c.value]=!0,i[s.value]=c),c}return s}}};return P2.NodeHandlerDocument=u,P2}var j2={},BY;function dP(){if(BY)return j2;BY=1,Object.defineProperty(j2,"__esModule",{value:!0}),j2.NodeHandlerSelectionAdapter=void 0;const n=aB(),e=K4(),u=cP();let a=class extends u.NodeHandlerAdapter{constructor(t,i,o){super(t,i,o)}getNodeQuadContextFieldNode(t,i,o){return this.getNodeQuadContextSelectionSet(t.selectionSet,i,Object.assign(Object.assign({},o),{path:this.util.appendFieldToPath(o.path,i)}))}fieldToOperation(t,i,o,l){const s=o;let c=0,d;if((i.name.value==="id"||i.name.value==="graph")&&(o=!1,i.arguments))for(const S of i.arguments)S.name.value==="_"&&this.util.handleNodeValue(S.value,i.name.value,t);const f=this.util.getFieldLabel(i);if(t.singularizeState===e.SingularizeState.SINGLE&&(t.singularizeVariables[this.util.nameToVariable(f,t).value]=!0),o){const S=this.handleMetaField(t,f,l);if(S)return S}const p=l?[this.util.operationFactory.createBgp(l)]:[],h=this.getNodeQuadContextFieldNode(i,f,t);let g=h.subject||this.util.nameToVariable(f,t),_=h.graph||t.graph;h.auxiliaryPatterns&&p.push(this.util.operationFactory.createBgp(h.auxiliaryPatterns));let m=!0,w=null;if(o&&i.arguments&&i.arguments.length){for(const S of i.arguments)if(S.name.value==="_"){const N=this.util.handleNodeValue(S.value,i.name.value,t);w=N.terms,p.push(this.util.operationFactory.createBgp(N.terms.map(j=>this.util.createQuadPattern(t.subject,i.name,j,t.graph,t.context)))),N.auxiliaryPatterns&&p.push(this.util.operationFactory.createBgp(N.auxiliaryPatterns)),o=!1;break}else if(S.name.value==="graph"){const N=this.util.handleNodeValue(S.value,i.name.value,t);if(N.terms.length!==1)throw new Error(`Only single values can be set as graph, but got ${N.terms.length} at ${i.name.value}`);_=N.terms[0],t=Object.assign(Object.assign({},t),{graph:_}),N.auxiliaryPatterns&&p.push(this.util.operationFactory.createBgp(N.auxiliaryPatterns));break}else if(S.name.value==="alt"){let N=S.value;N.kind!=="ListValue"&&(N={kind:"ListValue",values:[N]}),p.push(this.util.createQuadPath(t.subject,i.name,N,g,t.graph,t.context)),m=!1;break}}if(o&&m&&p.push(this.util.operationFactory.createBgp([this.util.createQuadPattern(t.subject,i.name,g,t.graph,t.context)])),i.arguments&&i.arguments.length){for(const S of i.arguments)if(!(S.name.value==="_"||S.name.value==="graph"||S.name.value==="alt"))if(S.name.value==="first"){if(S.value.kind!=="IntValue")throw new Error("Invalid value type for 'first' argument: "+S.value.kind);d=parseInt(S.value.value,10)}else if(S.name.value==="offset"){if(S.value.kind!=="IntValue")throw new Error("Invalid value type for 'offset' argument: "+S.value.kind);c=parseInt(S.value.value,10)}else{const N=this.util.handleNodeValue(S.value,S.name.value,t);p.push(this.util.operationFactory.createBgp(N.terms.map(j=>this.util.createQuadPattern(g,S.name,j,t.graph,t.context)))),N.auxiliaryPatterns&&p.push(this.util.operationFactory.createBgp(N.auxiliaryPatterns))}}const T=this.getDirectiveOutputs(i.directives,f,t);if(!T)return this.util.operationFactory.createBgp([]);let E=this.util.joinOperations(p);if(i.selectionSet&&i.selectionSet.selections.length){if(w){if(w.length!==1)throw new Error(`Only single values can be set as id, but got ${w.length} at ${i.name.value}`);g=w[0]}const S=Object.assign(Object.assign(Object.assign({},t),s?{path:this.util.appendFieldToPath(t.path,f)}:{}),{graph:_,subject:s?g:t.subject});let N=!1;const j=i.selectionSet.selections.filter(O=>O.kind==="Field"&&O.name.value==="totalCount"?(N=!0,!1):!0);let q=this.util.joinOperations(p.concat(j.map(O=>this.util.handleNode(O,S))));if(N){const O=this.util.dataFactory.variable("var"+this.settings.expressionVariableCounter++),I=this.util.dataFactory.variable(g.value+this.settings.variableDelimiter+"totalCount"),A=this.util.operationFactory.createBoundAggregate(O,"count",this.util.operationFactory.createTermExpression(g),!1),P=this.util.operationFactory.createProject(this.util.operationFactory.createExtend(this.util.operationFactory.createGroup(E,[],[A]),I,this.util.operationFactory.createTermExpression(O)),[I]);t.terminalVariables.push(I),j.length?q=this.util.operationFactory.createJoin([this.util.operationFactory.createProject(q,[]),P]):q=P}E=q}else o&&g.termType==="Variable"&&t.terminalVariables.push(g);return(c||d)&&(E=this.util.operationFactory.createSlice(this.util.operationFactory.createProject(E,n.Util.inScopeVariables(E)),c,d)),this.handleDirectiveOutputs(T,E)}handleMetaField(t,i,o){if(i==="__typename"){const l=this.util.nameToVariable(i,t);return t.terminalVariables.push(l),this.util.operationFactory.createBgp([this.util.operationFactory.createPattern(t.subject,this.util.dataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),this.util.nameToVariable(i,t),t.graph)].concat(o||[]))}}};return j2.NodeHandlerSelectionAdapter=a,j2}var M2={},UY;function cNe(){if(UY)return M2;UY=1,Object.defineProperty(M2,"__esModule",{value:!0}),M2.NodeHandlerSelectionField=void 0;const n=dP();let e=class extends n.NodeHandlerSelectionAdapter{constructor(a,r){super("Field",a,r)}handle(a,r){return this.fieldToOperation(r,a,!0)}};return M2.NodeHandlerSelectionField=e,M2}var C2={},QY;function lNe(){if(QY)return C2;QY=1,Object.defineProperty(C2,"__esModule",{value:!0}),C2.NodeHandlerSelectionFragmentSpread=void 0;const n=dP();let e=class extends n.NodeHandlerSelectionAdapter{constructor(a,r){super("FragmentSpread",a,r)}handle(a,r){const t=r.fragmentDefinitions[a.name.value];if(!t)throw new Error("Undefined fragment definition: "+a.name.value);const i={alias:void 0,arguments:void 0,directives:t.directives,kind:"Field",name:a.name,selectionSet:t.selectionSet},o=[this.util.newTypePattern(r.subject,t.typeCondition,r)];return this.util.operationFactory.createLeftJoin(this.util.operationFactory.createBgp([]),this.fieldToOperation(r,i,!1,o))}};return C2.NodeHandlerSelectionFragmentSpread=e,C2}var L2={},VY;function dNe(){if(VY)return L2;VY=1,Object.defineProperty(L2,"__esModule",{value:!0}),L2.NodeHandlerSelectionInlineFragment=void 0;const n=dP();let e=class extends n.NodeHandlerSelectionAdapter{constructor(a,r){super("InlineFragment",a,r)}handle(a,r){const t={alias:void 0,arguments:void 0,directives:a.directives,kind:"Field",name:{kind:"Name",value:r.subject.value},selectionSet:a.selectionSet},i=a.typeCondition?[this.util.newTypePattern(r.subject,a.typeCondition,r)]:[];return this.util.operationFactory.createLeftJoin(this.util.operationFactory.createBgp([]),this.fieldToOperation(r,t,!1,i))}};return L2.NodeHandlerSelectionInlineFragment=e,L2}var HY;function h2e(){return HY||(HY=1,(function(n){var e=of&&of.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=of&&of.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(p2e(),n),u(tNe(),n),u(cP(),n),u(rB(),n),u(rNe(),n),u(nNe(),n),u(sNe(),n),u(dP(),n),u(cNe(),n),u(lNe(),n),u(dNe(),n)})(of)),of}var df={},y2e=typeof Symbol=="function"&&Symbol.toStringTag!=null?Symbol.toStringTag:"@@toStringTag",o7=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):void 0;function YD(n){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?YD=function(u){return typeof u}:YD=function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},YD(n)}var fNe=10,m2e=2;function b2e(n){return fP(n,[])}function fP(n,e){switch(YD(n)){case"string":return JSON.stringify(n);case"function":return n.name?"[function ".concat(n.name,"]"):"[function]";case"object":return n===null?"null":pNe(n,e);default:return String(n)}}function pNe(n,e){if(e.indexOf(n)!==-1)return"[Circular]";var u=[].concat(e,[n]),a=mNe(n);if(a!==void 0){var r=a.call(n);if(r!==n)return typeof r=="string"?r:fP(r,u)}else if(Array.isArray(n))return yNe(n,u);return hNe(n,u)}function hNe(n,e){var u=Object.keys(n);if(u.length===0)return"{}";if(e.length>m2e)return"["+bNe(n)+"]";var a=u.map(function(r){var t=fP(n[r],e);return r+": "+t});return"{ "+a.join(", ")+" }"}function yNe(n,e){if(n.length===0)return"[]";if(e.length>m2e)return"[Array]";for(var u=Math.min(fNe,n.length),a=n.length-u,r=[],t=0;t<u;++t)r.push(fP(n[t],e));return a===1?r.push("... 1 more item"):a>1&&r.push("... ".concat(a," more items")),"["+r.join(", ")+"]"}function mNe(n){var e=n[String(o7)];if(typeof e=="function")return e;if(typeof n.inspect=="function")return n.inspect}function bNe(n){var e=Object.prototype.toString.call(n).replace(/^\[object /,"").replace(/]$/,"");if(e==="Object"&&typeof n.constructor=="function"){var u=n.constructor.name;if(typeof u=="string"&&u!=="")return u}return e}function ZD(n,e){var u=!!n;if(!u)throw new Error(e)}const gNe=(function(e,u){return e instanceof u});function vNe(n,e){for(var u=0;u<e.length;u++){var a=e[u];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(n,a.key,a)}}function _Ne(n,e,u){return e&&vNe(n.prototype,e),n}var iB=(function(){function n(e){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"GraphQL request",a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{line:1,column:1};typeof e=="string"||ZD(0,"Body must be a string. Received: ".concat(b2e(e),".")),this.body=e,this.name=u,this.locationOffset=a,this.locationOffset.line>0||ZD(0,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||ZD(0,"column in locationOffset is 1-indexed and must be positive.")}return _Ne(n,[{key:y2e,get:function(){return"Source"}}]),n})();function TNe(n){return gNe(n,iB)}function RF(n,e){for(var u=/\r\n|[\n\r]/g,a=1,r=e+1,t;(t=u.exec(n.body))&&t.index<e;)a+=1,r=e+1-(t.index+t[0].length);return{line:a,column:r}}function g2e(n){return uB(n.source,RF(n.source,n.start))}function uB(n,e){var u=n.locationOffset.column-1,a=eF(u)+n.body,r=e.line-1,t=n.locationOffset.line-1,i=e.line+t,o=e.line===1?u:0,l=e.column+o,s="".concat(n.name,":").concat(i,":").concat(l,`
`),c=a.split(/\r\n|[\n\r]/g),d=c[r];if(d.length>120){for(var f=Math.floor(l/80),p=l%80,h=[],g=0;g<d.length;g+=80)h.push(d.slice(g,g+80));return s+kY([["".concat(i),h[0]]].concat(h.slice(1,f+1).map(function(_){return["",_]}),[[" ",eF(p-1)+"^"],["",h[f+1]]]))}return s+kY([["".concat(i-1),c[r-1]],["".concat(i),d],["",eF(l-1)+"^"],["".concat(i+1),c[r+1]]])}function kY(n){var e=n.filter(function(a){a[0];var r=a[1];return r!==void 0}),u=Math.max.apply(Math,e.map(function(a){var r=a[0];return r.length}));return e.map(function(a){var r=a[0],t=a[1];return wNe(u,r)+(t?" | "+t:" |")}).join(`
`)}function eF(n){return Array(n+1).join(" ")}function wNe(n,e){return eF(n-e.length)+e}var Et=Object.freeze({NAME:"Name",DOCUMENT:"Document",OPERATION_DEFINITION:"OperationDefinition",VARIABLE_DEFINITION:"VariableDefinition",SELECTION_SET:"SelectionSet",FIELD:"Field",ARGUMENT:"Argument",FRAGMENT_SPREAD:"FragmentSpread",INLINE_FRAGMENT:"InlineFragment",FRAGMENT_DEFINITION:"FragmentDefinition",VARIABLE:"Variable",INT:"IntValue",FLOAT:"FloatValue",STRING:"StringValue",BOOLEAN:"BooleanValue",NULL:"NullValue",ENUM:"EnumValue",LIST:"ListValue",OBJECT:"ObjectValue",OBJECT_FIELD:"ObjectField",DIRECTIVE:"Directive",NAMED_TYPE:"NamedType",LIST_TYPE:"ListType",NON_NULL_TYPE:"NonNullType",SCHEMA_DEFINITION:"SchemaDefinition",OPERATION_TYPE_DEFINITION:"OperationTypeDefinition",SCALAR_TYPE_DEFINITION:"ScalarTypeDefinition",OBJECT_TYPE_DEFINITION:"ObjectTypeDefinition",FIELD_DEFINITION:"FieldDefinition",INPUT_VALUE_DEFINITION:"InputValueDefinition",INTERFACE_TYPE_DEFINITION:"InterfaceTypeDefinition",UNION_TYPE_DEFINITION:"UnionTypeDefinition",ENUM_TYPE_DEFINITION:"EnumTypeDefinition",ENUM_VALUE_DEFINITION:"EnumValueDefinition",INPUT_OBJECT_TYPE_DEFINITION:"InputObjectTypeDefinition",DIRECTIVE_DEFINITION:"DirectiveDefinition",SCHEMA_EXTENSION:"SchemaExtension",SCALAR_TYPE_EXTENSION:"ScalarTypeExtension",OBJECT_TYPE_EXTENSION:"ObjectTypeExtension",INTERFACE_TYPE_EXTENSION:"InterfaceTypeExtension",UNION_TYPE_EXTENSION:"UnionTypeExtension",ENUM_TYPE_EXTENSION:"EnumTypeExtension",INPUT_OBJECT_TYPE_EXTENSION:"InputObjectTypeExtension"}),pt=Object.freeze({SOF:"<SOF>",EOF:"<EOF>",BANG:"!",DOLLAR:"$",AMP:"&",PAREN_L:"(",PAREN_R:")",SPREAD:"...",COLON:":",EQUALS:"=",AT:"@",BRACKET_L:"[",BRACKET_R:"]",BRACE_L:"{",PIPE:"|",BRACE_R:"}",NAME:"Name",INT:"Int",FLOAT:"Float",STRING:"String",BLOCK_STRING:"BlockString",COMMENT:"Comment"});function tF(n){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?tF=function(u){return typeof u}:tF=function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},tF(n)}function SNe(n){return tF(n)=="object"&&n!==null}function rF(n){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?rF=function(u){return typeof u}:rF=function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},rF(n)}function zY(n,e){var u=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),u.push.apply(u,a)}return u}function ENe(n){for(var e=1;e<arguments.length;e++){var u=arguments[e]!=null?arguments[e]:{};e%2?zY(Object(u),!0).forEach(function(a){ANe(n,a,u[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(u)):zY(Object(u)).forEach(function(a){Object.defineProperty(n,a,Object.getOwnPropertyDescriptor(u,a))})}return n}function ANe(n,e,u){return e in n?Object.defineProperty(n,e,{value:u,enumerable:!0,configurable:!0,writable:!0}):n[e]=u,n}function ONe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function xNe(n,e){for(var u=0;u<e.length;u++){var a=e[u];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(n,a.key,a)}}function RNe(n,e,u){return e&&xNe(n.prototype,e),n}function NNe(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),e&&y4(n,e)}function INe(n){var e=_2e();return function(){var a=m4(n),r;if(e){var t=m4(this).constructor;r=Reflect.construct(a,arguments,t)}else r=a.apply(this,arguments);return v2e(this,r)}}function v2e(n,e){return e&&(rF(e)==="object"||typeof e=="function")?e:Q6(n)}function Q6(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function s7(n){var e=typeof Map=="function"?new Map:void 0;return s7=function(a){if(a===null||!DNe(a))return a;if(typeof a!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e<"u"){if(e.has(a))return e.get(a);e.set(a,r)}function r(){return nF(a,arguments,m4(this).constructor)}return r.prototype=Object.create(a.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),y4(r,a)},s7(n)}function nF(n,e,u){return _2e()?nF=Reflect.construct:nF=function(r,t,i){var o=[null];o.push.apply(o,t);var l=Function.bind.apply(r,o),s=new l;return i&&y4(s,i.prototype),s},nF.apply(null,arguments)}function _2e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function DNe(n){return Function.toString.call(n).indexOf("[native code]")!==-1}function y4(n,e){return y4=Object.setPrototypeOf||function(a,r){return a.__proto__=r,a},y4(n,e)}function m4(n){return m4=Object.setPrototypeOf?Object.getPrototypeOf:function(u){return u.__proto__||Object.getPrototypeOf(u)},m4(n)}var FNe=(function(n){NNe(u,n);var e=INe(u);function u(a,r,t,i,o,l,s){var c,d,f,p;ONe(this,u),p=e.call(this,a),p.name="GraphQLError",p.originalError=l??void 0,p.nodes=GY(Array.isArray(r)?r:r?[r]:void 0);for(var h=[],g=0,_=(m=p.nodes)!==null&&m!==void 0?m:[];g<_.length;g++){var m,w=_[g],T=w.loc;T!=null&&h.push(T)}h=GY(h),p.source=t??((c=h)===null||c===void 0?void 0:c[0].source),p.positions=i??((d=h)===null||d===void 0?void 0:d.map(function(S){return S.start})),p.locations=i&&t?i.map(function(S){return RF(t,S)}):(f=h)===null||f===void 0?void 0:f.map(function(S){return RF(S.source,S.start)}),p.path=o??void 0;var E=l?.extensions;return s==null&&SNe(E)?p.extensions=ENe({},E):p.extensions=s??{},Object.defineProperties(Q6(p),{message:{enumerable:!0},locations:{enumerable:p.locations!=null},path:{enumerable:p.path!=null},extensions:{enumerable:p.extensions!=null&&Object.keys(p.extensions).length>0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),l!=null&&l.stack?(Object.defineProperty(Q6(p),"stack",{value:l.stack,writable:!0,configurable:!0}),v2e(p)):(Error.captureStackTrace?Error.captureStackTrace(Q6(p),u):Object.defineProperty(Q6(p),"stack",{value:Error().stack,writable:!0,configurable:!0}),p)}return RNe(u,[{key:"toString",value:function(){return PNe(this)}},{key:"toJSON",value:function(){return jNe(this)}},{key:y2e,get:function(){return"Object"}}]),u})(s7(Error));function GY(n){return n===void 0||n.length===0?void 0:n}function PNe(n){var e=n.message;if(n.nodes)for(var u=0,a=n.nodes;u<a.length;u++){var r=a[u];r.loc&&(e+=`

`+g2e(r.loc))}else if(n.source&&n.locations)for(var t=0,i=n.locations;t<i.length;t++){var o=i[t];e+=`

`+uB(n.source,o)}return e}function jNe(n){var e;n||ZD(0,"Received null or undefined error.");var u=(e=n.message)!==null&&e!==void 0?e:"An unknown error occurred.",a=n.locations,r=n.path,t=n.extensions;return t&&Object.keys(t).length>0?{message:u,locations:a,path:r,extensions:t}:{message:u,locations:a,path:r}}function qi(n,e,u){return new FNe("Syntax Error: ".concat(u),void 0,n,[e])}function MNe(n,e){var u=!!n;if(!u)throw new Error("Unexpected invariant triggered.")}function T2e(n){var e=n.prototype.toJSON;typeof e=="function"||MNe(0),n.prototype.inspect=e,o7&&(n.prototype[o7]=e)}var oB=(function(){function n(u,a,r){this.start=u.start,this.end=a.end,this.startToken=u,this.endToken=a,this.source=r}var e=n.prototype;return e.toJSON=function(){return{start:this.start,end:this.end}},n})();T2e(oB);var Sn=(function(){function n(u,a,r,t,i,o,l){this.kind=u,this.start=a,this.end=r,this.line=t,this.column=i,this.value=l,this.prev=o,this.next=null}var e=n.prototype;return e.toJSON=function(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}},n})();T2e(Sn);function $Y(n){return n!=null&&typeof n.kind=="string"}function CNe(n){var e=n.split(/\r\n|[\n\r]/g),u=LNe(n);if(u!==0)for(var a=1;a<e.length;a++)e[a]=e[a].slice(u);for(var r=0;r<e.length&&XY(e[r]);)++r;for(var t=e.length;t>r&&XY(e[t-1]);)--t;return e.slice(r,t).join(`
`)}function XY(n){for(var e=0;e<n.length;++e)if(n[e]!==" "&&n[e]!=="	")return!1;return!0}function LNe(n){for(var e,u=!0,a=!0,r=0,t=null,i=0;i<n.length;++i)switch(n.charCodeAt(i)){case 13:n.charCodeAt(i+1)===10&&++i;case 10:u=!1,a=!0,r=0;break;case 9:case 32:++r;break;default:a&&!u&&(t===null||r<t)&&(t=r),a=!1}return(e=t)!==null&&e!==void 0?e:0}function qNe(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,a=n.indexOf(`
`)===-1,r=n[0]===" "||n[0]==="	",t=n[n.length-1]==='"',i=n[n.length-1]==="\\",o=!a||t||i||u,l="";return o&&!(a&&r)&&(l+=`
`+e),l+=e?n.replace(/\n/g,`
`+e):n,o&&(l+=`
`),'"""'+l.replace(/"""/g,'\\"""')+'"""'}var w2e=(function(){function n(u){var a=new Sn(pt.SOF,0,0,0,0,null);this.source=u,this.lastToken=a,this.token=a,this.line=1,this.lineStart=0}var e=n.prototype;return e.advance=function(){this.lastToken=this.token;var a=this.token=this.lookahead();return a},e.lookahead=function(){var a=this.token;if(a.kind!==pt.EOF)do{var r;a=(r=a.next)!==null&&r!==void 0?r:a.next=UNe(this,a)}while(a.kind===pt.COMMENT);return a},n})();function BNe(n){return n===pt.BANG||n===pt.DOLLAR||n===pt.AMP||n===pt.PAREN_L||n===pt.PAREN_R||n===pt.SPREAD||n===pt.COLON||n===pt.EQUALS||n===pt.AT||n===pt.BRACKET_L||n===pt.BRACKET_R||n===pt.BRACE_L||n===pt.PIPE||n===pt.BRACE_R}function sb(n){return isNaN(n)?pt.EOF:n<127?JSON.stringify(String.fromCharCode(n)):'"\\u'.concat(("00"+n.toString(16).toUpperCase()).slice(-4),'"')}function UNe(n,e){for(var u=n.source,a=u.body,r=a.length,t=e.end;t<r;){var i=a.charCodeAt(t),o=n.line,l=1+t-n.lineStart;switch(i){case 65279:case 9:case 32:case 44:++t;continue;case 10:++t,++n.line,n.lineStart=t;continue;case 13:a.charCodeAt(t+1)===10?t+=2:++t,++n.line,n.lineStart=t;continue;case 33:return new Sn(pt.BANG,t,t+1,o,l,e);case 35:return VNe(u,t,o,l,e);case 36:return new Sn(pt.DOLLAR,t,t+1,o,l,e);case 38:return new Sn(pt.AMP,t,t+1,o,l,e);case 40:return new Sn(pt.PAREN_L,t,t+1,o,l,e);case 41:return new Sn(pt.PAREN_R,t,t+1,o,l,e);case 46:if(a.charCodeAt(t+1)===46&&a.charCodeAt(t+2)===46)return new Sn(pt.SPREAD,t,t+3,o,l,e);break;case 58:return new Sn(pt.COLON,t,t+1,o,l,e);case 61:return new Sn(pt.EQUALS,t,t+1,o,l,e);case 64:return new Sn(pt.AT,t,t+1,o,l,e);case 91:return new Sn(pt.BRACKET_L,t,t+1,o,l,e);case 93:return new Sn(pt.BRACKET_R,t,t+1,o,l,e);case 123:return new Sn(pt.BRACE_L,t,t+1,o,l,e);case 124:return new Sn(pt.PIPE,t,t+1,o,l,e);case 125:return new Sn(pt.BRACE_R,t,t+1,o,l,e);case 34:return a.charCodeAt(t+1)===34&&a.charCodeAt(t+2)===34?zNe(u,t,o,l,e,n):kNe(u,t,o,l,e);case 45:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return HNe(u,t,i,o,l,e);case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 95:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:return $Ne(u,t,o,l,e)}throw qi(u,t,QNe(i))}var s=n.line,c=1+t-n.lineStart;return new Sn(pt.EOF,r,r,s,c,e)}function QNe(n){return n<32&&n!==9&&n!==10&&n!==13?"Cannot contain the invalid character ".concat(sb(n),"."):n===39?`Unexpected single quote character ('), did you mean to use a double quote (")?`:"Cannot parse the unexpected character ".concat(sb(n),".")}function VNe(n,e,u,a,r){var t=n.body,i,o=e;do i=t.charCodeAt(++o);while(!isNaN(i)&&(i>31||i===9));return new Sn(pt.COMMENT,e,o,u,a,r,t.slice(e+1,o))}function HNe(n,e,u,a,r,t){var i=n.body,o=u,l=e,s=!1;if(o===45&&(o=i.charCodeAt(++l)),o===48){if(o=i.charCodeAt(++l),o>=48&&o<=57)throw qi(n,l,"Invalid number, unexpected digit after 0: ".concat(sb(o),"."))}else l=aM(n,l,o),o=i.charCodeAt(l);if(o===46&&(s=!0,o=i.charCodeAt(++l),l=aM(n,l,o),o=i.charCodeAt(l)),(o===69||o===101)&&(s=!0,o=i.charCodeAt(++l),(o===43||o===45)&&(o=i.charCodeAt(++l)),l=aM(n,l,o),o=i.charCodeAt(l)),o===46||XNe(o))throw qi(n,l,"Invalid number, expected digit but got: ".concat(sb(o),"."));return new Sn(s?pt.FLOAT:pt.INT,e,l,a,r,t,i.slice(e,l))}function aM(n,e,u){var a=n.body,r=e,t=u;if(t>=48&&t<=57){do t=a.charCodeAt(++r);while(t>=48&&t<=57);return r}throw qi(n,r,"Invalid number, expected digit but got: ".concat(sb(t),"."))}function kNe(n,e,u,a,r){for(var t=n.body,i=e+1,o=i,l=0,s="";i<t.length&&!isNaN(l=t.charCodeAt(i))&&l!==10&&l!==13;){if(l===34)return s+=t.slice(o,i),new Sn(pt.STRING,e,i+1,u,a,r,s);if(l<32&&l!==9)throw qi(n,i,"Invalid character within String: ".concat(sb(l),"."));if(++i,l===92){switch(s+=t.slice(o,i-1),l=t.charCodeAt(i),l){case 34:s+='"';break;case 47:s+="/";break;case 92:s+="\\";break;case 98:s+="\b";break;case 102:s+="\f";break;case 110:s+=`
`;break;case 114:s+="\r";break;case 116:s+="	";break;case 117:{var c=GNe(t.charCodeAt(i+1),t.charCodeAt(i+2),t.charCodeAt(i+3),t.charCodeAt(i+4));if(c<0){var d=t.slice(i+1,i+5);throw qi(n,i,"Invalid character escape sequence: \\u".concat(d,"."))}s+=String.fromCharCode(c),i+=4;break}default:throw qi(n,i,"Invalid character escape sequence: \\".concat(String.fromCharCode(l),"."))}++i,o=i}}throw qi(n,i,"Unterminated string.")}function zNe(n,e,u,a,r,t){for(var i=n.body,o=e+3,l=o,s=0,c="";o<i.length&&!isNaN(s=i.charCodeAt(o));){if(s===34&&i.charCodeAt(o+1)===34&&i.charCodeAt(o+2)===34)return c+=i.slice(l,o),new Sn(pt.BLOCK_STRING,e,o+3,u,a,r,CNe(c));if(s<32&&s!==9&&s!==10&&s!==13)throw qi(n,o,"Invalid character within String: ".concat(sb(s),"."));s===10?(++o,++t.line,t.lineStart=o):s===13?(i.charCodeAt(o+1)===10?o+=2:++o,++t.line,t.lineStart=o):s===92&&i.charCodeAt(o+1)===34&&i.charCodeAt(o+2)===34&&i.charCodeAt(o+3)===34?(c+=i.slice(l,o)+'"""',o+=4,l=o):++o}throw qi(n,o,"Unterminated string.")}function GNe(n,e,u,a){return XI(n)<<12|XI(e)<<8|XI(u)<<4|XI(a)}function XI(n){return n>=48&&n<=57?n-48:n>=65&&n<=70?n-55:n>=97&&n<=102?n-87:-1}function $Ne(n,e,u,a,r){for(var t=n.body,i=t.length,o=e+1,l=0;o!==i&&!isNaN(l=t.charCodeAt(o))&&(l===95||l>=48&&l<=57||l>=65&&l<=90||l>=97&&l<=122);)++o;return new Sn(pt.NAME,e,o,u,a,r,t.slice(e,o))}function XNe(n){return n===95||n>=65&&n<=90||n>=97&&n<=122}var S2e=Object.freeze({QUERY:"QUERY",MUTATION:"MUTATION",SUBSCRIPTION:"SUBSCRIPTION",FIELD:"FIELD",FRAGMENT_DEFINITION:"FRAGMENT_DEFINITION",FRAGMENT_SPREAD:"FRAGMENT_SPREAD",INLINE_FRAGMENT:"INLINE_FRAGMENT",VARIABLE_DEFINITION:"VARIABLE_DEFINITION",SCHEMA:"SCHEMA",SCALAR:"SCALAR",OBJECT:"OBJECT",FIELD_DEFINITION:"FIELD_DEFINITION",ARGUMENT_DEFINITION:"ARGUMENT_DEFINITION",INTERFACE:"INTERFACE",UNION:"UNION",ENUM:"ENUM",ENUM_VALUE:"ENUM_VALUE",INPUT_OBJECT:"INPUT_OBJECT",INPUT_FIELD_DEFINITION:"INPUT_FIELD_DEFINITION"});function KNe(n,e){var u=new sB(n,e);return u.parseDocument()}function JNe(n,e){var u=new sB(n,e);u.expectToken(pt.SOF);var a=u.parseValueLiteral(!1);return u.expectToken(pt.EOF),a}function WNe(n,e){var u=new sB(n,e);u.expectToken(pt.SOF);var a=u.parseTypeReference();return u.expectToken(pt.EOF),a}var sB=(function(){function n(u,a){var r=TNe(u)?u:new iB(u);this._lexer=new w2e(r),this._options=a}var e=n.prototype;return e.parseName=function(){var a=this.expectToken(pt.NAME);return{kind:Et.NAME,value:a.value,loc:this.loc(a)}},e.parseDocument=function(){var a=this._lexer.token;return{kind:Et.DOCUMENT,definitions:this.many(pt.SOF,this.parseDefinition,pt.EOF),loc:this.loc(a)}},e.parseDefinition=function(){if(this.peek(pt.NAME))switch(this._lexer.token.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"schema":case"scalar":case"type":case"interface":case"union":case"enum":case"input":case"directive":return this.parseTypeSystemDefinition();case"extend":return this.parseTypeSystemExtension()}else{if(this.peek(pt.BRACE_L))return this.parseOperationDefinition();if(this.peekDescription())return this.parseTypeSystemDefinition()}throw this.unexpected()},e.parseOperationDefinition=function(){var a=this._lexer.token;if(this.peek(pt.BRACE_L))return{kind:Et.OPERATION_DEFINITION,operation:"query",name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet(),loc:this.loc(a)};var r=this.parseOperationType(),t;return this.peek(pt.NAME)&&(t=this.parseName()),{kind:Et.OPERATION_DEFINITION,operation:r,name:t,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(a)}},e.parseOperationType=function(){var a=this.expectToken(pt.NAME);switch(a.value){case"query":return"query";case"mutation":return"mutation";case"subscription":return"subscription"}throw this.unexpected(a)},e.parseVariableDefinitions=function(){return this.optionalMany(pt.PAREN_L,this.parseVariableDefinition,pt.PAREN_R)},e.parseVariableDefinition=function(){var a=this._lexer.token;return{kind:Et.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(pt.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(pt.EQUALS)?this.parseValueLiteral(!0):void 0,directives:this.parseDirectives(!0),loc:this.loc(a)}},e.parseVariable=function(){var a=this._lexer.token;return this.expectToken(pt.DOLLAR),{kind:Et.VARIABLE,name:this.parseName(),loc:this.loc(a)}},e.parseSelectionSet=function(){var a=this._lexer.token;return{kind:Et.SELECTION_SET,selections:this.many(pt.BRACE_L,this.parseSelection,pt.BRACE_R),loc:this.loc(a)}},e.parseSelection=function(){return this.peek(pt.SPREAD)?this.parseFragment():this.parseField()},e.parseField=function(){var a=this._lexer.token,r=this.parseName(),t,i;return this.expectOptionalToken(pt.COLON)?(t=r,i=this.parseName()):i=r,{kind:Et.FIELD,alias:t,name:i,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(pt.BRACE_L)?this.parseSelectionSet():void 0,loc:this.loc(a)}},e.parseArguments=function(a){var r=a?this.parseConstArgument:this.parseArgument;return this.optionalMany(pt.PAREN_L,r,pt.PAREN_R)},e.parseArgument=function(){var a=this._lexer.token,r=this.parseName();return this.expectToken(pt.COLON),{kind:Et.ARGUMENT,name:r,value:this.parseValueLiteral(!1),loc:this.loc(a)}},e.parseConstArgument=function(){var a=this._lexer.token;return{kind:Et.ARGUMENT,name:this.parseName(),value:(this.expectToken(pt.COLON),this.parseValueLiteral(!0)),loc:this.loc(a)}},e.parseFragment=function(){var a=this._lexer.token;this.expectToken(pt.SPREAD);var r=this.expectOptionalKeyword("on");return!r&&this.peek(pt.NAME)?{kind:Et.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1),loc:this.loc(a)}:{kind:Et.INLINE_FRAGMENT,typeCondition:r?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(a)}},e.parseFragmentDefinition=function(){var a,r=this._lexer.token;return this.expectKeyword("fragment"),((a=this._options)===null||a===void 0?void 0:a.experimentalFragmentVariables)===!0?{kind:Et.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(r)}:{kind:Et.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(r)}},e.parseFragmentName=function(){if(this._lexer.token.value==="on")throw this.unexpected();return this.parseName()},e.parseValueLiteral=function(a){var r=this._lexer.token;switch(r.kind){case pt.BRACKET_L:return this.parseList(a);case pt.BRACE_L:return this.parseObject(a);case pt.INT:return this._lexer.advance(),{kind:Et.INT,value:r.value,loc:this.loc(r)};case pt.FLOAT:return this._lexer.advance(),{kind:Et.FLOAT,value:r.value,loc:this.loc(r)};case pt.STRING:case pt.BLOCK_STRING:return this.parseStringLiteral();case pt.NAME:switch(this._lexer.advance(),r.value){case"true":return{kind:Et.BOOLEAN,value:!0,loc:this.loc(r)};case"false":return{kind:Et.BOOLEAN,value:!1,loc:this.loc(r)};case"null":return{kind:Et.NULL,loc:this.loc(r)};default:return{kind:Et.ENUM,value:r.value,loc:this.loc(r)}}case pt.DOLLAR:if(!a)return this.parseVariable();break}throw this.unexpected()},e.parseStringLiteral=function(){var a=this._lexer.token;return this._lexer.advance(),{kind:Et.STRING,value:a.value,block:a.kind===pt.BLOCK_STRING,loc:this.loc(a)}},e.parseList=function(a){var r=this,t=this._lexer.token,i=function(){return r.parseValueLiteral(a)};return{kind:Et.LIST,values:this.any(pt.BRACKET_L,i,pt.BRACKET_R),loc:this.loc(t)}},e.parseObject=function(a){var r=this,t=this._lexer.token,i=function(){return r.parseObjectField(a)};return{kind:Et.OBJECT,fields:this.any(pt.BRACE_L,i,pt.BRACE_R),loc:this.loc(t)}},e.parseObjectField=function(a){var r=this._lexer.token,t=this.parseName();return this.expectToken(pt.COLON),{kind:Et.OBJECT_FIELD,name:t,value:this.parseValueLiteral(a),loc:this.loc(r)}},e.parseDirectives=function(a){for(var r=[];this.peek(pt.AT);)r.push(this.parseDirective(a));return r},e.parseDirective=function(a){var r=this._lexer.token;return this.expectToken(pt.AT),{kind:Et.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(a),loc:this.loc(r)}},e.parseTypeReference=function(){var a=this._lexer.token,r;return this.expectOptionalToken(pt.BRACKET_L)?(r=this.parseTypeReference(),this.expectToken(pt.BRACKET_R),r={kind:Et.LIST_TYPE,type:r,loc:this.loc(a)}):r=this.parseNamedType(),this.expectOptionalToken(pt.BANG)?{kind:Et.NON_NULL_TYPE,type:r,loc:this.loc(a)}:r},e.parseNamedType=function(){var a=this._lexer.token;return{kind:Et.NAMED_TYPE,name:this.parseName(),loc:this.loc(a)}},e.parseTypeSystemDefinition=function(){var a=this.peekDescription()?this._lexer.lookahead():this._lexer.token;if(a.kind===pt.NAME)switch(a.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}throw this.unexpected(a)},e.peekDescription=function(){return this.peek(pt.STRING)||this.peek(pt.BLOCK_STRING)},e.parseDescription=function(){if(this.peekDescription())return this.parseStringLiteral()},e.parseSchemaDefinition=function(){var a=this._lexer.token,r=this.parseDescription();this.expectKeyword("schema");var t=this.parseDirectives(!0),i=this.many(pt.BRACE_L,this.parseOperationTypeDefinition,pt.BRACE_R);return{kind:Et.SCHEMA_DEFINITION,description:r,directives:t,operationTypes:i,loc:this.loc(a)}},e.parseOperationTypeDefinition=function(){var a=this._lexer.token,r=this.parseOperationType();this.expectToken(pt.COLON);var t=this.parseNamedType();return{kind:Et.OPERATION_TYPE_DEFINITION,operation:r,type:t,loc:this.loc(a)}},e.parseScalarTypeDefinition=function(){var a=this._lexer.token,r=this.parseDescription();this.expectKeyword("scalar");var t=this.parseName(),i=this.parseDirectives(!0);return{kind:Et.SCALAR_TYPE_DEFINITION,description:r,name:t,directives:i,loc:this.loc(a)}},e.parseObjectTypeDefinition=function(){var a=this._lexer.token,r=this.parseDescription();this.expectKeyword("type");var t=this.parseName(),i=this.parseImplementsInterfaces(),o=this.parseDirectives(!0),l=this.parseFieldsDefinition();return{kind:Et.OBJECT_TYPE_DEFINITION,description:r,name:t,interfaces:i,directives:o,fields:l,loc:this.loc(a)}},e.parseImplementsInterfaces=function(){var a;if(!this.expectOptionalKeyword("implements"))return[];if(((a=this._options)===null||a===void 0?void 0:a.allowLegacySDLImplementsInterfaces)===!0){var r=[];this.expectOptionalToken(pt.AMP);do r.push(this.parseNamedType());while(this.expectOptionalToken(pt.AMP)||this.peek(pt.NAME));return r}return this.delimitedMany(pt.AMP,this.parseNamedType)},e.parseFieldsDefinition=function(){var a;return((a=this._options)===null||a===void 0?void 0:a.allowLegacySDLEmptyFields)===!0&&this.peek(pt.BRACE_L)&&this._lexer.lookahead().kind===pt.BRACE_R?(this._lexer.advance(),this._lexer.advance(),[]):this.optionalMany(pt.BRACE_L,this.parseFieldDefinition,pt.BRACE_R)},e.parseFieldDefinition=function(){var a=this._lexer.token,r=this.parseDescription(),t=this.parseName(),i=this.parseArgumentDefs();this.expectToken(pt.COLON);var o=this.parseTypeReference(),l=this.parseDirectives(!0);return{kind:Et.FIELD_DEFINITION,description:r,name:t,arguments:i,type:o,directives:l,loc:this.loc(a)}},e.parseArgumentDefs=function(){return this.optionalMany(pt.PAREN_L,this.parseInputValueDef,pt.PAREN_R)},e.parseInputValueDef=function(){var a=this._lexer.token,r=this.parseDescription(),t=this.parseName();this.expectToken(pt.COLON);var i=this.parseTypeReference(),o;this.expectOptionalToken(pt.EQUALS)&&(o=this.parseValueLiteral(!0));var l=this.parseDirectives(!0);return{kind:Et.INPUT_VALUE_DEFINITION,description:r,name:t,type:i,defaultValue:o,directives:l,loc:this.loc(a)}},e.parseInterfaceTypeDefinition=function(){var a=this._lexer.token,r=this.parseDescription();this.expectKeyword("interface");var t=this.parseName(),i=this.parseImplementsInterfaces(),o=this.parseDirectives(!0),l=this.parseFieldsDefinition();return{kind:Et.INTERFACE_TYPE_DEFINITION,description:r,name:t,interfaces:i,directives:o,fields:l,loc:this.loc(a)}},e.parseUnionTypeDefinition=function(){var a=this._lexer.token,r=this.parseDescription();this.expectKeyword("union");var t=this.parseName(),i=this.parseDirectives(!0),o=this.parseUnionMemberTypes();return{kind:Et.UNION_TYPE_DEFINITION,description:r,name:t,directives:i,types:o,loc:this.loc(a)}},e.parseUnionMemberTypes=function(){return this.expectOptionalToken(pt.EQUALS)?this.delimitedMany(pt.PIPE,this.parseNamedType):[]},e.parseEnumTypeDefinition=function(){var a=this._lexer.token,r=this.parseDescription();this.expectKeyword("enum");var t=this.parseName(),i=this.parseDirectives(!0),o=this.parseEnumValuesDefinition();return{kind:Et.ENUM_TYPE_DEFINITION,description:r,name:t,directives:i,values:o,loc:this.loc(a)}},e.parseEnumValuesDefinition=function(){return this.optionalMany(pt.BRACE_L,this.parseEnumValueDefinition,pt.BRACE_R)},e.parseEnumValueDefinition=function(){var a=this._lexer.token,r=this.parseDescription(),t=this.parseName(),i=this.parseDirectives(!0);return{kind:Et.ENUM_VALUE_DEFINITION,description:r,name:t,directives:i,loc:this.loc(a)}},e.parseInputObjectTypeDefinition=function(){var a=this._lexer.token,r=this.parseDescription();this.expectKeyword("input");var t=this.parseName(),i=this.parseDirectives(!0),o=this.parseInputFieldsDefinition();return{kind:Et.INPUT_OBJECT_TYPE_DEFINITION,description:r,name:t,directives:i,fields:o,loc:this.loc(a)}},e.parseInputFieldsDefinition=function(){return this.optionalMany(pt.BRACE_L,this.parseInputValueDef,pt.BRACE_R)},e.parseTypeSystemExtension=function(){var a=this._lexer.lookahead();if(a.kind===pt.NAME)switch(a.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(a)},e.parseSchemaExtension=function(){var a=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");var r=this.parseDirectives(!0),t=this.optionalMany(pt.BRACE_L,this.parseOperationTypeDefinition,pt.BRACE_R);if(r.length===0&&t.length===0)throw this.unexpected();return{kind:Et.SCHEMA_EXTENSION,directives:r,operationTypes:t,loc:this.loc(a)}},e.parseScalarTypeExtension=function(){var a=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");var r=this.parseName(),t=this.parseDirectives(!0);if(t.length===0)throw this.unexpected();return{kind:Et.SCALAR_TYPE_EXTENSION,name:r,directives:t,loc:this.loc(a)}},e.parseObjectTypeExtension=function(){var a=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");var r=this.parseName(),t=this.parseImplementsInterfaces(),i=this.parseDirectives(!0),o=this.parseFieldsDefinition();if(t.length===0&&i.length===0&&o.length===0)throw this.unexpected();return{kind:Et.OBJECT_TYPE_EXTENSION,name:r,interfaces:t,directives:i,fields:o,loc:this.loc(a)}},e.parseInterfaceTypeExtension=function(){var a=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");var r=this.parseName(),t=this.parseImplementsInterfaces(),i=this.parseDirectives(!0),o=this.parseFieldsDefinition();if(t.length===0&&i.length===0&&o.length===0)throw this.unexpected();return{kind:Et.INTERFACE_TYPE_EXTENSION,name:r,interfaces:t,directives:i,fields:o,loc:this.loc(a)}},e.parseUnionTypeExtension=function(){var a=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");var r=this.parseName(),t=this.parseDirectives(!0),i=this.parseUnionMemberTypes();if(t.length===0&&i.length===0)throw this.unexpected();return{kind:Et.UNION_TYPE_EXTENSION,name:r,directives:t,types:i,loc:this.loc(a)}},e.parseEnumTypeExtension=function(){var a=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");var r=this.parseName(),t=this.parseDirectives(!0),i=this.parseEnumValuesDefinition();if(t.length===0&&i.length===0)throw this.unexpected();return{kind:Et.ENUM_TYPE_EXTENSION,name:r,directives:t,values:i,loc:this.loc(a)}},e.parseInputObjectTypeExtension=function(){var a=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");var r=this.parseName(),t=this.parseDirectives(!0),i=this.parseInputFieldsDefinition();if(t.length===0&&i.length===0)throw this.unexpected();return{kind:Et.INPUT_OBJECT_TYPE_EXTENSION,name:r,directives:t,fields:i,loc:this.loc(a)}},e.parseDirectiveDefinition=function(){var a=this._lexer.token,r=this.parseDescription();this.expectKeyword("directive"),this.expectToken(pt.AT);var t=this.parseName(),i=this.parseArgumentDefs(),o=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");var l=this.parseDirectiveLocations();return{kind:Et.DIRECTIVE_DEFINITION,description:r,name:t,arguments:i,repeatable:o,locations:l,loc:this.loc(a)}},e.parseDirectiveLocations=function(){return this.delimitedMany(pt.PIPE,this.parseDirectiveLocation)},e.parseDirectiveLocation=function(){var a=this._lexer.token,r=this.parseName();if(S2e[r.value]!==void 0)return r;throw this.unexpected(a)},e.loc=function(a){var r;if(((r=this._options)===null||r===void 0?void 0:r.noLocation)!==!0)return new oB(a,this._lexer.lastToken,this._lexer.source)},e.peek=function(a){return this._lexer.token.kind===a},e.expectToken=function(a){var r=this._lexer.token;if(r.kind===a)return this._lexer.advance(),r;throw qi(this._lexer.source,r.start,"Expected ".concat(E2e(a),", found ").concat(iM(r),"."))},e.expectOptionalToken=function(a){var r=this._lexer.token;if(r.kind===a)return this._lexer.advance(),r},e.expectKeyword=function(a){var r=this._lexer.token;if(r.kind===pt.NAME&&r.value===a)this._lexer.advance();else throw qi(this._lexer.source,r.start,'Expected "'.concat(a,'", found ').concat(iM(r),"."))},e.expectOptionalKeyword=function(a){var r=this._lexer.token;return r.kind===pt.NAME&&r.value===a?(this._lexer.advance(),!0):!1},e.unexpected=function(a){var r=a??this._lexer.token;return qi(this._lexer.source,r.start,"Unexpected ".concat(iM(r),"."))},e.any=function(a,r,t){this.expectToken(a);for(var i=[];!this.expectOptionalToken(t);)i.push(r.call(this));return i},e.optionalMany=function(a,r,t){if(this.expectOptionalToken(a)){var i=[];do i.push(r.call(this));while(!this.expectOptionalToken(t));return i}return[]},e.many=function(a,r,t){this.expectToken(a);var i=[];do i.push(r.call(this));while(!this.expectOptionalToken(t));return i},e.delimitedMany=function(a,r){this.expectOptionalToken(a);var t=[];do t.push(r.call(this));while(this.expectOptionalToken(a));return t},n})();function iM(n){var e=n.value;return E2e(n.kind)+(e!=null?' "'.concat(e,'"'):"")}function E2e(n){return BNe(n)?'"'.concat(n,'"'):n}var YNe={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},qg=Object.freeze({});function A2e(n,e){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:YNe,a=void 0,r=Array.isArray(n),t=[n],i=-1,o=[],l=void 0,s=void 0,c=void 0,d=[],f=[],p=n;do{i++;var h=i===t.length,g=h&&o.length!==0;if(h){if(s=f.length===0?void 0:d[d.length-1],l=c,c=f.pop(),g){if(r)l=l.slice();else{for(var _={},m=0,w=Object.keys(l);m<w.length;m++){var T=w[m];_[T]=l[T]}l=_}for(var E=0,S=0;S<o.length;S++){var N=o[S][0],j=o[S][1];r&&(N-=E),r&&j===null?(l.splice(N,1),E++):l[N]=j}}i=a.index,t=a.keys,o=a.edits,r=a.inArray,a=a.prev}else{if(s=c?r?i:t[i]:void 0,l=c?c[s]:p,l==null)continue;c&&d.push(s)}var q=void 0;if(!Array.isArray(l)){if(!$Y(l))throw new Error("Invalid AST Node: ".concat(b2e(l),"."));var O=NF(e,l.kind,h);if(O){if(q=O.call(e,l,s,c,d,f),q===qg)break;if(q===!1){if(!h){d.pop();continue}}else if(q!==void 0&&(o.push([s,q]),!h))if($Y(q))l=q;else{d.pop();continue}}}if(q===void 0&&g&&o.push([s,l]),h)d.pop();else{var I;a={inArray:r,index:i,keys:t,edits:o,prev:a},r=Array.isArray(l),t=r?l:(I=u[l.kind])!==null&&I!==void 0?I:[],i=-1,o=[],c&&f.push(c),c=l}}while(a!==void 0);return o.length!==0&&(p=o[o.length-1][1]),p}function ZNe(n){var e=new Array(n.length);return{enter:function(a){for(var r=0;r<n.length;r++)if(e[r]==null){var t=NF(n[r],a.kind,!1);if(t){var i=t.apply(n[r],arguments);if(i===!1)e[r]=a;else if(i===qg)e[r]=qg;else if(i!==void 0)return i}}},leave:function(a){for(var r=0;r<n.length;r++)if(e[r]==null){var t=NF(n[r],a.kind,!0);if(t){var i=t.apply(n[r],arguments);if(i===qg)e[r]=qg;else if(i!==void 0&&i!==!1)return i}}else e[r]===a&&(e[r]=null)}}}function NF(n,e,u){var a=n[e];if(a){if(!u&&typeof a=="function")return a;var r=u?a.leave:a.enter;if(typeof r=="function")return r}else{var t=u?n.leave:n.enter;if(t){if(typeof t=="function")return t;var i=t[e];if(typeof i=="function")return i}}}function eIe(n){return A2e(n,{leave:rIe})}var tIe=80,rIe={Name:function(e){return e.value},Variable:function(e){return"$"+e.name},Document:function(e){return Dt(e.definitions,`

`)+`
`},OperationDefinition:function(e){var u=e.operation,a=e.name,r=wn("(",Dt(e.variableDefinitions,", "),")"),t=Dt(e.directives," "),i=e.selectionSet;return!a&&!t&&!r&&u==="query"?i:Dt([u,Dt([a,r]),t,i]," ")},VariableDefinition:function(e){var u=e.variable,a=e.type,r=e.defaultValue,t=e.directives;return u+": "+a+wn(" = ",r)+wn(" ",Dt(t," "))},SelectionSet:function(e){var u=e.selections;return Hu(u)},Field:function(e){var u=e.alias,a=e.name,r=e.arguments,t=e.directives,i=e.selectionSet,o=wn("",u,": ")+a,l=o+wn("(",Dt(r,", "),")");return l.length>tIe&&(l=o+wn(`(
`,aF(Dt(r,`
`)),`
)`)),Dt([l,Dt(t," "),i]," ")},Argument:function(e){var u=e.name,a=e.value;return u+": "+a},FragmentSpread:function(e){var u=e.name,a=e.directives;return"..."+u+wn(" ",Dt(a," "))},InlineFragment:function(e){var u=e.typeCondition,a=e.directives,r=e.selectionSet;return Dt(["...",wn("on ",u),Dt(a," "),r]," ")},FragmentDefinition:function(e){var u=e.name,a=e.typeCondition,r=e.variableDefinitions,t=e.directives,i=e.selectionSet;return"fragment ".concat(u).concat(wn("(",Dt(r,", "),")")," ")+"on ".concat(a," ").concat(wn("",Dt(t," ")," "))+i},IntValue:function(e){var u=e.value;return u},FloatValue:function(e){var u=e.value;return u},StringValue:function(e,u){var a=e.value,r=e.block;return r?qNe(a,u==="description"?"":"  "):JSON.stringify(a)},BooleanValue:function(e){var u=e.value;return u?"true":"false"},NullValue:function(){return"null"},EnumValue:function(e){var u=e.value;return u},ListValue:function(e){var u=e.values;return"["+Dt(u,", ")+"]"},ObjectValue:function(e){var u=e.fields;return"{"+Dt(u,", ")+"}"},ObjectField:function(e){var u=e.name,a=e.value;return u+": "+a},Directive:function(e){var u=e.name,a=e.arguments;return"@"+u+wn("(",Dt(a,", "),")")},NamedType:function(e){var u=e.name;return u},ListType:function(e){var u=e.type;return"["+u+"]"},NonNullType:function(e){var u=e.type;return u+"!"},SchemaDefinition:Vu(function(n){var e=n.directives,u=n.operationTypes;return Dt(["schema",Dt(e," "),Hu(u)]," ")}),OperationTypeDefinition:function(e){var u=e.operation,a=e.type;return u+": "+a},ScalarTypeDefinition:Vu(function(n){var e=n.name,u=n.directives;return Dt(["scalar",e,Dt(u," ")]," ")}),ObjectTypeDefinition:Vu(function(n){var e=n.name,u=n.interfaces,a=n.directives,r=n.fields;return Dt(["type",e,wn("implements ",Dt(u," & ")),Dt(a," "),Hu(r)]," ")}),FieldDefinition:Vu(function(n){var e=n.name,u=n.arguments,a=n.type,r=n.directives;return e+(KY(u)?wn(`(
`,aF(Dt(u,`
`)),`
)`):wn("(",Dt(u,", "),")"))+": "+a+wn(" ",Dt(r," "))}),InputValueDefinition:Vu(function(n){var e=n.name,u=n.type,a=n.defaultValue,r=n.directives;return Dt([e+": "+u,wn("= ",a),Dt(r," ")]," ")}),InterfaceTypeDefinition:Vu(function(n){var e=n.name,u=n.interfaces,a=n.directives,r=n.fields;return Dt(["interface",e,wn("implements ",Dt(u," & ")),Dt(a," "),Hu(r)]," ")}),UnionTypeDefinition:Vu(function(n){var e=n.name,u=n.directives,a=n.types;return Dt(["union",e,Dt(u," "),a&&a.length!==0?"= "+Dt(a," | "):""]," ")}),EnumTypeDefinition:Vu(function(n){var e=n.name,u=n.directives,a=n.values;return Dt(["enum",e,Dt(u," "),Hu(a)]," ")}),EnumValueDefinition:Vu(function(n){var e=n.name,u=n.directives;return Dt([e,Dt(u," ")]," ")}),InputObjectTypeDefinition:Vu(function(n){var e=n.name,u=n.directives,a=n.fields;return Dt(["input",e,Dt(u," "),Hu(a)]," ")}),DirectiveDefinition:Vu(function(n){var e=n.name,u=n.arguments,a=n.repeatable,r=n.locations;return"directive @"+e+(KY(u)?wn(`(
`,aF(Dt(u,`
`)),`
)`):wn("(",Dt(u,", "),")"))+(a?" repeatable":"")+" on "+Dt(r," | ")}),SchemaExtension:function(e){var u=e.directives,a=e.operationTypes;return Dt(["extend schema",Dt(u," "),Hu(a)]," ")},ScalarTypeExtension:function(e){var u=e.name,a=e.directives;return Dt(["extend scalar",u,Dt(a," ")]," ")},ObjectTypeExtension:function(e){var u=e.name,a=e.interfaces,r=e.directives,t=e.fields;return Dt(["extend type",u,wn("implements ",Dt(a," & ")),Dt(r," "),Hu(t)]," ")},InterfaceTypeExtension:function(e){var u=e.name,a=e.interfaces,r=e.directives,t=e.fields;return Dt(["extend interface",u,wn("implements ",Dt(a," & ")),Dt(r," "),Hu(t)]," ")},UnionTypeExtension:function(e){var u=e.name,a=e.directives,r=e.types;return Dt(["extend union",u,Dt(a," "),r&&r.length!==0?"= "+Dt(r," | "):""]," ")},EnumTypeExtension:function(e){var u=e.name,a=e.directives,r=e.values;return Dt(["extend enum",u,Dt(a," "),Hu(r)]," ")},InputObjectTypeExtension:function(e){var u=e.name,a=e.directives,r=e.fields;return Dt(["extend input",u,Dt(a," "),Hu(r)]," ")}};function Vu(n){return function(e){return Dt([e.description,n(e)],`
`)}}function Dt(n){var e,u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return(e=n?.filter(function(a){return a}).join(u))!==null&&e!==void 0?e:""}function Hu(n){return wn(`{
`,aF(Dt(n,`
`)),`
}`)}function wn(n,e){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";return e!=null&&e!==""?n+e+u:""}function aF(n){return wn("  ",n.replace(/\n/g,`
  `))}function nIe(n){return n.indexOf(`
`)!==-1}function KY(n){return n!=null&&n.some(nIe)}function aIe(n){return O2e(n)||x2e(n)||N2e(n)}function O2e(n){return n.kind===Et.OPERATION_DEFINITION||n.kind===Et.FRAGMENT_DEFINITION}function iIe(n){return n.kind===Et.FIELD||n.kind===Et.FRAGMENT_SPREAD||n.kind===Et.INLINE_FRAGMENT}function uIe(n){return n.kind===Et.VARIABLE||n.kind===Et.INT||n.kind===Et.FLOAT||n.kind===Et.STRING||n.kind===Et.BOOLEAN||n.kind===Et.NULL||n.kind===Et.ENUM||n.kind===Et.LIST||n.kind===Et.OBJECT}function oIe(n){return n.kind===Et.NAMED_TYPE||n.kind===Et.LIST_TYPE||n.kind===Et.NON_NULL_TYPE}function x2e(n){return n.kind===Et.SCHEMA_DEFINITION||R2e(n)||n.kind===Et.DIRECTIVE_DEFINITION}function R2e(n){return n.kind===Et.SCALAR_TYPE_DEFINITION||n.kind===Et.OBJECT_TYPE_DEFINITION||n.kind===Et.INTERFACE_TYPE_DEFINITION||n.kind===Et.UNION_TYPE_DEFINITION||n.kind===Et.ENUM_TYPE_DEFINITION||n.kind===Et.INPUT_OBJECT_TYPE_DEFINITION}function N2e(n){return n.kind===Et.SCHEMA_EXTENSION||I2e(n)}function I2e(n){return n.kind===Et.SCALAR_TYPE_EXTENSION||n.kind===Et.OBJECT_TYPE_EXTENSION||n.kind===Et.INTERFACE_TYPE_EXTENSION||n.kind===Et.UNION_TYPE_EXTENSION||n.kind===Et.ENUM_TYPE_EXTENSION||n.kind===Et.INPUT_OBJECT_TYPE_EXTENSION}const sIe=Object.freeze(Object.defineProperty({__proto__:null,BREAK:qg,DirectiveLocation:S2e,Kind:Et,Lexer:w2e,Location:oB,Source:iB,Token:Sn,TokenKind:pt,getLocation:RF,getVisitFn:NF,isDefinitionNode:aIe,isExecutableDefinitionNode:O2e,isSelectionNode:iIe,isTypeDefinitionNode:R2e,isTypeExtensionNode:I2e,isTypeNode:oIe,isTypeSystemDefinitionNode:x2e,isTypeSystemExtensionNode:N2e,isValueNode:uIe,parse:KNe,parseType:WNe,parseValue:JNe,print:eIe,printLocation:g2e,printSourceLocation:uB,visit:A2e,visitInParallel:ZNe},Symbol.toStringTag,{value:"Module"})),cIe=zF(sIe);var q2={},ff={},B2={},pf={},Fs={},JY;function lIe(){if(JY)return Fs;JY=1,Object.defineProperty(Fs,"__esModule",{value:!0}),Fs.removeDotSegmentsOfPath=Fs.removeDotSegments=Fs.resolve=void 0;function n(r,t){t=t||"";const i=t.indexOf("#");if(i>0&&(t=t.substr(0,i)),!r.length){if(t.indexOf(":")<0)throw new Error(`Found invalid baseIRI '${t}' for value '${r}'`);return t}if(r.startsWith("?")){const p=t.indexOf("?");return p>0&&(t=t.substr(0,p)),t+r}if(r.startsWith("#"))return t+r;if(!t.length){const p=r.indexOf(":");if(p<0)throw new Error(`Found invalid relative IRI '${r}' for a missing baseIRI`);return u(r,p)}const o=r.indexOf(":");if(o>=0)return u(r,o);const l=t.indexOf(":");if(l<0)throw new Error(`Found invalid baseIRI '${t}' for value '${r}'`);const s=t.substr(0,l+1);if(r.indexOf("//")===0)return s+u(r,o);let c;if(t.indexOf("//",l)===l+1){if(c=t.indexOf("/",l+3),c<0)return t.length>l+3?t+"/"+u(r,o):s+u(r,o)}else if(c=t.indexOf("/",l+1),c<0)return s+u(r,o);if(r.indexOf("/")===0)return t.substr(0,c)+e(r);let d=t.substr(c);const f=d.lastIndexOf("/");return f>=0&&f<d.length-1&&(d=d.substr(0,f+1),r[0]==="."&&r[1]!=="."&&r[1]!=="/"&&r[2]&&(r=r.substr(1))),r=d+r,r=e(r),t.substr(0,c)+r}Fs.resolve=n;function e(r){const t=[];let i=0;for(;i<r.length;)switch(r[i]){case"/":if(r[i+1]===".")if(r[i+2]==="."){if(!a(r[i+3])){t.push([]),i++;break}t.pop(),r[i+3]||t.push([]),i+=3}else{if(!a(r[i+2])){t.push([]),i++;break}r[i+2]||t.push([]),i+=2}else t.push([]),i++;break;case"#":case"?":t.length||t.push([]),t[t.length-1].push(r.substr(i)),i=r.length;break;default:t.length||t.push([]),t[t.length-1].push(r[i]),i++;break}return"/"+t.map(o=>o.join("")).join("/")}Fs.removeDotSegments=e;function u(r,t){let i=t+1;t>=0?r[t+1]==="/"&&r[t+2]==="/"&&(i=t+3):r[0]==="/"&&r[1]==="/"&&(i=2);const o=r.indexOf("/",i);if(o<0)return r;const l=r.substr(0,o),s=r.substr(o);return l+e(s)}Fs.removeDotSegmentsOfPath=u;function a(r){return!r||r==="#"||r==="?"||r==="/"}return Fs}var WY;function Xn(){return WY||(WY=1,(function(n){var e=pf&&pf.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t),Object.defineProperty(a,i,{enumerable:!0,get:function(){return r[t]}})}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=pf&&pf.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(lIe(),n)})(pf)),pf}var uM={},YY;function pP(){return YY||(YY=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.ERROR_CODES=n.ErrorCoded=void 0;class e extends Error{constructor(a,r){super(a),this.code=r}}n.ErrorCoded=e,(function(u){u.COLLIDING_KEYWORDS="colliding keywords",u.CONFLICTING_INDEXES="conflicting indexes",u.CYCLIC_IRI_MAPPING="cyclic IRI mapping",u.INVALID_ID_VALUE="invalid @id value",u.INVALID_INDEX_VALUE="invalid @index value",u.INVALID_NEST_VALUE="invalid @nest value",u.INVALID_PREFIX_VALUE="invalid @prefix value",u.INVALID_PROPAGATE_VALUE="invalid @propagate value",u.INVALID_REVERSE_VALUE="invalid @reverse value",u.INVALID_IMPORT_VALUE="invalid @import value",u.INVALID_VERSION_VALUE="invalid @version value",u.INVALID_BASE_IRI="invalid base IRI",u.INVALID_CONTAINER_MAPPING="invalid container mapping",u.INVALID_CONTEXT_ENTRY="invalid context entry",u.INVALID_CONTEXT_NULLIFICATION="invalid context nullification",u.INVALID_DEFAULT_LANGUAGE="invalid default language",u.INVALID_INCLUDED_VALUE="invalid @included value",u.INVALID_IRI_MAPPING="invalid IRI mapping",u.INVALID_JSON_LITERAL="invalid JSON literal",u.INVALID_KEYWORD_ALIAS="invalid keyword alias",u.INVALID_LANGUAGE_MAP_VALUE="invalid language map value",u.INVALID_LANGUAGE_MAPPING="invalid language mapping",u.INVALID_LANGUAGE_TAGGED_STRING="invalid language-tagged string",u.INVALID_LANGUAGE_TAGGED_VALUE="invalid language-tagged value",u.INVALID_LOCAL_CONTEXT="invalid local context",u.INVALID_REMOTE_CONTEXT="invalid remote context",u.INVALID_REVERSE_PROPERTY="invalid reverse property",u.INVALID_REVERSE_PROPERTY_MAP="invalid reverse property map",u.INVALID_REVERSE_PROPERTY_VALUE="invalid reverse property value",u.INVALID_SCOPED_CONTEXT="invalid scoped context",u.INVALID_SCRIPT_ELEMENT="invalid script element",u.INVALID_SET_OR_LIST_OBJECT="invalid set or list object",u.INVALID_TERM_DEFINITION="invalid term definition",u.INVALID_TYPE_MAPPING="invalid type mapping",u.INVALID_TYPE_VALUE="invalid type value",u.INVALID_TYPED_VALUE="invalid typed value",u.INVALID_VALUE_OBJECT="invalid value object",u.INVALID_VALUE_OBJECT_VALUE="invalid value object value",u.INVALID_VOCAB_MAPPING="invalid vocab mapping",u.IRI_CONFUSED_WITH_PREFIX="IRI confused with prefix",u.KEYWORD_REDEFINITION="keyword redefinition",u.LOADING_DOCUMENT_FAILED="loading document failed",u.LOADING_REMOTE_CONTEXT_FAILED="loading remote context failed",u.MULTIPLE_CONTEXT_LINK_HEADERS="multiple context link headers",u.PROCESSING_MODE_CONFLICT="processing mode conflict",u.PROTECTED_TERM_REDEFINITION="protected term redefinition",u.CONTEXT_OVERFLOW="context overflow",u.INVALID_BASE_DIRECTION="invalid base direction",u.RECURSIVE_CONTEXT_INCLUSION="recursive context inclusion",u.INVALID_STREAMING_KEY_ORDER="invalid streaming key order",u.INVALID_EMBEDDED_NODE="invalid embedded node",u.INVALID_ANNOTATION="invalid annotation"})(n.ERROR_CODES||(n.ERROR_CODES={}))})(uM)),uM}var U2={},oM,ZY;function W4(){if(ZY)return oM;ZY=1;var n=/^utf-?8|ascii|utf-?16-?le|ucs-?2|base-?64|latin-?1$/i,e=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,u=/\s|\uFEFF|\xA0/,a=/\r?\n[\x20\x09]+/g,r=/[;,"]/,t=/[;,"]|\s/,i=/^[!#$%&'*+\-\.^_`|~\da-zA-Z]+$/,o={IDLE:1,URI:2,ATTR:4};function l(h){return h.replace(e,"")}function s(h){return u.test(h)}function c(h,g){for(;s(h[g]);)g++;return g}function d(h){return t.test(h)||!i.test(h)}function f(h,g){return Object.keys(h).length===Object.keys(g).length&&Object.keys(h).every(_=>_ in g&&h[_]===g[_])}class p{constructor(g){this.refs=[],g&&this.parse(g)}rel(g){for(var _=[],m=g.toLowerCase(),w=0;w<this.refs.length;w++)typeof this.refs[w].rel=="string"&&this.refs[w].rel.toLowerCase()===m&&_.push(this.refs[w]);return _}get(g,_){g=g.toLowerCase(),_=_.toLowerCase();for(var m=[],w=0;w<this.refs.length;w++)typeof this.refs[w][g]=="string"&&this.refs[w][g].toLowerCase()===_&&m.push(this.refs[w]);return m}set(g){return this.refs.push(g),this}setUnique(g){return this.refs.some(_=>f(_,g))||this.refs.push(g),this}has(g,_){g=g.toLowerCase(),_=_.toLowerCase();for(var m=0;m<this.refs.length;m++)if(typeof this.refs[m][g]=="string"&&this.refs[m][g].toLowerCase()===_)return!0;return!1}parse(g,T){T=T||0,g=T?g.slice(T):g,g=l(g).replace(a,"");for(var m=o.IDLE,w=g.length,T=0,E=null;T<w;)if(m===o.IDLE){if(s(g[T])){T++;continue}else if(g[T]==="<"){E!=null&&(E.rel!=null?this.refs.push(...p.expandRelations(E)):this.refs.push(E));var S=g.indexOf(">",T);if(S===-1)throw new Error("Expected end of URI delimiter at offset "+T);E={uri:g.slice(T+1,S)},T=S,m=o.URI}else throw new Error('Unexpected character "'+g[T]+'" at offset '+T);T++}else if(m===o.URI)if(s(g[T])){T++;continue}else if(g[T]===";")m=o.ATTR,T++;else if(g[T]===",")m=o.IDLE,T++;else throw new Error('Unexpected character "'+g[T]+'" at offset '+T);else if(m===o.ATTR){if(g[T]===";"||s(g[T])){T++;continue}var S=g.indexOf("=",T);S===-1&&(S=g.indexOf(";",T)),S===-1&&(S=g.length);var N=l(g.slice(T,S)).toLowerCase(),j="";if(T=S+1,T=c(g,T),g[T]==='"')for(T++;T<w;){if(g[T]==='"'){T++;break}g[T]==="\\"&&T++,j+=g[T],T++}else{for(var S=T+1;!r.test(g[S])&&S<w;)S++;j=g.slice(T,S),T=S}switch(E[N]&&p.isSingleOccurenceAttr(N)||(N[N.length-1]==="*"?E[N]=p.parseExtendedValue(j):(j=N==="type"?j.toLowerCase():j,E[N]!=null?Array.isArray(E[N])?E[N].push(j):E[N]=[E[N],j]:E[N]=j)),g[T]){case",":m=o.IDLE;break;case";":m=o.ATTR;break}T++}else throw new Error('Unknown parser state "'+m+'"');return E!=null&&(E.rel!=null?this.refs.push(...p.expandRelations(E)):this.refs.push(E)),E=null,this}toString(){for(var g=[],_="",m=null,w=0;w<this.refs.length;w++)m=this.refs[w],_=Object.keys(this.refs[w]).reduce(function(T,E){return E==="uri"?T:T+"; "+p.formatAttribute(E,m[E])},"<"+m.uri+">"),g.push(_);return g.join(", ")}}return p.isCompatibleEncoding=function(h){return n.test(h)},p.parse=function(h,g){return new p().parse(h,g)},p.isSingleOccurenceAttr=function(h){return h==="rel"||h==="type"||h==="media"||h==="title"||h==="title*"},p.isTokenAttr=function(h){return h==="rel"||h==="type"||h==="anchor"},p.escapeQuotes=function(h){return h.replace(/"/g,'\\"')},p.expandRelations=function(h){var g=h.rel.split(" ");return g.map(function(_){var m=Object.assign({},h);return m.rel=_,m})},p.parseExtendedValue=function(h){var g=/([^']+)?(?:'([^']*)')?(.+)/.exec(h);return{language:g[2].toLowerCase(),encoding:p.isCompatibleEncoding(g[1])?null:g[1].toLowerCase(),value:p.isCompatibleEncoding(g[1])?decodeURIComponent(g[3]):g[3]}},p.formatExtendedAttribute=function(h,g){var _=(g.encoding||"utf-8").toUpperCase(),m=g.language||"en",w="";return Buffer.isBuffer(g.value)&&p.isCompatibleEncoding(_)?w=g.value.toString(_):Buffer.isBuffer(g.value)?w=g.value.toString("hex").replace(/[0-9a-f]{2}/gi,"%$1"):w=encodeURIComponent(g.value),h+"="+_+"'"+m+"'"+w},p.formatAttribute=function(h,g){return Array.isArray(g)?g.map(_=>p.formatAttribute(h,_)).join("; "):h[h.length-1]==="*"||typeof g!="string"?p.formatExtendedAttribute(h,g):(p.isTokenAttr(h)?g=d(g)?'"'+p.escapeQuotes(g)+'"':p.escapeQuotes(g):d(g)&&(g=encodeURIComponent(g),g=g.replace(/%20/g," ").replace(/%2C/g,",").replace(/%3B/g,";"),g='"'+g+'"'),h+"="+g)},oM=p,oM}var eZ;function D2e(){if(eZ)return U2;eZ=1,Object.defineProperty(U2,"__esModule",{value:!0}),U2.FetchDocumentLoader=void 0;const n=pP(),e=W4(),u=Xn();class a{constructor(t){this.fetcher=t}async load(t){const i=await(this.fetcher||fetch)(t,{headers:new Headers({accept:"application/ld+json"})});if(i.ok&&i.headers){let o=i.headers.get("Content-Type");if(o){const l=o.indexOf(";");l>0&&(o=o.substr(0,l))}if(o==="application/ld+json")return await i.json();if(i.headers.has("Link")){let l;if(i.headers.forEach((s,c)=>{if(c==="link"){const d=(0,e.parse)(s);for(const f of d.get("type","application/ld+json"))if(f.rel==="alternate"){if(l)throw new Error("Multiple JSON-LD alternate links were found on "+t);l=(0,u.resolve)(f.uri,t)}}}),l)return this.load(l)}throw new n.ErrorCoded(`Unsupported JSON-LD media type ${o}`,n.ERROR_CODES.LOADING_DOCUMENT_FAILED)}else throw new Error(i.statusText||`Status code: ${i.status}`)}}return U2.FetchDocumentLoader=a,U2}var sM={},Q2={},tZ;function cB(){if(tZ)return Q2;tZ=1,Object.defineProperty(Q2,"__esModule",{value:!0}),Q2.Util=void 0;class n{static isCompactIri(u){return u.indexOf(":")>0&&!(u&&u[0]==="#")}static getPrefix(u,a){if(u&&u[0]==="#")return null;const r=u.indexOf(":");if(r>=0){if(u.length>r+1&&u.charAt(r+1)==="/"&&u.charAt(r+2)==="/")return null;const t=u.substr(0,r);if(t==="_")return null;if(a[t])return t}return null}static getContextValueId(u){if(u===null||typeof u=="string")return u;const a=u["@id"];return a||null}static isSimpleTermDefinitionPrefix(u,a){return!n.isPotentialKeyword(u)&&(a.allowPrefixNonGenDelims||typeof u=="string"&&(u[0]==="_"||n.isPrefixIriEndingWithGenDelim(u)))}static isPotentialKeyword(u){return typeof u=="string"&&n.KEYWORD_REGEX.test(u)}static isPrefixIriEndingWithGenDelim(u){return n.ENDS_WITH_GEN_DELIM.test(u)}static isPrefixValue(u){return u&&(typeof u=="string"||u&&typeof u=="object")}static isValidIri(u){return!!(u&&n.IRI_REGEX.test(u))}static isValidIriWeak(u){return!!u&&u[0]!==":"&&n.IRI_REGEX_WEAK.test(u)}static isValidKeyword(u){return n.VALID_KEYWORDS[u]}static isTermProtected(u,a){const r=u[a];return typeof r!="string"&&r&&r["@protected"]}static hasProtectedTerms(u){for(const a of Object.keys(u))if(n.isTermProtected(u,a))return!0;return!1}static isReservedInternalKeyword(u){return u.startsWith("@__")}static deepEqual(u,a){const r=Object.keys(u),t=Object.keys(a);return r.length!==t.length?!1:r.every(i=>{const o=u[i],l=a[i];return o===l||o!==null&&l!==null&&typeof o=="object"&&typeof l=="object"&&this.deepEqual(o,l)})}}return n.IRI_REGEX=/^([A-Za-z][A-Za-z0-9+-.]*|_):[^ "<>{}|\\\[\]`#]*(#[^#]*)?$/,n.IRI_REGEX_WEAK=/(?::[^:])|\//,n.KEYWORD_REGEX=/^@[a-z]+$/i,n.ENDS_WITH_GEN_DELIM=/[:/?#\[\]@]$/,n.REGEX_LANGUAGE_TAG=/^[a-zA-Z]+(-[a-zA-Z0-9]+)*$/,n.REGEX_DIRECTION_TAG=/^(ltr)|(rtl)$/,n.VALID_KEYWORDS={"@annotation":!0,"@base":!0,"@container":!0,"@context":!0,"@direction":!0,"@graph":!0,"@id":!0,"@import":!0,"@included":!0,"@index":!0,"@json":!0,"@language":!0,"@list":!0,"@nest":!0,"@none":!0,"@prefix":!0,"@propagate":!0,"@protected":!0,"@reverse":!0,"@set":!0,"@type":!0,"@value":!0,"@version":!0,"@vocab":!0},n.EXPAND_KEYS_BLACKLIST=["@base","@vocab","@language","@version","@direction"],n.ALIAS_DOMAIN_BLACKLIST=["@container","@graph","@id","@index","@list","@nest","@none","@prefix","@reverse","@set","@type","@value","@version"],n.ALIAS_RANGE_BLACKLIST=["@context","@preserve"],n.CONTAINERS=["@list","@set","@index","@language","@graph","@id","@type"],n.CONTAINERS_1_0=["@list","@set","@index"],Q2.Util=n,Q2}var rZ;function F2e(){return rZ||(rZ=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.defaultExpandOptions=n.JsonLdContextNormalized=void 0;const e=Xn(),u=pP(),a=cB();class r{constructor(i){this.contextRaw=i}getContextRaw(){return this.contextRaw}expandTerm(i,o,l=n.defaultExpandOptions){const s=this.contextRaw[i];if(s===null||s&&s["@id"]===null)return null;let c=!0;if(s&&o){const _=a.Util.getContextValueId(s);if(_&&_!==i)if(typeof _!="string"||!a.Util.isValidIri(_)&&!a.Util.isValidKeyword(_))a.Util.isPotentialKeyword(_)||(c=!1);else return _}const d=a.Util.getPrefix(i,this.contextRaw),f=this.contextRaw["@vocab"],p=(!!f||f==="")&&f.indexOf(":")<0,h=this.contextRaw["@base"],g=a.Util.isPotentialKeyword(i);if(d){const _=this.contextRaw[d],m=a.Util.getContextValueId(_);if(m){if(typeof _=="string"||!l.allowPrefixForcing){if(!a.Util.isSimpleTermDefinitionPrefix(m,l))return i}else if(m[0]!=="_"&&!g&&!_["@prefix"]&&!(i in this.contextRaw))return i;return m+i.substr(d.length+1)}}else if(o&&(f||f===""||l.allowVocabRelativeToBase&&h&&p)&&!g&&!a.Util.isCompactIri(i))if(p){if(l.allowVocabRelativeToBase)return(f||h?(0,e.resolve)(f,h):"")+i;throw new u.ErrorCoded(`Relative vocab expansion for term '${i}' with vocab '${f}' is not allowed.`,u.ERROR_CODES.INVALID_VOCAB_MAPPING)}else return f+i;else if(!o&&h&&!g&&!a.Util.isCompactIri(i))return(0,e.resolve)(i,h);if(c)return i;throw new u.ErrorCoded(`Invalid IRI mapping found for context entry '${i}': '${JSON.stringify(s)}'`,u.ERROR_CODES.INVALID_IRI_MAPPING)}compactIri(i,o){if(o&&this.contextRaw["@vocab"]&&i.startsWith(this.contextRaw["@vocab"]))return i.substr(this.contextRaw["@vocab"].length);if(!o&&this.contextRaw["@base"]&&i.startsWith(this.contextRaw["@base"]))return i.substr(this.contextRaw["@base"].length);const l={prefix:"",suffix:i};for(const s in this.contextRaw){const c=this.contextRaw[s];if(c&&!a.Util.isPotentialKeyword(s)){const d=a.Util.getContextValueId(c);if(i.startsWith(d)){const f=i.substr(d.length);if(f)f.length<l.suffix.length&&(l.prefix=s,l.suffix=f);else if(o)return s}}}return l.prefix?l.prefix+":"+l.suffix:i}}n.JsonLdContextNormalized=r,n.defaultExpandOptions={allowPrefixForcing:!0,allowPrefixNonGenDelims:!1,allowVocabRelativeToBase:!0}})(sM)),sM}var nZ;function dIe(){if(nZ)return B2;nZ=1,Object.defineProperty(B2,"__esModule",{value:!0}),B2.ContextParser=void 0;const n=Xn(),e=pP(),u=D2e(),a=F2e(),r=cB();class t{constructor(o){o=o||{},this.documentLoader=o.documentLoader||new u.FetchDocumentLoader,this.documentCache={},this.validateContext=!o.skipValidation,this.expandContentTypeToBase=!!o.expandContentTypeToBase,this.remoteContextsDepthLimit=o.remoteContextsDepthLimit||32,this.redirectSchemaOrgHttps="redirectSchemaOrgHttps"in o?!!o.redirectSchemaOrgHttps:!0}static validateLanguage(o,l,s){if(typeof o!="string")throw new e.ErrorCoded(`The value of an '@language' must be a string, got '${JSON.stringify(o)}'`,s);if(!r.Util.REGEX_LANGUAGE_TAG.test(o)){if(l)throw new e.ErrorCoded(`The value of an '@language' must be a valid language tag, got '${JSON.stringify(o)}'`,s);return!1}return!0}static validateDirection(o,l){if(typeof o!="string")throw new e.ErrorCoded(`The value of an '@direction' must be a string, got '${JSON.stringify(o)}'`,e.ERROR_CODES.INVALID_BASE_DIRECTION);if(!r.Util.REGEX_DIRECTION_TAG.test(o)){if(l)throw new e.ErrorCoded(`The value of an '@direction' must be 'ltr' or 'rtl', got '${JSON.stringify(o)}'`,e.ERROR_CODES.INVALID_BASE_DIRECTION);return!1}return!0}idifyReverseTerms(o){for(const l of Object.keys(o)){let s=o[l];if(s&&typeof s=="object"&&s["@reverse"]&&!s["@id"]){if(typeof s["@reverse"]!="string"||r.Util.isValidKeyword(s["@reverse"]))throw new e.ErrorCoded(`Invalid @reverse value, must be absolute IRI or blank node: '${s["@reverse"]}'`,e.ERROR_CODES.INVALID_IRI_MAPPING);s=o[l]=Object.assign(Object.assign({},s),{"@id":s["@reverse"]}),s["@id"]=s["@reverse"],r.Util.isPotentialKeyword(s["@reverse"])?delete s["@reverse"]:s["@reverse"]=!0}}return o}expandPrefixedTerms(o,l,s){const c=o.getContextRaw();for(const d of s||Object.keys(c))if(r.Util.EXPAND_KEYS_BLACKLIST.indexOf(d)<0&&!r.Util.isReservedInternalKeyword(d)){const f=c[d];if(r.Util.isPotentialKeyword(d)&&r.Util.ALIAS_DOMAIN_BLACKLIST.indexOf(d)>=0&&(d!=="@type"||typeof c[d]=="object"&&!(c[d]["@protected"]||c[d]["@container"]==="@set")))throw new e.ErrorCoded(`Keywords can not be aliased to something else.
Tried mapping ${d} to ${JSON.stringify(f)}`,e.ERROR_CODES.KEYWORD_REDEFINITION);if(r.Util.ALIAS_RANGE_BLACKLIST.indexOf(r.Util.getContextValueId(f))>=0)throw new e.ErrorCoded(`Aliasing to certain keywords is not allowed.
Tried mapping ${d} to ${JSON.stringify(f)}`,e.ERROR_CODES.INVALID_KEYWORD_ALIAS);if(f&&r.Util.isPotentialKeyword(r.Util.getContextValueId(f))&&f["@prefix"]===!0)throw new e.ErrorCoded(`Tried to use keyword aliases as prefix: '${d}': '${JSON.stringify(f)}'`,e.ERROR_CODES.INVALID_TERM_DEFINITION);for(;r.Util.isPrefixValue(c[d]);){const p=c[d];let h=!1;if(typeof p=="string")c[d]=o.expandTerm(p,!0),h=h||p!==c[d];else{const g=p["@id"],_=p["@type"],m=!("@prefix"in p)||r.Util.isValidIri(d);if("@id"in p)g!=null&&typeof g=="string"&&(c[d]=Object.assign(Object.assign({},c[d]),{"@id":o.expandTerm(g,!0)}),h=h||g!==c[d]["@id"]);else if(!r.Util.isPotentialKeyword(d)&&m){const w=o.expandTerm(d,!0);w!==d&&(c[d]=Object.assign(Object.assign({},c[d]),{"@id":w}),h=!0)}if(_&&typeof _=="string"&&_!=="@vocab"&&(!p["@container"]||!p["@container"]["@type"])&&m){let w=o.expandTerm(_,!0);l&&_===w&&(w=o.expandTerm(_,!1)),w!==_&&(h=!0,c[d]=Object.assign(Object.assign({},c[d]),{"@type":w}))}}if(!h)break}}}normalize(o,{processingMode:l,normalizeLanguageTags:s}){if(s||l===1)for(const c of Object.keys(o))if(c==="@language"&&typeof o[c]=="string")o[c]=o[c].toLowerCase();else{const d=o[c];if(d&&typeof d=="object"&&typeof d["@language"]=="string"){const f=d["@language"].toLowerCase();f!==d["@language"]&&(o[c]=Object.assign(Object.assign({},d),{"@language":f}))}}}containersToHash(o){for(const l of Object.keys(o)){const s=o[l];if(s&&typeof s=="object"){if(typeof s["@container"]=="string")o[l]=Object.assign(Object.assign({},s),{"@container":{[s["@container"]]:!0}});else if(Array.isArray(s["@container"])){const c={};for(const d of s["@container"])c[d]=!0;o[l]=Object.assign(Object.assign({},s),{"@container":c})}}}}applyScopedProtected(o,{processingMode:l},s){if(l&&l>=1.1&&o["@protected"]){for(const c of Object.keys(o))if(!r.Util.isReservedInternalKeyword(c)&&!r.Util.isPotentialKeyword(c)&&!r.Util.isTermProtected(o,c)){const d=o[c];d&&typeof d=="object"?"@protected"in o[c]||(o[c]=Object.assign(Object.assign({},o[c]),{"@protected":!0})):(o[c]={"@id":d,"@protected":!0},r.Util.isSimpleTermDefinitionPrefix(d,s)&&(o[c]=Object.assign(Object.assign({},o[c]),{"@prefix":!0})))}delete o["@protected"]}}validateKeywordRedefinitions(o,l,s,c){for(const d of c??Object.keys(l))if(r.Util.isTermProtected(o,d)&&(typeof l[d]=="string"?l[d]={"@id":l[d],"@protected":!0}:l[d]=Object.assign(Object.assign({},l[d]),{"@protected":!0}),!r.Util.deepEqual(o[d],l[d])))throw new e.ErrorCoded(`Attempted to override the protected keyword ${d} from ${JSON.stringify(r.Util.getContextValueId(o[d]))} to ${JSON.stringify(r.Util.getContextValueId(l[d]))}`,e.ERROR_CODES.PROTECTED_TERM_REDEFINITION)}validate(o,{processingMode:l}){for(const s of Object.keys(o)){if(r.Util.isReservedInternalKeyword(s))continue;if(s==="")throw new e.ErrorCoded(`The empty term is not allowed, got: '${s}': '${JSON.stringify(o[s])}'`,e.ERROR_CODES.INVALID_TERM_DEFINITION);const c=o[s],d=typeof c;if(r.Util.isPotentialKeyword(s)){switch(s.substr(1)){case"vocab":if(c!==null&&d!=="string")throw new e.ErrorCoded(`Found an invalid @vocab IRI: ${c}`,e.ERROR_CODES.INVALID_VOCAB_MAPPING);break;case"base":if(c!==null&&d!=="string")throw new e.ErrorCoded(`Found an invalid @base IRI: ${o[s]}`,e.ERROR_CODES.INVALID_BASE_IRI);break;case"language":c!==null&&t.validateLanguage(c,!0,e.ERROR_CODES.INVALID_DEFAULT_LANGUAGE);break;case"version":if(c!==null&&d!=="number")throw new e.ErrorCoded(`Found an invalid @version number: ${c}`,e.ERROR_CODES.INVALID_VERSION_VALUE);break;case"direction":c!==null&&t.validateDirection(c,!0);break;case"propagate":if(l===1)throw new e.ErrorCoded(`Found an illegal @propagate keyword: ${c}`,e.ERROR_CODES.INVALID_CONTEXT_ENTRY);if(c!==null&&d!=="boolean")throw new e.ErrorCoded(`Found an invalid @propagate value: ${c}`,e.ERROR_CODES.INVALID_PROPAGATE_VALUE);break}if(r.Util.isValidKeyword(s)&&r.Util.isValidKeyword(r.Util.getContextValueId(c)))throw new e.ErrorCoded(`Illegal keyword alias in term value, found: '${s}': '${r.Util.getContextValueId(c)}'`,e.ERROR_CODES.KEYWORD_REDEFINITION);continue}if(c!==null)switch(d){case"string":if(r.Util.getPrefix(c,o)===s)throw new e.ErrorCoded(`Detected cyclical IRI mapping in context entry: '${s}': '${JSON.stringify(c)}'`,e.ERROR_CODES.CYCLIC_IRI_MAPPING);if(r.Util.isValidIriWeak(s)){if(c==="@type")throw new e.ErrorCoded(`IRIs can not be mapped to @type, found: '${s}': '${c}'`,e.ERROR_CODES.INVALID_IRI_MAPPING);if(r.Util.isValidIri(c)&&c!==new a.JsonLdContextNormalized(o).expandTerm(s))throw new e.ErrorCoded(`IRIs can not be mapped to other IRIs, found: '${s}': '${c}'`,e.ERROR_CODES.INVALID_IRI_MAPPING)}break;case"object":if(!r.Util.isCompactIri(s)&&!("@id"in c)&&(c["@type"]==="@id"?!o["@base"]:!o["@vocab"]))throw new e.ErrorCoded(`Missing @id in context entry: '${s}': '${JSON.stringify(c)}'`,e.ERROR_CODES.INVALID_IRI_MAPPING);for(const f of Object.keys(c)){const p=c[f];if(p)switch(f){case"@id":if(r.Util.isValidKeyword(p)&&p!=="@type"&&p!=="@id"&&p!=="@graph"&&p!=="@nest")throw new e.ErrorCoded(`Illegal keyword alias in term value, found: '${s}': '${JSON.stringify(c)}'`,e.ERROR_CODES.INVALID_IRI_MAPPING);if(r.Util.isValidIriWeak(s)){if(p==="@type")throw new e.ErrorCoded(`IRIs can not be mapped to @type, found: '${s}': '${JSON.stringify(c)}'`,e.ERROR_CODES.INVALID_IRI_MAPPING);if(r.Util.isValidIri(p)&&p!==new a.JsonLdContextNormalized(o).expandTerm(s))throw new e.ErrorCoded(`IRIs can not be mapped to other IRIs, found: '${s}': '${JSON.stringify(c)}'`,e.ERROR_CODES.INVALID_IRI_MAPPING)}if(typeof p!="string")throw new e.ErrorCoded(`Detected non-string @id in context entry: '${s}': '${JSON.stringify(c)}'`,e.ERROR_CODES.INVALID_IRI_MAPPING);if(r.Util.getPrefix(p,o)===s)throw new e.ErrorCoded(`Detected cyclical IRI mapping in context entry: '${s}': '${JSON.stringify(c)}'`,e.ERROR_CODES.CYCLIC_IRI_MAPPING);break;case"@type":if(c["@container"]==="@type"&&p!=="@id"&&p!=="@vocab")throw new e.ErrorCoded(`@container: @type only allows @type: @id or @vocab, but got: '${s}': '${p}'`,e.ERROR_CODES.INVALID_TYPE_MAPPING);if(typeof p!="string")throw new e.ErrorCoded(`The value of an '@type' must be a string, got '${JSON.stringify(d)}'`,e.ERROR_CODES.INVALID_TYPE_MAPPING);if(p!=="@id"&&p!=="@vocab"&&(l===1||p!=="@json")&&(l===1||p!=="@none")&&(p[0]==="_"||!r.Util.isValidIri(p)))throw new e.ErrorCoded(`A context @type must be an absolute IRI, found: '${s}': '${p}'`,e.ERROR_CODES.INVALID_TYPE_MAPPING);break;case"@reverse":if(typeof p=="string"&&c["@id"]&&c["@id"]!==p)throw new e.ErrorCoded(`Found non-matching @id and @reverse term values in '${s}':'${p}' and '${c["@id"]}'`,e.ERROR_CODES.INVALID_REVERSE_PROPERTY);if("@nest"in c)throw new e.ErrorCoded(`@nest is not allowed in the reverse property '${s}'`,e.ERROR_CODES.INVALID_REVERSE_PROPERTY);break;case"@container":if(l===1&&(Object.keys(p).length>1||r.Util.CONTAINERS_1_0.indexOf(Object.keys(p)[0])<0))throw new e.ErrorCoded(`Invalid term @container for '${s}' ('${Object.keys(p)}') in 1.0, must be only one of ${r.Util.CONTAINERS_1_0.join(", ")}`,e.ERROR_CODES.INVALID_CONTAINER_MAPPING);for(const h of Object.keys(p)){if(h==="@list"&&c["@reverse"])throw new e.ErrorCoded(`Term value can not be @container: @list and @reverse at the same time on '${s}'`,e.ERROR_CODES.INVALID_REVERSE_PROPERTY);if(r.Util.CONTAINERS.indexOf(h)<0)throw new e.ErrorCoded(`Invalid term @container for '${s}' ('${h}'), must be one of ${r.Util.CONTAINERS.join(", ")}`,e.ERROR_CODES.INVALID_CONTAINER_MAPPING)}break;case"@language":t.validateLanguage(p,!0,e.ERROR_CODES.INVALID_LANGUAGE_MAPPING);break;case"@direction":t.validateDirection(p,!0);break;case"@prefix":if(p!==null&&typeof p!="boolean")throw new e.ErrorCoded(`Found an invalid term @prefix boolean in: '${s}': '${JSON.stringify(c)}'`,e.ERROR_CODES.INVALID_PREFIX_VALUE);if(!("@id"in c)&&!r.Util.isValidIri(s))throw new e.ErrorCoded(`Invalid @prefix definition for '${s}' ('${JSON.stringify(c)}'`,e.ERROR_CODES.INVALID_TERM_DEFINITION);break;case"@index":if(l===1||!c["@container"]||!c["@container"]["@index"])throw new e.ErrorCoded(`Attempt to add illegal key to value object: '${s}': '${JSON.stringify(c)}'`,e.ERROR_CODES.INVALID_TERM_DEFINITION);break;case"@nest":if(r.Util.isPotentialKeyword(p)&&p!=="@nest")throw new e.ErrorCoded(`Found an invalid term @nest value in: '${s}': '${JSON.stringify(c)}'`,e.ERROR_CODES.INVALID_NEST_VALUE)}}break;default:throw new e.ErrorCoded(`Found an invalid term value: '${s}': '${c}'`,e.ERROR_CODES.INVALID_TERM_DEFINITION)}}}applyBaseEntry(o,l,s){return typeof o=="string"||(s&&!("@base"in o)&&l.parentContext&&typeof l.parentContext=="object"&&"@base"in l.parentContext&&(o["@base"]=l.parentContext["@base"],l.parentContext["@__baseDocument"]&&(o["@__baseDocument"]=!0)),l.baseIRI&&!l.external&&("@base"in o?o["@base"]!==null&&typeof o["@base"]=="string"&&!r.Util.isValidIri(o["@base"])&&(o["@base"]=(0,n.resolve)(o["@base"],l.parentContext&&l.parentContext["@base"]||l.baseIRI)):(o["@base"]=l.baseIRI,o["@__baseDocument"]=!0))),o}normalizeContextIri(o,l){if(!r.Util.isValidIri(o))try{o=(0,n.resolve)(o,l)}catch{throw new Error(`Invalid context IRI: ${o}`)}return this.redirectSchemaOrgHttps&&o.startsWith("http://schema.org")&&(o="https://schema.org/"),o}async parseInnerContexts(o,l,s){for(const c of s??Object.keys(o)){const d=o[c];if(d&&typeof d=="object"&&"@context"in d&&d["@context"]!==null&&!l.ignoreScopedContexts){if(this.validateContext)try{const f=Object.assign(Object.assign({},o),{[c]:Object.assign({},o[c])});delete f[c]["@context"],await this.parse(d["@context"],Object.assign(Object.assign({},l),{external:!1,parentContext:f,ignoreProtection:!0,ignoreRemoteScopedContexts:!0,ignoreScopedContexts:!0}))}catch(f){throw new e.ErrorCoded(f.message,e.ERROR_CODES.INVALID_SCOPED_CONTEXT)}o[c]=Object.assign(Object.assign({},d),{"@context":(await this.parse(d["@context"],Object.assign(Object.assign({},l),{external:!1,minimalProcessing:!0,ignoreRemoteScopedContexts:!0,parentContext:o}))).getContextRaw()})}}return o}async parse(o,l={},s={}){const{baseIRI:c,parentContext:d,external:f,processingMode:p=t.DEFAULT_PROCESSING_MODE,normalizeLanguageTags:h,ignoreProtection:g,minimalProcessing:_}=l,m=l.remoteContexts||{};if(Object.keys(m).length>=this.remoteContextsDepthLimit)throw new e.ErrorCoded("Detected an overflow in remote context inclusions: "+Object.keys(m),e.ERROR_CODES.CONTEXT_OVERFLOW);if(o==null){if(!g&&d&&r.Util.hasProtectedTerms(d))throw new e.ErrorCoded("Illegal context nullification when terms are protected",e.ERROR_CODES.INVALID_CONTEXT_NULLIFICATION);return new a.JsonLdContextNormalized(this.applyBaseEntry({},l,!1))}else if(typeof o=="string"){const w=this.normalizeContextIri(o,c),T=this.getOverriddenLoad(w,l);if(T)return new a.JsonLdContextNormalized(T);const E=await this.parse(await this.load(w),Object.assign(Object.assign({},l),{baseIRI:w,external:!0,remoteContexts:Object.assign(Object.assign({},m),{[w]:!0})}));return this.applyBaseEntry(E.getContextRaw(),l,!0),E}else if(Array.isArray(o)){const w=[],T=await Promise.all(o.map((S,N)=>{if(typeof S=="string"){const j=this.normalizeContextIri(S,c);w[N]=j;const q=this.getOverriddenLoad(j,l);return q||this.load(j)}else return S}));if(_)return new a.JsonLdContextNormalized(T);const E=await T.reduce((S,N,j)=>S.then(q=>this.parse(N,Object.assign(Object.assign({},l),{baseIRI:w[j]||l.baseIRI,external:!!w[j]||l.external,parentContext:q.getContextRaw(),remoteContexts:w[j]?Object.assign(Object.assign({},m),{[w[j]]:!0}):m}),{skipValidation:j<T.length-1})),Promise.resolve(new a.JsonLdContextNormalized(d||{})));return this.applyBaseEntry(E.getContextRaw(),l,!0),E}else if(typeof o=="object"){if("@context"in o)return await this.parse(o["@context"],l);if(o=Object.assign({},o),f&&delete o["@base"],this.applyBaseEntry(o,l,!0),this.containersToHash(o),_)return new a.JsonLdContextNormalized(o);let w={};if("@import"in o)if(p>=1.1){if(typeof o["@import"]!="string")throw new e.ErrorCoded("An @import value must be a string, but got "+typeof o["@import"],e.ERROR_CODES.INVALID_IMPORT_VALUE);w=await this.loadImportContext(this.normalizeContextIri(o["@import"],c)),delete o["@import"]}else throw new e.ErrorCoded("Context importing is not supported in JSON-LD 1.0",e.ERROR_CODES.INVALID_CONTEXT_ENTRY);this.applyScopedProtected(w,{processingMode:p},a.defaultExpandOptions);const T=Object.assign(w,o);this.idifyReverseTerms(T),this.normalize(T,{processingMode:p,normalizeLanguageTags:h}),this.applyScopedProtected(T,{processingMode:p},a.defaultExpandOptions);const E=Object.keys(T),S=[];if(typeof d=="object")for(const j in d)j in T?S.push(j):T[j]=d[j];await this.parseInnerContexts(T,l,E);const N=new a.JsonLdContextNormalized(T);return(T&&T["@version"]||t.DEFAULT_PROCESSING_MODE)>=1.1&&(o["@vocab"]&&typeof o["@vocab"]=="string"||o["@vocab"]==="")&&(d&&"@vocab"in d&&o["@vocab"].indexOf(":")<0?T["@vocab"]=d["@vocab"]+o["@vocab"]:(r.Util.isCompactIri(o["@vocab"])||o["@vocab"]in T)&&(T["@vocab"]=N.expandTerm(o["@vocab"],!0))),this.expandPrefixedTerms(N,this.expandContentTypeToBase,E),!g&&d&&p>=1.1&&this.validateKeywordRedefinitions(d,T,a.defaultExpandOptions,S),this.validateContext&&!s.skipValidation&&this.validate(T,{processingMode:p}),N}else throw new e.ErrorCoded(`Tried parsing a context that is not a string, array or object, but got ${o}`,e.ERROR_CODES.INVALID_LOCAL_CONTEXT)}async load(o){const l=this.documentCache[o];if(l)return l;let s;try{s=await this.documentLoader.load(o)}catch(c){throw new e.ErrorCoded(`Failed to load remote context ${o}: ${c.message}`,e.ERROR_CODES.LOADING_REMOTE_CONTEXT_FAILED)}if(!("@context"in s))throw new e.ErrorCoded(`Missing @context in remote context at ${o}`,e.ERROR_CODES.INVALID_REMOTE_CONTEXT);return this.documentCache[o]=s["@context"]}getOverriddenLoad(o,l){if(o in(l.remoteContexts||{})){if(l.ignoreRemoteScopedContexts)return o;throw new e.ErrorCoded("Detected a cyclic context inclusion of "+o,e.ERROR_CODES.RECURSIVE_CONTEXT_INCLUSION)}return null}async loadImportContext(o){let l=await this.load(o);if(typeof l!="object"||Array.isArray(l))throw new e.ErrorCoded("An imported context must be a single object: "+o,e.ERROR_CODES.INVALID_REMOTE_CONTEXT);if("@import"in l)throw new e.ErrorCoded("An imported context can not import another context: "+o,e.ERROR_CODES.INVALID_CONTEXT_ENTRY);return l=Object.assign({},l),this.containersToHash(l),l}}return t.DEFAULT_PROCESSING_MODE=1.1,B2.ContextParser=t,B2}var cM={},aZ;function fIe(){return aZ||(aZ=1,Object.defineProperty(cM,"__esModule",{value:!0})),cM}var lM={},iZ;function pIe(){return iZ||(iZ=1,Object.defineProperty(lM,"__esModule",{value:!0})),lM}var uZ;function hIe(){return uZ||(uZ=1,(function(n){var e=ff&&ff.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=ff&&ff.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(dIe(),n),u(pP(),n),u(D2e(),n),u(fIe(),n),u(pIe(),n),u(F2e(),n),u(cB(),n)})(ff)),ff}var oZ;function P2e(){if(oZ)return q2;oZ=1,Object.defineProperty(q2,"__esModule",{value:!0}),q2.Util=void 0;const n=Rr(),e=hIe(),u=aB();class a{constructor(t){this.nodeHandlers={},this.nodeValueHandlers={},this.directiveNodeHandlers={},this.settings=t,this.dataFactory=t.dataFactory||new n.DataFactory,this.operationFactory=new u.Factory(this.dataFactory),this.contextParser=new e.ContextParser}registerNodeHandler(t){this.nodeHandlers[t.targetKind]=t}registerNodeValueHandler(t){this.nodeValueHandlers[t.targetKind]=t}registerDirectiveNodeHandler(t){this.directiveNodeHandlers[t.targetKind]=t}handleNode(t,i){const o=this.nodeHandlers[t.kind];if(!o)throw new Error(`Unsupported GraphQL node '${t.kind}'`);return o.handle(t,i)}handleNodeValue(t,i,o){const l=this.nodeValueHandlers[t.kind];if(!l)throw new Error(`Unsupported GraphQL value node '${t.kind}'`);return l.handle(t,i,o)}handleDirectiveNode(t,i){const o=this.directiveNodeHandlers[t.directive.name.value];return o?o.handle(t,i):null}joinOperations(t){if(t.length===1)return t[0];const i=[],o=[];for(const l of t)l.type==="bgp"?i.push(l):o.push(l);if(i.length===t.length)return this.joinOperationsAsBgp(i);if(i.length===t.length-1&&o[0].type==="leftjoin"&&o[0].input[0].type==="bgp"){const l=o[0];return i.push(l.input[0]),this.operationFactory.createLeftJoin(this.joinOperationsAsBgp(i),l.input[1])}else return o.length===t.length?this.joinOperationsAsNestedJoin(o):this.joinOperationsAsNestedJoin([this.joinOperationsAsBgp(i),this.joinOperationsAsNestedJoin(o)])}joinOperationsAsBgp(t){return this.operationFactory.createBgp([].concat.apply([],t.map(i=>i.patterns)))}joinOperationsAsNestedJoin(t){return this.operationFactory.createJoin(t)}appendFieldToPath(t,i){return t.concat([i])}getFieldLabel(t){return(t.alias?t.alias:t.name).value}nameToVariable(t,i){return this.dataFactory.variable((i.path.length?i.path.join(this.settings.variableDelimiter)+this.settings.variableDelimiter:"")+t)}valueToNamedNode(t,i){const o=i.expandTerm(t,!0);if(this.settings.requireContext&&!o)throw new Error("No context entry was found for "+t);return this.dataFactory.namedNode(o||t)}getArgument(t,i){if(t){for(const o of t)if(o.name.value===i)return o}}newTypePattern(t,i,o){return this.operationFactory.createPattern(t,this.dataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),this.valueToNamedNode(i.name.value,o.context),o.graph)}createQuadPattern(t,i,o,l,s){const c=this.valueToNamedNode(i.value,s);return s&&s.getContextRaw()[i.value]&&s.getContextRaw()[i.value]["@reverse"]?this.operationFactory.createPattern(o,c,t,l):this.operationFactory.createPattern(t,c,o,l)}createQuadPath(t,i,o,l,s,c){const d=this.valueToNamedNode(i.value,c);let f=this.operationFactory.createLink(d);for(const p of o.values){if(p.kind!=="EnumValue")throw new Error("Invalid value type for 'alt' argument, must be EnumValue, but got "+p.kind);f=this.operationFactory.createAlt([f,this.operationFactory.createLink(this.valueToNamedNode(p.value,c))])}return c&&c.getContextRaw()[i.value]&&c.getContextRaw()[i.value]["@reverse"]?this.operationFactory.createPath(l,f,t,s):this.operationFactory.createPath(t,f,l,s)}}return q2.Util=a,q2}var sZ;function yIe(){if(sZ)return df;sZ=1;var n=df&&df.__awaiter||function(o,l,s,c){function d(f){return f instanceof s?f:new s(function(p){p(f)})}return new(s||(s=Promise))(function(f,p){function h(m){try{_(c.next(m))}catch(w){p(w)}}function g(m){try{_(c.throw(m))}catch(w){p(w)}}function _(m){m.done?f(m.value):d(m.value).then(h,g)}_((c=c.apply(o,l||[])).next())})};Object.defineProperty(df,"__esModule",{value:!0}),df.Converter=void 0;const e=cIe,u=h2e(),a=p2e(),r=K4(),t=P2e();class i{constructor(l){l=l||{},l.variableDelimiter=l.variableDelimiter||"_",l.expressionVariableCounter=l.expressionVariableCounter||0,this.util=new t.Util(l),this.initializeNodeHandlers(l)}static registerNodeHandlers(l,s){l.registerNodeHandler(new u.NodeHandlerDocument(l,s)),l.registerNodeHandler(new u.NodeHandlerDefinitionOperation(l,s)),l.registerNodeHandler(new u.NodeHandlerDefinitionFragment(l,s)),l.registerNodeHandler(new u.NodeHandlerSelectionFragmentSpread(l,s)),l.registerNodeHandler(new u.NodeHandlerSelectionInlineFragment(l,s)),l.registerNodeHandler(new u.NodeHandlerSelectionField(l,s))}static registerNodeValueHandlers(l,s){l.registerNodeValueHandler(new u.NodeValueHandlerVariable(l,s)),l.registerNodeValueHandler(new u.NodeValueHandlerInt(l,s)),l.registerNodeValueHandler(new u.NodeValueHandlerFloat(l,s)),l.registerNodeValueHandler(new u.NodeValueHandlerString(l,s)),l.registerNodeValueHandler(new u.NodeValueHandlerBoolean(l,s)),l.registerNodeValueHandler(new u.NodeValueHandlerNull(l,s)),l.registerNodeValueHandler(new u.NodeValueHandlerEnum(l,s)),l.registerNodeValueHandler(new u.NodeValueHandlerList(l,s)),l.registerNodeValueHandler(new u.NodeValueHandlerObject(l,s))}static registerDirectiveNodeHandlers(l,s){l.registerDirectiveNodeHandler(new a.DirectiveNodeHandlerInclude(l,s)),l.registerDirectiveNodeHandler(new a.DirectiveNodeHandlerOptional(l,s)),l.registerDirectiveNodeHandler(new a.DirectiveNodeHandlerPlural(l,s)),l.registerDirectiveNodeHandler(new a.DirectiveNodeHandlerSingle(l,s)),l.registerDirectiveNodeHandler(new a.DirectiveNodeHandlerSkip(l,s))}graphqlToSparqlAlgebra(l,s,c){return n(this,void 0,void 0,function*(){return this.graphqlToSparqlAlgebraRawContext(l,yield this.util.contextParser.parse(s),c)})}graphqlToSparqlAlgebraRawContext(l,s,c){c=c||{};const d=typeof l=="string"?(0,e.parse)(l):l,f=this.indexFragments(d),p={context:s,fragmentDefinitions:f,graph:this.util.dataFactory.defaultGraph(),path:[],singularizeState:r.SingularizeState.PLURAL,singularizeVariables:c.singularizeVariables||{},subject:null,terminalVariables:[],variablesDict:c.variablesDict||{},variablesMetaDict:{}};return this.util.handleNode(d,p)}indexFragments(l){const s={},c=[];for(const d of l.definitions)d.kind==="FragmentDefinition"?s[d.name.value]=d:c.push(d);return l.definitions=c,s}initializeNodeHandlers(l){i.registerNodeHandlers(this.util,l),i.registerNodeValueHandlers(this.util,l),i.registerDirectiveNodeHandlers(this.util,l)}}return df.Converter=i,df}var dM={},cZ;function mIe(){return cZ||(cZ=1,Object.defineProperty(dM,"__esModule",{value:!0})),dM}var lZ;function bIe(){return lZ||(lZ=1,(function(n){var e=uf&&uf.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=uf&&uf.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(h2e(),n),u(yIe(),n),u(K4(),n),u(mIe(),n),u(P2e(),n)})(uf)),uf}var dZ;function gIe(){if(dZ)return f2;dZ=1,Object.defineProperty(f2,"__esModule",{value:!0}),f2.ActorQueryParseGraphql=void 0;const n=f2e(),e=lt(),u=De(),a=bIe();let r=class extends n.ActorQueryParse{constructor(i){super(i),this.graphqlToSparql=new a.Converter({requireContext:!0})}async test(i){return i.queryFormat?.language!=="graphql"?(0,u.failTest)("This actor can only parse GraphQL queries"):(0,u.passTestVoid)()}async run(i){const o=i.context.get(e.KeysInitQuery.jsonLdContext)||{},l={singularizeVariables:i.context.get(e.KeysInitQuery.graphqlSingularizeVariables)};return{operation:await this.graphqlToSparql.graphqlToSparqlAlgebra(i.query,o,l)}}};return f2.ActorQueryParseGraphql=r,f2}var fZ;function lB(){return fZ||(fZ=1,(function(n){var e=af&&af.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=af&&af.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(gIe(),n)})(af)),af}var hf={},V2={},yf={},H2={},mf={},k2={},pZ;function j2e(){if(pZ)return k2;pZ=1,Object.defineProperty(k2,"__esModule",{value:!0}),k2.ActorAbstractMediaTyped=void 0;const n=De();let e=class extends n.Actor{constructor(a){super(a)}async run(a){if("handle"in a){const r=a;return{handle:await this.runHandle(r.handle,r.handleMediaType,a.context)}}if("mediaTypes"in a)return{mediaTypes:await this.getMediaTypes(a.context)};if("mediaTypeFormats"in a)return{mediaTypeFormats:await this.getMediaTypeFormats(a.context)};throw new Error("Either a handle, mediaTypes or mediaTypeFormats action needs to be provided")}async test(a){if("handle"in a){const r=a;return(await this.testHandle(r.handle,r.handleMediaType,a.context)).map(t=>({handle:t}))}return"mediaTypes"in a?(await this.testMediaType(a.context)).map(r=>({mediaTypes:r})):"mediaTypeFormats"in a?(await this.testMediaTypeFormats(a.context)).map(r=>({mediaTypeFormats:r})):(0,n.failTest)("Either a handle, mediaTypes or mediaTypeFormats action needs to be provided")}};return k2.ActorAbstractMediaTyped=e,k2}var z2={},hZ;function vIe(){if(hZ)return z2;hZ=1,Object.defineProperty(z2,"__esModule",{value:!0}),z2.ActorAbstractMediaTypedFixed=void 0;const n=De(),e=j2e();let u=class extends e.ActorAbstractMediaTyped{constructor(r){super(r);const t=this.priorityScale||this.priorityScale===0?this.priorityScale:1;if(this.mediaTypePriorities)for(const[i,[o,l]]of Object.entries(this.mediaTypePriorities).entries())this.mediaTypePriorities[o]=t*l;this.mediaTypePriorities=Object.freeze(this.mediaTypePriorities),this.mediaTypeFormats=Object.freeze(this.mediaTypeFormats)}async testHandle(r,t,i){return!t||!(t in this.mediaTypePriorities)?(0,n.failTest)(`Unrecognized media type: ${t}`):await this.testHandleChecked(r,i)}async testMediaType(r){return(0,n.passTestVoid)()}async getMediaTypes(r){return this.mediaTypePriorities}async testMediaTypeFormats(r){return(0,n.passTestVoid)()}async getMediaTypeFormats(r){return this.mediaTypeFormats}};return z2.ActorAbstractMediaTypedFixed=u,z2}var yZ;function E1(){return yZ||(yZ=1,(function(n){var e=mf&&mf.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=mf&&mf.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(j2e(),n),u(vIe(),n)})(mf)),mf}var mZ;function _Ie(){if(mZ)return H2;mZ=1,Object.defineProperty(H2,"__esModule",{value:!0}),H2.ActorQueryResultSerialize=void 0;const n=E1();let e=class extends n.ActorAbstractMediaTyped{constructor(a){super(a)}};return H2.ActorQueryResultSerialize=e,H2}var G2={},bZ;function TIe(){if(bZ)return G2;bZ=1,Object.defineProperty(G2,"__esModule",{value:!0}),G2.ActorQueryResultSerializeFixedMediaTypes=void 0;const n=E1(),e=De();let u=class extends n.ActorAbstractMediaTypedFixed{constructor(r){super(r)}async testHandleChecked(r,t){return(0,e.passTestVoid)()}};return G2.ActorQueryResultSerializeFixedMediaTypes=u,G2}var gZ;function $o(){return gZ||(gZ=1,(function(n){var e=yf&&yf.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=yf&&yf.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(_Ie(),n),u(TIe(),n)})(yf)),yf}var fM={exports:{}},pM={exports:{}},hM={},$2={},vZ;function wIe(){if(vZ)return $2;vZ=1,$2.byteLength=o,$2.toByteArray=s,$2.fromByteArray=f;for(var n=[],e=[],u=typeof Uint8Array<"u"?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=0,t=a.length;r<t;++r)n[r]=a[r],e[a.charCodeAt(r)]=r;e[45]=62,e[95]=63;function i(p){var h=p.length;if(h%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var g=p.indexOf("=");g===-1&&(g=h);var _=g===h?0:4-g%4;return[g,_]}function o(p){var h=i(p),g=h[0],_=h[1];return(g+_)*3/4-_}function l(p,h,g){return(h+g)*3/4-g}function s(p){var h,g=i(p),_=g[0],m=g[1],w=new u(l(p,_,m)),T=0,E=m>0?_-4:_,S;for(S=0;S<E;S+=4)h=e[p.charCodeAt(S)]<<18|e[p.charCodeAt(S+1)]<<12|e[p.charCodeAt(S+2)]<<6|e[p.charCodeAt(S+3)],w[T++]=h>>16&255,w[T++]=h>>8&255,w[T++]=h&255;return m===2&&(h=e[p.charCodeAt(S)]<<2|e[p.charCodeAt(S+1)]>>4,w[T++]=h&255),m===1&&(h=e[p.charCodeAt(S)]<<10|e[p.charCodeAt(S+1)]<<4|e[p.charCodeAt(S+2)]>>2,w[T++]=h>>8&255,w[T++]=h&255),w}function c(p){return n[p>>18&63]+n[p>>12&63]+n[p>>6&63]+n[p&63]}function d(p,h,g){for(var _,m=[],w=h;w<g;w+=3)_=(p[w]<<16&16711680)+(p[w+1]<<8&65280)+(p[w+2]&255),m.push(c(_));return m.join("")}function f(p){for(var h,g=p.length,_=g%3,m=[],w=16383,T=0,E=g-_;T<E;T+=w)m.push(d(p,T,T+w>E?E:T+w));return _===1?(h=p[g-1],m.push(n[h>>2]+n[h<<4&63]+"==")):_===2&&(h=(p[g-2]<<8)+p[g-1],m.push(n[h>>10]+n[h>>4&63]+n[h<<2&63]+"=")),m.join("")}return $2}var KI={};var _Z;function SIe(){return _Z||(_Z=1,KI.read=function(n,e,u,a,r){var t,i,o=r*8-a-1,l=(1<<o)-1,s=l>>1,c=-7,d=u?r-1:0,f=u?-1:1,p=n[e+d];for(d+=f,t=p&(1<<-c)-1,p>>=-c,c+=o;c>0;t=t*256+n[e+d],d+=f,c-=8);for(i=t&(1<<-c)-1,t>>=-c,c+=a;c>0;i=i*256+n[e+d],d+=f,c-=8);if(t===0)t=1-s;else{if(t===l)return i?NaN:(p?-1:1)*(1/0);i=i+Math.pow(2,a),t=t-s}return(p?-1:1)*i*Math.pow(2,t-a)},KI.write=function(n,e,u,a,r,t){var i,o,l,s=t*8-r-1,c=(1<<s)-1,d=c>>1,f=r===23?Math.pow(2,-24)-Math.pow(2,-77):0,p=a?0:t-1,h=a?1:-1,g=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(o=isNaN(e)?1:0,i=c):(i=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-i))<1&&(i--,l*=2),i+d>=1?e+=f/l:e+=f*Math.pow(2,1-d),e*l>=2&&(i++,l/=2),i+d>=c?(o=0,i=c):i+d>=1?(o=(e*l-1)*Math.pow(2,r),i=i+d):(o=e*Math.pow(2,d-1)*Math.pow(2,r),i=0));r>=8;n[u+p]=o&255,p+=h,o/=256,r-=8);for(i=i<<r|o,s+=r;s>0;n[u+p]=i&255,p+=h,i/=256,s-=8);n[u+p-h]|=g*128}),KI}var TZ;function Xo(){return TZ||(TZ=1,(function(n){const e=wIe(),u=SIe(),a=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;n.Buffer=o,n.SlowBuffer=w,n.INSPECT_MAX_BYTES=50;const r=2147483647;n.kMaxLength=r,o.TYPED_ARRAY_SUPPORT=t(),!o.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function t(){try{const oe=new Uint8Array(1),X={foo:function(){return 42}};return Object.setPrototypeOf(X,Uint8Array.prototype),Object.setPrototypeOf(oe,X),oe.foo()===42}catch{return!1}}Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}});function i(oe){if(oe>r)throw new RangeError('The value "'+oe+'" is invalid for option "size"');const X=new Uint8Array(oe);return Object.setPrototypeOf(X,o.prototype),X}function o(oe,X,Y){if(typeof oe=="number"){if(typeof X=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return d(oe)}return l(oe,X,Y)}o.poolSize=8192;function l(oe,X,Y){if(typeof oe=="string")return f(oe,X);if(ArrayBuffer.isView(oe))return h(oe);if(oe==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof oe);if(xe(oe,ArrayBuffer)||oe&&xe(oe.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(xe(oe,SharedArrayBuffer)||oe&&xe(oe.buffer,SharedArrayBuffer)))return g(oe,X,Y);if(typeof oe=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const he=oe.valueOf&&oe.valueOf();if(he!=null&&he!==oe)return o.from(he,X,Y);const ve=_(oe);if(ve)return ve;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof oe[Symbol.toPrimitive]=="function")return o.from(oe[Symbol.toPrimitive]("string"),X,Y);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof oe)}o.from=function(oe,X,Y){return l(oe,X,Y)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array);function s(oe){if(typeof oe!="number")throw new TypeError('"size" argument must be of type number');if(oe<0)throw new RangeError('The value "'+oe+'" is invalid for option "size"')}function c(oe,X,Y){return s(oe),oe<=0?i(oe):X!==void 0?typeof Y=="string"?i(oe).fill(X,Y):i(oe).fill(X):i(oe)}o.alloc=function(oe,X,Y){return c(oe,X,Y)};function d(oe){return s(oe),i(oe<0?0:m(oe)|0)}o.allocUnsafe=function(oe){return d(oe)},o.allocUnsafeSlow=function(oe){return d(oe)};function f(oe,X){if((typeof X!="string"||X==="")&&(X="utf8"),!o.isEncoding(X))throw new TypeError("Unknown encoding: "+X);const Y=T(oe,X)|0;let he=i(Y);const ve=he.write(oe,X);return ve!==Y&&(he=he.slice(0,ve)),he}function p(oe){const X=oe.length<0?0:m(oe.length)|0,Y=i(X);for(let he=0;he<X;he+=1)Y[he]=oe[he]&255;return Y}function h(oe){if(xe(oe,Uint8Array)){const X=new Uint8Array(oe);return g(X.buffer,X.byteOffset,X.byteLength)}return p(oe)}function g(oe,X,Y){if(X<0||oe.byteLength<X)throw new RangeError('"offset" is outside of buffer bounds');if(oe.byteLength<X+(Y||0))throw new RangeError('"length" is outside of buffer bounds');let he;return X===void 0&&Y===void 0?he=new Uint8Array(oe):Y===void 0?he=new Uint8Array(oe,X):he=new Uint8Array(oe,X,Y),Object.setPrototypeOf(he,o.prototype),he}function _(oe){if(o.isBuffer(oe)){const X=m(oe.length)|0,Y=i(X);return Y.length===0||oe.copy(Y,0,0,X),Y}if(oe.length!==void 0)return typeof oe.length!="number"||Ce(oe.length)?i(0):p(oe);if(oe.type==="Buffer"&&Array.isArray(oe.data))return p(oe.data)}function m(oe){if(oe>=r)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r.toString(16)+" bytes");return oe|0}function w(oe){return+oe!=oe&&(oe=0),o.alloc(+oe)}o.isBuffer=function(X){return X!=null&&X._isBuffer===!0&&X!==o.prototype},o.compare=function(X,Y){if(xe(X,Uint8Array)&&(X=o.from(X,X.offset,X.byteLength)),xe(Y,Uint8Array)&&(Y=o.from(Y,Y.offset,Y.byteLength)),!o.isBuffer(X)||!o.isBuffer(Y))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(X===Y)return 0;let he=X.length,ve=Y.length;for(let ye=0,re=Math.min(he,ve);ye<re;++ye)if(X[ye]!==Y[ye]){he=X[ye],ve=Y[ye];break}return he<ve?-1:ve<he?1:0},o.isEncoding=function(X){switch(String(X).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(X,Y){if(!Array.isArray(X))throw new TypeError('"list" argument must be an Array of Buffers');if(X.length===0)return o.alloc(0);let he;if(Y===void 0)for(Y=0,he=0;he<X.length;++he)Y+=X[he].length;const ve=o.allocUnsafe(Y);let ye=0;for(he=0;he<X.length;++he){let re=X[he];if(xe(re,Uint8Array))ye+re.length>ve.length?(o.isBuffer(re)||(re=o.from(re)),re.copy(ve,ye)):Uint8Array.prototype.set.call(ve,re,ye);else if(o.isBuffer(re))re.copy(ve,ye);else throw new TypeError('"list" argument must be an Array of Buffers');ye+=re.length}return ve};function T(oe,X){if(o.isBuffer(oe))return oe.length;if(ArrayBuffer.isView(oe)||xe(oe,ArrayBuffer))return oe.byteLength;if(typeof oe!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof oe);const Y=oe.length,he=arguments.length>2&&arguments[2]===!0;if(!he&&Y===0)return 0;let ve=!1;for(;;)switch(X){case"ascii":case"latin1":case"binary":return Y;case"utf8":case"utf-8":return $(oe).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Y*2;case"hex":return Y>>>1;case"base64":return ce(oe).length;default:if(ve)return he?-1:$(oe).length;X=(""+X).toLowerCase(),ve=!0}}o.byteLength=T;function E(oe,X,Y){let he=!1;if((X===void 0||X<0)&&(X=0),X>this.length||((Y===void 0||Y>this.length)&&(Y=this.length),Y<=0)||(Y>>>=0,X>>>=0,Y<=X))return"";for(oe||(oe="utf8");;)switch(oe){case"hex":return ne(this,X,Y);case"utf8":case"utf-8":return B(this,X,Y);case"ascii":return G(this,X,Y);case"latin1":case"binary":return J(this,X,Y);case"base64":return C(this,X,Y);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return W(this,X,Y);default:if(he)throw new TypeError("Unknown encoding: "+oe);oe=(oe+"").toLowerCase(),he=!0}}o.prototype._isBuffer=!0;function S(oe,X,Y){const he=oe[X];oe[X]=oe[Y],oe[Y]=he}o.prototype.swap16=function(){const X=this.length;if(X%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let Y=0;Y<X;Y+=2)S(this,Y,Y+1);return this},o.prototype.swap32=function(){const X=this.length;if(X%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let Y=0;Y<X;Y+=4)S(this,Y,Y+3),S(this,Y+1,Y+2);return this},o.prototype.swap64=function(){const X=this.length;if(X%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let Y=0;Y<X;Y+=8)S(this,Y,Y+7),S(this,Y+1,Y+6),S(this,Y+2,Y+5),S(this,Y+3,Y+4);return this},o.prototype.toString=function(){const X=this.length;return X===0?"":arguments.length===0?B(this,0,X):E.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(X){if(!o.isBuffer(X))throw new TypeError("Argument must be a Buffer");return this===X?!0:o.compare(this,X)===0},o.prototype.inspect=function(){let X="";const Y=n.INSPECT_MAX_BYTES;return X=this.toString("hex",0,Y).replace(/(.{2})/g,"$1 ").trim(),this.length>Y&&(X+=" ... "),"<Buffer "+X+">"},a&&(o.prototype[a]=o.prototype.inspect),o.prototype.compare=function(X,Y,he,ve,ye){if(xe(X,Uint8Array)&&(X=o.from(X,X.offset,X.byteLength)),!o.isBuffer(X))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof X);if(Y===void 0&&(Y=0),he===void 0&&(he=X?X.length:0),ve===void 0&&(ve=0),ye===void 0&&(ye=this.length),Y<0||he>X.length||ve<0||ye>this.length)throw new RangeError("out of range index");if(ve>=ye&&Y>=he)return 0;if(ve>=ye)return-1;if(Y>=he)return 1;if(Y>>>=0,he>>>=0,ve>>>=0,ye>>>=0,this===X)return 0;let re=ye-ve,Ie=he-Y;const Le=Math.min(re,Ie),Pe=this.slice(ve,ye),Fe=X.slice(Y,he);for(let R=0;R<Le;++R)if(Pe[R]!==Fe[R]){re=Pe[R],Ie=Fe[R];break}return re<Ie?-1:Ie<re?1:0};function N(oe,X,Y,he,ve){if(oe.length===0)return-1;if(typeof Y=="string"?(he=Y,Y=0):Y>2147483647?Y=2147483647:Y<-2147483648&&(Y=-2147483648),Y=+Y,Ce(Y)&&(Y=ve?0:oe.length-1),Y<0&&(Y=oe.length+Y),Y>=oe.length){if(ve)return-1;Y=oe.length-1}else if(Y<0)if(ve)Y=0;else return-1;if(typeof X=="string"&&(X=o.from(X,he)),o.isBuffer(X))return X.length===0?-1:j(oe,X,Y,he,ve);if(typeof X=="number")return X=X&255,typeof Uint8Array.prototype.indexOf=="function"?ve?Uint8Array.prototype.indexOf.call(oe,X,Y):Uint8Array.prototype.lastIndexOf.call(oe,X,Y):j(oe,[X],Y,he,ve);throw new TypeError("val must be string, number or Buffer")}function j(oe,X,Y,he,ve){let ye=1,re=oe.length,Ie=X.length;if(he!==void 0&&(he=String(he).toLowerCase(),he==="ucs2"||he==="ucs-2"||he==="utf16le"||he==="utf-16le")){if(oe.length<2||X.length<2)return-1;ye=2,re/=2,Ie/=2,Y/=2}function Le(Fe,R){return ye===1?Fe[R]:Fe.readUInt16BE(R*ye)}let Pe;if(ve){let Fe=-1;for(Pe=Y;Pe<re;Pe++)if(Le(oe,Pe)===Le(X,Fe===-1?0:Pe-Fe)){if(Fe===-1&&(Fe=Pe),Pe-Fe+1===Ie)return Fe*ye}else Fe!==-1&&(Pe-=Pe-Fe),Fe=-1}else for(Y+Ie>re&&(Y=re-Ie),Pe=Y;Pe>=0;Pe--){let Fe=!0;for(let R=0;R<Ie;R++)if(Le(oe,Pe+R)!==Le(X,R)){Fe=!1;break}if(Fe)return Pe}return-1}o.prototype.includes=function(X,Y,he){return this.indexOf(X,Y,he)!==-1},o.prototype.indexOf=function(X,Y,he){return N(this,X,Y,he,!0)},o.prototype.lastIndexOf=function(X,Y,he){return N(this,X,Y,he,!1)};function q(oe,X,Y,he){Y=Number(Y)||0;const ve=oe.length-Y;he?(he=Number(he),he>ve&&(he=ve)):he=ve;const ye=X.length;he>ye/2&&(he=ye/2);let re;for(re=0;re<he;++re){const Ie=parseInt(X.substr(re*2,2),16);if(Ce(Ie))return re;oe[Y+re]=Ie}return re}function O(oe,X,Y,he){return Se($(X,oe.length-Y),oe,Y,he)}function I(oe,X,Y,he){return Se(ue(X),oe,Y,he)}function A(oe,X,Y,he){return Se(ce(X),oe,Y,he)}function P(oe,X,Y,he){return Se(ae(X,oe.length-Y),oe,Y,he)}o.prototype.write=function(X,Y,he,ve){if(Y===void 0)ve="utf8",he=this.length,Y=0;else if(he===void 0&&typeof Y=="string")ve=Y,he=this.length,Y=0;else if(isFinite(Y))Y=Y>>>0,isFinite(he)?(he=he>>>0,ve===void 0&&(ve="utf8")):(ve=he,he=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const ye=this.length-Y;if((he===void 0||he>ye)&&(he=ye),X.length>0&&(he<0||Y<0)||Y>this.length)throw new RangeError("Attempt to write outside buffer bounds");ve||(ve="utf8");let re=!1;for(;;)switch(ve){case"hex":return q(this,X,Y,he);case"utf8":case"utf-8":return O(this,X,Y,he);case"ascii":case"latin1":case"binary":return I(this,X,Y,he);case"base64":return A(this,X,Y,he);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,X,Y,he);default:if(re)throw new TypeError("Unknown encoding: "+ve);ve=(""+ve).toLowerCase(),re=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function C(oe,X,Y){return X===0&&Y===oe.length?e.fromByteArray(oe):e.fromByteArray(oe.slice(X,Y))}function B(oe,X,Y){Y=Math.min(oe.length,Y);const he=[];let ve=X;for(;ve<Y;){const ye=oe[ve];let re=null,Ie=ye>239?4:ye>223?3:ye>191?2:1;if(ve+Ie<=Y){let Le,Pe,Fe,R;switch(Ie){case 1:ye<128&&(re=ye);break;case 2:Le=oe[ve+1],(Le&192)===128&&(R=(ye&31)<<6|Le&63,R>127&&(re=R));break;case 3:Le=oe[ve+1],Pe=oe[ve+2],(Le&192)===128&&(Pe&192)===128&&(R=(ye&15)<<12|(Le&63)<<6|Pe&63,R>2047&&(R<55296||R>57343)&&(re=R));break;case 4:Le=oe[ve+1],Pe=oe[ve+2],Fe=oe[ve+3],(Le&192)===128&&(Pe&192)===128&&(Fe&192)===128&&(R=(ye&15)<<18|(Le&63)<<12|(Pe&63)<<6|Fe&63,R>65535&&R<1114112&&(re=R))}}re===null?(re=65533,Ie=1):re>65535&&(re-=65536,he.push(re>>>10&1023|55296),re=56320|re&1023),he.push(re),ve+=Ie}return U(he)}const V=4096;function U(oe){const X=oe.length;if(X<=V)return String.fromCharCode.apply(String,oe);let Y="",he=0;for(;he<X;)Y+=String.fromCharCode.apply(String,oe.slice(he,he+=V));return Y}function G(oe,X,Y){let he="";Y=Math.min(oe.length,Y);for(let ve=X;ve<Y;++ve)he+=String.fromCharCode(oe[ve]&127);return he}function J(oe,X,Y){let he="";Y=Math.min(oe.length,Y);for(let ve=X;ve<Y;++ve)he+=String.fromCharCode(oe[ve]);return he}function ne(oe,X,Y){const he=oe.length;(!X||X<0)&&(X=0),(!Y||Y<0||Y>he)&&(Y=he);let ve="";for(let ye=X;ye<Y;++ye)ve+=He[oe[ye]];return ve}function W(oe,X,Y){const he=oe.slice(X,Y);let ve="";for(let ye=0;ye<he.length-1;ye+=2)ve+=String.fromCharCode(he[ye]+he[ye+1]*256);return ve}o.prototype.slice=function(X,Y){const he=this.length;X=~~X,Y=Y===void 0?he:~~Y,X<0?(X+=he,X<0&&(X=0)):X>he&&(X=he),Y<0?(Y+=he,Y<0&&(Y=0)):Y>he&&(Y=he),Y<X&&(Y=X);const ve=this.subarray(X,Y);return Object.setPrototypeOf(ve,o.prototype),ve};function ee(oe,X,Y){if(oe%1!==0||oe<0)throw new RangeError("offset is not uint");if(oe+X>Y)throw new RangeError("Trying to access beyond buffer length")}o.prototype.readUintLE=o.prototype.readUIntLE=function(X,Y,he){X=X>>>0,Y=Y>>>0,he||ee(X,Y,this.length);let ve=this[X],ye=1,re=0;for(;++re<Y&&(ye*=256);)ve+=this[X+re]*ye;return ve},o.prototype.readUintBE=o.prototype.readUIntBE=function(X,Y,he){X=X>>>0,Y=Y>>>0,he||ee(X,Y,this.length);let ve=this[X+--Y],ye=1;for(;Y>0&&(ye*=256);)ve+=this[X+--Y]*ye;return ve},o.prototype.readUint8=o.prototype.readUInt8=function(X,Y){return X=X>>>0,Y||ee(X,1,this.length),this[X]},o.prototype.readUint16LE=o.prototype.readUInt16LE=function(X,Y){return X=X>>>0,Y||ee(X,2,this.length),this[X]|this[X+1]<<8},o.prototype.readUint16BE=o.prototype.readUInt16BE=function(X,Y){return X=X>>>0,Y||ee(X,2,this.length),this[X]<<8|this[X+1]},o.prototype.readUint32LE=o.prototype.readUInt32LE=function(X,Y){return X=X>>>0,Y||ee(X,4,this.length),(this[X]|this[X+1]<<8|this[X+2]<<16)+this[X+3]*16777216},o.prototype.readUint32BE=o.prototype.readUInt32BE=function(X,Y){return X=X>>>0,Y||ee(X,4,this.length),this[X]*16777216+(this[X+1]<<16|this[X+2]<<8|this[X+3])},o.prototype.readBigUInt64LE=Je(function(X){X=X>>>0,D(X,"offset");const Y=this[X],he=this[X+7];(Y===void 0||he===void 0)&&L(X,this.length-8);const ve=Y+this[++X]*2**8+this[++X]*2**16+this[++X]*2**24,ye=this[++X]+this[++X]*2**8+this[++X]*2**16+he*2**24;return BigInt(ve)+(BigInt(ye)<<BigInt(32))}),o.prototype.readBigUInt64BE=Je(function(X){X=X>>>0,D(X,"offset");const Y=this[X],he=this[X+7];(Y===void 0||he===void 0)&&L(X,this.length-8);const ve=Y*2**24+this[++X]*2**16+this[++X]*2**8+this[++X],ye=this[++X]*2**24+this[++X]*2**16+this[++X]*2**8+he;return(BigInt(ve)<<BigInt(32))+BigInt(ye)}),o.prototype.readIntLE=function(X,Y,he){X=X>>>0,Y=Y>>>0,he||ee(X,Y,this.length);let ve=this[X],ye=1,re=0;for(;++re<Y&&(ye*=256);)ve+=this[X+re]*ye;return ye*=128,ve>=ye&&(ve-=Math.pow(2,8*Y)),ve},o.prototype.readIntBE=function(X,Y,he){X=X>>>0,Y=Y>>>0,he||ee(X,Y,this.length);let ve=Y,ye=1,re=this[X+--ve];for(;ve>0&&(ye*=256);)re+=this[X+--ve]*ye;return ye*=128,re>=ye&&(re-=Math.pow(2,8*Y)),re},o.prototype.readInt8=function(X,Y){return X=X>>>0,Y||ee(X,1,this.length),this[X]&128?(255-this[X]+1)*-1:this[X]},o.prototype.readInt16LE=function(X,Y){X=X>>>0,Y||ee(X,2,this.length);const he=this[X]|this[X+1]<<8;return he&32768?he|4294901760:he},o.prototype.readInt16BE=function(X,Y){X=X>>>0,Y||ee(X,2,this.length);const he=this[X+1]|this[X]<<8;return he&32768?he|4294901760:he},o.prototype.readInt32LE=function(X,Y){return X=X>>>0,Y||ee(X,4,this.length),this[X]|this[X+1]<<8|this[X+2]<<16|this[X+3]<<24},o.prototype.readInt32BE=function(X,Y){return X=X>>>0,Y||ee(X,4,this.length),this[X]<<24|this[X+1]<<16|this[X+2]<<8|this[X+3]},o.prototype.readBigInt64LE=Je(function(X){X=X>>>0,D(X,"offset");const Y=this[X],he=this[X+7];(Y===void 0||he===void 0)&&L(X,this.length-8);const ve=this[X+4]+this[X+5]*2**8+this[X+6]*2**16+(he<<24);return(BigInt(ve)<<BigInt(32))+BigInt(Y+this[++X]*2**8+this[++X]*2**16+this[++X]*2**24)}),o.prototype.readBigInt64BE=Je(function(X){X=X>>>0,D(X,"offset");const Y=this[X],he=this[X+7];(Y===void 0||he===void 0)&&L(X,this.length-8);const ve=(Y<<24)+this[++X]*2**16+this[++X]*2**8+this[++X];return(BigInt(ve)<<BigInt(32))+BigInt(this[++X]*2**24+this[++X]*2**16+this[++X]*2**8+he)}),o.prototype.readFloatLE=function(X,Y){return X=X>>>0,Y||ee(X,4,this.length),u.read(this,X,!0,23,4)},o.prototype.readFloatBE=function(X,Y){return X=X>>>0,Y||ee(X,4,this.length),u.read(this,X,!1,23,4)},o.prototype.readDoubleLE=function(X,Y){return X=X>>>0,Y||ee(X,8,this.length),u.read(this,X,!0,52,8)},o.prototype.readDoubleBE=function(X,Y){return X=X>>>0,Y||ee(X,8,this.length),u.read(this,X,!1,52,8)};function se(oe,X,Y,he,ve,ye){if(!o.isBuffer(oe))throw new TypeError('"buffer" argument must be a Buffer instance');if(X>ve||X<ye)throw new RangeError('"value" argument is out of bounds');if(Y+he>oe.length)throw new RangeError("Index out of range")}o.prototype.writeUintLE=o.prototype.writeUIntLE=function(X,Y,he,ve){if(X=+X,Y=Y>>>0,he=he>>>0,!ve){const Ie=Math.pow(2,8*he)-1;se(this,X,Y,he,Ie,0)}let ye=1,re=0;for(this[Y]=X&255;++re<he&&(ye*=256);)this[Y+re]=X/ye&255;return Y+he},o.prototype.writeUintBE=o.prototype.writeUIntBE=function(X,Y,he,ve){if(X=+X,Y=Y>>>0,he=he>>>0,!ve){const Ie=Math.pow(2,8*he)-1;se(this,X,Y,he,Ie,0)}let ye=he-1,re=1;for(this[Y+ye]=X&255;--ye>=0&&(re*=256);)this[Y+ye]=X/re&255;return Y+he},o.prototype.writeUint8=o.prototype.writeUInt8=function(X,Y,he){return X=+X,Y=Y>>>0,he||se(this,X,Y,1,255,0),this[Y]=X&255,Y+1},o.prototype.writeUint16LE=o.prototype.writeUInt16LE=function(X,Y,he){return X=+X,Y=Y>>>0,he||se(this,X,Y,2,65535,0),this[Y]=X&255,this[Y+1]=X>>>8,Y+2},o.prototype.writeUint16BE=o.prototype.writeUInt16BE=function(X,Y,he){return X=+X,Y=Y>>>0,he||se(this,X,Y,2,65535,0),this[Y]=X>>>8,this[Y+1]=X&255,Y+2},o.prototype.writeUint32LE=o.prototype.writeUInt32LE=function(X,Y,he){return X=+X,Y=Y>>>0,he||se(this,X,Y,4,4294967295,0),this[Y+3]=X>>>24,this[Y+2]=X>>>16,this[Y+1]=X>>>8,this[Y]=X&255,Y+4},o.prototype.writeUint32BE=o.prototype.writeUInt32BE=function(X,Y,he){return X=+X,Y=Y>>>0,he||se(this,X,Y,4,4294967295,0),this[Y]=X>>>24,this[Y+1]=X>>>16,this[Y+2]=X>>>8,this[Y+3]=X&255,Y+4};function pe(oe,X,Y,he,ve){F(X,he,ve,oe,Y,7);let ye=Number(X&BigInt(4294967295));oe[Y++]=ye,ye=ye>>8,oe[Y++]=ye,ye=ye>>8,oe[Y++]=ye,ye=ye>>8,oe[Y++]=ye;let re=Number(X>>BigInt(32)&BigInt(4294967295));return oe[Y++]=re,re=re>>8,oe[Y++]=re,re=re>>8,oe[Y++]=re,re=re>>8,oe[Y++]=re,Y}function le(oe,X,Y,he,ve){F(X,he,ve,oe,Y,7);let ye=Number(X&BigInt(4294967295));oe[Y+7]=ye,ye=ye>>8,oe[Y+6]=ye,ye=ye>>8,oe[Y+5]=ye,ye=ye>>8,oe[Y+4]=ye;let re=Number(X>>BigInt(32)&BigInt(4294967295));return oe[Y+3]=re,re=re>>8,oe[Y+2]=re,re=re>>8,oe[Y+1]=re,re=re>>8,oe[Y]=re,Y+8}o.prototype.writeBigUInt64LE=Je(function(X,Y=0){return pe(this,X,Y,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeBigUInt64BE=Je(function(X,Y=0){return le(this,X,Y,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeIntLE=function(X,Y,he,ve){if(X=+X,Y=Y>>>0,!ve){const Le=Math.pow(2,8*he-1);se(this,X,Y,he,Le-1,-Le)}let ye=0,re=1,Ie=0;for(this[Y]=X&255;++ye<he&&(re*=256);)X<0&&Ie===0&&this[Y+ye-1]!==0&&(Ie=1),this[Y+ye]=(X/re>>0)-Ie&255;return Y+he},o.prototype.writeIntBE=function(X,Y,he,ve){if(X=+X,Y=Y>>>0,!ve){const Le=Math.pow(2,8*he-1);se(this,X,Y,he,Le-1,-Le)}let ye=he-1,re=1,Ie=0;for(this[Y+ye]=X&255;--ye>=0&&(re*=256);)X<0&&Ie===0&&this[Y+ye+1]!==0&&(Ie=1),this[Y+ye]=(X/re>>0)-Ie&255;return Y+he},o.prototype.writeInt8=function(X,Y,he){return X=+X,Y=Y>>>0,he||se(this,X,Y,1,127,-128),X<0&&(X=255+X+1),this[Y]=X&255,Y+1},o.prototype.writeInt16LE=function(X,Y,he){return X=+X,Y=Y>>>0,he||se(this,X,Y,2,32767,-32768),this[Y]=X&255,this[Y+1]=X>>>8,Y+2},o.prototype.writeInt16BE=function(X,Y,he){return X=+X,Y=Y>>>0,he||se(this,X,Y,2,32767,-32768),this[Y]=X>>>8,this[Y+1]=X&255,Y+2},o.prototype.writeInt32LE=function(X,Y,he){return X=+X,Y=Y>>>0,he||se(this,X,Y,4,2147483647,-2147483648),this[Y]=X&255,this[Y+1]=X>>>8,this[Y+2]=X>>>16,this[Y+3]=X>>>24,Y+4},o.prototype.writeInt32BE=function(X,Y,he){return X=+X,Y=Y>>>0,he||se(this,X,Y,4,2147483647,-2147483648),X<0&&(X=4294967295+X+1),this[Y]=X>>>24,this[Y+1]=X>>>16,this[Y+2]=X>>>8,this[Y+3]=X&255,Y+4},o.prototype.writeBigInt64LE=Je(function(X,Y=0){return pe(this,X,Y,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),o.prototype.writeBigInt64BE=Je(function(X,Y=0){return le(this,X,Y,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Ee(oe,X,Y,he,ve,ye){if(Y+he>oe.length)throw new RangeError("Index out of range");if(Y<0)throw new RangeError("Index out of range")}function Ae(oe,X,Y,he,ve){return X=+X,Y=Y>>>0,ve||Ee(oe,X,Y,4),u.write(oe,X,Y,he,23,4),Y+4}o.prototype.writeFloatLE=function(X,Y,he){return Ae(this,X,Y,!0,he)},o.prototype.writeFloatBE=function(X,Y,he){return Ae(this,X,Y,!1,he)};function Ne(oe,X,Y,he,ve){return X=+X,Y=Y>>>0,ve||Ee(oe,X,Y,8),u.write(oe,X,Y,he,52,8),Y+8}o.prototype.writeDoubleLE=function(X,Y,he){return Ne(this,X,Y,!0,he)},o.prototype.writeDoubleBE=function(X,Y,he){return Ne(this,X,Y,!1,he)},o.prototype.copy=function(X,Y,he,ve){if(!o.isBuffer(X))throw new TypeError("argument should be a Buffer");if(he||(he=0),!ve&&ve!==0&&(ve=this.length),Y>=X.length&&(Y=X.length),Y||(Y=0),ve>0&&ve<he&&(ve=he),ve===he||X.length===0||this.length===0)return 0;if(Y<0)throw new RangeError("targetStart out of bounds");if(he<0||he>=this.length)throw new RangeError("Index out of range");if(ve<0)throw new RangeError("sourceEnd out of bounds");ve>this.length&&(ve=this.length),X.length-Y<ve-he&&(ve=X.length-Y+he);const ye=ve-he;return this===X&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(Y,he,ve):Uint8Array.prototype.set.call(X,this.subarray(he,ve),Y),ye},o.prototype.fill=function(X,Y,he,ve){if(typeof X=="string"){if(typeof Y=="string"?(ve=Y,Y=0,he=this.length):typeof he=="string"&&(ve=he,he=this.length),ve!==void 0&&typeof ve!="string")throw new TypeError("encoding must be a string");if(typeof ve=="string"&&!o.isEncoding(ve))throw new TypeError("Unknown encoding: "+ve);if(X.length===1){const re=X.charCodeAt(0);(ve==="utf8"&&re<128||ve==="latin1")&&(X=re)}}else typeof X=="number"?X=X&255:typeof X=="boolean"&&(X=Number(X));if(Y<0||this.length<Y||this.length<he)throw new RangeError("Out of range index");if(he<=Y)return this;Y=Y>>>0,he=he===void 0?this.length:he>>>0,X||(X=0);let ye;if(typeof X=="number")for(ye=Y;ye<he;++ye)this[ye]=X;else{const re=o.isBuffer(X)?X:o.from(X,ve),Ie=re.length;if(Ie===0)throw new TypeError('The value "'+X+'" is invalid for argument "value"');for(ye=0;ye<he-Y;++ye)this[ye+Y]=re[ye%Ie]}return this};const Oe={};function be(oe,X,Y){Oe[oe]=class extends Y{constructor(){super(),Object.defineProperty(this,"message",{value:X.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${oe}]`,this.stack,delete this.name}get code(){return oe}set code(ve){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:ve,writable:!0})}toString(){return`${this.name} [${oe}]: ${this.message}`}}}be("ERR_BUFFER_OUT_OF_BOUNDS",function(oe){return oe?`${oe} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),be("ERR_INVALID_ARG_TYPE",function(oe,X){return`The "${oe}" argument must be of type number. Received type ${typeof X}`},TypeError),be("ERR_OUT_OF_RANGE",function(oe,X,Y){let he=`The value of "${oe}" is out of range.`,ve=Y;return Number.isInteger(Y)&&Math.abs(Y)>2**32?ve=te(String(Y)):typeof Y=="bigint"&&(ve=String(Y),(Y>BigInt(2)**BigInt(32)||Y<-(BigInt(2)**BigInt(32)))&&(ve=te(ve)),ve+="n"),he+=` It must be ${X}. Received ${ve}`,he},RangeError);function te(oe){let X="",Y=oe.length;const he=oe[0]==="-"?1:0;for(;Y>=he+4;Y-=3)X=`_${oe.slice(Y-3,Y)}${X}`;return`${oe.slice(0,Y)}${X}`}function v(oe,X,Y){D(X,"offset"),(oe[X]===void 0||oe[X+Y]===void 0)&&L(X,oe.length-(Y+1))}function F(oe,X,Y,he,ve,ye){if(oe>Y||oe<X){const re=typeof X=="bigint"?"n":"";let Ie;throw X===0||X===BigInt(0)?Ie=`>= 0${re} and < 2${re} ** ${(ye+1)*8}${re}`:Ie=`>= -(2${re} ** ${(ye+1)*8-1}${re}) and < 2 ** ${(ye+1)*8-1}${re}`,new Oe.ERR_OUT_OF_RANGE("value",Ie,oe)}v(he,ve,ye)}function D(oe,X){if(typeof oe!="number")throw new Oe.ERR_INVALID_ARG_TYPE(X,"number",oe)}function L(oe,X,Y){throw Math.floor(oe)!==oe?(D(oe,Y),new Oe.ERR_OUT_OF_RANGE("offset","an integer",oe)):X<0?new Oe.ERR_BUFFER_OUT_OF_BOUNDS:new Oe.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${X}`,oe)}const H=/[^+/0-9A-Za-z-_]/g;function Z(oe){if(oe=oe.split("=")[0],oe=oe.trim().replace(H,""),oe.length<2)return"";for(;oe.length%4!==0;)oe=oe+"=";return oe}function $(oe,X){X=X||1/0;let Y;const he=oe.length;let ve=null;const ye=[];for(let re=0;re<he;++re){if(Y=oe.charCodeAt(re),Y>55295&&Y<57344){if(!ve){if(Y>56319){(X-=3)>-1&&ye.push(239,191,189);continue}else if(re+1===he){(X-=3)>-1&&ye.push(239,191,189);continue}ve=Y;continue}if(Y<56320){(X-=3)>-1&&ye.push(239,191,189),ve=Y;continue}Y=(ve-55296<<10|Y-56320)+65536}else ve&&(X-=3)>-1&&ye.push(239,191,189);if(ve=null,Y<128){if((X-=1)<0)break;ye.push(Y)}else if(Y<2048){if((X-=2)<0)break;ye.push(Y>>6|192,Y&63|128)}else if(Y<65536){if((X-=3)<0)break;ye.push(Y>>12|224,Y>>6&63|128,Y&63|128)}else if(Y<1114112){if((X-=4)<0)break;ye.push(Y>>18|240,Y>>12&63|128,Y>>6&63|128,Y&63|128)}else throw new Error("Invalid code point")}return ye}function ue(oe){const X=[];for(let Y=0;Y<oe.length;++Y)X.push(oe.charCodeAt(Y)&255);return X}function ae(oe,X){let Y,he,ve;const ye=[];for(let re=0;re<oe.length&&!((X-=2)<0);++re)Y=oe.charCodeAt(re),he=Y>>8,ve=Y%256,ye.push(ve),ye.push(he);return ye}function ce(oe){return e.toByteArray(Z(oe))}function Se(oe,X,Y,he){let ve;for(ve=0;ve<he&&!(ve+Y>=X.length||ve>=oe.length);++ve)X[ve+Y]=oe[ve];return ve}function xe(oe,X){return oe instanceof X||oe!=null&&oe.constructor!=null&&oe.constructor.name!=null&&oe.constructor.name===X.name}function Ce(oe){return oe!==oe}const He=(function(){const oe="0123456789abcdef",X=new Array(256);for(let Y=0;Y<16;++Y){const he=Y*16;for(let ve=0;ve<16;++ve)X[he+ve]=oe[Y]+oe[ve]}return X})();function Je(oe){return typeof BigInt>"u"?Ye:oe}function Ye(){throw new Error("BigInt not supported")}})(hM)),hM}var yM,wZ;function An(){if(wZ)return yM;wZ=1;class n extends Error{constructor(u){if(!Array.isArray(u))throw new TypeError(`Expected input to be an Array, got ${typeof u}`);let a="";for(let r=0;r<u.length;r++)a+=`    ${u[r].stack}
`;super(a),this.name="AggregateError",this.errors=u}}return yM={AggregateError:n,ArrayIsArray(e){return Array.isArray(e)},ArrayPrototypeIncludes(e,u){return e.includes(u)},ArrayPrototypeIndexOf(e,u){return e.indexOf(u)},ArrayPrototypeJoin(e,u){return e.join(u)},ArrayPrototypeMap(e,u){return e.map(u)},ArrayPrototypePop(e,u){return e.pop(u)},ArrayPrototypePush(e,u){return e.push(u)},ArrayPrototypeSlice(e,u,a){return e.slice(u,a)},Error,FunctionPrototypeCall(e,u,...a){return e.call(u,...a)},FunctionPrototypeSymbolHasInstance(e,u){return Function.prototype[Symbol.hasInstance].call(e,u)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(e,u){return Object.defineProperties(e,u)},ObjectDefineProperty(e,u,a){return Object.defineProperty(e,u,a)},ObjectGetOwnPropertyDescriptor(e,u){return Object.getOwnPropertyDescriptor(e,u)},ObjectKeys(e){return Object.keys(e)},ObjectSetPrototypeOf(e,u){return Object.setPrototypeOf(e,u)},Promise,PromisePrototypeCatch(e,u){return e.catch(u)},PromisePrototypeThen(e,u,a){return e.then(u,a)},PromiseReject(e){return Promise.reject(e)},PromiseResolve(e){return Promise.resolve(e)},ReflectApply:Reflect.apply,RegExpPrototypeTest(e,u){return e.test(u)},SafeSet:Set,String,StringPrototypeSlice(e,u,a){return e.slice(u,a)},StringPrototypeToLowerCase(e){return e.toLowerCase()},StringPrototypeToUpperCase(e){return e.toUpperCase()},StringPrototypeTrim(e){return e.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(e,u,a){return e.set(u,a)},Boolean,Uint8Array},yM}var mM={exports:{}},bM,SZ;function M2e(){return SZ||(SZ=1,bM={format(n,...e){return n.replace(/%([sdifj])/g,function(...[u,a]){const r=e.shift();return a==="f"?r.toFixed(6):a==="j"?JSON.stringify(r):a==="s"&&typeof r=="object"?`${r.constructor!==Object?r.constructor.name:""} {}`.trim():r.toString()})},inspect(n){switch(typeof n){case"string":if(n.includes("'"))if(n.includes('"')){if(!n.includes("`")&&!n.includes("${"))return`\`${n}\``}else return`"${n}"`;return`'${n}'`;case"number":return isNaN(n)?"NaN":Object.is(n,-0)?String(n):n;case"bigint":return`${String(n)}n`;case"boolean":case"undefined":return String(n);case"object":return"{}"}}}),bM}var gM,EZ;function ti(){if(EZ)return gM;EZ=1;const{format:n,inspect:e}=M2e(),{AggregateError:u}=An(),a=globalThis.AggregateError||u,r=Symbol("kIsNodeError"),t=["string","function","number","object","Function","Object","boolean","bigint","symbol"],i=/^([A-Z][a-z0-9]*)+$/,o="__node_internal_",l={};function s(_,m){if(!_)throw new l.ERR_INTERNAL_ASSERTION(m)}function c(_){let m="",w=_.length;const T=_[0]==="-"?1:0;for(;w>=T+4;w-=3)m=`_${_.slice(w-3,w)}${m}`;return`${_.slice(0,w)}${m}`}function d(_,m,w){if(typeof m=="function")return s(m.length<=w.length,`Code: ${_}; The provided arguments length (${w.length}) does not match the required ones (${m.length}).`),m(...w);const T=(m.match(/%[dfijoOs]/g)||[]).length;return s(T===w.length,`Code: ${_}; The provided arguments length (${w.length}) does not match the required ones (${T}).`),w.length===0?m:n(m,...w)}function f(_,m,w){w||(w=Error);class T extends w{constructor(...S){super(d(_,m,S))}toString(){return`${this.name} [${_}]: ${this.message}`}}Object.defineProperties(T.prototype,{name:{value:w.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${_}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),T.prototype.code=_,T.prototype[r]=!0,l[_]=T}function p(_){const m=o+_.name;return Object.defineProperty(_,"name",{value:m}),_}function h(_,m){if(_&&m&&_!==m){if(Array.isArray(m.errors))return m.errors.push(_),m;const w=new a([m,_],m.message);return w.code=m.code,w}return _||m}class g extends Error{constructor(m="The operation was aborted",w=void 0){if(w!==void 0&&typeof w!="object")throw new l.ERR_INVALID_ARG_TYPE("options","Object",w);super(m,w),this.code="ABORT_ERR",this.name="AbortError"}}return f("ERR_ASSERTION","%s",Error),f("ERR_INVALID_ARG_TYPE",(_,m,w)=>{s(typeof _=="string","'name' must be a string"),Array.isArray(m)||(m=[m]);let T="The ";_.endsWith(" argument")?T+=`${_} `:T+=`"${_}" ${_.includes(".")?"property":"argument"} `,T+="must be ";const E=[],S=[],N=[];for(const q of m)s(typeof q=="string","All expected entries have to be of type string"),t.includes(q)?E.push(q.toLowerCase()):i.test(q)?S.push(q):(s(q!=="object",'The value "object" should be written as "Object"'),N.push(q));if(S.length>0){const q=E.indexOf("object");q!==-1&&(E.splice(E,q,1),S.push("Object"))}if(E.length>0){switch(E.length){case 1:T+=`of type ${E[0]}`;break;case 2:T+=`one of type ${E[0]} or ${E[1]}`;break;default:{const q=E.pop();T+=`one of type ${E.join(", ")}, or ${q}`}}(S.length>0||N.length>0)&&(T+=" or ")}if(S.length>0){switch(S.length){case 1:T+=`an instance of ${S[0]}`;break;case 2:T+=`an instance of ${S[0]} or ${S[1]}`;break;default:{const q=S.pop();T+=`an instance of ${S.join(", ")}, or ${q}`}}N.length>0&&(T+=" or ")}switch(N.length){case 0:break;case 1:N[0].toLowerCase()!==N[0]&&(T+="an "),T+=`${N[0]}`;break;case 2:T+=`one of ${N[0]} or ${N[1]}`;break;default:{const q=N.pop();T+=`one of ${N.join(", ")}, or ${q}`}}if(w==null)T+=`. Received ${w}`;else if(typeof w=="function"&&w.name)T+=`. Received function ${w.name}`;else if(typeof w=="object"){var j;if((j=w.constructor)!==null&&j!==void 0&&j.name)T+=`. Received an instance of ${w.constructor.name}`;else{const q=e(w,{depth:-1});T+=`. Received ${q}`}}else{let q=e(w,{colors:!1});q.length>25&&(q=`${q.slice(0,25)}...`),T+=`. Received type ${typeof w} (${q})`}return T},TypeError),f("ERR_INVALID_ARG_VALUE",(_,m,w="is invalid")=>{let T=e(m);return T.length>128&&(T=T.slice(0,128)+"..."),`The ${_.includes(".")?"property":"argument"} '${_}' ${w}. Received ${T}`},TypeError),f("ERR_INVALID_RETURN_VALUE",(_,m,w)=>{var T;const E=w!=null&&(T=w.constructor)!==null&&T!==void 0&&T.name?`instance of ${w.constructor.name}`:`type ${typeof w}`;return`Expected ${_} to be returned from the "${m}" function but got ${E}.`},TypeError),f("ERR_MISSING_ARGS",(..._)=>{s(_.length>0,"At least one arg needs to be specified");let m;const w=_.length;switch(_=(Array.isArray(_)?_:[_]).map(T=>`"${T}"`).join(" or "),w){case 1:m+=`The ${_[0]} argument`;break;case 2:m+=`The ${_[0]} and ${_[1]} arguments`;break;default:{const T=_.pop();m+=`The ${_.join(", ")}, and ${T} arguments`}break}return`${m} must be specified`},TypeError),f("ERR_OUT_OF_RANGE",(_,m,w)=>{s(m,'Missing "range" argument');let T;if(Number.isInteger(w)&&Math.abs(w)>2**32)T=c(String(w));else if(typeof w=="bigint"){T=String(w);const E=BigInt(2)**BigInt(32);(w>E||w<-E)&&(T=c(T)),T+="n"}else T=e(w);return`The value of "${_}" is out of range. It must be ${m}. Received ${T}`},RangeError),f("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),f("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),f("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),f("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),f("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),f("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),f("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),f("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),f("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),f("ERR_STREAM_WRITE_AFTER_END","write after end",Error),f("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),gM={AbortError:g,aggregateTwoErrors:p(h),hideStackFrames:p,codes:l},gM}var X2={exports:{}},AZ;function b4(){if(AZ)return X2.exports;AZ=1;const{AbortController:n,AbortSignal:e}=typeof self<"u"?self:typeof window<"u"?window:void 0;return X2.exports=n,X2.exports.AbortSignal=e,X2.exports.default=n,X2.exports}var OZ;function mi(){return OZ||(OZ=1,(function(n){const e=Xo(),{format:u,inspect:a}=M2e(),{codes:{ERR_INVALID_ARG_TYPE:r}}=ti(),{kResistStopPropagation:t,AggregateError:i,SymbolDispose:o}=An(),l=globalThis.AbortSignal||b4().AbortSignal,s=globalThis.AbortController||b4().AbortController,c=Object.getPrototypeOf(async function(){}).constructor,d=globalThis.Blob||e.Blob,f=typeof d<"u"?function(_){return _ instanceof d}:function(_){return!1},p=(g,_)=>{if(g!==void 0&&(g===null||typeof g!="object"||!("aborted"in g)))throw new r(_,"AbortSignal",g)},h=(g,_)=>{if(typeof g!="function")throw new r(_,"Function",g)};n.exports={AggregateError:i,kEmptyObject:Object.freeze({}),once(g){let _=!1;return function(...m){_||(_=!0,g.apply(this,m))}},createDeferredPromise:function(){let g,_;return{promise:new Promise((w,T)=>{g=w,_=T}),resolve:g,reject:_}},promisify(g){return new Promise((_,m)=>{g((w,...T)=>w?m(w):_(...T))})},debuglog(){return function(){}},format:u,inspect:a,types:{isAsyncFunction(g){return g instanceof c},isArrayBufferView(g){return ArrayBuffer.isView(g)}},isBlob:f,deprecate(g,_){return g},addAbortListener:X4().addAbortListener||function(_,m){if(_===void 0)throw new r("signal","AbortSignal",_);p(_,"signal"),h(m,"listener");let w;return _.aborted?queueMicrotask(()=>m()):(_.addEventListener("abort",m,{__proto__:null,once:!0,[t]:!0}),w=()=>{_.removeEventListener("abort",m)}),{__proto__:null,[o](){var T;(T=w)===null||T===void 0||T()}}},AbortSignalAny:l.any||function(_){if(_.length===1)return _[0];const m=new s,w=()=>m.abort();return _.forEach(T=>{p(T,"signals"),T.addEventListener("abort",w,{once:!0})}),m.signal.addEventListener("abort",()=>{_.forEach(T=>T.removeEventListener("abort",w))},{once:!0}),m.signal}},n.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")})(mM)),mM.exports}var JI={},vM,xZ;function Y4(){if(xZ)return vM;xZ=1;const{ArrayIsArray:n,ArrayPrototypeIncludes:e,ArrayPrototypeJoin:u,ArrayPrototypeMap:a,NumberIsInteger:r,NumberIsNaN:t,NumberMAX_SAFE_INTEGER:i,NumberMIN_SAFE_INTEGER:o,NumberParseInt:l,ObjectPrototypeHasOwnProperty:s,RegExpPrototypeExec:c,String:d,StringPrototypeToUpperCase:f,StringPrototypeTrim:p}=An(),{hideStackFrames:h,codes:{ERR_SOCKET_BAD_PORT:g,ERR_INVALID_ARG_TYPE:_,ERR_INVALID_ARG_VALUE:m,ERR_OUT_OF_RANGE:w,ERR_UNKNOWN_SIGNAL:T}}=ti(),{normalizeEncoding:E}=mi(),{isAsyncFunction:S,isArrayBufferView:N}=mi().types,j={};function q(ae){return ae===(ae|0)}function O(ae){return ae===ae>>>0}const I=/^[0-7]+$/,A="must be a 32-bit unsigned integer or an octal string";function P(ae,ce,Se){if(typeof ae>"u"&&(ae=Se),typeof ae=="string"){if(c(I,ae)===null)throw new m(ce,ae,A);ae=l(ae,8)}return V(ae,ce),ae}const C=h((ae,ce,Se=o,xe=i)=>{if(typeof ae!="number")throw new _(ce,"number",ae);if(!r(ae))throw new w(ce,"an integer",ae);if(ae<Se||ae>xe)throw new w(ce,`>= ${Se} && <= ${xe}`,ae)}),B=h((ae,ce,Se=-2147483648,xe=2147483647)=>{if(typeof ae!="number")throw new _(ce,"number",ae);if(!r(ae))throw new w(ce,"an integer",ae);if(ae<Se||ae>xe)throw new w(ce,`>= ${Se} && <= ${xe}`,ae)}),V=h((ae,ce,Se=!1)=>{if(typeof ae!="number")throw new _(ce,"number",ae);if(!r(ae))throw new w(ce,"an integer",ae);const xe=Se?1:0,Ce=4294967295;if(ae<xe||ae>Ce)throw new w(ce,`>= ${xe} && <= ${Ce}`,ae)});function U(ae,ce){if(typeof ae!="string")throw new _(ce,"string",ae)}function G(ae,ce,Se=void 0,xe){if(typeof ae!="number")throw new _(ce,"number",ae);if(Se!=null&&ae<Se||xe!=null&&ae>xe||(Se!=null||xe!=null)&&t(ae))throw new w(ce,`${Se!=null?`>= ${Se}`:""}${Se!=null&&xe!=null?" && ":""}${xe!=null?`<= ${xe}`:""}`,ae)}const J=h((ae,ce,Se)=>{if(!e(Se,ae)){const Ce="must be one of: "+u(a(Se,He=>typeof He=="string"?`'${He}'`:d(He)),", ");throw new m(ce,ae,Ce)}});function ne(ae,ce){if(typeof ae!="boolean")throw new _(ce,"boolean",ae)}function W(ae,ce,Se){return ae==null||!s(ae,ce)?Se:ae[ce]}const ee=h((ae,ce,Se=null)=>{const xe=W(Se,"allowArray",!1),Ce=W(Se,"allowFunction",!1);if(!W(Se,"nullable",!1)&&ae===null||!xe&&n(ae)||typeof ae!="object"&&(!Ce||typeof ae!="function"))throw new _(ce,"Object",ae)}),se=h((ae,ce)=>{if(ae!=null&&typeof ae!="object"&&typeof ae!="function")throw new _(ce,"a dictionary",ae)}),pe=h((ae,ce,Se=0)=>{if(!n(ae))throw new _(ce,"Array",ae);if(ae.length<Se){const xe=`must be longer than ${Se}`;throw new m(ce,ae,xe)}});function le(ae,ce){pe(ae,ce);for(let Se=0;Se<ae.length;Se++)U(ae[Se],`${ce}[${Se}]`)}function Ee(ae,ce){pe(ae,ce);for(let Se=0;Se<ae.length;Se++)ne(ae[Se],`${ce}[${Se}]`)}function Ae(ae,ce){pe(ae,ce);for(let Se=0;Se<ae.length;Se++){const xe=ae[Se],Ce=`${ce}[${Se}]`;if(xe==null)throw new _(Ce,"AbortSignal",xe);v(xe,Ce)}}function Ne(ae,ce="signal"){if(U(ae,ce),j[ae]===void 0)throw j[f(ae)]!==void 0?new T(ae+" (signals must use all capital letters)"):new T(ae)}const Oe=h((ae,ce="buffer")=>{if(!N(ae))throw new _(ce,["Buffer","TypedArray","DataView"],ae)});function be(ae,ce){const Se=E(ce),xe=ae.length;if(Se==="hex"&&xe%2!==0)throw new m("encoding",ce,`is invalid for data of length ${xe}`)}function te(ae,ce="Port",Se=!0){if(typeof ae!="number"&&typeof ae!="string"||typeof ae=="string"&&p(ae).length===0||+ae!==+ae>>>0||ae>65535||ae===0&&!Se)throw new g(ce,ae,Se);return ae|0}const v=h((ae,ce)=>{if(ae!==void 0&&(ae===null||typeof ae!="object"||!("aborted"in ae)))throw new _(ce,"AbortSignal",ae)}),F=h((ae,ce)=>{if(typeof ae!="function")throw new _(ce,"Function",ae)}),D=h((ae,ce)=>{if(typeof ae!="function"||S(ae))throw new _(ce,"Function",ae)}),L=h((ae,ce)=>{if(ae!==void 0)throw new _(ce,"undefined",ae)});function H(ae,ce,Se){if(!e(Se,ae))throw new _(ce,`('${u(Se,"|")}')`,ae)}const Z=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function $(ae,ce){if(typeof ae>"u"||!c(Z,ae))throw new m(ce,ae,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function ue(ae){if(typeof ae=="string")return $(ae,"hints"),ae;if(n(ae)){const ce=ae.length;let Se="";if(ce===0)return Se;for(let xe=0;xe<ce;xe++){const Ce=ae[xe];$(Ce,"hints"),Se+=Ce,xe!==ce-1&&(Se+=", ")}return Se}throw new m("hints",ae,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}return vM={isInt32:q,isUint32:O,parseFileMode:P,validateArray:pe,validateStringArray:le,validateBooleanArray:Ee,validateAbortSignalArray:Ae,validateBoolean:ne,validateBuffer:Oe,validateDictionary:se,validateEncoding:be,validateFunction:F,validateInt32:B,validateInteger:C,validateNumber:G,validateObject:ee,validateOneOf:J,validatePlainFunction:D,validatePort:te,validateSignalName:Ne,validateString:U,validateUint32:V,validateUndefined:L,validateUnion:H,validateAbortSignal:v,validateLinkHeaderValue:ue},vM}var WI={exports:{}},_M,RZ;function uc(){if(RZ)return _M;RZ=1;const{SymbolAsyncIterator:n,SymbolIterator:e,SymbolFor:u}=An(),a=u("nodejs.stream.destroyed"),r=u("nodejs.stream.errored"),t=u("nodejs.stream.readable"),i=u("nodejs.stream.writable"),o=u("nodejs.stream.disturbed"),l=u("nodejs.webstream.isClosedPromise"),s=u("nodejs.webstream.controllerErrorFunction");function c(W,ee=!1){var se;return!!(W&&typeof W.pipe=="function"&&typeof W.on=="function"&&(!ee||typeof W.pause=="function"&&typeof W.resume=="function")&&(!W._writableState||((se=W._readableState)===null||se===void 0?void 0:se.readable)!==!1)&&(!W._writableState||W._readableState))}function d(W){var ee;return!!(W&&typeof W.write=="function"&&typeof W.on=="function"&&(!W._readableState||((ee=W._writableState)===null||ee===void 0?void 0:ee.writable)!==!1))}function f(W){return!!(W&&typeof W.pipe=="function"&&W._readableState&&typeof W.on=="function"&&typeof W.write=="function")}function p(W){return W&&(W._readableState||W._writableState||typeof W.write=="function"&&typeof W.on=="function"||typeof W.pipe=="function"&&typeof W.on=="function")}function h(W){return!!(W&&!p(W)&&typeof W.pipeThrough=="function"&&typeof W.getReader=="function"&&typeof W.cancel=="function")}function g(W){return!!(W&&!p(W)&&typeof W.getWriter=="function"&&typeof W.abort=="function")}function _(W){return!!(W&&!p(W)&&typeof W.readable=="object"&&typeof W.writable=="object")}function m(W){return h(W)||g(W)||_(W)}function w(W,ee){return W==null?!1:ee===!0?typeof W[n]=="function":ee===!1?typeof W[e]=="function":typeof W[n]=="function"||typeof W[e]=="function"}function T(W){if(!p(W))return null;const ee=W._writableState,se=W._readableState,pe=ee||se;return!!(W.destroyed||W[a]||pe!=null&&pe.destroyed)}function E(W){if(!d(W))return null;if(W.writableEnded===!0)return!0;const ee=W._writableState;return ee!=null&&ee.errored?!1:typeof ee?.ended!="boolean"?null:ee.ended}function S(W,ee){if(!d(W))return null;if(W.writableFinished===!0)return!0;const se=W._writableState;return se!=null&&se.errored?!1:typeof se?.finished!="boolean"?null:!!(se.finished||ee===!1&&se.ended===!0&&se.length===0)}function N(W){if(!c(W))return null;if(W.readableEnded===!0)return!0;const ee=W._readableState;return!ee||ee.errored?!1:typeof ee?.ended!="boolean"?null:ee.ended}function j(W,ee){if(!c(W))return null;const se=W._readableState;return se!=null&&se.errored?!1:typeof se?.endEmitted!="boolean"?null:!!(se.endEmitted||ee===!1&&se.ended===!0&&se.length===0)}function q(W){return W&&W[t]!=null?W[t]:typeof W?.readable!="boolean"?null:T(W)?!1:c(W)&&W.readable&&!j(W)}function O(W){return W&&W[i]!=null?W[i]:typeof W?.writable!="boolean"?null:T(W)?!1:d(W)&&W.writable&&!E(W)}function I(W,ee){return p(W)?T(W)?!0:!(ee?.readable!==!1&&q(W)||ee?.writable!==!1&&O(W)):null}function A(W){var ee,se;return p(W)?W.writableErrored?W.writableErrored:(ee=(se=W._writableState)===null||se===void 0?void 0:se.errored)!==null&&ee!==void 0?ee:null:null}function P(W){var ee,se;return p(W)?W.readableErrored?W.readableErrored:(ee=(se=W._readableState)===null||se===void 0?void 0:se.errored)!==null&&ee!==void 0?ee:null:null}function C(W){if(!p(W))return null;if(typeof W.closed=="boolean")return W.closed;const ee=W._writableState,se=W._readableState;return typeof ee?.closed=="boolean"||typeof se?.closed=="boolean"?ee?.closed||se?.closed:typeof W._closed=="boolean"&&B(W)?W._closed:null}function B(W){return typeof W._closed=="boolean"&&typeof W._defaultKeepAlive=="boolean"&&typeof W._removedConnection=="boolean"&&typeof W._removedContLen=="boolean"}function V(W){return typeof W._sent100=="boolean"&&B(W)}function U(W){var ee;return typeof W._consuming=="boolean"&&typeof W._dumped=="boolean"&&((ee=W.req)===null||ee===void 0?void 0:ee.upgradeOrConnect)===void 0}function G(W){if(!p(W))return null;const ee=W._writableState,se=W._readableState,pe=ee||se;return!pe&&V(W)||!!(pe&&pe.autoDestroy&&pe.emitClose&&pe.closed===!1)}function J(W){var ee;return!!(W&&((ee=W[o])!==null&&ee!==void 0?ee:W.readableDidRead||W.readableAborted))}function ne(W){var ee,se,pe,le,Ee,Ae,Ne,Oe,be,te;return!!(W&&((ee=(se=(pe=(le=(Ee=(Ae=W[r])!==null&&Ae!==void 0?Ae:W.readableErrored)!==null&&Ee!==void 0?Ee:W.writableErrored)!==null&&le!==void 0?le:(Ne=W._readableState)===null||Ne===void 0?void 0:Ne.errorEmitted)!==null&&pe!==void 0?pe:(Oe=W._writableState)===null||Oe===void 0?void 0:Oe.errorEmitted)!==null&&se!==void 0?se:(be=W._readableState)===null||be===void 0?void 0:be.errored)!==null&&ee!==void 0?ee:!((te=W._writableState)===null||te===void 0)&&te.errored))}return _M={isDestroyed:T,kIsDestroyed:a,isDisturbed:J,kIsDisturbed:o,isErrored:ne,kIsErrored:r,isReadable:q,kIsReadable:t,kIsClosedPromise:l,kControllerErrorFunction:s,kIsWritable:i,isClosed:C,isDuplexNodeStream:f,isFinished:I,isIterable:w,isReadableNodeStream:c,isReadableStream:h,isReadableEnded:N,isReadableFinished:j,isReadableErrored:P,isNodeStream:p,isWebStream:m,isWritable:O,isWritableNodeStream:d,isWritableStream:g,isWritableEnded:E,isWritableFinished:S,isWritableErrored:A,isServerRequest:U,isServerResponse:V,willEmitClose:G,isTransformStream:_},_M}var NZ;function Tl(){if(NZ)return WI.exports;NZ=1;const n=_l(),{AbortError:e,codes:u}=ti(),{ERR_INVALID_ARG_TYPE:a,ERR_STREAM_PREMATURE_CLOSE:r}=u,{kEmptyObject:t,once:i}=mi(),{validateAbortSignal:o,validateFunction:l,validateObject:s,validateBoolean:c}=Y4(),{Promise:d,PromisePrototypeThen:f,SymbolDispose:p}=An(),{isClosed:h,isReadable:g,isReadableNodeStream:_,isReadableStream:m,isReadableFinished:w,isReadableErrored:T,isWritable:E,isWritableNodeStream:S,isWritableStream:N,isWritableFinished:j,isWritableErrored:q,isNodeStream:O,willEmitClose:I,kIsClosedPromise:A}=uc();let P;function C(J){return J.setHeader&&typeof J.abort=="function"}const B=()=>{};function V(J,ne,W){var ee,se;if(arguments.length===2?(W=ne,ne=t):ne==null?ne=t:s(ne,"options"),l(W,"callback"),o(ne.signal,"options.signal"),W=i(W),m(J)||N(J))return U(J,ne,W);if(!O(J))throw new a("stream",["ReadableStream","WritableStream","Stream"],J);const pe=(ee=ne.readable)!==null&&ee!==void 0?ee:_(J),le=(se=ne.writable)!==null&&se!==void 0?se:S(J),Ee=J._writableState,Ae=J._readableState,Ne=()=>{J.writable||te()};let Oe=I(J)&&_(J)===pe&&S(J)===le,be=j(J,!1);const te=()=>{be=!0,J.destroyed&&(Oe=!1),!(Oe&&(!J.readable||pe))&&(!pe||v)&&W.call(J)};let v=w(J,!1);const F=()=>{v=!0,J.destroyed&&(Oe=!1),!(Oe&&(!J.writable||le))&&(!le||be)&&W.call(J)},D=ae=>{W.call(J,ae)};let L=h(J);const H=()=>{L=!0;const ae=q(J)||T(J);if(ae&&typeof ae!="boolean")return W.call(J,ae);if(pe&&!v&&_(J,!0)&&!w(J,!1))return W.call(J,new r);if(le&&!be&&!j(J,!1))return W.call(J,new r);W.call(J)},Z=()=>{L=!0;const ae=q(J)||T(J);if(ae&&typeof ae!="boolean")return W.call(J,ae);W.call(J)},$=()=>{J.req.on("finish",te)};C(J)?(J.on("complete",te),Oe||J.on("abort",H),J.req?$():J.on("request",$)):le&&!Ee&&(J.on("end",Ne),J.on("close",Ne)),!Oe&&typeof J.aborted=="boolean"&&J.on("aborted",H),J.on("end",F),J.on("finish",te),ne.error!==!1&&J.on("error",D),J.on("close",H),L?n.nextTick(H):Ee!=null&&Ee.errorEmitted||Ae!=null&&Ae.errorEmitted?Oe||n.nextTick(Z):(!pe&&(!Oe||g(J))&&(be||E(J)===!1)||!le&&(!Oe||E(J))&&(v||g(J)===!1)||Ae&&J.req&&J.aborted)&&n.nextTick(Z);const ue=()=>{W=B,J.removeListener("aborted",H),J.removeListener("complete",te),J.removeListener("abort",H),J.removeListener("request",$),J.req&&J.req.removeListener("finish",te),J.removeListener("end",Ne),J.removeListener("close",Ne),J.removeListener("finish",te),J.removeListener("end",F),J.removeListener("error",D),J.removeListener("close",H)};if(ne.signal&&!L){const ae=()=>{const ce=W;ue(),ce.call(J,new e(void 0,{cause:ne.signal.reason}))};if(ne.signal.aborted)n.nextTick(ae);else{P=P||mi().addAbortListener;const ce=P(ne.signal,ae),Se=W;W=i((...xe)=>{ce[p](),Se.apply(J,xe)})}}return ue}function U(J,ne,W){let ee=!1,se=B;if(ne.signal)if(se=()=>{ee=!0,W.call(J,new e(void 0,{cause:ne.signal.reason}))},ne.signal.aborted)n.nextTick(se);else{P=P||mi().addAbortListener;const le=P(ne.signal,se),Ee=W;W=i((...Ae)=>{le[p](),Ee.apply(J,Ae)})}const pe=(...le)=>{ee||n.nextTick(()=>W.apply(J,le))};return f(J[A].promise,pe,pe),B}function G(J,ne){var W;let ee=!1;return ne===null&&(ne=t),(W=ne)!==null&&W!==void 0&&W.cleanup&&(c(ne.cleanup,"cleanup"),ee=ne.cleanup),new d((se,pe)=>{const le=V(J,ne,Ee=>{ee&&le(),Ee?pe(Ee):se()})})}return WI.exports=V,WI.exports.finished=G,WI.exports}var TM,IZ;function A1(){if(IZ)return TM;IZ=1;const n=_l(),{aggregateTwoErrors:e,codes:{ERR_MULTIPLE_CALLBACK:u},AbortError:a}=ti(),{Symbol:r}=An(),{kIsDestroyed:t,isDestroyed:i,isFinished:o,isServerRequest:l}=uc(),s=r("kDestroy"),c=r("kConstruct");function d(I,A,P){I&&(I.stack,A&&!A.errored&&(A.errored=I),P&&!P.errored&&(P.errored=I))}function f(I,A){const P=this._readableState,C=this._writableState,B=C||P;return C!=null&&C.destroyed||P!=null&&P.destroyed?(typeof A=="function"&&A(),this):(d(I,C,P),C&&(C.destroyed=!0),P&&(P.destroyed=!0),B.constructed?p(this,I,A):this.once(s,function(V){p(this,e(V,I),A)}),this)}function p(I,A,P){let C=!1;function B(V){if(C)return;C=!0;const U=I._readableState,G=I._writableState;d(V,G,U),G&&(G.closed=!0),U&&(U.closed=!0),typeof P=="function"&&P(V),V?n.nextTick(h,I,V):n.nextTick(g,I)}try{I._destroy(A||null,B)}catch(V){B(V)}}function h(I,A){_(I,A),g(I)}function g(I){const A=I._readableState,P=I._writableState;P&&(P.closeEmitted=!0),A&&(A.closeEmitted=!0),(P!=null&&P.emitClose||A!=null&&A.emitClose)&&I.emit("close")}function _(I,A){const P=I._readableState,C=I._writableState;C!=null&&C.errorEmitted||P!=null&&P.errorEmitted||(C&&(C.errorEmitted=!0),P&&(P.errorEmitted=!0),I.emit("error",A))}function m(){const I=this._readableState,A=this._writableState;I&&(I.constructed=!0,I.closed=!1,I.closeEmitted=!1,I.destroyed=!1,I.errored=null,I.errorEmitted=!1,I.reading=!1,I.ended=I.readable===!1,I.endEmitted=I.readable===!1),A&&(A.constructed=!0,A.destroyed=!1,A.closed=!1,A.closeEmitted=!1,A.errored=null,A.errorEmitted=!1,A.finalCalled=!1,A.prefinished=!1,A.ended=A.writable===!1,A.ending=A.writable===!1,A.finished=A.writable===!1)}function w(I,A,P){const C=I._readableState,B=I._writableState;if(B!=null&&B.destroyed||C!=null&&C.destroyed)return this;C!=null&&C.autoDestroy||B!=null&&B.autoDestroy?I.destroy(A):A&&(A.stack,B&&!B.errored&&(B.errored=A),C&&!C.errored&&(C.errored=A),P?n.nextTick(_,I,A):_(I,A))}function T(I,A){if(typeof I._construct!="function")return;const P=I._readableState,C=I._writableState;P&&(P.constructed=!1),C&&(C.constructed=!1),I.once(c,A),!(I.listenerCount(c)>1)&&n.nextTick(E,I)}function E(I){let A=!1;function P(C){if(A){w(I,C??new u);return}A=!0;const B=I._readableState,V=I._writableState,U=V||B;B&&(B.constructed=!0),V&&(V.constructed=!0),U.destroyed?I.emit(s,C):C?w(I,C,!0):n.nextTick(S,I)}try{I._construct(C=>{n.nextTick(P,C)})}catch(C){n.nextTick(P,C)}}function S(I){I.emit(c)}function N(I){return I?.setHeader&&typeof I.abort=="function"}function j(I){I.emit("close")}function q(I,A){I.emit("error",A),n.nextTick(j,I)}function O(I,A){!I||i(I)||(!A&&!o(I)&&(A=new a),l(I)?(I.socket=null,I.destroy(A)):N(I)?I.abort():N(I.req)?I.req.abort():typeof I.destroy=="function"?I.destroy(A):typeof I.close=="function"?I.close():A?n.nextTick(q,I,A):n.nextTick(j,I),I.destroyed||(I[t]=!0))}return TM={construct:T,destroyer:O,destroy:f,undestroy:m,errorOrDestroy:w},TM}var wM,DZ;function dB(){if(DZ)return wM;DZ=1;const{ArrayIsArray:n,ObjectSetPrototypeOf:e}=An(),{EventEmitter:u}=X4();function a(t){u.call(this,t)}e(a.prototype,u.prototype),e(a,u),a.prototype.pipe=function(t,i){const o=this;function l(g){t.writable&&t.write(g)===!1&&o.pause&&o.pause()}o.on("data",l);function s(){o.readable&&o.resume&&o.resume()}t.on("drain",s),!t._isStdio&&(!i||i.end!==!1)&&(o.on("end",d),o.on("close",f));let c=!1;function d(){c||(c=!0,t.end())}function f(){c||(c=!0,typeof t.destroy=="function"&&t.destroy())}function p(g){h(),u.listenerCount(this,"error")===0&&this.emit("error",g)}r(o,"error",p),r(t,"error",p);function h(){o.removeListener("data",l),t.removeListener("drain",s),o.removeListener("end",d),o.removeListener("close",f),o.removeListener("error",p),t.removeListener("error",p),o.removeListener("end",h),o.removeListener("close",h),t.removeListener("close",h)}return o.on("end",h),o.on("close",h),t.on("close",h),t.emit("pipe",o),t};function r(t,i,o){if(typeof t.prependListener=="function")return t.prependListener(i,o);!t._events||!t._events[i]?t.on(i,o):n(t._events[i])?t._events[i].unshift(o):t._events[i]=[o,t._events[i]]}return wM={Stream:a,prependListener:r},wM}var SM={exports:{}},FZ;function hP(){return FZ||(FZ=1,(function(n){const{SymbolDispose:e}=An(),{AbortError:u,codes:a}=ti(),{isNodeStream:r,isWebStream:t,kControllerErrorFunction:i}=uc(),o=Tl(),{ERR_INVALID_ARG_TYPE:l}=a;let s;const c=(d,f)=>{if(typeof d!="object"||!("aborted"in d))throw new l(f,"AbortSignal",d)};n.exports.addAbortSignal=function(f,p){if(c(f,"signal"),!r(p)&&!t(p))throw new l("stream",["ReadableStream","WritableStream","Stream"],p);return n.exports.addAbortSignalNoValidate(f,p)},n.exports.addAbortSignalNoValidate=function(d,f){if(typeof d!="object"||!("aborted"in d))return f;const p=r(f)?()=>{f.destroy(new u(void 0,{cause:d.reason}))}:()=>{f[i](new u(void 0,{cause:d.reason}))};if(d.aborted)p();else{s=s||mi().addAbortListener;const h=s(d,p);o(f,h[e])}return f}})(SM)),SM.exports}var EM,PZ;function EIe(){if(PZ)return EM;PZ=1;const{StringPrototypeSlice:n,SymbolIterator:e,TypedArrayPrototypeSet:u,Uint8Array:a}=An(),{Buffer:r}=Xo(),{inspect:t}=mi();return EM=class{constructor(){this.head=null,this.tail=null,this.length=0}push(o){const l={data:o,next:null};this.length>0?this.tail.next=l:this.head=l,this.tail=l,++this.length}unshift(o){const l={data:o,next:this.head};this.length===0&&(this.tail=l),this.head=l,++this.length}shift(){if(this.length===0)return;const o=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,o}clear(){this.head=this.tail=null,this.length=0}join(o){if(this.length===0)return"";let l=this.head,s=""+l.data;for(;(l=l.next)!==null;)s+=o+l.data;return s}concat(o){if(this.length===0)return r.alloc(0);const l=r.allocUnsafe(o>>>0);let s=this.head,c=0;for(;s;)u(l,s.data,c),c+=s.data.length,s=s.next;return l}consume(o,l){const s=this.head.data;if(o<s.length){const c=s.slice(0,o);return this.head.data=s.slice(o),c}return o===s.length?this.shift():l?this._getString(o):this._getBuffer(o)}first(){return this.head.data}*[e](){for(let o=this.head;o;o=o.next)yield o.data}_getString(o){let l="",s=this.head,c=0;do{const d=s.data;if(o>d.length)l+=d,o-=d.length;else{o===d.length?(l+=d,++c,s.next?this.head=s.next:this.head=this.tail=null):(l+=n(d,0,o),this.head=s,s.data=n(d,o));break}++c}while((s=s.next)!==null);return this.length-=c,l}_getBuffer(o){const l=r.allocUnsafe(o),s=o;let c=this.head,d=0;do{const f=c.data;if(o>f.length)u(l,f,s-o),o-=f.length;else{o===f.length?(u(l,f,s-o),++d,c.next?this.head=c.next:this.head=this.tail=null):(u(l,new a(f.buffer,f.byteOffset,o),s-o),this.head=c,c.data=f.slice(o));break}++d}while((c=c.next)!==null);return this.length-=d,l}[Symbol.for("nodejs.util.inspect.custom")](o,l){return t(this,{...l,depth:0,customInspect:!1})}},EM}var AM,jZ;function yP(){if(jZ)return AM;jZ=1;const{MathFloor:n,NumberIsInteger:e}=An(),{validateInteger:u}=Y4(),{ERR_INVALID_ARG_VALUE:a}=ti().codes;let r=16*1024,t=16;function i(c,d,f){return c.highWaterMark!=null?c.highWaterMark:d?c[f]:null}function o(c){return c?t:r}function l(c,d){u(d,"value",0),c?t=d:r=d}function s(c,d,f,p){const h=i(d,p,f);if(h!=null){if(!e(h)||h<0){const g=p?`options.${f}`:"options.highWaterMark";throw new a(g,h)}return n(h)}return o(c.objectMode)}return AM={getHighWaterMark:s,getDefaultHighWaterMark:o,setDefaultHighWaterMark:l},AM}var OM={},YI={exports:{}};var MZ;function AIe(){return MZ||(MZ=1,(function(n,e){var u=Xo(),a=u.Buffer;function r(i,o){for(var l in i)o[l]=i[l]}a.from&&a.alloc&&a.allocUnsafe&&a.allocUnsafeSlow?n.exports=u:(r(u,e),e.Buffer=t);function t(i,o,l){return a(i,o,l)}t.prototype=Object.create(a.prototype),r(a,t),t.from=function(i,o,l){if(typeof i=="number")throw new TypeError("Argument must not be a number");return a(i,o,l)},t.alloc=function(i,o,l){if(typeof i!="number")throw new TypeError("Argument must be a number");var s=a(i);return o!==void 0?typeof l=="string"?s.fill(o,l):s.fill(o):s.fill(0),s},t.allocUnsafe=function(i){if(typeof i!="number")throw new TypeError("Argument must be a number");return a(i)},t.allocUnsafeSlow=function(i){if(typeof i!="number")throw new TypeError("Argument must be a number");return u.SlowBuffer(i)}})(YI,YI.exports)),YI.exports}var CZ;function OIe(){if(CZ)return OM;CZ=1;var n=AIe().Buffer,e=n.isEncoding||function(m){switch(m=""+m,m&&m.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function u(m){if(!m)return"utf8";for(var w;;)switch(m){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return m;default:if(w)return;m=(""+m).toLowerCase(),w=!0}}function a(m){var w=u(m);if(typeof w!="string"&&(n.isEncoding===e||!e(m)))throw new Error("Unknown encoding: "+m);return w||m}OM.StringDecoder=r;function r(m){this.encoding=a(m);var w;switch(this.encoding){case"utf16le":this.text=d,this.end=f,w=4;break;case"utf8":this.fillLast=l,w=4;break;case"base64":this.text=p,this.end=h,w=3;break;default:this.write=g,this.end=_;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(w)}r.prototype.write=function(m){if(m.length===0)return"";var w,T;if(this.lastNeed){if(w=this.fillLast(m),w===void 0)return"";T=this.lastNeed,this.lastNeed=0}else T=0;return T<m.length?w?w+this.text(m,T):this.text(m,T):w||""},r.prototype.end=c,r.prototype.text=s,r.prototype.fillLast=function(m){if(this.lastNeed<=m.length)return m.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);m.copy(this.lastChar,this.lastTotal-this.lastNeed,0,m.length),this.lastNeed-=m.length};function t(m){return m<=127?0:m>>5===6?2:m>>4===14?3:m>>3===30?4:m>>6===2?-1:-2}function i(m,w,T){var E=w.length-1;if(E<T)return 0;var S=t(w[E]);return S>=0?(S>0&&(m.lastNeed=S-1),S):--E<T||S===-2?0:(S=t(w[E]),S>=0?(S>0&&(m.lastNeed=S-2),S):--E<T||S===-2?0:(S=t(w[E]),S>=0?(S>0&&(S===2?S=0:m.lastNeed=S-3),S):0))}function o(m,w,T){if((w[0]&192)!==128)return m.lastNeed=0,"";if(m.lastNeed>1&&w.length>1){if((w[1]&192)!==128)return m.lastNeed=1,"";if(m.lastNeed>2&&w.length>2&&(w[2]&192)!==128)return m.lastNeed=2,""}}function l(m){var w=this.lastTotal-this.lastNeed,T=o(this,m);if(T!==void 0)return T;if(this.lastNeed<=m.length)return m.copy(this.lastChar,w,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);m.copy(this.lastChar,w,0,m.length),this.lastNeed-=m.length}function s(m,w){var T=i(this,m,w);if(!this.lastNeed)return m.toString("utf8",w);this.lastTotal=T;var E=m.length-(T-this.lastNeed);return m.copy(this.lastChar,0,E),m.toString("utf8",w,E)}function c(m){var w=m&&m.length?this.write(m):"";return this.lastNeed?w+"":w}function d(m,w){if((m.length-w)%2===0){var T=m.toString("utf16le",w);if(T){var E=T.charCodeAt(T.length-1);if(E>=55296&&E<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=m[m.length-2],this.lastChar[1]=m[m.length-1],T.slice(0,-1)}return T}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=m[m.length-1],m.toString("utf16le",w,m.length-1)}function f(m){var w=m&&m.length?this.write(m):"";if(this.lastNeed){var T=this.lastTotal-this.lastNeed;return w+this.lastChar.toString("utf16le",0,T)}return w}function p(m,w){var T=(m.length-w)%3;return T===0?m.toString("base64",w):(this.lastNeed=3-T,this.lastTotal=3,T===1?this.lastChar[0]=m[m.length-1]:(this.lastChar[0]=m[m.length-2],this.lastChar[1]=m[m.length-1]),m.toString("base64",w,m.length-T))}function h(m){var w=m&&m.length?this.write(m):"";return this.lastNeed?w+this.lastChar.toString("base64",0,3-this.lastNeed):w}function g(m){return m.toString(this.encoding)}function _(m){return m&&m.length?this.write(m):""}return OM}var xM,LZ;function C2e(){if(LZ)return xM;LZ=1;const n=_l(),{PromisePrototypeThen:e,SymbolAsyncIterator:u,SymbolIterator:a}=An(),{Buffer:r}=Xo(),{ERR_INVALID_ARG_TYPE:t,ERR_STREAM_NULL_VALUES:i}=ti().codes;function o(l,s,c){let d;if(typeof s=="string"||s instanceof r)return new l({objectMode:!0,...c,read(){this.push(s),this.push(null)}});let f;if(s&&s[u])f=!0,d=s[u]();else if(s&&s[a])f=!1,d=s[a]();else throw new t("iterable",["Iterable"],s);const p=new l({objectMode:!0,highWaterMark:1,...c});let h=!1;p._read=function(){h||(h=!0,_())},p._destroy=function(m,w){e(g(m),()=>n.nextTick(w,m),T=>n.nextTick(w,T||m))};async function g(m){const w=m!=null,T=typeof d.throw=="function";if(w&&T){const{value:E,done:S}=await d.throw(m);if(await E,S)return}if(typeof d.return=="function"){const{value:E}=await d.return();await E}}async function _(){for(;;){try{const{value:m,done:w}=f?await d.next():d.next();if(w)p.push(null);else{const T=m&&typeof m.then=="function"?await m:m;if(T===null)throw h=!1,new i;if(p.push(T))continue;h=!1}}catch(m){p.destroy(m)}break}}return p}return xM=o,xM}var RM,qZ;function mP(){if(qZ)return RM;qZ=1;const n=_l(),{ArrayPrototypeIndexOf:e,NumberIsInteger:u,NumberIsNaN:a,NumberParseInt:r,ObjectDefineProperties:t,ObjectKeys:i,ObjectSetPrototypeOf:o,Promise:l,SafeSet:s,SymbolAsyncDispose:c,SymbolAsyncIterator:d,Symbol:f}=An();RM=xe,xe.ReadableState=Se;const{EventEmitter:p}=X4(),{Stream:h,prependListener:g}=dB(),{Buffer:_}=Xo(),{addAbortSignal:m}=hP(),w=Tl();let T=mi().debuglog("stream",fe=>{T=fe});const E=EIe(),S=A1(),{getHighWaterMark:N,getDefaultHighWaterMark:j}=yP(),{aggregateTwoErrors:q,codes:{ERR_INVALID_ARG_TYPE:O,ERR_METHOD_NOT_IMPLEMENTED:I,ERR_OUT_OF_RANGE:A,ERR_STREAM_PUSH_AFTER_EOF:P,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:C},AbortError:B}=ti(),{validateObject:V}=Y4(),U=f("kPaused"),{StringDecoder:G}=OIe(),J=C2e();o(xe.prototype,h.prototype),o(xe,h);const ne=()=>{},{errorOrDestroy:W}=S,ee=1,se=2,pe=4,le=8,Ee=16,Ae=32,Ne=64,Oe=128,be=256,te=512,v=1024,F=2048,D=4096,L=8192,H=16384,Z=32768,$=65536,ue=1<<17,ae=1<<18;function ce(fe){return{enumerable:!1,get(){return(this.state&fe)!==0},set(Te){Te?this.state|=fe:this.state&=~fe}}}t(Se.prototype,{objectMode:ce(ee),ended:ce(se),endEmitted:ce(pe),reading:ce(le),constructed:ce(Ee),sync:ce(Ae),needReadable:ce(Ne),emittedReadable:ce(Oe),readableListening:ce(be),resumeScheduled:ce(te),errorEmitted:ce(v),emitClose:ce(F),autoDestroy:ce(D),destroyed:ce(L),closed:ce(H),closeEmitted:ce(Z),multiAwaitDrain:ce($),readingMore:ce(ue),dataEmitted:ce(ae)});function Se(fe,Te,qe){typeof qe!="boolean"&&(qe=Te instanceof ec()),this.state=F|D|Ee|Ae,fe&&fe.objectMode&&(this.state|=ee),qe&&fe&&fe.readableObjectMode&&(this.state|=ee),this.highWaterMark=fe?N(this,fe,"readableHighWaterMark",qe):j(!1),this.buffer=new E,this.length=0,this.pipes=[],this.flowing=null,this[U]=null,fe&&fe.emitClose===!1&&(this.state&=~F),fe&&fe.autoDestroy===!1&&(this.state&=~D),this.errored=null,this.defaultEncoding=fe&&fe.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,fe&&fe.encoding&&(this.decoder=new G(fe.encoding),this.encoding=fe.encoding)}function xe(fe){if(!(this instanceof xe))return new xe(fe);const Te=this instanceof ec();this._readableState=new Se(fe,this,Te),fe&&(typeof fe.read=="function"&&(this._read=fe.read),typeof fe.destroy=="function"&&(this._destroy=fe.destroy),typeof fe.construct=="function"&&(this._construct=fe.construct),fe.signal&&!Te&&m(fe.signal,this)),h.call(this,fe),S.construct(this,()=>{this._readableState.needReadable&&ve(this,this._readableState)})}xe.prototype.destroy=S.destroy,xe.prototype._undestroy=S.undestroy,xe.prototype._destroy=function(fe,Te){Te(fe)},xe.prototype[p.captureRejectionSymbol]=function(fe){this.destroy(fe)},xe.prototype[c]=function(){let fe;return this.destroyed||(fe=this.readableEnded?null:new B,this.destroy(fe)),new l((Te,qe)=>w(this,it=>it&&it!==fe?qe(it):Te(null)))},xe.prototype.push=function(fe,Te){return Ce(this,fe,Te,!1)},xe.prototype.unshift=function(fe,Te){return Ce(this,fe,Te,!0)};function Ce(fe,Te,qe,it){T("readableAddChunk",Te);const Me=fe._readableState;let st;if((Me.state&ee)===0&&(typeof Te=="string"?(qe=qe||Me.defaultEncoding,Me.encoding!==qe&&(it&&Me.encoding?Te=_.from(Te,qe).toString(Me.encoding):(Te=_.from(Te,qe),qe=""))):Te instanceof _?qe="":h._isUint8Array(Te)?(Te=h._uint8ArrayToBuffer(Te),qe=""):Te!=null&&(st=new O("chunk",["string","Buffer","Uint8Array"],Te))),st)W(fe,st);else if(Te===null)Me.state&=~le,X(fe,Me);else if((Me.state&ee)!==0||Te&&Te.length>0)if(it)if((Me.state&pe)!==0)W(fe,new C);else{if(Me.destroyed||Me.errored)return!1;He(fe,Me,Te,!0)}else if(Me.ended)W(fe,new P);else{if(Me.destroyed||Me.errored)return!1;Me.state&=~le,Me.decoder&&!qe?(Te=Me.decoder.write(Te),Me.objectMode||Te.length!==0?He(fe,Me,Te,!1):ve(fe,Me)):He(fe,Me,Te,!1)}else it||(Me.state&=~le,ve(fe,Me));return!Me.ended&&(Me.length<Me.highWaterMark||Me.length===0)}function He(fe,Te,qe,it){Te.flowing&&Te.length===0&&!Te.sync&&fe.listenerCount("data")>0?((Te.state&$)!==0?Te.awaitDrainWriters.clear():Te.awaitDrainWriters=null,Te.dataEmitted=!0,fe.emit("data",qe)):(Te.length+=Te.objectMode?1:qe.length,it?Te.buffer.unshift(qe):Te.buffer.push(qe),(Te.state&Ne)!==0&&Y(fe)),ve(fe,Te)}xe.prototype.isPaused=function(){const fe=this._readableState;return fe[U]===!0||fe.flowing===!1},xe.prototype.setEncoding=function(fe){const Te=new G(fe);this._readableState.decoder=Te,this._readableState.encoding=this._readableState.decoder.encoding;const qe=this._readableState.buffer;let it="";for(const Me of qe)it+=Te.write(Me);return qe.clear(),it!==""&&qe.push(it),this._readableState.length=it.length,this};const Je=1073741824;function Ye(fe){if(fe>Je)throw new A("size","<= 1GiB",fe);return fe--,fe|=fe>>>1,fe|=fe>>>2,fe|=fe>>>4,fe|=fe>>>8,fe|=fe>>>16,fe++,fe}function oe(fe,Te){return fe<=0||Te.length===0&&Te.ended?0:(Te.state&ee)!==0?1:a(fe)?Te.flowing&&Te.length?Te.buffer.first().length:Te.length:fe<=Te.length?fe:Te.ended?Te.length:0}xe.prototype.read=function(fe){T("read",fe),fe===void 0?fe=NaN:u(fe)||(fe=r(fe,10));const Te=this._readableState,qe=fe;if(fe>Te.highWaterMark&&(Te.highWaterMark=Ye(fe)),fe!==0&&(Te.state&=~Oe),fe===0&&Te.needReadable&&((Te.highWaterMark!==0?Te.length>=Te.highWaterMark:Te.length>0)||Te.ended))return T("read: emitReadable",Te.length,Te.ended),Te.length===0&&Te.ended?ge(this):Y(this),null;if(fe=oe(fe,Te),fe===0&&Te.ended)return Te.length===0&&ge(this),null;let it=(Te.state&Ne)!==0;if(T("need readable",it),(Te.length===0||Te.length-fe<Te.highWaterMark)&&(it=!0,T("length less than watermark",it)),Te.ended||Te.reading||Te.destroyed||Te.errored||!Te.constructed)it=!1,T("reading, ended or constructing",it);else if(it){T("do read"),Te.state|=le|Ae,Te.length===0&&(Te.state|=Ne);try{this._read(Te.highWaterMark)}catch(st){W(this,st)}Te.state&=~Ae,Te.reading||(fe=oe(qe,Te))}let Me;return fe>0?Me=de(fe,Te):Me=null,Me===null?(Te.needReadable=Te.length<=Te.highWaterMark,fe=0):(Te.length-=fe,Te.multiAwaitDrain?Te.awaitDrainWriters.clear():Te.awaitDrainWriters=null),Te.length===0&&(Te.ended||(Te.needReadable=!0),qe!==fe&&Te.ended&&ge(this)),Me!==null&&!Te.errorEmitted&&!Te.closeEmitted&&(Te.dataEmitted=!0,this.emit("data",Me)),Me};function X(fe,Te){if(T("onEofChunk"),!Te.ended){if(Te.decoder){const qe=Te.decoder.end();qe&&qe.length&&(Te.buffer.push(qe),Te.length+=Te.objectMode?1:qe.length)}Te.ended=!0,Te.sync?Y(fe):(Te.needReadable=!1,Te.emittedReadable=!0,he(fe))}}function Y(fe){const Te=fe._readableState;T("emitReadable",Te.needReadable,Te.emittedReadable),Te.needReadable=!1,Te.emittedReadable||(T("emitReadable",Te.flowing),Te.emittedReadable=!0,n.nextTick(he,fe))}function he(fe){const Te=fe._readableState;T("emitReadable_",Te.destroyed,Te.length,Te.ended),!Te.destroyed&&!Te.errored&&(Te.length||Te.ended)&&(fe.emit("readable"),Te.emittedReadable=!1),Te.needReadable=!Te.flowing&&!Te.ended&&Te.length<=Te.highWaterMark,R(fe)}function ve(fe,Te){!Te.readingMore&&Te.constructed&&(Te.readingMore=!0,n.nextTick(ye,fe,Te))}function ye(fe,Te){for(;!Te.reading&&!Te.ended&&(Te.length<Te.highWaterMark||Te.flowing&&Te.length===0);){const qe=Te.length;if(T("maybeReadMore read 0"),fe.read(0),qe===Te.length)break}Te.readingMore=!1}xe.prototype._read=function(fe){throw new I("_read()")},xe.prototype.pipe=function(fe,Te){const qe=this,it=this._readableState;it.pipes.length===1&&(it.multiAwaitDrain||(it.multiAwaitDrain=!0,it.awaitDrainWriters=new s(it.awaitDrainWriters?[it.awaitDrainWriters]:[]))),it.pipes.push(fe),T("pipe count=%d opts=%j",it.pipes.length,Te);const st=(!Te||Te.end!==!1)&&fe!==n.stdout&&fe!==n.stderr?Ot:Re;it.endEmitted?n.nextTick(st):qe.once("end",st),fe.on("unpipe",tt);function tt(Ve,Ge){T("onunpipe"),Ve===qe&&Ge&&Ge.hasUnpiped===!1&&(Ge.hasUnpiped=!0,Tt())}function Ot(){T("onend"),fe.end()}let yt,bt=!1;function Tt(){T("cleanup"),fe.removeListener("close",dr),fe.removeListener("finish",ht),yt&&fe.removeListener("drain",yt),fe.removeListener("error",gt),fe.removeListener("unpipe",tt),qe.removeListener("end",Ot),qe.removeListener("end",Re),qe.removeListener("data",wt),bt=!0,yt&&it.awaitDrainWriters&&(!fe._writableState||fe._writableState.needDrain)&&yt()}function xt(){bt||(it.pipes.length===1&&it.pipes[0]===fe?(T("false write response, pause",0),it.awaitDrainWriters=fe,it.multiAwaitDrain=!1):it.pipes.length>1&&it.pipes.includes(fe)&&(T("false write response, pause",it.awaitDrainWriters.size),it.awaitDrainWriters.add(fe)),qe.pause()),yt||(yt=re(qe,fe),fe.on("drain",yt))}qe.on("data",wt);function wt(Ve){T("ondata");const Ge=fe.write(Ve);T("dest.write",Ge),Ge===!1&&xt()}function gt(Ve){if(T("onerror",Ve),Re(),fe.removeListener("error",gt),fe.listenerCount("error")===0){const Ge=fe._writableState||fe._readableState;Ge&&!Ge.errorEmitted?W(fe,Ve):fe.emit("error",Ve)}}g(fe,"error",gt);function dr(){fe.removeListener("finish",ht),Re()}fe.once("close",dr);function ht(){T("onfinish"),fe.removeListener("close",dr),Re()}fe.once("finish",ht);function Re(){T("unpipe"),qe.unpipe(fe)}return fe.emit("pipe",qe),fe.writableNeedDrain===!0?xt():it.flowing||(T("pipe resume"),qe.resume()),fe};function re(fe,Te){return function(){const it=fe._readableState;it.awaitDrainWriters===Te?(T("pipeOnDrain",1),it.awaitDrainWriters=null):it.multiAwaitDrain&&(T("pipeOnDrain",it.awaitDrainWriters.size),it.awaitDrainWriters.delete(Te)),(!it.awaitDrainWriters||it.awaitDrainWriters.size===0)&&fe.listenerCount("data")&&fe.resume()}}xe.prototype.unpipe=function(fe){const Te=this._readableState,qe={hasUnpiped:!1};if(Te.pipes.length===0)return this;if(!fe){const Me=Te.pipes;Te.pipes=[],this.pause();for(let st=0;st<Me.length;st++)Me[st].emit("unpipe",this,{hasUnpiped:!1});return this}const it=e(Te.pipes,fe);return it===-1?this:(Te.pipes.splice(it,1),Te.pipes.length===0&&this.pause(),fe.emit("unpipe",this,qe),this)},xe.prototype.on=function(fe,Te){const qe=h.prototype.on.call(this,fe,Te),it=this._readableState;return fe==="data"?(it.readableListening=this.listenerCount("readable")>0,it.flowing!==!1&&this.resume()):fe==="readable"&&!it.endEmitted&&!it.readableListening&&(it.readableListening=it.needReadable=!0,it.flowing=!1,it.emittedReadable=!1,T("on readable",it.length,it.reading),it.length?Y(this):it.reading||n.nextTick(Le,this)),qe},xe.prototype.addListener=xe.prototype.on,xe.prototype.removeListener=function(fe,Te){const qe=h.prototype.removeListener.call(this,fe,Te);return fe==="readable"&&n.nextTick(Ie,this),qe},xe.prototype.off=xe.prototype.removeListener,xe.prototype.removeAllListeners=function(fe){const Te=h.prototype.removeAllListeners.apply(this,arguments);return(fe==="readable"||fe===void 0)&&n.nextTick(Ie,this),Te};function Ie(fe){const Te=fe._readableState;Te.readableListening=fe.listenerCount("readable")>0,Te.resumeScheduled&&Te[U]===!1?Te.flowing=!0:fe.listenerCount("data")>0?fe.resume():Te.readableListening||(Te.flowing=null)}function Le(fe){T("readable nexttick read 0"),fe.read(0)}xe.prototype.resume=function(){const fe=this._readableState;return fe.flowing||(T("resume"),fe.flowing=!fe.readableListening,Pe(this,fe)),fe[U]=!1,this};function Pe(fe,Te){Te.resumeScheduled||(Te.resumeScheduled=!0,n.nextTick(Fe,fe,Te))}function Fe(fe,Te){T("resume",Te.reading),Te.reading||fe.read(0),Te.resumeScheduled=!1,fe.emit("resume"),R(fe),Te.flowing&&!Te.reading&&fe.read(0)}xe.prototype.pause=function(){return T("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(T("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[U]=!0,this};function R(fe){const Te=fe._readableState;for(T("flow",Te.flowing);Te.flowing&&fe.read()!==null;);}xe.prototype.wrap=function(fe){let Te=!1;fe.on("data",it=>{!this.push(it)&&fe.pause&&(Te=!0,fe.pause())}),fe.on("end",()=>{this.push(null)}),fe.on("error",it=>{W(this,it)}),fe.on("close",()=>{this.destroy()}),fe.on("destroy",()=>{this.destroy()}),this._read=()=>{Te&&fe.resume&&(Te=!1,fe.resume())};const qe=i(fe);for(let it=1;it<qe.length;it++){const Me=qe[it];this[Me]===void 0&&typeof fe[Me]=="function"&&(this[Me]=fe[Me].bind(fe))}return this},xe.prototype[d]=function(){return k(this)},xe.prototype.iterator=function(fe){return fe!==void 0&&V(fe,"options"),k(this,fe)};function k(fe,Te){typeof fe.read!="function"&&(fe=xe.wrap(fe,{objectMode:!0}));const qe=K(fe,Te);return qe.stream=fe,qe}async function*K(fe,Te){let qe=ne;function it(tt){this===fe?(qe(),qe=ne):qe=tt}fe.on("readable",it);let Me;const st=w(fe,{writable:!1},tt=>{Me=tt?q(Me,tt):null,qe(),qe=ne});try{for(;;){const tt=fe.destroyed?null:fe.read();if(tt!==null)yield tt;else{if(Me)throw Me;if(Me===null)return;await new l(it)}}}catch(tt){throw Me=q(Me,tt),Me}finally{(Me||Te?.destroyOnReturn!==!1)&&(Me===void 0||fe._readableState.autoDestroy)?S.destroyer(fe,null):(fe.off("readable",it),st())}}t(xe.prototype,{readable:{__proto__:null,get(){const fe=this._readableState;return!!fe&&fe.readable!==!1&&!fe.destroyed&&!fe.errorEmitted&&!fe.endEmitted},set(fe){this._readableState&&(this._readableState.readable=!!fe)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(fe){this._readableState&&(this._readableState.flowing=fe)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(fe){this._readableState&&(this._readableState.destroyed=fe)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),t(Se.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[U]!==!1},set(fe){this[U]=!!fe}}}),xe._fromList=de;function de(fe,Te){if(Te.length===0)return null;let qe;return Te.objectMode?qe=Te.buffer.shift():!fe||fe>=Te.length?(Te.decoder?qe=Te.buffer.join(""):Te.buffer.length===1?qe=Te.buffer.first():qe=Te.buffer.concat(Te.length),Te.buffer.clear()):qe=Te.buffer.consume(fe,Te.decoder),qe}function ge(fe){const Te=fe._readableState;T("endReadable",Te.endEmitted),Te.endEmitted||(Te.ended=!0,n.nextTick(Qe,Te,fe))}function Qe(fe,Te){if(T("endReadableNT",fe.endEmitted,fe.length),!fe.errored&&!fe.closeEmitted&&!fe.endEmitted&&fe.length===0){if(fe.endEmitted=!0,Te.emit("end"),Te.writable&&Te.allowHalfOpen===!1)n.nextTick(je,Te);else if(fe.autoDestroy){const qe=Te._writableState;(!qe||qe.autoDestroy&&(qe.finished||qe.writable===!1))&&Te.destroy()}}}function je(fe){fe.writable&&!fe.writableEnded&&!fe.destroyed&&fe.end()}xe.from=function(fe,Te){return J(xe,fe,Te)};let $e;function at(){return $e===void 0&&($e={}),$e}return xe.fromWeb=function(fe,Te){return at().newStreamReadableFromReadableStream(fe,Te)},xe.toWeb=function(fe,Te){return at().newReadableStreamFromStreamReadable(fe,Te)},xe.wrap=function(fe,Te){var qe,it;return new xe({objectMode:(qe=(it=fe.readableObjectMode)!==null&&it!==void 0?it:fe.objectMode)!==null&&qe!==void 0?qe:!0,...Te,destroy(Me,st){S.destroyer(fe,Me),st(Me)}}).wrap(fe)},RM}var NM,BZ;function fB(){if(BZ)return NM;BZ=1;const n=_l(),{ArrayPrototypeSlice:e,Error:u,FunctionPrototypeSymbolHasInstance:a,ObjectDefineProperty:r,ObjectDefineProperties:t,ObjectSetPrototypeOf:i,StringPrototypeToLowerCase:o,Symbol:l,SymbolHasInstance:s}=An();NM=V,V.WritableState=C;const{EventEmitter:c}=X4(),d=dB().Stream,{Buffer:f}=Xo(),p=A1(),{addAbortSignal:h}=hP(),{getHighWaterMark:g,getDefaultHighWaterMark:_}=yP(),{ERR_INVALID_ARG_TYPE:m,ERR_METHOD_NOT_IMPLEMENTED:w,ERR_MULTIPLE_CALLBACK:T,ERR_STREAM_CANNOT_PIPE:E,ERR_STREAM_DESTROYED:S,ERR_STREAM_ALREADY_FINISHED:N,ERR_STREAM_NULL_VALUES:j,ERR_STREAM_WRITE_AFTER_END:q,ERR_UNKNOWN_ENCODING:O}=ti().codes,{errorOrDestroy:I}=p;i(V.prototype,d.prototype),i(V,d);function A(){}const P=l("kOnFinished");function C(D,L,H){typeof H!="boolean"&&(H=L instanceof ec()),this.objectMode=!!(D&&D.objectMode),H&&(this.objectMode=this.objectMode||!!(D&&D.writableObjectMode)),this.highWaterMark=D?g(this,D,"writableHighWaterMark",H):_(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;const Z=!!(D&&D.decodeStrings===!1);this.decodeStrings=!Z,this.defaultEncoding=D&&D.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=W.bind(void 0,L),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,B(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!D||D.emitClose!==!1,this.autoDestroy=!D||D.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[P]=[]}function B(D){D.buffered=[],D.bufferedIndex=0,D.allBuffers=!0,D.allNoop=!0}C.prototype.getBuffer=function(){return e(this.buffered,this.bufferedIndex)},r(C.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function V(D){const L=this instanceof ec();if(!L&&!a(V,this))return new V(D);this._writableState=new C(D,this,L),D&&(typeof D.write=="function"&&(this._write=D.write),typeof D.writev=="function"&&(this._writev=D.writev),typeof D.destroy=="function"&&(this._destroy=D.destroy),typeof D.final=="function"&&(this._final=D.final),typeof D.construct=="function"&&(this._construct=D.construct),D.signal&&h(D.signal,this)),d.call(this,D),p.construct(this,()=>{const H=this._writableState;H.writing||le(this,H),Oe(this,H)})}r(V,s,{__proto__:null,value:function(D){return a(this,D)?!0:this!==V?!1:D&&D._writableState instanceof C}}),V.prototype.pipe=function(){I(this,new E)};function U(D,L,H,Z){const $=D._writableState;if(typeof H=="function")Z=H,H=$.defaultEncoding;else{if(!H)H=$.defaultEncoding;else if(H!=="buffer"&&!f.isEncoding(H))throw new O(H);typeof Z!="function"&&(Z=A)}if(L===null)throw new j;if(!$.objectMode)if(typeof L=="string")$.decodeStrings!==!1&&(L=f.from(L,H),H="buffer");else if(L instanceof f)H="buffer";else if(d._isUint8Array(L))L=d._uint8ArrayToBuffer(L),H="buffer";else throw new m("chunk",["string","Buffer","Uint8Array"],L);let ue;return $.ending?ue=new q:$.destroyed&&(ue=new S("write")),ue?(n.nextTick(Z,ue),I(D,ue,!0),ue):($.pendingcb++,G(D,$,L,H,Z))}V.prototype.write=function(D,L,H){return U(this,D,L,H)===!0},V.prototype.cork=function(){this._writableState.corked++},V.prototype.uncork=function(){const D=this._writableState;D.corked&&(D.corked--,D.writing||le(this,D))},V.prototype.setDefaultEncoding=function(L){if(typeof L=="string"&&(L=o(L)),!f.isEncoding(L))throw new O(L);return this._writableState.defaultEncoding=L,this};function G(D,L,H,Z,$){const ue=L.objectMode?1:H.length;L.length+=ue;const ae=L.length<L.highWaterMark;return ae||(L.needDrain=!0),L.writing||L.corked||L.errored||!L.constructed?(L.buffered.push({chunk:H,encoding:Z,callback:$}),L.allBuffers&&Z!=="buffer"&&(L.allBuffers=!1),L.allNoop&&$!==A&&(L.allNoop=!1)):(L.writelen=ue,L.writecb=$,L.writing=!0,L.sync=!0,D._write(H,Z,L.onwrite),L.sync=!1),ae&&!L.errored&&!L.destroyed}function J(D,L,H,Z,$,ue,ae){L.writelen=Z,L.writecb=ae,L.writing=!0,L.sync=!0,L.destroyed?L.onwrite(new S("write")):H?D._writev($,L.onwrite):D._write($,ue,L.onwrite),L.sync=!1}function ne(D,L,H,Z){--L.pendingcb,Z(H),pe(L),I(D,H)}function W(D,L){const H=D._writableState,Z=H.sync,$=H.writecb;if(typeof $!="function"){I(D,new T);return}H.writing=!1,H.writecb=null,H.length-=H.writelen,H.writelen=0,L?(L.stack,H.errored||(H.errored=L),D._readableState&&!D._readableState.errored&&(D._readableState.errored=L),Z?n.nextTick(ne,D,H,L,$):ne(D,H,L,$)):(H.buffered.length>H.bufferedIndex&&le(D,H),Z?H.afterWriteTickInfo!==null&&H.afterWriteTickInfo.cb===$?H.afterWriteTickInfo.count++:(H.afterWriteTickInfo={count:1,cb:$,stream:D,state:H},n.nextTick(ee,H.afterWriteTickInfo)):se(D,H,1,$))}function ee({stream:D,state:L,count:H,cb:Z}){return L.afterWriteTickInfo=null,se(D,L,H,Z)}function se(D,L,H,Z){for(!L.ending&&!D.destroyed&&L.length===0&&L.needDrain&&(L.needDrain=!1,D.emit("drain"));H-- >0;)L.pendingcb--,Z();L.destroyed&&pe(L),Oe(D,L)}function pe(D){if(D.writing)return;for(let $=D.bufferedIndex;$<D.buffered.length;++$){var L;const{chunk:ue,callback:ae}=D.buffered[$],ce=D.objectMode?1:ue.length;D.length-=ce,ae((L=D.errored)!==null&&L!==void 0?L:new S("write"))}const H=D[P].splice(0);for(let $=0;$<H.length;$++){var Z;H[$]((Z=D.errored)!==null&&Z!==void 0?Z:new S("end"))}B(D)}function le(D,L){if(L.corked||L.bufferProcessing||L.destroyed||!L.constructed)return;const{buffered:H,bufferedIndex:Z,objectMode:$}=L,ue=H.length-Z;if(!ue)return;let ae=Z;if(L.bufferProcessing=!0,ue>1&&D._writev){L.pendingcb-=ue-1;const ce=L.allNoop?A:xe=>{for(let Ce=ae;Ce<H.length;++Ce)H[Ce].callback(xe)},Se=L.allNoop&&ae===0?H:e(H,ae);Se.allBuffers=L.allBuffers,J(D,L,!0,L.length,Se,"",ce),B(L)}else{do{const{chunk:ce,encoding:Se,callback:xe}=H[ae];H[ae++]=null;const Ce=$?1:ce.length;J(D,L,!1,Ce,ce,Se,xe)}while(ae<H.length&&!L.writing);ae===H.length?B(L):ae>256?(H.splice(0,ae),L.bufferedIndex=0):L.bufferedIndex=ae}L.bufferProcessing=!1}V.prototype._write=function(D,L,H){if(this._writev)this._writev([{chunk:D,encoding:L}],H);else throw new w("_write()")},V.prototype._writev=null,V.prototype.end=function(D,L,H){const Z=this._writableState;typeof D=="function"?(H=D,D=null,L=null):typeof L=="function"&&(H=L,L=null);let $;if(D!=null){const ue=U(this,D,L);ue instanceof u&&($=ue)}return Z.corked&&(Z.corked=1,this.uncork()),$||(!Z.errored&&!Z.ending?(Z.ending=!0,Oe(this,Z,!0),Z.ended=!0):Z.finished?$=new N("end"):Z.destroyed&&($=new S("end"))),typeof H=="function"&&($||Z.finished?n.nextTick(H,$):Z[P].push(H)),this};function Ee(D){return D.ending&&!D.destroyed&&D.constructed&&D.length===0&&!D.errored&&D.buffered.length===0&&!D.finished&&!D.writing&&!D.errorEmitted&&!D.closeEmitted}function Ae(D,L){let H=!1;function Z($){if(H){I(D,$??T());return}if(H=!0,L.pendingcb--,$){const ue=L[P].splice(0);for(let ae=0;ae<ue.length;ae++)ue[ae]($);I(D,$,L.sync)}else Ee(L)&&(L.prefinished=!0,D.emit("prefinish"),L.pendingcb++,n.nextTick(be,D,L))}L.sync=!0,L.pendingcb++;try{D._final(Z)}catch($){Z($)}L.sync=!1}function Ne(D,L){!L.prefinished&&!L.finalCalled&&(typeof D._final=="function"&&!L.destroyed?(L.finalCalled=!0,Ae(D,L)):(L.prefinished=!0,D.emit("prefinish")))}function Oe(D,L,H){Ee(L)&&(Ne(D,L),L.pendingcb===0&&(H?(L.pendingcb++,n.nextTick((Z,$)=>{Ee($)?be(Z,$):$.pendingcb--},D,L)):Ee(L)&&(L.pendingcb++,be(D,L))))}function be(D,L){L.pendingcb--,L.finished=!0;const H=L[P].splice(0);for(let Z=0;Z<H.length;Z++)H[Z]();if(D.emit("finish"),L.autoDestroy){const Z=D._readableState;(!Z||Z.autoDestroy&&(Z.endEmitted||Z.readable===!1))&&D.destroy()}}t(V.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(D){this._writableState&&(this._writableState.destroyed=D)}},writable:{__proto__:null,get(){const D=this._writableState;return!!D&&D.writable!==!1&&!D.destroyed&&!D.errored&&!D.ending&&!D.ended},set(D){this._writableState&&(this._writableState.writable=!!D)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){const D=this._writableState;return D?!D.destroyed&&!D.ending&&D.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});const te=p.destroy;V.prototype.destroy=function(D,L){const H=this._writableState;return!H.destroyed&&(H.bufferedIndex<H.buffered.length||H[P].length)&&n.nextTick(pe,H),te.call(this,D,L),this},V.prototype._undestroy=p.undestroy,V.prototype._destroy=function(D,L){L(D)},V.prototype[c.captureRejectionSymbol]=function(D){this.destroy(D)};let v;function F(){return v===void 0&&(v={}),v}return V.fromWeb=function(D,L){return F().newStreamWritableFromWritableStream(D,L)},V.toWeb=function(D){return F().newWritableStreamFromStreamWritable(D)},NM}var IM,UZ;function xIe(){if(UZ)return IM;UZ=1;const n=_l(),e=Xo(),{isReadable:u,isWritable:a,isIterable:r,isNodeStream:t,isReadableNodeStream:i,isWritableNodeStream:o,isDuplexNodeStream:l,isReadableStream:s,isWritableStream:c}=uc(),d=Tl(),{AbortError:f,codes:{ERR_INVALID_ARG_TYPE:p,ERR_INVALID_RETURN_VALUE:h}}=ti(),{destroyer:g}=A1(),_=ec(),m=mP(),w=fB(),{createDeferredPromise:T}=mi(),E=C2e(),S=globalThis.Blob||e.Blob,N=typeof S<"u"?function(C){return C instanceof S}:function(C){return!1},j=globalThis.AbortController||b4().AbortController,{FunctionPrototypeCall:q}=An();class O extends _{constructor(C){super(C),C?.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),C?.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}IM=function P(C,B){if(l(C))return C;if(i(C))return A({readable:C});if(o(C))return A({writable:C});if(t(C))return A({writable:!1,readable:!1});if(s(C))return A({readable:m.fromWeb(C)});if(c(C))return A({writable:w.fromWeb(C)});if(typeof C=="function"){const{value:U,write:G,final:J,destroy:ne}=I(C);if(r(U))return E(O,U,{objectMode:!0,write:G,final:J,destroy:ne});const W=U?.then;if(typeof W=="function"){let ee;const se=q(W,U,pe=>{if(pe!=null)throw new h("nully","body",pe)},pe=>{g(ee,pe)});return ee=new O({objectMode:!0,readable:!1,write:G,final(pe){J(async()=>{try{await se,n.nextTick(pe,null)}catch(le){n.nextTick(pe,le)}})},destroy:ne})}throw new h("Iterable, AsyncIterable or AsyncFunction",B,U)}if(N(C))return P(C.arrayBuffer());if(r(C))return E(O,C,{objectMode:!0,writable:!1});if(s(C?.readable)&&c(C?.writable))return O.fromWeb(C);if(typeof C?.writable=="object"||typeof C?.readable=="object"){const U=C!=null&&C.readable?i(C?.readable)?C?.readable:P(C.readable):void 0,G=C!=null&&C.writable?o(C?.writable)?C?.writable:P(C.writable):void 0;return A({readable:U,writable:G})}const V=C?.then;if(typeof V=="function"){let U;return q(V,C,G=>{G!=null&&U.push(G),U.push(null)},G=>{g(U,G)}),U=new O({objectMode:!0,writable:!1,read(){}})}throw new p(B,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],C)};function I(P){let{promise:C,resolve:B}=T();const V=new j,U=V.signal;return{value:P((async function*(){for(;;){const J=C;C=null;const{chunk:ne,done:W,cb:ee}=await J;if(n.nextTick(ee),W)return;if(U.aborted)throw new f(void 0,{cause:U.reason});({promise:C,resolve:B}=T()),yield ne}})(),{signal:U}),write(J,ne,W){const ee=B;B=null,ee({chunk:J,done:!1,cb:W})},final(J){const ne=B;B=null,ne({done:!0,cb:J})},destroy(J,ne){V.abort(),ne(J)}}}function A(P){const C=P.readable&&typeof P.readable.read!="function"?m.wrap(P.readable):P.readable,B=P.writable;let V=!!u(C),U=!!a(B),G,J,ne,W,ee;function se(pe){const le=W;W=null,le?le(pe):pe&&ee.destroy(pe)}return ee=new O({readableObjectMode:!!(C!=null&&C.readableObjectMode),writableObjectMode:!!(B!=null&&B.writableObjectMode),readable:V,writable:U}),U&&(d(B,pe=>{U=!1,pe&&g(C,pe),se(pe)}),ee._write=function(pe,le,Ee){B.write(pe,le)?Ee():G=Ee},ee._final=function(pe){B.end(),J=pe},B.on("drain",function(){if(G){const pe=G;G=null,pe()}}),B.on("finish",function(){if(J){const pe=J;J=null,pe()}})),V&&(d(C,pe=>{V=!1,pe&&g(C,pe),se(pe)}),C.on("readable",function(){if(ne){const pe=ne;ne=null,pe()}}),C.on("end",function(){ee.push(null)}),ee._read=function(){for(;;){const pe=C.read();if(pe===null){ne=ee._read;return}if(!ee.push(pe))return}}),ee._destroy=function(pe,le){!pe&&W!==null&&(pe=new f),ne=null,G=null,J=null,W===null?le(pe):(W=le,g(B,pe),g(C,pe))},ee}return IM}var DM,QZ;function ec(){if(QZ)return DM;QZ=1;const{ObjectDefineProperties:n,ObjectGetOwnPropertyDescriptor:e,ObjectKeys:u,ObjectSetPrototypeOf:a}=An();DM=i;const r=mP(),t=fB();a(i.prototype,r.prototype),a(i,r);{const c=u(t.prototype);for(let d=0;d<c.length;d++){const f=c[d];i.prototype[f]||(i.prototype[f]=t.prototype[f])}}function i(c){if(!(this instanceof i))return new i(c);r.call(this,c),t.call(this,c),c?(this.allowHalfOpen=c.allowHalfOpen!==!1,c.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),c.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}n(i.prototype,{writable:{__proto__:null,...e(t.prototype,"writable")},writableHighWaterMark:{__proto__:null,...e(t.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...e(t.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...e(t.prototype,"writableBuffer")},writableLength:{__proto__:null,...e(t.prototype,"writableLength")},writableFinished:{__proto__:null,...e(t.prototype,"writableFinished")},writableCorked:{__proto__:null,...e(t.prototype,"writableCorked")},writableEnded:{__proto__:null,...e(t.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...e(t.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(c){this._readableState&&this._writableState&&(this._readableState.destroyed=c,this._writableState.destroyed=c)}}});let o;function l(){return o===void 0&&(o={}),o}i.fromWeb=function(c,d){return l().newStreamDuplexFromReadableWritablePair(c,d)},i.toWeb=function(c){return l().newReadableWritablePairFromDuplex(c)};let s;return i.from=function(c){return s||(s=xIe()),s(c,"body")},DM}var FM,VZ;function L2e(){if(VZ)return FM;VZ=1;const{ObjectSetPrototypeOf:n,Symbol:e}=An();FM=i;const{ERR_METHOD_NOT_IMPLEMENTED:u}=ti().codes,a=ec(),{getHighWaterMark:r}=yP();n(i.prototype,a.prototype),n(i,a);const t=e("kCallback");function i(s){if(!(this instanceof i))return new i(s);const c=s?r(this,s,"readableHighWaterMark",!0):null;c===0&&(s={...s,highWaterMark:null,readableHighWaterMark:c,writableHighWaterMark:s.writableHighWaterMark||0}),a.call(this,s),this._readableState.sync=!1,this[t]=null,s&&(typeof s.transform=="function"&&(this._transform=s.transform),typeof s.flush=="function"&&(this._flush=s.flush)),this.on("prefinish",l)}function o(s){typeof this._flush=="function"&&!this.destroyed?this._flush((c,d)=>{if(c){s?s(c):this.destroy(c);return}d!=null&&this.push(d),this.push(null),s&&s()}):(this.push(null),s&&s())}function l(){this._final!==o&&o.call(this)}return i.prototype._final=o,i.prototype._transform=function(s,c,d){throw new u("_transform()")},i.prototype._write=function(s,c,d){const f=this._readableState,p=this._writableState,h=f.length;this._transform(s,c,(g,_)=>{if(g){d(g);return}_!=null&&this.push(_),p.ended||h===f.length||f.length<f.highWaterMark?d():this[t]=d})},i.prototype._read=function(){if(this[t]){const s=this[t];this[t]=null,s()}},FM}var PM,HZ;function q2e(){if(HZ)return PM;HZ=1;const{ObjectSetPrototypeOf:n}=An();PM=u;const e=L2e();n(u.prototype,e.prototype),n(u,e);function u(a){if(!(this instanceof u))return new u(a);e.call(this,a)}return u.prototype._transform=function(a,r,t){t(null,a)},PM}var jM,kZ;function pB(){if(kZ)return jM;kZ=1;const n=_l(),{ArrayIsArray:e,Promise:u,SymbolAsyncIterator:a,SymbolDispose:r}=An(),t=Tl(),{once:i}=mi(),o=A1(),l=ec(),{aggregateTwoErrors:s,codes:{ERR_INVALID_ARG_TYPE:c,ERR_INVALID_RETURN_VALUE:d,ERR_MISSING_ARGS:f,ERR_STREAM_DESTROYED:p,ERR_STREAM_PREMATURE_CLOSE:h},AbortError:g}=ti(),{validateFunction:_,validateAbortSignal:m}=Y4(),{isIterable:w,isReadable:T,isReadableNodeStream:E,isNodeStream:S,isTransformStream:N,isWebStream:j,isReadableStream:q,isReadableFinished:O}=uc(),I=globalThis.AbortController||b4().AbortController;let A,P,C;function B(pe,le,Ee){let Ae=!1;pe.on("close",()=>{Ae=!0});const Ne=t(pe,{readable:le,writable:Ee},Oe=>{Ae=!Oe});return{destroy:Oe=>{Ae||(Ae=!0,o.destroyer(pe,Oe||new p("pipe")))},cleanup:Ne}}function V(pe){return _(pe[pe.length-1],"streams[stream.length - 1]"),pe.pop()}function U(pe){if(w(pe))return pe;if(E(pe))return G(pe);throw new c("val",["Readable","Iterable","AsyncIterable"],pe)}async function*G(pe){P||(P=mP()),yield*P.prototype[a].call(pe)}async function J(pe,le,Ee,{end:Ae}){let Ne,Oe=null;const be=F=>{if(F&&(Ne=F),Oe){const D=Oe;Oe=null,D()}},te=()=>new u((F,D)=>{Ne?D(Ne):Oe=()=>{Ne?D(Ne):F()}});le.on("drain",be);const v=t(le,{readable:!1},be);try{le.writableNeedDrain&&await te();for await(const F of pe)le.write(F)||await te();Ae&&(le.end(),await te()),Ee()}catch(F){Ee(Ne!==F?s(Ne,F):F)}finally{v(),le.off("drain",be)}}async function ne(pe,le,Ee,{end:Ae}){N(le)&&(le=le.writable);const Ne=le.getWriter();try{for await(const Oe of pe)await Ne.ready,Ne.write(Oe).catch(()=>{});await Ne.ready,Ae&&await Ne.close(),Ee()}catch(Oe){try{await Ne.abort(Oe),Ee(Oe)}catch(be){Ee(be)}}}function W(...pe){return ee(pe,i(V(pe)))}function ee(pe,le,Ee){if(pe.length===1&&e(pe[0])&&(pe=pe[0]),pe.length<2)throw new f("streams");const Ae=new I,Ne=Ae.signal,Oe=Ee?.signal,be=[];m(Oe,"options.signal");function te(){$(new g)}C=C||mi().addAbortListener;let v;Oe&&(v=C(Oe,te));let F,D;const L=[];let H=0;function Z(xe){$(xe,--H===0)}function $(xe,Ce){var He;if(xe&&(!F||F.code==="ERR_STREAM_PREMATURE_CLOSE")&&(F=xe),!(!F&&!Ce)){for(;L.length;)L.shift()(F);(He=v)===null||He===void 0||He[r](),Ae.abort(),Ce&&(F||be.forEach(Je=>Je()),n.nextTick(le,F,D))}}let ue;for(let xe=0;xe<pe.length;xe++){const Ce=pe[xe],He=xe<pe.length-1,Je=xe>0,Ye=He||Ee?.end!==!1,oe=xe===pe.length-1;if(S(Ce)){let X=function(Y){Y&&Y.name!=="AbortError"&&Y.code!=="ERR_STREAM_PREMATURE_CLOSE"&&Z(Y)};var Se=X;if(Ye){const{destroy:Y,cleanup:he}=B(Ce,He,Je);L.push(Y),T(Ce)&&oe&&be.push(he)}Ce.on("error",X),T(Ce)&&oe&&be.push(()=>{Ce.removeListener("error",X)})}if(xe===0)if(typeof Ce=="function"){if(ue=Ce({signal:Ne}),!w(ue))throw new d("Iterable, AsyncIterable or Stream","source",ue)}else w(Ce)||E(Ce)||N(Ce)?ue=Ce:ue=l.from(Ce);else if(typeof Ce=="function"){if(N(ue)){var ae;ue=U((ae=ue)===null||ae===void 0?void 0:ae.readable)}else ue=U(ue);if(ue=Ce(ue,{signal:Ne}),He){if(!w(ue,!0))throw new d("AsyncIterable",`transform[${xe-1}]`,ue)}else{var ce;A||(A=q2e());const X=new A({objectMode:!0}),Y=(ce=ue)===null||ce===void 0?void 0:ce.then;if(typeof Y=="function")H++,Y.call(ue,ye=>{D=ye,ye!=null&&X.write(ye),Ye&&X.end(),n.nextTick(Z)},ye=>{X.destroy(ye),n.nextTick(Z,ye)});else if(w(ue,!0))H++,J(ue,X,Z,{end:Ye});else if(q(ue)||N(ue)){const ye=ue.readable||ue;H++,J(ye,X,Z,{end:Ye})}else throw new d("AsyncIterable or Promise","destination",ue);ue=X;const{destroy:he,cleanup:ve}=B(ue,!1,!0);L.push(he),oe&&be.push(ve)}}else if(S(Ce)){if(E(ue)){H+=2;const X=se(ue,Ce,Z,{end:Ye});T(Ce)&&oe&&be.push(X)}else if(N(ue)||q(ue)){const X=ue.readable||ue;H++,J(X,Ce,Z,{end:Ye})}else if(w(ue))H++,J(ue,Ce,Z,{end:Ye});else throw new c("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],ue);ue=Ce}else if(j(Ce)){if(E(ue))H++,ne(U(ue),Ce,Z,{end:Ye});else if(q(ue)||w(ue))H++,ne(ue,Ce,Z,{end:Ye});else if(N(ue))H++,ne(ue.readable,Ce,Z,{end:Ye});else throw new c("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],ue);ue=Ce}else ue=l.from(Ce)}return(Ne!=null&&Ne.aborted||Oe!=null&&Oe.aborted)&&n.nextTick(te),ue}function se(pe,le,Ee,{end:Ae}){let Ne=!1;if(le.on("close",()=>{Ne||Ee(new h)}),pe.pipe(le,{end:!1}),Ae){let be=function(){Ne=!0,le.end()};var Oe=be;O(pe)?n.nextTick(be):pe.once("end",be)}else Ee();return t(pe,{readable:!0,writable:!1},be=>{const te=pe._readableState;be&&be.code==="ERR_STREAM_PREMATURE_CLOSE"&&te&&te.ended&&!te.errored&&!te.errorEmitted?pe.once("end",Ee).once("error",Ee):Ee(be)}),t(le,{readable:!1,writable:!0},Ee)}return jM={pipelineImpl:ee,pipeline:W},jM}var MM,zZ;function B2e(){if(zZ)return MM;zZ=1;const{pipeline:n}=pB(),e=ec(),{destroyer:u}=A1(),{isNodeStream:a,isReadable:r,isWritable:t,isWebStream:i,isTransformStream:o,isWritableStream:l,isReadableStream:s}=uc(),{AbortError:c,codes:{ERR_INVALID_ARG_VALUE:d,ERR_MISSING_ARGS:f}}=ti(),p=Tl();return MM=function(...g){if(g.length===0)throw new f("streams");if(g.length===1)return e.from(g[0]);const _=[...g];if(typeof g[0]=="function"&&(g[0]=e.from(g[0])),typeof g[g.length-1]=="function"){const A=g.length-1;g[A]=e.from(g[A])}for(let A=0;A<g.length;++A)if(!(!a(g[A])&&!i(g[A]))){if(A<g.length-1&&!(r(g[A])||s(g[A])||o(g[A])))throw new d(`streams[${A}]`,_[A],"must be readable");if(A>0&&!(t(g[A])||l(g[A])||o(g[A])))throw new d(`streams[${A}]`,_[A],"must be writable")}let m,w,T,E,S;function N(A){const P=E;E=null,P?P(A):A?S.destroy(A):!I&&!O&&S.destroy()}const j=g[0],q=n(g,N),O=!!(t(j)||l(j)||o(j)),I=!!(r(q)||s(q)||o(q));if(S=new e({writableObjectMode:!!(j!=null&&j.writableObjectMode),readableObjectMode:!!(q!=null&&q.readableObjectMode),writable:O,readable:I}),O){if(a(j))S._write=function(P,C,B){j.write(P,C)?B():m=B},S._final=function(P){j.end(),w=P},j.on("drain",function(){if(m){const P=m;m=null,P()}});else if(i(j)){const C=(o(j)?j.writable:j).getWriter();S._write=async function(B,V,U){try{await C.ready,C.write(B).catch(()=>{}),U()}catch(G){U(G)}},S._final=async function(B){try{await C.ready,C.close().catch(()=>{}),w=B}catch(V){B(V)}}}const A=o(q)?q.readable:q;p(A,()=>{if(w){const P=w;w=null,P()}})}if(I){if(a(q))q.on("readable",function(){if(T){const A=T;T=null,A()}}),q.on("end",function(){S.push(null)}),S._read=function(){for(;;){const A=q.read();if(A===null){T=S._read;return}if(!S.push(A))return}};else if(i(q)){const P=(o(q)?q.readable:q).getReader();S._read=async function(){for(;;)try{const{value:C,done:B}=await P.read();if(!S.push(C))return;if(B){S.push(null);return}}catch{return}}}}return S._destroy=function(A,P){!A&&E!==null&&(A=new c),T=null,m=null,w=null,E===null?P(A):(E=P,a(q)&&u(q,A))},S},MM}var GZ;function RIe(){if(GZ)return JI;GZ=1;const n=globalThis.AbortController||b4().AbortController,{codes:{ERR_INVALID_ARG_VALUE:e,ERR_INVALID_ARG_TYPE:u,ERR_MISSING_ARGS:a,ERR_OUT_OF_RANGE:r},AbortError:t}=ti(),{validateAbortSignal:i,validateInteger:o,validateObject:l}=Y4(),s=An().Symbol("kWeak"),c=An().Symbol("kResistStopPropagation"),{finished:d}=Tl(),f=B2e(),{addAbortSignalNoValidate:p}=hP(),{isWritable:h,isNodeStream:g}=uc(),{deprecate:_}=mi(),{ArrayPrototypePush:m,Boolean:w,MathFloor:T,Number:E,NumberIsNaN:S,Promise:N,PromiseReject:j,PromiseResolve:q,PromisePrototypeThen:O,Symbol:I}=An(),A=I("kEmpty"),P=I("kEof");function C(Oe,be){if(be!=null&&l(be,"options"),be?.signal!=null&&i(be.signal,"options.signal"),g(Oe)&&!h(Oe))throw new e("stream",Oe,"must be writable");const te=f(this,Oe);return be!=null&&be.signal&&p(be.signal,te),te}function B(Oe,be){if(typeof Oe!="function")throw new u("fn",["Function","AsyncFunction"],Oe);be!=null&&l(be,"options"),be?.signal!=null&&i(be.signal,"options.signal");let te=1;be?.concurrency!=null&&(te=T(be.concurrency));let v=te-1;return be?.highWaterMark!=null&&(v=T(be.highWaterMark)),o(te,"options.concurrency",1),o(v,"options.highWaterMark",0),v+=te,(async function*(){const D=mi().AbortSignalAny([be?.signal].filter(w)),L=this,H=[],Z={signal:D};let $,ue,ae=!1,ce=0;function Se(){ae=!0,xe()}function xe(){ce-=1,Ce()}function Ce(){ue&&!ae&&ce<te&&H.length<v&&(ue(),ue=null)}async function He(){try{for await(let Je of L){if(ae)return;if(D.aborted)throw new t;try{if(Je=Oe(Je,Z),Je===A)continue;Je=q(Je)}catch(Ye){Je=j(Ye)}ce+=1,O(Je,xe,Se),H.push(Je),$&&($(),$=null),!ae&&(H.length>=v||ce>=te)&&await new N(Ye=>{ue=Ye})}H.push(P)}catch(Je){const Ye=j(Je);O(Ye,xe,Se),H.push(Ye)}finally{ae=!0,$&&($(),$=null)}}He();try{for(;;){for(;H.length>0;){const Je=await H[0];if(Je===P)return;if(D.aborted)throw new t;Je!==A&&(yield Je),H.shift(),Ce()}await new N(Je=>{$=Je})}}finally{ae=!0,ue&&(ue(),ue=null)}}).call(this)}function V(Oe=void 0){return Oe!=null&&l(Oe,"options"),Oe?.signal!=null&&i(Oe.signal,"options.signal"),(async function*(){let te=0;for await(const F of this){var v;if(Oe!=null&&(v=Oe.signal)!==null&&v!==void 0&&v.aborted)throw new t({cause:Oe.signal.reason});yield[te++,F]}}).call(this)}async function U(Oe,be=void 0){for await(const te of W.call(this,Oe,be))return!0;return!1}async function G(Oe,be=void 0){if(typeof Oe!="function")throw new u("fn",["Function","AsyncFunction"],Oe);return!await U.call(this,async(...te)=>!await Oe(...te),be)}async function J(Oe,be){for await(const te of W.call(this,Oe,be))return te}async function ne(Oe,be){if(typeof Oe!="function")throw new u("fn",["Function","AsyncFunction"],Oe);async function te(v,F){return await Oe(v,F),A}for await(const v of B.call(this,te,be));}function W(Oe,be){if(typeof Oe!="function")throw new u("fn",["Function","AsyncFunction"],Oe);async function te(v,F){return await Oe(v,F)?v:A}return B.call(this,te,be)}class ee extends a{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}async function se(Oe,be,te){var v;if(typeof Oe!="function")throw new u("reducer",["Function","AsyncFunction"],Oe);te!=null&&l(te,"options"),te?.signal!=null&&i(te.signal,"options.signal");let F=arguments.length>1;if(te!=null&&(v=te.signal)!==null&&v!==void 0&&v.aborted){const $=new t(void 0,{cause:te.signal.reason});throw this.once("error",()=>{}),await d(this.destroy($)),$}const D=new n,L=D.signal;if(te!=null&&te.signal){const $={once:!0,[s]:this,[c]:!0};te.signal.addEventListener("abort",()=>D.abort(),$)}let H=!1;try{for await(const $ of this){var Z;if(H=!0,te!=null&&(Z=te.signal)!==null&&Z!==void 0&&Z.aborted)throw new t;F?be=await Oe(be,$,{signal:L}):(be=$,F=!0)}if(!H&&!F)throw new ee}finally{D.abort()}return be}async function pe(Oe){Oe!=null&&l(Oe,"options"),Oe?.signal!=null&&i(Oe.signal,"options.signal");const be=[];for await(const v of this){var te;if(Oe!=null&&(te=Oe.signal)!==null&&te!==void 0&&te.aborted)throw new t(void 0,{cause:Oe.signal.reason});m(be,v)}return be}function le(Oe,be){const te=B.call(this,Oe,be);return(async function*(){for await(const F of te)yield*F}).call(this)}function Ee(Oe){if(Oe=E(Oe),S(Oe))return 0;if(Oe<0)throw new r("number",">= 0",Oe);return Oe}function Ae(Oe,be=void 0){return be!=null&&l(be,"options"),be?.signal!=null&&i(be.signal,"options.signal"),Oe=Ee(Oe),(async function*(){var v;if(be!=null&&(v=be.signal)!==null&&v!==void 0&&v.aborted)throw new t;for await(const D of this){var F;if(be!=null&&(F=be.signal)!==null&&F!==void 0&&F.aborted)throw new t;Oe--<=0&&(yield D)}}).call(this)}function Ne(Oe,be=void 0){return be!=null&&l(be,"options"),be?.signal!=null&&i(be.signal,"options.signal"),Oe=Ee(Oe),(async function*(){var v;if(be!=null&&(v=be.signal)!==null&&v!==void 0&&v.aborted)throw new t;for await(const D of this){var F;if(be!=null&&(F=be.signal)!==null&&F!==void 0&&F.aborted)throw new t;if(Oe-- >0&&(yield D),Oe<=0)return}}).call(this)}return JI.streamReturningOperators={asIndexedPairs:_(V,"readable.asIndexedPairs will be removed in a future version."),drop:Ae,filter:W,flatMap:le,map:B,take:Ne,compose:C},JI.promiseReturningOperators={every:G,forEach:ne,reduce:se,toArray:pe,some:U,find:J},JI}var CM,$Z;function U2e(){if($Z)return CM;$Z=1;const{ArrayPrototypePop:n,Promise:e}=An(),{isIterable:u,isNodeStream:a,isWebStream:r}=uc(),{pipelineImpl:t}=pB(),{finished:i}=Tl();Q2e();function o(...l){return new e((s,c)=>{let d,f;const p=l[l.length-1];if(p&&typeof p=="object"&&!a(p)&&!u(p)&&!r(p)){const h=n(l);d=h.signal,f=h.end}t(l,(h,g)=>{h?c(h):s(g)},{signal:d,end:f})})}return CM={finished:i,pipeline:o},CM}var XZ;function Q2e(){if(XZ)return pM.exports;XZ=1;const{Buffer:n}=Xo(),{ObjectDefineProperty:e,ObjectKeys:u,ReflectApply:a}=An(),{promisify:{custom:r}}=mi(),{streamReturningOperators:t,promiseReturningOperators:i}=RIe(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:o}}=ti(),l=B2e(),{setDefaultHighWaterMark:s,getDefaultHighWaterMark:c}=yP(),{pipeline:d}=pB(),{destroyer:f}=A1(),p=Tl(),h=U2e(),g=uc(),_=pM.exports=dB().Stream;_.isDestroyed=g.isDestroyed,_.isDisturbed=g.isDisturbed,_.isErrored=g.isErrored,_.isReadable=g.isReadable,_.isWritable=g.isWritable,_.Readable=mP();for(const T of u(t)){let S=function(...N){if(new.target)throw o();return _.Readable.from(a(E,this,N))};var w=S;const E=t[T];e(S,"name",{__proto__:null,value:E.name}),e(S,"length",{__proto__:null,value:E.length}),e(_.Readable.prototype,T,{__proto__:null,value:S,enumerable:!1,configurable:!0,writable:!0})}for(const T of u(i)){let S=function(...j){if(new.target)throw o();return a(E,this,j)};var w=S;const E=i[T];e(S,"name",{__proto__:null,value:E.name}),e(S,"length",{__proto__:null,value:E.length}),e(_.Readable.prototype,T,{__proto__:null,value:S,enumerable:!1,configurable:!0,writable:!0})}_.Writable=fB(),_.Duplex=ec(),_.Transform=L2e(),_.PassThrough=q2e(),_.pipeline=d;const{addAbortSignal:m}=hP();return _.addAbortSignal=m,_.finished=p,_.destroy=f,_.compose=l,_.setDefaultHighWaterMark=s,_.getDefaultHighWaterMark=c,e(_,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return h}}),e(d,r,{__proto__:null,enumerable:!0,get(){return h.pipeline}}),e(p,r,{__proto__:null,enumerable:!0,get(){return h.finished}}),_.Stream=_,_._isUint8Array=function(E){return E instanceof Uint8Array},_._uint8ArrayToBuffer=function(E){return n.from(E.buffer,E.byteOffset,E.byteLength)},pM.exports}var KZ;function Nr(){return KZ||(KZ=1,(function(n){const e=Q2e(),u=U2e(),a=e.Readable.destroy;n.exports=e.Readable,n.exports._uint8ArrayToBuffer=e._uint8ArrayToBuffer,n.exports._isUint8Array=e._isUint8Array,n.exports.isDisturbed=e.isDisturbed,n.exports.isErrored=e.isErrored,n.exports.isReadable=e.isReadable,n.exports.Readable=e.Readable,n.exports.Writable=e.Writable,n.exports.Duplex=e.Duplex,n.exports.Transform=e.Transform,n.exports.PassThrough=e.PassThrough,n.exports.addAbortSignal=e.addAbortSignal,n.exports.finished=e.finished,n.exports.destroy=e.destroy,n.exports.destroy=a,n.exports.pipeline=e.pipeline,n.exports.compose=e.compose,Object.defineProperty(e,"promises",{configurable:!0,enumerable:!0,get(){return u}}),n.exports.Stream=e.Stream,n.exports.default=n.exports})(fM)),fM.exports}var JZ;function NIe(){if(JZ)return V2;JZ=1,Object.defineProperty(V2,"__esModule",{value:!0}),V2.ActorQueryResultSerializeJson=void 0;const n=$o(),e=De(),u=Gt(),a=Xt(),r=Nr();let t=class extends n.ActorQueryResultSerializeFixedMediaTypes{constructor(o){super(o)}async testHandleChecked(o,l){return["bindings","quads","boolean"].includes(o.type)?(0,e.passTestVoid)():(0,e.failTest)("This actor can only handle bindings or quad streams.")}async runHandle(o,l,s){const c=new r.Readable;if(c._read=()=>{},o.type==="bindings"||o.type==="quads"){let d=o.type==="bindings"?(0,u.wrap)(o.bindingsStream).map(p=>JSON.stringify(Object.fromEntries([...p].map(([h,g])=>[h.value,a.termToString(g)])))):(0,u.wrap)(o.quadStream).map(p=>JSON.stringify(a.quadToStringQuad(p))),f=!0;d=d.map(p=>{const h=`${f?"":","}
${p}`;return f=!1,h}).prepend(["["]).append([`
]
`]),c.wrap(d)}else try{c.push(`${JSON.stringify(await o.execute())}
`),c.push(null)}catch(d){setTimeout(()=>c.emit("error",d))}return{data:c}}};return V2.ActorQueryResultSerializeJson=t,V2}var WZ;function hB(){return WZ||(WZ=1,(function(n){var e=hf&&hf.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=hf&&hf.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(NIe(),n)})(hf)),hf}var bf={},K2={},YZ;function IIe(){if(YZ)return K2;YZ=1,Object.defineProperty(K2,"__esModule",{value:!0}),K2.ActorQueryResultSerializeSimple=void 0;const n=$o(),e=De(),u=Gt(),a=Xt(),r=Nr();let t=class Fg extends n.ActorQueryResultSerializeFixedMediaTypes{constructor(o){super(o)}async testHandleChecked(o,l){return["bindings","quads","boolean","void"].includes(o.type)?(0,e.passTestVoid)():(0,e.failTest)("This actor can only handle bindings streams, quad streams, booleans, or updates.")}static termToString(o){return o.termType==="Quad"?(0,a.termToString)(o):o.value}async runHandle(o,l,s){const c=new r.Readable;return o.type==="bindings"?c.wrap(o.bindingsStream.map(d=>`${[...d].map(([f,p])=>`?${f.value}: ${Fg.termToString(p)}`).join(`
`)}

`)):o.type==="quads"?c.wrap(o.quadStream.map(d=>`subject: ${Fg.termToString(d.subject)}
predicate: ${Fg.termToString(d.predicate)}
object: ${Fg.termToString(d.object)}
graph: ${Fg.termToString(d.graph)}

`)):c.wrap((0,u.wrap)(o.type==="boolean"?o.execute().then(d=>[`${d}
`]):o.execute().then(()=>[`ok
`]))),{data:c}}};return K2.ActorQueryResultSerializeSimple=t,K2}var ZZ;function yB(){return ZZ||(ZZ=1,(function(n){var e=bf&&bf.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=bf&&bf.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(IIe(),n)})(bf)),bf}var gf={},J2={},eee;function DIe(){if(eee)return J2;eee=1,Object.defineProperty(J2,"__esModule",{value:!0}),J2.ActorQueryResultSerializeSparqlCsv=void 0;const n=$o(),e=De(),u=Nr();let a=class V6 extends n.ActorQueryResultSerializeFixedMediaTypes{constructor(t){super(t)}static bindingToCsvBindings(t){if(!t)return"";let i=t.value;if(t.termType==="Literal")i=`${i}`;else if(t.termType==="BlankNode")i=`_:${i}`;else if(t.termType==="Quad"){let o=V6.bindingToCsvBindings(t.object);t.object.termType==="Literal"&&(o=`"${o.replaceAll('"','""')}"`),i=`<< ${V6.bindingToCsvBindings(t.subject)} ${V6.bindingToCsvBindings(t.predicate)} ${o} >>`}else i=`<${i}>`;return/[",\n\r]/u.test(i)&&(i=`"${i.replaceAll('"','""')}"`),i}async testHandleChecked(t,i){return t.type!=="bindings"?(0,e.failTest)("This actor can only handle bindings streams."):(0,e.passTestVoid)()}async runHandle(t,i,o){const l=t,s=new u.Readable,c=await l.metadata();return s.push(`${c.variables.map(d=>d.variable.value).join(",")}\r
`),s.wrap(l.bindingsStream.map(d=>`${c.variables.map(f=>V6.bindingToCsvBindings(d.get(f.variable))).join(",")}\r
`)),{data:s}}};return J2.ActorQueryResultSerializeSparqlCsv=a,J2}var tee;function mB(){return tee||(tee=1,(function(n){var e=gf&&gf.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=gf&&gf.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(DIe(),n)})(gf)),gf}var vf={},W2={},LM={},Ta={},ree;function FIe(){if(ree)return Ta;ree=1,Object.defineProperty(Ta,"__esModule",{value:!0}),Ta.stringQuadToQuad=Ta.quadToStringQuad=Ta.stringToTerm=Ta.getLiteralLanguage=Ta.getLiteralType=Ta.getLiteralValue=Ta.termToString=void 0;const n=Rr(),e=new n.DataFactory;function u(h){if(h)switch(h.termType){case"NamedNode":return`<${s(h.value)}>`;case"BlankNode":return`_:${h.value}`;case"Literal":{const g=h;return`"${c(g.value)}"${g.datatype&&g.datatype.value!=="http://www.w3.org/2001/XMLSchema#string"&&g.datatype.value!=="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"?`^^<${g.datatype.value}>`:""}${g.language?`@${g.language}`:""}`}case"Quad":return`<<${u(h.subject)} ${u(h.predicate)} ${u(h.object)}${h.graph.termType==="DefaultGraph"?"":` ${u(h.graph)}`}>>`;case"Variable":return`?${h.value}`;case"DefaultGraph":return h.value}}Ta.termToString=u;function a(h){const g=/^"([^]*)"((\^\^.*)|(@.*))?$/u.exec(h);if(!g)throw new Error(`${h} is not a literal`);return g[1].replace(/\\"/ug,'"')}Ta.getLiteralValue=a;function r(h){const g=/^"[^]*"(?:\^\^<([^"]+)>|(@)[^@"]+)?$/u.exec(h);if(!g)throw new Error(`${h} is not a literal`);return g[1]||(g[2]?"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString":"http://www.w3.org/2001/XMLSchema#string")}Ta.getLiteralType=r;function t(h){const g=/^"[^]*"(?:@([^@"]+)|\^\^[^"]+)?$/u.exec(h);if(!g)throw new Error(`${h} is not a literal`);return g[1]?g[1].toLowerCase():""}Ta.getLiteralLanguage=t;function i(h,g){if(g=g||e,!h||h.length===0)return g.defaultGraph();switch(h[0]){case"_":return g.blankNode(h.slice(2));case"?":if(!g.variable)throw new Error("Missing 'variable()' method on the given DataFactory");return g.variable(h.slice(1));case'"':{const _=t(h),m=g.namedNode(r(h));return g.literal(a(h),_||m)}default:if(h.startsWith("<<")&&h.endsWith(">>")){const _=h.slice(2,-2),m=[];let w=0,T=0;for(let E=0;E<_.length;E++){const S=_[E];if(S==="<"&&w++,S===">"){if(w===0)throw new Error(`Found closing tag without opening tag in ${h}`);w--}S===" "&&w===0&&(m.push(_.slice(T,E)),T=E+1)}if(w!==0)throw new Error(`Found opening tag without closing tag in ${h}`);if(m.push(_.slice(T,_.length)),m.length!==3&&m.length!==4)throw new Error(`Nested quad syntax error ${h}`);return g.quad(i(m[0]),i(m[1]),i(m[2]),m[3]?i(m[3]):void 0)}if(!h.startsWith("<")||!h.endsWith(">"))throw new Error(`Detected invalid iri for named node (must be wrapped in <>): ${h}`);return g.namedNode(h.slice(1,-1))}}Ta.stringToTerm=i;function o(h){return{subject:u(h.subject),predicate:u(h.predicate),object:u(h.object),graph:u(h.graph)}}Ta.quadToStringQuad=o;function l(h,g){return g=g||e,g.quad(i(h.subject,g),i(h.predicate,g),i(h.object,g),i(h.graph,g))}Ta.stringQuadToQuad=l;function s(h){return h.replace(d,p)}function c(h){return d.test(h)&&(h=h.replace(d,p)),h}const d=/["\\\t\n\r\b\f\u0000-\u0019]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,f=new Map([["\\","\\\\"],['"','\\"'],["	","\\t"],[`
`,"\\n"],["\r","\\r"],["\b","\\b"],["\f","\\f"]]);function p(h){const g=f.get(h);if(!g){if(h.length===1){const m=h.charCodeAt(0).toString(16);return`${"\\u0000".slice(0,-m.length)}${m}`}const _=((h.charCodeAt(0)-55296)*1024+h.charCodeAt(1)+9216).toString(16);return`${"\\U00000000".slice(0,-_.length)}${_}`}return g}return Ta}var nee;function Z4(){return nee||(nee=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.termToString=n.stringToTerm=n.stringQuadToQuad=n.quadToStringQuad=n.getLiteralValue=n.getLiteralType=n.getLiteralLanguage=void 0;const e=FIe();Object.defineProperty(n,"getLiteralLanguage",{enumerable:!0,get:function(){return e.getLiteralLanguage}}),Object.defineProperty(n,"getLiteralType",{enumerable:!0,get:function(){return e.getLiteralType}}),Object.defineProperty(n,"getLiteralValue",{enumerable:!0,get:function(){return e.getLiteralValue}}),Object.defineProperty(n,"quadToStringQuad",{enumerable:!0,get:function(){return e.quadToStringQuad}}),Object.defineProperty(n,"stringQuadToQuad",{enumerable:!0,get:function(){return e.stringQuadToQuad}}),Object.defineProperty(n,"stringToTerm",{enumerable:!0,get:function(){return e.stringToTerm}}),Object.defineProperty(n,"termToString",{enumerable:!0,get:function(){return e.termToString}})})(LM)),LM}var aee;function PIe(){if(aee)return W2;aee=1,Object.defineProperty(W2,"__esModule",{value:!0}),W2.ActorQueryResultSerializeSparqlTsv=void 0;const n=$o(),e=De(),u=Z4(),a=Nr();let r=class V2e extends n.ActorQueryResultSerializeFixedMediaTypes{constructor(i){super(i)}static bindingToTsvBindings(i){return i?(0,u.termToString)(i).replaceAll("	","\\t").replaceAll(`
`,"\\n").replaceAll("\r","\\r"):""}async testHandleChecked(i,o){return i.type!=="bindings"?(0,e.failTest)("This actor can only handle bindings streams."):(0,e.passTestVoid)()}async runHandle(i,o,l){const s=i,c=new a.Readable,d=await s.metadata();return c.push(`${d.variables.map(f=>f.variable.value).join("	")}
`),c.wrap(s.bindingsStream.map(f=>`${d.variables.map(p=>V2e.bindingToTsvBindings(f.get(p.variable))).join("	")}
`)),{data:c}}};return W2.ActorQueryResultSerializeSparqlTsv=r,W2}var iee;function bB(){return iee||(iee=1,(function(n){var e=vf&&vf.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=vf&&vf.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(PIe(),n)})(vf)),vf}var _f={},Y2={},Z2={},uee;function jIe(){if(uee)return Z2;uee=1,Object.defineProperty(Z2,"__esModule",{value:!0}),Z2.XmlSerializer=void 0;let n=class{constructor(){this.stack=[]}open(u,a){const r=`${this.identation()+this.formatTag(u,a,"open")}
`;return this.stack.push(u),r}close(){const u=this.stack.pop();if(u===void 0)throw new Error("There is no tag left to close");return`${this.identation()+this.formatTag(u,{},"close")}
`}serializeNode(u){if(u.children===void 0)return`${this.identation()+this.formatTag(u.name,u.attributes,"self-closing")}
`;if(typeof u.children=="string")return`${this.identation()+this.formatTag(u.name,u.attributes,"open")+this.escape(u.children)+this.formatTag(u.name,{},"close")}
`;const a=[];a.push(`${this.identation()+this.formatTag(u.name,u.attributes,"open")}
`),this.stack.push(u.name);for(const r of u.children)a.push(this.serializeNode(r));return this.stack.pop(),a.push(`${this.identation()+this.formatTag(u.name,{},"close")}
`),a.join("")}identation(){return this.stack.map(u=>"  ").join("")}formatTag(u,a,r){return`<${r==="close"?"/":""}${u}${Object.entries(a??{}).map(t=>` ${t[0]}="${this.escape(t[1])}"`)}${r==="self-closing"?"/":""}>`}escape(u){return u.replaceAll(/["&'<>]/gu,(a=>{switch(a){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";case"'":return"&apos;";case'"':return"&quot;"}}))}};return Z2.XmlSerializer=n,n.header=`<?xml version="1.0" encoding="UTF-8"?>
`,Z2}var oee;function MIe(){if(oee)return Y2;oee=1,Object.defineProperty(Y2,"__esModule",{value:!0}),Y2.ActorQueryResultSerializeSparqlXml=void 0;const n=$o(),e=De(),u=Gt(),a=Nr(),r=jIe();let t=class H2e extends n.ActorQueryResultSerializeFixedMediaTypes{constructor(o){super(o)}static bindingToXmlBindings(o,l){return{name:"binding",attributes:{name:l.value},children:[this.valueToXmlValue(o)]}}static valueToXmlValue(o){let l;switch(o.termType){case"Literal":return o.language?l={"xml:lang":o.language}:o.datatype&&o.datatype.value!=="http://www.w3.org/2001/XMLSchema#string"?l={datatype:o.datatype.value}:l={},{name:"literal",attributes:l,children:o.value};case"BlankNode":return{name:"bnode",children:o.value};case"Quad":return{name:"triple",children:[{name:"subject",children:[this.valueToXmlValue(o.subject)]},{name:"predicate",children:[this.valueToXmlValue(o.predicate)]},{name:"object",children:[this.valueToXmlValue(o.object)]}]};default:return{name:"uri",children:o.value}}}async testHandleChecked(o,l){return["bindings","boolean"].includes(o.type)?(0,e.passTestVoid)():(0,e.failTest)("This actor can only handle bindings streams or booleans.")}async runHandle(o,l,s){const c=new a.Readable;c._read=()=>{};const d=new r.XmlSerializer,f=await o.metadata();if(c.push(r.XmlSerializer.header),c.push(d.open("sparql",{xmlns:"http://www.w3.org/2005/sparql-results#"})),c.push(d.serializeNode({name:"head",children:f.variables.map(p=>({name:"variable",attributes:{name:p.variable.value}}))})),o.type==="bindings"){function*p(){yield d.close(),yield d.close()}c.push(d.open("results"));const h=(0,u.wrap)(o.bindingsStream).map(g=>d.serializeNode({name:"result",children:[...g].map(([_,m])=>H2e.bindingToXmlBindings(m,_))})).append((0,u.wrap)(p()));c.wrap(h)}else try{const p=await o.execute();c.push(d.serializeNode({name:"boolean",children:p.toString()})),c.push(d.close()),setTimeout(()=>c.push(null))}catch(p){setTimeout(()=>c.emit("error",p))}return{data:c}}};return Y2.ActorQueryResultSerializeSparqlXml=t,Y2}var see;function gB(){return see||(see=1,(function(n){var e=_f&&_f.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=_f&&_f.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(MIe(),n)})(_f)),_f}var Tf={},eT={},cee;function CIe(){if(cee)return eT;cee=1,Object.defineProperty(eT,"__esModule",{value:!0}),eT.ActorQueryResultSerializeTable=void 0;const n=$o(),e=lt(),u=De(),a=Xt(),r=Yr(),t=Nr();let i=class c7 extends n.ActorQueryResultSerializeFixedMediaTypes{constructor(l){super(l),this.padding=c7.repeat(" ",this.columnWidth)}static repeat(l,s){return l.repeat(s)}async testHandleChecked(l,s){return["bindings","quads"].includes(l.type)?(0,u.passTestVoid)():(0,u.failTest)("This actor can only handle bindings or quad streams.")}termToString(l){return l.termType==="Quad"?(0,a.termToString)(l):l.value}pad(l){return l.length<=this.columnWidth?l+this.padding.slice(l.length):`${l.slice(0,this.columnWidth-1)}`}pushHeader(l,s){const c=s.map(d=>this.pad(d.value)).join(" ");l.push(`${c}
${c7.repeat("-",c.length)}
`)}createRow(l,s){return`${l.map(c=>s.has(c)?this.termToString(s.get(c)):"").map(c=>this.pad(c)).join(" ")}
`}async runHandle(l,s,c){const d=new t.Readable;let f;if(l.type==="bindings"){f=l.bindingsStream.map(h=>this.createRow(p,h));const p=(await l.metadata()).variables.map(h=>h.variable);this.pushHeader(d,p)}else{f=l.quadStream.map(h=>`${(0,r.getTerms)(h).map(g=>this.pad(this.termToString(g))).join(" ")}
`);const p=l.context.getSafe(e.KeysInitQuery.dataFactory);this.pushHeader(d,r.QUAD_TERM_NAMES.map(h=>p.variable(h)))}return d.wrap(f),{data:d}}};return eT.ActorQueryResultSerializeTable=i,eT}var lee;function vB(){return lee||(lee=1,(function(n){var e=Tf&&Tf.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=Tf&&Tf.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(CIe(),n)})(Tf)),Tf}var wf={},tT={},Sf={},rT={},Ef={},Af={},nT={},aT={},dee;function u1(){if(dee)return aT;dee=1,Object.defineProperty(aT,"__esModule",{value:!0}),aT.Translator=void 0;let n=class{constructor(){this.supportedRdfDatatypes=[],this.fromRdfHandlers={},this.toRdfHandlers={}}static incorrectRdfDataType(u){throw new Error(`Invalid RDF ${u.datatype.value} value: '${u.value}'`)}registerHandler(u,a,r){for(const t of a)this.supportedRdfDatatypes.push(t),this.fromRdfHandlers[t.value]=u;for(const t of r){let i=this.toRdfHandlers[t];i||(this.toRdfHandlers[t]=i=[]),i.push(u)}}fromRdf(u,a){const r=this.fromRdfHandlers[u.datatype.value];return r?r.fromRdf(u,a):u.value}toRdf(u,a){const r=this.toRdfHandlers[typeof u];if(r)for(const t of r){const i=t.toRdf(u,a);if(i)return i}throw new Error(`Invalid JavaScript value: '${u}'`)}getSupportedRdfDatatypes(){return this.supportedRdfDatatypes}getSupportedJavaScriptPrimitives(){return Object.keys(this.toRdfHandlers)}};return aT.Translator=n,aT}var fee;function LIe(){if(fee)return nT;fee=1,Object.defineProperty(nT,"__esModule",{value:!0}),nT.TypeHandlerBoolean=void 0;const n=u1();let e=class k2e{fromRdf(a,r){switch(a.value){case"true":return!0;case"false":return!1;case"1":return!0;case"0":return!1}return r&&n.Translator.incorrectRdfDataType(a),!1}toRdf(a,{datatype:r,dataFactory:t}){return t.literal(a?"true":"false",r||t.namedNode(k2e.TYPE))}};return e.TYPE="http://www.w3.org/2001/XMLSchema#boolean",nT.TypeHandlerBoolean=e,nT}var iT={},pee;function qIe(){if(pee)return iT;pee=1,Object.defineProperty(iT,"__esModule",{value:!0}),iT.TypeHandlerDate=void 0;const n=u1();let e=class l7{fromRdf(a,r){switch(r&&!a.value.match(l7.VALIDATORS[a.datatype.value.substr(33,a.datatype.value.length)])&&n.Translator.incorrectRdfDataType(a),a.datatype.value){case"http://www.w3.org/2001/XMLSchema#gDay":return new Date(0,0,parseInt(a.value,10));case"http://www.w3.org/2001/XMLSchema#gMonthDay":const t=a.value.split("-");return new Date(0,parseInt(t[0],10)-1,parseInt(t[1],10));case"http://www.w3.org/2001/XMLSchema#gYear":return new Date(a.value+"-01-01");case"http://www.w3.org/2001/XMLSchema#gYearMonth":return new Date(a.value+"-01");default:return new Date(a.value)}}toRdf(a,{datatype:r,dataFactory:t}){if(r=r||t.namedNode(l7.TYPES[0]),!(a instanceof Date))return null;const i=a;let o;switch(r.value){case"http://www.w3.org/2001/XMLSchema#gDay":o=String(i.getUTCDate());break;case"http://www.w3.org/2001/XMLSchema#gMonthDay":o=i.getUTCMonth()+1+"-"+i.getUTCDate();break;case"http://www.w3.org/2001/XMLSchema#gYear":o=String(i.getUTCFullYear());break;case"http://www.w3.org/2001/XMLSchema#gYearMonth":o=i.getUTCFullYear()+"-"+(i.getUTCMonth()+1);break;case"http://www.w3.org/2001/XMLSchema#date":o=i.toISOString().replace(/T.*$/,"");break;default:o=i.toISOString()}return t.literal(o,r)}};return e.TYPES=["http://www.w3.org/2001/XMLSchema#dateTime","http://www.w3.org/2001/XMLSchema#date","http://www.w3.org/2001/XMLSchema#gDay","http://www.w3.org/2001/XMLSchema#gMonthDay","http://www.w3.org/2001/XMLSchema#gYear","http://www.w3.org/2001/XMLSchema#gYearMonth"],e.VALIDATORS={date:/^[0-9]+-[0-9][0-9]-[0-9][0-9]Z?$/,dateTime:/^[0-9]+-[0-9][0-9]-[0-9][0-9]T[0-9][0-9]:[0-9][0-9]:[0-9][0-9](\.[0-9][0-9][0-9])?((Z?)|([\+-][0-9][0-9]:[0-9][0-9]))$/,gDay:/^[0-9]+$/,gMonthDay:/^[0-9]+-[0-9][0-9]$/,gYear:/^[0-9]+$/,gYearMonth:/^[0-9]+-[0-9][0-9]$/},iT.TypeHandlerDate=e,iT}var uT={},hee;function BIe(){if(hee)return uT;hee=1,Object.defineProperty(uT,"__esModule",{value:!0}),uT.TypeHandlerNumberDouble=void 0;const n=u1();let e=class z2e{fromRdf(a,r){const t=parseFloat(a.value);return r&&isNaN(t)&&n.Translator.incorrectRdfDataType(a),t}toRdf(a,{datatype:r,dataFactory:t}){return r=r||t.namedNode(z2e.TYPES[0]),isNaN(a)?t.literal("NaN",r):isFinite(a)?a%1===0?null:t.literal(a.toExponential(15).replace(/(\d)0*e\+?/,"$1E"),r):t.literal(a>0?"INF":"-INF",r)}};return e.TYPES=["http://www.w3.org/2001/XMLSchema#double","http://www.w3.org/2001/XMLSchema#decimal","http://www.w3.org/2001/XMLSchema#float"],uT.TypeHandlerNumberDouble=e,uT}var oT={},yee;function UIe(){if(yee)return oT;yee=1,Object.defineProperty(oT,"__esModule",{value:!0}),oT.TypeHandlerNumberInteger=void 0;const n=u1();let e=class H6{fromRdf(a,r){const t=parseInt(a.value,10);return r&&(isNaN(t)||a.value.indexOf(".")>=0)&&n.Translator.incorrectRdfDataType(a),t}toRdf(a,{datatype:r,dataFactory:t}){return t.literal(String(a),r||(a<=H6.MAX_INT&&a>=H6.MIN_INT?t.namedNode(H6.TYPES[0]):t.namedNode(H6.TYPES[1])))}};return e.TYPES=["http://www.w3.org/2001/XMLSchema#integer","http://www.w3.org/2001/XMLSchema#long","http://www.w3.org/2001/XMLSchema#int","http://www.w3.org/2001/XMLSchema#byte","http://www.w3.org/2001/XMLSchema#short","http://www.w3.org/2001/XMLSchema#negativeInteger","http://www.w3.org/2001/XMLSchema#nonNegativeInteger","http://www.w3.org/2001/XMLSchema#nonPositiveInteger","http://www.w3.org/2001/XMLSchema#positiveInteger","http://www.w3.org/2001/XMLSchema#unsignedByte","http://www.w3.org/2001/XMLSchema#unsignedInt","http://www.w3.org/2001/XMLSchema#unsignedLong","http://www.w3.org/2001/XMLSchema#unsignedShort"],e.MAX_INT=2147483647,e.MIN_INT=-2147483648,oT.TypeHandlerNumberInteger=e,oT}var sT={},mee;function QIe(){if(mee)return sT;mee=1,Object.defineProperty(sT,"__esModule",{value:!0}),sT.TypeHandlerString=void 0;let n=class{fromRdf(u){return u.value}toRdf(u,{datatype:a,dataFactory:r}){return r.literal(u,a)}};return n.TYPES=["http://www.w3.org/2001/XMLSchema#string","http://www.w3.org/2001/XMLSchema#normalizedString","http://www.w3.org/2001/XMLSchema#anyURI","http://www.w3.org/2001/XMLSchema#base64Binary","http://www.w3.org/2001/XMLSchema#language","http://www.w3.org/2001/XMLSchema#Name","http://www.w3.org/2001/XMLSchema#NCName","http://www.w3.org/2001/XMLSchema#NMTOKEN","http://www.w3.org/2001/XMLSchema#token","http://www.w3.org/2001/XMLSchema#hexBinary","http://www.w3.org/1999/02/22-rdf-syntax-ns#langString","http://www.w3.org/2001/XMLSchema#time","http://www.w3.org/2001/XMLSchema#duration"],sT.TypeHandlerString=n,sT}var bee;function gee(){return bee||(bee=1,(function(n){var e=Af&&Af.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=Af&&Af.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(LIe(),n),u(qIe(),n),u(BIe(),n),u(UIe(),n),u(QIe(),n)})(Af)),Af}var qM={},vee;function VIe(){return vee||(vee=1,Object.defineProperty(qM,"__esModule",{value:!0})),qM}var _ee;function HIe(){return _ee||(_ee=1,(function(n){var e=Ef&&Ef.__createBinding||(Object.create?(function(p,h,g,_){_===void 0&&(_=g);var m=Object.getOwnPropertyDescriptor(h,g);(!m||("get"in m?!h.__esModule:m.writable||m.configurable))&&(m={enumerable:!0,get:function(){return h[g]}}),Object.defineProperty(p,_,m)}):(function(p,h,g,_){_===void 0&&(_=g),p[_]=h[g]})),u=Ef&&Ef.__exportStar||function(p,h){for(var g in p)g!=="default"&&!Object.prototype.hasOwnProperty.call(h,g)&&e(h,p,g)};Object.defineProperty(n,"__esModule",{value:!0}),n.getSupportedJavaScriptPrimitives=n.getSupportedRdfDatatypes=n.getTermRaw=n.toRdf=n.fromRdf=void 0;const a=Rr(),r=gee(),t=u1();u(gee(),n),u(VIe(),n),u(u1(),n);const i=new a.DataFactory,o=new t.Translator;o.registerHandler(new r.TypeHandlerString,r.TypeHandlerString.TYPES.map(p=>i.namedNode(p)),["string"]),o.registerHandler(new r.TypeHandlerBoolean,[r.TypeHandlerBoolean.TYPE].map(p=>i.namedNode(p)),["boolean"]),o.registerHandler(new r.TypeHandlerNumberDouble,r.TypeHandlerNumberDouble.TYPES.map(p=>i.namedNode(p)),["number"]),o.registerHandler(new r.TypeHandlerNumberInteger,r.TypeHandlerNumberInteger.TYPES.map(p=>i.namedNode(p)),["number"]),o.registerHandler(new r.TypeHandlerDate,r.TypeHandlerDate.TYPES.map(p=>i.namedNode(p)),["object"]);function l(p,h){return o.fromRdf(p,h)}n.fromRdf=l;function s(p,h){return h&&"namedNode"in h&&(h={dataFactory:h}),h=h||{},h&&!h.dataFactory&&(h.dataFactory=i),o.toRdf(p,h)}n.toRdf=s;function c(p,h){return p.termType==="Literal"?l(p,h):p.value}n.getTermRaw=c;function d(){return o.getSupportedRdfDatatypes()}n.getSupportedRdfDatatypes=d;function f(){return o.getSupportedJavaScriptPrimitives()}n.getSupportedJavaScriptPrimitives=f})(Ef)),Ef}var Of={},cT={},BM,Tee;function _B(){if(Tee)return BM;Tee=1;var{Buffer:n}=Xo(),e={},u=e.LEFT_BRACE=1,a=e.RIGHT_BRACE=2,r=e.LEFT_BRACKET=3,t=e.RIGHT_BRACKET=4,i=e.COLON=5,o=e.COMMA=6,l=e.TRUE=7,s=e.FALSE=8,c=e.NULL=9,d=e.STRING=10,f=e.NUMBER=11,p=e.START=17,h=e.STOP=18,g=e.TRUE1=33,_=e.TRUE2=34,m=e.TRUE3=35,w=e.FALSE1=49,T=e.FALSE2=50,E=e.FALSE3=51,S=e.FALSE4=52,N=e.NULL1=65,j=e.NULL2=66,q=e.NULL3=67,O=e.NUMBER1=81,I=e.NUMBER3=83,A=e.STRING1=97,P=e.STRING2=98,C=e.STRING3=99,B=e.STRING4=100,V=e.STRING5=101,U=e.STRING6=102,G=e.VALUE=113,J=e.KEY=114,ne=e.OBJECT=129,W=e.ARRAY=130,ee=92,se=47,pe=8,le=12,Ee=10,Ae=13,Ne=9,Oe=64*1024;function be(F){return n.alloc?n.alloc(F):new n(F)}function te(){this.tState=p,this.value=void 0,this.string=void 0,this.stringBuffer=be(Oe),this.stringBufferOffset=0,this.unicode=void 0,this.highSurrogate=void 0,this.key=void 0,this.mode=void 0,this.stack=[],this.state=G,this.bytes_remaining=0,this.bytes_in_sequence=0,this.temp_buffs={2:be(2),3:be(3),4:be(4)},this.offset=-1}te.toknam=function(F){for(var D=Object.keys(e),L=0,H=D.length;L<H;L++){var Z=D[L];if(e[Z]===F)return Z}return F&&"0x"+F.toString(16)};var v=te.prototype;return v.onError=function(F){throw F},v.charError=function(F,D){this.tState=h,this.onError(new Error("Unexpected "+JSON.stringify(String.fromCharCode(F[D]))+" at position "+D+" in state "+te.toknam(this.tState)))},v.appendStringChar=function(F){this.stringBufferOffset>=Oe&&(this.string+=this.stringBuffer.toString("utf8"),this.stringBufferOffset=0),this.stringBuffer[this.stringBufferOffset++]=F},v.appendStringBuf=function(F,D,L){var H=F.length;typeof D=="number"&&(typeof L=="number"?L<0?H=F.length-D+L:H=L-D:H=F.length-D),H<0&&(H=0),this.stringBufferOffset+H>Oe&&(this.string+=this.stringBuffer.toString("utf8",0,this.stringBufferOffset),this.stringBufferOffset=0),F.copy(this.stringBuffer,this.stringBufferOffset,D,L),this.stringBufferOffset+=H},v.write=function(F){typeof F=="string"&&(F=new n(F));for(var D,L=0,H=F.length;L<H;L++)if(this.tState===p){if(D=F[L],this.offset++,D===123)this.onToken(u,"{");else if(D===125)this.onToken(a,"}");else if(D===91)this.onToken(r,"[");else if(D===93)this.onToken(t,"]");else if(D===58)this.onToken(i,":");else if(D===44)this.onToken(o,",");else if(D===116)this.tState=g;else if(D===102)this.tState=w;else if(D===110)this.tState=N;else if(D===34)this.string="",this.stringBufferOffset=0,this.tState=A;else if(D===45)this.string="-",this.tState=O;else if(D>=48&&D<64)this.string=String.fromCharCode(D),this.tState=I;else if(!(D===32||D===9||D===10||D===13))return this.charError(F,L)}else if(this.tState===A)if(D=F[L],this.bytes_remaining>0){for(var Z=0;Z<this.bytes_remaining;Z++)this.temp_buffs[this.bytes_in_sequence][this.bytes_in_sequence-this.bytes_remaining+Z]=F[Z];this.appendStringBuf(this.temp_buffs[this.bytes_in_sequence]),this.bytes_in_sequence=this.bytes_remaining=0,L=L+Z-1}else if(this.bytes_remaining===0&&D>=128){if(D<=193||D>244)return this.onError(new Error("Invalid UTF-8 character at position "+L+" in state "+te.toknam(this.tState)));if(D>=194&&D<=223&&(this.bytes_in_sequence=2),D>=224&&D<=239&&(this.bytes_in_sequence=3),D>=240&&D<=244&&(this.bytes_in_sequence=4),this.bytes_in_sequence+L>F.length){for(var $=0;$<=F.length-1-L;$++)this.temp_buffs[this.bytes_in_sequence][$]=F[L+$];this.bytes_remaining=L+this.bytes_in_sequence-F.length,L=F.length-1}else this.appendStringBuf(F,L,L+this.bytes_in_sequence),L=L+this.bytes_in_sequence-1}else if(D===34)this.tState=p,this.string+=this.stringBuffer.toString("utf8",0,this.stringBufferOffset),this.stringBufferOffset=0,this.onToken(d,this.string),this.offset+=n.byteLength(this.string,"utf8")+1,this.string=void 0;else if(D===92)this.tState=P;else if(D>=32)this.appendStringChar(D);else return this.charError(F,L);else if(this.tState===P)if(D=F[L],D===34)this.appendStringChar(D),this.tState=A;else if(D===92)this.appendStringChar(ee),this.tState=A;else if(D===47)this.appendStringChar(se),this.tState=A;else if(D===98)this.appendStringChar(pe),this.tState=A;else if(D===102)this.appendStringChar(le),this.tState=A;else if(D===110)this.appendStringChar(Ee),this.tState=A;else if(D===114)this.appendStringChar(Ae),this.tState=A;else if(D===116)this.appendStringChar(Ne),this.tState=A;else if(D===117)this.unicode="",this.tState=C;else return this.charError(F,L);else if(this.tState===C||this.tState===B||this.tState===V||this.tState===U)if(D=F[L],D>=48&&D<64||D>64&&D<=70||D>96&&D<=102){if(this.unicode+=String.fromCharCode(D),this.tState++===U){var ue=parseInt(this.unicode,16);this.unicode=void 0,this.highSurrogate!==void 0&&ue>=56320&&ue<57344?(this.appendStringBuf(new n(String.fromCharCode(this.highSurrogate,ue))),this.highSurrogate=void 0):this.highSurrogate===void 0&&ue>=55296&&ue<56320?this.highSurrogate=ue:(this.highSurrogate!==void 0&&(this.appendStringBuf(new n(String.fromCharCode(this.highSurrogate))),this.highSurrogate=void 0),this.appendStringBuf(new n(String.fromCharCode(ue)))),this.tState=A}}else return this.charError(F,L);else if(this.tState===O||this.tState===I)switch(D=F[L],D){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 46:case 101:case 69:case 43:case 45:this.string+=String.fromCharCode(D),this.tState=I;break;default:this.tState=p;var ae=this.numberReviver(this.string,F,L);if(ae)return ae;this.offset+=this.string.length-1,this.string=void 0,L--;break}else if(this.tState===g)if(F[L]===114)this.tState=_;else return this.charError(F,L);else if(this.tState===_)if(F[L]===117)this.tState=m;else return this.charError(F,L);else if(this.tState===m)if(F[L]===101)this.tState=p,this.onToken(l,!0),this.offset+=3;else return this.charError(F,L);else if(this.tState===w)if(F[L]===97)this.tState=T;else return this.charError(F,L);else if(this.tState===T)if(F[L]===108)this.tState=E;else return this.charError(F,L);else if(this.tState===E)if(F[L]===115)this.tState=S;else return this.charError(F,L);else if(this.tState===S)if(F[L]===101)this.tState=p,this.onToken(s,!1),this.offset+=4;else return this.charError(F,L);else if(this.tState===N)if(F[L]===117)this.tState=j;else return this.charError(F,L);else if(this.tState===j)if(F[L]===108)this.tState=q;else return this.charError(F,L);else if(this.tState===q)if(F[L]===108)this.tState=p,this.onToken(c,null),this.offset+=3;else return this.charError(F,L)},v.onToken=function(F,D){},v.parseError=function(F,D){this.tState=h,this.onError(new Error("Unexpected "+te.toknam(F)+(D?"("+JSON.stringify(D)+")":"")+" in state "+te.toknam(this.state)))},v.push=function(){this.stack.push({value:this.value,key:this.key,mode:this.mode})},v.pop=function(){var F=this.value,D=this.stack.pop();this.value=D.value,this.key=D.key,this.mode=D.mode,this.emit(F),this.mode||(this.state=G)},v.emit=function(F){this.mode&&(this.state=o),this.onValue(F)},v.onValue=function(F){},v.onToken=function(F,D){if(this.state===G)if(F===d||F===f||F===l||F===s||F===c)this.value&&(this.value[this.key]=D),this.emit(D);else if(F===u)this.push(),this.value?this.value=this.value[this.key]={}:this.value={},this.key=void 0,this.state=J,this.mode=ne;else if(F===r)this.push(),this.value?this.value=this.value[this.key]=[]:this.value=[],this.key=0,this.mode=W,this.state=G;else if(F===a)if(this.mode===ne)this.pop();else return this.parseError(F,D);else if(F===t)if(this.mode===W)this.pop();else return this.parseError(F,D);else return this.parseError(F,D);else if(this.state===J)if(F===d)this.key=D,this.state=i;else if(F===a)this.pop();else return this.parseError(F,D);else if(this.state===i)if(F===i)this.state=G;else return this.parseError(F,D);else if(this.state===o)if(F===o)this.mode===W?(this.key++,this.state=G):this.mode===ne&&(this.state=J);else if(F===t&&this.mode===W||F===a&&this.mode===ne)this.pop();else return this.parseError(F,D);else return this.parseError(F,D)},v.numberReviver=function(F,D,L){var H=Number(F);if(isNaN(H))return this.charError(D,L);F.match(/[0-9]+/)==F&&H.toString()!=F?this.onToken(d,F):this.onToken(f,H)},te.C=e,BM=te,BM}var wee;function kIe(){if(wee)return cT;wee=1,Object.defineProperty(cT,"__esModule",{value:!0}),cT.SparqlJsonParser=void 0;const n=Rr(),e=Nr(),u=_B();class a{constructor(t){var i;t=t||{},this.dataFactory=t.dataFactory||new n.DataFactory,this.prefixVariableQuestionMark=!!t.prefixVariableQuestionMark,this.suppressMissingStreamResultsError=(i=t.suppressMissingStreamResultsError)!==null&&i!==void 0?i:!0}parseJsonResults(t){return t.results.bindings.map(i=>this.parseJsonBindings(i))}parseJsonResultsStream(t){const i=d=>c.emit("error",d);t.on("error",i);const o=new u;o.onError=i;let l=!1,s=!1;o.onValue=d=>{if(o.key==="vars"&&o.stack.length===2&&o.stack[1].key==="head")c.emit("variables",d.map(f=>this.dataFactory.variable(f))),l=!0;else if(o.key==="results"&&o.stack.length===1)s=!0;else if(typeof o.key=="number"&&o.stack.length===3&&o.stack[1].key==="results"&&o.stack[2].key==="bindings")try{c.push(this.parseJsonBindings(d))}catch(f){c.emit("error",f)}else o.key==="metadata"&&o.stack.length===1&&c.emit("metadata",d)};const c=t.on("end",d=>{!s&&!this.suppressMissingStreamResultsError?c.emit("error",new Error("No valid SPARQL query results were found.")):l||c.emit("variables",[])}).pipe(new e.Transform({objectMode:!0,transform(d,f,p){o.write(d),p()}}));return c}parseJsonBindings(t){const i={};for(const o in t){const l=t[o];i[this.prefixVariableQuestionMark?"?"+o:o]=this.parseJsonValue(l)}return i}parseJsonValue(t){let i;switch(t.type){case"bnode":i=this.dataFactory.blankNode(t.value);break;case"literal":t["xml:lang"]?i=this.dataFactory.literal(t.value,t["xml:lang"]):t.datatype?i=this.dataFactory.literal(t.value,this.dataFactory.namedNode(t.datatype)):i=this.dataFactory.literal(t.value);break;case"typed-literal":i=this.dataFactory.literal(t.value,this.dataFactory.namedNode(t.datatype));break;case"triple":const o=t.value;if(!o||!o.subject||!o.predicate||!o.object)throw new Error("Invalid quoted triple: "+JSON.stringify(t));i=this.dataFactory.quad(this.parseJsonValue(o.subject),this.parseJsonValue(o.predicate),this.parseJsonValue(o.object));break;default:i=this.dataFactory.namedNode(t.value);break}return i}parseJsonBoolean(t){if("boolean"in t)return t.boolean;throw new Error("No valid ASK response was found.")}parseJsonBooleanStream(t){return new Promise((i,o)=>{const l=new u;l.onError=o,l.onValue=s=>{l.key==="boolean"&&typeof s=="boolean"&&l.stack.length===1&&i(s)},t.on("error",o).on("data",s=>l.write(s)).on("end",()=>o(new Error("No valid ASK response was found.")))})}}return cT.SparqlJsonParser=a,cT}var See;function zIe(){return See||(See=1,(function(n){var e=Of&&Of.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=Of&&Of.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(kIe(),n)})(Of)),Of}var Eee;function GIe(){if(Eee)return rT;Eee=1,Object.defineProperty(rT,"__esModule",{value:!0}),rT.Converter=void 0;const n=HIe(),e=zIe();let u=class Hs{constructor(r){r=r||{delimiter:"_"},r.prefixVariableQuestionMark=!1,this.delimiter=r.delimiter||"_",this.parser=new e.SparqlJsonParser(r),this.materializeRdfJsTerms=r.materializeRdfJsTerms}static addValueToTree(r,t,i,o,l,s){const c=t[0],d=o?o+s+c:c,f=l.singularizeVariables[d];if(t.length===1)f?r[c]||(r[c]=i):(r[c]||(r[c]=[]),r[c].push(i));else{let p;f?(r[c]||(r[c]={}),p=r[c]):(r[c]||(r[c]=[{}]),p=r[c][0]),Hs.addValueToTree(p,t.slice(1),i,d,l,s)}}static mergeTrees(r,t){if(typeof r!=typeof t)throw new Error(`Two incompatible tree nodes were found: ${typeof r} and ${typeof t}`);if(Array.isArray(r)!==Array.isArray(t))throw new Error(`Two incompatible tree nodes were found: Array?${Array.isArray(r)} and Array?${Array.isArray(t)}`);if(typeof r=="object"&&typeof t=="object"){if(r.termType&&t.termType)return r.equals(t)?{valid:!0,result:r}:{valid:!1,result:r};if(Array.isArray(r)&&Array.isArray(t)){if(r.length>0){const i=[];let o=!1;for(const l of r){const s=Hs.mergeTrees(l,t[0]);s.valid?(o=!0,i.push(s.result)):i.push(l)}if(o)return{valid:!0,result:i}}return{valid:!0,result:r.concat(t)}}else{const i={};for(const o in t)i[o]=t[o];for(const o in r)if(i[o]){const l=Hs.mergeTrees(r[o],i[o]);if(l.valid)i[o]=l.result;else return{valid:!1,result:r}}else i[o]=r[o];return{valid:!0,result:i}}}else throw new Error(`Unmergable tree types: ${typeof r} and ${typeof t}`)}static materializeTree(r){if(r.termType)return(0,n.getTermRaw)(r);if(Array.isArray(r))return r.map(Hs.materializeTree);{const t={};for(const i in r)t[i]=Hs.materializeTree(r[i]);return t}}sparqlJsonResultsToTree(r,t){return this.bindingsToTree(this.parser.parseJsonResults(r),t||{singularizeVariables:{}})}bindingsToTree(r,t){const i=t&&t.singularizeVariables[""];let o=i?{}:[];for(const l of r){const s=i?{}:[{}];for(const c in l){const d=c.split(this.delimiter),f=l[c];Hs.addValueToTree(i?s:s[0],d,f,"",t,this.delimiter)}o=Hs.mergeTrees(o,s).result}return this.materializeRdfJsTerms&&(o=Hs.materializeTree(o)),o}};return rT.Converter=u,rT}var Aee;function $Ie(){return Aee||(Aee=1,(function(n){var e=Sf&&Sf.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=Sf&&Sf.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(GIe(),n)})(Sf)),Sf}var Oee;function xee(){if(Oee)return tT;Oee=1,Object.defineProperty(tT,"__esModule",{value:!0}),tT.ActorQueryResultSerializeTree=void 0;const n=$o(),e=lt(),u=De(),a=Nr(),r=$Ie();let t=class G2e extends n.ActorQueryResultSerializeFixedMediaTypes{constructor(o){super(o)}static async bindingsStreamToGraphQl(o,l,s){const c=u.ActionContext.ensureActionContext(l),d=new r.Converter(s),f={singularizeVariables:c.get(e.KeysInitQuery.graphqlSingularizeVariables)??{}};return d.bindingsToTree(await o.map(p=>Object.fromEntries([...p].map(([h,g])=>[h.value,g]))).toArray(),f)}async testHandleChecked(o){return o.type!=="bindings"?(0,u.failTest)("This actor can only handle bindings streams."):(0,u.passTestVoid)()}async runHandle(o,l){const s=new a.Readable;return s._read=()=>{s._read=()=>{},G2e.bindingsStreamToGraphQl(o.bindingsStream,o.context,{materializeRdfJsTerms:!0}).then(c=>{s.push(JSON.stringify(c,null,"  ")),s.push(null)}).catch(c=>s.emit("error",c))},{data:s}}};return tT.ActorQueryResultSerializeTree=t,tT}var Ree;function TB(){return Ree||(Ree=1,(function(n){var e=wf&&wf.__createBinding||(Object.create?(function(t,i,o,l){l===void 0&&(l=o);var s=Object.getOwnPropertyDescriptor(i,o);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[o]}}),Object.defineProperty(t,l,s)}):(function(t,i,o,l){l===void 0&&(l=o),t[l]=i[o]})),u=wf&&wf.__exportStar||function(t,i){for(var o in t)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,t,o)};Object.defineProperty(n,"__esModule",{value:!0}),n.bindingsStreamToGraphQl=void 0;const a=xee(),{bindingsStreamToGraphQl:r}=a.ActorQueryResultSerializeTree;n.bindingsStreamToGraphQl=r,u(xee(),n)})(wf)),wf}var xf={},lT={},Nee;function XIe(){if(Nee)return lT;Nee=1,Object.defineProperty(lT,"__esModule",{value:!0}),lT.MediatorCombineUnion=void 0;const n=De();let e=class extends n.Mediator{constructor(a){super(a),this.combiner=this.createCombiner()}async mediate(a){let r;try{r=this.publish(a)}catch{r=[]}if(this.filterFailures){const o=[];for(const l of r)(await l.reply).isPassed()&&o.push(l);r=o}const t=[];await Promise.all(r.map(async({reply:o},l)=>{const s=await o,c=s.getOrThrow();return t[l]=s.getSideData(),c}));const i=await Promise.all(r.map((o,l)=>o.actor.runObservable(a,t[l])));return this.combiner(i)}mediateWith(){throw new Error("Method not supported.")}createCombiner(){return a=>{const r={};return r[this.field]={},[{}].concat(a.map(t=>t[this.field])).forEach(t=>{r[this.field]={...t,...r[this.field]}}),r}}};return lT.MediatorCombineUnion=e,lT}var Iee;function vn(){return Iee||(Iee=1,(function(n){var e=xf&&xf.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=xf&&xf.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(XIe(),n)})(xf)),xf}var Rf={},dT={},Dee;function KIe(){if(Dee)return dT;Dee=1,Object.defineProperty(dT,"__esModule",{value:!0}),dT.MediatorNumber=void 0;const n=De();let e=class extends n.Mediator{constructor(a){super(a),this.indexPicker=this.createIndexPicker()}createIndexPicker(){switch(this.type){case"min":return a=>a.reduce((r,t,i)=>{const o=this.getOrDefault(t[this.field],Number.POSITIVE_INFINITY);return o!==null&&(Number.isNaN(r[0])||r[0]>o)?[o,i]:r},[Number.NaN,-1])[1];case"max":return a=>a.reduce((r,t,i)=>{const o=this.getOrDefault(t[this.field],Number.NEGATIVE_INFINITY);return o!==null&&(Number.isNaN(r[0])||r[0]<o)?[o,i]:r},[Number.NaN,-1])[1];default:throw new Error(`No valid "type" value was given, must be either 'min' or 'max', but got: ${this.type}`)}}getOrDefault(a,r){return a===void 0?r:a}async mediateWith(a,r){let t=await Promise.all(r.map(({reply:c})=>c));const i=[];if(this.ignoreFailures){const c={};c[this.field]=null,t=t.map(d=>d.isFailed()?(i.push(d.getFailMessage()),(0,n.passTestWithSideData)(c,void 0)):d)}const o=[],l=t.map((c,d)=>{const f=c.getOrThrow();return o[d]=c.getSideData(),f}),s=this.indexPicker(l);return s<0?(0,n.failTest)(this.constructFailureMessage(a,i)):(0,n.passTestWithSideData)(r[s].actor,o[s])}};return dT.MediatorNumber=e,dT}var Fee;function oa(){return Fee||(Fee=1,(function(n){var e=Rf&&Rf.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=Rf&&Rf.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(KIe(),n)})(Rf)),Rf}var Nf={},fT={},If={},pT={},Ps={},Pee;function wB(){if(Pee)return Ps;Pee=1,Object.defineProperty(Ps,"__esModule",{value:!0}),Ps.ActorDereferenceBase=Ps.isHardError=Ps.emptyReadable=void 0;const n=lt(),e=De(),u=Nr();function a(){const i=new u.Readable;return i.push(null),i}Ps.emptyReadable=a;function r(i){return!i.get(n.KeysInitQuery.lenient)}Ps.isHardError=r;let t=class extends e.Actor{constructor(o){super(o)}async dereferenceErrorHandler(o,l,s){if(r(o.context))throw l;return this.logWarn(o.context,l.message,()=>({url:o.url})),{...s,data:a()}}};return Ps.ActorDereferenceBase=t,Ps}var jee;function JIe(){if(jee)return pT;jee=1,Object.defineProperty(pT,"__esModule",{value:!0}),pT.ActorDereference=void 0;const n=wB();let e=class extends n.ActorDereferenceBase{constructor(a){super(a)}async handleDereferenceErrors(a,r,t,i=0){return this.dereferenceErrorHandler(a,r,{url:a.url,exists:!1,headers:t,requestTime:i})}};return pT.ActorDereference=e,pT}var Df={},Mee;function WIe(){if(Mee)return Df;Mee=1,Object.defineProperty(Df,"__esModule",{value:!0}),Df.ActorDereferenceParse=Df.getMediaTypeFromExtension=void 0;const n=De(),e=Nr(),u=wB();function a(t,i){const o=t.lastIndexOf(".");return o>=0&&i?.[t.slice(o+1)]||""}Df.getMediaTypeFromExtension=a;let r=class extends u.ActorDereferenceBase{constructor(i){super(i)}async test(i){return(0,n.passTestVoid)()}handleDereferenceStreamErrors(i,o){return(0,u.isHardError)(i.context)||(o.on("error",l=>{this.logWarn(i.context,l.message,()=>({url:i.url})),o.push(null)}),o=o.pipe(new e.PassThrough({objectMode:!0}))),o}async run(i){const{context:o}=i,l=await this.mediatorDereference.mediate({...i,mediaTypes:async()=>(await this.mediatorParseMediatypes?.mediate({context:o,mediaTypes:!0}))?.mediaTypes});let s;if(l.exists)try{s=(await this.mediatorParse.mediate({context:o,handle:{context:o,...l,metadata:await this.getMetadata(l)},handleMediaType:l.mediaType||i.mediaType||a(l.url,this.mediaMappings)})).handle,s.data=this.handleDereferenceStreamErrors(i,s.data)}catch(c){await l.data.close?.(),s=await this.dereferenceErrorHandler(i,c,{})}else await l.data.close?.(),s={data:(0,u.emptyReadable)()};return{...l,...s}}};return Df.ActorDereferenceParse=r,Df}var Cee;function SB(){return Cee||(Cee=1,(function(n){var e=If&&If.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=If&&If.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(JIe(),n),u(WIe(),n),u(wB(),n)})(If)),If}var Lee;function YIe(){if(Lee)return fT;Lee=1,Object.defineProperty(fT,"__esModule",{value:!0}),fT.ActorDereferenceFallback=void 0;const n=SB(),e=De();let u=class extends n.ActorDereference{constructor(r){super(r)}async test(r){return(0,e.passTestVoid)()}async run(r){return this.handleDereferenceErrors(r,new Error(`Could not dereference '${r.url}'`))}};return fT.ActorDereferenceFallback=u,fT}var qee;function EB(){return qee||(qee=1,(function(n){var e=Nf&&Nf.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=Nf&&Nf.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(YIe(),n)})(Nf)),Nf}var Ff={},hT={},Pf={},yT={},Bee;function ZIe(){if(Bee)return yT;Bee=1,Object.defineProperty(yT,"__esModule",{value:!0}),yT.ActorRdfJoinEntriesSort=void 0;const n=De();let e=class extends n.Actor{constructor(a){super(a)}};return yT.ActorRdfJoinEntriesSort=e,yT}var Uee;function eDe(){return Uee||(Uee=1,(function(n){var e=Pf&&Pf.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=Pf&&Pf.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(ZIe(),n)})(Pf)),Pf}var ku={},fu={},UM={},Qee;function eN(){return Qee||(Qee=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.expressionTypes=n.types=void 0,(function(e){e.ALT="alt",e.ASK="ask",e.BGP="bgp",e.CONSTRUCT="construct",e.DESCRIBE="describe",e.DISTINCT="distinct",e.EXPRESSION="expression",e.EXTEND="extend",e.FILTER="filter",e.FROM="from",e.GRAPH="graph",e.GROUP="group",e.INV="inv",e.JOIN="join",e.LEFT_JOIN="leftjoin",e.LINK="link",e.MINUS="minus",e.NOP="nop",e.NPS="nps",e.ONE_OR_MORE_PATH="OneOrMorePath",e.ORDER_BY="orderby",e.PATH="path",e.PATTERN="pattern",e.PROJECT="project",e.REDUCED="reduced",e.SEQ="seq",e.SERVICE="service",e.SLICE="slice",e.UNION="union",e.VALUES="values",e.ZERO_OR_MORE_PATH="ZeroOrMorePath",e.ZERO_OR_ONE_PATH="ZeroOrOnePath",e.COMPOSITE_UPDATE="compositeupdate",e.DELETE_INSERT="deleteinsert",e.LOAD="load",e.CLEAR="clear",e.CREATE="create",e.DROP="drop",e.ADD="add",e.MOVE="move",e.COPY="copy"})(n.types||(n.types={})),(function(e){e.AGGREGATE="aggregate",e.EXISTENCE="existence",e.NAMED="named",e.OPERATOR="operator",e.TERM="term",e.WILDCARD="wildcard"})(n.expressionTypes||(n.expressionTypes={}))})(UM)),UM}var No={},Vee;function bP(){if(Vee)return No;Vee=1;var n=No&&No.__createBinding||(Object.create?(function(l,s,c,d){d===void 0&&(d=c);var f=Object.getOwnPropertyDescriptor(s,c);(!f||("get"in f?!s.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return s[c]}}),Object.defineProperty(l,d,f)}):(function(l,s,c,d){d===void 0&&(d=c),l[d]=s[c]})),e=No&&No.__setModuleDefault||(Object.create?(function(l,s){Object.defineProperty(l,"default",{enumerable:!0,value:s})}):function(l,s){l.default=s}),u=No&&No.__importStar||function(l){if(l&&l.__esModule)return l;var s={};if(l!=null)for(var c in l)c!=="default"&&Object.prototype.hasOwnProperty.call(l,c)&&n(s,l,c);return e(s,l),s};Object.defineProperty(No,"__esModule",{value:!0});const a=u(eN()),r=Rr(),t=Xt(),i=$n();class o{constructor(s){this.dataFactory=s||new r.DataFactory,this.stringType=this.createTerm("http://www.w3.org/2001/XMLSchema#string")}createAlt(s,c=!0){return this.flattenMulti({type:a.types.ALT,input:s},c)}createAsk(s){return{type:a.types.ASK,input:s}}createBoundAggregate(s,c,d,f,p){const h=this.createAggregateExpression(c,d,f,p);return h.variable=s,h}createBgp(s){return{type:a.types.BGP,patterns:s}}createConstruct(s,c){return{type:a.types.CONSTRUCT,input:s,template:c}}createDescribe(s,c){return{type:a.types.DESCRIBE,input:s,terms:c}}createDistinct(s){return{type:a.types.DISTINCT,input:s}}createExtend(s,c,d){return{type:a.types.EXTEND,input:s,variable:c,expression:d}}createFrom(s,c,d){return{type:a.types.FROM,input:s,default:c,named:d}}createFilter(s,c){return{type:a.types.FILTER,input:s,expression:c}}createGraph(s,c){return{type:a.types.GRAPH,input:s,name:c}}createGroup(s,c,d){return{type:a.types.GROUP,input:s,variables:c,aggregates:d}}createInv(s){return{type:a.types.INV,path:s}}createJoin(s,c=!0){return this.flattenMulti({type:a.types.JOIN,input:s},c)}createLeftJoin(s,c,d){return d?{type:a.types.LEFT_JOIN,input:[s,c],expression:d}:{type:a.types.LEFT_JOIN,input:[s,c]}}createLink(s){return{type:a.types.LINK,iri:s}}createMinus(s,c){return{type:a.types.MINUS,input:[s,c]}}createNop(){return{type:a.types.NOP}}createNps(s){return{type:a.types.NPS,iris:s}}createOneOrMorePath(s){return{type:a.types.ONE_OR_MORE_PATH,path:s}}createOrderBy(s,c){return{type:a.types.ORDER_BY,input:s,expressions:c}}createPath(s,c,d,f){return f?{type:a.types.PATH,subject:s,predicate:c,object:d,graph:f}:{type:a.types.PATH,subject:s,predicate:c,object:d,graph:this.dataFactory.defaultGraph()}}createPattern(s,c,d,f){const p=this.dataFactory.quad(s,c,d,f);return p.type=a.types.PATTERN,p}createProject(s,c){return{type:a.types.PROJECT,input:s,variables:c}}createReduced(s){return{type:a.types.REDUCED,input:s}}createSeq(s,c=!0){return this.flattenMulti({type:a.types.SEQ,input:s},c)}createService(s,c,d){return{type:a.types.SERVICE,input:s,name:c,silent:!!d}}createSlice(s,c,d){return c=c||0,d!==void 0?{type:a.types.SLICE,input:s,start:c,length:d}:{type:a.types.SLICE,input:s,start:c}}createUnion(s,c=!0){return this.flattenMulti({type:a.types.UNION,input:s},c)}createValues(s,c){return{type:a.types.VALUES,variables:s,bindings:c}}createZeroOrMorePath(s){return{type:a.types.ZERO_OR_MORE_PATH,path:s}}createZeroOrOnePath(s){return{type:a.types.ZERO_OR_ONE_PATH,path:s}}createAggregateExpression(s,c,d,f){return f?{type:a.types.EXPRESSION,expressionType:a.expressionTypes.AGGREGATE,aggregator:s,expression:c,separator:f,distinct:d}:{type:a.types.EXPRESSION,expressionType:a.expressionTypes.AGGREGATE,aggregator:s,expression:c,distinct:d}}createExistenceExpression(s,c){return{type:a.types.EXPRESSION,expressionType:a.expressionTypes.EXISTENCE,not:s,input:c}}createNamedExpression(s,c){return{type:a.types.EXPRESSION,expressionType:a.expressionTypes.NAMED,name:s,args:c}}createOperatorExpression(s,c){return{type:a.types.EXPRESSION,expressionType:a.expressionTypes.OPERATOR,operator:s,args:c}}createTermExpression(s){return{type:a.types.EXPRESSION,expressionType:a.expressionTypes.TERM,term:s}}createWildcardExpression(){return{type:a.types.EXPRESSION,expressionType:a.expressionTypes.WILDCARD,wildcard:new i.Wildcard}}createTerm(s){return s[0]==="$"&&(s=s.replace("$","?")),(0,t.stringToTerm)(s,this.dataFactory)}createCompositeUpdate(s){return{type:a.types.COMPOSITE_UPDATE,updates:s}}createDeleteInsert(s,c,d){const f={type:a.types.DELETE_INSERT};return s&&(f.delete=s),c&&(f.insert=c),d&&(f.where=d),f}createLoad(s,c,d){const f={type:a.types.LOAD,source:s};return c&&(f.destination=c),this.addSilent(f,!!d)}createClear(s,c){return this.addSilent({type:a.types.CLEAR,source:s},!!c)}createCreate(s,c){return this.addSilent({type:a.types.CREATE,source:s},!!c)}createDrop(s,c){return this.addSilent({type:a.types.DROP,source:s},!!c)}createAdd(s,c,d){return this.addSilent({type:a.types.ADD,source:s,destination:c},!!d)}createMove(s,c,d){return this.addSilent({type:a.types.MOVE,source:s,destination:c},!!d)}createCopy(s,c,d){return this.addSilent({type:a.types.COPY,source:s,destination:c},!!d)}addSilent(s,c){return c&&(s.silent=c),s}flattenMulti(s,c){if(!c)return s;const d=s.type,f=s.input;let p=[];for(const h of f)h.type===d?p.push(...h.input):p.push(h);return s.input=p,s}}return No.default=o,No}var hg={},Hee;function AB(){if(Hee)return hg;Hee=1;var n=hg&&hg.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(hg,"__esModule",{value:!0});const e=eN(),u=n(bP()),a=Yr();class r{static flatten(i){return Array.prototype.concat(...i).filter(o=>o)}static objectify(i){if(i.termType){if(i.termType==="Quad")return{type:"pattern",termType:"Quad",subject:r.objectify(i.subject),predicate:r.objectify(i.predicate),object:r.objectify(i.object),graph:r.objectify(i.graph)};{let o={termType:i.termType,value:i.value};return i.language&&(o.language=i.language),i.datatype&&(o.datatype=r.objectify(i.datatype)),o}}if(Array.isArray(i))return i.map(o=>r.objectify(o));if(i===Object(i)){let o={};for(let l of Object.keys(i))o[l]=r.objectify(i[l]);return o}return i}static inScopeVariables(i){const o=[];function l(c){o.find(d=>c.value===d.value)||o.push(c)}function s(c){c.subject.termType==="Variable"&&l(c.subject),c.predicate.termType==="Variable"&&l(c.predicate),c.object.termType==="Variable"&&l(c.object),c.graph.termType==="Variable"&&l(c.graph),c.subject.termType==="Quad"&&s(c.subject),c.predicate.termType==="Quad"&&s(c.predicate),c.object.termType==="Quad"&&s(c.object),c.graph.termType==="Quad"&&s(c.graph)}return r.recurseOperation(i,{[e.types.EXPRESSION]:c=>(c.expressionType===e.expressionTypes.AGGREGATE&&c.variable&&l(c.variable),!0),[e.types.EXTEND]:c=>(l(c.variable),!0),[e.types.GRAPH]:c=>(c.name.termType==="Variable"&&l(c.name),!0),[e.types.GROUP]:c=>(c.variables.forEach(l),!0),[e.types.PATH]:c=>(c.subject.termType==="Variable"&&l(c.subject),c.object.termType==="Variable"&&l(c.object),c.graph.termType==="Variable"&&l(c.graph),c.subject.termType==="Quad"&&s(c.subject),c.object.termType==="Quad"&&s(c.object),c.graph.termType==="Quad"&&s(c.graph),!0),[e.types.PATTERN]:c=>(s(c),!0),[e.types.PROJECT]:c=>(c.variables.forEach(l),!1),[e.types.SERVICE]:c=>(c.name.termType==="Variable"&&l(c.name),!0),[e.types.VALUES]:c=>(c.variables.forEach(l),!0)}),o}static recurseOperation(i,o){let l=i,s=!0;const c=o[i.type];if(c&&(s=c(i)),!s)return;let d=f=>r.recurseOperation(f,o);switch(l.type){case e.types.ALT:l.input.map(d);break;case e.types.ASK:d(l.input);break;case e.types.BGP:l.patterns.forEach(d);break;case e.types.CONSTRUCT:d(l.input),l.template.map(d);break;case e.types.DESCRIBE:d(l.input);break;case e.types.DISTINCT:d(l.input);break;case e.types.EXPRESSION:l.expressionType===e.expressionTypes.EXISTENCE&&d(l.input);break;case e.types.EXTEND:d(l.input),d(l.expression);break;case e.types.FILTER:d(l.input),d(l.expression);break;case e.types.FROM:d(l.input);break;case e.types.GRAPH:d(l.input);break;case e.types.GROUP:d(l.input),l.aggregates.forEach(d);break;case e.types.INV:d(l.path);break;case e.types.JOIN:l.input.map(d);break;case e.types.LEFT_JOIN:l.input.map(d),l.expression&&d(l.expression);break;case e.types.LINK:break;case e.types.MINUS:l.input.map(d);break;case e.types.NOP:break;case e.types.NPS:break;case e.types.ONE_OR_MORE_PATH:d(l.path);break;case e.types.ORDER_BY:d(l.input),l.expressions.forEach(d);break;case e.types.PATH:d(l.predicate);break;case e.types.PATTERN:break;case e.types.PROJECT:d(l.input);break;case e.types.REDUCED:d(l.input);break;case e.types.SEQ:l.input.map(d);break;case e.types.SERVICE:d(l.input);break;case e.types.SLICE:d(l.input);break;case e.types.UNION:l.input.map(d);break;case e.types.VALUES:break;case e.types.ZERO_OR_MORE_PATH:d(l.path);break;case e.types.ZERO_OR_ONE_PATH:d(l.path);break;case e.types.COMPOSITE_UPDATE:l.updates.forEach(f=>d(f));break;case e.types.DELETE_INSERT:l.delete&&l.delete.forEach(f=>d(f)),l.insert&&l.insert.forEach(f=>d(f)),l.where&&d(l.where);break;case e.types.LOAD:break;case e.types.CLEAR:break;case e.types.CREATE:break;case e.types.DROP:break;case e.types.ADD:break;case e.types.MOVE:break;case e.types.COPY:break;default:throw new Error(`Unknown Operation type ${l.type}`)}}static mapOperation(i,o,l){let s=i,c=!0,d=!0;l=l||new u.default;const f=o[i.type];if(f){const g=f(i,l);s=g.result,c=g.recurse,d=g.copyMetadata!==!1}let p;if(d&&(s.metadata||i.metadata)&&(p={...s.metadata,...i.metadata}),!c)return p&&(s.metadata=p),s;let h=g=>r.mapOperation(g,o,l);switch(s.type){case e.types.ALT:s=l.createAlt(s.input.map(h));break;case e.types.ASK:s=l.createAsk(h(s.input));break;case e.types.BGP:s=l.createBgp(s.patterns.map(h));break;case e.types.CONSTRUCT:s=l.createConstruct(h(s.input),s.template.map(h));break;case e.types.DESCRIBE:s=l.createDescribe(h(s.input),s.terms);break;case e.types.DISTINCT:s=l.createDistinct(h(s.input));break;case e.types.EXPRESSION:s=r.mapExpression(s,o,l);break;case e.types.EXTEND:s=l.createExtend(h(s.input),s.variable,h(s.expression));break;case e.types.FILTER:s=l.createFilter(h(s.input),h(s.expression));break;case e.types.FROM:s=l.createFrom(h(s.input),[...s.default],[...s.named]);break;case e.types.GRAPH:s=l.createGraph(h(s.input),s.name);break;case e.types.GROUP:s=l.createGroup(h(s.input),[].concat(s.variables),s.aggregates.map(h));break;case e.types.INV:s=l.createInv(h(s.path));break;case e.types.JOIN:s=l.createJoin(s.input.map(h));break;case e.types.LEFT_JOIN:s=l.createLeftJoin(h(s.input[0]),h(s.input[1]),s.expression?h(s.expression):void 0);break;case e.types.LINK:s=l.createLink(s.iri);break;case e.types.MINUS:s=l.createMinus(h(s.input[0]),h(s.input[1]));break;case e.types.NOP:s=l.createNop();break;case e.types.NPS:s=l.createNps([].concat(s.iris));break;case e.types.ONE_OR_MORE_PATH:s=l.createOneOrMorePath(h(s.path));break;case e.types.ORDER_BY:s=l.createOrderBy(h(s.input),s.expressions.map(h));break;case e.types.PATH:s=l.createPath(s.subject,h(s.predicate),s.object,s.graph);break;case e.types.PATTERN:s=l.createPattern(s.subject,s.predicate,s.object,s.graph);break;case e.types.PROJECT:s=l.createProject(h(s.input),[...s.variables]);break;case e.types.REDUCED:s=l.createReduced(h(s.input));break;case e.types.SEQ:s=l.createSeq(s.input.map(h));break;case e.types.SERVICE:s=l.createService(h(s.input),s.name,s.silent);break;case e.types.SLICE:s=l.createSlice(h(s.input),s.start,s.length);break;case e.types.UNION:s=l.createUnion(s.input.map(h));break;case e.types.VALUES:s=l.createValues([].concat(s.variables),s.bindings.map(g=>Object.assign({},g)));break;case e.types.ZERO_OR_MORE_PATH:s=l.createZeroOrMorePath(h(s.path));break;case e.types.ZERO_OR_ONE_PATH:s=l.createZeroOrOnePath(h(s.path));break;case e.types.COMPOSITE_UPDATE:s=l.createCompositeUpdate(s.updates.map(h));break;case e.types.DELETE_INSERT:s=l.createDeleteInsert(s.delete?s.delete.map(h):void 0,s.insert?s.insert.map(h):void 0,s.where?h(s.where):void 0);break;case e.types.LOAD:s=l.createLoad(s.source,s.destination,s.silent);break;case e.types.CLEAR:s=l.createClear(s.source,s.silent);break;case e.types.CREATE:s=l.createCreate(s.source,s.silent);break;case e.types.DROP:s=l.createDrop(s.source,s.silent);break;case e.types.ADD:s=l.createAdd(s.source,s.destination);break;case e.types.MOVE:s=l.createMove(s.source,s.destination);break;case e.types.COPY:s=l.createCopy(s.source,s.destination);break;default:throw new Error(`Unknown Operation type ${s.type}`)}return p&&(s.metadata=p),s}static mapExpression(i,o,l){let s=i,c=!0;l=l||new u.default;const d=o[i.expressionType];if(d&&({result:s,recurse:c}=d(i,l)),!c)return s;let f=p=>r.mapOperation(p,o,l);switch(i.expressionType){case e.expressionTypes.AGGREGATE:return i.variable?l.createBoundAggregate(i.variable,i.aggregator,f(i.expression),i.distinct,i.separator):l.createAggregateExpression(i.aggregator,f(i.expression),i.distinct,i.separator);case e.expressionTypes.EXISTENCE:return l.createExistenceExpression(i.not,f(i.input));case e.expressionTypes.NAMED:return l.createNamedExpression(i.name,i.args.map(f));case e.expressionTypes.OPERATOR:return l.createOperatorExpression(i.operator,i.args.map(f));case e.expressionTypes.TERM:return l.createTermExpression(i.term);case e.expressionTypes.WILDCARD:return l.createWildcardExpression();default:throw new Error(`Unknown Expression type ${i.expressionType}`)}}static cloneOperation(i){return r.mapOperation(i,{})}static cloneExpression(i){return r.mapExpression(i,{})}static createUniqueVariable(i,o,l){let s=0,c=i;for(;o[c];)c=`${i}${s++}`;return l.variable(c)}static isSimpleTerm(i){return i.termType!==void 0&&i.termType!=="Quad"&&i.termType!=="Wildcard"}static isQuad(i){return i.termType==="Quad"}static hasQuadVariables(i){return(0,a.someTermsNested)(i,o=>o.termType==="Variable")}static isWildcard(i){return i.termType==="Wildcard"}}return hg.default=r,hg}var kee;function tDe(){if(kee)return fu;kee=1;var n=fu&&fu.__createBinding||(Object.create?(function(v,F,D,L){L===void 0&&(L=D);var H=Object.getOwnPropertyDescriptor(F,D);(!H||("get"in H?!F.__esModule:H.writable||H.configurable))&&(H={enumerable:!0,get:function(){return F[D]}}),Object.defineProperty(v,L,H)}):(function(v,F,D,L){L===void 0&&(L=D),v[L]=F[D]})),e=fu&&fu.__setModuleDefault||(Object.create?(function(v,F){Object.defineProperty(v,"default",{enumerable:!0,value:F})}):function(v,F){v.default=F}),u=fu&&fu.__importStar||function(v){if(v&&v.__esModule)return v;var F={};if(v!=null)for(var D in v)D!=="default"&&Object.prototype.hasOwnProperty.call(v,D)&&n(F,v,D);return e(F,v),F},a=fu&&fu.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(fu,"__esModule",{value:!0});const r=T1(),t=Xt(),i=u(eN()),o=a(bP()),l=a(AB()),s=$n().Parser,c=i.types;let d=new Set,f=0,p=!1,h;function g(v,F){F=F||{},h=new o.default(F.dataFactory);let D;if(m(v)){let L=new s(F);L._resetBlanks(),D=L.parse(v)}else D=v;return _(D,F.quads,F.blankToVariable)}fu.default=g;function _(v,F,D){if(d=new Set,f=0,p=!!F,!v.type)return h.createNop();if(v.type!=="query"&&v.type!=="update")throw new Error("Translate only works on complete query or update objects.");let L;if(S(v),v.type==="query"){const H={type:"group",patterns:v.where||[]};L=j(H),L=W(v,L)}else v.type==="update"&&(L=pe(v));return D&&(L=te(L)),L}function m(v){return typeof v=="string"}function w(v){return!!v?.termType}function T(v){return v.subject&&v.predicate&&v.object}function E(v){return v?.termType==="Variable"}function S(v){if(w(v))E(v)&&d.add(`?${v.value}`);else if(Array.isArray(v))for(const F of v)S(F);else if(v&&typeof v=="object")for(let F of Object.keys(v))F.startsWith("?")?d.add(F):F.startsWith("$")&&d.add(`?${F.slice(1)}`),S(v[F])}function N(v){let F={};if(T(v)){const D=[N(v.subject),N(v.predicate),N(v.object),v.graph?N(v.graph):{}];Object.assign(F,...D)}else if(w(v))E(v)&&(F[v.value]=v);else if(v.type==="bgp"){const D=v.triples;Object.assign(F,...D.map(N))}else if(v.type==="path")Object.assign(F,...v.items.map(N));else if(v.type==="group"||v.type==="union"||v.type==="optional")Object.assign(F,...v.patterns.map(N));else if(v.type==="service"||v.type==="graph")Object.assign(F,N(v.name)),Object.assign(F,...v.patterns.map(N));else if(v.type==="bind")Object.assign(F,N(v.variable));else if(v.type==="values"){if(v.values.length>0){const D=Object.keys(v.values[0]).map(L=>h.createTerm(L));Object.assign(F,...D.map(N))}}else if(v.type==="query"&&(v.queryType==="SELECT"||v.queryType==="DESCRIBE")){v.where&&v.variables.some(l.default.isWildcard)&&Object.assign(F,...v.where.map(N));for(const D of v.variables)E(D)?Object.assign(F,N(D)):D.variable&&Object.assign(F,N(D.variable));if(v.queryType==="SELECT"){if(v.group)for(const D of v.group)D.variable&&Object.assign(F,N(D.variable));if(v.values){const D={type:"values",values:v.values};Object.assign(F,N(D))}}}return F}function j(v){if(v.type==="bgp")return O(v);if(v.type==="union")return h.createUnion(v.patterns.map(F=>(F.type!=="group"&&(F={type:"group",patterns:[F]}),j(F))));if(v.type==="graph"){const F={type:"group",patterns:v.patterns};let D=j(F);return p?D=U(D,v.name):D=h.createGraph(D,v.name),D}if(v.type==="values")return ne(v);if(v.type==="query")return _(v,p,!1);if(v.type==="group"){let F=[],D=[];for(let Z of v.patterns)(Z.type==="filter"?F:D).push(Z);let L=D.reduce(G,h.createBgp([])),H=F.map(Z=>q(Z.expression));return H.length>0&&(L=h.createFilter(L,H.reduce((Z,$)=>h.createOperatorExpression("&&",[Z,$])))),L}throw new Error(`Unexpected type: ${v.type}`)}function q(v){if(l.default.isSimpleTerm(v))return h.createTermExpression(v);if(l.default.isQuad(v))return l.default.hasQuadVariables(v)?h.createOperatorExpression("triple",[q(v.subject),q(v.predicate),q(v.object)]):h.createTermExpression(v);if(l.default.isWildcard(v))return h.createWildcardExpression();if("aggregation"in v)return h.createAggregateExpression(v.aggregation,q(v.expression),!!v.distinct,v.separator);if("function"in v)return h.createNamedExpression(v.function,v.args.map(q));if("operator"in v)return v.operator==="exists"||v.operator==="notexists"?h.createExistenceExpression(v.operator==="notexists",j(v.args[0])):((v.operator==="in"||v.operator==="notin")&&(v.args=[v.args[0]].concat(v.args[1])),h.createOperatorExpression(v.operator,v.args.map(q)));throw new Error(`Unknown expression: ${JSON.stringify(v)}`)}function O(v){let F=[],D=[];for(let L of v.triples)if("pathType"in L.predicate){let H=I(L);for(let Z of H)Z.type===c.PATH?(F.length>0&&D.push(h.createBgp(F)),F=[],D.push(Z)):F.push(Z)}else F.push(B(L));return F.length>0&&D.push(h.createBgp(F)),D.length===1?D[0]:h.createJoin(D)}function I(v){let F=v.subject,D=A(v.predicate),L=v.object;return P(F,D,L)}function A(v){if(l.default.isSimpleTerm(v)){if(v.termType==="NamedNode")return h.createLink(v);throw new Error(`Path predicate should be a NamedNode, got ${JSON.stringify(v)}`)}if(v.pathType==="^")return h.createInv(A(v.items[0]));if(v.pathType==="!"){let F=[],D=[],L;"pathType"in v.items[0]&&v.items[0].pathType==="|"?L=v.items[0].items:L=v.items;for(let $ of L)if(l.default.isSimpleTerm($))F.push($);else if($.pathType==="^")D.push($.items[0]);else throw new Error(`Unexpected item: ${JSON.stringify($)}`);let H=h.createNps(F),Z=h.createInv(h.createNps(D));return D.length===0?H:F.length===0?Z:h.createAlt([H,Z])}if(v.pathType==="/")return h.createSeq(v.items.map(A));if(v.pathType==="|")return h.createAlt(v.items.map(A));if(v.pathType==="*")return h.createZeroOrMorePath(A(v.items[0]));if(v.pathType==="+")return h.createOneOrMorePath(A(v.items[0]));if(v.pathType==="?")return h.createZeroOrOnePath(A(v.items[0]));throw new Error(`Unable to translate path expression ${JSON.stringify(v)}`)}function P(v,F,D){if(F.type===c.LINK)return[h.createPattern(v,F.iri,D)];if(F.type===c.INV)return P(D,F.path,v);if(F.type===c.SEQ){let L=v;return l.default.flatten(F.input.map((H,Z)=>{const $=Z===F.input.length-1?D:C(),ue=P(L,H,$);return $.termType==="Variable"&&(L=$),ue}))}return[h.createPath(v,F,D)]}function C(){let v=`?var${f++}`;return d.has(v)?C():(d.add(v),h.createTerm(v))}function B(v){if("pathType"in v.predicate)throw new Error("Trying to translate property path to quad.");return h.createPattern(v.subject,v.predicate,v.object,v.graph)}let V=Object.values(c);function U(v,F,D){if(v.type===c.GRAPH){if(D)throw new Error("Recursing through nested GRAPH statements with a replacement is impossible.");v=U(v.input,v.name)}else if(v.type!==c.SERVICE)if(v.type===c.BGP)v.patterns=v.patterns.map(L=>(D&&(L.subject.equals(F)&&(L.subject=D),L.predicate.equals(F)&&(L.predicate=D),L.object.equals(F)&&(L.object=D)),L.graph.termType==="DefaultGraph"&&(L.graph=F),L));else if(v.type===c.PATH)D&&(v.subject.equals(F)&&(v.subject=D),v.object.equals(F)&&(v.object=D)),v.graph.termType==="DefaultGraph"&&(v.graph=F);else if(v.type===c.PROJECT&&!D)v.variables.some(L=>L.equals(F))||(D=C()),v.input=U(v.input,F,D);else if(v.type===c.EXTEND&&!D)v.variable.equals(F)&&(D=C()),v.input=U(v.input,F,D);else for(let L of Object.keys(v))Array.isArray(v[L])?v[L]=v[L].map(H=>U(H,F,D)):V.indexOf(v[L].type)>=0?v[L]=U(v[L],F,D):D&&E(v[L])&&v[L].equals(F)&&(v[L]=D);return v}function G(v,F){if(F.type==="optional"){const D=j({type:"group",patterns:F.patterns});D.type===c.FILTER?v=h.createLeftJoin(v,D.input,D.expression):v=h.createLeftJoin(v,D)}else if(F.type==="minus"){const D=j({type:"group",patterns:F.patterns});v=h.createMinus(v,D)}else if(F.type==="bind")v=h.createExtend(v,F.variable,q(F.expression));else if(F.type==="service"){const D={type:"group",patterns:F.patterns},L=h.createService(j(D),F.name,F.silent);v=J(v,L)}else{const D=j(F);v=J(v,D)}return v}function J(v,F){return v.type===c.BGP&&F.type===c.BGP?v=h.createBgp([...v.patterns,...F.patterns]):v.type===c.BGP&&v.patterns.length===0?v=F:F.type===c.BGP&&F.patterns.length===0||(v=h.createJoin([v,F])),v}function ne(v){let F=(v.values.length===0?[]:Object.keys(v.values[0])).map(h.createTerm.bind(h)),D=v.values.map(L=>{let H=Object.keys(L);H=H.filter($=>L[$]!==void 0);let Z={};for(let $ of H)Z[$]=L[$];return Z});return h.createValues(F,D)}function W(v,F){const D=v,L=[],H={};if(D.variables=D.variables&&D.variables.map($=>ee($,H)),D.having=D.having&&D.having.map($=>ee($,H)),D.order=D.order&&D.order.map($=>ee($,H)),D.group||Object.keys(H).length>0){const $=Object.keys(H).map(ae=>se(H[ae],h.createTerm(ae))),ue=[];if(D.group)for(const ae of D.group)if(l.default.isSimpleTerm(ae.expression))ue.push(ae.expression);else{const ce="variable"in ae?ae.variable:C();F=h.createExtend(F,ce,q(ae.expression)),ue.push(ce)}F=h.createGroup(F,ue,$)}if(D.having)for(let $ of D.having)F=h.createFilter(F,q($));v.values&&(F=h.createJoin([F,ne(v)]));let Z=[];if(v.queryType==="SELECT"||v.queryType==="DESCRIBE")if(v.variables.some($=>$&&l.default.isWildcard($)))Z=Object.values(N(v)).sort(($,ue)=>$.value.localeCompare(ue.value));else for(let $ of v.variables)E($)||!("variable"in $)?Z.push($):$.variable&&(Z.push($.variable),L.push($));for(let $ of L)F=h.createExtend(F,$.variable,q($.expression));return D.order&&(F=h.createOrderBy(F,D.order.map($=>{let ue=q($.expression);return $.descending&&(ue=h.createOperatorExpression("desc",[ue])),ue}))),v.queryType==="SELECT"&&(F=h.createProject(F,Z)),D.distinct&&(F=h.createDistinct(F)),D.reduced&&(F=h.createReduced(F)),v.queryType==="CONSTRUCT"?F=h.createConstruct(F,(v.template||[]).map(B)):v.queryType==="ASK"?F=h.createAsk(F):v.queryType==="DESCRIBE"&&(F=h.createDescribe(F,Z)),(D.offset||D.limit)&&(F=h.createSlice(F,D.offset||0,D.limit)),D.from&&(F=h.createFrom(F,D.from.default,D.from.named)),F}function ee(v,F){if("type"in v&&v.type==="aggregate"){let D=!1,L;for(let H of Object.keys(F))if(r(F[H],v)){L=h.createTerm(H),D=!0;break}return D||(L=C(),F[(0,t.termToString)(L)]=v),L}return"expression"in v&&v.expression?{...v,expression:ee(v.expression,F)}:"args"in v&&v.args?{...v,args:v.args.map(D=>ee(D,F))}:v}function se(v,F){if(v.type!=="aggregate"||!v.aggregation)throw new Error(`Unexpected input: ${JSON.stringify(v)}`);const D=q(v);return D.variable=F,D}function pe(v){return v.updates.length===1?le(v.updates[0]):h.createCompositeUpdate(v.updates.map(le))}function le(v){if("type"in v){if(v.type==="load")return Oe(v);if(v.type==="clear"||v.type==="create"||v.type==="drop")return Ne(v);if(v.type==="add"||v.type==="copy"||v.type==="move")return be(v)}else if(v.updateType==="insertdelete"||v.updateType==="deletewhere"||v.updateType==="delete"||v.updateType==="insert")return Ee(v);throw new Error(`Unknown update type ${JSON.stringify(v)}`)}function Ee(v){if(!p)throw new Error("INSERT/DELETE operations are only supported with quads option enabled");let F=[],D=[],L;if(v.delete&&(F=l.default.flatten(v.delete.map(H=>Ae(H,v.graph)))),v.insert&&(D=l.default.flatten(v.insert.map(H=>Ae(H,v.graph)))),v.where&&v.where.length>0){L=j({type:"group",patterns:v.where});const H=v.using;H?L=h.createFrom(L,H.default,H.named):v.graph&&(L=U(L,v.graph))}else v.updateType==="deletewhere"&&F.length>0&&(L=h.createBgp(F));return h.createDeleteInsert(F.length>0?F:void 0,D.length>0?D:void 0,L)}function Ae(v,F){let D=F;v.type==="graph"&&(D=v.name);let L=v.triples;return D&&(L=L.map(H=>Object.assign(H,{graph:D}))),L.map(B)}function Ne(v){let F;switch(l.default.isSimpleTerm(v.graph)?F=v.graph:v.graph.all?F="ALL":v.graph.default?F="DEFAULT":v.graph.named?F="NAMED":F=v.graph.name,v.type){case"clear":return h.createClear(F,v.silent);case"create":return h.createCreate(F,v.silent);case"drop":return h.createDrop(F,v.silent)}}function Oe(v){return h.createLoad(v.source,v.destination,v.silent)}function be(v){const F=v.source.default?"DEFAULT":v.source.name,D=v.destination.default?"DEFAULT":v.destination.name;switch(v.type){case"copy":return h.createCopy(F,D,v.silent);case"move":return h.createMove(F,D,v.silent);case"add":return h.createAdd(F,D,v.silent)}}function te(v){const F={},D=Array.from(d).reduce((H,Z)=>(H[Z]=!0,H),{});return l.default.mapOperation(v,{[i.types.DELETE_INSERT]:H=>({result:h.createDeleteInsert(H.delete,H.insert,H.where&&te(H.where)),recurse:!1}),[i.types.PATH]:(H,Z)=>({result:Z.createPath(L(H.subject),H.predicate,L(H.object),L(H.graph)),recurse:!1}),[i.types.PATTERN]:(H,Z)=>({result:Z.createPattern(L(H.subject),L(H.predicate),L(H.object),L(H.graph)),recurse:!1}),[i.types.CONSTRUCT]:H=>({result:h.createConstruct(te(H.input),H.template),recurse:!1})});function L(H){if(H.termType==="BlankNode"){let Z=F[H.value];return Z||(Z=l.default.createUniqueVariable(H.value,D,h.dataFactory),D[Z.value]=!0,F[H.value]=Z),Z}return H}}return fu}var $a={},jf={},ur={},zee;function rDe(){if(zee)return ur;zee=1,Object.defineProperty(ur,"__esModule",{value:!0}),ur.isTermGrounded=ur.termToSignature=ur.quadToSignature=ur.sha1hex=ur.hashTerm=ur.hashTerms=ur.getGraphBlankNodes=ur.uniqGraph=ur.deindexGraph=ur.indexGraph=ur.getQuadsWithoutBlankNodes=ur.getQuadsWithBlankNodes=ur.hasValue=ur.hashValues=ur.getBijectionInner=ur.getBijection=ur.isomorphic=void 0;const n=ic(),e=Xt(),u=Yr();function a(S,N){return!!r(S,N)}ur.isomorphic=a;function r(S,N){const j=d(c(S)),q=d(c(N));if(Object.keys(j).length!==Object.keys(q).length)return null;for(const C in j)if(j[C]!==q[C])return null;const O=p(s(S)),I=p(s(N)),A=h(S),P=h(N);return t(O,I,A,P)}ur.getBijection=r;function t(S,N,j,q,O,I){O||(O={}),I||(I={});const[A,P]=g(S,j,O),[C,B]=g(N,q,I);if(Object.keys(A).length!==Object.keys(C).length)return null;for(const U in A)if(!l(C,A[U]))return null;let V={};for(const U of j){const G=e.termToString(U),J=P[G];for(const ne in B)if(B[ne]===J){V[G]=ne,delete B[ne];break}}if(!i(Object.keys(V).sort(),j.map(e.termToString).sort())||!i(o(V).sort(),q.map(e.termToString).sort())){V=null;for(const U of j){const G=e.termToString(U);if(!A[G])for(const J of q){const ne=e.termToString(J);if(!C[ne]&&P[G]===B[ne]){const W=m(G);V=t(S,N,j,q,Object.assign(Object.assign({},A),{[G]:W}),Object.assign(Object.assign({},C),{[ne]:W}))}}}}return V}ur.getBijectionInner=t;function i(S,N){if(S.length!==N.length)return!1;for(let j=S.length;j--;)if(S[j]!==N[j])return!1;return!0}function o(S){const N=[];for(const j in S)N.push(S[j]);return N}ur.hashValues=o;function l(S,N){for(const j in S)if(S[j]===N)return!0;return!1}ur.hasValue=l;function s(S){return S.filter(N=>u.someTerms(N,j=>j.termType==="BlankNode"||j.termType==="Quad"&&u.getTermsNested(j).some(q=>q.termType==="BlankNode")))}ur.getQuadsWithBlankNodes=s;function c(S){return S.filter(N=>u.everyTerms(N,j=>j.termType!=="BlankNode"&&!(j.termType==="Quad"&&u.getTermsNested(j).some(q=>q.termType==="BlankNode"))))}ur.getQuadsWithoutBlankNodes=c;function d(S){const N={};for(const j of S)N[JSON.stringify(e.quadToStringQuad(j))]=!0;return N}ur.indexGraph=d;function f(S){return Object.keys(S).map(N=>e.stringQuadToQuad(JSON.parse(N)))}ur.deindexGraph=f;function p(S){return f(d(S))}ur.uniqGraph=p;function h(S){return u.uniqTerms(S.map(N=>u.getBlankNodes(u.getTermsNested(N))).reduce((N,j)=>N.concat(j),[]))}ur.getGraphBlankNodes=h;function g(S,N,j){const q=Object.assign({},j),O={};let I=!0;for(;I;){const A=Object.keys(q).length;for(const C of N){const B=e.termToString(C);if(!q[B]){const[V,U]=_(C,S,q);V&&(q[B]=U),O[B]=U}}const P={};for(const C in O){const B=O[C];P[B]===void 0?P[B]=C:P[B]=!1}for(const C in P){const B=P[C];B&&(q[B]=C)}I=A!==Object.keys(q).length}return[q,O]}ur.hashTerms=g;function _(S,N,j){const q=[];let O=!0;for(const A of N){const P=u.getTermsNested(A);if(P.some(C=>C.equals(S))){q.push(w(A,j,S));for(const C of P)!E(C,j)&&!C.equals(S)&&(O=!1)}}const I=m(q.sort().join(""));return[O,I]}ur.hashTerm=_;function m(S){return n.sha1().update(S).digest("hex")}ur.sha1hex=m;function w(S,N,j){return u.getTerms(S).map(q=>T(q,N,j)).join("|")}ur.quadToSignature=w;function T(S,N,j){return S.equals(j)?"@self":S.termType==="BlankNode"?N[e.termToString(S)]||"@blank":S.termType==="Quad"?`<${w(S,N,j)}>`:e.termToString(S)}ur.termToSignature=T;function E(S,N){return S.termType!=="BlankNode"&&!(S.termType==="Quad"&&u.getTermsNested(S).some(j=>!E(j,N)))||!!N[e.termToString(S)]}return ur.isTermGrounded=E,ur}var Gee;function nDe(){return Gee||(Gee=1,(function(n){var e=jf&&jf.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t),Object.defineProperty(a,i,{enumerable:!0,get:function(){return r[t]}})}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=jf&&jf.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(rDe(),n)})(jf)),jf}var $ee;function aDe(){if($ee)return $a;$ee=1;var n=$a&&$a.__createBinding||(Object.create?(function(R,k,K,de){de===void 0&&(de=K);var ge=Object.getOwnPropertyDescriptor(k,K);(!ge||("get"in ge?!k.__esModule:ge.writable||ge.configurable))&&(ge={enumerable:!0,get:function(){return k[K]}}),Object.defineProperty(R,de,ge)}):(function(R,k,K,de){de===void 0&&(de=K),R[de]=k[K]})),e=$a&&$a.__setModuleDefault||(Object.create?(function(R,k){Object.defineProperty(R,"default",{enumerable:!0,value:k})}):function(R,k){R.default=k}),u=$a&&$a.__importStar||function(R){if(R&&R.__esModule)return R;var k={};if(R!=null)for(var K in R)K!=="default"&&Object.prototype.hasOwnProperty.call(R,K)&&n(k,R,K);return e(k,R),k},a=$a&&$a.__importDefault||function(R){return R&&R.__esModule?R:{default:R}};Object.defineProperty($a,"__esModule",{value:!0}),$a.toSparqlJs=$a.toSparql=void 0;const r=nDe(),t=Xt(),i=$n(),o=u(eN()),l=a(bP()),s=a(AB()),c=o.types,d=o.expressionTypes;let f;const p=new l.default;function h(R,k={}){return new i.Generator(k).stringify(g(R))}$a.toSparql=h;function g(R){_(),R=Le(R);let k=m(R);return k.type==="group"?k.patterns[0]:k}$a.toSparqlJs=g;function _(){f={project:!1,extend:[],group:[],aggregates:[],order:[]}}function m(R){switch(R.type!==c.EXTEND&&R.type!==c.ORDER_BY&&R.type!==c.GRAPH&&(f.project=!1),R.type){case c.EXPRESSION:return w(R);case c.ASK:return Oe(R,c.ASK);case c.BGP:return C(R);case c.CONSTRUCT:return B(R);case c.DESCRIBE:return Oe(R,c.DESCRIBE);case c.DISTINCT:return V(R);case c.EXTEND:return U(R);case c.FROM:return G(R);case c.FILTER:return J(R);case c.GRAPH:return ne(R);case c.GROUP:return W(R);case c.JOIN:return ee(R);case c.LEFT_JOIN:return se(R);case c.MINUS:return pe(R);case c.NOP:return{};case c.ORDER_BY:return le(R);case c.PATH:return Ee(R);case c.PATTERN:return Ae(R);case c.PROJECT:return Oe(R,c.PROJECT);case c.REDUCED:return te(R);case c.SERVICE:return v(R);case c.SLICE:return F(R);case c.UNION:return D(R);case c.VALUES:return L(R);case c.COMPOSITE_UPDATE:return Ce(R);case c.DELETE_INSERT:return He(R);case c.LOAD:return Je(R);case c.CLEAR:return Ye(R);case c.CREATE:return oe(R);case c.DROP:return X(R);case c.ADD:return he(R);case c.MOVE:return ve(R);case c.COPY:return ye(R)}throw new Error(`Unknown Operation type ${R.type}`)}function w(R){switch(R.expressionType){case d.AGGREGATE:return S(R);case d.EXISTENCE:return N(R);case d.NAMED:return j(R);case d.OPERATOR:return q(R);case d.TERM:return O(R);case d.WILDCARD:return I(R)}throw new Error(`Unknown Expression Operation type ${R.expressionType}`)}function T(R){switch(R.type){case c.ALT:return H(R);case c.INV:return Z(R);case c.LINK:return $(R);case c.NPS:return ue(R);case c.ONE_OR_MORE_PATH:return ae(R);case c.SEQ:return ce(R);case c.ZERO_OR_MORE_PATH:return Se(R);case c.ZERO_OR_ONE_PATH:return xe(R)}throw new Error(`Unknown Path type ${R.type}`)}function E(R){return(0,t.termToString)(R)}function S(R){const k={expression:w(R.expression),type:"aggregate",aggregation:R.aggregator,distinct:R.distinct};return R.separator&&(k.separator=R.separator),k}function N(R){return{type:"operation",operator:R.not?"notexists":"exists",args:[{type:"group",patterns:s.default.flatten([m(R.input)])}]}}function j(R){return{type:"functionCall",function:R.name,args:R.args.map(w)}}function q(R){if(R.operator==="desc"){const K={expression:w(R.args[0])};return K.descending=!0,K}const k={type:"operation",operator:R.operator,args:R.args.map(w)};return(k.operator==="in"||k.operator==="notin")&&(k.args=[k.args[0]].concat([k.args.slice(1)])),k}function O(R){return R.term}function I(R){return R.wildcard}function A(R){return Array.isArray(R)?R.length===1?R[0]:{type:"group",patterns:R}:R}function P(R){return R}function C(R){let k=R.patterns.map(Ae);return k.length===0?null:{type:"bgp",triples:k}}function B(R){return{type:"query",prefixes:{},queryType:"CONSTRUCT",template:R.template.map(Ae),where:s.default.flatten([m(R.input)])}}function V(R){let k=m(R.input);return k.patterns[0].distinct=!0,k}function U(R){return f.project?(f.extend.push(R),m(R.input)):s.default.flatten([m(R.input),{type:"bind",variable:R.variable,expression:w(R.expression)}])}function G(R){const k=m(R.input);let K=k;return k.type==="group"&&(K=k.patterns[0]),K.from={default:R.default,named:R.named},k}function J(R){return{type:"group",patterns:s.default.flatten([m(R.input),{type:"filter",expression:w(R.expression)}])}}function ne(R){return{type:"graph",patterns:s.default.flatten([m(R.input)]),name:R.name}}function W(R){const k=m(R.input),K=R.aggregates.map(P);return f.aggregates.push(...K),f.group.push(...R.variables),k}function ee(R){return s.default.flatten(R.input.map(m)).reduce((K,de)=>(de.type!=="bgp"||K.length==0||K[K.length-1].type!=="bgp"?K.push(de):K[K.length-1].triples.push(...de.triples),K),[])}function se(R){const k={type:"optional",patterns:[m(R.input[1])]};return R.expression&&k.patterns.push({type:"filter",expression:w(R.expression)}),k.patterns=s.default.flatten(k.patterns),s.default.flatten([m(R.input[0]),k])}function pe(R){let k=m(R.input[1]);return k.type==="group"&&(k=k.patterns),Array.isArray(k)||(k=[k]),s.default.flatten([m(R.input[0]),{type:"minus",patterns:k}])}function le(R){return f.order.push(...R.expressions),m(R.input)}function Ee(R){return{type:"bgp",triples:[{subject:R.subject,predicate:T(R.predicate),object:R.object}]}}function Ae(R){return{subject:R.subject,predicate:R.predicate,object:R.object}}function Ne(R,k){let K=s.default.isSimpleTerm(R)?E(R):R;if(typeof K=="string"){if(k[K])return k[K]}else if(Array.isArray(R))R=R.map(de=>Ne(de,k));else for(let de of Object.keys(R))R[de]=Ne(R[de],k);return R}function Oe(R,k){const K={type:"query",prefixes:{}},de=K;let ge;k===c.PROJECT?(K.queryType="SELECT",ge=R.variables):k===c.ASK?K.queryType="ASK":k===c.DESCRIBE&&(K.queryType="DESCRIBE",ge=R.terms);const Qe=f.extend,je=f.group,$e=f.aggregates,at=f.order;_(),f.project=!0;let fe=s.default.flatten([m(R.input)]);fe.length===1&&fe[0].type==="group"&&(fe=fe[0].patterns),K.where=fe;let Te={};for(let Me of f.aggregates)Te[E(Me.variable)]=w(Me);let qe={};for(let Me=f.extend.length-1;Me>=0;--Me){let st=f.extend[Me];qe[E(st.variable)]=Ne(w(st.expression),Te)}f.group.length>0&&(de.group=f.group.map(Me=>{let st=E(Me);if(qe[st]){let tt=qe[st];return delete qe[st],{variable:Me,expression:tt}}return{expression:Me}})),f.order.length>0&&(de.order=f.order.map(m).map(Me=>Me.descending?Me:{expression:Me})),ge&&(de.variables=ge.map(Me=>{let st=E(Me);if(qe[st]){let tt=qe[st];return delete qe[st],{variable:Me,expression:tt}}return Me}),de.variables.length===0&&(de.variables=[new i.Wildcard]));const it=Object.entries(qe);if(it.length>0){de.where=de.where||[];for(const[Me,st]of it)de.where.push({type:"bind",variable:(0,t.stringToTerm)(Me),expression:st})}if(K.where.length>0&&K.where[K.where.length-1].type==="filter"){const Me=K.where[K.where.length-1];be(Me,Object.keys(Te))&&(de.having=s.default.flatten([Ne(Me.expression,Te)]),K.where.splice(-1))}return f.extend=Qe,f.group=je,f.aggregates=$e,f.order=at,{type:"group",patterns:[de]}}function be(R,k){return s.default.isSimpleTerm(R)?k.indexOf(E(R))>=0:Array.isArray(R)?R.some(K=>be(K,k)):R===Object(R)?Object.keys(R).some(K=>be(R[K],k)):k.indexOf(R)>=0}function te(R){let k=m(R.input);return k.patterns[0].reduced=!0,k}function v(R){let k=m(R.input);return k.type==="group"&&(k=k.patterns),Array.isArray(k)||(k=[k]),{type:"service",name:R.name,silent:R.silent,patterns:k}}function F(R){let k=m(R.input),K=k;return k.type&&k.type==="group"&&(K=k.patterns[0]),R.start!==0&&(K.offset=R.start),R.length!==void 0&&(K.limit=R.length),k}function D(R){return{type:"union",patterns:R.input.map(m).map(A)}}function L(R){return{type:"values",values:R.bindings.map(k=>{let K={};for(let de of R.variables){let ge=`?${de.value}`;k[ge]?K[ge]=k[ge]:K[ge]=void 0}return K})}}function H(R){const k=R.input.map(T);return k.every(K=>"pathType"in K&&K.pathType==="!")?{type:"path",pathType:"!",items:[{type:"path",pathType:"|",items:s.default.flatten(k.map(K=>K.items))}]}:{type:"path",pathType:"|",items:k}}function Z(R){if(R.path.type===c.NPS){const k=R.path.iris.map(K=>({type:"path",pathType:"^",items:[K]}));return k.length<=1?{type:"path",pathType:"!",items:k}:{type:"path",pathType:"!",items:[{type:"path",pathType:"|",items:k}]}}return{type:"path",pathType:"^",items:[T(R.path)]}}function $(R){return R.iri}function ue(R){return R.iris.length<=1?{type:"path",pathType:"!",items:R.iris}:{type:"path",pathType:"!",items:[{type:"path",pathType:"|",items:R.iris}]}}function ae(R){return{type:"path",pathType:"+",items:[T(R.path)]}}function ce(R){return{type:"path",pathType:"/",items:R.input.map(T)}}function Se(R){return{type:"path",pathType:"*",items:[T(R.path)]}}function xe(R){return{type:"path",pathType:"?",items:[T(R.path)]}}function Ce(R){const k=R.updates.map(K=>m(K).updates[0]);return{prefixes:{},type:"update",updates:k}}function He(R){var k;let K=R.where,de;if(K&&K.type===c.FROM){let Qe=K;K=Qe.input,de={default:Qe.default,named:Qe.named}}const ge=[{updateType:"insertdelete",delete:Ie(R.delete||[]),insert:Ie(R.insert||[])}];if(de&&(ge[0].using=de),!K||K.type===c.BGP&&K.patterns.length===0)ge[0].where=[];else{const Qe=[];let je=m(Pe(K,Qe));if(je.type==="group"?ge[0].where=je.patterns:ge[0].where=[je],Qe.length>0){if(Qe.length!==1)throw new Error("This is unexpected and might indicate an error in graph handling for updates.");((k=Qe[0])===null||k===void 0?void 0:k.value)!==""&&(ge[0].where=[{type:"graph",patterns:ge[0].where,name:Qe[0]}])}}return!R.delete&&!R.where?(ge[0].updateType="insert",delete ge[0].delete,delete ge[0].where):!R.insert&&!R.where?(delete ge[0].insert,delete ge[0].where,R.delete.some(Qe=>Qe.subject.termType==="Variable"||Qe.predicate.termType==="Variable"||Qe.object.termType==="Variable")?ge[0].updateType="deletewhere":ge[0].updateType="delete"):!R.insert&&R.where&&R.where.type==="bgp"&&(0,r.isomorphic)(R.delete,R.where.patterns)&&(delete ge[0].where,ge[0].updateType="deletewhere"),{prefixes:{},type:"update",updates:ge}}function Je(R){const k=[{type:"load",silent:!!R.silent,source:R.source}];return R.destination&&(k[0].destination=R.destination),{prefixes:{},type:"update",updates:k}}function Ye(R){return Y(R,"clear")}function oe(R){return Y(R,"create")}function X(R){return Y(R,"drop")}function Y(R,k){const K=[{type:k,silent:!!R.silent}];return R.source==="DEFAULT"?K[0].graph={default:!0}:R.source==="NAMED"?K[0].graph={named:!0}:R.source==="ALL"?K[0].graph={all:!0}:K[0].graph={type:"graph",name:R.source},{prefixes:{},type:"update",updates:K}}function he(R){return re(R,"add")}function ve(R){return re(R,"move")}function ye(R){return re(R,"copy")}function re(R,k){const K=[{type:k,silent:!!R.silent}];return K[0].source=R.source==="DEFAULT"?{type:"graph",default:!0}:{type:"graph",name:R.source},K[0].destination=R.destination==="DEFAULT"?{type:"graph",default:!0}:{type:"graph",name:R.destination},{prefixes:{},type:"update",updates:K}}function Ie(R){if(!R)return[];const k={};return R.forEach(K=>{const de=K.graph.value;k[de]||(k[de]=[]),k[de].push(K)}),Object.keys(k).map(K=>K===""?{type:"bgp",triples:k[K].map(Ae)}:{type:"graph",triples:k[K].map(Ae),name:k[K][0].graph})}function Le(R){return Pe(R,[])}function Pe(R,k){if(Array.isArray(R))return R.map(je=>Pe(je,k));if(!R.type||R.type===c.DELETE_INSERT)return R;if((R.type===c.PATTERN||R.type===c.PATH)&&R.graph)return k.push(R.graph),R.graph.name!==""?R.type===c.PATTERN?p.createPattern(R.subject,R.predicate,R.object):p.createPath(R.subject,R.predicate,R.object):R;const K={},de={},ge={};for(let je of Object.keys(R)){const $e=[];if(K[je]=Pe(R[je],$e),$e.length>0){de[je]=$e;for(const at of $e)ge[at.value]=at}}const Qe=Object.keys(ge);if(Qe.length>0)if(Qe.length===1&&![c.PROJECT,c.SERVICE].includes(R.type))k.push(ge[Qe[0]]);else{if(R.type===c.BGP)return Fe(R,de.patterns);for(let je of Object.keys(de)){const $e=K[je];Array.isArray($e)?K[je]=$e.map((at,fe)=>de[je][0].value===""?at:p.createGraph(at,de[je][fe])):de[je][0].value!==""&&(K[je]=p.createGraph($e,de[je][0]))}}return K}function Fe(R,k){var K;const de={};for(let je=0;je<R.patterns.length;++je){const $e=R.patterns[je],at=k[je].value;de[at]=(K=de[at])!==null&&K!==void 0?K:{patterns:[],graph:k[je]},de[at].patterns.push($e)}let ge=[];for(const[je,{patterns:$e,graph:at}]of Object.entries(de)){const fe=p.createBgp($e);ge.push(je===""?fe:p.createGraph(fe,at))}let Qe=ge[0];for(let je=1;je<ge.length;++je)Qe=p.createJoin([Qe,ge[je]]);return Qe}return $a}var Xee;function iDe(){return Xee||(Xee=1,(function(n){var e=ku&&ku.__createBinding||(Object.create?(function(c,d,f,p){p===void 0&&(p=f);var h=Object.getOwnPropertyDescriptor(d,f);(!h||("get"in h?!d.__esModule:h.writable||h.configurable))&&(h={enumerable:!0,get:function(){return d[f]}}),Object.defineProperty(c,p,h)}):(function(c,d,f,p){p===void 0&&(p=f),c[p]=d[f]})),u=ku&&ku.__setModuleDefault||(Object.create?(function(c,d){Object.defineProperty(c,"default",{enumerable:!0,value:d})}):function(c,d){c.default=d}),a=ku&&ku.__importStar||function(c){if(c&&c.__esModule)return c;var d={};if(c!=null)for(var f in c)f!=="default"&&Object.prototype.hasOwnProperty.call(c,f)&&e(d,c,f);return u(d,c),d},r=ku&&ku.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(n,"__esModule",{value:!0}),n.Util=n.toSparqlJs=n.toSparql=n.Factory=n.Algebra=n.translate=void 0;const t=r(tDe());n.translate=t.default;const i=a(eN());n.Algebra=i;const o=r(bP());n.Factory=o.default;const l=aDe();Object.defineProperty(n,"toSparql",{enumerable:!0,get:function(){return l.toSparql}}),Object.defineProperty(n,"toSparqlJs",{enumerable:!0,get:function(){return l.toSparqlJs}});const s=r(AB());n.Util=s.default})(ku)),ku}var Kee;function uDe(){if(Kee)return hT;Kee=1,Object.defineProperty(hT,"__esModule",{value:!0}),hT.ActorRdfJoinEntriesSortTraversalZeroKnowledge=void 0;const n=eDe(),e=lt(),u=De(),a=Yr(),r=iDe();let t=class Kc extends n.ActorRdfJoinEntriesSort{constructor(o){super(o)}static getPatternNonVocabUris(o){let l;const s=[];return o.type==="pattern"?s.push(o.predicate):r.Util.recurseOperation(o,{link(c){return s.push(c.iri),!1},nps(c){for(const d of c.iris)s.push(d);return!1}}),s.some(c=>c.termType==="NamedNode"&&c.value==="http://www.w3.org/1999/02/22-rdf-syntax-ns#type")?l=[o.subject,o.graph]:l=[o.subject,o.object,o.graph],(0,a.getNamedNodes)(l)}static getSourceUri(o){const l=o.value,s=l.indexOf("#");return s>0?l.slice(0,s):l}static getScoreSeedNonVocab(o,l){return Kc.getPatternNonVocabUris(o).map(s=>Kc.getSourceUri(s)).filter(s=>l.includes(s)).length}static getScoreSelectivity(o){const l=o.type==="pattern"?(0,a.getTerms)(o):[o.subject,o.object,o.graph];return a.QUAD_TERM_NAMES.length-(0,a.getVariables)(l).length}static sortJoinEntries(o,l){return[...o].sort((s,c)=>{if((s.operation.type===r.Algebra.types.PATTERN||s.operation.type===r.Algebra.types.PATH)&&(c.operation.type===r.Algebra.types.PATTERN||c.operation.type===r.Algebra.types.PATH)){const d=Kc.getScoreSeedNonVocab(c.operation,l)-Kc.getScoreSeedNonVocab(s.operation,l);return d===0?Kc.getScoreSelectivity(c.operation)-Kc.getScoreSelectivity(s.operation):d}return s.operation.type===r.Algebra.types.PATTERN?-1:1})}async test(o){return(0,u.passTest)({accuracy:1})}async run(o){const l=[],s=o.context.get(e.KeysQueryOperation.querySources);if(s)for(const c of s){const d=c.source.referenceValue;typeof d=="string"&&l.push(d)}return{entries:Kc.sortJoinEntries(o.entries,l)}}};return hT.ActorRdfJoinEntriesSortTraversalZeroKnowledge=t,hT}var Jee;function OB(){return Jee||(Jee=1,(function(n){var e=Ff&&Ff.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=Ff&&Ff.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(uDe(),n)})(Ff)),Ff}var Mf={},Cf={},Lf={},mT={},Wee;function oDe(){if(Wee)return mT;Wee=1,Object.defineProperty(mT,"__esModule",{value:!0}),mT.ActorRdfJoinSelectivity=void 0;const n=De();let e=class extends n.Actor{constructor(a){super(a)}};return mT.ActorRdfJoinSelectivity=e,mT}var Yee;function sDe(){return Yee||(Yee=1,(function(n){var e=Lf&&Lf.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=Lf&&Lf.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(oDe(),n)})(Lf)),Lf}var Zee;function cDe(){if(Zee)return Cf;Zee=1,Object.defineProperty(Cf,"__esModule",{value:!0}),Cf.JoinTypes=Cf.ActorRdfJoinSelectivityVariableCounting=void 0;const n=sDe(),e=De(),u=Qt();let a=class $m extends n.ActorRdfJoinSelectivity{constructor(i){super(i)}async test(i){return(0,e.passTest)({accuracy:.5})}static getPatternCost(i){let o=1;return i.subject.termType==="Variable"&&(o+=4),(i.predicate.termType==="Variable"||i.type===u.Algebra.types.PATH)&&(o+=1),i.object.termType==="Variable"&&(o+=2),i.graph.termType==="Variable"&&(o+=1),o/9}static getJoinTypes(i,o){const l=[];return i.subject.termType==="Variable"?(i.subject.equals(o.subject)&&l.push(r.unboundSS),o.type==="pattern"&&i.subject.equals(o.predicate)&&l.push(r.unboundSP),i.subject.equals(o.object)&&l.push(r.unboundSO),i.subject.equals(o.graph)&&l.push(r.unboundSG)):(i.subject.equals(o.subject)&&l.push(r.boundSS),o.type==="pattern"&&i.subject.equals(o.predicate)&&l.push(r.boundSP),i.subject.equals(o.object)&&l.push(r.boundSO),i.subject.equals(o.graph)&&l.push(r.boundSG)),i.type==="pattern"&&(i.predicate.termType==="Variable"?(i.predicate.equals(o.subject)&&l.push(r.unboundPS),o.type==="pattern"&&i.predicate.equals(o.predicate)&&l.push(r.unboundPP),i.predicate.equals(o.object)&&l.push(r.unboundPO),i.predicate.equals(o.graph)&&l.push(r.unboundPG)):(i.predicate.equals(o.subject)&&l.push(r.boundPS),o.type==="pattern"&&i.predicate.equals(o.predicate)&&l.push(r.boundPP),i.predicate.equals(o.object)&&l.push(r.boundPO),i.predicate.equals(o.graph)&&l.push(r.boundPG))),i.object.termType==="Variable"?(i.object.equals(o.subject)&&l.push(r.unboundOS),o.type==="pattern"&&i.object.equals(o.predicate)&&l.push(r.unboundOP),i.object.equals(o.object)&&l.push(r.unboundOO),i.object.equals(o.graph)&&l.push(r.unboundOG)):(i.object.equals(o.subject)&&l.push(r.boundOS),o.type==="pattern"&&i.object.equals(o.predicate)&&l.push(r.boundOP),i.object.equals(o.object)&&l.push(r.boundOO),i.object.equals(o.graph)&&l.push(r.boundOG)),i.graph.termType==="Variable"?(i.graph.equals(o.subject)&&l.push(r.unboundGS),o.type==="pattern"&&i.graph.equals(o.predicate)&&l.push(r.unboundGP),i.graph.equals(o.object)&&l.push(r.unboundGO),i.graph.equals(o.graph)&&l.push(r.unboundGG)):(i.graph.equals(o.subject)&&l.push(r.boundGS),o.type==="pattern"&&i.graph.equals(o.predicate)&&l.push(r.boundGP),i.graph.equals(o.object)&&l.push(r.boundGO),i.graph.equals(o.graph)&&l.push(r.boundGG)),l}static getOperationsPairwiseJoinCost(i,o){let l=$m.MAX_PAIRWISE_COST;for(const s of $m.getJoinTypes(i,o))switch(s){case r.boundSS:l-=4;break;case r.boundSP:l-=6;break;case r.boundSO:l-=2;break;case r.boundSG:l-=6;break;case r.boundPS:l-=6;break;case r.boundPP:return 1;case r.boundPO:l-=6;break;case r.boundPG:l-=6;break;case r.boundOS:l-=2;break;case r.boundOP:l-=6;break;case r.boundOO:l-=2;break;case r.boundOG:l-=6;break;case r.boundGS:l-=6;break;case r.boundGP:l-=6;break;case r.boundGO:l-=6;break;case r.boundGG:l-=6;break;case r.unboundSS:l-=2;break;case r.unboundSP:l-=3;break;case r.unboundSO:l-=1;break;case r.unboundSG:l-=3;break;case r.unboundPS:l-=3;break;case r.unboundPP:l-=3;break;case r.unboundPO:l-=3;break;case r.unboundPG:l-=3;break;case r.unboundOS:l-=1;break;case r.unboundOP:l-=3;break;case r.unboundOO:l-=1;break;case r.unboundOG:l-=3;break;case r.unboundGS:l-=3;break;case r.unboundGP:l-=3;break;case r.unboundGO:l-=3;break;case r.unboundGG:l-=3;break}return l/$m.MAX_PAIRWISE_COST}static getOperationsJoinCost(i){const o=[];for(const c of i)u.Util.recurseOperation(c,{[u.Algebra.types.PATTERN](d){return o.push(d),!1},[u.Algebra.types.PATH](d){return o.push(d),!1}});let l=0,s=0;for(const c of o)for(const d of o)c!==d&&(l+=$m.getOperationsPairwiseJoinCost(c,d),s++);return s===0?1:l/s*o.reduce((c,d)=>c*$m.getPatternCost(d),1)}async run(i){return i.entries.length<=1?{selectivity:1}:{selectivity:$m.getOperationsJoinCost(i.entries.map(o=>o.operation))}}};Cf.ActorRdfJoinSelectivityVariableCounting=a,a.MAX_PAIRWISE_COST=82;var r;return(function(t){t[t.boundSS=0]="boundSS",t[t.boundSP=1]="boundSP",t[t.boundSO=2]="boundSO",t[t.boundSG=3]="boundSG",t[t.boundPS=4]="boundPS",t[t.boundPP=5]="boundPP",t[t.boundPO=6]="boundPO",t[t.boundPG=7]="boundPG",t[t.boundOS=8]="boundOS",t[t.boundOP=9]="boundOP",t[t.boundOO=10]="boundOO",t[t.boundOG=11]="boundOG",t[t.boundGS=12]="boundGS",t[t.boundGP=13]="boundGP",t[t.boundGO=14]="boundGO",t[t.boundGG=15]="boundGG",t[t.unboundSS=16]="unboundSS",t[t.unboundSP=17]="unboundSP",t[t.unboundSO=18]="unboundSO",t[t.unboundSG=19]="unboundSG",t[t.unboundPS=20]="unboundPS",t[t.unboundPP=21]="unboundPP",t[t.unboundPO=22]="unboundPO",t[t.unboundPG=23]="unboundPG",t[t.unboundOS=24]="unboundOS",t[t.unboundOP=25]="unboundOP",t[t.unboundOO=26]="unboundOO",t[t.unboundOG=27]="unboundOG",t[t.unboundGS=28]="unboundGS",t[t.unboundGP=29]="unboundGP",t[t.unboundGO=30]="unboundGO",t[t.unboundGG=31]="unboundGG"})(r||(Cf.JoinTypes=r={})),Cf}var ete;function xB(){return ete||(ete=1,(function(n){var e=Mf&&Mf.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=Mf&&Mf.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(cDe(),n)})(Mf)),Mf}var qf={},bT={},Bf={},gT={},tte;function lDe(){if(tte)return gT;tte=1,Object.defineProperty(gT,"__esModule",{value:!0}),gT.ActorRdfMetadata=void 0;const n=De();let e=class extends n.Actor{constructor(a){super(a)}};return gT.ActorRdfMetadata=e,gT}var rte;function $2e(){return rte||(rte=1,(function(n){var e=Bf&&Bf.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=Bf&&Bf.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(lDe(),n)})(Bf)),Bf}var nte;function dDe(){if(nte)return bT;nte=1,Object.defineProperty(bT,"__esModule",{value:!0}),bT.ActorRdfMetadataPrimaryTopic=void 0;const n=$2e(),e=De(),u=Nr();let a=class extends n.ActorRdfMetadata{constructor(t){super(t)}async test(t){return t.triples?(0,e.failTest)("This actor only supports non-triple quad streams."):(0,e.passTestVoid)()}async run(t){const i=new u.Readable({objectMode:!0}),o=new u.Readable({objectMode:!0}),l=()=>{i._read=o._read=()=>{},t.quads.on("error",f=>{i.emit("error",f),o.emit("error",f)});const s={};let c;const d={};t.quads.on("data",f=>{f.predicate.value==="http://rdfs.org/ns/void#subset"&&f.object.value===t.url?c=f.subject.value:f.predicate.value==="http://xmlns.com/foaf/0.1/primaryTopic"&&(d[f.object.value]=f.subject.value);let p=s[f.graph.value];p||(p=s[f.graph.value]=[]),p.push(f)}),t.quads.on("end",()=>{const f=c?d[c]:void 0;for(const p in s)if(p===f){for(const h of s[p])o.push(h);if(this.metadataToData)for(const h of s[p])i.push(h)}else{for(const h of s[p])i.push(h);if(!f&&this.dataToMetadataOnInvalidMetadataGraph)for(const h of s[p])o.push(h)}i.push(null),o.push(null)})};return i._read=o._read=()=>{l()},{data:i,metadata:o}}};return bT.ActorRdfMetadataPrimaryTopic=a,bT}var ate;function RB(){return ate||(ate=1,(function(n){var e=qf&&qf.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=qf&&qf.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(dDe(),n)})(qf)),qf}var Uf={},vT={},ite;function fDe(){if(ite)return vT;ite=1,Object.defineProperty(vT,"__esModule",{value:!0}),vT.ActorRdfMetadataAll=void 0;const n=$2e(),e=De(),u=Nr();let a=class extends n.ActorRdfMetadata{constructor(t){super(t)}async test(t){return(0,e.passTestVoid)()}async run(t){const i=new u.Readable({objectMode:!0}),o=new u.Readable({objectMode:!0});t.quads.on("error",s=>{i.emit("error",s),o.emit("error",s)}),t.quads.on("end",()=>{i.push(null),o.push(null)});const l=i._read=o._read=s=>{for(;s>0;){const c=t.quads.read();if(c===null)return t.quads.once("readable",()=>l(s));s--,i.push(c),o.push(c)}};return{data:i,metadata:o}}};return vT.ActorRdfMetadataAll=a,vT}var ute;function NB(){return ute||(ute=1,(function(n){var e=Uf&&Uf.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=Uf&&Uf.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(fDe(),n)})(Uf)),Uf}var Qf={},_T={},Vf={},TT={},ote;function pDe(){if(ote)return TT;ote=1,Object.defineProperty(TT,"__esModule",{value:!0}),TT.ActorRdfMetadataAccumulate=void 0;const n=De();let e=class extends n.Actor{constructor(a){super(a)}};return TT.ActorRdfMetadataAccumulate=e,TT}var ste;function IB(){return ste||(ste=1,(function(n){var e=Vf&&Vf.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=Vf&&Vf.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(pDe(),n)})(Vf)),Vf}var cte;function hDe(){if(cte)return _T;cte=1,Object.defineProperty(_T,"__esModule",{value:!0}),_T.ActorRdfMetadataAccumulateCardinality=void 0;const n=IB(),e=De();let u=class extends n.ActorRdfMetadataAccumulate{constructor(r){super(r)}async test(r){return(0,e.passTestVoid)()}async run(r){if(r.mode==="initialize")return{metadata:{cardinality:{type:"exact",value:0}}};const t={...r.accumulatedMetadata.cardinality};if(t.dataset){if(r.accumulatedMetadata.defaultGraph===t.dataset&&t.dataset!==r.appendingMetadata.cardinality.dataset)return{metadata:{cardinality:r.appendingMetadata.cardinality}};if(r.appendingMetadata.cardinality.dataset){if(t.dataset!==r.appendingMetadata.cardinality.dataset&&r.appendingMetadata.subsetOf===t.dataset)return{metadata:{cardinality:r.appendingMetadata.cardinality}};if(t.dataset===r.appendingMetadata.cardinality.dataset)return{metadata:{cardinality:t}};delete t.dataset}else return{metadata:{cardinality:t}}}return!r.appendingMetadata.cardinality||!Number.isFinite(r.appendingMetadata.cardinality.value)?(t.type="estimate",t.value=Number.POSITIVE_INFINITY):(r.appendingMetadata.cardinality.type==="estimate"&&(t.type="estimate"),t.value+=r.appendingMetadata.cardinality.value),{metadata:{cardinality:t}}}};return _T.ActorRdfMetadataAccumulateCardinality=u,_T}var lte;function DB(){return lte||(lte=1,(function(n){var e=Qf&&Qf.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=Qf&&Qf.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(hDe(),n)})(Qf)),Qf}var Hf={},wT={},dte;function yDe(){if(dte)return wT;dte=1,Object.defineProperty(wT,"__esModule",{value:!0}),wT.ActorRdfMetadataAccumulatePageSize=void 0;const n=IB(),e=De();let u=class extends n.ActorRdfMetadataAccumulate{constructor(r){super(r)}async test(r){return(0,e.passTestVoid)()}async run(r){return r.mode==="initialize"?{metadata:{}}:{metadata:{..."pageSize"in r.accumulatedMetadata||"pageSize"in r.appendingMetadata?{pageSize:(r.accumulatedMetadata.pageSize??0)+(r.appendingMetadata.pageSize??0)}:{}}}}};return wT.ActorRdfMetadataAccumulatePageSize=u,wT}var fte;function FB(){return fte||(fte=1,(function(n){var e=Hf&&Hf.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=Hf&&Hf.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(yDe(),n)})(Hf)),Hf}var kf={},ST={},pte;function mDe(){if(pte)return ST;pte=1,Object.defineProperty(ST,"__esModule",{value:!0}),ST.ActorRdfMetadataAccumulateRequestTime=void 0;const n=IB(),e=De();let u=class extends n.ActorRdfMetadataAccumulate{constructor(r){super(r)}async test(r){return(0,e.passTestVoid)()}async run(r){return r.mode==="initialize"?{metadata:{}}:{metadata:{..."requestTime"in r.accumulatedMetadata||"requestTime"in r.appendingMetadata?{requestTime:(r.accumulatedMetadata.requestTime??0)+(r.appendingMetadata.requestTime??0)}:{}}}}};return ST.ActorRdfMetadataAccumulateRequestTime=u,ST}var hte;function PB(){return hte||(hte=1,(function(n){var e=kf&&kf.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=kf&&kf.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(mDe(),n)})(kf)),kf}var zf={},ET={},Gf={},AT={},yte;function bDe(){if(yte)return AT;yte=1,Object.defineProperty(AT,"__esModule",{value:!0}),AT.ActorRdfMetadataExtract=void 0;const n=De();let e=class extends n.Actor{constructor(a){super(a)}};return AT.ActorRdfMetadataExtract=e,AT}var mte;function oc(){return mte||(mte=1,(function(n){var e=Gf&&Gf.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=Gf&&Gf.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(bDe(),n)})(Gf)),Gf}var QM={exports:{}},bte;function gDe(){return bte||(bte=1,(function(n){(function(e){var u=(function(){function h(g){this.options=g}return h.prototype.toString=function(){return JSON&&JSON.stringify?JSON.stringify(this.options):this.options},h})(),a=(function(){function h(j){return Object.prototype.toString.apply(j)==="[object Array]"}function g(j){return Object.prototype.toString.apply(j)==="[object String]"}function _(j){return Object.prototype.toString.apply(j)==="[object Number]"}function m(j){return Object.prototype.toString.apply(j)==="[object Boolean]"}function w(j,q){var O="",I=!0,A;for(A=0;A<j.length;A+=1)I?I=!1:O+=q,O+=j[A];return O}function T(j,q){for(var O=[],I=0;I<j.length;I+=1)O.push(q(j[I]));return O}function E(j,q){for(var O=[],I=0;I<j.length;I+=1)q(j[I])&&O.push(j[I]);return O}function S(j){if(typeof j!="object"||j===null)return j;Object.freeze(j);var q,O;for(O in j)j.hasOwnProperty(O)&&(q=j[O],typeof q=="object"&&N(q));return j}function N(j){return typeof Object.freeze=="function"?S(j):j}return{isArray:h,isString:g,isNumber:_,isBoolean:m,join:w,map:T,filter:E,deepFreeze:N}})(),r=(function(){function h(m){return m>="a"&&m<="z"||m>="A"&&m<="Z"}function g(m){return m>="0"&&m<="9"}function _(m){return g(m)||m>="a"&&m<="f"||m>="A"&&m<="F"}return{isAlpha:h,isDigit:g,isHexDigit:_}})(),t=(function(){var h={encode:function(E){return unescape(encodeURIComponent(E))},numBytes:function(E){return E<=127?1:194<=E&&E<=223?2:224<=E&&E<=239?3:240<=E&&E<=244?4:0},isValidFollowingCharCode:function(E){return 128<=E&&E<=191}};function g(E){var S="",N=h.encode(E),j,q;for(q=0;q<N.length;q+=1)j=N.charCodeAt(q),S+="%"+(j<16?"0":"")+j.toString(16).toUpperCase();return S}function _(E,S){return E.charAt(S)==="%"&&r.isHexDigit(E.charAt(S+1))&&r.isHexDigit(E.charAt(S+2))}function m(E,S){return parseInt(E.substr(S,2),16)}function w(E){if(!_(E,0))return!1;var S=m(E,1),N=h.numBytes(S);if(N===0)return!1;for(var j=1;j<N;j+=1)if(!_(E,3*j)||!h.isValidFollowingCharCode(m(E,3*j+1)))return!1;return!0}function T(E,S){var N=E.charAt(S);if(!_(E,S))return N;var j=m(E,S+1),q=h.numBytes(j);if(q===0)return N;for(var O=1;O<q;O+=1)if(!_(E,S+3*O)||!h.isValidFollowingCharCode(m(E,S+3*O+1)))return N;return E.substr(S,3*q)}return{encodeCharacter:g,isPctEncoded:w,pctCharAt:T}})(),i=(function(){function h(m){return r.isAlpha(m)||r.isDigit(m)||m==="_"||t.isPctEncoded(m)}function g(m){return r.isAlpha(m)||r.isDigit(m)||m==="-"||m==="."||m==="_"||m==="~"}function _(m){return m===":"||m==="/"||m==="?"||m==="#"||m==="["||m==="]"||m==="@"||m==="!"||m==="$"||m==="&"||m==="("||m===")"||m==="*"||m==="+"||m===","||m===";"||m==="="||m==="'"}return{isVarchar:h,isUnreserved:g,isReserved:_}})(),o=(function(){function h(w,T){var E="",S,N="";for((typeof w=="number"||typeof w=="boolean")&&(w=w.toString()),S=0;S<w.length;S+=N.length)N=w.charAt(S),E+=i.isUnreserved(N)||T&&i.isReserved(N)?N:t.encodeCharacter(N);return E}function g(w){return h(w,!0)}function _(w,T){var E=t.pctCharAt(w,T);return E.length>1||i.isReserved(E)||i.isUnreserved(E)?E:t.encodeCharacter(E)}function m(w){var T="",E,S="";for(E=0;E<w.length;E+=S.length)S=t.pctCharAt(w,E),S.length>1?T+=S:T+=i.isReserved(S)||i.isUnreserved(S)?S:t.encodeCharacter(S);return T}return{encode:h,encodePassReserved:g,encodeLiteral:m,encodeLiteralCharacter:_}})(),l=(function(){var h={};function g(_){h[_]={symbol:_,separator:_==="?"?"&":_===""||_==="+"||_==="#"?",":_,named:_===";"||_==="&"||_==="?",ifEmpty:_==="&"||_==="?"?"=":"",first:_==="+"?"":_,encode:_==="+"||_==="#"?o.encodePassReserved:o.encode,toString:function(){return this.symbol}}}return g(""),g("+"),g("#"),g("."),g("/"),g(";"),g("?"),g("&"),{valueOf:function(_){return h[_]?h[_]:"=,!@|".indexOf(_)>=0?null:h[""]}}})();function s(h){var g;if(h==null)return!1;if(a.isArray(h))return h.length>0;if(typeof h=="string"||typeof h=="number"||typeof h=="boolean")return!0;for(g in h)if(h.hasOwnProperty(g)&&s(h[g]))return!0;return!1}var c=(function(){function h(g){this.literal=o.encodeLiteral(g)}return h.prototype.expand=function(){return this.literal},h.prototype.toString=h.prototype.expand,h})(),d=(function(){function h(_){var m,w=[],T=null,E=null,S=null,N,j="";function q(){var I=_.substring(E,N);if(I.length===0)throw new u({expressionText:_,message:"a varname must be specified",position:N});T={varname:I,exploded:!1,maxLength:null},E=null}function O(){if(S===N)throw new u({expressionText:_,message:"after a ':' you have to specify the length",position:N});T.maxLength=parseInt(_.substring(S,N),10),S=null}for(m=(function(I){var A=l.valueOf(I);if(A===null)throw new u({expressionText:_,message:"illegal use of reserved operator",position:N,operator:I});return A})(_.charAt(0)),N=m.symbol.length,E=N;N<_.length;N+=j.length){if(j=t.pctCharAt(_,N),E!==null){if(j==="."){if(E===N)throw new u({expressionText:_,message:"a varname MUST NOT start with a dot",position:N});continue}if(i.isVarchar(j))continue;q()}if(S!==null){if(N===S&&j==="0")throw new u({expressionText:_,message:"A :prefix must not start with digit 0",position:N});if(r.isDigit(j)){if(N-S>=4)throw new u({expressionText:_,message:"A :prefix must have max 4 digits",position:N});continue}O()}if(j===":"){if(T.maxLength!==null)throw new u({expressionText:_,message:"only one :maxLength is allowed per varspec",position:N});if(T.exploded)throw new u({expressionText:_,message:"an exploeded varspec MUST NOT be varspeced",position:N});S=N+1;continue}if(j==="*"){if(T===null)throw new u({expressionText:_,message:"exploded without varspec",position:N});if(T.exploded)throw new u({expressionText:_,message:"exploded twice",position:N});if(T.maxLength)throw new u({expressionText:_,message:"an explode (*) MUST NOT follow to a prefix",position:N});T.exploded=!0;continue}if(j===","){w.push(T),T=null,E=N+1;continue}throw new u({expressionText:_,message:"illegal character",character:j,position:N})}return E!==null&&q(),S!==null&&O(),w.push(T),new f(_,m,w)}function g(_){var m,w,T=[],E=null,S=0;for(m=0;m<_.length;m+=1){if(w=_.charAt(m),S!==null){if(w==="}")throw new u({templateText:_,message:"unopened brace closed",position:m});w==="{"&&(S<m&&T.push(new c(_.substring(S,m))),S=null,E=m);continue}if(E!==null){if(w==="{")throw new u({templateText:_,message:"brace already opened",position:m});if(w==="}"){if(E+1===m)throw new u({templateText:_,message:"empty braces",position:E});try{T.push(h(_.substring(E+1,m)))}catch(N){throw N.prototype===u.prototype?new u({templateText:_,message:N.options.message,position:E+N.options.position,details:N.options}):N}E=null,S=m+1}continue}throw new Error("reached unreachable code")}if(E!==null)throw new u({templateText:_,message:"unclosed brace",position:E});return S<_.length&&T.push(new c(_.substr(S))),new p(_,T)}return g})(),f=(function(){function h(j){return JSON&&JSON.stringify?JSON.stringify(j):j}function g(j){if(!s(j))return!0;if(a.isString(j))return j==="";if(a.isNumber(j)||a.isBoolean(j))return!1;if(a.isArray(j))return j.length===0;for(var q in j)if(j.hasOwnProperty(q))return!1;return!0}function _(j){var q=[],O;for(O in j)j.hasOwnProperty(O)&&q.push({name:O,value:j[O]});return q}function m(j,q,O){this.templateText=j,this.operator=q,this.varspecs=O}m.prototype.toString=function(){return this.templateText};function w(j,q,O){var I="";if(O=O.toString(),q.named){if(I+=o.encodeLiteral(j.varname),O==="")return I+=q.ifEmpty,I;I+="="}return j.maxLength!==null&&(O=O.substr(0,j.maxLength)),I+=q.encode(O),I}function T(j){return s(j.value)}function E(j,q,O){var I=[],A="";if(q.named){if(A+=o.encodeLiteral(j.varname),g(O))return A+=q.ifEmpty,A;A+="="}return a.isArray(O)?(I=O,I=a.filter(I,s),I=a.map(I,q.encode),A+=a.join(I,",")):(I=_(O),I=a.filter(I,T),I=a.map(I,function(P){return q.encode(P.name)+","+q.encode(P.value)}),A+=a.join(I,",")),A}function S(j,q,O){var I=a.isArray(O),A=[];return I?(A=O,A=a.filter(A,s),A=a.map(A,function(P){var C=o.encodeLiteral(j.varname);return g(P)?C+=q.ifEmpty:C+="="+q.encode(P),C})):(A=_(O),A=a.filter(A,T),A=a.map(A,function(P){var C=o.encodeLiteral(P.name);return g(P.value)?C+=q.ifEmpty:C+="="+q.encode(P.value),C})),a.join(A,q.separator)}function N(j,q){var O=[],I="";return a.isArray(q)?(O=q,O=a.filter(O,s),O=a.map(O,j.encode),I+=a.join(O,j.separator)):(O=_(q),O=a.filter(O,function(A){return s(A.value)}),O=a.map(O,function(A){return j.encode(A.name)+"="+j.encode(A.value)}),I+=a.join(O,j.separator)),I}return m.prototype.expand=function(j){var q=[],O,I,A,P=this.operator;for(O=0;O<this.varspecs.length;O+=1)if(I=this.varspecs[O],A=j[I.varname],A!=null)if(I.exploded,a.isArray(A),typeof A=="string"||typeof A=="number"||typeof A=="boolean")q.push(w(I,P,A));else{if(I.maxLength&&s(A))throw new Error("Prefix modifiers are not applicable to variables that have composite values. You tried to expand "+this+" with "+h(A));I.exploded?s(A)&&(P.named?q.push(S(I,P,A)):q.push(N(P,A))):(P.named||!g(A))&&q.push(E(I,P,A))}return q.length===0?"":P.first+a.join(q,P.separator)},m})(),p=(function(){function h(g,_){this.templateText=g,this.expressions=_,a.deepFreeze(this)}return h.prototype.toString=function(){return this.templateText},h.prototype.expand=function(g){var _,m="";for(_=0;_<this.expressions.length;_+=1)m+=this.expressions[_].expand(g);return m},h.parse=d,h.UriTemplateError=u,h})();e(p)})(function(e){n.exports=e})})(QM)),QM.exports}var gte;function vDe(){if(gte)return ET;gte=1,Object.defineProperty(ET,"__esModule",{value:!0}),ET.ActorRdfMetadataExtractHydraControls=void 0;const n=oc(),e=De(),u=gDe();let a=class iF extends n.ActorRdfMetadataExtract{constructor(t){super(t),this.parsedUriTemplateCache={}}async test(t){return(0,e.passTestVoid)()}getLinks(t,i){return Object.fromEntries(iF.LINK_TYPES.map(o=>{const l=i[o]||i[`${o}Page`],s=l&&l[t];return[o,s&&s.length>0?[s[0]]:[]]}))}parseUriTemplateCached(t){const i=this.parsedUriTemplateCache[t];return i||(this.parsedUriTemplateCache[t]=(0,u.parse)(t))}getSearchForms(t){const i=t.search,o=[];if(i)for(const l in i)for(const s of i[l]){const c=(t.template||{})[s]||[];if(c.length!==1)throw new Error(`Expected 1 hydra:template for ${s}`);const d=c[0],f=this.parseUriTemplateCached(d),p=Object.fromEntries(((t.mapping||{})[s]||[]).map(g=>{const _=((t.variable||{})[g]||[])[0],m=((t.property||{})[g]||[])[0];if(!_)throw new Error(`Expected a hydra:variable for ${g}`);if(!m)throw new Error(`Expected a hydra:property for ${g}`);return[m,_]})),h=g=>f.expand(Object.fromEntries(Object.keys(g).map(_=>[p[_],g[_]])));o.push({dataset:l,template:d,mappings:p,getUri:h})}return{values:o}}getHydraProperties(t){return new Promise((i,o)=>{t.on("error",o);const l={};t.on("data",s=>{if(s.predicate.value.startsWith(iF.HYDRA)){const c=s.predicate.value.slice(iF.HYDRA.length),d=l[c]||(l[c]={});(d[s.subject.value]||(d[s.subject.value]=[])).push(s.object.value)}}),t.on("end",()=>i(l))})}async run(t){const i={},o=await this.getHydraProperties(t.metadata);return Object.assign(i,this.getLinks(t.url,o)),i.searchForms=this.getSearchForms(o),{metadata:i}}};return ET.ActorRdfMetadataExtractHydraControls=a,a.HYDRA="http://www.w3.org/ns/hydra/core#",a.LINK_TYPES=["first","next","previous","last"],ET}var vte;function jB(){return vte||(vte=1,(function(n){var e=zf&&zf.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=zf&&zf.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(vDe(),n)})(zf)),zf}var $f={},OT={},_te;function _De(){if(_te)return OT;_te=1,Object.defineProperty(OT,"__esModule",{value:!0}),OT.ActorRdfMetadataExtractHydraCount=void 0;const n=oc(),e=De();let u=class extends n.ActorRdfMetadataExtract{constructor(r){super(r)}async test(r){return(0,e.passTestVoid)()}run(r){return new Promise((t,i)=>{r.metadata.on("error",i),r.metadata.on("data",o=>{this.predicates.includes(o.predicate.value)&&t({metadata:{cardinality:{type:"estimate",value:Number.parseInt(o.object.value,10),dataset:o.subject.value}}})}),r.metadata.on("end",()=>{t({metadata:{cardinality:{type:"estimate",value:0}}})})})}};return OT.ActorRdfMetadataExtractHydraCount=u,OT}var Tte;function MB(){return Tte||(Tte=1,(function(n){var e=$f&&$f.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=$f&&$f.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(_De(),n)})($f)),$f}var Xf={},xT={},wte;function TDe(){if(wte)return xT;wte=1,Object.defineProperty(xT,"__esModule",{value:!0}),xT.ActorRdfMetadataExtractHydraPagesize=void 0;const n=oc(),e=De();let u=class extends n.ActorRdfMetadataExtract{constructor(r){super(r)}async test(r){return(0,e.passTestVoid)()}async run(r){return new Promise((t,i)=>{r.metadata.on("error",i),r.metadata.on("data",o=>{this.predicates.includes(o.predicate.value)&&t({metadata:{pageSize:Number.parseInt(o.object.value,10)}})}),r.metadata.on("end",()=>{t({metadata:{}})})})}};return xT.ActorRdfMetadataExtractHydraPagesize=u,xT}var Ste;function CB(){return Ste||(Ste=1,(function(n){var e=Xf&&Xf.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=Xf&&Xf.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(TDe(),n)})(Xf)),Xf}var Kf={},RT={},Ete;function wDe(){if(Ete)return RT;Ete=1,Object.defineProperty(RT,"__esModule",{value:!0}),RT.ActorRdfMetadataExtractRequestTime=void 0;const n=oc(),e=De();let u=class extends n.ActorRdfMetadataExtract{constructor(r){super(r)}async test(r){return(0,e.passTestVoid)()}async run(r){return{metadata:{requestTime:r.requestTime}}}};return RT.ActorRdfMetadataExtractRequestTime=u,RT}var Ate;function LB(){return Ate||(Ate=1,(function(n){var e=Kf&&Kf.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=Kf&&Kf.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(wDe(),n)})(Kf)),Kf}var Jf={},NT={},Ote;function SDe(){if(Ote)return NT;Ote=1,Object.defineProperty(NT,"__esModule",{value:!0}),NT.ActorRdfMetadataExtractAllowHttpMethods=void 0;const n=oc(),e=De();let u=class extends n.ActorRdfMetadataExtract{constructor(r){super(r)}async test(r){return(0,e.passTestVoid)()}async run(r){const t={};return r.headers?.get("allow")&&(t.allowHttpMethods=r.headers.get("allow")?.split(/, */u)),{metadata:t}}};return NT.ActorRdfMetadataExtractAllowHttpMethods=u,NT}var xte;function qB(){return xte||(xte=1,(function(n){var e=Jf&&Jf.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=Jf&&Jf.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(SDe(),n)})(Jf)),Jf}var Wf={},IT={},Rte;function EDe(){if(Rte)return IT;Rte=1,Object.defineProperty(IT,"__esModule",{value:!0}),IT.ActorRdfMetadataExtractPutAccepted=void 0;const n=oc(),e=De();let u=class extends n.ActorRdfMetadataExtract{constructor(r){super(r)}async test(r){return(0,e.passTestVoid)()}async run(r){const t={},i=r.headers?.get("accept-put");return i&&(t.putAccepted=i.split(/, */u)),{metadata:t}}};return IT.ActorRdfMetadataExtractPutAccepted=u,IT}var Nte;function BB(){return Nte||(Nte=1,(function(n){var e=Wf&&Wf.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=Wf&&Wf.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(EDe(),n)})(Wf)),Wf}var Yf={},DT={},Ite;function ADe(){if(Ite)return DT;Ite=1,Object.defineProperty(DT,"__esModule",{value:!0}),DT.ActorRdfMetadataExtractPatchSparqlUpdate=void 0;const n=oc(),e=De();let u=class extends n.ActorRdfMetadataExtract{constructor(r){super(r)}async test(r){return(0,e.passTestVoid)()}async run(r){const t={};return(r.headers?.get("accept-patch")?.includes("application/sparql-update")??r.headers?.get("ms-author-via")?.includes("SPARQL"))&&(t.patchSparqlUpdate=!0),{metadata:t}}};return DT.ActorRdfMetadataExtractPatchSparqlUpdate=u,DT}var Dte;function UB(){return Dte||(Dte=1,(function(n){var e=Yf&&Yf.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=Yf&&Yf.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(ADe(),n)})(Yf)),Yf}var Zf={},FT={},Fte;function ODe(){if(Fte)return FT;Fte=1,Object.defineProperty(FT,"__esModule",{value:!0}),FT.ActorRdfMetadataExtractSparqlService=void 0;const n=oc(),e=De(),u=Xn();let a=class yu extends n.ActorRdfMetadataExtract{constructor(t){super(t)}async test(t){return(0,e.passTestVoid)()}async run(t){return new Promise((i,o)=>{t.metadata.on("error",o);const l=new Set([t.url]),s={},c=new Set,d=new Set,f=new Set,p=new Set,h=new Set;t.metadata.on("data",g=>{if(g.predicate.value==="http://rdfs.org/ns/void#subset"&&g.object.value===t.url)l.add(g.subject.value);else if(g.subject.value===s.defaultDataset||g.subject.termType==="BlankNode"||l.has(g.subject.value))switch(g.predicate.value){case`${yu.SD}endpoint`:s.sparqlService=g.object.termType==="Literal"?(0,u.resolve)(g.object.value,t.url):g.object.value,this.inferHttpsEndpoint&&t.url.startsWith("https")&&!g.object.value.startsWith("https")&&(s.sparqlService=s.sparqlService.replace(/^http:/u,"https:"));break;case`${yu.SD}defaultDataset`:s.defaultDataset=g.object.value;break;case`${yu.SD}defaultGraph`:s.defaultGraph=g.object.value;break;case`${yu.SD}inputFormat`:c.add(g.object.value);break;case`${yu.SD}resultFormat`:d.add(g.object.value);break;case`${yu.SD}supportedLanguage`:f.add(g.object.value);break;case`${yu.SD}propertyFeature`:h.add(g.object.value);break;case`${yu.SD}feature`:g.object.value===`${yu.SD}UnionDefaultGraph`?s.unionDefaultGraph=!0:g.object.value===`${yu.SD}BasicFederatedQuery`&&(s.basicFederatedQuery=!0);break;case`${yu.SD}extensionFunction`:p.add(g.object.value);break}}),t.metadata.on("end",()=>{i({metadata:{...s,...c.size>0?{inputFormats:[...c.values()]}:{},...d.size>0?{resultFormats:[...d.values()]}:{},...f.size>0?{supportedLanguages:[...f.values()]}:{},...p.size>0?{extensionFunctions:[...p.values()]}:{},...h.size>0?{propertyFeatures:[...h.values()]}:{}}})})})}};return FT.ActorRdfMetadataExtractSparqlService=a,a.SD="http://www.w3.org/ns/sparql-service-description#",FT}var Pte;function QB(){return Pte||(Pte=1,(function(n){var e=Zf&&Zf.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=Zf&&Zf.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(ODe(),n)})(Zf)),Zf}var ep={},PT={},tp={},jT={},jte;function xDe(){if(jte)return jT;jte=1,Object.defineProperty(jT,"__esModule",{value:!0}),jT.ActorRdfParse=void 0;const n=E1();let e=class extends n.ActorAbstractMediaTyped{constructor(a){super(a)}};return jT.ActorRdfParse=e,jT}var MT={},Mte;function RDe(){if(Mte)return MT;Mte=1,Object.defineProperty(MT,"__esModule",{value:!0}),MT.ActorRdfParseFixedMediaTypes=void 0;const n=E1(),e=De();let u=class extends n.ActorAbstractMediaTypedFixed{constructor(r){super(r)}async testHandleChecked(r){return(0,e.passTestVoid)()}};return MT.ActorRdfParseFixedMediaTypes=u,MT}var Cte;function O1(){return Cte||(Cte=1,(function(n){var e=tp&&tp.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=tp&&tp.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(xDe(),n),u(RDe(),n)})(tp)),tp}var NDe=Xo();const CT="http://www.w3.org/1999/02/22-rdf-syntax-ns#",LT="http://www.w3.org/2001/XMLSchema#",ZI="http://www.w3.org/2000/10/swap/",wa={xsd:{decimal:`${LT}decimal`,boolean:`${LT}boolean`,double:`${LT}double`,integer:`${LT}integer`,string:`${LT}string`},rdf:{type:`${CT}type`,nil:`${CT}nil`,first:`${CT}first`,rest:`${CT}rest`,langString:`${CT}langString`},owl:{sameAs:"http://www.w3.org/2002/07/owl#sameAs"},r:{forSome:`${ZI}reify#forSome`,forAll:`${ZI}reify#forAll`},log:{implies:`${ZI}log#implies`,isImpliedBy:`${ZI}log#isImpliedBy`}},{xsd:eD}=wa,IDe=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{8})|\\([^])/g,Lte={"\\":"\\","'":"'",'"':'"',n:`
`,r:"\r",t:"	",f:"\f",b:"\b",_:"_","~":"~",".":".","-":"-","!":"!",$:"$","&":"&","(":"(",")":")","*":"*","+":"+",",":",",";":";","=":"=","/":"/","?":"?","#":"#","@":"@","%":"%"},DDe=/[\x00-\x20<>\\"\{\}\|\^\`]/,FDe={_iri:!0,_unescapedIri:!0,_simpleQuotedString:!0,_langcode:!0,_blank:!0,_newline:!0,_comment:!0,_whitespace:!0,_endOfFile:!0},PDe=/$0^/;class VB{constructor(e){if(this._iri=/^<((?:[^ <>{}\\]|\\[uU])+)>[ \t]*/,this._unescapedIri=/^<([^\x00-\x20<>\\"\{\}\|\^\`]*)>[ \t]*/,this._simpleQuotedString=/^"([^"\\\r\n]*)"(?=[^"])/,this._simpleApostropheString=/^'([^'\\\r\n]*)'(?=[^'])/,this._langcode=/^@([a-z]+(?:-[a-z0-9]+)*)(?=[^a-z0-9\-])/i,this._prefix=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:(?=[#\s<])/,this._prefixed=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:((?:(?:[0-:A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])(?:(?:[\.\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])*(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~]))?)?)(?:[ \t]+|(?=\.?[,;!\^\s#()\[\]\{\}"'<>]))/,this._variable=/^\?(?:(?:[A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?=[.,;!\^\s#()\[\]\{\}"'<>])/,this._blank=/^_:((?:[0-9A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?:[ \t]+|(?=\.?[,;:\s#()\[\]\{\}"'<>]))/,this._number=/^[\-+]?(?:(\d+\.\d*|\.?\d+)[eE][\-+]?|\d*(\.)?)\d+(?=\.?[,;:\s#()\[\]\{\}"'<>])/,this._boolean=/^(?:true|false)(?=[.,;\s#()\[\]\{\}"'<>])/,this._keyword=/^@[a-z]+(?=[\s#<:])/i,this._sparqlKeyword=/^(?:PREFIX|BASE|GRAPH)(?=[\s#<])/i,this._shortPredicates=/^a(?=[\s#()\[\]\{\}"'<>])/,this._newline=/^[ \t]*(?:#[^\n\r]*)?(?:\r\n|\n|\r)[ \t]*/,this._comment=/#([^\n\r]*)/,this._whitespace=/^[ \t]+/,this._endOfFile=/^(?:#[^\n\r]*)?$/,e=e||{},this._isImpliedBy=e.isImpliedBy,this._lineMode=!!e.lineMode){this._n3Mode=!1;for(const u in this)!(u in FDe)&&this[u]instanceof RegExp&&(this[u]=PDe)}else this._n3Mode=e.n3!==!1;this.comments=!!e.comments,this._literalClosingPos=0}_tokenizeToEnd(e,u){let a=this._input,r=a.length;for(;;){let o,l;for(;o=this._newline.exec(a);)this.comments&&(l=this._comment.exec(o[0]))&&t("comment",l[1],"",this._line,o[0].length),a=a.substr(o[0].length,a.length),r=a.length,this._line++;if(!o&&(o=this._whitespace.exec(a))&&(a=a.substr(o[0].length,a.length)),this._endOfFile.test(a))return u&&(this.comments&&(l=this._comment.exec(a))&&t("comment",l[1],"",this._line,a.length),a=null,t("eof","","",this._line,0)),this._input=a;const s=this._line,c=a[0];let d="",f="",p="",h=null,g=0,_=!1;switch(c){case"^":if(a.length<3)break;if(a[1]==="^"){if(this._previousMarker="^^",a=a.substr(2),a[0]!=="<"){_=!0;break}}else{this._n3Mode&&(g=1,d="^");break}case"<":if(h=this._unescapedIri.exec(a))d="IRI",f=h[1];else if(h=this._iri.exec(a)){if(f=this._unescape(h[1]),f===null||DDe.test(f))return i(this);d="IRI"}else a.length>1&&a[1]==="<"?(d="<<",g=2):this._n3Mode&&a.length>1&&a[1]==="="&&(g=2,this._isImpliedBy?(d="abbreviation",f="<"):(d="inverse",f=">"));break;case">":a.length>1&&a[1]===">"&&(d=">>",g=2);break;case"_":((h=this._blank.exec(a))||u&&(h=this._blank.exec(`${a} `)))&&(d="blank",p="_",f=h[1]);break;case'"':if(h=this._simpleQuotedString.exec(a))f=h[1];else if({value:f,matchLength:g}=this._parseLiteral(a),f===null)return i(this);(h!==null||g!==0)&&(d="literal",this._literalClosingPos=0);break;case"'":if(!this._lineMode){if(h=this._simpleApostropheString.exec(a))f=h[1];else if({value:f,matchLength:g}=this._parseLiteral(a),f===null)return i(this);(h!==null||g!==0)&&(d="literal",this._literalClosingPos=0)}break;case"?":this._n3Mode&&(h=this._variable.exec(a))&&(d="var",f=h[0]);break;case"@":this._previousMarker==="literal"&&(h=this._langcode.exec(a))?(d="langcode",f=h[1]):(h=this._keyword.exec(a))&&(d=h[0]);break;case".":if(a.length===1?u:a[1]<"0"||a[1]>"9"){d=".",g=1;break}case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"+":case"-":(h=this._number.exec(a)||u&&(h=this._number.exec(`${a} `)))&&(d="literal",f=h[0],p=typeof h[1]=="string"?eD.double:typeof h[2]=="string"?eD.decimal:eD.integer);break;case"B":case"b":case"p":case"P":case"G":case"g":(h=this._sparqlKeyword.exec(a))?d=h[0].toUpperCase():_=!0;break;case"f":case"t":(h=this._boolean.exec(a))?(d="literal",f=h[0],p=eD.boolean):_=!0;break;case"a":(h=this._shortPredicates.exec(a))?(d="abbreviation",f="a"):_=!0;break;case"=":this._n3Mode&&a.length>1&&(d="abbreviation",a[1]!==">"?(g=1,f="="):(g=2,f=">"));break;case"!":if(!this._n3Mode)break;case",":case";":case"[":case"]":case"(":case")":case"}":this._lineMode||(g=1,d=c);break;case"{":!this._lineMode&&a.length>=2&&(a[1]==="|"?(d="{|",g=2):(d=c,g=1));break;case"|":a.length>=2&&a[1]==="}"&&(d="|}",g=2);break;default:_=!0}if(_&&((this._previousMarker==="@prefix"||this._previousMarker==="PREFIX")&&(h=this._prefix.exec(a))?(d="prefix",f=h[1]||""):((h=this._prefixed.exec(a))||u&&(h=this._prefixed.exec(`${a} `)))&&(d="prefixed",p=h[1]||"",f=this._unescape(h[2]))),this._previousMarker==="^^")switch(d){case"prefixed":d="type";break;case"IRI":d="typeIRI";break;default:d=""}if(!d)return u||!/^'''|^"""/.test(a)&&/\n|\r/.test(a)?i(this):this._input=a;const m=g||h[0].length,w=t(d,f,p,s,m);this.previousToken=w,this._previousMarker=d,a=a.substr(m,a.length)}function t(o,l,s,c,d){const f=a?r-a.length:r,p=f+d,h={type:o,value:l,prefix:s,line:c,start:f,end:p};return e(null,h),h}function i(o){e(o._syntaxError(/^\S*/.exec(a)[0]))}}_unescape(e){let u=!1;const a=e.replace(IDe,(r,t,i,o)=>{if(typeof t=="string")return String.fromCharCode(Number.parseInt(t,16));if(typeof i=="string"){let l=Number.parseInt(i,16);return l<=65535?String.fromCharCode(Number.parseInt(i,16)):String.fromCharCode(55296+((l-=65536)>>10),56320+(l&1023))}return o in Lte?Lte[o]:(u=!0,"")});return u?null:a}_parseLiteral(e){if(e.length>=3){const u=e.match(/^(?:"""|"|'''|'|)/)[0],a=u.length;let r=Math.max(this._literalClosingPos,a);for(;(r=e.indexOf(u,r))>0;){let t=0;for(;e[r-t-1]==="\\";)t++;if(t%2===0){const i=e.substring(a,r),o=i.split(/\r\n|\r|\n/).length-1,l=r+a;if(a===1&&o!==0||a===3&&this._lineMode)break;return this._line+=o,{value:this._unescape(i),matchLength:l}}r++}this._literalClosingPos=e.length-a+1}return{value:"",matchLength:0}}_syntaxError(e){this._input=null;const u=new Error(`Unexpected "${e}" on line ${this._line}.`);return u.context={token:void 0,line:this._line,previousToken:this.previousToken},u}_readStartingBom(e){return e.startsWith("\uFEFF")?e.substr(1):e}tokenize(e,u){if(this._line=1,typeof e=="string")if(this._input=this._readStartingBom(e),typeof u=="function")queueMicrotask(()=>this._tokenizeToEnd(u,!0));else{const a=[];let r;if(this._tokenizeToEnd((t,i)=>t?r=t:a.push(i),!0),r)throw r;return a}else this._pendingBuffer=null,typeof e.setEncoding=="function"&&e.setEncoding("utf8"),e.on("data",a=>{this._input!==null&&a.length!==0&&(this._pendingBuffer&&(a=NDe.Buffer.concat([this._pendingBuffer,a]),this._pendingBuffer=null),a[a.length-1]&128?this._pendingBuffer=a:(typeof this._input>"u"?this._input=this._readStartingBom(typeof a=="string"?a:a.toString()):this._input+=a,this._tokenizeToEnd(u,!1)))}),e.on("end",()=>{typeof this._input=="string"&&this._tokenizeToEnd(u,!0)}),e.on("error",u)}}const{rdf:jDe,xsd:tb}=wa;let x1,MDe=0;const fo={namedNode:K2e,blankNode:J2e,variable:Y2e,literal:W2e,defaultGraph:CDe,quad:d7,triple:d7,fromTerm:k6,fromQuad:Z2e};class Hi{constructor(e){this.id=e}get value(){return this.id}equals(e){return e instanceof Hi?this.id===e.id:!!e&&this.termType===e.termType&&this.value===e.value}hashCode(){return 0}toJSON(){return{termType:this.termType,value:this.value}}}let gP=class extends Hi{get termType(){return"NamedNode"}},Hg=class X2e extends Hi{get termType(){return"Literal"}get value(){return this.id.substring(1,this.id.lastIndexOf('"'))}get language(){const e=this.id;let u=e.lastIndexOf('"')+1;return u<e.length&&e[u++]==="@"?e.substr(u).toLowerCase():""}get datatype(){return new gP(this.datatypeString)}get datatypeString(){const e=this.id,u=e.lastIndexOf('"')+1,a=u<e.length?e[u]:"";return a==="^"?e.substr(u+2):a!=="@"?tb.string:jDe.langString}equals(e){return e instanceof X2e?this.id===e.id:!!e&&!!e.datatype&&this.termType===e.termType&&this.value===e.value&&this.language===e.language&&this.datatype.value===e.datatype.value}toJSON(){return{termType:this.termType,value:this.value,language:this.language,datatype:{termType:"NamedNode",value:this.datatypeString}}}},HB=class extends Hi{constructor(e){super(`_:${e}`)}get termType(){return"BlankNode"}get value(){return this.id.substr(2)}},kB=class extends Hi{constructor(e){super(`?${e}`)}get termType(){return"Variable"}get value(){return this.id.substr(1)}},zB=class extends Hi{constructor(){return super(""),x1||this}get termType(){return"DefaultGraph"}equals(e){return this===e||!!e&&this.termType===e.termType}};x1=new zB;function ib(n,e,u){if(e=e||fo,!n)return e.defaultGraph();switch(n[0]){case"?":return e.variable(n.substr(1));case"_":return e.blankNode(n.substr(2));case'"':if(e===fo)return new Hg(n);if(n[n.length-1]==='"')return e.literal(n.substr(1,n.length-2));const a=n.lastIndexOf('"',n.length-1);return e.literal(n.substr(1,a-1),n[a+1]==="@"?n.substr(a+2):e.namedNode(n.substr(a+3)));case"[":n=JSON.parse(n);break;default:if(!u||!Array.isArray(n))return e.namedNode(n)}return e.quad(ib(n[0],e,!0),ib(n[1],e,!0),ib(n[2],e,!0),n[3]&&ib(n[3],e,!0))}function rl(n,e){if(typeof n=="string")return n;if(n instanceof Hi&&n.termType!=="Quad")return n.id;if(!n)return x1.id;switch(n.termType){case"NamedNode":return n.value;case"BlankNode":return`_:${n.value}`;case"Variable":return`?${n.value}`;case"DefaultGraph":return"";case"Literal":return`"${n.value}"${n.language?`@${n.language}`:n.datatype&&n.datatype.value!==tb.string?`^^${n.datatype.value}`:""}`;case"Quad":const u=[rl(n.subject,!0),rl(n.predicate,!0),rl(n.object,!0)];return n.graph&&n.graph.termType!=="DefaultGraph"&&u.push(rl(n.graph,!0)),e?u:JSON.stringify(u);default:throw new Error(`Unexpected termType: ${n.termType}`)}}let o1=class extends Hi{constructor(e,u,a,r){super(""),this._subject=e,this._predicate=u,this._object=a,this._graph=r||x1}get termType(){return"Quad"}get subject(){return this._subject}get predicate(){return this._predicate}get object(){return this._object}get graph(){return this._graph}toJSON(){return{termType:this.termType,subject:this._subject.toJSON(),predicate:this._predicate.toJSON(),object:this._object.toJSON(),graph:this._graph.toJSON()}}equals(e){return!!e&&this._subject.equals(e.subject)&&this._predicate.equals(e.predicate)&&this._object.equals(e.object)&&this._graph.equals(e.graph)}};function K2e(n){return new gP(n)}function J2e(n){return new HB(n||`n3-${MDe++}`)}function W2e(n,e){if(typeof e=="string")return new Hg(`"${n}"@${e.toLowerCase()}`);let u=e?e.value:"";return u===""&&(typeof n=="boolean"?u=tb.boolean:typeof n=="number"&&(Number.isFinite(n)?u=Number.isInteger(n)?tb.integer:tb.double:(u=tb.double,Number.isNaN(n)||(n=n>0?"INF":"-INF")))),u===""||u===tb.string?new Hg(`"${n}"`):new Hg(`"${n}"^^${u}`)}function Y2e(n){return new kB(n)}function CDe(){return x1}function d7(n,e,u,a){return new o1(n,e,u,a)}function k6(n){if(n instanceof Hi)return n;switch(n.termType){case"NamedNode":return K2e(n.value);case"BlankNode":return J2e(n.value);case"Variable":return Y2e(n.value);case"DefaultGraph":return x1;case"Literal":return W2e(n.value,n.language||n.datatype);case"Quad":return Z2e(n);default:throw new Error(`Unexpected termType: ${n.termType}`)}}function Z2e(n){if(n instanceof o1)return n;if(n.termType!=="Quad")throw new Error(`Unexpected termType: ${n.termType}`);return d7(k6(n.subject),k6(n.predicate),k6(n.object),k6(n.graph))}let qte=0;class vP{constructor(e){this._contextStack=[],this._graph=null,e=e||{},this._setBase(e.baseIRI),e.factory&&eTe(this,e.factory);const u=typeof e.format=="string"?e.format.match(/\w*$/)[0].toLowerCase():"",a=/turtle/.test(u),r=/trig/.test(u),t=/triple/.test(u),i=/quad/.test(u),o=this._n3Mode=/n3/.test(u),l=t||i;(this._supportsNamedGraphs=!(a||o))||(this._readPredicateOrNamedGraph=this._readPredicate),this._supportsQuads=!(a||r||t||o),this._isImpliedBy=e.isImpliedBy,this._supportsRDFStar=u===""||/star|\*$/.test(u),l&&(this._resolveRelativeIRI=s=>null),this._blankNodePrefix=typeof e.blankNodePrefix!="string"?"":e.blankNodePrefix.replace(/^(?!_:)/,"_:"),this._lexer=e.lexer||new VB({lineMode:l,n3:o,isImpliedBy:this._isImpliedBy}),this._explicitQuantifiers=!!e.explicitQuantifiers}static _resetBlankNodePrefix(){qte=0}_setBase(e){if(!e)this._base="",this._basePath="";else{const u=e.indexOf("#");u>=0&&(e=e.substr(0,u)),this._base=e,this._basePath=e.indexOf("/")<0?e:e.replace(/[^\/?]*(?:\?.*)?$/,""),e=e.match(/^(?:([a-z][a-z0-9+.-]*:))?(?:\/\/[^\/]*)?/i),this._baseRoot=e[0],this._baseScheme=e[1]}}_saveContext(e,u,a,r,t){const i=this._n3Mode;this._contextStack.push({type:e,subject:a,predicate:r,object:t,graph:u,inverse:i?this._inversePredicate:!1,blankPrefix:i?this._prefixes._:"",quantified:i?this._quantified:null}),i&&(this._inversePredicate=!1,this._prefixes._=this._graph?`${this._graph.value}.`:".",this._quantified=Object.create(this._quantified))}_restoreContext(e,u){const a=this._contextStack.pop();if(!a||a.type!==e)return this._error(`Unexpected ${u.type}`,u);this._subject=a.subject,this._predicate=a.predicate,this._object=a.object,this._graph=a.graph,this._n3Mode&&(this._inversePredicate=a.inverse,this._prefixes._=a.blankPrefix,this._quantified=a.quantified)}_readInTopContext(e){switch(e.type){case"eof":return this._graph!==null?this._error("Unclosed graph",e):(delete this._prefixes._,this._callback(null,null,this._prefixes));case"PREFIX":this._sparqlStyle=!0;case"@prefix":return this._readPrefix;case"BASE":this._sparqlStyle=!0;case"@base":return this._readBaseIRI;case"{":if(this._supportsNamedGraphs)return this._graph="",this._subject=null,this._readSubject;case"GRAPH":if(this._supportsNamedGraphs)return this._readNamedGraphLabel;default:return this._readSubject(e)}}_readEntity(e,u){let a;switch(e.type){case"IRI":case"typeIRI":const r=this._resolveIRI(e.value);if(r===null)return this._error("Invalid IRI",e);a=this._factory.namedNode(r);break;case"type":case"prefixed":const t=this._prefixes[e.prefix];if(t===void 0)return this._error(`Undefined prefix "${e.prefix}:"`,e);a=this._factory.namedNode(t+e.value);break;case"blank":a=this._factory.blankNode(this._prefixes[e.prefix]+e.value);break;case"var":a=this._factory.variable(e.value.substr(1));break;default:return this._error(`Expected entity but got ${e.type}`,e)}return!u&&this._n3Mode&&a.id in this._quantified&&(a=this._quantified[a.id]),a}_readSubject(e){switch(this._predicate=null,e.type){case"[":return this._saveContext("blank",this._graph,this._subject=this._factory.blankNode(),null,null),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this.RDF_NIL,null,null),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._graph=this._factory.blankNode(),null,null),this._readSubject):this._error("Unexpected graph",e);case"}":return this._readPunctuation(e);case"@forSome":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORSOME,this._quantifier="blankNode",this._readQuantifierList):this._error('Unexpected "@forSome"',e);case"@forAll":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORALL,this._quantifier="variable",this._readQuantifierList):this._error('Unexpected "@forAll"',e);case"literal":if(!this._n3Mode)return this._error("Unexpected literal",e);if(e.prefix.length===0)return this._literalValue=e.value,this._completeSubjectLiteral;this._subject=this._factory.literal(e.value,this._factory.namedNode(e.prefix));break;case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,null,null,null),this._graph=null,this._readSubject):this._error("Unexpected RDF-star syntax",e);default:if((this._subject=this._readEntity(e))===void 0)return;if(this._n3Mode)return this._getPathReader(this._readPredicateOrNamedGraph)}return this._readPredicateOrNamedGraph}_readPredicate(e){const u=e.type;switch(u){case"inverse":this._inversePredicate=!0;case"abbreviation":this._predicate=this.ABBREVIATIONS[e.value];break;case".":case"]":case"}":return this._predicate===null?this._error(`Unexpected ${u}`,e):(this._subject=null,u==="]"?this._readBlankNodeTail(e):this._readPunctuation(e));case";":return this._predicate!==null?this._readPredicate:this._error("Expected predicate but got ;",e);case"[":if(this._n3Mode)return this._saveContext("blank",this._graph,this._subject,this._subject=this._factory.blankNode(),null),this._readBlankNodeHead;case"blank":if(!this._n3Mode)return this._error("Disallowed blank node as predicate",e);default:if((this._predicate=this._readEntity(e))===void 0)return}return this._readObject}_readObject(e){switch(e.type){case"literal":if(e.prefix.length===0)return this._literalValue=e.value,this._readDataTypeOrLang;this._object=this._factory.literal(e.value,this._factory.namedNode(e.prefix));break;case"[":return this._saveContext("blank",this._graph,this._subject,this._predicate,this._subject=this._factory.blankNode()),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this._subject,this._predicate,this.RDF_NIL),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._factory.blankNode()),this._readSubject):this._error("Unexpected graph",e);case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,this._subject,this._predicate,null),this._graph=null,this._readSubject):this._error("Unexpected RDF-star syntax",e);default:if((this._object=this._readEntity(e))===void 0)return;if(this._n3Mode)return this._getPathReader(this._getContextEndReader())}return this._getContextEndReader()}_readPredicateOrNamedGraph(e){return e.type==="{"?this._readGraph(e):this._readPredicate(e)}_readGraph(e){return e.type!=="{"?this._error(`Expected graph but got ${e.type}`,e):(this._graph=this._subject,this._subject=null,this._readSubject)}_readBlankNodeHead(e){return e.type==="]"?(this._subject=null,this._readBlankNodeTail(e)):(this._predicate=null,this._readPredicate(e))}_readBlankNodeTail(e){if(e.type!=="]")return this._readBlankNodePunctuation(e);this._subject!==null&&this._emit(this._subject,this._predicate,this._object,this._graph);const u=this._predicate===null;return this._restoreContext("blank",e),this._object!==null?this._getContextEndReader():this._predicate!==null?this._readObject:u?this._readPredicateOrNamedGraph:this._readPredicateAfterBlank}_readPredicateAfterBlank(e){switch(e.type){case".":case"}":return this._subject=null,this._readPunctuation(e);default:return this._readPredicate(e)}}_readListItem(e){let u=null,a=null,r=this._readListItem;const t=this._subject,i=this._contextStack,o=i[i.length-1];switch(e.type){case"[":this._saveContext("blank",this._graph,a=this._factory.blankNode(),this.RDF_FIRST,this._subject=u=this._factory.blankNode()),r=this._readBlankNodeHead;break;case"(":this._saveContext("list",this._graph,a=this._factory.blankNode(),this.RDF_FIRST,this.RDF_NIL),this._subject=null;break;case")":if(this._restoreContext("list",e),i.length!==0&&i[i.length-1].type==="list"&&this._emit(this._subject,this._predicate,this._object,this._graph),this._predicate===null){if(r=this._readPredicate,this._subject===this.RDF_NIL)return r}else if(r=this._getContextEndReader(),this._object===this.RDF_NIL)return r;a=this.RDF_NIL;break;case"literal":e.prefix.length===0?(this._literalValue=e.value,r=this._readListItemDataTypeOrLang):(u=this._factory.literal(e.value,this._factory.namedNode(e.prefix)),r=this._getContextEndReader());break;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._factory.blankNode()),this._readSubject):this._error("Unexpected graph",e);default:if((u=this._readEntity(e))===void 0)return}if(a===null&&(this._subject=a=this._factory.blankNode()),t===null?o.predicate===null?o.subject=a:o.object=a:this._emit(t,this.RDF_REST,a,this._graph),u!==null){if(this._n3Mode&&(e.type==="IRI"||e.type==="prefixed"))return this._saveContext("item",this._graph,a,this.RDF_FIRST,u),this._subject=u,this._predicate=null,this._getPathReader(this._readListItem);this._emit(a,this.RDF_FIRST,u,this._graph)}return r}_readDataTypeOrLang(e){return this._completeObjectLiteral(e,!1)}_readListItemDataTypeOrLang(e){return this._completeObjectLiteral(e,!0)}_completeLiteral(e){let u=this._factory.literal(this._literalValue);switch(e.type){case"type":case"typeIRI":const a=this._readEntity(e);if(a===void 0)return;u=this._factory.literal(this._literalValue,a),e=null;break;case"langcode":u=this._factory.literal(this._literalValue,e.value),e=null;break}return{token:e,literal:u}}_completeSubjectLiteral(e){return this._subject=this._completeLiteral(e).literal,this._readPredicateOrNamedGraph}_completeObjectLiteral(e,u){const a=this._completeLiteral(e);if(a)return this._object=a.literal,u&&this._emit(this._subject,this.RDF_FIRST,this._object,this._graph),a.token===null?this._getContextEndReader():(this._readCallback=this._getContextEndReader(),this._readCallback(a.token))}_readFormulaTail(e){return e.type!=="}"?this._readPunctuation(e):(this._subject!==null&&this._emit(this._subject,this._predicate,this._object,this._graph),this._restoreContext("formula",e),this._object===null?this._readPredicate:this._getContextEndReader())}_readPunctuation(e){let u,a=this._graph;const r=this._subject,t=this._inversePredicate;switch(e.type){case"}":if(this._graph===null)return this._error("Unexpected graph closing",e);if(this._n3Mode)return this._readFormulaTail(e);this._graph=null;case".":this._subject=null,u=this._contextStack.length?this._readSubject:this._readInTopContext,t&&(this._inversePredicate=!1);break;case";":u=this._readPredicate;break;case",":u=this._readObject;break;case"{|":if(!this._supportsRDFStar)return this._error("Unexpected RDF-star syntax",e);const i=this._predicate,o=this._object;this._subject=this._factory.quad(r,i,o,this.DEFAULTGRAPH),u=this._readPredicate;break;case"|}":if(this._subject.termType!=="Quad")return this._error("Unexpected asserted triple closing",e);this._subject=null,u=this._readPunctuation;break;default:if(this._supportsQuads&&this._graph===null&&(a=this._readEntity(e))!==void 0){u=this._readQuadPunctuation;break}return this._error(`Expected punctuation to follow "${this._object.id}"`,e)}if(r!==null){const i=this._predicate,o=this._object;t?this._emit(o,i,r,a):this._emit(r,i,o,a)}return u}_readBlankNodePunctuation(e){let u;switch(e.type){case";":u=this._readPredicate;break;case",":u=this._readObject;break;default:return this._error(`Expected punctuation to follow "${this._object.id}"`,e)}return this._emit(this._subject,this._predicate,this._object,this._graph),u}_readQuadPunctuation(e){return e.type!=="."?this._error("Expected dot to follow quad",e):this._readInTopContext}_readPrefix(e){return e.type!=="prefix"?this._error("Expected prefix to follow @prefix",e):(this._prefix=e.value,this._readPrefixIRI)}_readPrefixIRI(e){if(e.type!=="IRI")return this._error(`Expected IRI to follow prefix "${this._prefix}:"`,e);const u=this._readEntity(e);return this._prefixes[this._prefix]=u.value,this._prefixCallback(this._prefix,u),this._readDeclarationPunctuation}_readBaseIRI(e){const u=e.type==="IRI"&&this._resolveIRI(e.value);return u?(this._setBase(u),this._readDeclarationPunctuation):this._error("Expected valid IRI to follow base declaration",e)}_readNamedGraphLabel(e){switch(e.type){case"IRI":case"blank":case"prefixed":return this._readSubject(e),this._readGraph;case"[":return this._readNamedGraphBlankLabel;default:return this._error("Invalid graph label",e)}}_readNamedGraphBlankLabel(e){return e.type!=="]"?this._error("Invalid graph label",e):(this._subject=this._factory.blankNode(),this._readGraph)}_readDeclarationPunctuation(e){return this._sparqlStyle?(this._sparqlStyle=!1,this._readInTopContext(e)):e.type!=="."?this._error("Expected declaration to end with a dot",e):this._readInTopContext}_readQuantifierList(e){let u;switch(e.type){case"IRI":case"prefixed":if((u=this._readEntity(e,!0))!==void 0)break;default:return this._error(`Unexpected ${e.type}`,e)}return this._explicitQuantifiers?(this._subject===null?this._emit(this._graph||this.DEFAULTGRAPH,this._predicate,this._subject=this._factory.blankNode(),this.QUANTIFIERS_GRAPH):this._emit(this._subject,this.RDF_REST,this._subject=this._factory.blankNode(),this.QUANTIFIERS_GRAPH),this._emit(this._subject,this.RDF_FIRST,u,this.QUANTIFIERS_GRAPH)):this._quantified[u.id]=this._factory[this._quantifier](this._factory.blankNode().value),this._readQuantifierPunctuation}_readQuantifierPunctuation(e){return e.type===","?this._readQuantifierList:(this._explicitQuantifiers&&(this._emit(this._subject,this.RDF_REST,this.RDF_NIL,this.QUANTIFIERS_GRAPH),this._subject=null),this._readCallback=this._getContextEndReader(),this._readCallback(e))}_getPathReader(e){return this._afterPath=e,this._readPath}_readPath(e){switch(e.type){case"!":return this._readForwardPath;case"^":return this._readBackwardPath;default:const u=this._contextStack,a=u.length&&u[u.length-1];if(a&&a.type==="item"){const r=this._subject;this._restoreContext("item",e),this._emit(this._subject,this.RDF_FIRST,r,this._graph)}return this._afterPath(e)}}_readForwardPath(e){let u,a;const r=this._factory.blankNode();if((a=this._readEntity(e))!==void 0)return this._predicate===null?(u=this._subject,this._subject=r):(u=this._object,this._object=r),this._emit(u,a,r,this._graph),this._readPath}_readBackwardPath(e){const u=this._factory.blankNode();let a,r;if((a=this._readEntity(e))!==void 0)return this._predicate===null?(r=this._subject,this._subject=u):(r=this._object,this._object=u),this._emit(u,a,r,this._graph),this._readPath}_readRDFStarTailOrGraph(e){return e.type!==">>"?this._supportsQuads&&this._graph===null&&(this._graph=this._readEntity(e))!==void 0?this._readRDFStarTail:this._error(`Expected >> to follow "${this._object.id}"`,e):this._readRDFStarTail(e)}_readRDFStarTail(e){if(e.type!==">>")return this._error(`Expected >> but got ${e.type}`,e);const u=this._factory.quad(this._subject,this._predicate,this._object,this._graph||this.DEFAULTGRAPH);return this._restoreContext("<<",e),this._subject===null?(this._subject=u,this._readPredicate):(this._object=u,this._getContextEndReader())}_getContextEndReader(){const e=this._contextStack;if(!e.length)return this._readPunctuation;switch(e[e.length-1].type){case"blank":return this._readBlankNodeTail;case"list":return this._readListItem;case"formula":return this._readFormulaTail;case"<<":return this._readRDFStarTailOrGraph}}_emit(e,u,a,r){this._callback(null,this._factory.quad(e,u,a,r||this.DEFAULTGRAPH))}_error(e,u){const a=new Error(`${e} on line ${u.line}.`);a.context={token:u,line:u.line,previousToken:this._lexer.previousToken},this._callback(a),this._callback=tD}_resolveIRI(e){return/^[a-z][a-z0-9+.-]*:/i.test(e)?e:this._resolveRelativeIRI(e)}_resolveRelativeIRI(e){if(!e.length)return this._base;switch(e[0]){case"#":return this._base+e;case"?":return this._base.replace(/(?:\?.*)?$/,e);case"/":return(e[1]==="/"?this._baseScheme:this._baseRoot)+this._removeDotSegments(e);default:return/^[^/:]*:/.test(e)?null:this._removeDotSegments(this._basePath+e)}}_removeDotSegments(e){if(!/(^|\/)\.\.?($|[/#?])/.test(e))return e;const u=e.length;let a="",r=-1,t=-1,i=0,o="/";for(;r<u;){switch(o){case":":if(t<0&&e[++r]==="/"&&e[++r]==="/")for(;(t=r+1)<u&&e[t]!=="/";)r=t;break;case"?":case"#":r=u;break;case"/":if(e[r+1]===".")switch(o=e[++r+1],o){case"/":a+=e.substring(i,r-1),i=r+1;break;case void 0:case"?":case"#":return a+e.substring(i,r)+e.substr(r+1);case".":if(o=e[++r+1],o===void 0||o==="/"||o==="?"||o==="#"){if(a+=e.substring(i,r-2),(i=a.lastIndexOf("/"))>=t&&(a=a.substr(0,i)),o!=="/")return`${a}/${e.substr(r+1)}`;i=r+1}}}o=e[++r]}return a+e.substring(i)}parse(e,u,a){let r,t,i;if(u&&(u.onQuad||u.onPrefix||u.onComment)?(r=u.onQuad,t=u.onPrefix,i=u.onComment):(r=u,t=a),this._readCallback=this._readInTopContext,this._sparqlStyle=!1,this._prefixes=Object.create(null),this._prefixes._=this._blankNodePrefix?this._blankNodePrefix.substr(2):`b${qte++}_`,this._prefixCallback=t||tD,this._inversePredicate=!1,this._quantified=Object.create(null),!r){const l=[];let s;if(this._callback=(c,d)=>{c?s=c:d&&l.push(d)},this._lexer.tokenize(e).every(c=>this._readCallback=this._readCallback(c)),s)throw s;return l}let o=(l,s)=>{l!==null?(this._callback(l),this._callback=tD):this._readCallback&&(this._readCallback=this._readCallback(s))};i&&(this._lexer.comments=!0,o=(l,s)=>{l!==null?(this._callback(l),this._callback=tD):this._readCallback&&(s.type==="comment"?i(s.value):this._readCallback=this._readCallback(s))}),this._callback=r,this._lexer.tokenize(e,o)}}function tD(){}function eTe(n,e){n._factory=e,n.DEFAULTGRAPH=e.defaultGraph(),n.RDF_FIRST=e.namedNode(wa.rdf.first),n.RDF_REST=e.namedNode(wa.rdf.rest),n.RDF_NIL=e.namedNode(wa.rdf.nil),n.N3_FORALL=e.namedNode(wa.r.forAll),n.N3_FORSOME=e.namedNode(wa.r.forSome),n.ABBREVIATIONS={a:e.namedNode(wa.rdf.type),"=":e.namedNode(wa.owl.sameAs),">":e.namedNode(wa.log.implies),"<":e.namedNode(wa.log.isImpliedBy)},n.QUANTIFIERS_GRAPH=e.namedNode("urn:n3:quantifiers")}eTe(vP.prototype,fo);function LDe(n){return!!n&&n.termType==="NamedNode"}function qDe(n){return!!n&&n.termType==="BlankNode"}function BDe(n){return!!n&&n.termType==="Literal"}function UDe(n){return!!n&&n.termType==="Variable"}function QDe(n){return!!n&&n.termType==="Quad"}function g4(n){return!!n&&n.termType==="DefaultGraph"}function VDe(n){return g4(n.graph)}function HDe(n,e){return tTe({"":n.value||n},e)("")}function tTe(n,e){const u=Object.create(null);for(const r in n)a(r,n[r]);e=e||fo;function a(r,t){if(typeof t=="string"){const i=Object.create(null);u[r]=o=>i[o]||(i[o]=e.namedNode(t+o))}else if(!(r in u))throw new Error(`Unknown prefix: ${r}`);return u[r]}return a}const rTe=Object.freeze(Object.defineProperty({__proto__:null,inDefaultGraph:VDe,isBlankNode:qDe,isDefaultGraph:g4,isLiteral:BDe,isNamedNode:LDe,isQuad:QDe,isVariable:UDe,prefix:HDe,prefixes:tTe},Symbol.toStringTag,{value:"Module"}));function uF(n){return n.replace(/[\]\/\(\)\*\+\?\.\\\$]/g,"\\$&")}const kDe=/^:?[^:?#]*(?:[?#]|$)|^file:|^[^:]*:\/*[^?#]+?\/(?:\.\.?(?:\/|$)|\/)/i,zDe=/^(?:(?:[^/?#]{3,}|\.?[^/?#.]\.?)(?:\/[^/?#]{3,}|\.?[^/?#.]\.?)*\/?)?(?:[?#]|$)/,Bte="./",GDe="../",VM="?",Ute="#";class tN{constructor(e){this.base=e,this._baseLength=0,this._baseMatcher=null,this._pathReplacements=new Array(e.length+1)}static supports(e){return!kDe.test(e)}_getBaseMatcher(){if(this._baseMatcher)return this._baseMatcher;if(!tN.supports(this.base))return this._baseMatcher=/.^/;const e=/^[^:]*:\/*/.exec(this.base)[0],u=["^",uF(e)],a=[],r=[],t=/[^/?#]*([/?#])/y;let i,o=0,l=0,s=t.lastIndex=e.length;for(;!o&&!l&&(i=t.exec(this.base));)i[1]===Ute?l=t.lastIndex-1:(u.push(uF(i[0]),"(?:"),a.push(")?"),i[1]!==VM?r.push(s=t.lastIndex):(o=s=t.lastIndex,l=this.base.indexOf(Ute,o),this._pathReplacements[o]=VM));for(let c=0;c<r.length;c++)this._pathReplacements[r[c]]=GDe.repeat(r.length-c-1);return this._pathReplacements[r[r.length-1]]=Bte,this._baseLength=l>0?l:this.base.length,u.push(uF(this.base.substring(s,this._baseLength)),o?"(?:#|$)":"(?:[?#]|$)"),this._baseMatcher=new RegExp([...u,...a].join(""))}toRelative(e){const u=this._getBaseMatcher().exec(e);if(!u)return e;const a=u[0].length;if(a===this._baseLength&&a===e.length)return"";const r=this._pathReplacements[a];if(r){const t=e.substring(a);return r!==VM&&!zDe.test(t)?e:r===Bte&&/^[^?#]/.test(t)?t:r+t}return e.substring(a-1)}}const qT=fo.defaultGraph(),{rdf:$De,xsd:yg}=wa,Qte=/["\\\t\n\r\b\f\u0000-\u0019\ud800-\udbff]/,Vte=/["\\\t\n\r\b\f\u0000-\u0019]|[\ud800-\udbff][\udc00-\udfff]/g,XDe={"\\":"\\\\",'"':'\\"',"	":"\\t","\n":"\\n","\r":"\\r","\b":"\\b","\f":"\\f"};class BT extends Hi{equals(e){return e===this}}class rN{constructor(e,u){if(this._prefixRegex=/$0^/,e&&typeof e.write!="function"&&(u=e,e=null),u=u||{},this._lists=u.lists,e)this._outputStream=e,this._endStream=u.end===void 0?!0:!!u.end;else{let a="";this._outputStream={write(r,t,i){a+=r,i&&i()},end:r=>{r&&r(null,a)}},this._endStream=!0}this._subject=null,/triple|quad/i.test(u.format)?(this._lineMode=!0,this._writeQuad=this._writeQuadLine):(this._lineMode=!1,this._graph=qT,this._prefixIRIs=Object.create(null),u.prefixes&&this.addPrefixes(u.prefixes),u.baseIRI&&(this._baseIri=new tN(u.baseIRI)))}get _inDefaultGraph(){return qT.equals(this._graph)}_write(e,u){this._outputStream.write(e,"utf8",u)}_writeQuad(e,u,a,r,t){try{r.equals(this._graph)||(this._write((this._subject===null?"":this._inDefaultGraph?`.
`:`
}
`)+(qT.equals(r)?"":`${this._encodeIriOrBlank(r)} {
`)),this._graph=r,this._subject=null),e.equals(this._subject)?u.equals(this._predicate)?this._write(`, ${this._encodeObject(a)}`,t):this._write(`;
    ${this._encodePredicate(this._predicate=u)} ${this._encodeObject(a)}`,t):this._write(`${(this._subject===null?"":`.
`)+this._encodeSubject(this._subject=e)} ${this._encodePredicate(this._predicate=u)} ${this._encodeObject(a)}`,t)}catch(i){t&&t(i)}}_writeQuadLine(e,u,a,r,t){delete this._prefixMatch,this._write(this.quadToString(e,u,a,r),t)}quadToString(e,u,a,r){return`${this._encodeSubject(e)} ${this._encodeIriOrBlank(u)} ${this._encodeObject(a)}${r&&r.value?` ${this._encodeIriOrBlank(r)} .
`:` .
`}`}quadsToString(e){let u="";for(const a of e)u+=this.quadToString(a.subject,a.predicate,a.object,a.graph);return u}_encodeSubject(e){return e.termType==="Quad"?this._encodeQuad(e):this._encodeIriOrBlank(e)}_encodeIriOrBlank(e){if(e.termType!=="NamedNode")return this._lists&&e.value in this._lists&&(e=this.list(this._lists[e.value])),"id"in e?e.id:`_:${e.value}`;let u=e.value;this._baseIri&&(u=this._baseIri.toRelative(u)),Qte.test(u)&&(u=u.replace(Vte,Hte));const a=this._prefixRegex.exec(u);return a?a[1]?this._prefixIRIs[a[1]]+a[2]:u:`<${u}>`}_encodeLiteral(e){let u=e.value;if(Qte.test(u)&&(u=u.replace(Vte,Hte)),e.language)return`"${u}"@${e.language}`;if(this._lineMode){if(e.datatype.value===yg.string)return`"${u}"`}else switch(e.datatype.value){case yg.string:return`"${u}"`;case yg.boolean:if(u==="true"||u==="false")return u;break;case yg.integer:if(/^[+-]?\d+$/.test(u))return u;break;case yg.decimal:if(/^[+-]?\d*\.\d+$/.test(u))return u;break;case yg.double:if(/^[+-]?(?:\d+\.\d*|\.?\d+)[eE][+-]?\d+$/.test(u))return u;break}return`"${u}"^^${this._encodeIriOrBlank(e.datatype)}`}_encodePredicate(e){return e.value===$De.type?"a":this._encodeIriOrBlank(e)}_encodeObject(e){switch(e.termType){case"Quad":return this._encodeQuad(e);case"Literal":return this._encodeLiteral(e);default:return this._encodeIriOrBlank(e)}}_encodeQuad({subject:e,predicate:u,object:a,graph:r}){return`<<${this._encodeSubject(e)} ${this._encodePredicate(u)} ${this._encodeObject(a)}${g4(r)?"":` ${this._encodeIriOrBlank(r)}`}>>`}_blockedWrite(){throw new Error("Cannot write because the writer has been closed.")}addQuad(e,u,a,r,t){a===void 0?this._writeQuad(e.subject,e.predicate,e.object,e.graph,u):typeof r=="function"?this._writeQuad(e,u,a,qT,r):this._writeQuad(e,u,a,r||qT,t)}addQuads(e){for(let u=0;u<e.length;u++)this.addQuad(e[u])}addPrefix(e,u,a){const r={};r[e]=u,this.addPrefixes(r,a)}addPrefixes(e,u){if(!this._prefixIRIs)return u&&u();let a=!1;for(let r in e){let t=e[r];typeof t!="string"&&(t=t.value),a=!0,this._subject!==null&&(this._write(this._inDefaultGraph?`.
`:`
}
`),this._subject=null,this._graph=""),this._prefixIRIs[t]=r+=":",this._write(`@prefix ${r} <${t}>.
`)}if(a){let r="",t="";for(const i in this._prefixIRIs)r+=r?`|${i}`:i,t+=(t?"|":"")+this._prefixIRIs[i];r=uF(r),this._prefixRegex=new RegExp(`^(?:${t})[^/]*$|^(${r})([_a-zA-Z0-9][\\-_a-zA-Z0-9]*)$`)}this._write(a?`
`:"",u)}blank(e,u){let a=e,r,t;switch(e===void 0?a=[]:e.termType?a=[{predicate:e,object:u}]:"length"in e||(a=[e]),t=a.length){case 0:return new BT("[]");case 1:if(r=a[0],!(r.object instanceof BT))return new BT(`[ ${this._encodePredicate(r.predicate)} ${this._encodeObject(r.object)} ]`);default:let i="[";for(let o=0;o<t;o++)r=a[o],r.predicate.equals(e)?i+=`, ${this._encodeObject(r.object)}`:(i+=`${(o?`;
  `:`
  `)+this._encodePredicate(r.predicate)} ${this._encodeObject(r.object)}`,e=r.predicate);return new BT(`${i}
]`)}}list(e){const u=e&&e.length||0,a=new Array(u);for(let r=0;r<u;r++)a[r]=this._encodeObject(e[r]);return new BT(`(${a.join(" ")})`)}end(e){this._subject!==null&&(this._write(this._inDefaultGraph?`.
`:`
}
`),this._subject=null),this._write=this._blockedWrite;let u=e&&((a,r)=>{u=null,e(a,r)});if(this._endStream)try{return this._outputStream.end(u)}catch{}u&&u()}}function Hte(n){let e=XDe[n];return e===void 0&&(n.length===1?(e=n.charCodeAt(0).toString(16),e="\\u0000".substr(0,6-e.length)+e):(e=((n.charCodeAt(0)-55296)*1024+n.charCodeAt(1)+9216).toString(16),e="\\U00000000".substr(0,10-e.length)+e)),e}var _P=Nr();const HM=Symbol("iter");function n4(n,e,u=4){if(u===0)return Object.assign(n,e);for(const a in e)n[a]=n4(n[a]||Object.create(null),e[a],u-1);return n}function nTe(n,e,u=4){let a=!1;for(const r in n)if(r in e){const t=u===0?null:nTe(n[r],e[r],u-1);if(t!==!1)a=a||Object.create(null),a[r]=t;else if(u===3)return!1}return a}function aTe(n,e,u=4){let a=!1;for(const r in n)if(!(r in e))a=a||Object.create(null),a[r]=u===0?null:n4({},n[r],u-1);else if(u!==0){const t=aTe(n[r],e[r],u-1);if(t!==!1)a=a||Object.create(null),a[r]=t;else if(u===3)return!1}return a}class GB{constructor(e={}){this._id=1,this._ids=Object.create(null),this._ids[""]=1,this._entities=Object.create(null),this._entities[1]="",this._blankNodeIndex=0,this._factory=e.factory||fo}_termFromId(e){if(e[0]==="."){const u=this._entities,a=e.split(".");return this._factory.quad(this._termFromId(u[a[1]]),this._termFromId(u[a[2]]),this._termFromId(u[a[3]]),a[4]&&this._termFromId(u[a[4]]))}return ib(e,this._factory)}_termToNumericId(e){if(e.termType==="Quad"){const u=this._termToNumericId(e.subject),a=this._termToNumericId(e.predicate),r=this._termToNumericId(e.object);let t;return u&&a&&r&&(g4(e.graph)||(t=this._termToNumericId(e.graph)))&&this._ids[t?`.${u}.${a}.${r}.${t}`:`.${u}.${a}.${r}`]}return this._ids[rl(e)]}_termToNewNumericId(e){const u=e&&e.termType==="Quad"?`.${this._termToNewNumericId(e.subject)}.${this._termToNewNumericId(e.predicate)}.${this._termToNewNumericId(e.object)}${g4(e.graph)?"":`.${this._termToNewNumericId(e.graph)}`}`:rl(e);return this._ids[u]||(this._ids[this._entities[++this._id]=u]=this._id)}createBlankNode(e){let u,a;if(e)for(u=e=`_:${e}`,a=1;this._ids[u];)u=e+a++;else do u=`_:b${this._blankNodeIndex++}`;while(this._ids[u]);return this._ids[u]=++this._id,this._entities[this._id]=u,this._factory.blankNode(u.substr(2))}}class ja{constructor(e,u){this._size=0,this._graphs=Object.create(null),!u&&e&&!e[0]&&typeof e.match!="function"&&(u=e,e=null),u=u||{},this._factory=u.factory||fo,this._entityIndex=u.entityIndex||new GB({factory:this._factory}),this._entities=this._entityIndex._entities,this._termFromId=this._entityIndex._termFromId.bind(this._entityIndex),this._termToNumericId=this._entityIndex._termToNumericId.bind(this._entityIndex),this._termToNewNumericId=this._entityIndex._termToNewNumericId.bind(this._entityIndex),e&&this.addAll(e)}get size(){let e=this._size;if(e!==null)return e;e=0;const u=this._graphs;let a,r;for(const t in u)for(const i in a=u[t].subjects)for(const o in r=a[i])e+=Object.keys(r[o]).length;return this._size=e}_addToIndex(e,u,a,r){const t=e[u]||(e[u]={}),i=t[a]||(t[a]={}),o=r in i;return o||(i[r]=null),!o}_removeFromIndex(e,u,a,r){const t=e[u],i=t[a];delete i[r];for(const o in i)return;delete t[a];for(const o in t)return;delete e[u]}*_findInIndex(e,u,a,r,t,i,o,l){let s,c,d;const f=this._entities,p=this._termFromId(f[l]),h={subject:null,predicate:null,object:null};u&&((s=e,e={})[u]=s[u]);for(const g in e)if(c=e[g]){h[t]=this._termFromId(f[g]),a&&((s=c,c={})[a]=s[a]);for(const _ in c)if(d=c[_]){h[i]=this._termFromId(f[_]);const m=r?r in d?[r]:[]:Object.keys(d);for(let w=0;w<m.length;w++)h[o]=this._termFromId(f[m[w]]),yield this._factory.quad(h.subject,h.predicate,h.object,p)}}}_loop(e,u){for(const a in e)u(a)}_loopByKey0(e,u,a){let r,t;if(r=e[u])for(t in r)a(t)}_loopByKey1(e,u,a){let r,t;for(r in e)t=e[r],t[u]&&a(r)}_loopBy2Keys(e,u,a,r){let t,i,o;if((t=e[u])&&(i=t[a]))for(o in i)r(o)}_countInIndex(e,u,a,r){let t=0,i,o,l;u&&((i=e,e={})[u]=i[u]);for(const s in e)if(o=e[s]){a&&((i=o,o={})[a]=i[a]);for(const c in o)(l=o[c])&&(r?r in l&&t++:t+=Object.keys(l).length)}return t}_getGraphs(e){return e=e===""?1:e&&(this._termToNumericId(e)||-1),typeof e!="number"?this._graphs:{[e]:this._graphs[e]}}_uniqueEntities(e){const u=Object.create(null);return a=>{a in u||(u[a]=!0,e(this._termFromId(this._entities[a],this._factory)))}}add(e){return this.addQuad(e),this}addQuad(e,u,a,r){u||(r=e.graph,a=e.object,u=e.predicate,e=e.subject),r=r?this._termToNewNumericId(r):1;let t=this._graphs[r];return t||(t=this._graphs[r]={subjects:{},predicates:{},objects:{}},Object.freeze(t)),e=this._termToNewNumericId(e),u=this._termToNewNumericId(u),a=this._termToNewNumericId(a),this._addToIndex(t.subjects,e,u,a)?(this._addToIndex(t.predicates,u,a,e),this._addToIndex(t.objects,a,e,u),this._size=null,!0):!1}addQuads(e){for(let u=0;u<e.length;u++)this.addQuad(e[u])}delete(e){return this.removeQuad(e),this}has(e,u,a,r){return e&&e.subject&&({subject:e,predicate:u,object:a,graph:r}=e),!this.readQuads(e,u,a,r).next().done}import(e){return e.on("data",u=>{this.addQuad(u)}),e}removeQuad(e,u,a,r){u||({subject:e,predicate:u,object:a,graph:r}=e),r=r?this._termToNumericId(r):1;const t=this._graphs;let i,o,l;if(!(e=e&&this._termToNumericId(e))||!(u=u&&this._termToNumericId(u))||!(a=a&&this._termToNumericId(a))||!(i=t[r])||!(o=i.subjects[e])||!(l=o[u])||!(a in l))return!1;this._removeFromIndex(i.subjects,e,u,a),this._removeFromIndex(i.predicates,u,a,e),this._removeFromIndex(i.objects,a,e,u),this._size!==null&&this._size--;for(e in i.subjects)return!0;return delete t[r],!0}removeQuads(e){for(let u=0;u<e.length;u++)this.removeQuad(e[u])}remove(e){return e.on("data",u=>{this.removeQuad(u)}),e}removeMatches(e,u,a,r){const t=new _P.Readable({objectMode:!0}),i=this.readQuads(e,u,a,r);return t._read=o=>{for(;--o>=0;){const{done:l,value:s}=i.next();if(l){t.push(null);return}t.push(s)}},this.remove(t)}deleteGraph(e){return this.removeMatches(null,null,null,e)}getQuads(e,u,a,r){return[...this.readQuads(e,u,a,r)]}*readQuads(e,u,a,r){const t=this._getGraphs(r);let i,o,l,s;if(!(e&&!(o=this._termToNumericId(e))||u&&!(l=this._termToNumericId(u))||a&&!(s=this._termToNumericId(a))))for(const c in t)(i=t[c])&&(o?s?yield*this._findInIndex(i.objects,s,o,l,"object","subject","predicate",c):yield*this._findInIndex(i.subjects,o,l,null,"subject","predicate","object",c):l?yield*this._findInIndex(i.predicates,l,s,null,"predicate","object","subject",c):s?yield*this._findInIndex(i.objects,s,null,null,"object","subject","predicate",c):yield*this._findInIndex(i.subjects,null,null,null,"subject","predicate","object",c))}match(e,u,a,r){return new el(this,e,u,a,r,{entityIndex:this._entityIndex})}countQuads(e,u,a,r){const t=this._getGraphs(r);let i=0,o,l,s,c;if(e&&!(l=this._termToNumericId(e))||u&&!(s=this._termToNumericId(u))||a&&!(c=this._termToNumericId(a)))return 0;for(const d in t)(o=t[d])&&(e?a?i+=this._countInIndex(o.objects,c,l,s):i+=this._countInIndex(o.subjects,l,s,c):u?i+=this._countInIndex(o.predicates,s,c,l):i+=this._countInIndex(o.objects,c,l,s));return i}forEach(e,u,a,r,t){this.some(i=>(e(i,this),!1),u,a,r,t)}every(e,u,a,r,t){return!this.some(i=>!e(i,this),u,a,r,t)}some(e,u,a,r,t){for(const i of this.readQuads(u,a,r,t))if(e(i,this))return!0;return!1}getSubjects(e,u,a){const r=[];return this.forSubjects(t=>{r.push(t)},e,u,a),r}forSubjects(e,u,a,r){const t=this._getGraphs(r);let i,o,l;if(e=this._uniqueEntities(e),!(u&&!(o=this._termToNumericId(u))||a&&!(l=this._termToNumericId(a))))for(r in t)(i=t[r])&&(o?l?this._loopBy2Keys(i.predicates,o,l,e):this._loopByKey1(i.subjects,o,e):l?this._loopByKey0(i.objects,l,e):this._loop(i.subjects,e))}getPredicates(e,u,a){const r=[];return this.forPredicates(t=>{r.push(t)},e,u,a),r}forPredicates(e,u,a,r){const t=this._getGraphs(r);let i,o,l;if(e=this._uniqueEntities(e),!(u&&!(o=this._termToNumericId(u))||a&&!(l=this._termToNumericId(a))))for(r in t)(i=t[r])&&(o?l?this._loopBy2Keys(i.objects,l,o,e):this._loopByKey0(i.subjects,o,e):l?this._loopByKey1(i.predicates,l,e):this._loop(i.predicates,e))}getObjects(e,u,a){const r=[];return this.forObjects(t=>{r.push(t)},e,u,a),r}forObjects(e,u,a,r){const t=this._getGraphs(r);let i,o,l;if(e=this._uniqueEntities(e),!(u&&!(o=this._termToNumericId(u))||a&&!(l=this._termToNumericId(a))))for(r in t)(i=t[r])&&(o?l?this._loopBy2Keys(i.subjects,o,l,e):this._loopByKey1(i.objects,o,e):l?this._loopByKey0(i.predicates,l,e):this._loop(i.objects,e))}getGraphs(e,u,a){const r=[];return this.forGraphs(t=>{r.push(t)},e,u,a),r}forGraphs(e,u,a,r){for(const t in this._graphs)this.some(i=>(e(i.graph),!0),u,a,r,this._termFromId(this._entities[t]))}createBlankNode(e){return this._entityIndex.createBlankNode(e)}extractLists({remove:e=!1,ignoreErrors:u=!1}={}){const a={},r=u?(()=>!0):((o,l)=>{throw new Error(`${o.value} ${l}`)}),t=this.getQuads(null,wa.rdf.rest,wa.rdf.nil,null),i=e?[...t]:[];return t.forEach(o=>{const l=[];let s=!1,c,d;const f=o.graph;let p=o.subject;for(;p&&!s;){const h=this.getQuads(null,null,p,null),g=this.getQuads(p,null,null,null);let _,m=null,w=null,T=null;for(let E=0;E<g.length&&!s;E++)_=g[E],_.graph.equals(f)?c?s=r(p,"has non-list arcs out"):_.predicate.value===wa.rdf.first?m?s=r(p,"has multiple rdf:first arcs"):i.push(m=_):_.predicate.value===wa.rdf.rest?w?s=r(p,"has multiple rdf:rest arcs"):i.push(w=_):h.length?s=r(p,"can't be subject and object"):(c=_,d="subject"):s=r(p,"not confined to single graph");for(let E=0;E<h.length&&!s;++E)_=h[E],c?s=r(p,"can't have coreferences"):_.predicate.value===wa.rdf.rest?T?s=r(p,"has incoming rdf:rest arcs"):T=_:(c=_,d="object");m?l.unshift(m.object):s=r(p,"has no list head"),p=T&&T.subject}s?e=!1:c&&(a[c[d].value]=l)}),e&&this.removeQuads(i),a}addAll(e){if(e instanceof el&&(e=e.filtered),Array.isArray(e))this.addQuads(e);else if(e instanceof ja&&e._entityIndex===this._entityIndex)e._size!==0&&(this._graphs=n4(this._graphs,e._graphs),this._size=null);else for(const u of e)this.add(u);return this}contains(e){if(e instanceof el&&(e=e.filtered),e===this)return!0;if(!(e instanceof ja)||this._entityIndex!==e._entityIndex)return e.every(s=>this.has(s));const u=this._graphs,a=e._graphs;let r,t,i,o,l;for(const s in a){if(!(r=u[s]))return!1;r=r.subjects;for(const c in t=a[s].subjects){if(!(i=r[c]))return!1;for(const d in o=t[c]){if(!(l=i[d]))return!1;for(const f in o[d])if(!(f in l))return!1}}}return!0}deleteMatches(e,u,a,r){for(const t of this.match(e,u,a,r))this.removeQuad(t);return this}difference(e){if(e&&e instanceof el&&(e=e.filtered),e===this)return new ja({entityIndex:this._entityIndex});if(e instanceof ja&&e._entityIndex===this._entityIndex){const u=new ja({entityIndex:this._entityIndex}),a=aTe(this._graphs,e._graphs);return a&&(u._graphs=a,u._size=null),u}return this.filter(u=>!e.has(u))}equals(e){return e instanceof el&&(e=e.filtered),e===this||this.size===e.size&&this.contains(e)}filter(e){const u=new ja({entityIndex:this._entityIndex});for(const a of this)e(a,this)&&u.add(a);return u}intersection(e){if(e instanceof el&&(e=e.filtered),e===this){const u=new ja({entityIndex:this._entityIndex});return u._graphs=n4(Object.create(null),this._graphs),u._size=this._size,u}else if(e instanceof ja&&this._entityIndex===e._entityIndex){const u=new ja({entityIndex:this._entityIndex}),a=nTe(e._graphs,this._graphs);return a&&(u._graphs=a,u._size=null),u}return this.filter(u=>e.has(u))}map(e){const u=new ja({entityIndex:this._entityIndex});for(const a of this)u.add(e(a,this));return u}reduce(e,u){const a=this.readQuads();let r=u===void 0?a.next().value:u;for(const t of a)r=e(r,t,this);return r}toArray(){return this.getQuads()}toCanonical(){throw new Error("not implemented")}toStream(){return this.match()}toString(){return new rN().quadsToString(this)}union(e){const u=new ja({entityIndex:this._entityIndex});return u._graphs=n4(Object.create(null),this._graphs),u._size=this._size,u.addAll(e),u}*[Symbol.iterator](){yield*this.readQuads()}}function Co(n,e,u=0){const a=e[u];if(a&&!(a in n))return!1;let r=!1;for(const t in a?{[a]:n[a]}:n){const i=u===2?null:Co(n[t],e,u+1);i!==!1&&(r=r||Object.create(null),r[t]=i)}return r}class el extends _P.Readable{constructor(e,u,a,r,t,i){super({objectMode:!0}),Object.assign(this,{n3Store:e,subject:u,predicate:a,object:r,graph:t,options:i})}get filtered(){if(!this._filtered){const{n3Store:e,graph:u,object:a,predicate:r,subject:t}=this,i=this._filtered=new ja({factory:e._factory,entityIndex:this.options.entityIndex});let o,l,s;if(t&&!(o=i._termToNumericId(t))||r&&!(l=i._termToNumericId(r))||a&&!(s=i._termToNumericId(a)))return i;const c=e._getGraphs(u);for(const d in c){let f,p,h,g;(g=c[d])&&(!o&&l?(p=Co(g.predicates,[l,s,o]))&&(f=Co(g.subjects,[o,l,s]),h=Co(g.objects,[s,o,l])):s?(h=Co(g.objects,[s,o,l]))&&(f=Co(g.subjects,[o,l,s]),p=Co(g.predicates,[l,s,o])):(f=Co(g.subjects,[o,l,s]))&&(p=Co(g.predicates,[l,s,o]),h=Co(g.objects,[s,o,l])),f&&(i._graphs[d]={subjects:f,predicates:p,objects:h}))}i._size=null}return this._filtered}get size(){return this.filtered.size}_read(e){e>0&&!this[HM]&&(this[HM]=this[Symbol.iterator]());const u=this[HM];for(;--e>=0;){const{done:a,value:r}=u.next();if(a){this.push(null);return}this.push(r)}}addAll(e){return this.filtered.addAll(e)}contains(e){return this.filtered.contains(e)}deleteMatches(e,u,a,r){return this.filtered.deleteMatches(e,u,a,r)}difference(e){return this.filtered.difference(e)}equals(e){return this.filtered.equals(e)}every(e,u,a,r,t){return this.filtered.every(e,u,a,r,t)}filter(e){return this.filtered.filter(e)}forEach(e,u,a,r,t){return this.filtered.forEach(e,u,a,r,t)}import(e){return this.filtered.import(e)}intersection(e){return this.filtered.intersection(e)}map(e){return this.filtered.map(e)}some(e,u,a,r,t){return this.filtered.some(e,u,a,r,t)}toCanonical(){return this.filtered.toCanonical()}toStream(){return this._filtered?this._filtered.toStream():this.n3Store.match(this.subject,this.predicate,this.object,this.graph)}union(e){return this._filtered?this._filtered.union(e):this.n3Store.match(this.subject,this.predicate,this.object,this.graph).addAll(e)}toArray(){return this._filtered?this._filtered.toArray():this.n3Store.getQuads(this.subject,this.predicate,this.object,this.graph)}reduce(e,u){return this.filtered.reduce(e,u)}toString(){return new rN().quadsToString(this)}add(e){return this.filtered.add(e)}delete(e){return this.filtered.delete(e)}has(e){return this.filtered.has(e)}match(e,u,a,r){return new el(this.filtered,e,u,a,r,this.options)}*[Symbol.iterator](){yield*this._filtered||this.n3Store.readQuads(this.subject,this.predicate,this.object,this.graph)}}class iTe{dataset(e){return new ja(e)}}function uTe(n){const e=[];for(const{subject:u,object:a}of n.match(null,fo.namedNode("http://www.w3.org/2000/10/swap/log#implies"),null,fo.defaultGraph())){const r=[...n.match(null,null,null,u)],t=[...n.match(null,null,null,a)];e.push({premise:r,conclusion:t})}return e}class oTe{constructor(e){this._store=e}_add(e,u,a,r,t){this._store._addToIndex(r.subjects,e,u,a)&&(this._store._addToIndex(r.predicates,u,a,e),this._store._addToIndex(r.objects,a,e,u),t())}_evaluatePremise(e,u,a,r=0){let t,i,o,l,s;const[c,d,f]=e.premise[r].value,p=u[e.premise[r].content],h=!(o=c.value);for(o in h?p:{[o]:p[o]})if(l=p[o]){h&&(c.value=Number(o)),t=!(o=d.value);for(o in t?l:{[o]:l[o]})if(s=l[o]){t&&(d.value=Number(o)),i=!(o=f.value);for(o in i?s:{[o]:s[o]})i&&(f.value=Number(o)),r===e.premise.length-1?e.conclusion.forEach(g=>{this._add(g.subject.value,g.predicate.value,g.object.value,u,()=>{a(g)})}):this._evaluatePremise(e,u,a,r+1);i&&(f.value=null)}t&&(d.value=null)}h&&(c.value=null)}_evaluateRules(e,u,a){for(let r=0;r<e.length;r++)this._evaluatePremise(e[r],u,a)}_reasonGraphNaive(e,u){const a=[];function r(o){o.next&&o.next.forEach(l=>{a.push([o.subject.value,o.predicate.value,o.object.value,l])})}const t=o=>{o.forEach(l=>{this._add(l.subject.value,l.predicate.value,l.object.value,u,()=>{r(l)})})};this._evaluateRules(e,u,r);let i;for(;(i=a.pop())!==void 0;){const[o,l,s,c]=i,d=c.basePremise.subject.value;d||(c.basePremise.subject.value=o);const f=c.basePremise.predicate.value;f||(c.basePremise.predicate.value=l);const p=c.basePremise.object.value;p||(c.basePremise.object.value=s),c.premise.length===0?t(c.conclusion):this._evaluatePremise(c,u,r),d||(c.basePremise.subject.value=null),f||(c.basePremise.predicate.value=null),p||(c.basePremise.object.value=null)}}_createRule({premise:e,conclusion:u}){const a={},r=i=>i.termType==="Variable"?a[i.value]=a[i.value]||{}:{value:this._store._termToNewNumericId(i)},t=i=>({subject:r(i.subject),predicate:r(i.predicate),object:r(i.object)});return{premise:e.map(i=>t(i)),conclusion:u.map(i=>t(i)),variables:Object.values(a)}}reason(e){Array.isArray(e)||(e=uTe(e)),e=e.map(a=>this._createRule(a));for(const a of e)for(const r of e)for(let t=0;t<r.premise.length;t++){const i=r.premise[t];for(const o of a.conclusion){if(kM(i.subject,o.subject)&&kM(i.predicate,o.predicate)&&kM(i.object,o.object)){const l=new Set,s=[];i.subject.value=i.subject.value||1,i.object.value=i.object.value||1,i.predicate.value=i.predicate.value||1;for(let c=0;c<r.premise.length;c++)c!==t&&s.push(kte(r.premise[c],l));(o.next=o.next||[]).push({premise:s,conclusion:r.conclusion,basePremise:i})}r.variables.forEach(l=>{l.value=null})}}for(const a of e){const r=new Set;a.premise=a.premise.map(t=>kte(t,r))}const u=this._store._getGraphs();for(const a in u)this._reasonGraphNaive(e,u[a]);this._store._size=null}}function kte({subject:n,predicate:e,object:u},a){const r=n.value||a.has(n)||(a.add(n),!1),t=e.value||a.has(e)||(a.add(e),!1),i=u.value||a.has(u)||(a.add(u),!1);return!r&&t?{content:"predicates",value:[e,u,n]}:i?{content:"objects",value:[u,n,e]}:{content:"subjects",value:[n,e,u]}}function kM(n,e){return n.value===null&&(n.value=e.value),n.value===e.value}class sTe extends _P.Transform{constructor(e){super({decodeStrings:!0}),this._readableState.objectMode=!0;const u=new vP(e);let a,r;const t={onQuad:(i,o)=>{i&&this.emit("error",i)||o&&this.push(o)},onPrefix:(i,o)=>{this.emit("prefix",i,o)}};e&&e.comments&&(t.onComment=i=>{this.emit("comment",i)}),u.parse({on:(i,o)=>{switch(i){case"data":a=o;break;case"end":r=o;break}}},t),this._transform=(i,o,l)=>{a(i),l()},this._flush=i=>{r(),i()}}import(e){return e.on("data",u=>{this.write(u)}),e.on("end",()=>{this.end()}),e.on("error",u=>{this.emit("error",u)}),this}}class cTe extends _P.Transform{constructor(e){super({encoding:"utf8",writableObjectMode:!0});const u=this._writer=new rN({write:(a,r,t)=>{this.push(a),t&&t()},end:a=>{this.push(null),a&&a()}},e);this._transform=(a,r,t)=>{u.addQuad(a,t)},this._flush=a=>{u.end(a)}}import(e){return e.on("data",u=>{this.write(u)}),e.on("end",()=>{this.end()}),e.on("error",u=>{this.emit("error",u)}),e.on("prefix",(u,a)=>{this._writer.addPrefix(u,a)}),this}}const KDe={Lexer:VB,Parser:vP,Writer:rN,Store:ja,StoreFactory:iTe,EntityIndex:GB,StreamParser:sTe,StreamWriter:cTe,Util:rTe,Reasoner:oTe,BaseIRI:tN,DataFactory:fo,Term:Hi,NamedNode:gP,Literal:Hg,BlankNode:HB,Variable:kB,DefaultGraph:zB,Quad:o1,Triple:o1,termFromId:ib,termToId:rl},JDe=Object.freeze(Object.defineProperty({__proto__:null,BaseIRI:tN,BlankNode:HB,DataFactory:fo,DefaultGraph:zB,EntityIndex:GB,Lexer:VB,Literal:Hg,NamedNode:gP,Parser:vP,Quad:o1,Reasoner:oTe,Store:ja,StoreFactory:iTe,StreamParser:sTe,StreamWriter:cTe,Term:Hi,Triple:o1,Util:rTe,Variable:kB,Writer:rN,default:KDe,getRulesFromDataset:uTe,termFromId:ib,termToId:rl},Symbol.toStringTag,{value:"Module"})),wl=zF(JDe);var zte;function WDe(){if(zte)return PT;zte=1,Object.defineProperty(PT,"__esModule",{value:!0}),PT.ActorRdfParseN3=void 0;const n=O1(),e=lt(),u=wl;let a=class extends n.ActorRdfParseFixedMediaTypes{constructor(t){super(t)}async runHandle(t,i,o){const l=t.context.getSafe(e.KeysInitQuery.dataFactory);t.data.on("error",c=>s.emit("error",c));const s=t.data.pipe(new u.StreamParser({factory:l,baseIRI:t.metadata?.baseIRI,format:i.endsWith("n3")?i:`${i}*`}));return{data:s,metadata:{triples:i==="text/turtle"||i==="application/n-triples"||i==="text/n3"}}}};return PT.ActorRdfParseN3=a,PT}var Gte;function $B(){return Gte||(Gte=1,(function(n){var e=ep&&ep.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=ep&&ep.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(WDe(),n)})(ep)),ep}var rp={},UT={},np={},ap={},ip={},zM={},$te;function YDe(){return $te||($te=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.CHAR=`	
\r ---`,n.S=` 	\r
`,n.NAME_START_CHAR=":A-Z_a-z-----------",n.NAME_CHAR="-"+n.NAME_START_CHAR+".0-9--",n.CHAR_RE=new RegExp("^["+n.CHAR+"]$","u"),n.S_RE=new RegExp("^["+n.S+"]+$","u"),n.NAME_START_CHAR_RE=new RegExp("^["+n.NAME_START_CHAR+"]$","u"),n.NAME_CHAR_RE=new RegExp("^["+n.NAME_CHAR+"]$","u"),n.NAME_RE=new RegExp("^["+n.NAME_START_CHAR+"]["+n.NAME_CHAR+"]*$","u"),n.NMTOKEN_RE=new RegExp("^["+n.NAME_CHAR+"]+$","u");var e=9,u=10,a=13,r=32;n.S_LIST=[r,u,a,e];function t(s){return s>=r&&s<=55295||s===u||s===a||s===e||s>=57344&&s<=65533||s>=65536&&s<=1114111}n.isChar=t;function i(s){return s===r||s===u||s===a||s===e}n.isS=i;function o(s){return s>=65&&s<=90||s>=97&&s<=122||s===58||s===95||s===8204||s===8205||s>=192&&s<=214||s>=216&&s<=246||s>=248&&s<=767||s>=880&&s<=893||s>=895&&s<=8191||s>=8304&&s<=8591||s>=11264&&s<=12271||s>=12289&&s<=55295||s>=63744&&s<=64975||s>=65008&&s<=65533||s>=65536&&s<=983039}n.isNameStartChar=o;function l(s){return o(s)||s>=48&&s<=57||s===45||s===46||s===183||s>=768&&s<=879||s>=8255&&s<=8256}n.isNameChar=l})(zM)),zM}var GM={},Xte;function ZDe(){return Xte||(Xte=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.CHAR="---",n.RESTRICTED_CHAR="-\b\v\f---",n.S=` 	\r
`,n.NAME_START_CHAR=":A-Z_a-z-----------",n.NAME_CHAR="-"+n.NAME_START_CHAR+".0-9--",n.CHAR_RE=new RegExp("^["+n.CHAR+"]$","u"),n.RESTRICTED_CHAR_RE=new RegExp("^["+n.RESTRICTED_CHAR+"]$","u"),n.S_RE=new RegExp("^["+n.S+"]+$","u"),n.NAME_START_CHAR_RE=new RegExp("^["+n.NAME_START_CHAR+"]$","u"),n.NAME_CHAR_RE=new RegExp("^["+n.NAME_CHAR+"]$","u"),n.NAME_RE=new RegExp("^["+n.NAME_START_CHAR+"]["+n.NAME_CHAR+"]*$","u"),n.NMTOKEN_RE=new RegExp("^["+n.NAME_CHAR+"]+$","u");var e=9,u=10,a=13,r=32;n.S_LIST=[r,u,a,e];function t(d){return d>=1&&d<=55295||d>=57344&&d<=65533||d>=65536&&d<=1114111}n.isChar=t;function i(d){return d>=1&&d<=8||d===11||d===12||d>=14&&d<=31||d>=127&&d<=132||d>=134&&d<=159}n.isRestrictedChar=i;function o(d){return d===9||d===10||d===13||d>31&&d<127||d===133||d>159&&d<=55295||d>=57344&&d<=65533||d>=65536&&d<=1114111}n.isCharAndNotRestricted=o;function l(d){return d===r||d===u||d===a||d===e}n.isS=l;function s(d){return d>=65&&d<=90||d>=97&&d<=122||d===58||d===95||d===8204||d===8205||d>=192&&d<=214||d>=216&&d<=246||d>=248&&d<=767||d>=880&&d<=893||d>=895&&d<=8191||d>=8304&&d<=8591||d>=11264&&d<=12271||d>=12289&&d<=55295||d>=63744&&d<=64975||d>=65008&&d<=65533||d>=65536&&d<=983039}n.isNameStartChar=s;function c(d){return s(d)||d>=48&&d<=57||d===45||d===46||d===183||d>=768&&d<=879||d>=8255&&d<=8256}n.isNameChar=c})(GM)),GM}var $M={},Kte;function eFe(){return Kte||(Kte=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.NC_NAME_START_CHAR="A-Z_a-z------------",n.NC_NAME_CHAR="-"+n.NC_NAME_START_CHAR+".0-9--",n.NC_NAME_START_CHAR_RE=new RegExp("^["+n.NC_NAME_START_CHAR+"]$","u"),n.NC_NAME_CHAR_RE=new RegExp("^["+n.NC_NAME_CHAR+"]$","u"),n.NC_NAME_RE=new RegExp("^["+n.NC_NAME_START_CHAR+"]["+n.NC_NAME_CHAR+"]*$","u");function e(a){return a>=65&&a<=90||a===95||a>=97&&a<=122||a>=192&&a<=214||a>=216&&a<=246||a>=248&&a<=767||a>=880&&a<=893||a>=895&&a<=8191||a>=8204&&a<=8205||a>=8304&&a<=8591||a>=11264&&a<=12271||a>=12289&&a<=55295||a>=63744&&a<=64975||a>=65008&&a<=65533||a>=65536&&a<=983039}n.isNCNameStartChar=e;function u(a){return e(a)||a===45||a===46||a>=48&&a<=57||a===183||a>=768&&a<=879||a>=8255&&a<=8256}n.isNCNameChar=u})($M)),$M}var Jte;function lTe(){if(Jte)return ip;Jte=1,Object.defineProperty(ip,"__esModule",{value:!0}),ip.SaxesParser=ip.EVENTS=void 0;const n=YDe(),e=ZDe(),u=eFe();var a=n.isS,r=n.isChar,t=n.isNameStartChar,i=n.isNameChar,o=n.S_LIST,l=n.NAME_RE,s=e.isChar,c=u.isNCNameStartChar,d=u.isNCNameChar,f=u.NC_NAME_RE;const p="http://www.w3.org/XML/1998/namespace",h="http://www.w3.org/2000/xmlns/",g={__proto__:null,xml:p,xmlns:h},_={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},m=-1,w=-2,T=0,E=1,S=2,N=3,j=4,q=5,O=6,I=7,A=8,P=9,C=10,B=11,V=12,U=13,G=14,J=15,ne=16,W=17,ee=18,se=19,pe=20,le=21,Ee=22,Ae=23,Ne=24,Oe=25,be=26,te=27,v=28,F=29,D=30,L=31,H=32,Z=33,$=34,ue=35,ae=36,ce=37,Se=38,xe=39,Ce=40,He=41,Je=42,Ye=43,oe=44,X=9,Y=10,he=13,ve=32,ye=33,re=34,Ie=38,Le=39,Pe=45,Fe=47,R=59,k=60,K=61,de=62,ge=63,Qe=91,je=93,$e=133,at=8232,fe=ht=>ht===re||ht===Le,Te=[re,Le],qe=[...Te,Qe,de],it=[...Te,k,je],Me=[K,ge,...o],st=[...o,de,Ie,k];function tt(ht,Re,Ve){switch(Re){case"xml":Ve!==p&&ht.fail(`xml prefix must be bound to ${p}.`);break;case"xmlns":Ve!==h&&ht.fail(`xmlns prefix must be bound to ${h}.`);break}switch(Ve){case h:ht.fail(Re===""?`the default namespace may not be set to ${Ve}.`:`may not assign a prefix (even "xmlns") to the URI ${h}.`);break;case p:switch(Re){case"xml":break;case"":ht.fail(`the default namespace may not be set to ${Ve}.`);break;default:ht.fail("may not assign the xml namespace to another prefix.")}break}}function Ot(ht,Re){for(const Ve of Object.keys(Re))tt(ht,Ve,Re[Ve])}const yt=ht=>f.test(ht),bt=ht=>l.test(ht),Tt=0,xt=1,wt=2;ip.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];const gt={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"};class dr{get closed(){return this._closed}constructor(Re){this.opt=Re??{},this.fragmentOpt=!!this.opt.fragment;const Ve=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=this.opt.position!==!1,this.fileName=this.opt.fileName,Ve){this.nameStartCheck=c,this.nameCheck=d,this.isName=yt,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=Object.assign({__proto__:null},g);const Ge=this.opt.additionalNamespaces;Ge!=null&&(Ot(this,Ge),Object.assign(this.ns,Ge))}else this.nameStartCheck=t,this.nameCheck=i,this.isName=bt,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}_init(){var Re;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=Tt,this.attribList=[];const{fragmentOpt:Ve}=this;this.state=Ve?U:T,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=Ve,this.xmlDeclPossible=!Ve,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;let{defaultXMLVersion:Ge}=this.opt;if(Ge===void 0){if(this.opt.forceXMLVersion===!0)throw new Error("forceXMLVersion set but defaultXMLVersion is not set");Ge="1.0"}this.setXMLVersion(Ge),this.positionAtNewLine=0,this.doctype=!1,this._closed=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=Object.create(_),(Re=this.readyHandler)===null||Re===void 0||Re.call(this)}get position(){return this.chunkPosition+this.i}get columnIndex(){return this.position-this.positionAtNewLine}on(Re,Ve){this[gt[Re]]=Ve}off(Re){this[gt[Re]]=void 0}makeError(Re){var Ve;let Ge=(Ve=this.fileName)!==null&&Ve!==void 0?Ve:"";return this.trackPosition&&(Ge.length>0&&(Ge+=":"),Ge+=`${this.line}:${this.column}`),Ge.length>0&&(Ge+=": "),new Error(Ge+Re)}fail(Re){const Ve=this.makeError(Re),Ge=this.errorHandler;if(Ge===void 0)throw Ve;return Ge(Ve),this}write(Re){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");let Ve=!1;Re===null?(Ve=!0,Re=""):typeof Re=="object"&&(Re=Re.toString()),this.carriedFromPrevious!==void 0&&(Re=`${this.carriedFromPrevious}${Re}`,this.carriedFromPrevious=void 0);let Ge=Re.length;const vt=Re.charCodeAt(Ge-1);!Ve&&(vt===he||vt>=55296&&vt<=56319)&&(this.carriedFromPrevious=Re[Ge-1],Ge--,Re=Re.slice(0,Ge));const{stateTable:St}=this;for(this.chunk=Re,this.i=0;this.i<Ge;)St[this.state].call(this);return this.chunkPosition+=Ge,Ve?this.end():this}close(){return this.write(null)}getCode10(){const{chunk:Re,i:Ve}=this;if(this.prevI=Ve,this.i=Ve+1,Ve>=Re.length)return m;const Ge=Re.charCodeAt(Ve);if(this.column++,Ge<55296){if(Ge>=ve||Ge===X)return Ge;switch(Ge){case Y:return this.line++,this.column=0,this.positionAtNewLine=this.position,Y;case he:return Re.charCodeAt(Ve+1)===Y&&(this.i=Ve+2),this.line++,this.column=0,this.positionAtNewLine=this.position,w;default:return this.fail("disallowed character."),Ge}}if(Ge>56319)return Ge>=57344&&Ge<=65533||this.fail("disallowed character."),Ge;const vt=65536+(Ge-55296)*1024+(Re.charCodeAt(Ve+1)-56320);return this.i=Ve+2,vt>1114111&&this.fail("disallowed character."),vt}getCode11(){const{chunk:Re,i:Ve}=this;if(this.prevI=Ve,this.i=Ve+1,Ve>=Re.length)return m;const Ge=Re.charCodeAt(Ve);if(this.column++,Ge<55296){if(Ge>31&&Ge<127||Ge>159&&Ge!==at||Ge===X)return Ge;switch(Ge){case Y:return this.line++,this.column=0,this.positionAtNewLine=this.position,Y;case he:{const St=Re.charCodeAt(Ve+1);(St===Y||St===$e)&&(this.i=Ve+2)}case $e:case at:return this.line++,this.column=0,this.positionAtNewLine=this.position,w;default:return this.fail("disallowed character."),Ge}}if(Ge>56319)return Ge>=57344&&Ge<=65533||this.fail("disallowed character."),Ge;const vt=65536+(Ge-55296)*1024+(Re.charCodeAt(Ve+1)-56320);return this.i=Ve+2,vt>1114111&&this.fail("disallowed character."),vt}getCodeNorm(){const Re=this.getCode();return Re===w?Y:Re}unget(){this.i=this.prevI,this.column--}captureTo(Re){let{i:Ve}=this;const{chunk:Ge}=this;for(;;){const vt=this.getCode(),St=vt===w,Vt=St?Y:vt;if(Vt===m||Re.includes(Vt))return this.text+=Ge.slice(Ve,this.prevI),Vt;St&&(this.text+=`${Ge.slice(Ve,this.prevI)}
`,Ve=this.i)}}captureToChar(Re){let{i:Ve}=this;const{chunk:Ge}=this;for(;;){let vt=this.getCode();switch(vt){case w:this.text+=`${Ge.slice(Ve,this.prevI)}
`,Ve=this.i,vt=Y;break;case m:return this.text+=Ge.slice(Ve),!1}if(vt===Re)return this.text+=Ge.slice(Ve,this.prevI),!0}}captureNameChars(){const{chunk:Re,i:Ve}=this;for(;;){const Ge=this.getCode();if(Ge===m)return this.name+=Re.slice(Ve),m;if(!i(Ge))return this.name+=Re.slice(Ve,this.prevI),Ge===w?Y:Ge}}skipSpaces(){for(;;){const Re=this.getCodeNorm();if(Re===m||!a(Re))return Re}}setXMLVersion(Re){this.currentXMLVersion=Re,Re==="1.0"?(this.isChar=r,this.getCode=this.getCode10):(this.isChar=s,this.getCode=this.getCode11)}sBegin(){this.chunk.charCodeAt(0)===65279&&(this.i++,this.column++),this.state=E}sBeginWhitespace(){const Re=this.i,Ve=this.skipSpaces();switch(this.prevI!==Re&&(this.xmlDeclPossible=!1),Ve){case k:if(this.state=J,this.text.length!==0)throw new Error("no-empty text at start");break;case m:break;default:this.unget(),this.state=U,this.xmlDeclPossible=!1}}sDoctype(){var Re;const Ve=this.captureTo(qe);switch(Ve){case de:{(Re=this.doctypeHandler)===null||Re===void 0||Re.call(this,this.text),this.text="",this.state=U,this.doctype=!0;break}case m:break;default:this.text+=String.fromCodePoint(Ve),Ve===Qe?this.state=j:fe(Ve)&&(this.state=N,this.q=Ve)}}sDoctypeQuote(){const Re=this.q;this.captureToChar(Re)&&(this.text+=String.fromCodePoint(Re),this.q=null,this.state=S)}sDTD(){const Re=this.captureTo(it);Re!==m&&(this.text+=String.fromCodePoint(Re),Re===je?this.state=S:Re===k?this.state=O:fe(Re)&&(this.state=q,this.q=Re))}sDTDQuoted(){const Re=this.q;this.captureToChar(Re)&&(this.text+=String.fromCodePoint(Re),this.state=j,this.q=null)}sDTDOpenWaka(){const Re=this.getCodeNorm();switch(this.text+=String.fromCodePoint(Re),Re){case ye:this.state=I,this.openWakaBang="";break;case ge:this.state=B;break;default:this.state=j}}sDTDOpenWakaBang(){const Re=String.fromCodePoint(this.getCodeNorm()),Ve=this.openWakaBang+=Re;this.text+=Re,Ve!=="-"&&(this.state=Ve==="--"?A:j,this.openWakaBang="")}sDTDComment(){this.captureToChar(Pe)&&(this.text+="-",this.state=P)}sDTDCommentEnding(){const Re=this.getCodeNorm();this.text+=String.fromCodePoint(Re),this.state=Re===Pe?C:A}sDTDCommentEnded(){const Re=this.getCodeNorm();this.text+=String.fromCodePoint(Re),Re===de?this.state=j:(this.fail("malformed comment."),this.state=A)}sDTDPI(){this.captureToChar(ge)&&(this.text+="?",this.state=V)}sDTDPIEnding(){const Re=this.getCodeNorm();this.text+=String.fromCodePoint(Re),Re===de&&(this.state=j)}sText(){this.tags.length!==0?this.handleTextInRoot():this.handleTextOutsideRoot()}sEntity(){let{i:Re}=this;const{chunk:Ve}=this;e:for(;;)switch(this.getCode()){case w:this.entity+=`${Ve.slice(Re,this.prevI)}
`,Re=this.i;break;case R:{const{entityReturnState:Ge}=this,vt=this.entity+Ve.slice(Re,this.prevI);this.state=Ge;let St;vt===""?(this.fail("empty entity name."),St="&;"):(St=this.parseEntity(vt),this.entity=""),(Ge!==U||this.textHandler!==void 0)&&(this.text+=St);break e}case m:this.entity+=Ve.slice(Re);break e}}sOpenWaka(){const Re=this.getCode();if(t(Re))this.state=$,this.unget(),this.xmlDeclPossible=!1;else switch(Re){case Fe:this.state=Ye,this.xmlDeclPossible=!1;break;case ye:this.state=ne,this.openWakaBang="",this.xmlDeclPossible=!1;break;case ge:this.state=Ae;break;default:this.fail("disallowed character in tag name"),this.state=U,this.xmlDeclPossible=!1}}sOpenWakaBang(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":!this.sawRoot&&!this.reportedTextBeforeRoot&&(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=pe,this.openWakaBang="";break;case"--":this.state=W,this.openWakaBang="";break;case"DOCTYPE":this.state=S,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}}sComment(){this.captureToChar(Pe)&&(this.state=ee)}sCommentEnding(){var Re;const Ve=this.getCodeNorm();Ve===Pe?(this.state=se,(Re=this.commentHandler)===null||Re===void 0||Re.call(this,this.text),this.text=""):(this.text+=`-${String.fromCodePoint(Ve)}`,this.state=W)}sCommentEnded(){const Re=this.getCodeNorm();Re!==de?(this.fail("malformed comment."),this.text+=`--${String.fromCodePoint(Re)}`,this.state=W):this.state=U}sCData(){this.captureToChar(je)&&(this.state=le)}sCDataEnding(){const Re=this.getCodeNorm();Re===je?this.state=Ee:(this.text+=`]${String.fromCodePoint(Re)}`,this.state=pe)}sCDataEnding2(){var Re;const Ve=this.getCodeNorm();switch(Ve){case de:{(Re=this.cdataHandler)===null||Re===void 0||Re.call(this,this.text),this.text="",this.state=U;break}case je:this.text+="]";break;default:this.text+=`]]${String.fromCodePoint(Ve)}`,this.state=pe}}sPIFirstChar(){const Re=this.getCodeNorm();this.nameStartCheck(Re)?(this.piTarget+=String.fromCodePoint(Re),this.state=Ne):Re===ge||a(Re)?(this.fail("processing instruction without a target."),this.state=Re===ge?be:Oe):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(Re),this.state=Ne)}sPIRest(){const{chunk:Re,i:Ve}=this;for(;;){const Ge=this.getCodeNorm();if(Ge===m){this.piTarget+=Re.slice(Ve);return}if(!this.nameCheck(Ge)){this.piTarget+=Re.slice(Ve,this.prevI);const vt=Ge===ge;vt||a(Ge)?this.piTarget==="xml"?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=vt?Z:te):this.state=vt?be:Oe:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(Ge));break}}}sPIBody(){if(this.text.length===0){const Re=this.getCodeNorm();Re===ge?this.state=be:a(Re)||(this.text=String.fromCodePoint(Re))}else this.captureToChar(ge)&&(this.state=be)}sPIEnding(){var Re;const Ve=this.getCodeNorm();if(Ve===de){const{piTarget:Ge}=this;Ge.toLowerCase()==="xml"&&this.fail("the XML declaration must appear at the start of the document."),(Re=this.piHandler)===null||Re===void 0||Re.call(this,{target:Ge,body:this.text}),this.piTarget=this.text="",this.state=U}else Ve===ge?this.text+="?":(this.text+=`?${String.fromCodePoint(Ve)}`,this.state=Oe);this.xmlDeclPossible=!1}sXMLDeclNameStart(){const Re=this.skipSpaces();if(Re===ge){this.state=Z;return}Re!==m&&(this.state=v,this.name=String.fromCodePoint(Re))}sXMLDeclName(){const Re=this.captureTo(Me);if(Re===ge){this.state=Z,this.name+=this.text,this.text="",this.fail("XML declaration is incomplete.");return}if(a(Re)||Re===K){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail(`expected the name ${this.xmlDeclExpects[0]}.`);break;default:this.fail(`expected one of ${this.xmlDeclExpects.join(", ")}`)}this.state=Re===K?D:F}}sXMLDeclEq(){const Re=this.getCodeNorm();if(Re===ge){this.state=Z,this.fail("XML declaration is incomplete.");return}a(Re)||(Re!==K&&this.fail("value required."),this.state=D)}sXMLDeclValueStart(){const Re=this.getCodeNorm();if(Re===ge){this.state=Z,this.fail("XML declaration is incomplete.");return}a(Re)||(fe(Re)?this.q=Re:(this.fail("value must be quoted."),this.q=ve),this.state=L)}sXMLDeclValue(){const Re=this.captureTo([this.q,ge]);if(Re===ge){this.state=Z,this.text="",this.fail("XML declaration is incomplete.");return}if(Re===m)return;const Ve=this.text;switch(this.text="",this.name){case"version":{this.xmlDeclExpects=["encoding","standalone"];const Ge=Ve;this.xmlDecl.version=Ge,/^1\.[0-9]+$/.test(Ge)?this.opt.forceXMLVersion||this.setXMLVersion(Ge):this.fail("version number must match /^1\\.[0-9]+$/.");break}case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(Ve)||this.fail("encoding value must match 	/^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=Ve;break;case"standalone":Ve!=="yes"&&Ve!=="no"&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=Ve;break}this.name="",this.state=H}sXMLDeclSeparator(){const Re=this.getCodeNorm();if(Re===ge){this.state=Z;return}a(Re)||(this.fail("whitespace required."),this.unget()),this.state=te}sXMLDeclEnding(){var Re;this.getCodeNorm()===de?(this.piTarget!=="xml"?this.fail("processing instructions are not allowed before root."):this.name!=="version"&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),(Re=this.xmldeclHandler)===null||Re===void 0||Re.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=U):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1}sOpenTag(){var Re;const Ve=this.captureNameChars();if(Ve===m)return;const Ge=this.tag={name:this.name,attributes:Object.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=Ge.ns=Object.create(null)),(Re=this.openTagStartHandler)===null||Re===void 0||Re.call(this,Ge),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),Ve){case de:this.openTag();break;case Fe:this.state=ue;break;default:a(Ve)||this.fail("disallowed character in tag name."),this.state=ae}}sOpenTagSlash(){this.getCode()===de?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=ae)}sAttrib(){const Re=this.skipSpaces();Re!==m&&(t(Re)?(this.unget(),this.state=ce):Re===de?this.openTag():Re===Fe?this.state=ue:this.fail("disallowed character in attribute name."))}sAttribName(){const Re=this.captureNameChars();Re===K?this.state=xe:a(Re)?this.state=Se:Re===de?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):Re!==m&&this.fail("disallowed character in attribute name.")}sAttribNameSawWhite(){const Re=this.skipSpaces();switch(Re){case m:return;case K:this.state=xe;break;default:this.fail("attribute without value."),this.text="",this.name="",Re===de?this.openTag():t(Re)?(this.unget(),this.state=ce):(this.fail("disallowed character in attribute name."),this.state=ae)}}sAttribValue(){const Re=this.getCodeNorm();fe(Re)?(this.q=Re,this.state=Ce):a(Re)||(this.fail("unquoted attribute value."),this.state=Je,this.unget())}sAttribValueQuoted(){const{q:Re,chunk:Ve}=this;let{i:Ge}=this;for(;;)switch(this.getCode()){case Re:this.pushAttrib(this.name,this.text+Ve.slice(Ge,this.prevI)),this.name=this.text="",this.q=null,this.state=He;return;case Ie:this.text+=Ve.slice(Ge,this.prevI),this.state=G,this.entityReturnState=Ce;return;case Y:case w:case X:this.text+=`${Ve.slice(Ge,this.prevI)} `,Ge=this.i;break;case k:this.text+=Ve.slice(Ge,this.prevI),this.fail("disallowed character.");return;case m:this.text+=Ve.slice(Ge);return}}sAttribValueClosed(){const Re=this.getCodeNorm();a(Re)?this.state=ae:Re===de?this.openTag():Re===Fe?this.state=ue:t(Re)?(this.fail("no whitespace between attributes."),this.unget(),this.state=ce):this.fail("disallowed character in attribute name.")}sAttribValueUnquoted(){const Re=this.captureTo(st);switch(Re){case Ie:this.state=G,this.entityReturnState=Je;break;case k:this.fail("disallowed character.");break;case m:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",Re===de?this.openTag():this.state=ae}}sCloseTag(){const Re=this.captureNameChars();Re===de?this.closeTag():a(Re)?this.state=oe:Re!==m&&this.fail("disallowed character in closing tag.")}sCloseTagSawWhite(){switch(this.skipSpaces()){case de:this.closeTag();break;case m:break;default:this.fail("disallowed character in closing tag.")}}handleTextInRoot(){let{i:Re,forbiddenState:Ve}=this;const{chunk:Ge,textHandler:vt}=this;e:for(;;)switch(this.getCode()){case k:{if(this.state=J,vt!==void 0){const{text:St}=this,Vt=Ge.slice(Re,this.prevI);St.length!==0?(vt(St+Vt),this.text=""):Vt.length!==0&&vt(Vt)}Ve=Tt;break e}case Ie:this.state=G,this.entityReturnState=U,vt!==void 0&&(this.text+=Ge.slice(Re,this.prevI)),Ve=Tt;break e;case je:switch(Ve){case Tt:Ve=xt;break;case xt:Ve=wt;break;case wt:break;default:throw new Error("impossible state")}break;case de:Ve===wt&&this.fail('the string "]]>" is disallowed in char data.'),Ve=Tt;break;case w:vt!==void 0&&(this.text+=`${Ge.slice(Re,this.prevI)}
`),Re=this.i,Ve=Tt;break;case m:vt!==void 0&&(this.text+=Ge.slice(Re));break e;default:Ve=Tt}this.forbiddenState=Ve}handleTextOutsideRoot(){let{i:Re}=this;const{chunk:Ve,textHandler:Ge}=this;let vt=!1;e:for(;;){const St=this.getCode();switch(St){case k:{if(this.state=J,Ge!==void 0){const{text:Vt}=this,wr=Ve.slice(Re,this.prevI);Vt.length!==0?(Ge(Vt+wr),this.text=""):wr.length!==0&&Ge(wr)}break e}case Ie:this.state=G,this.entityReturnState=U,Ge!==void 0&&(this.text+=Ve.slice(Re,this.prevI)),vt=!0;break e;case w:Ge!==void 0&&(this.text+=`${Ve.slice(Re,this.prevI)}
`),Re=this.i;break;case m:Ge!==void 0&&(this.text+=Ve.slice(Re));break e;default:a(St)||(vt=!0)}}vt&&(!this.sawRoot&&!this.reportedTextBeforeRoot&&(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))}pushAttribNS(Re,Ve){var Ge;const{prefix:vt,local:St}=this.qname(Re),Vt={name:Re,prefix:vt,local:St,value:Ve};if(this.attribList.push(Vt),(Ge=this.attributeHandler)===null||Ge===void 0||Ge.call(this,Vt),vt==="xmlns"){const wr=Ve.trim();this.currentXMLVersion==="1.0"&&wr===""&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[St]=wr,tt(this,St,wr)}else if(Re==="xmlns"){const wr=Ve.trim();this.topNS[""]=wr,tt(this,"",wr)}}pushAttribPlain(Re,Ve){var Ge;const vt={name:Re,value:Ve};this.attribList.push(vt),(Ge=this.attributeHandler)===null||Ge===void 0||Ge.call(this,vt)}end(){var Re,Ve;this.sawRoot||this.fail("document must contain a root element.");const{tags:Ge}=this;for(;Ge.length>0;){const St=Ge.pop();this.fail(`unclosed tag: ${St.name}`)}this.state!==T&&this.state!==U&&this.fail("unexpected end.");const{text:vt}=this;return vt.length!==0&&((Re=this.textHandler)===null||Re===void 0||Re.call(this,vt),this.text=""),this._closed=!0,(Ve=this.endHandler)===null||Ve===void 0||Ve.call(this),this._init(),this}resolve(Re){var Ve,Ge;let vt=this.topNS[Re];if(vt!==void 0)return vt;const{tags:St}=this;for(let Vt=St.length-1;Vt>=0;Vt--)if(vt=St[Vt].ns[Re],vt!==void 0)return vt;return vt=this.ns[Re],vt!==void 0?vt:(Ge=(Ve=this.opt).resolvePrefix)===null||Ge===void 0?void 0:Ge.call(Ve,Re)}qname(Re){const Ve=Re.indexOf(":");if(Ve===-1)return{prefix:"",local:Re};const Ge=Re.slice(Ve+1),vt=Re.slice(0,Ve);return(vt===""||Ge===""||Ge.includes(":"))&&this.fail(`malformed name: ${Re}.`),{prefix:vt,local:Ge}}processAttribsNS(){var Re;const{attribList:Ve}=this,Ge=this.tag;{const{prefix:Vt,local:wr}=this.qname(Ge.name);Ge.prefix=Vt,Ge.local=wr;const hr=Ge.uri=(Re=this.resolve(Vt))!==null&&Re!==void 0?Re:"";Vt!==""&&(Vt==="xmlns"&&this.fail('tags may not have "xmlns" as prefix.'),hr===""&&(this.fail(`unbound namespace prefix: ${JSON.stringify(Vt)}.`),Ge.uri=Vt))}if(Ve.length===0)return;const{attributes:vt}=Ge,St=new Set;for(const Vt of Ve){const{name:wr,prefix:hr,local:aa}=Vt;let yr,Ir;hr===""?(yr=wr==="xmlns"?h:"",Ir=wr):(yr=this.resolve(hr),yr===void 0&&(this.fail(`unbound namespace prefix: ${JSON.stringify(hr)}.`),yr=hr),Ir=`{${yr}}${aa}`),St.has(Ir)&&this.fail(`duplicate attribute: ${Ir}.`),St.add(Ir),Vt.uri=yr,vt[wr]=Vt}this.attribList=[]}processAttribsPlain(){const{attribList:Re}=this,Ve=this.tag.attributes;for(const{name:Ge,value:vt}of Re)Ve[Ge]!==void 0&&this.fail(`duplicate attribute: ${Ge}.`),Ve[Ge]=vt;this.attribList=[]}openTag(){var Re;this.processAttribs();const{tags:Ve}=this,Ge=this.tag;Ge.isSelfClosing=!1,(Re=this.openTagHandler)===null||Re===void 0||Re.call(this,Ge),Ve.push(Ge),this.state=U,this.name=""}openSelfClosingTag(){var Re,Ve,Ge;this.processAttribs();const{tags:vt}=this,St=this.tag;St.isSelfClosing=!0,(Re=this.openTagHandler)===null||Re===void 0||Re.call(this,St),(Ve=this.closeTagHandler)===null||Ve===void 0||Ve.call(this,St),(this.tag=(Ge=vt[vt.length-1])!==null&&Ge!==void 0?Ge:null)===null&&(this.closedRoot=!0),this.state=U,this.name=""}closeTag(){const{tags:Re,name:Ve}=this;if(this.state=U,this.name="",Ve===""){this.fail("weird empty close tag."),this.text+="</>";return}const Ge=this.closeTagHandler;let vt=Re.length;for(;vt-- >0;){const St=this.tag=Re.pop();if(this.topNS=St.ns,Ge?.(St),St.name===Ve)break;this.fail("unexpected close tag.")}vt===0?this.closedRoot=!0:vt<0&&(this.fail(`unmatched closing tag: ${Ve}.`),this.text+=`</${Ve}>`)}parseEntity(Re){if(Re[0]!=="#"){const Ge=this.ENTITIES[Re];return Ge!==void 0?Ge:(this.fail(this.isName(Re)?"undefined entity.":"disallowed character in entity name."),`&${Re};`)}let Ve=NaN;return Re[1]==="x"&&/^#x[0-9a-f]+$/i.test(Re)?Ve=parseInt(Re.slice(2),16):/^#[0-9]+$/.test(Re)&&(Ve=parseInt(Re.slice(1),10)),this.isChar(Ve)?String.fromCodePoint(Ve):(this.fail("malformed character entity."),`&${Re};`)}}return ip.SaxesParser=dr,ip}var QT={},Wte;function tFe(){if(Wte)return QT;Wte=1,Object.defineProperty(QT,"__esModule",{value:!0}),QT.ParseError=void 0;let n=class extends Error{constructor(u,a){const r=u.saxParser;super(u.trackPosition?`Line ${r.line} column ${r.column+1}: ${a}`:a)}};return QT.ParseError=n,QT}var up={},XM={},Yte;function rFe(){return Yte||(Yte=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.validateIri=n.IriValidationStrategy=void 0;function e(){const o="[!$&'()*+,;=]",l="%[a-fA-F0-9]{2}",s="([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])",c=`${s}\\.${s}\\.${s}\\.${s}`,d="[a-fA-F0-9]{1,4}",f=`(${d}:${d}|${c})`,p=`((${d}:){6}${f}|::(${d}:){5}${f}|(${d})?::(${d}:){4}${f}|((${d}:){0,1}${d})?::(${d}:){3}${f}|((${d}:){0,2}${d})?::(${d}:){2}${f}|((${d}:){0,3}${d})?::${d}:${f}|((${d}:){0,4}${d})?::${f}|((${d}:){0,5}${d})?::${d}|((${d}:){0,6}${d})?::)`,h=`v[a-fA-F0-9]+\\.(${o}|${o}|":)+`,g=`\\[(${p}|${h})\\]`,_="[0-9]*",m="[a-zA-Z][a-zA-Z0-9+\\-.]*",T="[---]",N="[a-zA-Z0-9\\-._~-----------------]",j=`(${N}|${l}|${o}|[:@])*`,q=`(${j}|[\\/?])*`,O=`(${j}|${T}|[\\/?])*`,I=`(${j})+`,A=`(${j})*`,P="",C=`${I}(\\/${A})*`,B=`\\/(${I}(\\/${A})*)?`,V=`(\\/${A})*`,U=`(${N}|${l}|${o})*`,G=`(${g}|${c}|${U})`,W=`(\\/\\/${`(${`(${N}|${l}|${o}|:)*`}@)?${G}(:${_})?`}${V}|${B}|${C}|${P})`,ee=`^${m}:${W}(\\?${O})?(#${q})?$`;return new RegExp(ee,"u")}const u=e(),a=/^[A-Za-z][\d+-.A-Za-z]*:[^\u0000-\u0020"<>\\^`{|}]*$/u;var r;(function(i){i.Strict="strict",i.Pragmatic="pragmatic",i.None="none"})(r=n.IriValidationStrategy||(n.IriValidationStrategy={}));function t(i,o=r.Strict){switch(o){case r.Strict:return u.test(i)?void 0:new Error(`Invalid IRI according to RFC 3987: '${i}'`);case r.Pragmatic:return a.test(i)?void 0:new Error(`Invalid IRI according to RDF Turtle: '${i}'`);case r.None:return;default:return new Error(`Not supported validation strategy "${o}"`)}}n.validateIri=t})(XM)),XM}var Zte;function nFe(){return Zte||(Zte=1,(function(n){var e=up&&up.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=up&&up.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(rFe(),n)})(up)),up}var ere;function aFe(){if(ere)return ap;ere=1,Object.defineProperty(ap,"__esModule",{value:!0}),ap.ParseType=ap.RdfXmlParser=void 0;const n=Xn(),e=lTe(),u=Nr(),a=tFe(),r=Rr(),t=nFe();let i=class Tn extends u.Transform{constructor(s){super({readableObjectMode:!0}),this.activeTagStack=[],this.nodeIds={},s&&(Object.assign(this,s),this.options=s),this.dataFactory||(this.dataFactory=new r.DataFactory),this.baseIRI||(this.baseIRI=""),this.defaultGraph||(this.defaultGraph=this.dataFactory.defaultGraph()),this.validateUri!==!1&&(this.validateUri=!0),this.iriValidationStrategy||(this.iriValidationStrategy=this.validateUri?t.IriValidationStrategy.Pragmatic:t.IriValidationStrategy.None),this.saxParser=new e.SaxesParser({xmlns:!0,position:this.trackPosition}),this.attachSaxListeners()}import(s){const c=new u.PassThrough({readableObjectMode:!0});s.on("error",f=>d.emit("error",f)),s.on("data",f=>c.push(f)),s.on("end",()=>c.push(null));const d=c.pipe(new Tn(this.options));return d}_transform(s,c,d){try{this.saxParser.write(s)}catch(f){return d(f)}d()}newParseError(s){return new a.ParseError(this,s)}valueToUri(s,c){return this.uriToNamedNode((0,n.resolve)(s,c.baseIRI))}uriToNamedNode(s){const c=(0,t.validateIri)(s,this.iriValidationStrategy);if(c instanceof Error)throw this.newParseError(c.message);return this.dataFactory.namedNode(s)}validateNcname(s){if(!Tn.NCNAME_MATCHER.test(s))throw this.newParseError(`Not a valid NCName: ${s}`)}attachSaxListeners(){this.saxParser.on("error",s=>this.emit("error",s)),this.saxParser.on("opentag",this.onTag.bind(this)),this.saxParser.on("text",this.onText.bind(this)),this.saxParser.on("cdata",this.onText.bind(this)),this.saxParser.on("closetag",this.onCloseTag.bind(this)),this.saxParser.on("doctype",this.onDoctype.bind(this))}onTag(s){const c=this.activeTagStack.length?this.activeTagStack[this.activeTagStack.length-1]:null;let d=o.RESOURCE;if(c&&(c.hadChildren=!0,d=c.childrenParseType),c&&c.childrenStringTags){const p=s.name;let h="";for(const w in s.attributes)h+=` ${w}="${s.attributes[w].value}"`;const _=`<${`${p}${h}`}>`;c.childrenStringTags.push(_);const m={childrenStringTags:c.childrenStringTags};m.childrenStringEmitClosingTag=`</${p}>`,this.activeTagStack.push(m);return}const f={};c?(f.language=c.language,f.baseIRI=c.baseIRI):f.baseIRI=this.baseIRI,this.activeTagStack.push(f),d===o.RESOURCE?this.onTagResource(s,f,c,!c):this.onTagProperty(s,f,c)}onTagResource(s,c,d,f){c.childrenParseType=o.PROPERTY;let p=!0;if(s.uri===Tn.RDF){if(!f&&Tn.FORBIDDEN_NODE_ELEMENTS.indexOf(s.local)>=0)throw this.newParseError(`Illegal node element name: ${s.local}`);switch(s.local){case"RDF":c.childrenParseType=o.RESOURCE;case"Description":p=!1}}const h=[],g=[];let _=null,m=!1,w=!1,T=null;for(const E in s.attributes){const S=s.attributes[E];if(d&&S.uri===Tn.RDF)switch(S.local){case"about":if(_)throw this.newParseError(`Only one of rdf:about, rdf:nodeID and rdf:ID can be present, while ${S.value} and ${_} where found.`);_=S.value;continue;case"ID":if(_)throw this.newParseError(`Only one of rdf:about, rdf:nodeID and rdf:ID can be present, while ${S.value} and ${_} where found.`);this.validateNcname(S.value),_="#"+S.value,m=!0;continue;case"nodeID":if(_)throw this.newParseError(`Only one of rdf:about, rdf:nodeID and rdf:ID can be present, while ${S.value} and ${_} where found.`);this.validateNcname(S.value),_=S.value,w=!0;continue;case"bagID":throw this.newParseError("rdf:bagID is not supported.");case"type":T=S.value;continue;case"aboutEach":throw this.newParseError("rdf:aboutEach is not supported.");case"aboutEachPrefix":throw this.newParseError("rdf:aboutEachPrefix is not supported.");case"li":throw this.newParseError("rdf:li on node elements are not supported.")}else if(S.uri===Tn.XML){if(S.local==="lang"){c.language=S.value===""?null:S.value.toLowerCase();continue}else if(S.local==="base"){c.baseIRI=(0,n.resolve)(S.value,c.baseIRI);continue}}S.prefix!=="xml"&&S.prefix!=="xmlns"&&(S.prefix!==""||S.local!=="xmlns")&&S.uri&&(h.push(this.uriToNamedNode(S.uri+S.local)),g.push(S.value))}if(_!==null&&(c.subject=w?this.dataFactory.blankNode(_):this.valueToUri(_,c),m&&this.claimNodeId(c.subject)),c.subject||(c.subject=this.dataFactory.blankNode()),p){const E=this.uriToNamedNode(s.uri+s.local);this.emitTriple(c.subject,this.dataFactory.namedNode(Tn.RDF+"type"),E,d?d.reifiedStatementId:null)}if(d){if(d.predicate)if(d.childrenCollectionSubject){const E=this.dataFactory.blankNode();this.emitTriple(d.childrenCollectionSubject,d.childrenCollectionPredicate,E,d.reifiedStatementId),this.emitTriple(E,this.dataFactory.namedNode(Tn.RDF+"first"),c.subject,c.reifiedStatementId),d.childrenCollectionSubject=E,d.childrenCollectionPredicate=this.dataFactory.namedNode(Tn.RDF+"rest")}else{this.emitTriple(d.subject,d.predicate,c.subject,d.reifiedStatementId);for(let E=0;E<d.predicateSubPredicates.length;E++)this.emitTriple(c.subject,d.predicateSubPredicates[E],d.predicateSubObjects[E],null);d.predicateSubPredicates=[],d.predicateSubObjects=[],d.predicateEmitted=!0}for(let E=0;E<h.length;E++){const S=this.dataFactory.literal(g[E],c.datatype||c.language);this.emitTriple(c.subject,h[E],S,d.reifiedStatementId)}T&&this.emitTriple(c.subject,this.dataFactory.namedNode(Tn.RDF+"type"),this.uriToNamedNode(T),null)}}onTagProperty(s,c,d){if(c.childrenParseType=o.RESOURCE,c.subject=d.subject,s.uri===Tn.RDF&&s.local==="li"?(d.listItemCounter||(d.listItemCounter=1),c.predicate=this.uriToNamedNode(s.uri+"_"+d.listItemCounter++)):c.predicate=this.uriToNamedNode(s.uri+s.local),s.uri===Tn.RDF&&Tn.FORBIDDEN_PROPERTY_ELEMENTS.indexOf(s.local)>=0)throw this.newParseError(`Illegal property element name: ${s.local}`);c.predicateSubPredicates=[],c.predicateSubObjects=[];let f=!1,p=!1,h=null,g=!0;const _=[],m=[];for(const w in s.attributes){const T=s.attributes[w];if(T.uri===Tn.RDF)switch(T.local){case"resource":if(h)throw this.newParseError(`Found both rdf:resource (${T.value}) and rdf:nodeID (${h}).`);if(f)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:resource (${T.value})`);c.hadChildren=!0,h=T.value,g=!1;continue;case"datatype":if(p)throw this.newParseError(`Found both non-rdf:* property attributes and rdf:datatype (${T.value}).`);if(f)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:datatype (${T.value})`);c.datatype=this.valueToUri(T.value,c);continue;case"nodeID":if(p)throw this.newParseError(`Found both non-rdf:* property attributes and rdf:nodeID (${T.value}).`);if(c.hadChildren)throw this.newParseError(`Found both rdf:resource and rdf:nodeID (${T.value}).`);if(f)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:nodeID (${T.value})`);this.validateNcname(T.value),c.hadChildren=!0,h=T.value,g=!0;continue;case"bagID":throw this.newParseError("rdf:bagID is not supported.");case"parseType":if(p)throw this.newParseError("rdf:parseType is not allowed when non-rdf:* property attributes are present");if(c.datatype)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:datatype (${c.datatype.value})`);if(h)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:nodeID or rdf:resource (${h})`);if(T.value==="Resource"){f=!0,c.childrenParseType=o.PROPERTY;const E=this.dataFactory.blankNode();this.emitTriple(c.subject,c.predicate,E,c.reifiedStatementId),c.subject=E,c.predicate=null}else T.value==="Collection"?(f=!0,c.hadChildren=!0,c.childrenCollectionSubject=c.subject,c.childrenCollectionPredicate=c.predicate,g=!1):T.value==="Literal"&&(f=!0,c.childrenTagsToString=!0,c.childrenStringTags=[]);continue;case"ID":this.validateNcname(T.value),c.reifiedStatementId=this.valueToUri("#"+T.value,c),this.claimNodeId(c.reifiedStatementId);continue}else if(T.uri===Tn.XML&&T.local==="lang"){c.language=T.value===""?null:T.value.toLowerCase();continue}if(T.prefix!=="xml"&&T.prefix!=="xmlns"&&(T.prefix!==""||T.local!=="xmlns")&&T.uri){if(f||c.datatype)throw this.newParseError(`Found illegal rdf:* properties on property element with attribute: ${T.value}`);c.hadChildren=!0,p=!0,_.push(this.uriToNamedNode(T.uri+T.local)),m.push(this.dataFactory.literal(T.value,c.datatype||c.language))}}if(h!==null){const w=c.subject;c.subject=g?this.dataFactory.blankNode(h):this.valueToUri(h,c),this.emitTriple(w,c.predicate,c.subject,c.reifiedStatementId);for(let T=0;T<_.length;T++)this.emitTriple(c.subject,_[T],m[T],null);c.predicateEmitted=!0}else g&&(c.predicateSubPredicates=_,c.predicateSubObjects=m,c.predicateEmitted=!1)}emitTriple(s,c,d,f){this.push(this.dataFactory.quad(s,c,d,this.defaultGraph)),f&&(this.push(this.dataFactory.quad(f,this.dataFactory.namedNode(Tn.RDF+"type"),this.dataFactory.namedNode(Tn.RDF+"Statement"),this.defaultGraph)),this.push(this.dataFactory.quad(f,this.dataFactory.namedNode(Tn.RDF+"subject"),s,this.defaultGraph)),this.push(this.dataFactory.quad(f,this.dataFactory.namedNode(Tn.RDF+"predicate"),c,this.defaultGraph)),this.push(this.dataFactory.quad(f,this.dataFactory.namedNode(Tn.RDF+"object"),d,this.defaultGraph)))}claimNodeId(s){if(!this.allowDuplicateRdfIds){if(this.nodeIds[s.value])throw this.newParseError(`Found multiple occurrences of rdf:ID='${s.value}'.`);this.nodeIds[s.value]=!0}}onText(s){const c=this.activeTagStack.length?this.activeTagStack[this.activeTagStack.length-1]:null;c&&(c.childrenStringTags?c.childrenStringTags.push(s):c.predicate&&(c.text=s))}onCloseTag(){const s=this.activeTagStack.pop();if(s.childrenStringEmitClosingTag&&s.childrenStringTags.push(s.childrenStringEmitClosingTag),s.childrenTagsToString&&(s.datatype=this.dataFactory.namedNode(Tn.RDF+"XMLLiteral"),s.text=s.childrenStringTags.join(""),s.hadChildren=!1),s.childrenCollectionSubject)this.emitTriple(s.childrenCollectionSubject,s.childrenCollectionPredicate,this.dataFactory.namedNode(Tn.RDF+"nil"),s.reifiedStatementId);else if(s.predicate){if(!s.hadChildren&&s.childrenParseType!==o.PROPERTY)this.emitTriple(s.subject,s.predicate,this.dataFactory.literal(s.text||"",s.datatype||s.language),s.reifiedStatementId);else if(!s.predicateEmitted){const c=this.dataFactory.blankNode();this.emitTriple(s.subject,s.predicate,c,s.reifiedStatementId);for(let d=0;d<s.predicateSubPredicates.length;d++)this.emitTriple(c,s.predicateSubPredicates[d],s.predicateSubObjects[d],null)}}}onDoctype(s){s.replace(/<!ENTITY\s+([^\s]+)\s+["']([^"']+)["']\s*>/g,(c,d,f)=>(this.saxParser.ENTITIES[d]=f,""))}};ap.RdfXmlParser=i,i.MIME_TYPE="application/rdf+xml",i.RDF="http://www.w3.org/1999/02/22-rdf-syntax-ns#",i.XML="http://www.w3.org/XML/1998/namespace",i.FORBIDDEN_NODE_ELEMENTS=["RDF","ID","about","bagID","parseType","resource","nodeID","li","aboutEach","aboutEachPrefix"],i.FORBIDDEN_PROPERTY_ELEMENTS=["Description","RDF","ID","about","bagID","parseType","resource","nodeID","aboutEach","aboutEachPrefix"],i.NCNAME_MATCHER=/^([A-Za-z\xC0-\xD6\xD8-\xF6\u{F8}-\u{2FF}\u{370}-\u{37D}\u{37F}-\u{1FFF}\u{200C}-\u{200D}\u{2070}-\u{218F}\u{2C00}-\u{2FEF}\u{3001}-\u{D7FF}\u{F900}-\u{FDCF}\u{FDF0}-\u{FFFD}\u{10000}-\u{EFFFF}_])([A-Za-z\xC0-\xD6\xD8-\xF6\u{F8}-\u{2FF}\u{370}-\u{37D}\u{37F}-\u{1FFF}\u{200C}-\u{200D}\u{2070}-\u{218F}\u{2C00}-\u{2FEF}\u{3001}-\u{D7FF}\u{F900}-\u{FDCF}\u{FDF0}-\u{FFFD}\u{10000}-\u{EFFFF}_\-.0-9#xB7\u{0300}-\u{036F}\u{203F}-\u{2040}])*$/u;var o;return(function(l){l[l.RESOURCE=0]="RESOURCE",l[l.PROPERTY=1]="PROPERTY"})(o||(ap.ParseType=o={})),ap}var tre;function iFe(){return tre||(tre=1,(function(n){var e=np&&np.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=np&&np.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(aFe(),n)})(np)),np}var rre;function uFe(){if(rre)return UT;rre=1,Object.defineProperty(UT,"__esModule",{value:!0}),UT.ActorRdfParseRdfXml=void 0;const n=O1(),e=lt(),u=iFe();let a=class extends n.ActorRdfParseFixedMediaTypes{constructor(t){super(t)}async runHandle(t){const i=t.context.getSafe(e.KeysInitQuery.dataFactory);t.data.on("error",l=>o.emit("error",l));const o=t.data.pipe(new u.RdfXmlParser({dataFactory:i,baseIRI:t.metadata?.baseIRI}));return{data:o,metadata:{triples:!0}}}};return UT.ActorRdfParseRdfXml=a,UT}var nre;function XB(){return nre||(nre=1,(function(n){var e=rp&&rp.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=rp&&rp.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(uFe(),n)})(rp)),rp}var op={},VT={},sp={},KM={},are;function oFe(){return are||(are=1,Object.defineProperty(KM,"__esModule",{value:!0})),KM}var JM={},ire;function sFe(){return ire||(ire=1,Object.defineProperty(JM,"__esModule",{value:!0})),JM}var WM={},ure;function cFe(){return ure||(ure=1,Object.defineProperty(WM,"__esModule",{value:!0})),WM}var HT={},zu={},Gu={},YM={},$u={},rD={},ore;function lFe(){return ore||(ore=1,Object.defineProperty(rD,"__esModule",{value:!0}),rD.default=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(function(n){return n.charCodeAt(0)}))),rD}var nD={},sre;function dFe(){return sre||(sre=1,Object.defineProperty(nD,"__esModule",{value:!0}),nD.default=new Uint16Array("aglq	\x1B\0\0p;os;t;t;uot;".split("").map(function(n){return n.charCodeAt(0)}))),nD}var ZM={},cre;function lre(){return cre||(cre=1,(function(n){var e;Object.defineProperty(n,"__esModule",{value:!0}),n.replaceCodePoint=n.fromCodePoint=void 0;var u=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);n.fromCodePoint=(e=String.fromCodePoint)!==null&&e!==void 0?e:function(t){var i="";return t>65535&&(t-=65536,i+=String.fromCharCode(t>>>10&1023|55296),t=56320|t&1023),i+=String.fromCharCode(t),i};function a(t){var i;return t>=55296&&t<=57343||t>1114111?65533:(i=u.get(t))!==null&&i!==void 0?i:t}n.replaceCodePoint=a;function r(t){return(0,n.fromCodePoint)(a(t))}n.default=r})(ZM)),ZM}var dre;function dTe(){return dre||(dre=1,(function(n){var e=$u&&$u.__createBinding||(Object.create?(function(A,P,C,B){B===void 0&&(B=C);var V=Object.getOwnPropertyDescriptor(P,C);(!V||("get"in V?!P.__esModule:V.writable||V.configurable))&&(V={enumerable:!0,get:function(){return P[C]}}),Object.defineProperty(A,B,V)}):(function(A,P,C,B){B===void 0&&(B=C),A[B]=P[C]})),u=$u&&$u.__setModuleDefault||(Object.create?(function(A,P){Object.defineProperty(A,"default",{enumerable:!0,value:P})}):function(A,P){A.default=P}),a=$u&&$u.__importStar||function(A){if(A&&A.__esModule)return A;var P={};if(A!=null)for(var C in A)C!=="default"&&Object.prototype.hasOwnProperty.call(A,C)&&e(P,A,C);return u(P,A),P},r=$u&&$u.__importDefault||function(A){return A&&A.__esModule?A:{default:A}};Object.defineProperty(n,"__esModule",{value:!0}),n.decodeXML=n.decodeHTMLStrict=n.decodeHTMLAttribute=n.decodeHTML=n.determineBranch=n.EntityDecoder=n.DecodingMode=n.BinTrieFlags=n.fromCodePoint=n.replaceCodePoint=n.decodeCodePoint=n.xmlDecodeTree=n.htmlDecodeTree=void 0;var t=r(lFe());n.htmlDecodeTree=t.default;var i=r(dFe());n.xmlDecodeTree=i.default;var o=a(lre());n.decodeCodePoint=o.default;var l=lre();Object.defineProperty(n,"replaceCodePoint",{enumerable:!0,get:function(){return l.replaceCodePoint}}),Object.defineProperty(n,"fromCodePoint",{enumerable:!0,get:function(){return l.fromCodePoint}});var s;(function(A){A[A.NUM=35]="NUM",A[A.SEMI=59]="SEMI",A[A.EQUALS=61]="EQUALS",A[A.ZERO=48]="ZERO",A[A.NINE=57]="NINE",A[A.LOWER_A=97]="LOWER_A",A[A.LOWER_F=102]="LOWER_F",A[A.LOWER_X=120]="LOWER_X",A[A.LOWER_Z=122]="LOWER_Z",A[A.UPPER_A=65]="UPPER_A",A[A.UPPER_F=70]="UPPER_F",A[A.UPPER_Z=90]="UPPER_Z"})(s||(s={}));var c=32,d;(function(A){A[A.VALUE_LENGTH=49152]="VALUE_LENGTH",A[A.BRANCH_LENGTH=16256]="BRANCH_LENGTH",A[A.JUMP_TABLE=127]="JUMP_TABLE"})(d=n.BinTrieFlags||(n.BinTrieFlags={}));function f(A){return A>=s.ZERO&&A<=s.NINE}function p(A){return A>=s.UPPER_A&&A<=s.UPPER_F||A>=s.LOWER_A&&A<=s.LOWER_F}function h(A){return A>=s.UPPER_A&&A<=s.UPPER_Z||A>=s.LOWER_A&&A<=s.LOWER_Z||f(A)}function g(A){return A===s.EQUALS||h(A)}var _;(function(A){A[A.EntityStart=0]="EntityStart",A[A.NumericStart=1]="NumericStart",A[A.NumericDecimal=2]="NumericDecimal",A[A.NumericHex=3]="NumericHex",A[A.NamedEntity=4]="NamedEntity"})(_||(_={}));var m;(function(A){A[A.Legacy=0]="Legacy",A[A.Strict=1]="Strict",A[A.Attribute=2]="Attribute"})(m=n.DecodingMode||(n.DecodingMode={}));var w=(function(){function A(P,C,B){this.decodeTree=P,this.emitCodePoint=C,this.errors=B,this.state=_.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=m.Strict}return A.prototype.startEntity=function(P){this.decodeMode=P,this.state=_.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1},A.prototype.write=function(P,C){switch(this.state){case _.EntityStart:return P.charCodeAt(C)===s.NUM?(this.state=_.NumericStart,this.consumed+=1,this.stateNumericStart(P,C+1)):(this.state=_.NamedEntity,this.stateNamedEntity(P,C));case _.NumericStart:return this.stateNumericStart(P,C);case _.NumericDecimal:return this.stateNumericDecimal(P,C);case _.NumericHex:return this.stateNumericHex(P,C);case _.NamedEntity:return this.stateNamedEntity(P,C)}},A.prototype.stateNumericStart=function(P,C){return C>=P.length?-1:(P.charCodeAt(C)|c)===s.LOWER_X?(this.state=_.NumericHex,this.consumed+=1,this.stateNumericHex(P,C+1)):(this.state=_.NumericDecimal,this.stateNumericDecimal(P,C))},A.prototype.addToNumericResult=function(P,C,B,V){if(C!==B){var U=B-C;this.result=this.result*Math.pow(V,U)+parseInt(P.substr(C,U),V),this.consumed+=U}},A.prototype.stateNumericHex=function(P,C){for(var B=C;C<P.length;){var V=P.charCodeAt(C);if(f(V)||p(V))C+=1;else return this.addToNumericResult(P,B,C,16),this.emitNumericEntity(V,3)}return this.addToNumericResult(P,B,C,16),-1},A.prototype.stateNumericDecimal=function(P,C){for(var B=C;C<P.length;){var V=P.charCodeAt(C);if(f(V))C+=1;else return this.addToNumericResult(P,B,C,10),this.emitNumericEntity(V,2)}return this.addToNumericResult(P,B,C,10),-1},A.prototype.emitNumericEntity=function(P,C){var B;if(this.consumed<=C)return(B=this.errors)===null||B===void 0||B.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(P===s.SEMI)this.consumed+=1;else if(this.decodeMode===m.Strict)return 0;return this.emitCodePoint((0,o.replaceCodePoint)(this.result),this.consumed),this.errors&&(P!==s.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed},A.prototype.stateNamedEntity=function(P,C){for(var B=this.decodeTree,V=B[this.treeIndex],U=(V&d.VALUE_LENGTH)>>14;C<P.length;C++,this.excess++){var G=P.charCodeAt(C);if(this.treeIndex=E(B,V,this.treeIndex+Math.max(1,U),G),this.treeIndex<0)return this.result===0||this.decodeMode===m.Attribute&&(U===0||g(G))?0:this.emitNotTerminatedNamedEntity();if(V=B[this.treeIndex],U=(V&d.VALUE_LENGTH)>>14,U!==0){if(G===s.SEMI)return this.emitNamedEntityData(this.treeIndex,U,this.consumed+this.excess);this.decodeMode!==m.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1},A.prototype.emitNotTerminatedNamedEntity=function(){var P,C=this,B=C.result,V=C.decodeTree,U=(V[B]&d.VALUE_LENGTH)>>14;return this.emitNamedEntityData(B,U,this.consumed),(P=this.errors)===null||P===void 0||P.missingSemicolonAfterCharacterReference(),this.consumed},A.prototype.emitNamedEntityData=function(P,C,B){var V=this.decodeTree;return this.emitCodePoint(C===1?V[P]&~d.VALUE_LENGTH:V[P+1],B),C===3&&this.emitCodePoint(V[P+2],B),B},A.prototype.end=function(){var P;switch(this.state){case _.NamedEntity:return this.result!==0&&(this.decodeMode!==m.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case _.NumericDecimal:return this.emitNumericEntity(0,2);case _.NumericHex:return this.emitNumericEntity(0,3);case _.NumericStart:return(P=this.errors)===null||P===void 0||P.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case _.EntityStart:return 0}},A})();n.EntityDecoder=w;function T(A){var P="",C=new w(A,function(B){return P+=(0,o.fromCodePoint)(B)});return function(V,U){for(var G=0,J=0;(J=V.indexOf("&",J))>=0;){P+=V.slice(G,J),C.startEntity(U);var ne=C.write(V,J+1);if(ne<0){G=J+C.end();break}G=J+ne,J=ne===0?G+1:G}var W=P+V.slice(G);return P="",W}}function E(A,P,C,B){var V=(P&d.BRANCH_LENGTH)>>7,U=P&d.JUMP_TABLE;if(V===0)return U!==0&&B===U?C:-1;if(U){var G=B-U;return G<0||G>=V?-1:A[C+G]-1}for(var J=C,ne=J+V-1;J<=ne;){var W=J+ne>>>1,ee=A[W];if(ee<B)J=W+1;else if(ee>B)ne=W-1;else return A[W+V]}return-1}n.determineBranch=E;var S=T(t.default),N=T(i.default);function j(A,P){return P===void 0&&(P=m.Legacy),S(A,P)}n.decodeHTML=j;function q(A){return S(A,m.Attribute)}n.decodeHTMLAttribute=q;function O(A){return S(A,m.Strict)}n.decodeHTMLStrict=O;function I(A){return N(A,m.Strict)}n.decodeXML=I})($u)),$u}var fre;function fTe(){return fre||(fre=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.QuoteType=void 0;var e=dTe(),u;(function(f){f[f.Tab=9]="Tab",f[f.NewLine=10]="NewLine",f[f.FormFeed=12]="FormFeed",f[f.CarriageReturn=13]="CarriageReturn",f[f.Space=32]="Space",f[f.ExclamationMark=33]="ExclamationMark",f[f.Number=35]="Number",f[f.Amp=38]="Amp",f[f.SingleQuote=39]="SingleQuote",f[f.DoubleQuote=34]="DoubleQuote",f[f.Dash=45]="Dash",f[f.Slash=47]="Slash",f[f.Zero=48]="Zero",f[f.Nine=57]="Nine",f[f.Semi=59]="Semi",f[f.Lt=60]="Lt",f[f.Eq=61]="Eq",f[f.Gt=62]="Gt",f[f.Questionmark=63]="Questionmark",f[f.UpperA=65]="UpperA",f[f.LowerA=97]="LowerA",f[f.UpperF=70]="UpperF",f[f.LowerF=102]="LowerF",f[f.UpperZ=90]="UpperZ",f[f.LowerZ=122]="LowerZ",f[f.LowerX=120]="LowerX",f[f.OpeningSquareBracket=91]="OpeningSquareBracket"})(u||(u={}));var a;(function(f){f[f.Text=1]="Text",f[f.BeforeTagName=2]="BeforeTagName",f[f.InTagName=3]="InTagName",f[f.InSelfClosingTag=4]="InSelfClosingTag",f[f.BeforeClosingTagName=5]="BeforeClosingTagName",f[f.InClosingTagName=6]="InClosingTagName",f[f.AfterClosingTagName=7]="AfterClosingTagName",f[f.BeforeAttributeName=8]="BeforeAttributeName",f[f.InAttributeName=9]="InAttributeName",f[f.AfterAttributeName=10]="AfterAttributeName",f[f.BeforeAttributeValue=11]="BeforeAttributeValue",f[f.InAttributeValueDq=12]="InAttributeValueDq",f[f.InAttributeValueSq=13]="InAttributeValueSq",f[f.InAttributeValueNq=14]="InAttributeValueNq",f[f.BeforeDeclaration=15]="BeforeDeclaration",f[f.InDeclaration=16]="InDeclaration",f[f.InProcessingInstruction=17]="InProcessingInstruction",f[f.BeforeComment=18]="BeforeComment",f[f.CDATASequence=19]="CDATASequence",f[f.InSpecialComment=20]="InSpecialComment",f[f.InCommentLike=21]="InCommentLike",f[f.BeforeSpecialS=22]="BeforeSpecialS",f[f.SpecialStartSequence=23]="SpecialStartSequence",f[f.InSpecialTag=24]="InSpecialTag",f[f.BeforeEntity=25]="BeforeEntity",f[f.BeforeNumericEntity=26]="BeforeNumericEntity",f[f.InNamedEntity=27]="InNamedEntity",f[f.InNumericEntity=28]="InNumericEntity",f[f.InHexEntity=29]="InHexEntity"})(a||(a={}));function r(f){return f===u.Space||f===u.NewLine||f===u.Tab||f===u.FormFeed||f===u.CarriageReturn}function t(f){return f===u.Slash||f===u.Gt||r(f)}function i(f){return f>=u.Zero&&f<=u.Nine}function o(f){return f>=u.LowerA&&f<=u.LowerZ||f>=u.UpperA&&f<=u.UpperZ}function l(f){return f>=u.UpperA&&f<=u.UpperF||f>=u.LowerA&&f<=u.LowerF}var s;(function(f){f[f.NoValue=0]="NoValue",f[f.Unquoted=1]="Unquoted",f[f.Single=2]="Single",f[f.Double=3]="Double"})(s=n.QuoteType||(n.QuoteType={}));var c={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101])},d=(function(){function f(p,h){var g=p.xmlMode,_=g===void 0?!1:g,m=p.decodeEntities,w=m===void 0?!0:m;this.cbs=h,this.state=a.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=a.Text,this.isSpecial=!1,this.running=!0,this.offset=0,this.currentSequence=void 0,this.sequenceIndex=0,this.trieIndex=0,this.trieCurrent=0,this.entityResult=0,this.entityExcess=0,this.xmlMode=_,this.decodeEntities=w,this.entityTrie=_?e.xmlDecodeTree:e.htmlDecodeTree}return f.prototype.reset=function(){this.state=a.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=a.Text,this.currentSequence=void 0,this.running=!0,this.offset=0},f.prototype.write=function(p){this.offset+=this.buffer.length,this.buffer=p,this.parse()},f.prototype.end=function(){this.running&&this.finish()},f.prototype.pause=function(){this.running=!1},f.prototype.resume=function(){this.running=!0,this.index<this.buffer.length+this.offset&&this.parse()},f.prototype.getIndex=function(){return this.index},f.prototype.getSectionStart=function(){return this.sectionStart},f.prototype.stateText=function(p){p===u.Lt||!this.decodeEntities&&this.fastForwardTo(u.Lt)?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=a.BeforeTagName,this.sectionStart=this.index):this.decodeEntities&&p===u.Amp&&(this.state=a.BeforeEntity)},f.prototype.stateSpecialStartSequence=function(p){var h=this.sequenceIndex===this.currentSequence.length,g=h?t(p):(p|32)===this.currentSequence[this.sequenceIndex];if(!g)this.isSpecial=!1;else if(!h){this.sequenceIndex++;return}this.sequenceIndex=0,this.state=a.InTagName,this.stateInTagName(p)},f.prototype.stateInSpecialTag=function(p){if(this.sequenceIndex===this.currentSequence.length){if(p===u.Gt||r(p)){var h=this.index-this.currentSequence.length;if(this.sectionStart<h){var g=this.index;this.index=h,this.cbs.ontext(this.sectionStart,h),this.index=g}this.isSpecial=!1,this.sectionStart=h+2,this.stateInClosingTagName(p);return}this.sequenceIndex=0}(p|32)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===c.TitleEnd?this.decodeEntities&&p===u.Amp&&(this.state=a.BeforeEntity):this.fastForwardTo(u.Lt)&&(this.sequenceIndex=1):this.sequenceIndex=+(p===u.Lt)},f.prototype.stateCDATASequence=function(p){p===c.Cdata[this.sequenceIndex]?++this.sequenceIndex===c.Cdata.length&&(this.state=a.InCommentLike,this.currentSequence=c.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=a.InDeclaration,this.stateInDeclaration(p))},f.prototype.fastForwardTo=function(p){for(;++this.index<this.buffer.length+this.offset;)if(this.buffer.charCodeAt(this.index-this.offset)===p)return!0;return this.index=this.buffer.length+this.offset-1,!1},f.prototype.stateInCommentLike=function(p){p===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===c.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index,2):this.cbs.oncomment(this.sectionStart,this.index,2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=a.Text):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):p!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)},f.prototype.isTagStartChar=function(p){return this.xmlMode?!t(p):o(p)},f.prototype.startSpecial=function(p,h){this.isSpecial=!0,this.currentSequence=p,this.sequenceIndex=h,this.state=a.SpecialStartSequence},f.prototype.stateBeforeTagName=function(p){if(p===u.ExclamationMark)this.state=a.BeforeDeclaration,this.sectionStart=this.index+1;else if(p===u.Questionmark)this.state=a.InProcessingInstruction,this.sectionStart=this.index+1;else if(this.isTagStartChar(p)){var h=p|32;this.sectionStart=this.index,!this.xmlMode&&h===c.TitleEnd[2]?this.startSpecial(c.TitleEnd,3):this.state=!this.xmlMode&&h===c.ScriptEnd[2]?a.BeforeSpecialS:a.InTagName}else p===u.Slash?this.state=a.BeforeClosingTagName:(this.state=a.Text,this.stateText(p))},f.prototype.stateInTagName=function(p){t(p)&&(this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=a.BeforeAttributeName,this.stateBeforeAttributeName(p))},f.prototype.stateBeforeClosingTagName=function(p){r(p)||(p===u.Gt?this.state=a.Text:(this.state=this.isTagStartChar(p)?a.InClosingTagName:a.InSpecialComment,this.sectionStart=this.index))},f.prototype.stateInClosingTagName=function(p){(p===u.Gt||r(p))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=a.AfterClosingTagName,this.stateAfterClosingTagName(p))},f.prototype.stateAfterClosingTagName=function(p){(p===u.Gt||this.fastForwardTo(u.Gt))&&(this.state=a.Text,this.baseState=a.Text,this.sectionStart=this.index+1)},f.prototype.stateBeforeAttributeName=function(p){p===u.Gt?(this.cbs.onopentagend(this.index),this.isSpecial?(this.state=a.InSpecialTag,this.sequenceIndex=0):this.state=a.Text,this.baseState=this.state,this.sectionStart=this.index+1):p===u.Slash?this.state=a.InSelfClosingTag:r(p)||(this.state=a.InAttributeName,this.sectionStart=this.index)},f.prototype.stateInSelfClosingTag=function(p){p===u.Gt?(this.cbs.onselfclosingtag(this.index),this.state=a.Text,this.baseState=a.Text,this.sectionStart=this.index+1,this.isSpecial=!1):r(p)||(this.state=a.BeforeAttributeName,this.stateBeforeAttributeName(p))},f.prototype.stateInAttributeName=function(p){(p===u.Eq||t(p))&&(this.cbs.onattribname(this.sectionStart,this.index),this.sectionStart=-1,this.state=a.AfterAttributeName,this.stateAfterAttributeName(p))},f.prototype.stateAfterAttributeName=function(p){p===u.Eq?this.state=a.BeforeAttributeValue:p===u.Slash||p===u.Gt?(this.cbs.onattribend(s.NoValue,this.index),this.state=a.BeforeAttributeName,this.stateBeforeAttributeName(p)):r(p)||(this.cbs.onattribend(s.NoValue,this.index),this.state=a.InAttributeName,this.sectionStart=this.index)},f.prototype.stateBeforeAttributeValue=function(p){p===u.DoubleQuote?(this.state=a.InAttributeValueDq,this.sectionStart=this.index+1):p===u.SingleQuote?(this.state=a.InAttributeValueSq,this.sectionStart=this.index+1):r(p)||(this.sectionStart=this.index,this.state=a.InAttributeValueNq,this.stateInAttributeValueNoQuotes(p))},f.prototype.handleInAttributeValue=function(p,h){p===h||!this.decodeEntities&&this.fastForwardTo(h)?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(h===u.DoubleQuote?s.Double:s.Single,this.index),this.state=a.BeforeAttributeName):this.decodeEntities&&p===u.Amp&&(this.baseState=this.state,this.state=a.BeforeEntity)},f.prototype.stateInAttributeValueDoubleQuotes=function(p){this.handleInAttributeValue(p,u.DoubleQuote)},f.prototype.stateInAttributeValueSingleQuotes=function(p){this.handleInAttributeValue(p,u.SingleQuote)},f.prototype.stateInAttributeValueNoQuotes=function(p){r(p)||p===u.Gt?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(s.Unquoted,this.index),this.state=a.BeforeAttributeName,this.stateBeforeAttributeName(p)):this.decodeEntities&&p===u.Amp&&(this.baseState=this.state,this.state=a.BeforeEntity)},f.prototype.stateBeforeDeclaration=function(p){p===u.OpeningSquareBracket?(this.state=a.CDATASequence,this.sequenceIndex=0):this.state=p===u.Dash?a.BeforeComment:a.InDeclaration},f.prototype.stateInDeclaration=function(p){(p===u.Gt||this.fastForwardTo(u.Gt))&&(this.cbs.ondeclaration(this.sectionStart,this.index),this.state=a.Text,this.sectionStart=this.index+1)},f.prototype.stateInProcessingInstruction=function(p){(p===u.Gt||this.fastForwardTo(u.Gt))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=a.Text,this.sectionStart=this.index+1)},f.prototype.stateBeforeComment=function(p){p===u.Dash?(this.state=a.InCommentLike,this.currentSequence=c.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=a.InDeclaration},f.prototype.stateInSpecialComment=function(p){(p===u.Gt||this.fastForwardTo(u.Gt))&&(this.cbs.oncomment(this.sectionStart,this.index,0),this.state=a.Text,this.sectionStart=this.index+1)},f.prototype.stateBeforeSpecialS=function(p){var h=p|32;h===c.ScriptEnd[3]?this.startSpecial(c.ScriptEnd,4):h===c.StyleEnd[3]?this.startSpecial(c.StyleEnd,4):(this.state=a.InTagName,this.stateInTagName(p))},f.prototype.stateBeforeEntity=function(p){this.entityExcess=1,this.entityResult=0,p===u.Number?this.state=a.BeforeNumericEntity:p===u.Amp||(this.trieIndex=0,this.trieCurrent=this.entityTrie[0],this.state=a.InNamedEntity,this.stateInNamedEntity(p))},f.prototype.stateInNamedEntity=function(p){if(this.entityExcess+=1,this.trieIndex=(0,e.determineBranch)(this.entityTrie,this.trieCurrent,this.trieIndex+1,p),this.trieIndex<0){this.emitNamedEntity(),this.index--;return}this.trieCurrent=this.entityTrie[this.trieIndex];var h=this.trieCurrent&e.BinTrieFlags.VALUE_LENGTH;if(h){var g=(h>>14)-1;if(!this.allowLegacyEntity()&&p!==u.Semi)this.trieIndex+=g;else{var _=this.index-this.entityExcess+1;_>this.sectionStart&&this.emitPartial(this.sectionStart,_),this.entityResult=this.trieIndex,this.trieIndex+=g,this.entityExcess=0,this.sectionStart=this.index+1,g===0&&this.emitNamedEntity()}}},f.prototype.emitNamedEntity=function(){if(this.state=this.baseState,this.entityResult!==0){var p=(this.entityTrie[this.entityResult]&e.BinTrieFlags.VALUE_LENGTH)>>14;switch(p){case 1:{this.emitCodePoint(this.entityTrie[this.entityResult]&~e.BinTrieFlags.VALUE_LENGTH);break}case 2:{this.emitCodePoint(this.entityTrie[this.entityResult+1]);break}case 3:this.emitCodePoint(this.entityTrie[this.entityResult+1]),this.emitCodePoint(this.entityTrie[this.entityResult+2])}}},f.prototype.stateBeforeNumericEntity=function(p){(p|32)===u.LowerX?(this.entityExcess++,this.state=a.InHexEntity):(this.state=a.InNumericEntity,this.stateInNumericEntity(p))},f.prototype.emitNumericEntity=function(p){var h=this.index-this.entityExcess-1,g=h+2+ +(this.state===a.InHexEntity);g!==this.index&&(h>this.sectionStart&&this.emitPartial(this.sectionStart,h),this.sectionStart=this.index+Number(p),this.emitCodePoint((0,e.replaceCodePoint)(this.entityResult))),this.state=this.baseState},f.prototype.stateInNumericEntity=function(p){p===u.Semi?this.emitNumericEntity(!0):i(p)?(this.entityResult=this.entityResult*10+(p-u.Zero),this.entityExcess++):(this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state=this.baseState,this.index--)},f.prototype.stateInHexEntity=function(p){p===u.Semi?this.emitNumericEntity(!0):i(p)?(this.entityResult=this.entityResult*16+(p-u.Zero),this.entityExcess++):l(p)?(this.entityResult=this.entityResult*16+((p|32)-u.LowerA+10),this.entityExcess++):(this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state=this.baseState,this.index--)},f.prototype.allowLegacyEntity=function(){return!this.xmlMode&&(this.baseState===a.Text||this.baseState===a.InSpecialTag)},f.prototype.cleanup=function(){this.running&&this.sectionStart!==this.index&&(this.state===a.Text||this.state===a.InSpecialTag&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):(this.state===a.InAttributeValueDq||this.state===a.InAttributeValueSq||this.state===a.InAttributeValueNq)&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))},f.prototype.shouldContinue=function(){return this.index<this.buffer.length+this.offset&&this.running},f.prototype.parse=function(){for(;this.shouldContinue();){var p=this.buffer.charCodeAt(this.index-this.offset);switch(this.state){case a.Text:{this.stateText(p);break}case a.SpecialStartSequence:{this.stateSpecialStartSequence(p);break}case a.InSpecialTag:{this.stateInSpecialTag(p);break}case a.CDATASequence:{this.stateCDATASequence(p);break}case a.InAttributeValueDq:{this.stateInAttributeValueDoubleQuotes(p);break}case a.InAttributeName:{this.stateInAttributeName(p);break}case a.InCommentLike:{this.stateInCommentLike(p);break}case a.InSpecialComment:{this.stateInSpecialComment(p);break}case a.BeforeAttributeName:{this.stateBeforeAttributeName(p);break}case a.InTagName:{this.stateInTagName(p);break}case a.InClosingTagName:{this.stateInClosingTagName(p);break}case a.BeforeTagName:{this.stateBeforeTagName(p);break}case a.AfterAttributeName:{this.stateAfterAttributeName(p);break}case a.InAttributeValueSq:{this.stateInAttributeValueSingleQuotes(p);break}case a.BeforeAttributeValue:{this.stateBeforeAttributeValue(p);break}case a.BeforeClosingTagName:{this.stateBeforeClosingTagName(p);break}case a.AfterClosingTagName:{this.stateAfterClosingTagName(p);break}case a.BeforeSpecialS:{this.stateBeforeSpecialS(p);break}case a.InAttributeValueNq:{this.stateInAttributeValueNoQuotes(p);break}case a.InSelfClosingTag:{this.stateInSelfClosingTag(p);break}case a.InDeclaration:{this.stateInDeclaration(p);break}case a.BeforeDeclaration:{this.stateBeforeDeclaration(p);break}case a.BeforeComment:{this.stateBeforeComment(p);break}case a.InProcessingInstruction:{this.stateInProcessingInstruction(p);break}case a.InNamedEntity:{this.stateInNamedEntity(p);break}case a.BeforeEntity:{this.stateBeforeEntity(p);break}case a.InHexEntity:{this.stateInHexEntity(p);break}case a.InNumericEntity:{this.stateInNumericEntity(p);break}default:this.stateBeforeNumericEntity(p)}this.index++}this.cleanup()},f.prototype.finish=function(){this.state===a.InNamedEntity&&this.emitNamedEntity(),this.sectionStart<this.index&&this.handleTrailingData(),this.cbs.onend()},f.prototype.handleTrailingData=function(){var p=this.buffer.length+this.offset;this.state===a.InCommentLike?this.currentSequence===c.CdataEnd?this.cbs.oncdata(this.sectionStart,p,0):this.cbs.oncomment(this.sectionStart,p,0):this.state===a.InNumericEntity&&this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state===a.InHexEntity&&this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state===a.InTagName||this.state===a.BeforeAttributeName||this.state===a.BeforeAttributeValue||this.state===a.AfterAttributeName||this.state===a.InAttributeName||this.state===a.InAttributeValueSq||this.state===a.InAttributeValueDq||this.state===a.InAttributeValueNq||this.state===a.InClosingTagName||this.cbs.ontext(this.sectionStart,p)},f.prototype.emitPartial=function(p,h){this.baseState!==a.Text&&this.baseState!==a.InSpecialTag?this.cbs.onattribdata(p,h):this.cbs.ontext(p,h)},f.prototype.emitCodePoint=function(p){this.baseState!==a.Text&&this.baseState!==a.InSpecialTag?this.cbs.onattribentity(p):this.cbs.ontextentity(p)},f})();n.default=d})(YM)),YM}var pre;function hre(){if(pre)return Gu;pre=1;var n=Gu&&Gu.__createBinding||(Object.create?(function(_,m,w,T){T===void 0&&(T=w);var E=Object.getOwnPropertyDescriptor(m,w);(!E||("get"in E?!m.__esModule:E.writable||E.configurable))&&(E={enumerable:!0,get:function(){return m[w]}}),Object.defineProperty(_,T,E)}):(function(_,m,w,T){T===void 0&&(T=w),_[T]=m[w]})),e=Gu&&Gu.__setModuleDefault||(Object.create?(function(_,m){Object.defineProperty(_,"default",{enumerable:!0,value:m})}):function(_,m){_.default=m}),u=Gu&&Gu.__importStar||function(_){if(_&&_.__esModule)return _;var m={};if(_!=null)for(var w in _)w!=="default"&&Object.prototype.hasOwnProperty.call(_,w)&&n(m,_,w);return e(m,_),m};Object.defineProperty(Gu,"__esModule",{value:!0}),Gu.Parser=void 0;var a=u(fTe()),r=dTe(),t=new Set(["input","option","optgroup","select","button","datalist","textarea"]),i=new Set(["p"]),o=new Set(["thead","tbody"]),l=new Set(["dd","dt"]),s=new Set(["rt","rp"]),c=new Map([["tr",new Set(["tr","th","td"])],["th",new Set(["th"])],["td",new Set(["thead","th","td"])],["body",new Set(["head","link","script"])],["li",new Set(["li"])],["p",i],["h1",i],["h2",i],["h3",i],["h4",i],["h5",i],["h6",i],["select",t],["input",t],["output",t],["button",t],["datalist",t],["textarea",t],["option",new Set(["option"])],["optgroup",new Set(["optgroup","option"])],["dd",l],["dt",l],["address",i],["article",i],["aside",i],["blockquote",i],["details",i],["div",i],["dl",i],["fieldset",i],["figcaption",i],["figure",i],["footer",i],["form",i],["header",i],["hr",i],["main",i],["nav",i],["ol",i],["pre",i],["section",i],["table",i],["ul",i],["rt",s],["rp",s],["tbody",o],["tfoot",o]]),d=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),f=new Set(["math","svg"]),p=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignobject","desc","title"]),h=/\s|\//,g=(function(){function _(m,w){w===void 0&&(w={});var T,E,S,N,j;this.options=w,this.startIndex=0,this.endIndex=0,this.openTagStart=0,this.tagname="",this.attribname="",this.attribvalue="",this.attribs=null,this.stack=[],this.foreignContext=[],this.buffers=[],this.bufferOffset=0,this.writeIndex=0,this.ended=!1,this.cbs=m??{},this.lowerCaseTagNames=(T=w.lowerCaseTags)!==null&&T!==void 0?T:!w.xmlMode,this.lowerCaseAttributeNames=(E=w.lowerCaseAttributeNames)!==null&&E!==void 0?E:!w.xmlMode,this.tokenizer=new((S=w.Tokenizer)!==null&&S!==void 0?S:a.default)(this.options,this),(j=(N=this.cbs).onparserinit)===null||j===void 0||j.call(N,this)}return _.prototype.ontext=function(m,w){var T,E,S=this.getSlice(m,w);this.endIndex=w-1,(E=(T=this.cbs).ontext)===null||E===void 0||E.call(T,S),this.startIndex=w},_.prototype.ontextentity=function(m){var w,T,E=this.tokenizer.getSectionStart();this.endIndex=E-1,(T=(w=this.cbs).ontext)===null||T===void 0||T.call(w,(0,r.fromCodePoint)(m)),this.startIndex=E},_.prototype.isVoidElement=function(m){return!this.options.xmlMode&&d.has(m)},_.prototype.onopentagname=function(m,w){this.endIndex=w;var T=this.getSlice(m,w);this.lowerCaseTagNames&&(T=T.toLowerCase()),this.emitOpenTag(T)},_.prototype.emitOpenTag=function(m){var w,T,E,S;this.openTagStart=this.startIndex,this.tagname=m;var N=!this.options.xmlMode&&c.get(m);if(N)for(;this.stack.length>0&&N.has(this.stack[this.stack.length-1]);){var j=this.stack.pop();(T=(w=this.cbs).onclosetag)===null||T===void 0||T.call(w,j,!0)}this.isVoidElement(m)||(this.stack.push(m),f.has(m)?this.foreignContext.push(!0):p.has(m)&&this.foreignContext.push(!1)),(S=(E=this.cbs).onopentagname)===null||S===void 0||S.call(E,m),this.cbs.onopentag&&(this.attribs={})},_.prototype.endOpenTag=function(m){var w,T;this.startIndex=this.openTagStart,this.attribs&&((T=(w=this.cbs).onopentag)===null||T===void 0||T.call(w,this.tagname,this.attribs,m),this.attribs=null),this.cbs.onclosetag&&this.isVoidElement(this.tagname)&&this.cbs.onclosetag(this.tagname,!0),this.tagname=""},_.prototype.onopentagend=function(m){this.endIndex=m,this.endOpenTag(!1),this.startIndex=m+1},_.prototype.onclosetag=function(m,w){var T,E,S,N,j,q;this.endIndex=w;var O=this.getSlice(m,w);if(this.lowerCaseTagNames&&(O=O.toLowerCase()),(f.has(O)||p.has(O))&&this.foreignContext.pop(),this.isVoidElement(O))!this.options.xmlMode&&O==="br"&&((E=(T=this.cbs).onopentagname)===null||E===void 0||E.call(T,"br"),(N=(S=this.cbs).onopentag)===null||N===void 0||N.call(S,"br",{},!0),(q=(j=this.cbs).onclosetag)===null||q===void 0||q.call(j,"br",!1));else{var I=this.stack.lastIndexOf(O);if(I!==-1)if(this.cbs.onclosetag)for(var A=this.stack.length-I;A--;)this.cbs.onclosetag(this.stack.pop(),A!==0);else this.stack.length=I;else!this.options.xmlMode&&O==="p"&&(this.emitOpenTag("p"),this.closeCurrentTag(!0))}this.startIndex=w+1},_.prototype.onselfclosingtag=function(m){this.endIndex=m,this.options.xmlMode||this.options.recognizeSelfClosing||this.foreignContext[this.foreignContext.length-1]?(this.closeCurrentTag(!1),this.startIndex=m+1):this.onopentagend(m)},_.prototype.closeCurrentTag=function(m){var w,T,E=this.tagname;this.endOpenTag(m),this.stack[this.stack.length-1]===E&&((T=(w=this.cbs).onclosetag)===null||T===void 0||T.call(w,E,!m),this.stack.pop())},_.prototype.onattribname=function(m,w){this.startIndex=m;var T=this.getSlice(m,w);this.attribname=this.lowerCaseAttributeNames?T.toLowerCase():T},_.prototype.onattribdata=function(m,w){this.attribvalue+=this.getSlice(m,w)},_.prototype.onattribentity=function(m){this.attribvalue+=(0,r.fromCodePoint)(m)},_.prototype.onattribend=function(m,w){var T,E;this.endIndex=w,(E=(T=this.cbs).onattribute)===null||E===void 0||E.call(T,this.attribname,this.attribvalue,m===a.QuoteType.Double?'"':m===a.QuoteType.Single?"'":m===a.QuoteType.NoValue?void 0:null),this.attribs&&!Object.prototype.hasOwnProperty.call(this.attribs,this.attribname)&&(this.attribs[this.attribname]=this.attribvalue),this.attribvalue=""},_.prototype.getInstructionName=function(m){var w=m.search(h),T=w<0?m:m.substr(0,w);return this.lowerCaseTagNames&&(T=T.toLowerCase()),T},_.prototype.ondeclaration=function(m,w){this.endIndex=w;var T=this.getSlice(m,w);if(this.cbs.onprocessinginstruction){var E=this.getInstructionName(T);this.cbs.onprocessinginstruction("!".concat(E),"!".concat(T))}this.startIndex=w+1},_.prototype.onprocessinginstruction=function(m,w){this.endIndex=w;var T=this.getSlice(m,w);if(this.cbs.onprocessinginstruction){var E=this.getInstructionName(T);this.cbs.onprocessinginstruction("?".concat(E),"?".concat(T))}this.startIndex=w+1},_.prototype.oncomment=function(m,w,T){var E,S,N,j;this.endIndex=w,(S=(E=this.cbs).oncomment)===null||S===void 0||S.call(E,this.getSlice(m,w-T)),(j=(N=this.cbs).oncommentend)===null||j===void 0||j.call(N),this.startIndex=w+1},_.prototype.oncdata=function(m,w,T){var E,S,N,j,q,O,I,A,P,C;this.endIndex=w;var B=this.getSlice(m,w-T);this.options.xmlMode||this.options.recognizeCDATA?((S=(E=this.cbs).oncdatastart)===null||S===void 0||S.call(E),(j=(N=this.cbs).ontext)===null||j===void 0||j.call(N,B),(O=(q=this.cbs).oncdataend)===null||O===void 0||O.call(q)):((A=(I=this.cbs).oncomment)===null||A===void 0||A.call(I,"[CDATA[".concat(B,"]]")),(C=(P=this.cbs).oncommentend)===null||C===void 0||C.call(P)),this.startIndex=w+1},_.prototype.onend=function(){var m,w;if(this.cbs.onclosetag){this.endIndex=this.startIndex;for(var T=this.stack.length;T>0;this.cbs.onclosetag(this.stack[--T],!0));}(w=(m=this.cbs).onend)===null||w===void 0||w.call(m)},_.prototype.reset=function(){var m,w,T,E;(w=(m=this.cbs).onreset)===null||w===void 0||w.call(m),this.tokenizer.reset(),this.tagname="",this.attribname="",this.attribs=null,this.stack.length=0,this.startIndex=0,this.endIndex=0,(E=(T=this.cbs).onparserinit)===null||E===void 0||E.call(T,this),this.buffers.length=0,this.bufferOffset=0,this.writeIndex=0,this.ended=!1},_.prototype.parseComplete=function(m){this.reset(),this.end(m)},_.prototype.getSlice=function(m,w){for(;m-this.bufferOffset>=this.buffers[0].length;)this.shiftBuffer();for(var T=this.buffers[0].slice(m-this.bufferOffset,w-this.bufferOffset);w-this.bufferOffset>this.buffers[0].length;)this.shiftBuffer(),T+=this.buffers[0].slice(0,w-this.bufferOffset);return T},_.prototype.shiftBuffer=function(){this.bufferOffset+=this.buffers[0].length,this.writeIndex--,this.buffers.shift()},_.prototype.write=function(m){var w,T;if(this.ended){(T=(w=this.cbs).onerror)===null||T===void 0||T.call(w,new Error(".write() after done!"));return}this.buffers.push(m),this.tokenizer.running&&(this.tokenizer.write(m),this.writeIndex++)},_.prototype.end=function(m){var w,T;if(this.ended){(T=(w=this.cbs).onerror)===null||T===void 0||T.call(w,new Error(".end() after done!"));return}m&&this.write(m),this.ended=!0,this.tokenizer.end()},_.prototype.pause=function(){this.tokenizer.pause()},_.prototype.resume=function(){for(this.tokenizer.resume();this.tokenizer.running&&this.writeIndex<this.buffers.length;)this.tokenizer.write(this.buffers[this.writeIndex++]);this.ended&&this.tokenizer.end()},_.prototype.parseChunk=function(m){this.write(m)},_.prototype.done=function(m){this.end(m)},_})();return Gu.Parser=g,Gu}var cp={},eC={},yre;function Sb(){return yre||(yre=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.Doctype=n.CDATA=n.Tag=n.Style=n.Script=n.Comment=n.Directive=n.Text=n.Root=n.isTag=n.ElementType=void 0;var e;(function(a){a.Root="root",a.Text="text",a.Directive="directive",a.Comment="comment",a.Script="script",a.Style="style",a.Tag="tag",a.CDATA="cdata",a.Doctype="doctype"})(e=n.ElementType||(n.ElementType={}));function u(a){return a.type===e.Tag||a.type===e.Script||a.type===e.Style}n.isTag=u,n.Root=e.Root,n.Text=e.Text,n.Directive=e.Directive,n.Comment=e.Comment,n.Script=e.Script,n.Style=e.Style,n.Tag=e.Tag,n.CDATA=e.CDATA,n.Doctype=e.Doctype})(eC)),eC}var Zt={},mre;function bre(){if(mre)return Zt;mre=1;var n=Zt&&Zt.__extends||(function(){var S=function(N,j){return S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(q,O){q.__proto__=O}||function(q,O){for(var I in O)Object.prototype.hasOwnProperty.call(O,I)&&(q[I]=O[I])},S(N,j)};return function(N,j){if(typeof j!="function"&&j!==null)throw new TypeError("Class extends value "+String(j)+" is not a constructor or null");S(N,j);function q(){this.constructor=N}N.prototype=j===null?Object.create(j):(q.prototype=j.prototype,new q)}})(),e=Zt&&Zt.__assign||function(){return e=Object.assign||function(S){for(var N,j=1,q=arguments.length;j<q;j++){N=arguments[j];for(var O in N)Object.prototype.hasOwnProperty.call(N,O)&&(S[O]=N[O])}return S},e.apply(this,arguments)};Object.defineProperty(Zt,"__esModule",{value:!0}),Zt.cloneNode=Zt.hasChildren=Zt.isDocument=Zt.isDirective=Zt.isComment=Zt.isText=Zt.isCDATA=Zt.isTag=Zt.Element=Zt.Document=Zt.CDATA=Zt.NodeWithChildren=Zt.ProcessingInstruction=Zt.Comment=Zt.Text=Zt.DataNode=Zt.Node=void 0;var u=Sb(),a=(function(){function S(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(S.prototype,"parentNode",{get:function(){return this.parent},set:function(N){this.parent=N},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"previousSibling",{get:function(){return this.prev},set:function(N){this.prev=N},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"nextSibling",{get:function(){return this.next},set:function(N){this.next=N},enumerable:!1,configurable:!0}),S.prototype.cloneNode=function(N){return N===void 0&&(N=!1),T(this,N)},S})();Zt.Node=a;var r=(function(S){n(N,S);function N(j){var q=S.call(this)||this;return q.data=j,q}return Object.defineProperty(N.prototype,"nodeValue",{get:function(){return this.data},set:function(j){this.data=j},enumerable:!1,configurable:!0}),N})(a);Zt.DataNode=r;var t=(function(S){n(N,S);function N(){var j=S!==null&&S.apply(this,arguments)||this;return j.type=u.ElementType.Text,j}return Object.defineProperty(N.prototype,"nodeType",{get:function(){return 3},enumerable:!1,configurable:!0}),N})(r);Zt.Text=t;var i=(function(S){n(N,S);function N(){var j=S!==null&&S.apply(this,arguments)||this;return j.type=u.ElementType.Comment,j}return Object.defineProperty(N.prototype,"nodeType",{get:function(){return 8},enumerable:!1,configurable:!0}),N})(r);Zt.Comment=i;var o=(function(S){n(N,S);function N(j,q){var O=S.call(this,q)||this;return O.name=j,O.type=u.ElementType.Directive,O}return Object.defineProperty(N.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),N})(r);Zt.ProcessingInstruction=o;var l=(function(S){n(N,S);function N(j){var q=S.call(this)||this;return q.children=j,q}return Object.defineProperty(N.prototype,"firstChild",{get:function(){var j;return(j=this.children[0])!==null&&j!==void 0?j:null},enumerable:!1,configurable:!0}),Object.defineProperty(N.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(N.prototype,"childNodes",{get:function(){return this.children},set:function(j){this.children=j},enumerable:!1,configurable:!0}),N})(a);Zt.NodeWithChildren=l;var s=(function(S){n(N,S);function N(){var j=S!==null&&S.apply(this,arguments)||this;return j.type=u.ElementType.CDATA,j}return Object.defineProperty(N.prototype,"nodeType",{get:function(){return 4},enumerable:!1,configurable:!0}),N})(l);Zt.CDATA=s;var c=(function(S){n(N,S);function N(){var j=S!==null&&S.apply(this,arguments)||this;return j.type=u.ElementType.Root,j}return Object.defineProperty(N.prototype,"nodeType",{get:function(){return 9},enumerable:!1,configurable:!0}),N})(l);Zt.Document=c;var d=(function(S){n(N,S);function N(j,q,O,I){O===void 0&&(O=[]),I===void 0&&(I=j==="script"?u.ElementType.Script:j==="style"?u.ElementType.Style:u.ElementType.Tag);var A=S.call(this,O)||this;return A.name=j,A.attribs=q,A.type=I,A}return Object.defineProperty(N.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(N.prototype,"tagName",{get:function(){return this.name},set:function(j){this.name=j},enumerable:!1,configurable:!0}),Object.defineProperty(N.prototype,"attributes",{get:function(){var j=this;return Object.keys(this.attribs).map(function(q){var O,I;return{name:q,value:j.attribs[q],namespace:(O=j["x-attribsNamespace"])===null||O===void 0?void 0:O[q],prefix:(I=j["x-attribsPrefix"])===null||I===void 0?void 0:I[q]}})},enumerable:!1,configurable:!0}),N})(l);Zt.Element=d;function f(S){return(0,u.isTag)(S)}Zt.isTag=f;function p(S){return S.type===u.ElementType.CDATA}Zt.isCDATA=p;function h(S){return S.type===u.ElementType.Text}Zt.isText=h;function g(S){return S.type===u.ElementType.Comment}Zt.isComment=g;function _(S){return S.type===u.ElementType.Directive}Zt.isDirective=_;function m(S){return S.type===u.ElementType.Root}Zt.isDocument=m;function w(S){return Object.prototype.hasOwnProperty.call(S,"children")}Zt.hasChildren=w;function T(S,N){N===void 0&&(N=!1);var j;if(h(S))j=new t(S.data);else if(g(S))j=new i(S.data);else if(f(S)){var q=N?E(S.children):[],O=new d(S.name,e({},S.attribs),q);q.forEach(function(C){return C.parent=O}),S.namespace!=null&&(O.namespace=S.namespace),S["x-attribsNamespace"]&&(O["x-attribsNamespace"]=e({},S["x-attribsNamespace"])),S["x-attribsPrefix"]&&(O["x-attribsPrefix"]=e({},S["x-attribsPrefix"])),j=O}else if(p(S)){var q=N?E(S.children):[],I=new s(q);q.forEach(function(B){return B.parent=I}),j=I}else if(m(S)){var q=N?E(S.children):[],A=new c(q);q.forEach(function(B){return B.parent=A}),S["x-mode"]&&(A["x-mode"]=S["x-mode"]),j=A}else if(_(S)){var P=new o(S.name,S.data);S["x-name"]!=null&&(P["x-name"]=S["x-name"],P["x-publicId"]=S["x-publicId"],P["x-systemId"]=S["x-systemId"]),j=P}else throw new Error("Not implemented yet: ".concat(S.type));return j.startIndex=S.startIndex,j.endIndex=S.endIndex,S.sourceCodeLocation!=null&&(j.sourceCodeLocation=S.sourceCodeLocation),j}Zt.cloneNode=T;function E(S){for(var N=S.map(function(q){return T(q,!0)}),j=1;j<N.length;j++)N[j].prev=N[j-1],N[j-1].next=N[j];return N}return Zt}var gre;function Su(){return gre||(gre=1,(function(n){var e=cp&&cp.__createBinding||(Object.create?(function(o,l,s,c){c===void 0&&(c=s);var d=Object.getOwnPropertyDescriptor(l,s);(!d||("get"in d?!l.__esModule:d.writable||d.configurable))&&(d={enumerable:!0,get:function(){return l[s]}}),Object.defineProperty(o,c,d)}):(function(o,l,s,c){c===void 0&&(c=s),o[c]=l[s]})),u=cp&&cp.__exportStar||function(o,l){for(var s in o)s!=="default"&&!Object.prototype.hasOwnProperty.call(l,s)&&e(l,o,s)};Object.defineProperty(n,"__esModule",{value:!0}),n.DomHandler=void 0;var a=Sb(),r=bre();u(bre(),n);var t={withStartIndices:!1,withEndIndices:!1,xmlMode:!1},i=(function(){function o(l,s,c){this.dom=[],this.root=new r.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,typeof s=="function"&&(c=s,s=t),typeof l=="object"&&(s=l,l=void 0),this.callback=l??null,this.options=s??t,this.elementCB=c??null}return o.prototype.onparserinit=function(l){this.parser=l},o.prototype.onreset=function(){this.dom=[],this.root=new r.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null},o.prototype.onend=function(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))},o.prototype.onerror=function(l){this.handleCallback(l)},o.prototype.onclosetag=function(){this.lastNode=null;var l=this.tagStack.pop();this.options.withEndIndices&&(l.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(l)},o.prototype.onopentag=function(l,s){var c=this.options.xmlMode?a.ElementType.Tag:void 0,d=new r.Element(l,s,void 0,c);this.addNode(d),this.tagStack.push(d)},o.prototype.ontext=function(l){var s=this.lastNode;if(s&&s.type===a.ElementType.Text)s.data+=l,this.options.withEndIndices&&(s.endIndex=this.parser.endIndex);else{var c=new r.Text(l);this.addNode(c),this.lastNode=c}},o.prototype.oncomment=function(l){if(this.lastNode&&this.lastNode.type===a.ElementType.Comment){this.lastNode.data+=l;return}var s=new r.Comment(l);this.addNode(s),this.lastNode=s},o.prototype.oncommentend=function(){this.lastNode=null},o.prototype.oncdatastart=function(){var l=new r.Text(""),s=new r.CDATA([l]);this.addNode(s),l.parent=s,this.lastNode=l},o.prototype.oncdataend=function(){this.lastNode=null},o.prototype.onprocessinginstruction=function(l,s){var c=new r.ProcessingInstruction(l,s);this.addNode(c)},o.prototype.handleCallback=function(l){if(typeof this.callback=="function")this.callback(l,this.dom);else if(l)throw l},o.prototype.addNode=function(l){var s=this.tagStack[this.tagStack.length-1],c=s.children[s.children.length-1];this.options.withStartIndices&&(l.startIndex=this.parser.startIndex),this.options.withEndIndices&&(l.endIndex=this.parser.endIndex),s.children.push(l),c&&(l.prev=c,c.next=l),l.parent=s,this.lastNode=null},o})();n.DomHandler=i,n.default=i})(cp)),cp}var lp={},Io={},li={},tC={},Xu={},aD={},vre;function fFe(){return vre||(vre=1,Object.defineProperty(aD,"__esModule",{value:!0}),aD.default=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(function(n){return n.charCodeAt(0)}))),aD}var iD={},_re;function pFe(){return _re||(_re=1,Object.defineProperty(iD,"__esModule",{value:!0}),iD.default=new Uint16Array("aglq	\x1B\0\0p;os;t;t;uot;".split("").map(function(n){return n.charCodeAt(0)}))),iD}var rC={},Tre;function wre(){return Tre||(Tre=1,(function(n){var e;Object.defineProperty(n,"__esModule",{value:!0}),n.replaceCodePoint=n.fromCodePoint=void 0;var u=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);n.fromCodePoint=(e=String.fromCodePoint)!==null&&e!==void 0?e:function(t){var i="";return t>65535&&(t-=65536,i+=String.fromCharCode(t>>>10&1023|55296),t=56320|t&1023),i+=String.fromCharCode(t),i};function a(t){var i;return t>=55296&&t<=57343||t>1114111?65533:(i=u.get(t))!==null&&i!==void 0?i:t}n.replaceCodePoint=a;function r(t){return(0,n.fromCodePoint)(a(t))}n.default=r})(rC)),rC}var Sre;function Ere(){return Sre||(Sre=1,(function(n){var e=Xu&&Xu.__createBinding||(Object.create?(function(A,P,C,B){B===void 0&&(B=C);var V=Object.getOwnPropertyDescriptor(P,C);(!V||("get"in V?!P.__esModule:V.writable||V.configurable))&&(V={enumerable:!0,get:function(){return P[C]}}),Object.defineProperty(A,B,V)}):(function(A,P,C,B){B===void 0&&(B=C),A[B]=P[C]})),u=Xu&&Xu.__setModuleDefault||(Object.create?(function(A,P){Object.defineProperty(A,"default",{enumerable:!0,value:P})}):function(A,P){A.default=P}),a=Xu&&Xu.__importStar||function(A){if(A&&A.__esModule)return A;var P={};if(A!=null)for(var C in A)C!=="default"&&Object.prototype.hasOwnProperty.call(A,C)&&e(P,A,C);return u(P,A),P},r=Xu&&Xu.__importDefault||function(A){return A&&A.__esModule?A:{default:A}};Object.defineProperty(n,"__esModule",{value:!0}),n.decodeXML=n.decodeHTMLStrict=n.decodeHTMLAttribute=n.decodeHTML=n.determineBranch=n.EntityDecoder=n.DecodingMode=n.BinTrieFlags=n.fromCodePoint=n.replaceCodePoint=n.decodeCodePoint=n.xmlDecodeTree=n.htmlDecodeTree=void 0;var t=r(fFe());n.htmlDecodeTree=t.default;var i=r(pFe());n.xmlDecodeTree=i.default;var o=a(wre());n.decodeCodePoint=o.default;var l=wre();Object.defineProperty(n,"replaceCodePoint",{enumerable:!0,get:function(){return l.replaceCodePoint}}),Object.defineProperty(n,"fromCodePoint",{enumerable:!0,get:function(){return l.fromCodePoint}});var s;(function(A){A[A.NUM=35]="NUM",A[A.SEMI=59]="SEMI",A[A.EQUALS=61]="EQUALS",A[A.ZERO=48]="ZERO",A[A.NINE=57]="NINE",A[A.LOWER_A=97]="LOWER_A",A[A.LOWER_F=102]="LOWER_F",A[A.LOWER_X=120]="LOWER_X",A[A.LOWER_Z=122]="LOWER_Z",A[A.UPPER_A=65]="UPPER_A",A[A.UPPER_F=70]="UPPER_F",A[A.UPPER_Z=90]="UPPER_Z"})(s||(s={}));var c=32,d;(function(A){A[A.VALUE_LENGTH=49152]="VALUE_LENGTH",A[A.BRANCH_LENGTH=16256]="BRANCH_LENGTH",A[A.JUMP_TABLE=127]="JUMP_TABLE"})(d=n.BinTrieFlags||(n.BinTrieFlags={}));function f(A){return A>=s.ZERO&&A<=s.NINE}function p(A){return A>=s.UPPER_A&&A<=s.UPPER_F||A>=s.LOWER_A&&A<=s.LOWER_F}function h(A){return A>=s.UPPER_A&&A<=s.UPPER_Z||A>=s.LOWER_A&&A<=s.LOWER_Z||f(A)}function g(A){return A===s.EQUALS||h(A)}var _;(function(A){A[A.EntityStart=0]="EntityStart",A[A.NumericStart=1]="NumericStart",A[A.NumericDecimal=2]="NumericDecimal",A[A.NumericHex=3]="NumericHex",A[A.NamedEntity=4]="NamedEntity"})(_||(_={}));var m;(function(A){A[A.Legacy=0]="Legacy",A[A.Strict=1]="Strict",A[A.Attribute=2]="Attribute"})(m=n.DecodingMode||(n.DecodingMode={}));var w=(function(){function A(P,C,B){this.decodeTree=P,this.emitCodePoint=C,this.errors=B,this.state=_.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=m.Strict}return A.prototype.startEntity=function(P){this.decodeMode=P,this.state=_.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1},A.prototype.write=function(P,C){switch(this.state){case _.EntityStart:return P.charCodeAt(C)===s.NUM?(this.state=_.NumericStart,this.consumed+=1,this.stateNumericStart(P,C+1)):(this.state=_.NamedEntity,this.stateNamedEntity(P,C));case _.NumericStart:return this.stateNumericStart(P,C);case _.NumericDecimal:return this.stateNumericDecimal(P,C);case _.NumericHex:return this.stateNumericHex(P,C);case _.NamedEntity:return this.stateNamedEntity(P,C)}},A.prototype.stateNumericStart=function(P,C){return C>=P.length?-1:(P.charCodeAt(C)|c)===s.LOWER_X?(this.state=_.NumericHex,this.consumed+=1,this.stateNumericHex(P,C+1)):(this.state=_.NumericDecimal,this.stateNumericDecimal(P,C))},A.prototype.addToNumericResult=function(P,C,B,V){if(C!==B){var U=B-C;this.result=this.result*Math.pow(V,U)+parseInt(P.substr(C,U),V),this.consumed+=U}},A.prototype.stateNumericHex=function(P,C){for(var B=C;C<P.length;){var V=P.charCodeAt(C);if(f(V)||p(V))C+=1;else return this.addToNumericResult(P,B,C,16),this.emitNumericEntity(V,3)}return this.addToNumericResult(P,B,C,16),-1},A.prototype.stateNumericDecimal=function(P,C){for(var B=C;C<P.length;){var V=P.charCodeAt(C);if(f(V))C+=1;else return this.addToNumericResult(P,B,C,10),this.emitNumericEntity(V,2)}return this.addToNumericResult(P,B,C,10),-1},A.prototype.emitNumericEntity=function(P,C){var B;if(this.consumed<=C)return(B=this.errors)===null||B===void 0||B.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(P===s.SEMI)this.consumed+=1;else if(this.decodeMode===m.Strict)return 0;return this.emitCodePoint((0,o.replaceCodePoint)(this.result),this.consumed),this.errors&&(P!==s.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed},A.prototype.stateNamedEntity=function(P,C){for(var B=this.decodeTree,V=B[this.treeIndex],U=(V&d.VALUE_LENGTH)>>14;C<P.length;C++,this.excess++){var G=P.charCodeAt(C);if(this.treeIndex=E(B,V,this.treeIndex+Math.max(1,U),G),this.treeIndex<0)return this.result===0||this.decodeMode===m.Attribute&&(U===0||g(G))?0:this.emitNotTerminatedNamedEntity();if(V=B[this.treeIndex],U=(V&d.VALUE_LENGTH)>>14,U!==0){if(G===s.SEMI)return this.emitNamedEntityData(this.treeIndex,U,this.consumed+this.excess);this.decodeMode!==m.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1},A.prototype.emitNotTerminatedNamedEntity=function(){var P,C=this,B=C.result,V=C.decodeTree,U=(V[B]&d.VALUE_LENGTH)>>14;return this.emitNamedEntityData(B,U,this.consumed),(P=this.errors)===null||P===void 0||P.missingSemicolonAfterCharacterReference(),this.consumed},A.prototype.emitNamedEntityData=function(P,C,B){var V=this.decodeTree;return this.emitCodePoint(C===1?V[P]&~d.VALUE_LENGTH:V[P+1],B),C===3&&this.emitCodePoint(V[P+2],B),B},A.prototype.end=function(){var P;switch(this.state){case _.NamedEntity:return this.result!==0&&(this.decodeMode!==m.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case _.NumericDecimal:return this.emitNumericEntity(0,2);case _.NumericHex:return this.emitNumericEntity(0,3);case _.NumericStart:return(P=this.errors)===null||P===void 0||P.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case _.EntityStart:return 0}},A})();n.EntityDecoder=w;function T(A){var P="",C=new w(A,function(B){return P+=(0,o.fromCodePoint)(B)});return function(V,U){for(var G=0,J=0;(J=V.indexOf("&",J))>=0;){P+=V.slice(G,J),C.startEntity(U);var ne=C.write(V,J+1);if(ne<0){G=J+C.end();break}G=J+ne,J=ne===0?G+1:G}var W=P+V.slice(G);return P="",W}}function E(A,P,C,B){var V=(P&d.BRANCH_LENGTH)>>7,U=P&d.JUMP_TABLE;if(V===0)return U!==0&&B===U?C:-1;if(U){var G=B-U;return G<0||G>=V?-1:A[C+G]-1}for(var J=C,ne=J+V-1;J<=ne;){var W=J+ne>>>1,ee=A[W];if(ee<B)J=W+1;else if(ee>B)ne=W-1;else return A[W+V]}return-1}n.determineBranch=E;var S=T(t.default),N=T(i.default);function j(A,P){return P===void 0&&(P=m.Legacy),S(A,P)}n.decodeHTML=j;function q(A){return S(A,m.Attribute)}n.decodeHTMLAttribute=q;function O(A){return S(A,m.Strict)}n.decodeHTMLStrict=O;function I(A){return N(A,m.Strict)}n.decodeXML=I})(Xu)),Xu}var js={},uD={},Are;function hFe(){if(Are)return uD;Are=1,Object.defineProperty(uD,"__esModule",{value:!0});function n(e){for(var u=1;u<e.length;u++)e[u][0]+=e[u-1][0]+1;return e}return uD.default=new Map(n([[9,"&Tab;"],[0,"&NewLine;"],[22,"&excl;"],[0,"&quot;"],[0,"&num;"],[0,"&dollar;"],[0,"&percnt;"],[0,"&amp;"],[0,"&apos;"],[0,"&lpar;"],[0,"&rpar;"],[0,"&ast;"],[0,"&plus;"],[0,"&comma;"],[1,"&period;"],[0,"&sol;"],[10,"&colon;"],[0,"&semi;"],[0,{v:"&lt;",n:8402,o:"&nvlt;"}],[0,{v:"&equals;",n:8421,o:"&bne;"}],[0,{v:"&gt;",n:8402,o:"&nvgt;"}],[0,"&quest;"],[0,"&commat;"],[26,"&lbrack;"],[0,"&bsol;"],[0,"&rbrack;"],[0,"&Hat;"],[0,"&lowbar;"],[0,"&DiacriticalGrave;"],[5,{n:106,o:"&fjlig;"}],[20,"&lbrace;"],[0,"&verbar;"],[0,"&rbrace;"],[34,"&nbsp;"],[0,"&iexcl;"],[0,"&cent;"],[0,"&pound;"],[0,"&curren;"],[0,"&yen;"],[0,"&brvbar;"],[0,"&sect;"],[0,"&die;"],[0,"&copy;"],[0,"&ordf;"],[0,"&laquo;"],[0,"&not;"],[0,"&shy;"],[0,"&circledR;"],[0,"&macr;"],[0,"&deg;"],[0,"&PlusMinus;"],[0,"&sup2;"],[0,"&sup3;"],[0,"&acute;"],[0,"&micro;"],[0,"&para;"],[0,"&centerdot;"],[0,"&cedil;"],[0,"&sup1;"],[0,"&ordm;"],[0,"&raquo;"],[0,"&frac14;"],[0,"&frac12;"],[0,"&frac34;"],[0,"&iquest;"],[0,"&Agrave;"],[0,"&Aacute;"],[0,"&Acirc;"],[0,"&Atilde;"],[0,"&Auml;"],[0,"&angst;"],[0,"&AElig;"],[0,"&Ccedil;"],[0,"&Egrave;"],[0,"&Eacute;"],[0,"&Ecirc;"],[0,"&Euml;"],[0,"&Igrave;"],[0,"&Iacute;"],[0,"&Icirc;"],[0,"&Iuml;"],[0,"&ETH;"],[0,"&Ntilde;"],[0,"&Ograve;"],[0,"&Oacute;"],[0,"&Ocirc;"],[0,"&Otilde;"],[0,"&Ouml;"],[0,"&times;"],[0,"&Oslash;"],[0,"&Ugrave;"],[0,"&Uacute;"],[0,"&Ucirc;"],[0,"&Uuml;"],[0,"&Yacute;"],[0,"&THORN;"],[0,"&szlig;"],[0,"&agrave;"],[0,"&aacute;"],[0,"&acirc;"],[0,"&atilde;"],[0,"&auml;"],[0,"&aring;"],[0,"&aelig;"],[0,"&ccedil;"],[0,"&egrave;"],[0,"&eacute;"],[0,"&ecirc;"],[0,"&euml;"],[0,"&igrave;"],[0,"&iacute;"],[0,"&icirc;"],[0,"&iuml;"],[0,"&eth;"],[0,"&ntilde;"],[0,"&ograve;"],[0,"&oacute;"],[0,"&ocirc;"],[0,"&otilde;"],[0,"&ouml;"],[0,"&div;"],[0,"&oslash;"],[0,"&ugrave;"],[0,"&uacute;"],[0,"&ucirc;"],[0,"&uuml;"],[0,"&yacute;"],[0,"&thorn;"],[0,"&yuml;"],[0,"&Amacr;"],[0,"&amacr;"],[0,"&Abreve;"],[0,"&abreve;"],[0,"&Aogon;"],[0,"&aogon;"],[0,"&Cacute;"],[0,"&cacute;"],[0,"&Ccirc;"],[0,"&ccirc;"],[0,"&Cdot;"],[0,"&cdot;"],[0,"&Ccaron;"],[0,"&ccaron;"],[0,"&Dcaron;"],[0,"&dcaron;"],[0,"&Dstrok;"],[0,"&dstrok;"],[0,"&Emacr;"],[0,"&emacr;"],[2,"&Edot;"],[0,"&edot;"],[0,"&Eogon;"],[0,"&eogon;"],[0,"&Ecaron;"],[0,"&ecaron;"],[0,"&Gcirc;"],[0,"&gcirc;"],[0,"&Gbreve;"],[0,"&gbreve;"],[0,"&Gdot;"],[0,"&gdot;"],[0,"&Gcedil;"],[1,"&Hcirc;"],[0,"&hcirc;"],[0,"&Hstrok;"],[0,"&hstrok;"],[0,"&Itilde;"],[0,"&itilde;"],[0,"&Imacr;"],[0,"&imacr;"],[2,"&Iogon;"],[0,"&iogon;"],[0,"&Idot;"],[0,"&imath;"],[0,"&IJlig;"],[0,"&ijlig;"],[0,"&Jcirc;"],[0,"&jcirc;"],[0,"&Kcedil;"],[0,"&kcedil;"],[0,"&kgreen;"],[0,"&Lacute;"],[0,"&lacute;"],[0,"&Lcedil;"],[0,"&lcedil;"],[0,"&Lcaron;"],[0,"&lcaron;"],[0,"&Lmidot;"],[0,"&lmidot;"],[0,"&Lstrok;"],[0,"&lstrok;"],[0,"&Nacute;"],[0,"&nacute;"],[0,"&Ncedil;"],[0,"&ncedil;"],[0,"&Ncaron;"],[0,"&ncaron;"],[0,"&napos;"],[0,"&ENG;"],[0,"&eng;"],[0,"&Omacr;"],[0,"&omacr;"],[2,"&Odblac;"],[0,"&odblac;"],[0,"&OElig;"],[0,"&oelig;"],[0,"&Racute;"],[0,"&racute;"],[0,"&Rcedil;"],[0,"&rcedil;"],[0,"&Rcaron;"],[0,"&rcaron;"],[0,"&Sacute;"],[0,"&sacute;"],[0,"&Scirc;"],[0,"&scirc;"],[0,"&Scedil;"],[0,"&scedil;"],[0,"&Scaron;"],[0,"&scaron;"],[0,"&Tcedil;"],[0,"&tcedil;"],[0,"&Tcaron;"],[0,"&tcaron;"],[0,"&Tstrok;"],[0,"&tstrok;"],[0,"&Utilde;"],[0,"&utilde;"],[0,"&Umacr;"],[0,"&umacr;"],[0,"&Ubreve;"],[0,"&ubreve;"],[0,"&Uring;"],[0,"&uring;"],[0,"&Udblac;"],[0,"&udblac;"],[0,"&Uogon;"],[0,"&uogon;"],[0,"&Wcirc;"],[0,"&wcirc;"],[0,"&Ycirc;"],[0,"&ycirc;"],[0,"&Yuml;"],[0,"&Zacute;"],[0,"&zacute;"],[0,"&Zdot;"],[0,"&zdot;"],[0,"&Zcaron;"],[0,"&zcaron;"],[19,"&fnof;"],[34,"&imped;"],[63,"&gacute;"],[65,"&jmath;"],[142,"&circ;"],[0,"&caron;"],[16,"&breve;"],[0,"&DiacriticalDot;"],[0,"&ring;"],[0,"&ogon;"],[0,"&DiacriticalTilde;"],[0,"&dblac;"],[51,"&DownBreve;"],[127,"&Alpha;"],[0,"&Beta;"],[0,"&Gamma;"],[0,"&Delta;"],[0,"&Epsilon;"],[0,"&Zeta;"],[0,"&Eta;"],[0,"&Theta;"],[0,"&Iota;"],[0,"&Kappa;"],[0,"&Lambda;"],[0,"&Mu;"],[0,"&Nu;"],[0,"&Xi;"],[0,"&Omicron;"],[0,"&Pi;"],[0,"&Rho;"],[1,"&Sigma;"],[0,"&Tau;"],[0,"&Upsilon;"],[0,"&Phi;"],[0,"&Chi;"],[0,"&Psi;"],[0,"&ohm;"],[7,"&alpha;"],[0,"&beta;"],[0,"&gamma;"],[0,"&delta;"],[0,"&epsi;"],[0,"&zeta;"],[0,"&eta;"],[0,"&theta;"],[0,"&iota;"],[0,"&kappa;"],[0,"&lambda;"],[0,"&mu;"],[0,"&nu;"],[0,"&xi;"],[0,"&omicron;"],[0,"&pi;"],[0,"&rho;"],[0,"&sigmaf;"],[0,"&sigma;"],[0,"&tau;"],[0,"&upsi;"],[0,"&phi;"],[0,"&chi;"],[0,"&psi;"],[0,"&omega;"],[7,"&thetasym;"],[0,"&Upsi;"],[2,"&phiv;"],[0,"&piv;"],[5,"&Gammad;"],[0,"&digamma;"],[18,"&kappav;"],[0,"&rhov;"],[3,"&epsiv;"],[0,"&backepsilon;"],[10,"&IOcy;"],[0,"&DJcy;"],[0,"&GJcy;"],[0,"&Jukcy;"],[0,"&DScy;"],[0,"&Iukcy;"],[0,"&YIcy;"],[0,"&Jsercy;"],[0,"&LJcy;"],[0,"&NJcy;"],[0,"&TSHcy;"],[0,"&KJcy;"],[1,"&Ubrcy;"],[0,"&DZcy;"],[0,"&Acy;"],[0,"&Bcy;"],[0,"&Vcy;"],[0,"&Gcy;"],[0,"&Dcy;"],[0,"&IEcy;"],[0,"&ZHcy;"],[0,"&Zcy;"],[0,"&Icy;"],[0,"&Jcy;"],[0,"&Kcy;"],[0,"&Lcy;"],[0,"&Mcy;"],[0,"&Ncy;"],[0,"&Ocy;"],[0,"&Pcy;"],[0,"&Rcy;"],[0,"&Scy;"],[0,"&Tcy;"],[0,"&Ucy;"],[0,"&Fcy;"],[0,"&KHcy;"],[0,"&TScy;"],[0,"&CHcy;"],[0,"&SHcy;"],[0,"&SHCHcy;"],[0,"&HARDcy;"],[0,"&Ycy;"],[0,"&SOFTcy;"],[0,"&Ecy;"],[0,"&YUcy;"],[0,"&YAcy;"],[0,"&acy;"],[0,"&bcy;"],[0,"&vcy;"],[0,"&gcy;"],[0,"&dcy;"],[0,"&iecy;"],[0,"&zhcy;"],[0,"&zcy;"],[0,"&icy;"],[0,"&jcy;"],[0,"&kcy;"],[0,"&lcy;"],[0,"&mcy;"],[0,"&ncy;"],[0,"&ocy;"],[0,"&pcy;"],[0,"&rcy;"],[0,"&scy;"],[0,"&tcy;"],[0,"&ucy;"],[0,"&fcy;"],[0,"&khcy;"],[0,"&tscy;"],[0,"&chcy;"],[0,"&shcy;"],[0,"&shchcy;"],[0,"&hardcy;"],[0,"&ycy;"],[0,"&softcy;"],[0,"&ecy;"],[0,"&yucy;"],[0,"&yacy;"],[1,"&iocy;"],[0,"&djcy;"],[0,"&gjcy;"],[0,"&jukcy;"],[0,"&dscy;"],[0,"&iukcy;"],[0,"&yicy;"],[0,"&jsercy;"],[0,"&ljcy;"],[0,"&njcy;"],[0,"&tshcy;"],[0,"&kjcy;"],[1,"&ubrcy;"],[0,"&dzcy;"],[7074,"&ensp;"],[0,"&emsp;"],[0,"&emsp13;"],[0,"&emsp14;"],[1,"&numsp;"],[0,"&puncsp;"],[0,"&ThinSpace;"],[0,"&hairsp;"],[0,"&NegativeMediumSpace;"],[0,"&zwnj;"],[0,"&zwj;"],[0,"&lrm;"],[0,"&rlm;"],[0,"&dash;"],[2,"&ndash;"],[0,"&mdash;"],[0,"&horbar;"],[0,"&Verbar;"],[1,"&lsquo;"],[0,"&CloseCurlyQuote;"],[0,"&lsquor;"],[1,"&ldquo;"],[0,"&CloseCurlyDoubleQuote;"],[0,"&bdquo;"],[1,"&dagger;"],[0,"&Dagger;"],[0,"&bull;"],[2,"&nldr;"],[0,"&hellip;"],[9,"&permil;"],[0,"&pertenk;"],[0,"&prime;"],[0,"&Prime;"],[0,"&tprime;"],[0,"&backprime;"],[3,"&lsaquo;"],[0,"&rsaquo;"],[3,"&oline;"],[2,"&caret;"],[1,"&hybull;"],[0,"&frasl;"],[10,"&bsemi;"],[7,"&qprime;"],[7,{v:"&MediumSpace;",n:8202,o:"&ThickSpace;"}],[0,"&NoBreak;"],[0,"&af;"],[0,"&InvisibleTimes;"],[0,"&ic;"],[72,"&euro;"],[46,"&tdot;"],[0,"&DotDot;"],[37,"&complexes;"],[2,"&incare;"],[4,"&gscr;"],[0,"&hamilt;"],[0,"&Hfr;"],[0,"&Hopf;"],[0,"&planckh;"],[0,"&hbar;"],[0,"&imagline;"],[0,"&Ifr;"],[0,"&lagran;"],[0,"&ell;"],[1,"&naturals;"],[0,"&numero;"],[0,"&copysr;"],[0,"&weierp;"],[0,"&Popf;"],[0,"&Qopf;"],[0,"&realine;"],[0,"&real;"],[0,"&reals;"],[0,"&rx;"],[3,"&trade;"],[1,"&integers;"],[2,"&mho;"],[0,"&zeetrf;"],[0,"&iiota;"],[2,"&bernou;"],[0,"&Cayleys;"],[1,"&escr;"],[0,"&Escr;"],[0,"&Fouriertrf;"],[1,"&Mellintrf;"],[0,"&order;"],[0,"&alefsym;"],[0,"&beth;"],[0,"&gimel;"],[0,"&daleth;"],[12,"&CapitalDifferentialD;"],[0,"&dd;"],[0,"&ee;"],[0,"&ii;"],[10,"&frac13;"],[0,"&frac23;"],[0,"&frac15;"],[0,"&frac25;"],[0,"&frac35;"],[0,"&frac45;"],[0,"&frac16;"],[0,"&frac56;"],[0,"&frac18;"],[0,"&frac38;"],[0,"&frac58;"],[0,"&frac78;"],[49,"&larr;"],[0,"&ShortUpArrow;"],[0,"&rarr;"],[0,"&darr;"],[0,"&harr;"],[0,"&updownarrow;"],[0,"&nwarr;"],[0,"&nearr;"],[0,"&LowerRightArrow;"],[0,"&LowerLeftArrow;"],[0,"&nlarr;"],[0,"&nrarr;"],[1,{v:"&rarrw;",n:824,o:"&nrarrw;"}],[0,"&Larr;"],[0,"&Uarr;"],[0,"&Rarr;"],[0,"&Darr;"],[0,"&larrtl;"],[0,"&rarrtl;"],[0,"&LeftTeeArrow;"],[0,"&mapstoup;"],[0,"&map;"],[0,"&DownTeeArrow;"],[1,"&hookleftarrow;"],[0,"&hookrightarrow;"],[0,"&larrlp;"],[0,"&looparrowright;"],[0,"&harrw;"],[0,"&nharr;"],[1,"&lsh;"],[0,"&rsh;"],[0,"&ldsh;"],[0,"&rdsh;"],[1,"&crarr;"],[0,"&cularr;"],[0,"&curarr;"],[2,"&circlearrowleft;"],[0,"&circlearrowright;"],[0,"&leftharpoonup;"],[0,"&DownLeftVector;"],[0,"&RightUpVector;"],[0,"&LeftUpVector;"],[0,"&rharu;"],[0,"&DownRightVector;"],[0,"&dharr;"],[0,"&dharl;"],[0,"&RightArrowLeftArrow;"],[0,"&udarr;"],[0,"&LeftArrowRightArrow;"],[0,"&leftleftarrows;"],[0,"&upuparrows;"],[0,"&rightrightarrows;"],[0,"&ddarr;"],[0,"&leftrightharpoons;"],[0,"&Equilibrium;"],[0,"&nlArr;"],[0,"&nhArr;"],[0,"&nrArr;"],[0,"&DoubleLeftArrow;"],[0,"&DoubleUpArrow;"],[0,"&DoubleRightArrow;"],[0,"&dArr;"],[0,"&DoubleLeftRightArrow;"],[0,"&DoubleUpDownArrow;"],[0,"&nwArr;"],[0,"&neArr;"],[0,"&seArr;"],[0,"&swArr;"],[0,"&lAarr;"],[0,"&rAarr;"],[1,"&zigrarr;"],[6,"&larrb;"],[0,"&rarrb;"],[15,"&DownArrowUpArrow;"],[7,"&loarr;"],[0,"&roarr;"],[0,"&hoarr;"],[0,"&forall;"],[0,"&comp;"],[0,{v:"&part;",n:824,o:"&npart;"}],[0,"&exist;"],[0,"&nexist;"],[0,"&empty;"],[1,"&Del;"],[0,"&Element;"],[0,"&NotElement;"],[1,"&ni;"],[0,"&notni;"],[2,"&prod;"],[0,"&coprod;"],[0,"&sum;"],[0,"&minus;"],[0,"&MinusPlus;"],[0,"&dotplus;"],[1,"&Backslash;"],[0,"&lowast;"],[0,"&compfn;"],[1,"&radic;"],[2,"&prop;"],[0,"&infin;"],[0,"&angrt;"],[0,{v:"&ang;",n:8402,o:"&nang;"}],[0,"&angmsd;"],[0,"&angsph;"],[0,"&mid;"],[0,"&nmid;"],[0,"&DoubleVerticalBar;"],[0,"&NotDoubleVerticalBar;"],[0,"&and;"],[0,"&or;"],[0,{v:"&cap;",n:65024,o:"&caps;"}],[0,{v:"&cup;",n:65024,o:"&cups;"}],[0,"&int;"],[0,"&Int;"],[0,"&iiint;"],[0,"&conint;"],[0,"&Conint;"],[0,"&Cconint;"],[0,"&cwint;"],[0,"&ClockwiseContourIntegral;"],[0,"&awconint;"],[0,"&there4;"],[0,"&becaus;"],[0,"&ratio;"],[0,"&Colon;"],[0,"&dotminus;"],[1,"&mDDot;"],[0,"&homtht;"],[0,{v:"&sim;",n:8402,o:"&nvsim;"}],[0,{v:"&backsim;",n:817,o:"&race;"}],[0,{v:"&ac;",n:819,o:"&acE;"}],[0,"&acd;"],[0,"&VerticalTilde;"],[0,"&NotTilde;"],[0,{v:"&eqsim;",n:824,o:"&nesim;"}],[0,"&sime;"],[0,"&NotTildeEqual;"],[0,"&cong;"],[0,"&simne;"],[0,"&ncong;"],[0,"&ap;"],[0,"&nap;"],[0,"&ape;"],[0,{v:"&apid;",n:824,o:"&napid;"}],[0,"&backcong;"],[0,{v:"&asympeq;",n:8402,o:"&nvap;"}],[0,{v:"&bump;",n:824,o:"&nbump;"}],[0,{v:"&bumpe;",n:824,o:"&nbumpe;"}],[0,{v:"&doteq;",n:824,o:"&nedot;"}],[0,"&doteqdot;"],[0,"&efDot;"],[0,"&erDot;"],[0,"&Assign;"],[0,"&ecolon;"],[0,"&ecir;"],[0,"&circeq;"],[1,"&wedgeq;"],[0,"&veeeq;"],[1,"&triangleq;"],[2,"&equest;"],[0,"&ne;"],[0,{v:"&Congruent;",n:8421,o:"&bnequiv;"}],[0,"&nequiv;"],[1,{v:"&le;",n:8402,o:"&nvle;"}],[0,{v:"&ge;",n:8402,o:"&nvge;"}],[0,{v:"&lE;",n:824,o:"&nlE;"}],[0,{v:"&gE;",n:824,o:"&ngE;"}],[0,{v:"&lnE;",n:65024,o:"&lvertneqq;"}],[0,{v:"&gnE;",n:65024,o:"&gvertneqq;"}],[0,{v:"&ll;",n:new Map(n([[824,"&nLtv;"],[7577,"&nLt;"]]))}],[0,{v:"&gg;",n:new Map(n([[824,"&nGtv;"],[7577,"&nGt;"]]))}],[0,"&between;"],[0,"&NotCupCap;"],[0,"&nless;"],[0,"&ngt;"],[0,"&nle;"],[0,"&nge;"],[0,"&lesssim;"],[0,"&GreaterTilde;"],[0,"&nlsim;"],[0,"&ngsim;"],[0,"&LessGreater;"],[0,"&gl;"],[0,"&NotLessGreater;"],[0,"&NotGreaterLess;"],[0,"&pr;"],[0,"&sc;"],[0,"&prcue;"],[0,"&sccue;"],[0,"&PrecedesTilde;"],[0,{v:"&scsim;",n:824,o:"&NotSucceedsTilde;"}],[0,"&NotPrecedes;"],[0,"&NotSucceeds;"],[0,{v:"&sub;",n:8402,o:"&NotSubset;"}],[0,{v:"&sup;",n:8402,o:"&NotSuperset;"}],[0,"&nsub;"],[0,"&nsup;"],[0,"&sube;"],[0,"&supe;"],[0,"&NotSubsetEqual;"],[0,"&NotSupersetEqual;"],[0,{v:"&subne;",n:65024,o:"&varsubsetneq;"}],[0,{v:"&supne;",n:65024,o:"&varsupsetneq;"}],[1,"&cupdot;"],[0,"&UnionPlus;"],[0,{v:"&sqsub;",n:824,o:"&NotSquareSubset;"}],[0,{v:"&sqsup;",n:824,o:"&NotSquareSuperset;"}],[0,"&sqsube;"],[0,"&sqsupe;"],[0,{v:"&sqcap;",n:65024,o:"&sqcaps;"}],[0,{v:"&sqcup;",n:65024,o:"&sqcups;"}],[0,"&CirclePlus;"],[0,"&CircleMinus;"],[0,"&CircleTimes;"],[0,"&osol;"],[0,"&CircleDot;"],[0,"&circledcirc;"],[0,"&circledast;"],[1,"&circleddash;"],[0,"&boxplus;"],[0,"&boxminus;"],[0,"&boxtimes;"],[0,"&dotsquare;"],[0,"&RightTee;"],[0,"&dashv;"],[0,"&DownTee;"],[0,"&bot;"],[1,"&models;"],[0,"&DoubleRightTee;"],[0,"&Vdash;"],[0,"&Vvdash;"],[0,"&VDash;"],[0,"&nvdash;"],[0,"&nvDash;"],[0,"&nVdash;"],[0,"&nVDash;"],[0,"&prurel;"],[1,"&LeftTriangle;"],[0,"&RightTriangle;"],[0,{v:"&LeftTriangleEqual;",n:8402,o:"&nvltrie;"}],[0,{v:"&RightTriangleEqual;",n:8402,o:"&nvrtrie;"}],[0,"&origof;"],[0,"&imof;"],[0,"&multimap;"],[0,"&hercon;"],[0,"&intcal;"],[0,"&veebar;"],[1,"&barvee;"],[0,"&angrtvb;"],[0,"&lrtri;"],[0,"&bigwedge;"],[0,"&bigvee;"],[0,"&bigcap;"],[0,"&bigcup;"],[0,"&diam;"],[0,"&sdot;"],[0,"&sstarf;"],[0,"&divideontimes;"],[0,"&bowtie;"],[0,"&ltimes;"],[0,"&rtimes;"],[0,"&leftthreetimes;"],[0,"&rightthreetimes;"],[0,"&backsimeq;"],[0,"&curlyvee;"],[0,"&curlywedge;"],[0,"&Sub;"],[0,"&Sup;"],[0,"&Cap;"],[0,"&Cup;"],[0,"&fork;"],[0,"&epar;"],[0,"&lessdot;"],[0,"&gtdot;"],[0,{v:"&Ll;",n:824,o:"&nLl;"}],[0,{v:"&Gg;",n:824,o:"&nGg;"}],[0,{v:"&leg;",n:65024,o:"&lesg;"}],[0,{v:"&gel;",n:65024,o:"&gesl;"}],[2,"&cuepr;"],[0,"&cuesc;"],[0,"&NotPrecedesSlantEqual;"],[0,"&NotSucceedsSlantEqual;"],[0,"&NotSquareSubsetEqual;"],[0,"&NotSquareSupersetEqual;"],[2,"&lnsim;"],[0,"&gnsim;"],[0,"&precnsim;"],[0,"&scnsim;"],[0,"&nltri;"],[0,"&NotRightTriangle;"],[0,"&nltrie;"],[0,"&NotRightTriangleEqual;"],[0,"&vellip;"],[0,"&ctdot;"],[0,"&utdot;"],[0,"&dtdot;"],[0,"&disin;"],[0,"&isinsv;"],[0,"&isins;"],[0,{v:"&isindot;",n:824,o:"&notindot;"}],[0,"&notinvc;"],[0,"&notinvb;"],[1,{v:"&isinE;",n:824,o:"&notinE;"}],[0,"&nisd;"],[0,"&xnis;"],[0,"&nis;"],[0,"&notnivc;"],[0,"&notnivb;"],[6,"&barwed;"],[0,"&Barwed;"],[1,"&lceil;"],[0,"&rceil;"],[0,"&LeftFloor;"],[0,"&rfloor;"],[0,"&drcrop;"],[0,"&dlcrop;"],[0,"&urcrop;"],[0,"&ulcrop;"],[0,"&bnot;"],[1,"&profline;"],[0,"&profsurf;"],[1,"&telrec;"],[0,"&target;"],[5,"&ulcorn;"],[0,"&urcorn;"],[0,"&dlcorn;"],[0,"&drcorn;"],[2,"&frown;"],[0,"&smile;"],[9,"&cylcty;"],[0,"&profalar;"],[7,"&topbot;"],[6,"&ovbar;"],[1,"&solbar;"],[60,"&angzarr;"],[51,"&lmoustache;"],[0,"&rmoustache;"],[2,"&OverBracket;"],[0,"&bbrk;"],[0,"&bbrktbrk;"],[37,"&OverParenthesis;"],[0,"&UnderParenthesis;"],[0,"&OverBrace;"],[0,"&UnderBrace;"],[2,"&trpezium;"],[4,"&elinters;"],[59,"&blank;"],[164,"&circledS;"],[55,"&boxh;"],[1,"&boxv;"],[9,"&boxdr;"],[3,"&boxdl;"],[3,"&boxur;"],[3,"&boxul;"],[3,"&boxvr;"],[7,"&boxvl;"],[7,"&boxhd;"],[7,"&boxhu;"],[7,"&boxvh;"],[19,"&boxH;"],[0,"&boxV;"],[0,"&boxdR;"],[0,"&boxDr;"],[0,"&boxDR;"],[0,"&boxdL;"],[0,"&boxDl;"],[0,"&boxDL;"],[0,"&boxuR;"],[0,"&boxUr;"],[0,"&boxUR;"],[0,"&boxuL;"],[0,"&boxUl;"],[0,"&boxUL;"],[0,"&boxvR;"],[0,"&boxVr;"],[0,"&boxVR;"],[0,"&boxvL;"],[0,"&boxVl;"],[0,"&boxVL;"],[0,"&boxHd;"],[0,"&boxhD;"],[0,"&boxHD;"],[0,"&boxHu;"],[0,"&boxhU;"],[0,"&boxHU;"],[0,"&boxvH;"],[0,"&boxVh;"],[0,"&boxVH;"],[19,"&uhblk;"],[3,"&lhblk;"],[3,"&block;"],[8,"&blk14;"],[0,"&blk12;"],[0,"&blk34;"],[13,"&square;"],[8,"&blacksquare;"],[0,"&EmptyVerySmallSquare;"],[1,"&rect;"],[0,"&marker;"],[2,"&fltns;"],[1,"&bigtriangleup;"],[0,"&blacktriangle;"],[0,"&triangle;"],[2,"&blacktriangleright;"],[0,"&rtri;"],[3,"&bigtriangledown;"],[0,"&blacktriangledown;"],[0,"&dtri;"],[2,"&blacktriangleleft;"],[0,"&ltri;"],[6,"&loz;"],[0,"&cir;"],[32,"&tridot;"],[2,"&bigcirc;"],[8,"&ultri;"],[0,"&urtri;"],[0,"&lltri;"],[0,"&EmptySmallSquare;"],[0,"&FilledSmallSquare;"],[8,"&bigstar;"],[0,"&star;"],[7,"&phone;"],[49,"&female;"],[1,"&male;"],[29,"&spades;"],[2,"&clubs;"],[1,"&hearts;"],[0,"&diamondsuit;"],[3,"&sung;"],[2,"&flat;"],[0,"&natural;"],[0,"&sharp;"],[163,"&check;"],[3,"&cross;"],[8,"&malt;"],[21,"&sext;"],[33,"&VerticalSeparator;"],[25,"&lbbrk;"],[0,"&rbbrk;"],[84,"&bsolhsub;"],[0,"&suphsol;"],[28,"&LeftDoubleBracket;"],[0,"&RightDoubleBracket;"],[0,"&lang;"],[0,"&rang;"],[0,"&Lang;"],[0,"&Rang;"],[0,"&loang;"],[0,"&roang;"],[7,"&longleftarrow;"],[0,"&longrightarrow;"],[0,"&longleftrightarrow;"],[0,"&DoubleLongLeftArrow;"],[0,"&DoubleLongRightArrow;"],[0,"&DoubleLongLeftRightArrow;"],[1,"&longmapsto;"],[2,"&dzigrarr;"],[258,"&nvlArr;"],[0,"&nvrArr;"],[0,"&nvHarr;"],[0,"&Map;"],[6,"&lbarr;"],[0,"&bkarow;"],[0,"&lBarr;"],[0,"&dbkarow;"],[0,"&drbkarow;"],[0,"&DDotrahd;"],[0,"&UpArrowBar;"],[0,"&DownArrowBar;"],[2,"&Rarrtl;"],[2,"&latail;"],[0,"&ratail;"],[0,"&lAtail;"],[0,"&rAtail;"],[0,"&larrfs;"],[0,"&rarrfs;"],[0,"&larrbfs;"],[0,"&rarrbfs;"],[2,"&nwarhk;"],[0,"&nearhk;"],[0,"&hksearow;"],[0,"&hkswarow;"],[0,"&nwnear;"],[0,"&nesear;"],[0,"&seswar;"],[0,"&swnwar;"],[8,{v:"&rarrc;",n:824,o:"&nrarrc;"}],[1,"&cudarrr;"],[0,"&ldca;"],[0,"&rdca;"],[0,"&cudarrl;"],[0,"&larrpl;"],[2,"&curarrm;"],[0,"&cularrp;"],[7,"&rarrpl;"],[2,"&harrcir;"],[0,"&Uarrocir;"],[0,"&lurdshar;"],[0,"&ldrushar;"],[2,"&LeftRightVector;"],[0,"&RightUpDownVector;"],[0,"&DownLeftRightVector;"],[0,"&LeftUpDownVector;"],[0,"&LeftVectorBar;"],[0,"&RightVectorBar;"],[0,"&RightUpVectorBar;"],[0,"&RightDownVectorBar;"],[0,"&DownLeftVectorBar;"],[0,"&DownRightVectorBar;"],[0,"&LeftUpVectorBar;"],[0,"&LeftDownVectorBar;"],[0,"&LeftTeeVector;"],[0,"&RightTeeVector;"],[0,"&RightUpTeeVector;"],[0,"&RightDownTeeVector;"],[0,"&DownLeftTeeVector;"],[0,"&DownRightTeeVector;"],[0,"&LeftUpTeeVector;"],[0,"&LeftDownTeeVector;"],[0,"&lHar;"],[0,"&uHar;"],[0,"&rHar;"],[0,"&dHar;"],[0,"&luruhar;"],[0,"&ldrdhar;"],[0,"&ruluhar;"],[0,"&rdldhar;"],[0,"&lharul;"],[0,"&llhard;"],[0,"&rharul;"],[0,"&lrhard;"],[0,"&udhar;"],[0,"&duhar;"],[0,"&RoundImplies;"],[0,"&erarr;"],[0,"&simrarr;"],[0,"&larrsim;"],[0,"&rarrsim;"],[0,"&rarrap;"],[0,"&ltlarr;"],[1,"&gtrarr;"],[0,"&subrarr;"],[1,"&suplarr;"],[0,"&lfisht;"],[0,"&rfisht;"],[0,"&ufisht;"],[0,"&dfisht;"],[5,"&lopar;"],[0,"&ropar;"],[4,"&lbrke;"],[0,"&rbrke;"],[0,"&lbrkslu;"],[0,"&rbrksld;"],[0,"&lbrksld;"],[0,"&rbrkslu;"],[0,"&langd;"],[0,"&rangd;"],[0,"&lparlt;"],[0,"&rpargt;"],[0,"&gtlPar;"],[0,"&ltrPar;"],[3,"&vzigzag;"],[1,"&vangrt;"],[0,"&angrtvbd;"],[6,"&ange;"],[0,"&range;"],[0,"&dwangle;"],[0,"&uwangle;"],[0,"&angmsdaa;"],[0,"&angmsdab;"],[0,"&angmsdac;"],[0,"&angmsdad;"],[0,"&angmsdae;"],[0,"&angmsdaf;"],[0,"&angmsdag;"],[0,"&angmsdah;"],[0,"&bemptyv;"],[0,"&demptyv;"],[0,"&cemptyv;"],[0,"&raemptyv;"],[0,"&laemptyv;"],[0,"&ohbar;"],[0,"&omid;"],[0,"&opar;"],[1,"&operp;"],[1,"&olcross;"],[0,"&odsold;"],[1,"&olcir;"],[0,"&ofcir;"],[0,"&olt;"],[0,"&ogt;"],[0,"&cirscir;"],[0,"&cirE;"],[0,"&solb;"],[0,"&bsolb;"],[3,"&boxbox;"],[3,"&trisb;"],[0,"&rtriltri;"],[0,{v:"&LeftTriangleBar;",n:824,o:"&NotLeftTriangleBar;"}],[0,{v:"&RightTriangleBar;",n:824,o:"&NotRightTriangleBar;"}],[11,"&iinfin;"],[0,"&infintie;"],[0,"&nvinfin;"],[4,"&eparsl;"],[0,"&smeparsl;"],[0,"&eqvparsl;"],[5,"&blacklozenge;"],[8,"&RuleDelayed;"],[1,"&dsol;"],[9,"&bigodot;"],[0,"&bigoplus;"],[0,"&bigotimes;"],[1,"&biguplus;"],[1,"&bigsqcup;"],[5,"&iiiint;"],[0,"&fpartint;"],[2,"&cirfnint;"],[0,"&awint;"],[0,"&rppolint;"],[0,"&scpolint;"],[0,"&npolint;"],[0,"&pointint;"],[0,"&quatint;"],[0,"&intlarhk;"],[10,"&pluscir;"],[0,"&plusacir;"],[0,"&simplus;"],[0,"&plusdu;"],[0,"&plussim;"],[0,"&plustwo;"],[1,"&mcomma;"],[0,"&minusdu;"],[2,"&loplus;"],[0,"&roplus;"],[0,"&Cross;"],[0,"&timesd;"],[0,"&timesbar;"],[1,"&smashp;"],[0,"&lotimes;"],[0,"&rotimes;"],[0,"&otimesas;"],[0,"&Otimes;"],[0,"&odiv;"],[0,"&triplus;"],[0,"&triminus;"],[0,"&tritime;"],[0,"&intprod;"],[2,"&amalg;"],[0,"&capdot;"],[1,"&ncup;"],[0,"&ncap;"],[0,"&capand;"],[0,"&cupor;"],[0,"&cupcap;"],[0,"&capcup;"],[0,"&cupbrcap;"],[0,"&capbrcup;"],[0,"&cupcup;"],[0,"&capcap;"],[0,"&ccups;"],[0,"&ccaps;"],[2,"&ccupssm;"],[2,"&And;"],[0,"&Or;"],[0,"&andand;"],[0,"&oror;"],[0,"&orslope;"],[0,"&andslope;"],[1,"&andv;"],[0,"&orv;"],[0,"&andd;"],[0,"&ord;"],[1,"&wedbar;"],[6,"&sdote;"],[3,"&simdot;"],[2,{v:"&congdot;",n:824,o:"&ncongdot;"}],[0,"&easter;"],[0,"&apacir;"],[0,{v:"&apE;",n:824,o:"&napE;"}],[0,"&eplus;"],[0,"&pluse;"],[0,"&Esim;"],[0,"&Colone;"],[0,"&Equal;"],[1,"&ddotseq;"],[0,"&equivDD;"],[0,"&ltcir;"],[0,"&gtcir;"],[0,"&ltquest;"],[0,"&gtquest;"],[0,{v:"&leqslant;",n:824,o:"&nleqslant;"}],[0,{v:"&geqslant;",n:824,o:"&ngeqslant;"}],[0,"&lesdot;"],[0,"&gesdot;"],[0,"&lesdoto;"],[0,"&gesdoto;"],[0,"&lesdotor;"],[0,"&gesdotol;"],[0,"&lap;"],[0,"&gap;"],[0,"&lne;"],[0,"&gne;"],[0,"&lnap;"],[0,"&gnap;"],[0,"&lEg;"],[0,"&gEl;"],[0,"&lsime;"],[0,"&gsime;"],[0,"&lsimg;"],[0,"&gsiml;"],[0,"&lgE;"],[0,"&glE;"],[0,"&lesges;"],[0,"&gesles;"],[0,"&els;"],[0,"&egs;"],[0,"&elsdot;"],[0,"&egsdot;"],[0,"&el;"],[0,"&eg;"],[2,"&siml;"],[0,"&simg;"],[0,"&simlE;"],[0,"&simgE;"],[0,{v:"&LessLess;",n:824,o:"&NotNestedLessLess;"}],[0,{v:"&GreaterGreater;",n:824,o:"&NotNestedGreaterGreater;"}],[1,"&glj;"],[0,"&gla;"],[0,"&ltcc;"],[0,"&gtcc;"],[0,"&lescc;"],[0,"&gescc;"],[0,"&smt;"],[0,"&lat;"],[0,{v:"&smte;",n:65024,o:"&smtes;"}],[0,{v:"&late;",n:65024,o:"&lates;"}],[0,"&bumpE;"],[0,{v:"&PrecedesEqual;",n:824,o:"&NotPrecedesEqual;"}],[0,{v:"&sce;",n:824,o:"&NotSucceedsEqual;"}],[2,"&prE;"],[0,"&scE;"],[0,"&precneqq;"],[0,"&scnE;"],[0,"&prap;"],[0,"&scap;"],[0,"&precnapprox;"],[0,"&scnap;"],[0,"&Pr;"],[0,"&Sc;"],[0,"&subdot;"],[0,"&supdot;"],[0,"&subplus;"],[0,"&supplus;"],[0,"&submult;"],[0,"&supmult;"],[0,"&subedot;"],[0,"&supedot;"],[0,{v:"&subE;",n:824,o:"&nsubE;"}],[0,{v:"&supE;",n:824,o:"&nsupE;"}],[0,"&subsim;"],[0,"&supsim;"],[2,{v:"&subnE;",n:65024,o:"&varsubsetneqq;"}],[0,{v:"&supnE;",n:65024,o:"&varsupsetneqq;"}],[2,"&csub;"],[0,"&csup;"],[0,"&csube;"],[0,"&csupe;"],[0,"&subsup;"],[0,"&supsub;"],[0,"&subsub;"],[0,"&supsup;"],[0,"&suphsub;"],[0,"&supdsub;"],[0,"&forkv;"],[0,"&topfork;"],[0,"&mlcp;"],[8,"&Dashv;"],[1,"&Vdashl;"],[0,"&Barv;"],[0,"&vBar;"],[0,"&vBarv;"],[1,"&Vbar;"],[0,"&Not;"],[0,"&bNot;"],[0,"&rnmid;"],[0,"&cirmid;"],[0,"&midcir;"],[0,"&topcir;"],[0,"&nhpar;"],[0,"&parsim;"],[9,{v:"&parsl;",n:8421,o:"&nparsl;"}],[44343,{n:new Map(n([[56476,"&Ascr;"],[1,"&Cscr;"],[0,"&Dscr;"],[2,"&Gscr;"],[2,"&Jscr;"],[0,"&Kscr;"],[2,"&Nscr;"],[0,"&Oscr;"],[0,"&Pscr;"],[0,"&Qscr;"],[1,"&Sscr;"],[0,"&Tscr;"],[0,"&Uscr;"],[0,"&Vscr;"],[0,"&Wscr;"],[0,"&Xscr;"],[0,"&Yscr;"],[0,"&Zscr;"],[0,"&ascr;"],[0,"&bscr;"],[0,"&cscr;"],[0,"&dscr;"],[1,"&fscr;"],[1,"&hscr;"],[0,"&iscr;"],[0,"&jscr;"],[0,"&kscr;"],[0,"&lscr;"],[0,"&mscr;"],[0,"&nscr;"],[1,"&pscr;"],[0,"&qscr;"],[0,"&rscr;"],[0,"&sscr;"],[0,"&tscr;"],[0,"&uscr;"],[0,"&vscr;"],[0,"&wscr;"],[0,"&xscr;"],[0,"&yscr;"],[0,"&zscr;"],[52,"&Afr;"],[0,"&Bfr;"],[1,"&Dfr;"],[0,"&Efr;"],[0,"&Ffr;"],[0,"&Gfr;"],[2,"&Jfr;"],[0,"&Kfr;"],[0,"&Lfr;"],[0,"&Mfr;"],[0,"&Nfr;"],[0,"&Ofr;"],[0,"&Pfr;"],[0,"&Qfr;"],[1,"&Sfr;"],[0,"&Tfr;"],[0,"&Ufr;"],[0,"&Vfr;"],[0,"&Wfr;"],[0,"&Xfr;"],[0,"&Yfr;"],[1,"&afr;"],[0,"&bfr;"],[0,"&cfr;"],[0,"&dfr;"],[0,"&efr;"],[0,"&ffr;"],[0,"&gfr;"],[0,"&hfr;"],[0,"&ifr;"],[0,"&jfr;"],[0,"&kfr;"],[0,"&lfr;"],[0,"&mfr;"],[0,"&nfr;"],[0,"&ofr;"],[0,"&pfr;"],[0,"&qfr;"],[0,"&rfr;"],[0,"&sfr;"],[0,"&tfr;"],[0,"&ufr;"],[0,"&vfr;"],[0,"&wfr;"],[0,"&xfr;"],[0,"&yfr;"],[0,"&zfr;"],[0,"&Aopf;"],[0,"&Bopf;"],[1,"&Dopf;"],[0,"&Eopf;"],[0,"&Fopf;"],[0,"&Gopf;"],[1,"&Iopf;"],[0,"&Jopf;"],[0,"&Kopf;"],[0,"&Lopf;"],[0,"&Mopf;"],[1,"&Oopf;"],[3,"&Sopf;"],[0,"&Topf;"],[0,"&Uopf;"],[0,"&Vopf;"],[0,"&Wopf;"],[0,"&Xopf;"],[0,"&Yopf;"],[1,"&aopf;"],[0,"&bopf;"],[0,"&copf;"],[0,"&dopf;"],[0,"&eopf;"],[0,"&fopf;"],[0,"&gopf;"],[0,"&hopf;"],[0,"&iopf;"],[0,"&jopf;"],[0,"&kopf;"],[0,"&lopf;"],[0,"&mopf;"],[0,"&nopf;"],[0,"&oopf;"],[0,"&popf;"],[0,"&qopf;"],[0,"&ropf;"],[0,"&sopf;"],[0,"&topf;"],[0,"&uopf;"],[0,"&vopf;"],[0,"&wopf;"],[0,"&xopf;"],[0,"&yopf;"],[0,"&zopf;"]]))}],[8906,"&fflig;"],[0,"&filig;"],[0,"&fllig;"],[0,"&ffilig;"],[0,"&ffllig;"]])),uD}var nC={},Ore;function f7(){return Ore||(Ore=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.escapeText=n.escapeAttribute=n.escapeUTF8=n.escape=n.encodeXML=n.getCodePoint=n.xmlReplacer=void 0,n.xmlReplacer=/["&'<>$\x80-\uFFFF]/g;var e=new Map([[34,"&quot;"],[38,"&amp;"],[39,"&apos;"],[60,"&lt;"],[62,"&gt;"]]);n.getCodePoint=String.prototype.codePointAt!=null?function(r,t){return r.codePointAt(t)}:function(r,t){return(r.charCodeAt(t)&64512)===55296?(r.charCodeAt(t)-55296)*1024+r.charCodeAt(t+1)-56320+65536:r.charCodeAt(t)};function u(r){for(var t="",i=0,o;(o=n.xmlReplacer.exec(r))!==null;){var l=o.index,s=r.charCodeAt(l),c=e.get(s);c!==void 0?(t+=r.substring(i,l)+c,i=l+1):(t+="".concat(r.substring(i,l),"&#x").concat((0,n.getCodePoint)(r,l).toString(16),";"),i=n.xmlReplacer.lastIndex+=+((s&64512)===55296))}return t+r.substr(i)}n.encodeXML=u,n.escape=u;function a(r,t){return function(o){for(var l,s=0,c="";l=r.exec(o);)s!==l.index&&(c+=o.substring(s,l.index)),c+=t.get(l[0].charCodeAt(0)),s=l.index+1;return c+o.substring(s)}}n.escapeUTF8=a(/[&<>'"]/g,e),n.escapeAttribute=a(/["&\u00A0]/g,new Map([[34,"&quot;"],[38,"&amp;"],[160,"&nbsp;"]])),n.escapeText=a(/[&<>\u00A0]/g,new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[160,"&nbsp;"]]))})(nC)),nC}var xre;function Rre(){if(xre)return js;xre=1;var n=js&&js.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(js,"__esModule",{value:!0}),js.encodeNonAsciiHTML=js.encodeHTML=void 0;var e=n(hFe()),u=f7(),a=/[\t\n!-,./:-@[-`\f{-}$\x80-\uFFFF]/g;function r(o){return i(a,o)}js.encodeHTML=r;function t(o){return i(u.xmlReplacer,o)}js.encodeNonAsciiHTML=t;function i(o,l){for(var s="",c=0,d;(d=o.exec(l))!==null;){var f=d.index;s+=l.substring(c,f);var p=l.charCodeAt(f),h=e.default.get(p);if(typeof h=="object"){if(f+1<l.length){var g=l.charCodeAt(f+1),_=typeof h.n=="number"?h.n===g?h.o:void 0:h.n.get(g);if(_!==void 0){s+=_,c=o.lastIndex+=1;continue}}h=h.v}if(h!==void 0)s+=h,c=f+1;else{var m=(0,u.getCodePoint)(l,f);s+="&#x".concat(m.toString(16),";"),c=o.lastIndex+=+(m!==p)}}return s+l.substr(c)}return js}var Nre;function yFe(){return Nre||(Nre=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.decodeXMLStrict=n.decodeHTML5Strict=n.decodeHTML4Strict=n.decodeHTML5=n.decodeHTML4=n.decodeHTMLAttribute=n.decodeHTMLStrict=n.decodeHTML=n.decodeXML=n.DecodingMode=n.EntityDecoder=n.encodeHTML5=n.encodeHTML4=n.encodeNonAsciiHTML=n.encodeHTML=n.escapeText=n.escapeAttribute=n.escapeUTF8=n.escape=n.encodeXML=n.encode=n.decodeStrict=n.decode=n.EncodingMode=n.EntityLevel=void 0;var e=Ere(),u=Rre(),a=f7(),r;(function(f){f[f.XML=0]="XML",f[f.HTML=1]="HTML"})(r=n.EntityLevel||(n.EntityLevel={}));var t;(function(f){f[f.UTF8=0]="UTF8",f[f.ASCII=1]="ASCII",f[f.Extensive=2]="Extensive",f[f.Attribute=3]="Attribute",f[f.Text=4]="Text"})(t=n.EncodingMode||(n.EncodingMode={}));function i(f,p){p===void 0&&(p=r.XML);var h=typeof p=="number"?p:p.level;if(h===r.HTML){var g=typeof p=="object"?p.mode:void 0;return(0,e.decodeHTML)(f,g)}return(0,e.decodeXML)(f)}n.decode=i;function o(f,p){var h;p===void 0&&(p=r.XML);var g=typeof p=="number"?{level:p}:p;return(h=g.mode)!==null&&h!==void 0||(g.mode=e.DecodingMode.Strict),i(f,g)}n.decodeStrict=o;function l(f,p){p===void 0&&(p=r.XML);var h=typeof p=="number"?{level:p}:p;return h.mode===t.UTF8?(0,a.escapeUTF8)(f):h.mode===t.Attribute?(0,a.escapeAttribute)(f):h.mode===t.Text?(0,a.escapeText)(f):h.level===r.HTML?h.mode===t.ASCII?(0,u.encodeNonAsciiHTML)(f):(0,u.encodeHTML)(f):(0,a.encodeXML)(f)}n.encode=l;var s=f7();Object.defineProperty(n,"encodeXML",{enumerable:!0,get:function(){return s.encodeXML}}),Object.defineProperty(n,"escape",{enumerable:!0,get:function(){return s.escape}}),Object.defineProperty(n,"escapeUTF8",{enumerable:!0,get:function(){return s.escapeUTF8}}),Object.defineProperty(n,"escapeAttribute",{enumerable:!0,get:function(){return s.escapeAttribute}}),Object.defineProperty(n,"escapeText",{enumerable:!0,get:function(){return s.escapeText}});var c=Rre();Object.defineProperty(n,"encodeHTML",{enumerable:!0,get:function(){return c.encodeHTML}}),Object.defineProperty(n,"encodeNonAsciiHTML",{enumerable:!0,get:function(){return c.encodeNonAsciiHTML}}),Object.defineProperty(n,"encodeHTML4",{enumerable:!0,get:function(){return c.encodeHTML}}),Object.defineProperty(n,"encodeHTML5",{enumerable:!0,get:function(){return c.encodeHTML}});var d=Ere();Object.defineProperty(n,"EntityDecoder",{enumerable:!0,get:function(){return d.EntityDecoder}}),Object.defineProperty(n,"DecodingMode",{enumerable:!0,get:function(){return d.DecodingMode}}),Object.defineProperty(n,"decodeXML",{enumerable:!0,get:function(){return d.decodeXML}}),Object.defineProperty(n,"decodeHTML",{enumerable:!0,get:function(){return d.decodeHTML}}),Object.defineProperty(n,"decodeHTMLStrict",{enumerable:!0,get:function(){return d.decodeHTMLStrict}}),Object.defineProperty(n,"decodeHTMLAttribute",{enumerable:!0,get:function(){return d.decodeHTMLAttribute}}),Object.defineProperty(n,"decodeHTML4",{enumerable:!0,get:function(){return d.decodeHTML}}),Object.defineProperty(n,"decodeHTML5",{enumerable:!0,get:function(){return d.decodeHTML}}),Object.defineProperty(n,"decodeHTML4Strict",{enumerable:!0,get:function(){return d.decodeHTMLStrict}}),Object.defineProperty(n,"decodeHTML5Strict",{enumerable:!0,get:function(){return d.decodeHTMLStrict}}),Object.defineProperty(n,"decodeXMLStrict",{enumerable:!0,get:function(){return d.decodeXML}})})(tC)),tC}var dp={},Ire;function mFe(){return Ire||(Ire=1,Object.defineProperty(dp,"__esModule",{value:!0}),dp.attributeNames=dp.elementNames=void 0,dp.elementNames=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(function(n){return[n.toLowerCase(),n]})),dp.attributeNames=new Map(["definitionURL","attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(function(n){return[n.toLowerCase(),n]}))),dp}var Dre;function bFe(){if(Dre)return li;Dre=1;var n=li&&li.__assign||function(){return n=Object.assign||function(E){for(var S,N=1,j=arguments.length;N<j;N++){S=arguments[N];for(var q in S)Object.prototype.hasOwnProperty.call(S,q)&&(E[q]=S[q])}return E},n.apply(this,arguments)},e=li&&li.__createBinding||(Object.create?(function(E,S,N,j){j===void 0&&(j=N);var q=Object.getOwnPropertyDescriptor(S,N);(!q||("get"in q?!S.__esModule:q.writable||q.configurable))&&(q={enumerable:!0,get:function(){return S[N]}}),Object.defineProperty(E,j,q)}):(function(E,S,N,j){j===void 0&&(j=N),E[j]=S[N]})),u=li&&li.__setModuleDefault||(Object.create?(function(E,S){Object.defineProperty(E,"default",{enumerable:!0,value:S})}):function(E,S){E.default=S}),a=li&&li.__importStar||function(E){if(E&&E.__esModule)return E;var S={};if(E!=null)for(var N in E)N!=="default"&&Object.prototype.hasOwnProperty.call(E,N)&&e(S,E,N);return u(S,E),S};Object.defineProperty(li,"__esModule",{value:!0}),li.render=void 0;var r=a(Sb()),t=yFe(),i=mFe(),o=new Set(["style","script","xmp","iframe","noembed","noframes","plaintext","noscript"]);function l(E){return E.replace(/"/g,"&quot;")}function s(E,S){var N;if(E){var j=((N=S.encodeEntities)!==null&&N!==void 0?N:S.decodeEntities)===!1?l:S.xmlMode||S.encodeEntities!=="utf8"?t.encodeXML:t.escapeAttribute;return Object.keys(E).map(function(q){var O,I,A=(O=E[q])!==null&&O!==void 0?O:"";return S.xmlMode==="foreign"&&(q=(I=i.attributeNames.get(q))!==null&&I!==void 0?I:q),!S.emptyAttrs&&!S.xmlMode&&A===""?q:"".concat(q,'="').concat(j(A),'"')}).join(" ")}}var c=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]);function d(E,S){S===void 0&&(S={});for(var N=("length"in E)?E:[E],j="",q=0;q<N.length;q++)j+=f(N[q],S);return j}li.render=d,li.default=d;function f(E,S){switch(E.type){case r.Root:return d(E.children,S);case r.Doctype:case r.Directive:return _(E);case r.Comment:return T(E);case r.CDATA:return w(E);case r.Script:case r.Style:case r.Tag:return g(E,S);case r.Text:return m(E,S)}}var p=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),h=new Set(["svg","math"]);function g(E,S){var N;S.xmlMode==="foreign"&&(E.name=(N=i.elementNames.get(E.name))!==null&&N!==void 0?N:E.name,E.parent&&p.has(E.parent.name)&&(S=n(n({},S),{xmlMode:!1}))),!S.xmlMode&&h.has(E.name)&&(S=n(n({},S),{xmlMode:"foreign"}));var j="<".concat(E.name),q=s(E.attribs,S);return q&&(j+=" ".concat(q)),E.children.length===0&&(S.xmlMode?S.selfClosingTags!==!1:S.selfClosingTags&&c.has(E.name))?(S.xmlMode||(j+=" "),j+="/>"):(j+=">",E.children.length>0&&(j+=d(E.children,S)),(S.xmlMode||!c.has(E.name))&&(j+="</".concat(E.name,">"))),j}function _(E){return"<".concat(E.data,">")}function m(E,S){var N,j=E.data||"";return((N=S.encodeEntities)!==null&&N!==void 0?N:S.decodeEntities)!==!1&&!(!S.xmlMode&&E.parent&&o.has(E.parent.name))&&(j=S.xmlMode||S.encodeEntities!=="utf8"?(0,t.encodeXML)(j):(0,t.escapeText)(j)),j}function w(E){return"<![CDATA[".concat(E.children[0].data,"]]>")}function T(E){return"<!--".concat(E.data,"-->")}return li}var Fre;function pTe(){if(Fre)return Io;Fre=1;var n=Io&&Io.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Io,"__esModule",{value:!0}),Io.getOuterHTML=r,Io.getInnerHTML=t,Io.getText=i,Io.textContent=o,Io.innerText=l;var e=Su(),u=n(bFe()),a=Sb();function r(s,c){return(0,u.default)(s,c)}function t(s,c){return(0,e.hasChildren)(s)?s.children.map(function(d){return r(d,c)}).join(""):""}function i(s){return Array.isArray(s)?s.map(i).join(""):(0,e.isTag)(s)?s.name==="br"?`
`:i(s.children):(0,e.isCDATA)(s)?i(s.children):(0,e.isText)(s)?s.data:""}function o(s){return Array.isArray(s)?s.map(o).join(""):(0,e.hasChildren)(s)&&!(0,e.isComment)(s)?o(s.children):(0,e.isText)(s)?s.data:""}function l(s){return Array.isArray(s)?s.map(l).join(""):(0,e.hasChildren)(s)&&(s.type===a.ElementType.Tag||(0,e.isCDATA)(s))?l(s.children):(0,e.isText)(s)?s.data:""}return Io}var Ku={},Pre;function gFe(){if(Pre)return Ku;Pre=1,Object.defineProperty(Ku,"__esModule",{value:!0}),Ku.getChildren=e,Ku.getParent=u,Ku.getSiblings=a,Ku.getAttributeValue=r,Ku.hasAttrib=t,Ku.getName=i,Ku.nextElementSibling=o,Ku.prevElementSibling=l;var n=Su();function e(s){return(0,n.hasChildren)(s)?s.children:[]}function u(s){return s.parent||null}function a(s){var c,d,f=u(s);if(f!=null)return e(f);for(var p=[s],h=s.prev,g=s.next;h!=null;)p.unshift(h),c=h,h=c.prev;for(;g!=null;)p.push(g),d=g,g=d.next;return p}function r(s,c){var d;return(d=s.attribs)===null||d===void 0?void 0:d[c]}function t(s,c){return s.attribs!=null&&Object.prototype.hasOwnProperty.call(s.attribs,c)&&s.attribs[c]!=null}function i(s){return s.name}function o(s){for(var c,d=s.next;d!==null&&!(0,n.isTag)(d);)c=d,d=c.next;return d}function l(s){for(var c,d=s.prev;d!==null&&!(0,n.isTag)(d);)c=d,d=c.prev;return d}return Ku}var Ms={},jre;function vFe(){if(jre)return Ms;jre=1,Object.defineProperty(Ms,"__esModule",{value:!0}),Ms.removeElement=n,Ms.replaceElement=e,Ms.appendChild=u,Ms.append=a,Ms.prependChild=r,Ms.prepend=t;function n(i){if(i.prev&&(i.prev.next=i.next),i.next&&(i.next.prev=i.prev),i.parent){var o=i.parent.children,l=o.lastIndexOf(i);l>=0&&o.splice(l,1)}i.next=null,i.prev=null,i.parent=null}function e(i,o){var l=o.prev=i.prev;l&&(l.next=o);var s=o.next=i.next;s&&(s.prev=o);var c=o.parent=i.parent;if(c){var d=c.children;d[d.lastIndexOf(i)]=o,i.parent=null}}function u(i,o){if(n(o),o.next=null,o.parent=i,i.children.push(o)>1){var l=i.children[i.children.length-2];l.next=o,o.prev=l}else o.prev=null}function a(i,o){n(o);var l=i.parent,s=i.next;if(o.next=s,o.prev=i,i.next=o,o.parent=l,s){if(s.prev=o,l){var c=l.children;c.splice(c.lastIndexOf(s),0,o)}}else l&&l.children.push(o)}function r(i,o){if(n(o),o.parent=i,o.prev=null,i.children.unshift(o)!==1){var l=i.children[1];l.prev=o,o.next=l}else o.next=null}function t(i,o){n(o);var l=i.parent;if(l){var s=l.children;s.splice(s.indexOf(i),0,o)}i.prev&&(i.prev.next=o),o.parent=l,o.prev=i.prev,o.next=i,i.prev=o}return Ms}var Cs={},Mre;function hTe(){if(Mre)return Cs;Mre=1,Object.defineProperty(Cs,"__esModule",{value:!0}),Cs.filter=e,Cs.find=u,Cs.findOneChild=a,Cs.findOne=r,Cs.existsOne=t,Cs.findAll=i;var n=Su();function e(o,l,s,c){return s===void 0&&(s=!0),c===void 0&&(c=1/0),u(o,Array.isArray(l)?l:[l],s,c)}function u(o,l,s,c){for(var d=[],f=[Array.isArray(l)?l:[l]],p=[0];;){if(p[0]>=f[0].length){if(p.length===1)return d;f.shift(),p.shift();continue}var h=f[0][p[0]++];if(o(h)&&(d.push(h),--c<=0))return d;s&&(0,n.hasChildren)(h)&&h.children.length>0&&(p.unshift(0),f.unshift(h.children))}}function a(o,l){return l.find(o)}function r(o,l,s){s===void 0&&(s=!0);for(var c=Array.isArray(l)?l:[l],d=0;d<c.length;d++){var f=c[d];if((0,n.isTag)(f)&&o(f))return f;if(s&&(0,n.hasChildren)(f)&&f.children.length>0){var p=r(o,f.children,!0);if(p)return p}}return null}function t(o,l){return(Array.isArray(l)?l:[l]).some(function(s){return(0,n.isTag)(s)&&o(s)||(0,n.hasChildren)(s)&&t(o,s.children)})}function i(o,l){for(var s=[],c=[Array.isArray(l)?l:[l]],d=[0];;){if(d[0]>=c[0].length){if(c.length===1)return s;c.shift(),d.shift();continue}var f=c[0][d[0]++];(0,n.isTag)(f)&&o(f)&&s.push(f),(0,n.hasChildren)(f)&&f.children.length>0&&(d.unshift(0),c.unshift(f.children))}}return Cs}var Ls={},Cre;function yTe(){if(Cre)return Ls;Cre=1,Object.defineProperty(Ls,"__esModule",{value:!0}),Ls.testElement=i,Ls.getElements=o,Ls.getElementById=l,Ls.getElementsByTagName=s,Ls.getElementsByClassName=c,Ls.getElementsByTagType=d;var n=Su(),e=hTe(),u={tag_name:function(f){return typeof f=="function"?function(p){return(0,n.isTag)(p)&&f(p.name)}:f==="*"?n.isTag:function(p){return(0,n.isTag)(p)&&p.name===f}},tag_type:function(f){return typeof f=="function"?function(p){return f(p.type)}:function(p){return p.type===f}},tag_contains:function(f){return typeof f=="function"?function(p){return(0,n.isText)(p)&&f(p.data)}:function(p){return(0,n.isText)(p)&&p.data===f}}};function a(f,p){return typeof p=="function"?function(h){return(0,n.isTag)(h)&&p(h.attribs[f])}:function(h){return(0,n.isTag)(h)&&h.attribs[f]===p}}function r(f,p){return function(h){return f(h)||p(h)}}function t(f){var p=Object.keys(f).map(function(h){var g=f[h];return Object.prototype.hasOwnProperty.call(u,h)?u[h](g):a(h,g)});return p.length===0?null:p.reduce(r)}function i(f,p){var h=t(f);return h?h(p):!0}function o(f,p,h,g){g===void 0&&(g=1/0);var _=t(f);return _?(0,e.filter)(_,p,h,g):[]}function l(f,p,h){return h===void 0&&(h=!0),Array.isArray(p)||(p=[p]),(0,e.findOne)(a("id",f),p,h)}function s(f,p,h,g){return h===void 0&&(h=!0),g===void 0&&(g=1/0),(0,e.filter)(u.tag_name(f),p,h,g)}function c(f,p,h,g){return h===void 0&&(h=!0),g===void 0&&(g=1/0),(0,e.filter)(a("class",f),p,h,g)}function d(f,p,h,g){return h===void 0&&(h=!0),g===void 0&&(g=1/0),(0,e.filter)(u.tag_type(f),p,h,g)}return Ls}var kc={},Lre;function _Fe(){if(Lre)return kc;Lre=1,Object.defineProperty(kc,"__esModule",{value:!0}),kc.DocumentPosition=void 0,kc.removeSubsets=e,kc.compareDocumentPosition=a,kc.uniqueSort=r;var n=Su();function e(t){for(var i=t.length;--i>=0;){var o=t[i];if(i>0&&t.lastIndexOf(o,i-1)>=0){t.splice(i,1);continue}for(var l=o.parent;l;l=l.parent)if(t.includes(l)){t.splice(i,1);break}}return t}var u;(function(t){t[t.DISCONNECTED=1]="DISCONNECTED",t[t.PRECEDING=2]="PRECEDING",t[t.FOLLOWING=4]="FOLLOWING",t[t.CONTAINS=8]="CONTAINS",t[t.CONTAINED_BY=16]="CONTAINED_BY"})(u||(kc.DocumentPosition=u={}));function a(t,i){var o=[],l=[];if(t===i)return 0;for(var s=(0,n.hasChildren)(t)?t:t.parent;s;)o.unshift(s),s=s.parent;for(s=(0,n.hasChildren)(i)?i:i.parent;s;)l.unshift(s),s=s.parent;for(var c=Math.min(o.length,l.length),d=0;d<c&&o[d]===l[d];)d++;if(d===0)return u.DISCONNECTED;var f=o[d-1],p=f.children,h=o[d],g=l[d];return p.indexOf(h)>p.indexOf(g)?f===i?u.FOLLOWING|u.CONTAINED_BY:u.FOLLOWING:f===t?u.PRECEDING|u.CONTAINS:u.PRECEDING}function r(t){return t=t.filter(function(i,o,l){return!l.includes(i,o+1)}),t.sort(function(i,o){var l=a(i,o);return l&u.PRECEDING?-1:l&u.FOLLOWING?1:0}),t}return kc}var oD={},qre;function TFe(){if(qre)return oD;qre=1,Object.defineProperty(oD,"__esModule",{value:!0}),oD.getFeed=u;var n=pTe(),e=yTe();function u(f){var p=l(d,f);return p?p.name==="feed"?a(p):r(p):null}function a(f){var p,h=f.children,g={type:"atom",items:(0,e.getElementsByTagName)("entry",h).map(function(w){var T,E=w.children,S={media:o(E)};c(S,"id","id",E),c(S,"title","title",E);var N=(T=l("link",E))===null||T===void 0?void 0:T.attribs.href;N&&(S.link=N);var j=s("summary",E)||s("content",E);j&&(S.description=j);var q=s("updated",E);return q&&(S.pubDate=new Date(q)),S})};c(g,"id","id",h),c(g,"title","title",h);var _=(p=l("link",h))===null||p===void 0?void 0:p.attribs.href;_&&(g.link=_),c(g,"description","subtitle",h);var m=s("updated",h);return m&&(g.updated=new Date(m)),c(g,"author","email",h,!0),g}function r(f){var p,h,g=(h=(p=l("channel",f.children))===null||p===void 0?void 0:p.children)!==null&&h!==void 0?h:[],_={type:f.name.substr(0,3),id:"",items:(0,e.getElementsByTagName)("item",f.children).map(function(w){var T=w.children,E={media:o(T)};c(E,"id","guid",T),c(E,"title","title",T),c(E,"link","link",T),c(E,"description","description",T);var S=s("pubDate",T)||s("dc:date",T);return S&&(E.pubDate=new Date(S)),E})};c(_,"title","title",g),c(_,"link","link",g),c(_,"description","description",g);var m=s("lastBuildDate",g);return m&&(_.updated=new Date(m)),c(_,"author","managingEditor",g,!0),_}var t=["url","type","lang"],i=["fileSize","bitrate","framerate","samplingrate","channels","duration","height","width"];function o(f){return(0,e.getElementsByTagName)("media:content",f).map(function(p){for(var h=p.attribs,g={medium:h.medium,isDefault:!!h.isDefault},_=0,m=t;_<m.length;_++){var w=m[_];h[w]&&(g[w]=h[w])}for(var T=0,E=i;T<E.length;T++){var w=E[T];h[w]&&(g[w]=parseInt(h[w],10))}return h.expression&&(g.expression=h.expression),g})}function l(f,p){return(0,e.getElementsByTagName)(f,p,!0,1)[0]}function s(f,p,h){return h===void 0&&(h=!1),(0,n.textContent)((0,e.getElementsByTagName)(f,p,h,1)).trim()}function c(f,p,h,g,_){_===void 0&&(_=!1);var m=s(h,g,_);m&&(f[p]=m)}function d(f){return f==="rss"||f==="feed"||f==="rdf:RDF"}return oD}var Bre;function Ws(){return Bre||(Bre=1,(function(n){var e=lp&&lp.__createBinding||(Object.create?(function(r,t,i,o){o===void 0&&(o=i);var l=Object.getOwnPropertyDescriptor(t,i);(!l||("get"in l?!t.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return t[i]}}),Object.defineProperty(r,o,l)}):(function(r,t,i,o){o===void 0&&(o=i),r[o]=t[i]})),u=lp&&lp.__exportStar||function(r,t){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(t,i)&&e(t,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),n.hasChildren=n.isDocument=n.isComment=n.isText=n.isCDATA=n.isTag=void 0,u(pTe(),n),u(gFe(),n),u(vFe(),n),u(hTe(),n),u(yTe(),n),u(_Fe(),n),u(TFe(),n);var a=Su();Object.defineProperty(n,"isTag",{enumerable:!0,get:function(){return a.isTag}}),Object.defineProperty(n,"isCDATA",{enumerable:!0,get:function(){return a.isCDATA}}),Object.defineProperty(n,"isText",{enumerable:!0,get:function(){return a.isText}}),Object.defineProperty(n,"isComment",{enumerable:!0,get:function(){return a.isComment}}),Object.defineProperty(n,"isDocument",{enumerable:!0,get:function(){return a.isDocument}}),Object.defineProperty(n,"hasChildren",{enumerable:!0,get:function(){return a.hasChildren}})})(lp)),lp}var Ure;function wFe(){return Ure||(Ure=1,(function(n){var e=zu&&zu.__createBinding||(Object.create?(function(m,w,T,E){E===void 0&&(E=T);var S=Object.getOwnPropertyDescriptor(w,T);(!S||("get"in S?!w.__esModule:S.writable||S.configurable))&&(S={enumerable:!0,get:function(){return w[T]}}),Object.defineProperty(m,E,S)}):(function(m,w,T,E){E===void 0&&(E=T),m[E]=w[T]})),u=zu&&zu.__setModuleDefault||(Object.create?(function(m,w){Object.defineProperty(m,"default",{enumerable:!0,value:w})}):function(m,w){m.default=w}),a=zu&&zu.__importStar||function(m){if(m&&m.__esModule)return m;var w={};if(m!=null)for(var T in m)T!=="default"&&Object.prototype.hasOwnProperty.call(m,T)&&e(w,m,T);return u(w,m),w},r=zu&&zu.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(n,"__esModule",{value:!0}),n.DomUtils=n.parseFeed=n.getFeed=n.ElementType=n.Tokenizer=n.createDomStream=n.parseDOM=n.parseDocument=n.DefaultHandler=n.DomHandler=n.Parser=void 0;var t=hre(),i=hre();Object.defineProperty(n,"Parser",{enumerable:!0,get:function(){return i.Parser}});var o=Su(),l=Su();Object.defineProperty(n,"DomHandler",{enumerable:!0,get:function(){return l.DomHandler}}),Object.defineProperty(n,"DefaultHandler",{enumerable:!0,get:function(){return l.DomHandler}});function s(m,w){var T=new o.DomHandler(void 0,w);return new t.Parser(T,w).end(m),T.root}n.parseDocument=s;function c(m,w){return s(m,w).children}n.parseDOM=c;function d(m,w,T){var E=new o.DomHandler(m,w,T);return new t.Parser(E,w)}n.createDomStream=d;var f=fTe();Object.defineProperty(n,"Tokenizer",{enumerable:!0,get:function(){return r(f).default}}),n.ElementType=a(Sb());var p=Ws(),h=Ws();Object.defineProperty(n,"getFeed",{enumerable:!0,get:function(){return h.getFeed}});var g={xmlMode:!0};function _(m,w){return w===void 0&&(w=g),(0,p.getFeed)(c(m,w))}n.parseFeed=_,n.DomUtils=a(Ws())})(zu)),zu}const SFe={"@context":{alternate:"http://www.w3.org/1999/xhtml/vocab#alternate",appendix:"http://www.w3.org/1999/xhtml/vocab#appendix",cite:"http://www.w3.org/1999/xhtml/vocab#cite",bookmark:"http://www.w3.org/1999/xhtml/vocab#bookmark",contents:"http://www.w3.org/1999/xhtml/vocab#contents",chapter:"http://www.w3.org/1999/xhtml/vocab#chapter",copyright:"http://www.w3.org/1999/xhtml/vocab#copyright",first:"http://www.w3.org/1999/xhtml/vocab#first",glossary:"http://www.w3.org/1999/xhtml/vocab#glossary",help:"http://www.w3.org/1999/xhtml/vocab#help",icon:"http://www.w3.org/1999/xhtml/vocab#icon",index:"http://www.w3.org/1999/xhtml/vocab#index",last:"http://www.w3.org/1999/xhtml/vocab#last",license:"http://www.w3.org/1999/xhtml/vocab#license",meta:"http://www.w3.org/1999/xhtml/vocab#meta",next:"http://www.w3.org/1999/xhtml/vocab#next",prev:"http://www.w3.org/1999/xhtml/vocab#prev",previous:"http://www.w3.org/1999/xhtml/vocab#previous",section:"http://www.w3.org/1999/xhtml/vocab#section",start:"http://www.w3.org/1999/xhtml/vocab#start",stylesheet:"http://www.w3.org/1999/xhtml/vocab#stylesheet",subsection:"http://www.w3.org/1999/xhtml/vocab#subsection",top:"http://www.w3.org/1999/xhtml/vocab#top",up:"http://www.w3.org/1999/xhtml/vocab#up",p3pv1:"http://www.w3.org/1999/xhtml/vocab#p3pv1"}},EFe={"@context":{as:"https://www.w3.org/ns/activitystreams#",cat:"http://www.w3.org/ns/dcat#",cc:"http://creativecommons.org/ns#",cnt:"http://www.w3.org/2008/content#",csvw:"http://www.w3.org/ns/csvw#",ctag:"http://commontag.org/ns#",dc:"http://purl.org/dc/terms/",dc11:"http://purl.org/dc/elements/1.1/",dcat:"http://www.w3.org/ns/dcat#",dcterms:"http://purl.org/dc/terms/",dqv:"http://www.w3.org/ns/dqv#",duv:"https://www.w3.org/TR/vocab-duv#",earl:"http://www.w3.org/ns/earl#",foaf:"http://xmlns.com/foaf/0.1/",gldp:"http://www.w3.org/ns/people#",gr:"http://purl.org/goodrelations/v1#",grddl:"http://www.w3.org/2003/g/data-view#",ht:"http://www.w3.org/2006/http#",ical:"http://www.w3.org/2002/12/cal/icaltzd#",ldp:"http://www.w3.org/ns/ldp#",ma:"http://www.w3.org/ns/ma-ont#",oa:"http://www.w3.org/ns/oa#",odrl:"http://www.w3.org/ns/odrl/2/",og:"http://ogp.me/ns#",org:"http://www.w3.org/ns/org#",owl:"http://www.w3.org/2002/07/owl#",prov:"http://www.w3.org/ns/prov#",ptr:"http://www.w3.org/2009/pointers#",qb:"http://purl.org/linked-data/cube#",rev:"http://purl.org/stuff/rev#",rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfa:"http://www.w3.org/ns/rdfa#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",rif:"http://www.w3.org/2007/rif#",rr:"http://www.w3.org/ns/r2rml#",schema:"http://schema.org/",sd:"http://www.w3.org/ns/sparql-service-description#",sioc:"http://rdfs.org/sioc/ns#",skos:"http://www.w3.org/2004/02/skos/core#",skosxl:"http://www.w3.org/2008/05/skos-xl#",ssn:"http://www.w3.org/ns/ssn/",sosa:"http://www.w3.org/ns/sosa/",time:"http://www.w3.org/2006/time#",v:"http://rdf.data-vocabulary.org/#",vcard:"http://www.w3.org/2006/vcard/ns#",void:"http://rdfs.org/ns/void#",wdr:"http://www.w3.org/2007/05/powder#",wdrs:"http://www.w3.org/2007/05/powder-s#",xhv:"http://www.w3.org/1999/xhtml/vocab#",xml:"http://www.w3.org/XML/1998/namespace",xsd:"http://www.w3.org/2001/XMLSchema#",describedby:"http://www.w3.org/2007/05/powder-s#describedby",license:"http://www.w3.org/1999/xhtml/vocab#license",role:"http://www.w3.org/1999/xhtml/vocab#role"}};var fp={},Qre;function KB(){return Qre||(Qre=1,Object.defineProperty(fp,"__esModule",{value:!0}),fp.RDFA_CONTENTTYPES=fp.RDFA_FEATURES=void 0,fp.RDFA_FEATURES={"":{baseTag:!0,xmlBase:!0,langAttribute:!0,onlyAllowUriRelRevIfProperty:!0,inheritSubjectInHeadBody:!0,datetimeAttribute:!0,timeTag:!0,htmlDatatype:!0,copyRdfaPatterns:!0,xmlnsPrefixMappings:!0,xhtmlInitialContext:!0,roleAttribute:!0},core:{baseTag:!1,xmlBase:!1,langAttribute:!0,onlyAllowUriRelRevIfProperty:!0,inheritSubjectInHeadBody:!1,datetimeAttribute:!1,timeTag:!1,htmlDatatype:!1,copyRdfaPatterns:!0,xmlnsPrefixMappings:!0,xhtmlInitialContext:!1,roleAttribute:!1},html:{baseTag:!0,xmlBase:!1,langAttribute:!0,onlyAllowUriRelRevIfProperty:!0,inheritSubjectInHeadBody:!0,datetimeAttribute:!0,timeTag:!0,htmlDatatype:!0,copyRdfaPatterns:!0,xmlnsPrefixMappings:!0,xhtmlInitialContext:!1,roleAttribute:!0},xhtml:{baseTag:!0,xmlBase:!1,langAttribute:!0,onlyAllowUriRelRevIfProperty:!0,inheritSubjectInHeadBody:!0,datetimeAttribute:!0,timeTag:!0,htmlDatatype:!0,copyRdfaPatterns:!0,xmlnsPrefixMappings:!0,xhtmlInitialContext:!0,roleAttribute:!0},xml:{baseTag:!1,xmlBase:!0,langAttribute:!0,onlyAllowUriRelRevIfProperty:!1,inheritSubjectInHeadBody:!1,datetimeAttribute:!0,timeTag:!0,htmlDatatype:!1,copyRdfaPatterns:!1,xmlnsPrefixMappings:!0,xhtmlInitialContext:!1,roleAttribute:!0}},fp.RDFA_CONTENTTYPES={"text/html":"html","application/xhtml+xml":"xhtml","application/xml":"xml","text/xml":"xml","image/svg+xml":"xml"}),fp}var kT={},Vre;function mTe(){if(Vre)return kT;Vre=1,Object.defineProperty(kT,"__esModule",{value:!0}),kT.Util=void 0;const n=Xn(),e=KB(),u=Rr();class a{constructor(t,i){this.dataFactory=t||new u.DataFactory,this.baseIRI=this.dataFactory.namedNode(i||""),this.baseIRIDocument=this.baseIRI}static parsePrefixes(t,i,o){const l={};if(o)for(const s in t)s.startsWith("xmlns")&&(l[s.substr(6)]=t[s]);if(t.prefix||Object.keys(l).length>0){const s=Object.assign(Object.assign({},i),l);if(t.prefix){let c;for(;c=a.PREFIX_REGEX.exec(t.prefix);)s[c[1]]=c[2]}return s}else return i}static expandPrefixedTerm(t,i){const o=t.indexOf(":");let l,s;if(o>=0&&(l=t.substr(0,o),s=t.substr(o+1)),l==="")return"http://www.w3.org/1999/xhtml/vocab#"+s;if(l){const c=i.prefixesAll[l];if(c)return c+s}if(t){const c=i.prefixesAll[t.toLocaleLowerCase()];if(c)return c}return t}static isValidIri(t){return a.IRI_REGEX.test(t)}static contentTypeToProfile(t){return e.RDFA_CONTENTTYPES[t]||""}getBaseIRI(t){let i=t;const o=i.indexOf("#");return o>=0&&(i=i.substr(0,o)),this.dataFactory.namedNode((0,n.resolve)(i,this.baseIRI.value))}getResourceOrBaseIri(t,i){return t===!0?this.getBaseIriTerm(i):t}getBaseIriTerm(t){return t.localBaseIRI||this.baseIRI}createVocabIris(t,i,o,l){return t.split(/\s+/).filter(s=>s&&(o||s.indexOf(":")>=0)).map(s=>this.createIri(s,i,!0,!0,l)).filter(s=>s!=null)}createLiteral(t,i){if(i.interpretObjectAsTime&&!i.datatype){for(const o of a.TIME_REGEXES)if(t.match(o.regex)){i.datatype=this.dataFactory.namedNode(a.XSD+o.type);break}}return this.dataFactory.literal(t,i.datatype||i.language)}createBlankNode(){return this.blankNodeFactory?this.blankNodeFactory():this.dataFactory.blankNode()}createIri(t,i,o,l,s){if(t=t||"",!l)return o||(t=(0,n.resolve)(t,this.getBaseIriTerm(i).value)),a.isValidIri(t)?this.dataFactory.namedNode(t):null;if(t.length>0&&t[0]==="["&&t[t.length-1]==="]"&&(t=t.substr(1,t.length-2),t.indexOf(":")<0))return null;if(t.startsWith("_:"))return s?this.dataFactory.blankNode(t.substr(2)||"b_identity"):null;if(o&&i.vocab&&t.indexOf(":")<0)return this.dataFactory.namedNode(i.vocab+t);let c=a.expandPrefixedTerm(t,i);return o?t!==c&&(c=(0,n.resolve)(c,this.baseIRIDocument.value)):c=(0,n.resolve)(c,this.getBaseIriTerm(i).value),a.isValidIri(c)?this.dataFactory.namedNode(c):null}}return kT.Util=a,a.RDF="http://www.w3.org/1999/02/22-rdf-syntax-ns#",a.XSD="http://www.w3.org/2001/XMLSchema#",a.RDFA="http://www.w3.org/ns/rdfa#",a.PREFIX_REGEX=/\s*([^:\s]*)*:\s*([^\s]*)*\s*/g,a.TIME_REGEXES=[{regex:/^-?P([0-9]+Y)?([0-9]+M)?([0-9]+D)?(T([0-9]+H)?([0-9]+M)?([0-9]+(\.[0-9])?S)?)?$/,type:"duration"},{regex:/^[0-9]+-[0-9][0-9]-[0-9][0-9]T[0-9][0-9]:[0-9][0-9]:[0-9][0-9]((Z?)|([\+-][0-9][0-9]:[0-9][0-9]))$/,type:"dateTime"},{regex:/^[0-9]+-[0-9][0-9]-[0-9][0-9]Z?$/,type:"date"},{regex:/^[0-9][0-9]:[0-9][0-9]:[0-9][0-9]((Z?)|([\+-][0-9][0-9]:[0-9][0-9]))$/,type:"time"},{regex:/^[0-9]+-[0-9][0-9]$/,type:"gYearMonth"},{regex:/^[0-9]+$/,type:"gYear"}],a.IRI_REGEX=/^([A-Za-z][A-Za-z0-9+-.]*|_):[^ "<>{}|\\\[\]`]*$/,kT}var Hre;function AFe(){if(Hre)return HT;Hre=1,Object.defineProperty(HT,"__esModule",{value:!0}),HT.RdfaParser=void 0;const n=wFe(),e=Nr(),u=SFe,a=EFe,r=KB(),t=mTe();let i=class bTe extends e.Transform{constructor(l){super({readableObjectMode:!0}),this.activeTagStack=[],l=l||{},this.options=l,this.util=new t.Util(l.dataFactory,l.baseIRI),this.defaultGraph=l.defaultGraph||this.util.dataFactory.defaultGraph();const s=l.contentType?t.Util.contentTypeToProfile(l.contentType):l.profile||"";this.features=l.features||r.RDFA_FEATURES[s],this.htmlParseListener=l.htmlParseListener,this.rdfaPatterns=this.features.copyRdfaPatterns?{}:null,this.pendingRdfaPatternCopies=this.features.copyRdfaPatterns?{}:null,this.parser=this.initializeParser(s==="xml"),this.activeTagStack.push({incompleteTriples:[],inlist:!1,language:l.language,listMapping:{},listMappingLocal:{},name:"",prefixesAll:Object.assign(Object.assign({},a["@context"]),this.features.xhtmlInitialContext?u["@context"]:{}),prefixesCustom:{},skipElement:!1,vocab:l.vocab})}import(l){const s=new e.PassThrough({readableObjectMode:!0});l.on("error",d=>c.emit("error",d)),l.on("data",d=>s.push(d)),l.on("end",()=>s.push(null));const c=s.pipe(new bTe(this.options));return c}_transform(l,s,c){this.parser.write(l.toString()),c()}_flush(l){this.parser.end(),l()}onTagOpen(l,s){let c=this.activeTagStack.length-1;for(;c>0&&this.activeTagStack[c].skipElement;)c--;let d=this.activeTagStack[c];c!==this.activeTagStack.length-1&&(d=Object.assign(Object.assign({},d),{language:this.activeTagStack[this.activeTagStack.length-1].language,prefixesAll:this.activeTagStack[this.activeTagStack.length-1].prefixesAll,prefixesCustom:this.activeTagStack[this.activeTagStack.length-1].prefixesCustom,vocab:this.activeTagStack[this.activeTagStack.length-1].vocab}));const f={collectChildTags:d.collectChildTags,incompleteTriples:[],inlist:"inlist"in s,listMapping:[],listMappingLocal:d.listMapping,localBaseIRI:d.localBaseIRI,name:l,prefixesAll:null,prefixesCustom:null,skipElement:!1};if(this.activeTagStack.push(f),f.collectChildTags){for(const S of Object.keys(d.prefixesCustom).sort()){const N=d.prefixesCustom[S],j=S===""?"xmlns":"xmlns:"+S;j in s||(s[j]=N)}const E=Object.keys(s).map(S=>`${S}="${s[S]}"`).join(" ");if(f.text=[`<${l}${E?" "+E:""}>`],this.features.skipHandlingXmlLiteralChildren)return}let p=!0,h=!0;if(this.features.onlyAllowUriRelRevIfProperty&&("property"in s&&"rel"in s&&(p=!1,s.rel.indexOf(":")<0&&delete s.rel),"property"in s&&"rev"in s&&(h=!1,s.rev.indexOf(":")<0&&delete s.rev)),this.features.copyRdfaPatterns){if(d.collectedPatternTag){const E={attributes:s,children:[],name:l,referenced:!1,rootPattern:!1,text:[]};d.collectedPatternTag.children.push(E),f.collectedPatternTag=E;return}if(s.typeof==="rdfa:Pattern"){f.collectedPatternTag={attributes:s,children:[],name:l,parentTag:d,referenced:!1,rootPattern:!0,text:[]};return}if(s.property==="rdfa:copy"){const E=s.resource||s.href||s.src;this.rdfaPatterns[E]?this.emitPatternCopy(d,this.rdfaPatterns[E],E):(this.pendingRdfaPatternCopies[E]||(this.pendingRdfaPatternCopies[E]=[]),this.pendingRdfaPatternCopies[E].push(d));return}}this.features.baseTag&&l==="base"&&s.href&&(this.util.baseIRI=this.util.getBaseIRI(s.href)),this.features.xmlBase&&s["xml:base"]&&(f.localBaseIRI=this.util.getBaseIRI(s["xml:base"])),this.features.timeTag&&l==="time"&&!s.datatype&&(f.interpretObjectAsTime=!0);let g,_,m;if("vocab"in s?s.vocab?(f.vocab=s.vocab,this.emitTriple(this.util.getBaseIriTerm(f),this.util.dataFactory.namedNode(t.Util.RDFA+"usesVocabulary"),this.util.dataFactory.namedNode(f.vocab))):f.vocab=this.activeTagStack[0].vocab:f.vocab=d.vocab,f.prefixesCustom=t.Util.parsePrefixes(s,d.prefixesCustom,this.features.xmlnsPrefixMappings),f.prefixesAll=Object.keys(f.prefixesCustom).length>0?Object.assign(Object.assign({},d.prefixesAll),f.prefixesCustom):d.prefixesAll,this.features.roleAttribute&&s.role){const E=s.id?this.util.createIri("#"+s.id,f,!1,!1,!1):this.util.createBlankNode(),S=f.vocab;f.vocab="http://www.w3.org/1999/xhtml/vocab#";for(const N of this.util.createVocabIris(s.role,f,!0,!1))this.emitTriple(E,this.util.dataFactory.namedNode("http://www.w3.org/1999/xhtml/vocab#role"),N);f.vocab=S}"xml:lang"in s||this.features.langAttribute&&"lang"in s?f.language=s["xml:lang"]||s.lang:f.language=d.language;const w=this.activeTagStack.length===2;if(!("rel"in s)&&!("rev"in s)?"property"in s&&!("content"in s)&&!("datatype"in s)?("about"in s?(g=this.util.createIri(s.about,f,!1,!0,!0),f.explicitNewSubject=!!g):w?g=!0:d.object&&(g=d.object),"typeof"in s&&("about"in s&&(m=this.util.createIri(s.about,f,!1,!0,!0)),!m&&w&&(m=!0),!m&&"resource"in s&&(m=this.util.createIri(s.resource,f,!1,!0,!0)),!m&&("href"in s||"src"in s)&&(m=this.util.createIri(s.href||s.src,f,!1,!1,!0)),!m&&this.isInheritSubjectInHeadBody(l)&&(m=g),m||(m=this.util.createBlankNode()),_=m)):(("about"in s||"resource"in s)&&(g=this.util.createIri(s.about||s.resource,f,!1,!0,!0),f.explicitNewSubject=!!g),!g&&("href"in s||"src"in s)&&(g=this.util.createIri(s.href||s.src,f,!1,!1,!0),f.explicitNewSubject=!!g),g||(w?g=!0:this.isInheritSubjectInHeadBody(l)?g=d.object:"typeof"in s?(g=this.util.createBlankNode(),f.explicitNewSubject=!0):d.object&&(g=d.object,"property"in s||(f.skipElement=!0))),"typeof"in s&&(m=g)):("about"in s?(g=this.util.createIri(s.about,f,!1,!0,!0),f.explicitNewSubject=!!g,"typeof"in s&&(m=g)):w?g=!0:d.object&&(g=d.object),"resource"in s&&(_=this.util.createIri(s.resource,f,!1,!0,!0)),_||("href"in s||"src"in s?_=this.util.createIri(s.href||s.src,f,!1,!1,!0):"typeof"in s&&!("about"in s)&&!this.isInheritSubjectInHeadBody(l)&&(_=this.util.createBlankNode())),"typeof"in s&&!("about"in s)&&(this.isInheritSubjectInHeadBody(l)?m=g:m=_)),m)for(const E of this.util.createVocabIris(s.typeof,f,!0,!0))this.emitTriple(this.util.getResourceOrBaseIri(m,f),this.util.dataFactory.namedNode(t.Util.RDF+"type"),E);if(g&&(f.listMapping={}),_){if("rel"in s&&"inlist"in s)for(const E of this.util.createVocabIris(s.rel,f,p,!1))this.addListMapping(f,g,E,_);if(!("rel"in s&&"inlist"in s)){if("rel"in s)for(const E of this.util.createVocabIris(s.rel,f,p,!1))this.emitTriple(this.util.getResourceOrBaseIri(g,f),E,this.util.getResourceOrBaseIri(_,f));if("rev"in s)for(const E of this.util.createVocabIris(s.rev,f,h,!1))this.emitTriple(this.util.getResourceOrBaseIri(_,f),E,this.util.getResourceOrBaseIri(g,f))}}if(!_){if("rel"in s)if("inlist"in s)for(const E of this.util.createVocabIris(s.rel,f,p,!1))this.addListMapping(f,g,E,null),f.incompleteTriples.push({predicate:E,reverse:!1,list:!0});else for(const E of this.util.createVocabIris(s.rel,f,p,!1))f.incompleteTriples.push({predicate:E,reverse:!1});if("rev"in s)for(const E of this.util.createVocabIris(s.rev,f,h,!1))f.incompleteTriples.push({predicate:E,reverse:!0});f.incompleteTriples.length>0&&(_=this.util.createBlankNode())}if("property"in s){f.predicates=this.util.createVocabIris(s.property,f,!0,!1);let E;if("datatype"in s?(f.datatype=this.util.createIri(s.datatype,f,!0,!0,!1),f.datatype&&(f.datatype.value===t.Util.RDF+"XMLLiteral"||this.features.htmlDatatype&&f.datatype.value===t.Util.RDF+"HTML")&&(f.collectChildTags=!0)):(!("rev"in s)&&!("rel"in s)&&!("content"in s)&&("resource"in s&&(E=this.util.createIri(s.resource,f,!1,!0,!0)),!E&&"href"in s&&(E=this.util.createIri(s.href,f,!1,!1,!0)),!E&&"src"in s&&(E=this.util.createIri(s.src,f,!1,!1,!0))),"typeof"in s&&!("about"in s)&&(E=m)),"content"in s){const S=this.util.createLiteral(s.content,f);if("inlist"in s)for(const N of f.predicates)this.addListMapping(f,g,N,S);else{const N=this.util.getResourceOrBaseIri(g,f);for(const j of f.predicates)this.emitTriple(N,j,S)}f.predicates=null}else if(this.features.datetimeAttribute&&"datetime"in s){f.interpretObjectAsTime=!0;const S=this.util.createLiteral(s.datetime,f);if("inlist"in s)for(const N of f.predicates)this.addListMapping(f,g,N,S);else{const N=this.util.getResourceOrBaseIri(g,f);for(const j of f.predicates)this.emitTriple(N,j,S)}f.predicates=null}else if(E){const S=this.util.getResourceOrBaseIri(E,f);if("inlist"in s)for(const N of f.predicates)this.addListMapping(f,g,N,S);else{const N=this.util.getResourceOrBaseIri(g,f);for(const j of f.predicates)this.emitTriple(N,j,S)}f.predicates=null}}let T=!1;if(!f.skipElement&&g&&d.incompleteTriples.length>0){T=!0;const E=this.util.getResourceOrBaseIri(d.subject,f),S=this.util.getResourceOrBaseIri(g,f);for(const N of d.incompleteTriples)if(N.reverse)this.emitTriple(S,N.predicate,E);else if(N.list){let j=null;for(let q=this.activeTagStack.length-1;q>=0;q--)if(this.activeTagStack[q].inlist){j=this.activeTagStack[q];break}this.addListMapping(j,g,N.predicate,S)}else this.emitTriple(E,N.predicate,S)}!T&&d.incompleteTriples.length>0&&(f.incompleteTriples=f.incompleteTriples.concat(d.incompleteTriples)),f.subject=g||d.subject,f.object=_||g}onText(l){const s=this.activeTagStack[this.activeTagStack.length-1];if(this.features.copyRdfaPatterns&&s.collectedPatternTag){s.collectedPatternTag.text.push(l);return}s.text||(s.text=[]),s.text.push(l)}onTagClose(){const l=this.activeTagStack[this.activeTagStack.length-1],s=this.activeTagStack[this.activeTagStack.length-2];if(!(l.collectChildTags&&s.collectChildTags&&this.features.skipHandlingXmlLiteralChildren)){if(this.features.copyRdfaPatterns&&l.collectedPatternTag&&l.collectedPatternTag.rootPattern){const c=l.collectedPatternTag.attributes.resource;if(delete l.collectedPatternTag.attributes.resource,delete l.collectedPatternTag.attributes.typeof,this.rdfaPatterns[c]=l.collectedPatternTag,this.pendingRdfaPatternCopies[c]){for(const d of this.pendingRdfaPatternCopies[c])this.emitPatternCopy(d,l.collectedPatternTag,c);delete this.pendingRdfaPatternCopies[c]}this.activeTagStack.pop();return}if(l.predicates){const c=this.util.getResourceOrBaseIri(l.subject,l);let d=l.text||[];l.collectChildTags&&s.collectChildTags&&(d=d.slice(1));const f=this.util.createLiteral(d.join(""),l);if(l.inlist)for(const p of l.predicates)this.addListMapping(l,c,p,f);else for(const p of l.predicates)this.emitTriple(c,p,f);s.predicates||(l.text=null)}if(l.object&&Object.keys(l.listMapping).length>0){const c=this.util.getResourceOrBaseIri(l.object,l);for(const d in l.listMapping){const f=this.util.dataFactory.namedNode(d),p=l.listMapping[d];if(p.length>0){const h=p.map(()=>this.util.createBlankNode());for(let g=0;g<p.length;g++){const _=this.util.getResourceOrBaseIri(p[g],l);this.emitTriple(h[g],this.util.dataFactory.namedNode(t.Util.RDF+"first"),_),this.emitTriple(h[g],this.util.dataFactory.namedNode(t.Util.RDF+"rest"),g<p.length-1?h[g+1]:this.util.dataFactory.namedNode(t.Util.RDF+"nil"))}this.emitTriple(c,f,h[0])}else this.emitTriple(c,f,this.util.dataFactory.namedNode(t.Util.RDF+"nil"))}}}this.activeTagStack.pop(),l.collectChildTags&&l.text&&l.text.push(`</${l.name}>`),l.text&&s&&(s.text?s.text=s.text.concat(l.text):s.text=l.text)}onEnd(){if(this.features.copyRdfaPatterns){this.features.copyRdfaPatterns=!1;for(const l in this.rdfaPatterns){const s=this.rdfaPatterns[l];s.referenced||(s.attributes.typeof="rdfa:Pattern",s.attributes.resource=l,this.emitPatternCopy(s.parentTag,s,l),s.referenced=!1,delete s.attributes.typeof,delete s.attributes.resource)}for(const l in this.pendingRdfaPatternCopies)for(const s of this.pendingRdfaPatternCopies[l])this.activeTagStack.push(s),this.onTagOpen("link",{property:"rdfa:copy",href:l}),this.onTagClose(),this.activeTagStack.pop();this.features.copyRdfaPatterns=!0}}isInheritSubjectInHeadBody(l){return this.features.inheritSubjectInHeadBody&&(l==="head"||l==="body")}addListMapping(l,s,c,d){if(l.explicitNewSubject){const f=this.util.createBlankNode();this.emitTriple(this.util.getResourceOrBaseIri(s,l),c,f),this.emitTriple(f,this.util.dataFactory.namedNode(t.Util.RDF+"first"),this.util.getResourceOrBaseIri(d,l)),this.emitTriple(f,this.util.dataFactory.namedNode(t.Util.RDF+"rest"),this.util.dataFactory.namedNode(t.Util.RDF+"nil"))}else{let f=l.listMappingLocal[c.value];f||(l.listMappingLocal[c.value]=f=[]),d&&f.push(d)}}emitTriple(l,s,c){l.termType==="NamedNode"&&l.value.indexOf(":")<0||s.termType==="NamedNode"&&s.value.indexOf(":")<0||c.termType==="NamedNode"&&c.value.indexOf(":")<0||this.push(this.util.dataFactory.quad(l,s,c,this.defaultGraph))}emitPatternCopy(l,s,c){if(this.activeTagStack.push(l),s.referenced=!0,!s.constructedBlankNodes)s.constructedBlankNodes=[],this.util.blankNodeFactory=()=>{const d=this.util.dataFactory.blankNode();return s.constructedBlankNodes.push(d),d};else{let d=0;this.util.blankNodeFactory=()=>s.constructedBlankNodes[d++]}this.emitPatternCopyAbsolute(s,!0,c),this.util.blankNodeFactory=null,this.activeTagStack.pop()}emitPatternCopyAbsolute(l,s,c){if(!(!s&&l.attributes.property==="rdfa:copy"&&l.attributes.href===c)){this.onTagOpen(l.name,l.attributes);for(const d of l.text)this.onText(d);for(const d of l.children)this.emitPatternCopyAbsolute(d,!1,c);this.onTagClose()}}initializeParser(l){return new n.Parser({onclosetag:()=>{try{this.onTagClose(),this.htmlParseListener&&this.htmlParseListener.onTagClose()}catch(s){this.emit("error",s)}},onend:()=>{try{this.onEnd(),this.htmlParseListener&&this.htmlParseListener.onEnd()}catch(s){this.emit("error",s)}},onopentag:(s,c)=>{try{this.onTagOpen(s,c),this.htmlParseListener&&this.htmlParseListener.onTagOpen(s,c)}catch(d){this.emit("error",d)}},ontext:s=>{try{this.onText(s),this.htmlParseListener&&this.htmlParseListener.onText(s)}catch(c){this.emit("error",c)}}},{decodeEntities:!0,recognizeSelfClosing:!0,xmlMode:l})}};return HT.RdfaParser=i,HT}var kre;function gTe(){return kre||(kre=1,(function(n){var e=sp&&sp.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=sp&&sp.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(oFe(),n),u(sFe(),n),u(cFe(),n),u(AFe(),n),u(KB(),n),u(mTe(),n)})(sp)),sp}var zre;function OFe(){if(zre)return VT;zre=1,Object.defineProperty(VT,"__esModule",{value:!0}),VT.ActorRdfParseXmlRdfa=void 0;const n=O1(),e=lt(),u=gTe();let a=class extends n.ActorRdfParseFixedMediaTypes{constructor(t){super(t)}async runHandle(t,i,o){const l=t.context.getSafe(e.KeysInitQuery.dataFactory),s=(t.headers&&t.headers.get("content-language"))??void 0;t.data.on("error",d=>c.emit("error",d));const c=t.data.pipe(new u.RdfaParser({dataFactory:l,baseIRI:t.metadata?.baseIRI,profile:"xml",language:s}));return{data:c,metadata:{triples:!0}}}};return VT.ActorRdfParseXmlRdfa=a,VT}var Gre;function JB(){return Gre||(Gre=1,(function(n){var e=op&&op.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=op&&op.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(OFe(),n)})(op)),op}var pp={},zT={},mg={},GT={},$re;function vTe(){if($re)return GT;$re=1,Object.defineProperty(GT,"__esModule",{value:!0}),GT.promisifyEventEmitter=void 0;function n(e,u){return new Promise((a,r)=>{e.on("end",()=>a(u)),e.on("error",r)})}return GT.promisifyEventEmitter=n,GT}var Xre;function R1(){if(Xre)return mg;Xre=1;var n=mg&&mg.__awaiter||function(a,r,t,i){function o(l){return l instanceof t?l:new t(function(s){s(l)})}return new(t||(t=Promise))(function(l,s){function c(p){try{f(i.next(p))}catch(h){s(h)}}function d(p){try{f(i.throw(p))}catch(h){s(h)}}function f(p){p.done?l(p.value):o(p.value).then(c,d)}f((i=i.apply(a,r||[])).next())})};Object.defineProperty(mg,"__esModule",{value:!0}),mg.stringify=u;const e=vTe();function u(a){return n(this,void 0,void 0,function*(){let r="";return a.on("data",t=>{r+=t}),yield(0,e.promisifyEventEmitter)(a),r})}return mg}var sD={},aC,Kre;function xFe(){if(Kre)return aC;Kre=1;var n=(function(){var e=function(Ot,yt,bt,Tt){for(bt=bt||{},Tt=Ot.length;Tt--;bt[Ot[Tt]]=yt);return bt},u=[7,12,13,14,15,16,20,25,115,130],a=[7,13,16,20,25,115,130],r=[7,13,16,115,130],t=[1,25],i=[1,29],o=[1,27],l=[1,28],s=[13,16,115,130],c=[13,16,28,38,40,42,44,46,48,53,56,61,67,85,87,92,93,95,96,102,110,111,115,119,120,126,128,129,130,131,132,133,134,135,136],d=[28,56],f=[1,42],p=[46,48,53,56],h=[1,54],g=[1,60],_=[1,56],m=[1,57],w=[1,58],T=[1,63],E=[1,64],S=[1,65],N=[1,66],j=[1,67],q=[1,68],O=[1,75],I=[28,46,48,53,56],A=[28,42,46,48,53,56],P=[13,16,28,38,40,42,44,46,48,53,56,92,115,119,120,130,131,132,133,134,135,136],C=[13,16,28,38,40,42,44,46,48,53,56,67,85,87,92,95,96,115,119,120,126,128,129,130,131,132,133,134,135,136],B=[13,16,38,40,44,92,115,119,120,130,131,132,133,134,135,136],V=[13,16,28,38,40,42,44,46,48,53,56,67,85,87,92,95,96,115,117,118,119,120,126,128,129,130,131,132,133,134,135,136],U=[13,16,28,56,115,130],G=[13,16,38,58,87,96,109,115,126,130],J=[1,116],ne=[1,112],W=[1,108],ee=[1,114],se=[1,111],pe=[7,13,16,20,25,44,48,53,56,67,85,87,95,96,115,128,129,130],le=[48,53],Ee=[48,53,87,96,126],Ae=[13,16,44,48,53,56,85,87,95,96,115,128,129,130],Ne=[1,126],Oe=[13,16,40,44,48,53,56,85,87,95,96,115,128,129,130],be=[1,129],te=[48,53,67,87,96,126],v=[13,16,40,44,48,53,56,67,85,87,95,96,115,128,129,130],F=[1,133],D=[13,16,40,44,48,53,56,67,85,87,95,96,102,115,128,129,130],L=[13,16,40,44,48,53,56,67,85,87,93,95,96,102,110,111,115,128,129,130],H=[1,151],Z=[1,153],$=[1,156],ue=[1,157],ae=[1,158],ce=[1,167],Se=[1,175],xe=[13,16,44,48,53,56,67,85,87,95,96,115,128,129,130],Ce=[13,16,44,48,53,56,67,85,87,95,96,115,126,128,129,130],He=[13,16,46,92,115,119,120,130,131,132,133,134,135,136],Je={trace:function(){},yy:{},symbols_:{error:2,shaclDoc:3,shaclDoc_repetition0:4,shaclDoc_repetition1:5,ttlSection:6,EOF:7,directive:8,baseDecl:9,importsDecl:10,prefixDecl:11,KW_BASE:12,IRIREF:13,KW_IMPORTS:14,KW_PREFIX:15,PNAME_NS:16,nodeShapeIri:17,iri:18,nodeShape:19,KW_SHAPE:20,nodeShape_option0:21,nodeShape_option1:22,nodeShapeBody:23,shapeClass:24,KW_SHAPE_CLASS:25,shapeClass_option0:26,turtleAnnotation:27,";":28,turtleAnnotation2:29,predicate:30,turtleAnnotation2_option0:31,objectList:32,object:33,objectList_repetition0:34,iriOrLiteral:35,blankNodeSection:36,list:37,"(":38,list_repetition0:39,")":40,objectTail:41,",":42,LB:43,"[":44,RB:45,"]":46,LP:47,"%":48,RP:49,pcSection:50,iriHead:51,ttlStatement:52,".":53,ttlSection_repetition0:54,startNodeShape:55,"{":56,endNodeShape:57,"}":58,nodeShapeBody_repetition0:59,targetClass:60,"->":61,targetClass_repetition_plus0:62,constraint:63,constraint_group0:64,constraint_option0:65,orNotComponent:66,"|":67,nodeNot:68,nodeOrEmit:69,nodeOr:70,nodeOr_repetition_plus0:71,nodeValue:72,negation:73,nodeValue_group0:74,"=":75,iriOrLiteralOrArray:76,propertyShape:77,path:78,propertyShape_repetition0:79,propertyOrComponent:80,propertyNot:81,propertyOr:82,propertyOr_repetition_plus0:83,propertyAtom:84,NODEKIND:85,shapeRef:86,PARAM:87,propertyCount:88,propertyMinCount:89,"..":90,propertyMaxCount:91,INTEGER:92,"*":93,shapeRef_group0:94,"@":95,"!":96,pathAlternative:97,additionalAlternative:98,pathSequence:99,pathAlternative_repetition_plus0:100,additionalSequence:101,"/":102,pathEltOrInverse:103,pathSequence_repetition_plus0:104,pathElt:105,pathPrimary:106,pathMod:107,pathInverse:108,"^":109,"?":110,"+":111,iriOrLiteralOrArray_repetition0:112,literal:113,iri_group0:114,a:115,string:116,LANGTAG:117,"^^":118,DECIMAL:119,DOUBLE:120,literal_group0:121,string_group0:122,string_group1:123,shaclDoc_repetition1_group0:124,constraint_group0_repetition_plus0:125,TARGET:126,propertyShape_repetition0_group0:127,ATPNAME_LN:128,ATPNAME_NS:129,PNAME_LN:130,KW_TRUE:131,KW_FALSE:132,STRING_LITERAL1:133,STRING_LITERAL2:134,STRING_LITERAL_LONG1:135,STRING_LITERAL_LONG2:136,$accept:0,$end:1},terminals_:{2:"error",7:"EOF",12:"KW_BASE",13:"IRIREF",14:"KW_IMPORTS",15:"KW_PREFIX",16:"PNAME_NS",20:"KW_SHAPE",25:"KW_SHAPE_CLASS",28:";",38:"(",40:")",42:",",44:"[",46:"]",48:"%",53:".",56:"{",58:"}",61:"->",67:"|",75:"=",85:"NODEKIND",87:"PARAM",90:"..",92:"INTEGER",93:"*",95:"@",96:"!",102:"/",109:"^",110:"?",111:"+",115:"a",117:"LANGTAG",118:"^^",119:"DECIMAL",120:"DOUBLE",126:"TARGET",128:"ATPNAME_LN",129:"ATPNAME_NS",130:"PNAME_LN",131:"KW_TRUE",132:"KW_FALSE",133:"STRING_LITERAL1",134:"STRING_LITERAL2",135:"STRING_LITERAL_LONG1",136:"STRING_LITERAL_LONG2"},productions_:[0,[3,4],[8,1],[8,1],[8,1],[9,2],[10,2],[11,3],[17,1],[19,5],[24,4],[27,2],[29,2],[30,2],[32,2],[33,1],[33,1],[33,1],[37,3],[41,2],[43,1],[45,1],[36,3],[47,1],[49,1],[50,3],[51,1],[52,3],[6,1],[55,1],[57,1],[23,3],[60,2],[63,3],[66,2],[69,1],[70,1],[70,2],[68,1],[68,2],[72,3],[77,2],[80,2],[82,1],[82,2],[81,1],[81,2],[84,1],[84,1],[84,1],[84,3],[84,1],[88,5],[89,1],[91,1],[91,1],[86,1],[86,2],[73,1],[78,1],[98,2],[97,1],[97,2],[101,2],[99,1],[99,2],[105,1],[105,2],[103,1],[103,2],[108,1],[107,1],[107,1],[107,1],[106,1],[106,3],[76,1],[76,3],[35,1],[35,1],[18,1],[18,1],[18,1],[113,1],[113,2],[113,3],[113,1],[113,1],[113,1],[113,1],[116,1],[116,1],[4,0],[4,2],[124,1],[124,1],[5,0],[5,2],[21,0],[21,1],[22,0],[22,1],[26,0],[26,1],[31,0],[31,1],[34,0],[34,2],[39,0],[39,2],[54,0],[54,2],[59,0],[59,2],[62,1],[62,2],[125,1],[125,2],[64,1],[64,1],[65,0],[65,1],[71,1],[71,2],[74,1],[74,1],[127,1],[127,1],[79,0],[79,2],[83,1],[83,2],[94,1],[94,1],[100,1],[100,2],[104,1],[104,2],[112,0],[112,2],[114,1],[114,1],[121,1],[121,1],[122,1],[122,1],[123,1],[123,1]],performAction:function(yt,bt,Tt,xt,wt,gt,dr){var ht=gt.length-1;switch(wt){case 1:this.$=Te(tt.factory.namedNode(de("")),tt.factory.namedNode(oe),tt.factory.namedNode(Fe+"Ontology"));break;case 5:tt.base=tt.factory.namedNode(gt[ht].slice(1,-1)),tt.n3Parser._setBase(de(tt.base.value));break;case 6:this.$=Te(tt.base,tt.factory.namedNode(Fe+"imports"),tt.factory.namedNode(gt[ht].slice(1,-1)));break;case 7:this.$=tt.prefixes[gt[ht-1].substr(0,gt[ht-1].length-1)]=de(gt[ht]);break;case 8:tt.nodeShapeStack=!1,Te(tt.currentNodeShape=gt[ht],tt.factory.namedNode(oe),tt.factory.namedNode(Pe+"NodeShape"));break;case 10:this.$=Te(tt.currentNodeShape,tt.factory.namedNode(oe),tt.factory.namedNode(R+"Class"));break;case 11:this.$=Me();break;case 13:this.$=gt[ht].forEach(Ge=>Te(tt.currentNodeShape,gt[ht-1],Ge));break;case 14:this.$=[gt[ht-1],...gt[ht]];break;case 18:this.$=K(gt[ht-1],!0);break;case 19:case 34:case 42:case 60:case 63:this.$=gt[ht];break;case 20:tt.tempCurrentNodeShape=tt.currentNodeShape,this.$=tt.currentNodeShape=$e();break;case 21:tt.currentNodeShape=tt.tempCurrentNodeShape;break;case 22:case 31:this.$=gt[ht-2];break;case 23:tt.tempCurrentNodeShape=tt.currentNodeShape,tt.currentNodeShape=tt.currentPropertyNode;break;case 24:tt.currentNodeShape=tt.tempCurrentNodeShape;break;case 26:tt.currentNodeShape=gt[ht];break;case 29:tt.nodeShapeStack?(tt.nodeShapeStack.push(tt.currentNodeShape),Te(tt.currentPropertyNode,tt.factory.namedNode(Pe+"node"),tt.currentNodeShape=$e())):tt.nodeShapeStack=[],this.$=tt.currentNodeShape;break;case 30:tt.nodeShapeStack.length>0&&(tt.currentNodeShape=tt.nodeShapeStack.pop());break;case 32:this.$=gt[ht].forEach(Ge=>{Te(tt.currentNodeShape,tt.factory.namedNode(Pe+"targetClass"),Ge)});break;case 35:this.$=Te(tt.currentNodeShape,tt.factory.namedNode(Pe+gt[ht][0]),gt[ht][1]);break;case 36:break;case 37:const Re=K([gt[ht-1],...gt[ht]].map(Ge=>{const vt=$e();return Te(vt,tt.factory.namedNode(Pe+Ge[0]),Ge[1]),vt}));this.$=["or",Re];break;case 39:case 46:this.$=it("not",...gt[ht]);break;case 40:case 50:this.$=[gt[ht-2],gt[ht]];break;case 43:this.$=gt[ht]&&qe(...gt[ht]);break;case 44:this.$=qe("or",K([gt[ht-1],...gt[ht]].map(Ge=>{const vt=$e();return Te(vt,tt.factory.namedNode(Pe+Ge[0]),Ge[1]),vt})));break;case 47:this.$=[k[gt[ht].value]?"datatype":"class",gt[ht]];break;case 48:this.$=["nodeKind",tt.factory.namedNode(Pe+gt[ht])];break;case 49:this.$=["node",tt.factory.namedNode(gt[ht])];break;case 51:this.$=void 0;break;case 53:this.$=gt[ht]>0&&qe("minCount",Qe(gt[ht],ye));break;case 54:this.$=qe("maxCount",Qe(gt[ht],ye));break;case 56:this.$=ge(gt[ht].slice(1));break;case 57:this.$=de(gt[ht]);break;case 59:Te(tt.currentNodeShape,tt.factory.namedNode(Pe+"property"),tt.currentPropertyNode=$e()),qe("path",gt[ht]);break;case 62:const Ve=$e();Te(Ve,tt.factory.namedNode(Pe+"alternativePath"),K([gt[ht-1],...gt[ht]])),this.$=Ve;break;case 65:this.$=K([gt[ht-1],...gt[ht]]);break;case 67:Te(this.$=$e(),tt.factory.namedNode(Pe+gt[ht]),gt[ht-1]);break;case 69:Te(this.$=$e(),tt.factory.namedNode(Pe+"inversePath"),gt[ht]);break;case 71:this.$="zeroOrOnePath";break;case 72:this.$="zeroOrMorePath";break;case 73:this.$="oneOrMorePath";break;case 75:this.$=gt[ht-1];break;case 77:this.$=K(gt[ht-1]);break;case 80:this.$=tt.factory.namedNode(de(gt[ht]));break;case 81:this.$=tt.factory.namedNode(ge(gt[ht]));break;case 82:this.$=Me(tt.factory.namedNode(oe));break;case 83:this.$=Qe(gt[ht]);break;case 84:this.$=je(gt[ht-1],gt[ht].substr(1).toLowerCase());break;case 85:this.$=Qe(gt[ht-2],gt[ht]);break;case 86:this.$=Qe(gt[ht],ye);break;case 87:this.$=Qe(gt[ht],re);break;case 88:this.$=Qe(gt[ht].toLowerCase(),Ie);break;case 89:this.$=Qe(gt[ht].toLowerCase(),Le);break;case 90:this.$=fe(gt[ht],1);break;case 91:this.$=fe(gt[ht],3);break;case 92:case 96:case 106:case 108:case 110:case 112:case 128:case 138:this.$=[];break;case 93:case 97:case 107:case 109:case 111:case 113:case 115:case 117:case 123:case 129:case 131:case 135:case 137:case 139:gt[ht-1].push(gt[ht]);break;case 114:case 116:case 122:case 130:case 134:case 136:this.$=[gt[ht]];break}},table:[e(u,[2,92],{3:1,4:2}),{1:[3]},e(a,[2,96],{5:3,8:4,9:5,10:6,11:7,12:[1,8],14:[1,9],15:[1,10]}),e(r,[2,110],{6:11,124:12,54:13,19:14,24:15,20:[1,16],25:[1,17]}),e(u,[2,93]),e(u,[2,2]),e(u,[2,3]),e(u,[2,4]),{13:[1,18]},{13:[1,19]},{16:[1,20]},{7:[1,21]},e(a,[2,97]),{7:[2,28],13:t,16:i,18:24,51:23,52:22,114:26,115:o,130:l},e(a,[2,94]),e(a,[2,95]),{13:t,16:i,17:30,18:31,114:26,115:o,130:l},{13:t,16:i,17:32,18:31,114:26,115:o,130:l},e(u,[2,5]),e(u,[2,6]),{13:[1,33]},{1:[2,1]},e(r,[2,111]),{13:t,16:i,18:36,29:34,30:35,114:26,115:o,130:l},e(s,[2,26]),e(c,[2,80]),e(c,[2,81]),e(c,[2,82]),e(c,[2,140]),e(c,[2,141]),e(d,[2,98],{21:37,60:38,61:[1,39]}),e([28,56,61],[2,8]),{26:40,27:41,28:f,56:[2,102]},e(u,[2,7]),{53:[1,43]},e(p,[2,104],{31:44,27:45,28:f}),{13:t,16:i,18:51,32:46,33:47,35:48,36:49,37:50,38:h,43:53,44:g,92:_,113:52,114:26,115:o,116:55,119:m,120:w,121:59,122:61,123:62,130:l,131:T,132:E,133:S,134:N,135:j,136:q},{22:69,27:70,28:f,56:[2,100]},e(d,[2,99]),{13:t,16:i,18:72,62:71,114:26,115:o,130:l},{23:73,55:74,56:O},{56:[2,103]},{13:t,16:i,18:36,29:76,30:35,114:26,115:o,130:l},e(r,[2,27]),e(p,[2,12]),e(p,[2,105]),e(I,[2,13]),e(A,[2,106],{34:77}),e(P,[2,15]),e(P,[2,16]),e(P,[2,17]),e(C,[2,78]),e(C,[2,79]),{13:t,16:i,18:36,29:78,30:35,114:26,115:o,130:l},e(B,[2,108],{39:79}),e(C,[2,83],{117:[1,80],118:[1,81]}),e(C,[2,86]),e(C,[2,87]),e(C,[2,88]),e(C,[2,89]),e(s,[2,20]),e(V,[2,90]),e(V,[2,91]),e(C,[2,142]),e(C,[2,143]),e(V,[2,144]),e(V,[2,145]),e(V,[2,146]),e(V,[2,147]),{23:82,55:74,56:O},{56:[2,101]},e(d,[2,32],{114:26,18:83,13:t,16:i,115:o,130:l}),e(U,[2,114]),e(a,[2,10]),e(G,[2,112],{59:84}),e(G,[2,29]),e(p,[2,11]),e(I,[2,14],{41:85,42:[1,86]}),{45:87,46:[1,88]},{13:t,16:i,18:51,33:90,35:48,36:49,37:50,38:h,40:[1,89],43:53,44:g,92:_,113:52,114:26,115:o,116:55,119:m,120:w,121:59,122:61,123:62,130:l,131:T,132:E,133:S,134:N,135:j,136:q},e(C,[2,84]),{13:t,16:i,18:91,114:26,115:o,130:l},e(a,[2,9]),e(U,[2,115]),{13:t,16:i,18:115,38:J,57:92,58:[1,94],63:93,64:95,68:102,69:98,70:100,72:104,73:105,74:107,77:97,78:99,87:ne,96:W,97:101,99:103,103:106,105:109,106:113,108:110,109:ee,114:26,115:o,125:96,126:se,130:l},e(A,[2,107]),{13:t,16:i,18:51,33:117,35:48,36:49,37:50,38:h,43:53,44:g,92:_,113:52,114:26,115:o,116:55,119:m,120:w,121:59,122:61,123:62,130:l,131:T,132:E,133:S,134:N,135:j,136:q},e(P,[2,22]),e(P,[2,21]),e(P,[2,18]),e(B,[2,109]),e(C,[2,85]),e(pe,[2,31]),e(G,[2,113]),e(pe,[2,30]),{47:120,48:[1,121],50:119,53:[2,120],65:118},e(le,[2,118],{70:100,68:102,72:104,73:105,74:107,69:122,87:ne,96:W,126:se}),e(le,[2,119]),e(Ee,[2,116]),e(Ae,[2,128],{79:123}),e(Ee,[2,35]),e(Ae,[2,59]),e(Ee,[2,36],{71:124,66:125,67:Ne}),e(Oe,[2,61],{100:127,98:128,67:be}),e(te,[2,38]),{72:130,74:107,87:ne,126:se},e(v,[2,64],{104:131,101:132,102:F}),{75:[1,134]},e([13,16,56,85,87,95,115,126,128,129,130],[2,58]),e(D,[2,68]),{13:t,16:i,18:115,38:J,105:135,106:113,114:26,115:o,130:l},{75:[2,124]},{75:[2,125]},e(D,[2,66],{107:136,93:[1,138],110:[1,137],111:[1,139]}),e([13,16,38,115,130],[2,70]),e(L,[2,74]),{13:t,16:i,18:115,38:J,97:140,99:103,103:106,105:109,106:113,108:110,109:ee,114:26,115:o,130:l},e(A,[2,19]),{53:[1,141]},{53:[2,121]},{13:t,16:i,18:36,29:142,30:35,114:26,115:o,130:l},e(s,[2,23]),e(Ee,[2,117]),e(le,[2,41],{114:26,55:74,127:143,88:144,82:145,81:147,84:148,73:149,18:150,86:152,23:154,94:155,13:t,16:i,44:[1,146],56:O,85:H,87:Z,95:$,96:W,115:o,128:ue,129:ae,130:l}),e(Ee,[2,37],{66:159,67:Ne}),e(te,[2,122]),{68:160,72:104,73:105,74:107,87:ne,96:W,126:se},e(Oe,[2,62],{98:161,67:be}),e(v,[2,134]),{13:t,16:i,18:115,38:J,99:162,103:106,105:109,106:113,108:110,109:ee,114:26,115:o,130:l},e(te,[2,39]),e(v,[2,65],{101:163,102:F}),e(D,[2,136]),{13:t,16:i,18:115,38:J,103:164,105:109,106:113,108:110,109:ee,114:26,115:o,130:l},{13:t,16:i,18:51,35:166,44:ce,76:165,92:_,113:52,114:26,115:o,116:55,119:m,120:w,121:59,122:61,123:62,130:l,131:T,132:E,133:S,134:N,135:j,136:q},e(D,[2,69]),e(D,[2,67]),e(D,[2,71]),e(D,[2,72]),e(D,[2,73]),{40:[1,168]},e(G,[2,33]),{48:[1,170],49:169},e(Ae,[2,129]),e(Ae,[2,126]),e(Ae,[2,127]),{89:171,92:[1,172]},e(Ae,[2,43],{83:173,80:174,67:Se}),e(xe,[2,45]),{13:t,16:i,18:150,23:154,55:74,56:O,84:176,85:H,86:152,87:Z,94:155,95:$,114:26,115:o,128:ue,129:ae,130:l},e(xe,[2,47]),e(xe,[2,48]),e(xe,[2,49]),{75:[1,177]},e(xe,[2,51]),e(xe,[2,56]),{13:[1,178]},e(xe,[2,132]),e(xe,[2,133]),e(te,[2,123]),e(te,[2,34]),e(v,[2,135]),e(v,[2,60]),e(D,[2,137]),e(D,[2,63]),e(te,[2,40]),e(Ce,[2,76]),e(He,[2,138],{112:179}),e(L,[2,75]),{53:[2,25]},{53:[2,24]},{90:[1,180]},{90:[2,53]},e(Ae,[2,44],{80:181,67:Se}),e(xe,[2,130]),{13:t,16:i,18:150,23:154,55:74,56:O,73:149,81:182,84:148,85:H,86:152,87:Z,94:155,95:$,96:W,114:26,115:o,128:ue,129:ae,130:l},e(xe,[2,46]),{13:t,16:i,18:51,35:166,44:ce,76:183,92:_,113:52,114:26,115:o,116:55,119:m,120:w,121:59,122:61,123:62,130:l,131:T,132:E,133:S,134:N,135:j,136:q},e(xe,[2,57]),{13:t,16:i,18:51,35:185,46:[1,184],92:_,113:52,114:26,115:o,116:55,119:m,120:w,121:59,122:61,123:62,130:l,131:T,132:E,133:S,134:N,135:j,136:q},{91:186,92:[1,187],93:[1,188]},e(xe,[2,131]),e(xe,[2,42]),e(xe,[2,50]),e(Ce,[2,77]),e(He,[2,139]),{46:[1,189]},{46:[2,54]},{46:[2,55]},e(Ae,[2,52])],defaultActions:{21:[2,1],41:[2,103],70:[2,101],111:[2,124],112:[2,125],119:[2,121],169:[2,25],170:[2,24],172:[2,53],187:[2,54],188:[2,55]},parseError:function(yt,bt){if(bt.recoverable)this.trace(yt);else{var Tt=new Error(yt);throw Tt.hash=bt,Tt}},parse:function(yt){var bt=this,Tt=[0],xt=[null],wt=[],gt=this.table,dr="",ht=0,Re=0,Ve=2,Ge=1,vt=wt.slice.call(arguments,1),St=Object.create(this.lexer),Vt={yy:{}};for(var wr in this.yy)Object.prototype.hasOwnProperty.call(this.yy,wr)&&(Vt.yy[wr]=this.yy[wr]);St.setInput(yt,Vt.yy),Vt.yy.lexer=St,Vt.yy.parser=this,typeof St.yylloc>"u"&&(St.yylloc={});var hr=St.yylloc;wt.push(hr);var aa=St.options&&St.options.ranges;typeof Vt.yy.parseError=="function"?this.parseError=Vt.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var yr=function(){var $r;return $r=St.lex()||Ge,typeof $r!="number"&&($r=bt.symbols_[$r]||$r),$r},Ir,fa,Or,xn,hn={},_i,Rn,yo,yn;;){if(fa=Tt[Tt.length-1],this.defaultActions[fa]?Or=this.defaultActions[fa]:((Ir===null||typeof Ir>"u")&&(Ir=yr()),Or=gt[fa]&&gt[fa][Ir]),typeof Or>"u"||!Or.length||!Or[0]){var Nn="";yn=[];for(_i in gt[fa])this.terminals_[_i]&&_i>Ve&&yn.push("'"+this.terminals_[_i]+"'");St.showPosition?Nn="Parse error on line "+(ht+1)+`:
`+St.showPosition()+`
Expecting `+yn.join(", ")+", got '"+(this.terminals_[Ir]||Ir)+"'":Nn="Parse error on line "+(ht+1)+": Unexpected "+(Ir==Ge?"end of input":"'"+(this.terminals_[Ir]||Ir)+"'"),this.parseError(Nn,{text:St.match,token:this.terminals_[Ir]||Ir,line:St.yylineno,loc:hr,expected:yn})}if(Or[0]instanceof Array&&Or.length>1)throw new Error("Parse Error: multiple actions possible at state: "+fa+", token: "+Ir);switch(Or[0]){case 1:Tt.push(Ir),xt.push(St.yytext),wt.push(St.yylloc),Tt.push(Or[1]),Ir=null,Re=St.yyleng,dr=St.yytext,ht=St.yylineno,hr=St.yylloc;break;case 2:if(Rn=this.productions_[Or[1]][1],hn.$=xt[xt.length-Rn],hn._$={first_line:wt[wt.length-(Rn||1)].first_line,last_line:wt[wt.length-1].last_line,first_column:wt[wt.length-(Rn||1)].first_column,last_column:wt[wt.length-1].last_column},aa&&(hn._$.range=[wt[wt.length-(Rn||1)].range[0],wt[wt.length-1].range[1]]),xn=this.performAction.apply(hn,[dr,Re,ht,Vt.yy,Or[1],xt,wt].concat(vt)),typeof xn<"u")return xn;Rn&&(Tt=Tt.slice(0,-1*Rn*2),xt=xt.slice(0,-1*Rn),wt=wt.slice(0,-1*Rn)),Tt.push(this.productions_[Or[1]][0]),xt.push(hn.$),wt.push(hn._$),yo=gt[Tt[Tt.length-2]][Tt[Tt.length-1]],Tt.push(yo);break;case 3:return!0}}return!0}};const Ye="http://www.w3.org/1999/02/22-rdf-syntax-ns#",oe=Ye+"type",X=Ye+"first",Y=Ye+"rest",he=Ye+"nil",ve="http://www.w3.org/2001/XMLSchema#",ye=ve+"integer",re=ve+"decimal",Ie=ve+"double",Le=ve+"boolean",Pe="http://www.w3.org/ns/shacl#",Fe="http://www.w3.org/2002/07/owl#",R="http://www.w3.org/2000/01/rdf-schema#",k={[ye]:!0,[re]:!0,[ve+"float"]:!0,[Ie]:!0,[ve+"string"]:!0,[Le]:!0,[ve+"dateTime"]:!0,[ve+"nonPositiveInteger"]:!0,[ve+"negativeInteger"]:!0,[ve+"long"]:!0,[ve+"int"]:!0,[ve+"short"]:!0,[ve+"byte"]:!0,[ve+"nonNegativeInteger"]:!0,[ve+"unsignedLong"]:!0,[ve+"unsignedShort"]:!0,[ve+"unsignedByte"]:!0,[ve+"positiveInteger"]:!0,[Ye+"langString"]:!0};function K(Ot,yt=!1){let bt=0,Tt=Ot.length;if(yt&&Tt===0)return tt.factory.namedNode(he);const xt=head=$e();return Tt===0&&Te(head,tt.factory.namedNode(Y),tt.factory.namedNode(he)),Ot.forEach(wt=>{if(wt===void 0)throw new Error("b");Te(head,tt.factory.namedNode(X),wt),Te(head,tt.factory.namedNode(Y),head=++bt<Tt?$e():tt.factory.namedNode(he))}),xt}function de(Ot){return tt.n3Parser._resolveIRI(Ot[0]==="<"?Ot.substring(1,Ot.length-1):Ot)}function ge(Ot){const yt=Ot.indexOf(":"),bt=Ot.substr(0,yt),Tt=tt.prefixes[bt];if(!Tt)throw new Error("Unknown prefix: "+bt);return de(Tt+Ot.substr(yt+1))}function Qe(Ot,yt){return yt&&yt.termType!=="NamedNode"&&(yt=tt.factory.namedNode(yt)),tt.factory.literal(Ot,yt)}function je(Ot,yt){return tt.factory.literal(Ot,yt)}function $e(Ot){return tt.factory.blankNode("g_"+at++)}var at=0;tt._resetBlanks=function(){at=0};function fe(Ot,yt){return tt.n3Parser._lexer._unescape(Ot.substring(yt,Ot.length-yt))}function Te(Ot,yt,bt){if(!Ot.termType||!yt.termType||yt.value.includes(",")||!bt.termType)throw new Error(`boo ${Ot.value} ${yt.value} ${bt.value}`);tt.onQuad(tt.factory.quad(Ot,yt,bt))}function qe(Ot,yt){Te(tt.currentPropertyNode,tt.factory.namedNode(Pe+Ot),yt)}function it(Ot,yt,bt){const Tt=$e();return Te(Tt,tt.factory.namedNode(Pe+yt),bt),[Ot,Tt]}function Me(Ot){if(!tt.extended)throw new Error("Encountered extended SHACLC syntax; but extended parsing is disabled");return Ot}var st=(function(){var Ot={EOF:1,parseError:function(bt,Tt){if(this.yy.parser)this.yy.parser.parseError(bt,Tt);else throw new Error(bt)},setInput:function(yt,bt){return this.yy=bt||this.yy||{},this._input=yt,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var yt=this._input[0];this.yytext+=yt,this.yyleng++,this.offset++,this.match+=yt,this.matched+=yt;var bt=yt.match(/(?:\r\n?|\n).*/g);return bt?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),yt},unput:function(yt){var bt=yt.length,Tt=yt.split(/(?:\r\n?|\n)/g);this._input=yt+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-bt),this.offset-=bt;var xt=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),Tt.length-1&&(this.yylineno-=Tt.length-1);var wt=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:Tt?(Tt.length===xt.length?this.yylloc.first_column:0)+xt[xt.length-Tt.length].length-Tt[0].length:this.yylloc.first_column-bt},this.options.ranges&&(this.yylloc.range=[wt[0],wt[0]+this.yyleng-bt]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(yt){this.unput(this.match.slice(yt))},pastInput:function(){var yt=this.matched.substr(0,this.matched.length-this.match.length);return(yt.length>20?"...":"")+yt.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var yt=this.match;return yt.length<20&&(yt+=this._input.substr(0,20-yt.length)),(yt.substr(0,20)+(yt.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var yt=this.pastInput(),bt=new Array(yt.length+1).join("-");return yt+this.upcomingInput()+`
`+bt+"^"},test_match:function(yt,bt){var Tt,xt,wt;if(this.options.backtrack_lexer&&(wt={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(wt.yylloc.range=this.yylloc.range.slice(0))),xt=yt[0].match(/(?:\r\n?|\n).*/g),xt&&(this.yylineno+=xt.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:xt?xt[xt.length-1].length-xt[xt.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+yt[0].length},this.yytext+=yt[0],this.match+=yt[0],this.matches=yt,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(yt[0].length),this.matched+=yt[0],Tt=this.performAction.call(this,this.yy,this,bt,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),Tt)return Tt;if(this._backtrack){for(var gt in wt)this[gt]=wt[gt];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var yt,bt,Tt,xt;this._more||(this.yytext="",this.match="");for(var wt=this._currentRules(),gt=0;gt<wt.length;gt++)if(Tt=this._input.match(this.rules[wt[gt]]),Tt&&(!bt||Tt[0].length>bt[0].length)){if(bt=Tt,xt=gt,this.options.backtrack_lexer){if(yt=this.test_match(Tt,wt[gt]),yt!==!1)return yt;if(this._backtrack){bt=!1;continue}else return!1}else if(!this.options.flex)break}return bt?(yt=this.test_match(bt,wt[xt]),yt!==!1?yt:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var bt=this.next();return bt||this.lex()},begin:function(bt){this.conditionStack.push(bt)},popState:function(){var bt=this.conditionStack.length-1;return bt>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(bt){return bt=this.conditionStack.length-1-Math.abs(bt||0),bt>=0?this.conditionStack[bt]:"INITIAL"},pushState:function(bt){this.begin(bt)},stateStackSize:function(){return this.conditionStack.length},options:{flex:!0,"case-insensitive":!0},performAction:function(bt,Tt,xt,wt){switch(xt){case 0:break;case 1:return 12;case 2:return 14;case 3:return 15;case 4:return 25;case 5:return 20;case 6:return 131;case 7:return 132;case 8:return 85;case 9:return 126;case 10:return 87;case 11:return"PASS";case 12:return"COMMENT";case 13:return 13;case 14:return 16;case 15:return 130;case 16:return 129;case 17:return 128;case 18:return 117;case 19:return 92;case 20:return 119;case 21:return 120;case 22:return"EXPONENT";case 23:return 133;case 24:return 134;case 25:return 135;case 26:return 136;case 27:return 61;case 28:return 90;case 29:return 58;case 30:return 56;case 31:return 38;case 32:return 40;case 33:return 44;case 34:return 46;case 35:return 110;case 36:return 93;case 37:return 111;case 38:return 67;case 39:return 118;case 40:return 53;case 41:return 96;case 42:return 102;case 43:return 75;case 44:return 95;case 45:return 109;case 46:return 28;case 47:return 42;case 48:return 48;case 49:return 115;case 50:return 7;case 51:console.log(Tt.yytext);break}},rules:[/^(?:\s+|#[^\n\r]*)/i,/^(?:BASE)/i,/^(?:IMPORTS)/i,/^(?:PREFIX)/i,/^(?:shapeClass)/i,/^(?:shape)/i,/^(?:true)/i,/^(?:false)/i,/^(?:(BlankNode|IRI|Literal|BlankNodeOrIRI|BlankNodeOrLiteral|IRIOrLiteral\b))/i,/^(?:(targetNode|targetObjectsOf|targetSubjectsOf\b))/i,/^(?:(deactivated|severity|message|class|datatype|nodeKind|minExclusive|minInclusive|maxExclusive|maxInclusive|minLength|maxLength|pattern|flags|languageIn|uniqueLang|equals|disjoint|lessThan|lessThanOrEquals|qualifiedValueShape|qualifiedMinCount|qualifiedMaxCount|qualifiedValueShapesDisjoint|closed|ignoredProperties|hasValue|in))/i,/^(?:([ \t\r\n]+))/i,/^(?:(#[\r\n]*))/i,/^(?:(<([^=<>\"\{\}\|\^`\\\u0000-\u0020]|(\\u([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])|\\U([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])))*>))/i,/^(?:((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])((((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040])|\.)*((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040]))?)?:))/i,/^(?:(((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])((((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040])|\.)*((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040]))?)?:)(((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|:|[0-9]|((%([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%))))((((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040])|\.|:|((%([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%))))*(((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040])|:|((%([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%)))))?)))/i,/^(?:(@(([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])((((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040])|\.)*((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040]))?)?:))/i,/^(?:(@((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])((((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040])|\.)*((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040]))?)?:)(((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|:|[0-9]|((%([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%))))((((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040])|\.|:|((%([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%))))*(((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040])|:|((%([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%)))))?)))/i,/^(?:(@[a-zA-Z]+(-[a-zA-Z0-9]+)*))/i,/^(?:([+-]?[0-9]+))/i,/^(?:([+-]?[0-9]*\.[0-9]+))/i,/^(?:([+-]?([0-9]+\.[0-9]*([eE][+-]?[0-9]+)|\.?[0-9]+([eE][+-]?[0-9]+))))/i,/^(?:([eE][+-]?[0-9]+))/i,/^(?:('(?:(?:[^\u0027\u005C\u000A\u000D])|(\\[tbnrf\\\"\']))*'))/i,/^(?:("(?:(?:[^\u0022\u005C\u000A\u000D])|(\\[tbnrf\\\"\']))*"))/i,/^(?:('''(?:(?:'|'')?(?:[^'\\]|(\\[tbnrf\\\"\'])))*'''))/i,/^(?:("""(?:(?:"|"")?(?:[^\"\\]|(\\[tbnrf\\\"\'])))*"""))/i,/^(?:->)/i,/^(?:\.\.)/i,/^(?:\})/i,/^(?:\{)/i,/^(?:\()/i,/^(?:\))/i,/^(?:\[)/i,/^(?:\])/i,/^(?:\?)/i,/^(?:\*)/i,/^(?:\+)/i,/^(?:\|)/i,/^(?:\^\^)/i,/^(?:\.)/i,/^(?:!)/i,/^(?:\/)/i,/^(?:=)/i,/^(?:@)/i,/^(?:\^)/i,/^(?:;)/i,/^(?:,)/i,/^(?:%)/i,/^(?:a)/i,/^(?:$)/i,/^(?:.)/i],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],inclusive:!0}}};return Ot})();Je.lexer=st;function tt(){this.yy={}}return tt.prototype=Je,Je.Parser=tt,new tt})();return aC=n,aC}var Jre;function RFe(){if(Jre)return sD;Jre=1;const n=xFe().Parser,e=wl;class u{constructor(){}parse(r,{extendedSyntax:t,baseIRI:i}={}){this._parser=new n,this._parser.Parser.factory=e.DataFactory,this._parser.Parser.base=e.DataFactory.namedNode(i||"urn:x-base:default"),this._parser.Parser.extended=t===!0,this._parser.Parser.prefixes={rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",sh:"http://www.w3.org/ns/shacl#",xsd:"http://www.w3.org/2001/XMLSchema#",owl:"http://www.w3.org/2002/07/owl#"},this._parser.Parser.currentNodeShape=void 0,this._parser.Parser.currentPropertyNode=void 0,this._parser.Parser.nodeShapeStack=[],this._parser.Parser.tempCurrentNodeShape=void 0,this._parser.Parser.n3Parser=new e.Parser({baseIRI:i||"urn:x-base:default"});const o=[];return this._parser.Parser.onQuad=l=>{o.push(l)},this._parser.parse(r),o.prefixes=this._parser.Parser.prefixes,o}}return sD.Parser=u,sD.parse=function(r,t){return new u().parse(r,t)},sD}var $T={},Wre;function NFe(){if(Wre)return $T;Wre=1,Object.defineProperty($T,"__esModule",{value:!0}),$T.PrefixWrappingIterator=void 0;const n=Gt();let e=class extends n.WrappingIterator{constructor(a){super(a?.then(r=>(this.prefixes=r.prefixes,r)))}read(){if(this.prefixes){for(const a of Object.entries(this.prefixes))this.emit("prefix",...a);delete this.prefixes}return super.read()}};return $T.PrefixWrappingIterator=e,$T}var Yre;function IFe(){if(Yre)return zT;Yre=1,Object.defineProperty(zT,"__esModule",{value:!0}),zT.ActorRdfParseShaclc=void 0;const n=O1(),e=R1(),u=Nr(),a=RFe(),r=NFe();let t=class extends n.ActorRdfParseFixedMediaTypes{constructor(o){super(o)}async runHandle(o,l,s){const c=new r.PrefixWrappingIterator((0,e.stringify)(o.data).then(f=>(0,a.parse)(f,{extendedSyntax:l==="text/shaclc-ext",baseIRI:o.metadata?.baseIRI}))),d=new u.Readable({objectMode:!0});return c.on("prefix",(...f)=>d.emit("prefix",...f)),{data:d.wrap(c),metadata:{triples:!0}}}};return zT.ActorRdfParseShaclc=t,zT}var Zre;function WB(){return Zre||(Zre=1,(function(n){var e=pp&&pp.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=pp&&pp.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(IFe(),n)})(pp)),pp}var hp={},XT={},Ju={},Wu={},bg={},iC={},KT={},ene;function tne(){return ene||(ene=1,Object.defineProperty(KT,"__esModule",{value:!0}),KT.htmlDecodeTree=void 0,KT.htmlDecodeTree=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(n=>n.charCodeAt(0)))),KT}var JT={},rne;function nne(){return rne||(rne=1,Object.defineProperty(JT,"__esModule",{value:!0}),JT.xmlDecodeTree=void 0,JT.xmlDecodeTree=new Uint16Array("aglq	\x1B\0\0p;os;t;t;uot;".split("").map(n=>n.charCodeAt(0)))),JT}var uC={},ane;function ine(){return ane||(ane=1,(function(n){var e;Object.defineProperty(n,"__esModule",{value:!0}),n.fromCodePoint=void 0,n.replaceCodePoint=a,n.decodeCodePoint=r;const u=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);n.fromCodePoint=(e=String.fromCodePoint)!==null&&e!==void 0?e:function(t){let i="";return t>65535&&(t-=65536,i+=String.fromCharCode(t>>>10&1023|55296),t=56320|t&1023),i+=String.fromCharCode(t),i};function a(t){var i;return t>=55296&&t<=57343||t>1114111?65533:(i=u.get(t))!==null&&i!==void 0?i:t}function r(t){return(0,n.fromCodePoint)(a(t))}})(uC)),uC}var une;function _Te(){return une||(une=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.fromCodePoint=n.replaceCodePoint=n.decodeCodePoint=n.xmlDecodeTree=n.htmlDecodeTree=n.EntityDecoder=n.DecodingMode=n.BinTrieFlags=void 0,n.determineBranch=g,n.decodeHTML=w,n.decodeHTMLAttribute=T,n.decodeHTMLStrict=E,n.decodeXML=S;const e=tne(),u=nne(),a=ine();var r;(function(O){O[O.NUM=35]="NUM",O[O.SEMI=59]="SEMI",O[O.EQUALS=61]="EQUALS",O[O.ZERO=48]="ZERO",O[O.NINE=57]="NINE",O[O.LOWER_A=97]="LOWER_A",O[O.LOWER_F=102]="LOWER_F",O[O.LOWER_X=120]="LOWER_X",O[O.LOWER_Z=122]="LOWER_Z",O[O.UPPER_A=65]="UPPER_A",O[O.UPPER_F=70]="UPPER_F",O[O.UPPER_Z=90]="UPPER_Z"})(r||(r={}));const t=32;var i;(function(O){O[O.VALUE_LENGTH=49152]="VALUE_LENGTH",O[O.BRANCH_LENGTH=16256]="BRANCH_LENGTH",O[O.JUMP_TABLE=127]="JUMP_TABLE"})(i||(n.BinTrieFlags=i={}));function o(O){return O>=r.ZERO&&O<=r.NINE}function l(O){return O>=r.UPPER_A&&O<=r.UPPER_F||O>=r.LOWER_A&&O<=r.LOWER_F}function s(O){return O>=r.UPPER_A&&O<=r.UPPER_Z||O>=r.LOWER_A&&O<=r.LOWER_Z||o(O)}function c(O){return O===r.EQUALS||s(O)}var d;(function(O){O[O.EntityStart=0]="EntityStart",O[O.NumericStart=1]="NumericStart",O[O.NumericDecimal=2]="NumericDecimal",O[O.NumericHex=3]="NumericHex",O[O.NamedEntity=4]="NamedEntity"})(d||(d={}));var f;(function(O){O[O.Legacy=0]="Legacy",O[O.Strict=1]="Strict",O[O.Attribute=2]="Attribute"})(f||(n.DecodingMode=f={}));class p{constructor(I,A,P){this.decodeTree=I,this.emitCodePoint=A,this.errors=P,this.state=d.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=f.Strict}startEntity(I){this.decodeMode=I,this.state=d.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(I,A){switch(this.state){case d.EntityStart:return I.charCodeAt(A)===r.NUM?(this.state=d.NumericStart,this.consumed+=1,this.stateNumericStart(I,A+1)):(this.state=d.NamedEntity,this.stateNamedEntity(I,A));case d.NumericStart:return this.stateNumericStart(I,A);case d.NumericDecimal:return this.stateNumericDecimal(I,A);case d.NumericHex:return this.stateNumericHex(I,A);case d.NamedEntity:return this.stateNamedEntity(I,A)}}stateNumericStart(I,A){return A>=I.length?-1:(I.charCodeAt(A)|t)===r.LOWER_X?(this.state=d.NumericHex,this.consumed+=1,this.stateNumericHex(I,A+1)):(this.state=d.NumericDecimal,this.stateNumericDecimal(I,A))}addToNumericResult(I,A,P,C){if(A!==P){const B=P-A;this.result=this.result*Math.pow(C,B)+Number.parseInt(I.substr(A,B),C),this.consumed+=B}}stateNumericHex(I,A){const P=A;for(;A<I.length;){const C=I.charCodeAt(A);if(o(C)||l(C))A+=1;else return this.addToNumericResult(I,P,A,16),this.emitNumericEntity(C,3)}return this.addToNumericResult(I,P,A,16),-1}stateNumericDecimal(I,A){const P=A;for(;A<I.length;){const C=I.charCodeAt(A);if(o(C))A+=1;else return this.addToNumericResult(I,P,A,10),this.emitNumericEntity(C,2)}return this.addToNumericResult(I,P,A,10),-1}emitNumericEntity(I,A){var P;if(this.consumed<=A)return(P=this.errors)===null||P===void 0||P.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(I===r.SEMI)this.consumed+=1;else if(this.decodeMode===f.Strict)return 0;return this.emitCodePoint((0,a.replaceCodePoint)(this.result),this.consumed),this.errors&&(I!==r.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(I,A){const{decodeTree:P}=this;let C=P[this.treeIndex],B=(C&i.VALUE_LENGTH)>>14;for(;A<I.length;A++,this.excess++){const V=I.charCodeAt(A);if(this.treeIndex=g(P,C,this.treeIndex+Math.max(1,B),V),this.treeIndex<0)return this.result===0||this.decodeMode===f.Attribute&&(B===0||c(V))?0:this.emitNotTerminatedNamedEntity();if(C=P[this.treeIndex],B=(C&i.VALUE_LENGTH)>>14,B!==0){if(V===r.SEMI)return this.emitNamedEntityData(this.treeIndex,B,this.consumed+this.excess);this.decodeMode!==f.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var I;const{result:A,decodeTree:P}=this,C=(P[A]&i.VALUE_LENGTH)>>14;return this.emitNamedEntityData(A,C,this.consumed),(I=this.errors)===null||I===void 0||I.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(I,A,P){const{decodeTree:C}=this;return this.emitCodePoint(A===1?C[I]&~i.VALUE_LENGTH:C[I+1],P),A===3&&this.emitCodePoint(C[I+2],P),P}end(){var I;switch(this.state){case d.NamedEntity:return this.result!==0&&(this.decodeMode!==f.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case d.NumericDecimal:return this.emitNumericEntity(0,2);case d.NumericHex:return this.emitNumericEntity(0,3);case d.NumericStart:return(I=this.errors)===null||I===void 0||I.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case d.EntityStart:return 0}}}n.EntityDecoder=p;function h(O){let I="";const A=new p(O,P=>I+=(0,a.fromCodePoint)(P));return function(C,B){let V=0,U=0;for(;(U=C.indexOf("&",U))>=0;){I+=C.slice(V,U),A.startEntity(B);const J=A.write(C,U+1);if(J<0){V=U+A.end();break}V=U+J,U=J===0?V+1:V}const G=I+C.slice(V);return I="",G}}function g(O,I,A,P){const C=(I&i.BRANCH_LENGTH)>>7,B=I&i.JUMP_TABLE;if(C===0)return B!==0&&P===B?A:-1;if(B){const G=P-B;return G<0||G>=C?-1:O[A+G]-1}let V=A,U=V+C-1;for(;V<=U;){const G=V+U>>>1,J=O[G];if(J<P)V=G+1;else if(J>P)U=G-1;else return O[G+C]}return-1}const _=h(e.htmlDecodeTree),m=h(u.xmlDecodeTree);function w(O,I=f.Legacy){return _(O,I)}function T(O){return _(O,f.Attribute)}function E(O){return _(O,f.Strict)}function S(O){return m(O,f.Strict)}var N=tne();Object.defineProperty(n,"htmlDecodeTree",{enumerable:!0,get:function(){return N.htmlDecodeTree}});var j=nne();Object.defineProperty(n,"xmlDecodeTree",{enumerable:!0,get:function(){return j.xmlDecodeTree}});var q=ine();Object.defineProperty(n,"decodeCodePoint",{enumerable:!0,get:function(){return q.decodeCodePoint}}),Object.defineProperty(n,"replaceCodePoint",{enumerable:!0,get:function(){return q.replaceCodePoint}}),Object.defineProperty(n,"fromCodePoint",{enumerable:!0,get:function(){return q.fromCodePoint}})})(iC)),iC}var one;function TTe(){if(one)return bg;one=1,Object.defineProperty(bg,"__esModule",{value:!0}),bg.QuoteType=void 0;const n=_Te();var e;(function(s){s[s.Tab=9]="Tab",s[s.NewLine=10]="NewLine",s[s.FormFeed=12]="FormFeed",s[s.CarriageReturn=13]="CarriageReturn",s[s.Space=32]="Space",s[s.ExclamationMark=33]="ExclamationMark",s[s.Number=35]="Number",s[s.Amp=38]="Amp",s[s.SingleQuote=39]="SingleQuote",s[s.DoubleQuote=34]="DoubleQuote",s[s.Dash=45]="Dash",s[s.Slash=47]="Slash",s[s.Zero=48]="Zero",s[s.Nine=57]="Nine",s[s.Semi=59]="Semi",s[s.Lt=60]="Lt",s[s.Eq=61]="Eq",s[s.Gt=62]="Gt",s[s.Questionmark=63]="Questionmark",s[s.UpperA=65]="UpperA",s[s.LowerA=97]="LowerA",s[s.UpperF=70]="UpperF",s[s.LowerF=102]="LowerF",s[s.UpperZ=90]="UpperZ",s[s.LowerZ=122]="LowerZ",s[s.LowerX=120]="LowerX",s[s.OpeningSquareBracket=91]="OpeningSquareBracket"})(e||(e={}));var u;(function(s){s[s.Text=1]="Text",s[s.BeforeTagName=2]="BeforeTagName",s[s.InTagName=3]="InTagName",s[s.InSelfClosingTag=4]="InSelfClosingTag",s[s.BeforeClosingTagName=5]="BeforeClosingTagName",s[s.InClosingTagName=6]="InClosingTagName",s[s.AfterClosingTagName=7]="AfterClosingTagName",s[s.BeforeAttributeName=8]="BeforeAttributeName",s[s.InAttributeName=9]="InAttributeName",s[s.AfterAttributeName=10]="AfterAttributeName",s[s.BeforeAttributeValue=11]="BeforeAttributeValue",s[s.InAttributeValueDq=12]="InAttributeValueDq",s[s.InAttributeValueSq=13]="InAttributeValueSq",s[s.InAttributeValueNq=14]="InAttributeValueNq",s[s.BeforeDeclaration=15]="BeforeDeclaration",s[s.InDeclaration=16]="InDeclaration",s[s.InProcessingInstruction=17]="InProcessingInstruction",s[s.BeforeComment=18]="BeforeComment",s[s.CDATASequence=19]="CDATASequence",s[s.InSpecialComment=20]="InSpecialComment",s[s.InCommentLike=21]="InCommentLike",s[s.BeforeSpecialS=22]="BeforeSpecialS",s[s.BeforeSpecialT=23]="BeforeSpecialT",s[s.SpecialStartSequence=24]="SpecialStartSequence",s[s.InSpecialTag=25]="InSpecialTag",s[s.InEntity=26]="InEntity"})(u||(u={}));function a(s){return s===e.Space||s===e.NewLine||s===e.Tab||s===e.FormFeed||s===e.CarriageReturn}function r(s){return s===e.Slash||s===e.Gt||a(s)}function t(s){return s>=e.LowerA&&s<=e.LowerZ||s>=e.UpperA&&s<=e.UpperZ}var i;(function(s){s[s.NoValue=0]="NoValue",s[s.Unquoted=1]="Unquoted",s[s.Single=2]="Single",s[s.Double=3]="Double"})(i||(bg.QuoteType=i={}));const o={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101]),TextareaEnd:new Uint8Array([60,47,116,101,120,116,97,114,101,97]),XmpEnd:new Uint8Array([60,47,120,109,112])};class l{constructor({xmlMode:c=!1,decodeEntities:d=!0},f){this.cbs=f,this.state=u.Text,this.buffer="",this.sectionStart=0,this.index=0,this.entityStart=0,this.baseState=u.Text,this.isSpecial=!1,this.running=!0,this.offset=0,this.currentSequence=void 0,this.sequenceIndex=0,this.xmlMode=c,this.decodeEntities=d,this.entityDecoder=new n.EntityDecoder(c?n.xmlDecodeTree:n.htmlDecodeTree,(p,h)=>this.emitCodePoint(p,h))}reset(){this.state=u.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=u.Text,this.currentSequence=void 0,this.running=!0,this.offset=0}write(c){this.offset+=this.buffer.length,this.buffer=c,this.parse()}end(){this.running&&this.finish()}pause(){this.running=!1}resume(){this.running=!0,this.index<this.buffer.length+this.offset&&this.parse()}stateText(c){c===e.Lt||!this.decodeEntities&&this.fastForwardTo(e.Lt)?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=u.BeforeTagName,this.sectionStart=this.index):this.decodeEntities&&c===e.Amp&&this.startEntity()}stateSpecialStartSequence(c){const d=this.sequenceIndex===this.currentSequence.length;if(!(d?r(c):(c|32)===this.currentSequence[this.sequenceIndex]))this.isSpecial=!1;else if(!d){this.sequenceIndex++;return}this.sequenceIndex=0,this.state=u.InTagName,this.stateInTagName(c)}stateInSpecialTag(c){if(this.sequenceIndex===this.currentSequence.length){if(c===e.Gt||a(c)){const d=this.index-this.currentSequence.length;if(this.sectionStart<d){const f=this.index;this.index=d,this.cbs.ontext(this.sectionStart,d),this.index=f}this.isSpecial=!1,this.sectionStart=d+2,this.stateInClosingTagName(c);return}this.sequenceIndex=0}(c|32)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===o.TitleEnd?this.decodeEntities&&c===e.Amp&&this.startEntity():this.fastForwardTo(e.Lt)&&(this.sequenceIndex=1):this.sequenceIndex=+(c===e.Lt)}stateCDATASequence(c){c===o.Cdata[this.sequenceIndex]?++this.sequenceIndex===o.Cdata.length&&(this.state=u.InCommentLike,this.currentSequence=o.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=u.InDeclaration,this.stateInDeclaration(c))}fastForwardTo(c){for(;++this.index<this.buffer.length+this.offset;)if(this.buffer.charCodeAt(this.index-this.offset)===c)return!0;return this.index=this.buffer.length+this.offset-1,!1}stateInCommentLike(c){c===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===o.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index,2):this.cbs.oncomment(this.sectionStart,this.index,2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=u.Text):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):c!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)}isTagStartChar(c){return this.xmlMode?!r(c):t(c)}startSpecial(c,d){this.isSpecial=!0,this.currentSequence=c,this.sequenceIndex=d,this.state=u.SpecialStartSequence}stateBeforeTagName(c){if(c===e.ExclamationMark)this.state=u.BeforeDeclaration,this.sectionStart=this.index+1;else if(c===e.Questionmark)this.state=u.InProcessingInstruction,this.sectionStart=this.index+1;else if(this.isTagStartChar(c)){const d=c|32;this.sectionStart=this.index,this.xmlMode?this.state=u.InTagName:d===o.ScriptEnd[2]?this.state=u.BeforeSpecialS:d===o.TitleEnd[2]||d===o.XmpEnd[2]?this.state=u.BeforeSpecialT:this.state=u.InTagName}else c===e.Slash?this.state=u.BeforeClosingTagName:(this.state=u.Text,this.stateText(c))}stateInTagName(c){r(c)&&(this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=u.BeforeAttributeName,this.stateBeforeAttributeName(c))}stateBeforeClosingTagName(c){a(c)||(c===e.Gt?this.state=u.Text:(this.state=this.isTagStartChar(c)?u.InClosingTagName:u.InSpecialComment,this.sectionStart=this.index))}stateInClosingTagName(c){(c===e.Gt||a(c))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=u.AfterClosingTagName,this.stateAfterClosingTagName(c))}stateAfterClosingTagName(c){(c===e.Gt||this.fastForwardTo(e.Gt))&&(this.state=u.Text,this.sectionStart=this.index+1)}stateBeforeAttributeName(c){c===e.Gt?(this.cbs.onopentagend(this.index),this.isSpecial?(this.state=u.InSpecialTag,this.sequenceIndex=0):this.state=u.Text,this.sectionStart=this.index+1):c===e.Slash?this.state=u.InSelfClosingTag:a(c)||(this.state=u.InAttributeName,this.sectionStart=this.index)}stateInSelfClosingTag(c){c===e.Gt?(this.cbs.onselfclosingtag(this.index),this.state=u.Text,this.sectionStart=this.index+1,this.isSpecial=!1):a(c)||(this.state=u.BeforeAttributeName,this.stateBeforeAttributeName(c))}stateInAttributeName(c){(c===e.Eq||r(c))&&(this.cbs.onattribname(this.sectionStart,this.index),this.sectionStart=this.index,this.state=u.AfterAttributeName,this.stateAfterAttributeName(c))}stateAfterAttributeName(c){c===e.Eq?this.state=u.BeforeAttributeValue:c===e.Slash||c===e.Gt?(this.cbs.onattribend(i.NoValue,this.sectionStart),this.sectionStart=-1,this.state=u.BeforeAttributeName,this.stateBeforeAttributeName(c)):a(c)||(this.cbs.onattribend(i.NoValue,this.sectionStart),this.state=u.InAttributeName,this.sectionStart=this.index)}stateBeforeAttributeValue(c){c===e.DoubleQuote?(this.state=u.InAttributeValueDq,this.sectionStart=this.index+1):c===e.SingleQuote?(this.state=u.InAttributeValueSq,this.sectionStart=this.index+1):a(c)||(this.sectionStart=this.index,this.state=u.InAttributeValueNq,this.stateInAttributeValueNoQuotes(c))}handleInAttributeValue(c,d){c===d||!this.decodeEntities&&this.fastForwardTo(d)?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(d===e.DoubleQuote?i.Double:i.Single,this.index+1),this.state=u.BeforeAttributeName):this.decodeEntities&&c===e.Amp&&this.startEntity()}stateInAttributeValueDoubleQuotes(c){this.handleInAttributeValue(c,e.DoubleQuote)}stateInAttributeValueSingleQuotes(c){this.handleInAttributeValue(c,e.SingleQuote)}stateInAttributeValueNoQuotes(c){a(c)||c===e.Gt?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(i.Unquoted,this.index),this.state=u.BeforeAttributeName,this.stateBeforeAttributeName(c)):this.decodeEntities&&c===e.Amp&&this.startEntity()}stateBeforeDeclaration(c){c===e.OpeningSquareBracket?(this.state=u.CDATASequence,this.sequenceIndex=0):this.state=c===e.Dash?u.BeforeComment:u.InDeclaration}stateInDeclaration(c){(c===e.Gt||this.fastForwardTo(e.Gt))&&(this.cbs.ondeclaration(this.sectionStart,this.index),this.state=u.Text,this.sectionStart=this.index+1)}stateInProcessingInstruction(c){(c===e.Gt||this.fastForwardTo(e.Gt))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=u.Text,this.sectionStart=this.index+1)}stateBeforeComment(c){c===e.Dash?(this.state=u.InCommentLike,this.currentSequence=o.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=u.InDeclaration}stateInSpecialComment(c){(c===e.Gt||this.fastForwardTo(e.Gt))&&(this.cbs.oncomment(this.sectionStart,this.index,0),this.state=u.Text,this.sectionStart=this.index+1)}stateBeforeSpecialS(c){const d=c|32;d===o.ScriptEnd[3]?this.startSpecial(o.ScriptEnd,4):d===o.StyleEnd[3]?this.startSpecial(o.StyleEnd,4):(this.state=u.InTagName,this.stateInTagName(c))}stateBeforeSpecialT(c){switch(c|32){case o.TitleEnd[3]:{this.startSpecial(o.TitleEnd,4);break}case o.TextareaEnd[3]:{this.startSpecial(o.TextareaEnd,4);break}case o.XmpEnd[3]:{this.startSpecial(o.XmpEnd,4);break}default:this.state=u.InTagName,this.stateInTagName(c)}}startEntity(){this.baseState=this.state,this.state=u.InEntity,this.entityStart=this.index,this.entityDecoder.startEntity(this.xmlMode?n.DecodingMode.Strict:this.baseState===u.Text||this.baseState===u.InSpecialTag?n.DecodingMode.Legacy:n.DecodingMode.Attribute)}stateInEntity(){const c=this.entityDecoder.write(this.buffer,this.index-this.offset);c>=0?(this.state=this.baseState,c===0&&(this.index=this.entityStart)):this.index=this.offset+this.buffer.length-1}cleanup(){this.running&&this.sectionStart!==this.index&&(this.state===u.Text||this.state===u.InSpecialTag&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):(this.state===u.InAttributeValueDq||this.state===u.InAttributeValueSq||this.state===u.InAttributeValueNq)&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))}shouldContinue(){return this.index<this.buffer.length+this.offset&&this.running}parse(){for(;this.shouldContinue();){const c=this.buffer.charCodeAt(this.index-this.offset);switch(this.state){case u.Text:{this.stateText(c);break}case u.SpecialStartSequence:{this.stateSpecialStartSequence(c);break}case u.InSpecialTag:{this.stateInSpecialTag(c);break}case u.CDATASequence:{this.stateCDATASequence(c);break}case u.InAttributeValueDq:{this.stateInAttributeValueDoubleQuotes(c);break}case u.InAttributeName:{this.stateInAttributeName(c);break}case u.InCommentLike:{this.stateInCommentLike(c);break}case u.InSpecialComment:{this.stateInSpecialComment(c);break}case u.BeforeAttributeName:{this.stateBeforeAttributeName(c);break}case u.InTagName:{this.stateInTagName(c);break}case u.InClosingTagName:{this.stateInClosingTagName(c);break}case u.BeforeTagName:{this.stateBeforeTagName(c);break}case u.AfterAttributeName:{this.stateAfterAttributeName(c);break}case u.InAttributeValueSq:{this.stateInAttributeValueSingleQuotes(c);break}case u.BeforeAttributeValue:{this.stateBeforeAttributeValue(c);break}case u.BeforeClosingTagName:{this.stateBeforeClosingTagName(c);break}case u.AfterClosingTagName:{this.stateAfterClosingTagName(c);break}case u.BeforeSpecialS:{this.stateBeforeSpecialS(c);break}case u.BeforeSpecialT:{this.stateBeforeSpecialT(c);break}case u.InAttributeValueNq:{this.stateInAttributeValueNoQuotes(c);break}case u.InSelfClosingTag:{this.stateInSelfClosingTag(c);break}case u.InDeclaration:{this.stateInDeclaration(c);break}case u.BeforeDeclaration:{this.stateBeforeDeclaration(c);break}case u.BeforeComment:{this.stateBeforeComment(c);break}case u.InProcessingInstruction:{this.stateInProcessingInstruction(c);break}case u.InEntity:{this.stateInEntity();break}}this.index++}this.cleanup()}finish(){this.state===u.InEntity&&(this.entityDecoder.end(),this.state=this.baseState),this.handleTrailingData(),this.cbs.onend()}handleTrailingData(){const c=this.buffer.length+this.offset;this.sectionStart>=c||(this.state===u.InCommentLike?this.currentSequence===o.CdataEnd?this.cbs.oncdata(this.sectionStart,c,0):this.cbs.oncomment(this.sectionStart,c,0):this.state===u.InTagName||this.state===u.BeforeAttributeName||this.state===u.BeforeAttributeValue||this.state===u.AfterAttributeName||this.state===u.InAttributeName||this.state===u.InAttributeValueSq||this.state===u.InAttributeValueDq||this.state===u.InAttributeValueNq||this.state===u.InClosingTagName||this.cbs.ontext(this.sectionStart,c))}emitCodePoint(c,d){this.baseState!==u.Text&&this.baseState!==u.InSpecialTag?(this.sectionStart<this.entityStart&&this.cbs.onattribdata(this.sectionStart,this.entityStart),this.sectionStart=this.entityStart+d,this.index=this.sectionStart-1,this.cbs.onattribentity(c)):(this.sectionStart<this.entityStart&&this.cbs.ontext(this.sectionStart,this.entityStart),this.sectionStart=this.entityStart+d,this.index=this.sectionStart-1,this.cbs.ontextentity(c,this.sectionStart))}}return bg.default=l,bg}var sne;function cne(){if(sne)return Wu;sne=1;var n=Wu&&Wu.__createBinding||(Object.create?(function(_,m,w,T){T===void 0&&(T=w);var E=Object.getOwnPropertyDescriptor(m,w);(!E||("get"in E?!m.__esModule:E.writable||E.configurable))&&(E={enumerable:!0,get:function(){return m[w]}}),Object.defineProperty(_,T,E)}):(function(_,m,w,T){T===void 0&&(T=w),_[T]=m[w]})),e=Wu&&Wu.__setModuleDefault||(Object.create?(function(_,m){Object.defineProperty(_,"default",{enumerable:!0,value:m})}):function(_,m){_.default=m}),u=Wu&&Wu.__importStar||(function(){var _=function(m){return _=Object.getOwnPropertyNames||function(w){var T=[];for(var E in w)Object.prototype.hasOwnProperty.call(w,E)&&(T[T.length]=E);return T},_(m)};return function(m){if(m&&m.__esModule)return m;var w={};if(m!=null)for(var T=_(m),E=0;E<T.length;E++)T[E]!=="default"&&n(w,m,T[E]);return e(w,m),w}})();Object.defineProperty(Wu,"__esModule",{value:!0}),Wu.Parser=void 0;const a=u(TTe()),r=_Te(),t=new Set(["input","option","optgroup","select","button","datalist","textarea"]),i=new Set(["p"]),o=new Set(["thead","tbody"]),l=new Set(["dd","dt"]),s=new Set(["rt","rp"]),c=new Map([["tr",new Set(["tr","th","td"])],["th",new Set(["th"])],["td",new Set(["thead","th","td"])],["body",new Set(["head","link","script"])],["li",new Set(["li"])],["p",i],["h1",i],["h2",i],["h3",i],["h4",i],["h5",i],["h6",i],["select",t],["input",t],["output",t],["button",t],["datalist",t],["textarea",t],["option",new Set(["option"])],["optgroup",new Set(["optgroup","option"])],["dd",l],["dt",l],["address",i],["article",i],["aside",i],["blockquote",i],["details",i],["div",i],["dl",i],["fieldset",i],["figcaption",i],["figure",i],["footer",i],["form",i],["header",i],["hr",i],["main",i],["nav",i],["ol",i],["pre",i],["section",i],["table",i],["ul",i],["rt",s],["rp",s],["tbody",o],["tfoot",o]]),d=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),f=new Set(["math","svg"]),p=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignobject","desc","title"]),h=/\s|\//;class g{constructor(m,w={}){var T,E,S,N,j,q;this.options=w,this.startIndex=0,this.endIndex=0,this.openTagStart=0,this.tagname="",this.attribname="",this.attribvalue="",this.attribs=null,this.stack=[],this.buffers=[],this.bufferOffset=0,this.writeIndex=0,this.ended=!1,this.cbs=m??{},this.htmlMode=!this.options.xmlMode,this.lowerCaseTagNames=(T=w.lowerCaseTags)!==null&&T!==void 0?T:this.htmlMode,this.lowerCaseAttributeNames=(E=w.lowerCaseAttributeNames)!==null&&E!==void 0?E:this.htmlMode,this.recognizeSelfClosing=(S=w.recognizeSelfClosing)!==null&&S!==void 0?S:!this.htmlMode,this.tokenizer=new((N=w.Tokenizer)!==null&&N!==void 0?N:a.default)(this.options,this),this.foreignContext=[!this.htmlMode],(q=(j=this.cbs).onparserinit)===null||q===void 0||q.call(j,this)}ontext(m,w){var T,E;const S=this.getSlice(m,w);this.endIndex=w-1,(E=(T=this.cbs).ontext)===null||E===void 0||E.call(T,S),this.startIndex=w}ontextentity(m,w){var T,E;this.endIndex=w-1,(E=(T=this.cbs).ontext)===null||E===void 0||E.call(T,(0,r.fromCodePoint)(m)),this.startIndex=w}isVoidElement(m){return this.htmlMode&&d.has(m)}onopentagname(m,w){this.endIndex=w;let T=this.getSlice(m,w);this.lowerCaseTagNames&&(T=T.toLowerCase()),this.emitOpenTag(T)}emitOpenTag(m){var w,T,E,S;this.openTagStart=this.startIndex,this.tagname=m;const N=this.htmlMode&&c.get(m);if(N)for(;this.stack.length>0&&N.has(this.stack[0]);){const j=this.stack.shift();(T=(w=this.cbs).onclosetag)===null||T===void 0||T.call(w,j,!0)}this.isVoidElement(m)||(this.stack.unshift(m),this.htmlMode&&(f.has(m)?this.foreignContext.unshift(!0):p.has(m)&&this.foreignContext.unshift(!1))),(S=(E=this.cbs).onopentagname)===null||S===void 0||S.call(E,m),this.cbs.onopentag&&(this.attribs={})}endOpenTag(m){var w,T;this.startIndex=this.openTagStart,this.attribs&&((T=(w=this.cbs).onopentag)===null||T===void 0||T.call(w,this.tagname,this.attribs,m),this.attribs=null),this.cbs.onclosetag&&this.isVoidElement(this.tagname)&&this.cbs.onclosetag(this.tagname,!0),this.tagname=""}onopentagend(m){this.endIndex=m,this.endOpenTag(!1),this.startIndex=m+1}onclosetag(m,w){var T,E,S,N,j,q,O,I;this.endIndex=w;let A=this.getSlice(m,w);if(this.lowerCaseTagNames&&(A=A.toLowerCase()),this.htmlMode&&(f.has(A)||p.has(A))&&this.foreignContext.shift(),this.isVoidElement(A))this.htmlMode&&A==="br"&&((N=(S=this.cbs).onopentagname)===null||N===void 0||N.call(S,"br"),(q=(j=this.cbs).onopentag)===null||q===void 0||q.call(j,"br",{},!0),(I=(O=this.cbs).onclosetag)===null||I===void 0||I.call(O,"br",!1));else{const P=this.stack.indexOf(A);if(P!==-1)for(let C=0;C<=P;C++){const B=this.stack.shift();(E=(T=this.cbs).onclosetag)===null||E===void 0||E.call(T,B,C!==P)}else this.htmlMode&&A==="p"&&(this.emitOpenTag("p"),this.closeCurrentTag(!0))}this.startIndex=w+1}onselfclosingtag(m){this.endIndex=m,this.recognizeSelfClosing||this.foreignContext[0]?(this.closeCurrentTag(!1),this.startIndex=m+1):this.onopentagend(m)}closeCurrentTag(m){var w,T;const E=this.tagname;this.endOpenTag(m),this.stack[0]===E&&((T=(w=this.cbs).onclosetag)===null||T===void 0||T.call(w,E,!m),this.stack.shift())}onattribname(m,w){this.startIndex=m;const T=this.getSlice(m,w);this.attribname=this.lowerCaseAttributeNames?T.toLowerCase():T}onattribdata(m,w){this.attribvalue+=this.getSlice(m,w)}onattribentity(m){this.attribvalue+=(0,r.fromCodePoint)(m)}onattribend(m,w){var T,E;this.endIndex=w,(E=(T=this.cbs).onattribute)===null||E===void 0||E.call(T,this.attribname,this.attribvalue,m===a.QuoteType.Double?'"':m===a.QuoteType.Single?"'":m===a.QuoteType.NoValue?void 0:null),this.attribs&&!Object.prototype.hasOwnProperty.call(this.attribs,this.attribname)&&(this.attribs[this.attribname]=this.attribvalue),this.attribvalue=""}getInstructionName(m){const w=m.search(h);let T=w<0?m:m.substr(0,w);return this.lowerCaseTagNames&&(T=T.toLowerCase()),T}ondeclaration(m,w){this.endIndex=w;const T=this.getSlice(m,w);if(this.cbs.onprocessinginstruction){const E=this.getInstructionName(T);this.cbs.onprocessinginstruction(`!${E}`,`!${T}`)}this.startIndex=w+1}onprocessinginstruction(m,w){this.endIndex=w;const T=this.getSlice(m,w);if(this.cbs.onprocessinginstruction){const E=this.getInstructionName(T);this.cbs.onprocessinginstruction(`?${E}`,`?${T}`)}this.startIndex=w+1}oncomment(m,w,T){var E,S,N,j;this.endIndex=w,(S=(E=this.cbs).oncomment)===null||S===void 0||S.call(E,this.getSlice(m,w-T)),(j=(N=this.cbs).oncommentend)===null||j===void 0||j.call(N),this.startIndex=w+1}oncdata(m,w,T){var E,S,N,j,q,O,I,A,P,C;this.endIndex=w;const B=this.getSlice(m,w-T);!this.htmlMode||this.options.recognizeCDATA?((S=(E=this.cbs).oncdatastart)===null||S===void 0||S.call(E),(j=(N=this.cbs).ontext)===null||j===void 0||j.call(N,B),(O=(q=this.cbs).oncdataend)===null||O===void 0||O.call(q)):((A=(I=this.cbs).oncomment)===null||A===void 0||A.call(I,`[CDATA[${B}]]`),(C=(P=this.cbs).oncommentend)===null||C===void 0||C.call(P)),this.startIndex=w+1}onend(){var m,w;if(this.cbs.onclosetag){this.endIndex=this.startIndex;for(let T=0;T<this.stack.length;T++)this.cbs.onclosetag(this.stack[T],!0)}(w=(m=this.cbs).onend)===null||w===void 0||w.call(m)}reset(){var m,w,T,E;(w=(m=this.cbs).onreset)===null||w===void 0||w.call(m),this.tokenizer.reset(),this.tagname="",this.attribname="",this.attribs=null,this.stack.length=0,this.startIndex=0,this.endIndex=0,(E=(T=this.cbs).onparserinit)===null||E===void 0||E.call(T,this),this.buffers.length=0,this.foreignContext.length=0,this.foreignContext.unshift(!this.htmlMode),this.bufferOffset=0,this.writeIndex=0,this.ended=!1}parseComplete(m){this.reset(),this.end(m)}getSlice(m,w){for(;m-this.bufferOffset>=this.buffers[0].length;)this.shiftBuffer();let T=this.buffers[0].slice(m-this.bufferOffset,w-this.bufferOffset);for(;w-this.bufferOffset>this.buffers[0].length;)this.shiftBuffer(),T+=this.buffers[0].slice(0,w-this.bufferOffset);return T}shiftBuffer(){this.bufferOffset+=this.buffers[0].length,this.writeIndex--,this.buffers.shift()}write(m){var w,T;if(this.ended){(T=(w=this.cbs).onerror)===null||T===void 0||T.call(w,new Error(".write() after done!"));return}this.buffers.push(m),this.tokenizer.running&&(this.tokenizer.write(m),this.writeIndex++)}end(m){var w,T;if(this.ended){(T=(w=this.cbs).onerror)===null||T===void 0||T.call(w,new Error(".end() after done!"));return}m&&this.write(m),this.ended=!0,this.tokenizer.end()}pause(){this.tokenizer.pause()}resume(){for(this.tokenizer.resume();this.tokenizer.running&&this.writeIndex<this.buffers.length;)this.tokenizer.write(this.buffers[this.writeIndex++]);this.ended&&this.tokenizer.end()}parseChunk(m){this.write(m)}done(m){this.end(m)}}return Wu.Parser=g,Wu}var lne;function DFe(){return lne||(lne=1,(function(n){var e=Ju&&Ju.__createBinding||(Object.create?(function(w,T,E,S){S===void 0&&(S=E);var N=Object.getOwnPropertyDescriptor(T,E);(!N||("get"in N?!T.__esModule:N.writable||N.configurable))&&(N={enumerable:!0,get:function(){return T[E]}}),Object.defineProperty(w,S,N)}):(function(w,T,E,S){S===void 0&&(S=E),w[S]=T[E]})),u=Ju&&Ju.__setModuleDefault||(Object.create?(function(w,T){Object.defineProperty(w,"default",{enumerable:!0,value:T})}):function(w,T){w.default=T}),a=Ju&&Ju.__importStar||(function(){var w=function(T){return w=Object.getOwnPropertyNames||function(E){var S=[];for(var N in E)Object.prototype.hasOwnProperty.call(E,N)&&(S[S.length]=N);return S},w(T)};return function(T){if(T&&T.__esModule)return T;var E={};if(T!=null)for(var S=w(T),N=0;N<S.length;N++)S[N]!=="default"&&e(E,T,S[N]);return u(E,T),E}})(),r=Ju&&Ju.__importDefault||function(w){return w&&w.__esModule?w:{default:w}};Object.defineProperty(n,"__esModule",{value:!0}),n.DomUtils=n.getFeed=n.ElementType=n.QuoteType=n.Tokenizer=n.DefaultHandler=n.DomHandler=n.Parser=void 0,n.parseDocument=s,n.parseDOM=c,n.createDocumentStream=d,n.createDomStream=f,n.parseFeed=m;const t=cne();var i=cne();Object.defineProperty(n,"Parser",{enumerable:!0,get:function(){return i.Parser}});const o=Su();var l=Su();Object.defineProperty(n,"DomHandler",{enumerable:!0,get:function(){return l.DomHandler}}),Object.defineProperty(n,"DefaultHandler",{enumerable:!0,get:function(){return l.DomHandler}});function s(w,T){const E=new o.DomHandler(void 0,T);return new t.Parser(E,T).end(w),E.root}function c(w,T){return s(w,T).children}function d(w,T,E){const S=new o.DomHandler(N=>w(N,S.root),T,E);return new t.Parser(S,T)}function f(w,T,E){const S=new o.DomHandler(w,T,E);return new t.Parser(S,T)}var p=TTe();Object.defineProperty(n,"Tokenizer",{enumerable:!0,get:function(){return r(p).default}}),Object.defineProperty(n,"QuoteType",{enumerable:!0,get:function(){return p.QuoteType}}),n.ElementType=a(Sb());const h=Ws();var g=Ws();Object.defineProperty(n,"getFeed",{enumerable:!0,get:function(){return g.getFeed}});const _={xmlMode:!0};function m(w,T=_){return(0,h.getFeed)(c(w,T))}n.DomUtils=a(Ws())})(Ju)),Ju}var dne;function FFe(){if(dne)return XT;dne=1,Object.defineProperty(XT,"__esModule",{value:!0}),XT.ActorRdfParseHtml=void 0;const n=O1(),e=DFe(),u=Nr();class a extends n.ActorRdfParseFixedMediaTypes{constructor(t){super(t)}async runHandle(t,i,o){const l=new u.Readable({objectMode:!0});l._read=()=>{};let s=0,c=1;function d(h){l.emit("error",h)}function f(){--c===0&&l.push(null)}const p={baseIRI:t.metadata?.baseIRI??"",context:o,emit:h=>{s--,l.push(h)},end:f,error:d,headers:t.headers};try{const h=await Promise.all(this.busRdfParseHtml.publish(p));c+=h.length;const g=[];for(const w of h){const{htmlParseListener:T}=await w.actor.run(p,void 0);g.push(T)}const _=new e.Parser({onclosetag(){try{for(const w of g)w.onTagClose()}catch(w){d(w)}},onend(){try{for(const w of g)w.onEnd()}catch(w){d(w)}f()},onopentag(w,T){try{for(const E of g)E.onTagOpen(w,T)}catch(E){d(E)}},ontext(w){try{for(const T of g)T.onText(w)}catch(T){d(T)}}},{decodeEntities:!0,recognizeSelfClosing:!0,xmlMode:!1}),m=l._read=w=>{for(s=Math.max(w,s);s>0;){const T=t.data.read();if(T===null){t.data.once("readable",()=>m(0));return}_.write(T.toString())}};t.data.on("error",d).on("end",()=>_.end())}catch(h){setTimeout(()=>{l.emit("error",h)})}return{data:l}}}return XT.ActorRdfParseHtml=a,XT}var fne;function YB(){return fne||(fne=1,(function(n){var e=hp&&hp.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=hp&&hp.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(FFe(),n)})(hp)),hp}var yp={},WT={},mp={},YT={},pne;function PFe(){if(pne)return YT;pne=1,Object.defineProperty(YT,"__esModule",{value:!0}),YT.ActorRdfParseHtml=void 0;const n=De();let e=class extends n.Actor{constructor(a){super(a)}};return YT.ActorRdfParseHtml=e,YT}var hne;function ZB(){return hne||(hne=1,(function(n){var e=mp&&mp.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=mp&&mp.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(PFe(),n)})(mp)),mp}var bp={},oC={},yne;function jFe(){return yne||(yne=1,Object.defineProperty(oC,"__esModule",{value:!0})),oC}var ZT={},mne;function wTe(){if(mne)return ZT;mne=1,Object.defineProperty(ZT,"__esModule",{value:!0}),ZT.ItemPropertyHandlerContent=void 0;let n=class{canHandle(u,a){return"content"in a}getObject(u,a,r){return a.createLiteral(u.content,r)}};return ZT.ItemPropertyHandlerContent=n,ZT}var e3={},t3={},bne;function TP(){if(bne)return t3;bne=1,Object.defineProperty(t3,"__esModule",{value:!0}),t3.Util=void 0;const n=Rr(),e=Xn();class u{constructor(r,t){this.dataFactory=r||new n.DataFactory,this.baseIRI=t||""}static isValidIri(r){return u.IRI_REGEX.test(r)}createVocabIris(r,t,i){return r.split(/\s+/u).filter(o=>!!o).map(o=>{if(!u.isValidIri(o)){if(!i)return;o=`${t.vocab||`${this.baseIRI}#`}${o}`}return this.dataFactory.namedNode(o)}).filter(o=>!!o)}getVocabularyExpansionType(r,t,i){const o=r.split(/\s+/u);if(o.includes("subPropertyOf")||o.includes("equivalentProperty"))return[this.dataFactory.namedNode(`${u.RDF}type`)];if(t.vocab&&t.vocab in i&&i[t.vocab].properties){let l=[];for(const[s,c]of Object.entries(i[t.vocab].properties))o.includes(s)&&(l=[...Object.values(c).map(d=>this.dataFactory.namedNode(d))]);return l}return[]}createSubject(r){if(!u.isValidIri(r))try{r=(0,e.resolve)(r,this.baseIRI)}catch{return}return this.dataFactory.namedNode(r)}createLiteral(r,t){return this.dataFactory.literal(r,t.language)}deriveVocab(r,t){let i;for(const o in t)if(r.startsWith(o)){i=o,i.endsWith("/")||(i+="#");break}if(!i){const o=r.indexOf("#");o>0?i=r.slice(0,o+1):i=(0,e.resolve)(".",r)}return i}}return t3.Util=u,u.RDF="http://www.w3.org/1999/02/22-rdf-syntax-ns#",u.XSD="http://www.w3.org/2001/XMLSchema#",u.RDFA="http://www.w3.org/ns/rdfa#",u.IRI_REGEX=/^([A-Za-z][\d+-.A-Za-z]*|_):[^ "<>[\\\]`{|}]*$/u,t3}var gne;function STe(){if(gne)return e3;gne=1,Object.defineProperty(e3,"__esModule",{value:!0}),e3.ItemPropertyHandlerNumber=void 0;const n=TP();let e=class{constructor(a,r){this.tagName=a,this.attributeName=r}canHandle(a,r){return this.tagName===a&&this.attributeName in r}getObject(a,r,t){const i=a[this.attributeName];let o;return!Number.isNaN(Number.parseInt(i,10))&&!i.includes(".")?o=`${n.Util.XSD}integer`:Number.isNaN(Number.parseFloat(i))||(o=`${n.Util.XSD}double`),r.dataFactory.literal(i,o&&r.dataFactory.namedNode(o))}};return e3.ItemPropertyHandlerNumber=e,e3}var r3={},vne;function ATe(){if(vne)return r3;vne=1,Object.defineProperty(r3,"__esModule",{value:!0}),r3.ItemPropertyHandlerTime=void 0;const n=TP();let e=class ETe{canHandle(a,r){return a==="time"&&"datetime"in r}getObject(a,r,t){const i=a.datetime;let o;for(const l of ETe.TIME_REGEXES)if(l.regex.test(i)){o=r.dataFactory.namedNode(n.Util.XSD+l.type);break}return r.dataFactory.literal(i,o)}};return r3.ItemPropertyHandlerTime=e,e.TIME_REGEXES=[{regex:/^-?P(\d+Y)?(\d+M)?(\d+D)?(T(\d+H)?(\d+M)?(\d+(\.\d)?S)?)?$/u,type:"duration"},{regex:/^\d+-\d\d-\d\dT\d\d:\d\d:\d\d((Z?)|([+-]\d\d:\d\d))$/u,type:"dateTime"},{regex:/^\d+-\d\d-\d\dZ?$/u,type:"date"},{regex:/^\d\d:\d\d:\d\d((Z?)|([+-]\d\d:\d\d))$/u,type:"time"},{regex:/^\d+-\d\d$/u,type:"gYearMonth"},{regex:/^\d+$/u,type:"gYear"}],r3}var n3={},_ne;function OTe(){if(_ne)return n3;_ne=1,Object.defineProperty(n3,"__esModule",{value:!0}),n3.ItemPropertyHandlerUrl=void 0;const n=Xn();let e=class{constructor(a,r){this.tagName=a,this.attributeName=r}canHandle(a,r){return this.tagName===a&&this.attributeName in r}getObject(a,r,t){return r.dataFactory.namedNode((0,n.resolve)(a[this.attributeName],r.baseIRI))}};return n3.ItemPropertyHandlerUrl=e,n3}var sC={},Tne;function MFe(){return Tne||(Tne=1,Object.defineProperty(sC,"__esModule",{value:!0})),sC}var cC={},wne;function CFe(){return wne||(wne=1,Object.defineProperty(cC,"__esModule",{value:!0})),cC}var lC={},Sne;function LFe(){return Sne||(Sne=1,Object.defineProperty(lC,"__esModule",{value:!0})),lC}var a3={},Yu={},Zu={},dC={},eo={},cD={},Ene;function qFe(){return Ene||(Ene=1,Object.defineProperty(cD,"__esModule",{value:!0}),cD.default=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(function(n){return n.charCodeAt(0)}))),cD}var lD={},Ane;function BFe(){return Ane||(Ane=1,Object.defineProperty(lD,"__esModule",{value:!0}),lD.default=new Uint16Array("aglq	\x1B\0\0p;os;t;t;uot;".split("").map(function(n){return n.charCodeAt(0)}))),lD}var fC={},One;function xne(){return One||(One=1,(function(n){var e;Object.defineProperty(n,"__esModule",{value:!0}),n.replaceCodePoint=n.fromCodePoint=void 0;var u=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);n.fromCodePoint=(e=String.fromCodePoint)!==null&&e!==void 0?e:function(t){var i="";return t>65535&&(t-=65536,i+=String.fromCharCode(t>>>10&1023|55296),t=56320|t&1023),i+=String.fromCharCode(t),i};function a(t){var i;return t>=55296&&t<=57343||t>1114111?65533:(i=u.get(t))!==null&&i!==void 0?i:t}n.replaceCodePoint=a;function r(t){return(0,n.fromCodePoint)(a(t))}n.default=r})(fC)),fC}var Rne;function xTe(){return Rne||(Rne=1,(function(n){var e=eo&&eo.__createBinding||(Object.create?(function(A,P,C,B){B===void 0&&(B=C);var V=Object.getOwnPropertyDescriptor(P,C);(!V||("get"in V?!P.__esModule:V.writable||V.configurable))&&(V={enumerable:!0,get:function(){return P[C]}}),Object.defineProperty(A,B,V)}):(function(A,P,C,B){B===void 0&&(B=C),A[B]=P[C]})),u=eo&&eo.__setModuleDefault||(Object.create?(function(A,P){Object.defineProperty(A,"default",{enumerable:!0,value:P})}):function(A,P){A.default=P}),a=eo&&eo.__importStar||function(A){if(A&&A.__esModule)return A;var P={};if(A!=null)for(var C in A)C!=="default"&&Object.prototype.hasOwnProperty.call(A,C)&&e(P,A,C);return u(P,A),P},r=eo&&eo.__importDefault||function(A){return A&&A.__esModule?A:{default:A}};Object.defineProperty(n,"__esModule",{value:!0}),n.decodeXML=n.decodeHTMLStrict=n.decodeHTMLAttribute=n.decodeHTML=n.determineBranch=n.EntityDecoder=n.DecodingMode=n.BinTrieFlags=n.fromCodePoint=n.replaceCodePoint=n.decodeCodePoint=n.xmlDecodeTree=n.htmlDecodeTree=void 0;var t=r(qFe());n.htmlDecodeTree=t.default;var i=r(BFe());n.xmlDecodeTree=i.default;var o=a(xne());n.decodeCodePoint=o.default;var l=xne();Object.defineProperty(n,"replaceCodePoint",{enumerable:!0,get:function(){return l.replaceCodePoint}}),Object.defineProperty(n,"fromCodePoint",{enumerable:!0,get:function(){return l.fromCodePoint}});var s;(function(A){A[A.NUM=35]="NUM",A[A.SEMI=59]="SEMI",A[A.EQUALS=61]="EQUALS",A[A.ZERO=48]="ZERO",A[A.NINE=57]="NINE",A[A.LOWER_A=97]="LOWER_A",A[A.LOWER_F=102]="LOWER_F",A[A.LOWER_X=120]="LOWER_X",A[A.LOWER_Z=122]="LOWER_Z",A[A.UPPER_A=65]="UPPER_A",A[A.UPPER_F=70]="UPPER_F",A[A.UPPER_Z=90]="UPPER_Z"})(s||(s={}));var c=32,d;(function(A){A[A.VALUE_LENGTH=49152]="VALUE_LENGTH",A[A.BRANCH_LENGTH=16256]="BRANCH_LENGTH",A[A.JUMP_TABLE=127]="JUMP_TABLE"})(d=n.BinTrieFlags||(n.BinTrieFlags={}));function f(A){return A>=s.ZERO&&A<=s.NINE}function p(A){return A>=s.UPPER_A&&A<=s.UPPER_F||A>=s.LOWER_A&&A<=s.LOWER_F}function h(A){return A>=s.UPPER_A&&A<=s.UPPER_Z||A>=s.LOWER_A&&A<=s.LOWER_Z||f(A)}function g(A){return A===s.EQUALS||h(A)}var _;(function(A){A[A.EntityStart=0]="EntityStart",A[A.NumericStart=1]="NumericStart",A[A.NumericDecimal=2]="NumericDecimal",A[A.NumericHex=3]="NumericHex",A[A.NamedEntity=4]="NamedEntity"})(_||(_={}));var m;(function(A){A[A.Legacy=0]="Legacy",A[A.Strict=1]="Strict",A[A.Attribute=2]="Attribute"})(m=n.DecodingMode||(n.DecodingMode={}));var w=(function(){function A(P,C,B){this.decodeTree=P,this.emitCodePoint=C,this.errors=B,this.state=_.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=m.Strict}return A.prototype.startEntity=function(P){this.decodeMode=P,this.state=_.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1},A.prototype.write=function(P,C){switch(this.state){case _.EntityStart:return P.charCodeAt(C)===s.NUM?(this.state=_.NumericStart,this.consumed+=1,this.stateNumericStart(P,C+1)):(this.state=_.NamedEntity,this.stateNamedEntity(P,C));case _.NumericStart:return this.stateNumericStart(P,C);case _.NumericDecimal:return this.stateNumericDecimal(P,C);case _.NumericHex:return this.stateNumericHex(P,C);case _.NamedEntity:return this.stateNamedEntity(P,C)}},A.prototype.stateNumericStart=function(P,C){return C>=P.length?-1:(P.charCodeAt(C)|c)===s.LOWER_X?(this.state=_.NumericHex,this.consumed+=1,this.stateNumericHex(P,C+1)):(this.state=_.NumericDecimal,this.stateNumericDecimal(P,C))},A.prototype.addToNumericResult=function(P,C,B,V){if(C!==B){var U=B-C;this.result=this.result*Math.pow(V,U)+parseInt(P.substr(C,U),V),this.consumed+=U}},A.prototype.stateNumericHex=function(P,C){for(var B=C;C<P.length;){var V=P.charCodeAt(C);if(f(V)||p(V))C+=1;else return this.addToNumericResult(P,B,C,16),this.emitNumericEntity(V,3)}return this.addToNumericResult(P,B,C,16),-1},A.prototype.stateNumericDecimal=function(P,C){for(var B=C;C<P.length;){var V=P.charCodeAt(C);if(f(V))C+=1;else return this.addToNumericResult(P,B,C,10),this.emitNumericEntity(V,2)}return this.addToNumericResult(P,B,C,10),-1},A.prototype.emitNumericEntity=function(P,C){var B;if(this.consumed<=C)return(B=this.errors)===null||B===void 0||B.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(P===s.SEMI)this.consumed+=1;else if(this.decodeMode===m.Strict)return 0;return this.emitCodePoint((0,o.replaceCodePoint)(this.result),this.consumed),this.errors&&(P!==s.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed},A.prototype.stateNamedEntity=function(P,C){for(var B=this.decodeTree,V=B[this.treeIndex],U=(V&d.VALUE_LENGTH)>>14;C<P.length;C++,this.excess++){var G=P.charCodeAt(C);if(this.treeIndex=E(B,V,this.treeIndex+Math.max(1,U),G),this.treeIndex<0)return this.result===0||this.decodeMode===m.Attribute&&(U===0||g(G))?0:this.emitNotTerminatedNamedEntity();if(V=B[this.treeIndex],U=(V&d.VALUE_LENGTH)>>14,U!==0){if(G===s.SEMI)return this.emitNamedEntityData(this.treeIndex,U,this.consumed+this.excess);this.decodeMode!==m.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1},A.prototype.emitNotTerminatedNamedEntity=function(){var P,C=this,B=C.result,V=C.decodeTree,U=(V[B]&d.VALUE_LENGTH)>>14;return this.emitNamedEntityData(B,U,this.consumed),(P=this.errors)===null||P===void 0||P.missingSemicolonAfterCharacterReference(),this.consumed},A.prototype.emitNamedEntityData=function(P,C,B){var V=this.decodeTree;return this.emitCodePoint(C===1?V[P]&~d.VALUE_LENGTH:V[P+1],B),C===3&&this.emitCodePoint(V[P+2],B),B},A.prototype.end=function(){var P;switch(this.state){case _.NamedEntity:return this.result!==0&&(this.decodeMode!==m.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case _.NumericDecimal:return this.emitNumericEntity(0,2);case _.NumericHex:return this.emitNumericEntity(0,3);case _.NumericStart:return(P=this.errors)===null||P===void 0||P.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case _.EntityStart:return 0}},A})();n.EntityDecoder=w;function T(A){var P="",C=new w(A,function(B){return P+=(0,o.fromCodePoint)(B)});return function(V,U){for(var G=0,J=0;(J=V.indexOf("&",J))>=0;){P+=V.slice(G,J),C.startEntity(U);var ne=C.write(V,J+1);if(ne<0){G=J+C.end();break}G=J+ne,J=ne===0?G+1:G}var W=P+V.slice(G);return P="",W}}function E(A,P,C,B){var V=(P&d.BRANCH_LENGTH)>>7,U=P&d.JUMP_TABLE;if(V===0)return U!==0&&B===U?C:-1;if(U){var G=B-U;return G<0||G>=V?-1:A[C+G]-1}for(var J=C,ne=J+V-1;J<=ne;){var W=J+ne>>>1,ee=A[W];if(ee<B)J=W+1;else if(ee>B)ne=W-1;else return A[W+V]}return-1}n.determineBranch=E;var S=T(t.default),N=T(i.default);function j(A,P){return P===void 0&&(P=m.Legacy),S(A,P)}n.decodeHTML=j;function q(A){return S(A,m.Attribute)}n.decodeHTMLAttribute=q;function O(A){return S(A,m.Strict)}n.decodeHTMLStrict=O;function I(A){return N(A,m.Strict)}n.decodeXML=I})(eo)),eo}var Nne;function RTe(){return Nne||(Nne=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.QuoteType=void 0;var e=xTe(),u;(function(f){f[f.Tab=9]="Tab",f[f.NewLine=10]="NewLine",f[f.FormFeed=12]="FormFeed",f[f.CarriageReturn=13]="CarriageReturn",f[f.Space=32]="Space",f[f.ExclamationMark=33]="ExclamationMark",f[f.Number=35]="Number",f[f.Amp=38]="Amp",f[f.SingleQuote=39]="SingleQuote",f[f.DoubleQuote=34]="DoubleQuote",f[f.Dash=45]="Dash",f[f.Slash=47]="Slash",f[f.Zero=48]="Zero",f[f.Nine=57]="Nine",f[f.Semi=59]="Semi",f[f.Lt=60]="Lt",f[f.Eq=61]="Eq",f[f.Gt=62]="Gt",f[f.Questionmark=63]="Questionmark",f[f.UpperA=65]="UpperA",f[f.LowerA=97]="LowerA",f[f.UpperF=70]="UpperF",f[f.LowerF=102]="LowerF",f[f.UpperZ=90]="UpperZ",f[f.LowerZ=122]="LowerZ",f[f.LowerX=120]="LowerX",f[f.OpeningSquareBracket=91]="OpeningSquareBracket"})(u||(u={}));var a;(function(f){f[f.Text=1]="Text",f[f.BeforeTagName=2]="BeforeTagName",f[f.InTagName=3]="InTagName",f[f.InSelfClosingTag=4]="InSelfClosingTag",f[f.BeforeClosingTagName=5]="BeforeClosingTagName",f[f.InClosingTagName=6]="InClosingTagName",f[f.AfterClosingTagName=7]="AfterClosingTagName",f[f.BeforeAttributeName=8]="BeforeAttributeName",f[f.InAttributeName=9]="InAttributeName",f[f.AfterAttributeName=10]="AfterAttributeName",f[f.BeforeAttributeValue=11]="BeforeAttributeValue",f[f.InAttributeValueDq=12]="InAttributeValueDq",f[f.InAttributeValueSq=13]="InAttributeValueSq",f[f.InAttributeValueNq=14]="InAttributeValueNq",f[f.BeforeDeclaration=15]="BeforeDeclaration",f[f.InDeclaration=16]="InDeclaration",f[f.InProcessingInstruction=17]="InProcessingInstruction",f[f.BeforeComment=18]="BeforeComment",f[f.CDATASequence=19]="CDATASequence",f[f.InSpecialComment=20]="InSpecialComment",f[f.InCommentLike=21]="InCommentLike",f[f.BeforeSpecialS=22]="BeforeSpecialS",f[f.SpecialStartSequence=23]="SpecialStartSequence",f[f.InSpecialTag=24]="InSpecialTag",f[f.BeforeEntity=25]="BeforeEntity",f[f.BeforeNumericEntity=26]="BeforeNumericEntity",f[f.InNamedEntity=27]="InNamedEntity",f[f.InNumericEntity=28]="InNumericEntity",f[f.InHexEntity=29]="InHexEntity"})(a||(a={}));function r(f){return f===u.Space||f===u.NewLine||f===u.Tab||f===u.FormFeed||f===u.CarriageReturn}function t(f){return f===u.Slash||f===u.Gt||r(f)}function i(f){return f>=u.Zero&&f<=u.Nine}function o(f){return f>=u.LowerA&&f<=u.LowerZ||f>=u.UpperA&&f<=u.UpperZ}function l(f){return f>=u.UpperA&&f<=u.UpperF||f>=u.LowerA&&f<=u.LowerF}var s;(function(f){f[f.NoValue=0]="NoValue",f[f.Unquoted=1]="Unquoted",f[f.Single=2]="Single",f[f.Double=3]="Double"})(s=n.QuoteType||(n.QuoteType={}));var c={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101])},d=(function(){function f(p,h){var g=p.xmlMode,_=g===void 0?!1:g,m=p.decodeEntities,w=m===void 0?!0:m;this.cbs=h,this.state=a.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=a.Text,this.isSpecial=!1,this.running=!0,this.offset=0,this.currentSequence=void 0,this.sequenceIndex=0,this.trieIndex=0,this.trieCurrent=0,this.entityResult=0,this.entityExcess=0,this.xmlMode=_,this.decodeEntities=w,this.entityTrie=_?e.xmlDecodeTree:e.htmlDecodeTree}return f.prototype.reset=function(){this.state=a.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=a.Text,this.currentSequence=void 0,this.running=!0,this.offset=0},f.prototype.write=function(p){this.offset+=this.buffer.length,this.buffer=p,this.parse()},f.prototype.end=function(){this.running&&this.finish()},f.prototype.pause=function(){this.running=!1},f.prototype.resume=function(){this.running=!0,this.index<this.buffer.length+this.offset&&this.parse()},f.prototype.getIndex=function(){return this.index},f.prototype.getSectionStart=function(){return this.sectionStart},f.prototype.stateText=function(p){p===u.Lt||!this.decodeEntities&&this.fastForwardTo(u.Lt)?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=a.BeforeTagName,this.sectionStart=this.index):this.decodeEntities&&p===u.Amp&&(this.state=a.BeforeEntity)},f.prototype.stateSpecialStartSequence=function(p){var h=this.sequenceIndex===this.currentSequence.length,g=h?t(p):(p|32)===this.currentSequence[this.sequenceIndex];if(!g)this.isSpecial=!1;else if(!h){this.sequenceIndex++;return}this.sequenceIndex=0,this.state=a.InTagName,this.stateInTagName(p)},f.prototype.stateInSpecialTag=function(p){if(this.sequenceIndex===this.currentSequence.length){if(p===u.Gt||r(p)){var h=this.index-this.currentSequence.length;if(this.sectionStart<h){var g=this.index;this.index=h,this.cbs.ontext(this.sectionStart,h),this.index=g}this.isSpecial=!1,this.sectionStart=h+2,this.stateInClosingTagName(p);return}this.sequenceIndex=0}(p|32)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===c.TitleEnd?this.decodeEntities&&p===u.Amp&&(this.state=a.BeforeEntity):this.fastForwardTo(u.Lt)&&(this.sequenceIndex=1):this.sequenceIndex=+(p===u.Lt)},f.prototype.stateCDATASequence=function(p){p===c.Cdata[this.sequenceIndex]?++this.sequenceIndex===c.Cdata.length&&(this.state=a.InCommentLike,this.currentSequence=c.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=a.InDeclaration,this.stateInDeclaration(p))},f.prototype.fastForwardTo=function(p){for(;++this.index<this.buffer.length+this.offset;)if(this.buffer.charCodeAt(this.index-this.offset)===p)return!0;return this.index=this.buffer.length+this.offset-1,!1},f.prototype.stateInCommentLike=function(p){p===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===c.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index,2):this.cbs.oncomment(this.sectionStart,this.index,2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=a.Text):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):p!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)},f.prototype.isTagStartChar=function(p){return this.xmlMode?!t(p):o(p)},f.prototype.startSpecial=function(p,h){this.isSpecial=!0,this.currentSequence=p,this.sequenceIndex=h,this.state=a.SpecialStartSequence},f.prototype.stateBeforeTagName=function(p){if(p===u.ExclamationMark)this.state=a.BeforeDeclaration,this.sectionStart=this.index+1;else if(p===u.Questionmark)this.state=a.InProcessingInstruction,this.sectionStart=this.index+1;else if(this.isTagStartChar(p)){var h=p|32;this.sectionStart=this.index,!this.xmlMode&&h===c.TitleEnd[2]?this.startSpecial(c.TitleEnd,3):this.state=!this.xmlMode&&h===c.ScriptEnd[2]?a.BeforeSpecialS:a.InTagName}else p===u.Slash?this.state=a.BeforeClosingTagName:(this.state=a.Text,this.stateText(p))},f.prototype.stateInTagName=function(p){t(p)&&(this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=a.BeforeAttributeName,this.stateBeforeAttributeName(p))},f.prototype.stateBeforeClosingTagName=function(p){r(p)||(p===u.Gt?this.state=a.Text:(this.state=this.isTagStartChar(p)?a.InClosingTagName:a.InSpecialComment,this.sectionStart=this.index))},f.prototype.stateInClosingTagName=function(p){(p===u.Gt||r(p))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=a.AfterClosingTagName,this.stateAfterClosingTagName(p))},f.prototype.stateAfterClosingTagName=function(p){(p===u.Gt||this.fastForwardTo(u.Gt))&&(this.state=a.Text,this.baseState=a.Text,this.sectionStart=this.index+1)},f.prototype.stateBeforeAttributeName=function(p){p===u.Gt?(this.cbs.onopentagend(this.index),this.isSpecial?(this.state=a.InSpecialTag,this.sequenceIndex=0):this.state=a.Text,this.baseState=this.state,this.sectionStart=this.index+1):p===u.Slash?this.state=a.InSelfClosingTag:r(p)||(this.state=a.InAttributeName,this.sectionStart=this.index)},f.prototype.stateInSelfClosingTag=function(p){p===u.Gt?(this.cbs.onselfclosingtag(this.index),this.state=a.Text,this.baseState=a.Text,this.sectionStart=this.index+1,this.isSpecial=!1):r(p)||(this.state=a.BeforeAttributeName,this.stateBeforeAttributeName(p))},f.prototype.stateInAttributeName=function(p){(p===u.Eq||t(p))&&(this.cbs.onattribname(this.sectionStart,this.index),this.sectionStart=-1,this.state=a.AfterAttributeName,this.stateAfterAttributeName(p))},f.prototype.stateAfterAttributeName=function(p){p===u.Eq?this.state=a.BeforeAttributeValue:p===u.Slash||p===u.Gt?(this.cbs.onattribend(s.NoValue,this.index),this.state=a.BeforeAttributeName,this.stateBeforeAttributeName(p)):r(p)||(this.cbs.onattribend(s.NoValue,this.index),this.state=a.InAttributeName,this.sectionStart=this.index)},f.prototype.stateBeforeAttributeValue=function(p){p===u.DoubleQuote?(this.state=a.InAttributeValueDq,this.sectionStart=this.index+1):p===u.SingleQuote?(this.state=a.InAttributeValueSq,this.sectionStart=this.index+1):r(p)||(this.sectionStart=this.index,this.state=a.InAttributeValueNq,this.stateInAttributeValueNoQuotes(p))},f.prototype.handleInAttributeValue=function(p,h){p===h||!this.decodeEntities&&this.fastForwardTo(h)?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(h===u.DoubleQuote?s.Double:s.Single,this.index),this.state=a.BeforeAttributeName):this.decodeEntities&&p===u.Amp&&(this.baseState=this.state,this.state=a.BeforeEntity)},f.prototype.stateInAttributeValueDoubleQuotes=function(p){this.handleInAttributeValue(p,u.DoubleQuote)},f.prototype.stateInAttributeValueSingleQuotes=function(p){this.handleInAttributeValue(p,u.SingleQuote)},f.prototype.stateInAttributeValueNoQuotes=function(p){r(p)||p===u.Gt?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(s.Unquoted,this.index),this.state=a.BeforeAttributeName,this.stateBeforeAttributeName(p)):this.decodeEntities&&p===u.Amp&&(this.baseState=this.state,this.state=a.BeforeEntity)},f.prototype.stateBeforeDeclaration=function(p){p===u.OpeningSquareBracket?(this.state=a.CDATASequence,this.sequenceIndex=0):this.state=p===u.Dash?a.BeforeComment:a.InDeclaration},f.prototype.stateInDeclaration=function(p){(p===u.Gt||this.fastForwardTo(u.Gt))&&(this.cbs.ondeclaration(this.sectionStart,this.index),this.state=a.Text,this.sectionStart=this.index+1)},f.prototype.stateInProcessingInstruction=function(p){(p===u.Gt||this.fastForwardTo(u.Gt))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=a.Text,this.sectionStart=this.index+1)},f.prototype.stateBeforeComment=function(p){p===u.Dash?(this.state=a.InCommentLike,this.currentSequence=c.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=a.InDeclaration},f.prototype.stateInSpecialComment=function(p){(p===u.Gt||this.fastForwardTo(u.Gt))&&(this.cbs.oncomment(this.sectionStart,this.index,0),this.state=a.Text,this.sectionStart=this.index+1)},f.prototype.stateBeforeSpecialS=function(p){var h=p|32;h===c.ScriptEnd[3]?this.startSpecial(c.ScriptEnd,4):h===c.StyleEnd[3]?this.startSpecial(c.StyleEnd,4):(this.state=a.InTagName,this.stateInTagName(p))},f.prototype.stateBeforeEntity=function(p){this.entityExcess=1,this.entityResult=0,p===u.Number?this.state=a.BeforeNumericEntity:p===u.Amp||(this.trieIndex=0,this.trieCurrent=this.entityTrie[0],this.state=a.InNamedEntity,this.stateInNamedEntity(p))},f.prototype.stateInNamedEntity=function(p){if(this.entityExcess+=1,this.trieIndex=(0,e.determineBranch)(this.entityTrie,this.trieCurrent,this.trieIndex+1,p),this.trieIndex<0){this.emitNamedEntity(),this.index--;return}this.trieCurrent=this.entityTrie[this.trieIndex];var h=this.trieCurrent&e.BinTrieFlags.VALUE_LENGTH;if(h){var g=(h>>14)-1;if(!this.allowLegacyEntity()&&p!==u.Semi)this.trieIndex+=g;else{var _=this.index-this.entityExcess+1;_>this.sectionStart&&this.emitPartial(this.sectionStart,_),this.entityResult=this.trieIndex,this.trieIndex+=g,this.entityExcess=0,this.sectionStart=this.index+1,g===0&&this.emitNamedEntity()}}},f.prototype.emitNamedEntity=function(){if(this.state=this.baseState,this.entityResult!==0){var p=(this.entityTrie[this.entityResult]&e.BinTrieFlags.VALUE_LENGTH)>>14;switch(p){case 1:{this.emitCodePoint(this.entityTrie[this.entityResult]&~e.BinTrieFlags.VALUE_LENGTH);break}case 2:{this.emitCodePoint(this.entityTrie[this.entityResult+1]);break}case 3:this.emitCodePoint(this.entityTrie[this.entityResult+1]),this.emitCodePoint(this.entityTrie[this.entityResult+2])}}},f.prototype.stateBeforeNumericEntity=function(p){(p|32)===u.LowerX?(this.entityExcess++,this.state=a.InHexEntity):(this.state=a.InNumericEntity,this.stateInNumericEntity(p))},f.prototype.emitNumericEntity=function(p){var h=this.index-this.entityExcess-1,g=h+2+ +(this.state===a.InHexEntity);g!==this.index&&(h>this.sectionStart&&this.emitPartial(this.sectionStart,h),this.sectionStart=this.index+Number(p),this.emitCodePoint((0,e.replaceCodePoint)(this.entityResult))),this.state=this.baseState},f.prototype.stateInNumericEntity=function(p){p===u.Semi?this.emitNumericEntity(!0):i(p)?(this.entityResult=this.entityResult*10+(p-u.Zero),this.entityExcess++):(this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state=this.baseState,this.index--)},f.prototype.stateInHexEntity=function(p){p===u.Semi?this.emitNumericEntity(!0):i(p)?(this.entityResult=this.entityResult*16+(p-u.Zero),this.entityExcess++):l(p)?(this.entityResult=this.entityResult*16+((p|32)-u.LowerA+10),this.entityExcess++):(this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state=this.baseState,this.index--)},f.prototype.allowLegacyEntity=function(){return!this.xmlMode&&(this.baseState===a.Text||this.baseState===a.InSpecialTag)},f.prototype.cleanup=function(){this.running&&this.sectionStart!==this.index&&(this.state===a.Text||this.state===a.InSpecialTag&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):(this.state===a.InAttributeValueDq||this.state===a.InAttributeValueSq||this.state===a.InAttributeValueNq)&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))},f.prototype.shouldContinue=function(){return this.index<this.buffer.length+this.offset&&this.running},f.prototype.parse=function(){for(;this.shouldContinue();){var p=this.buffer.charCodeAt(this.index-this.offset);switch(this.state){case a.Text:{this.stateText(p);break}case a.SpecialStartSequence:{this.stateSpecialStartSequence(p);break}case a.InSpecialTag:{this.stateInSpecialTag(p);break}case a.CDATASequence:{this.stateCDATASequence(p);break}case a.InAttributeValueDq:{this.stateInAttributeValueDoubleQuotes(p);break}case a.InAttributeName:{this.stateInAttributeName(p);break}case a.InCommentLike:{this.stateInCommentLike(p);break}case a.InSpecialComment:{this.stateInSpecialComment(p);break}case a.BeforeAttributeName:{this.stateBeforeAttributeName(p);break}case a.InTagName:{this.stateInTagName(p);break}case a.InClosingTagName:{this.stateInClosingTagName(p);break}case a.BeforeTagName:{this.stateBeforeTagName(p);break}case a.AfterAttributeName:{this.stateAfterAttributeName(p);break}case a.InAttributeValueSq:{this.stateInAttributeValueSingleQuotes(p);break}case a.BeforeAttributeValue:{this.stateBeforeAttributeValue(p);break}case a.BeforeClosingTagName:{this.stateBeforeClosingTagName(p);break}case a.AfterClosingTagName:{this.stateAfterClosingTagName(p);break}case a.BeforeSpecialS:{this.stateBeforeSpecialS(p);break}case a.InAttributeValueNq:{this.stateInAttributeValueNoQuotes(p);break}case a.InSelfClosingTag:{this.stateInSelfClosingTag(p);break}case a.InDeclaration:{this.stateInDeclaration(p);break}case a.BeforeDeclaration:{this.stateBeforeDeclaration(p);break}case a.BeforeComment:{this.stateBeforeComment(p);break}case a.InProcessingInstruction:{this.stateInProcessingInstruction(p);break}case a.InNamedEntity:{this.stateInNamedEntity(p);break}case a.BeforeEntity:{this.stateBeforeEntity(p);break}case a.InHexEntity:{this.stateInHexEntity(p);break}case a.InNumericEntity:{this.stateInNumericEntity(p);break}default:this.stateBeforeNumericEntity(p)}this.index++}this.cleanup()},f.prototype.finish=function(){this.state===a.InNamedEntity&&this.emitNamedEntity(),this.sectionStart<this.index&&this.handleTrailingData(),this.cbs.onend()},f.prototype.handleTrailingData=function(){var p=this.buffer.length+this.offset;this.state===a.InCommentLike?this.currentSequence===c.CdataEnd?this.cbs.oncdata(this.sectionStart,p,0):this.cbs.oncomment(this.sectionStart,p,0):this.state===a.InNumericEntity&&this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state===a.InHexEntity&&this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state===a.InTagName||this.state===a.BeforeAttributeName||this.state===a.BeforeAttributeValue||this.state===a.AfterAttributeName||this.state===a.InAttributeName||this.state===a.InAttributeValueSq||this.state===a.InAttributeValueDq||this.state===a.InAttributeValueNq||this.state===a.InClosingTagName||this.cbs.ontext(this.sectionStart,p)},f.prototype.emitPartial=function(p,h){this.baseState!==a.Text&&this.baseState!==a.InSpecialTag?this.cbs.onattribdata(p,h):this.cbs.ontext(p,h)},f.prototype.emitCodePoint=function(p){this.baseState!==a.Text&&this.baseState!==a.InSpecialTag?this.cbs.onattribentity(p):this.cbs.ontextentity(p)},f})();n.default=d})(dC)),dC}var Ine;function Dne(){if(Ine)return Zu;Ine=1;var n=Zu&&Zu.__createBinding||(Object.create?(function(_,m,w,T){T===void 0&&(T=w);var E=Object.getOwnPropertyDescriptor(m,w);(!E||("get"in E?!m.__esModule:E.writable||E.configurable))&&(E={enumerable:!0,get:function(){return m[w]}}),Object.defineProperty(_,T,E)}):(function(_,m,w,T){T===void 0&&(T=w),_[T]=m[w]})),e=Zu&&Zu.__setModuleDefault||(Object.create?(function(_,m){Object.defineProperty(_,"default",{enumerable:!0,value:m})}):function(_,m){_.default=m}),u=Zu&&Zu.__importStar||function(_){if(_&&_.__esModule)return _;var m={};if(_!=null)for(var w in _)w!=="default"&&Object.prototype.hasOwnProperty.call(_,w)&&n(m,_,w);return e(m,_),m};Object.defineProperty(Zu,"__esModule",{value:!0}),Zu.Parser=void 0;var a=u(RTe()),r=xTe(),t=new Set(["input","option","optgroup","select","button","datalist","textarea"]),i=new Set(["p"]),o=new Set(["thead","tbody"]),l=new Set(["dd","dt"]),s=new Set(["rt","rp"]),c=new Map([["tr",new Set(["tr","th","td"])],["th",new Set(["th"])],["td",new Set(["thead","th","td"])],["body",new Set(["head","link","script"])],["li",new Set(["li"])],["p",i],["h1",i],["h2",i],["h3",i],["h4",i],["h5",i],["h6",i],["select",t],["input",t],["output",t],["button",t],["datalist",t],["textarea",t],["option",new Set(["option"])],["optgroup",new Set(["optgroup","option"])],["dd",l],["dt",l],["address",i],["article",i],["aside",i],["blockquote",i],["details",i],["div",i],["dl",i],["fieldset",i],["figcaption",i],["figure",i],["footer",i],["form",i],["header",i],["hr",i],["main",i],["nav",i],["ol",i],["pre",i],["section",i],["table",i],["ul",i],["rt",s],["rp",s],["tbody",o],["tfoot",o]]),d=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),f=new Set(["math","svg"]),p=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignobject","desc","title"]),h=/\s|\//,g=(function(){function _(m,w){w===void 0&&(w={});var T,E,S,N,j;this.options=w,this.startIndex=0,this.endIndex=0,this.openTagStart=0,this.tagname="",this.attribname="",this.attribvalue="",this.attribs=null,this.stack=[],this.foreignContext=[],this.buffers=[],this.bufferOffset=0,this.writeIndex=0,this.ended=!1,this.cbs=m??{},this.lowerCaseTagNames=(T=w.lowerCaseTags)!==null&&T!==void 0?T:!w.xmlMode,this.lowerCaseAttributeNames=(E=w.lowerCaseAttributeNames)!==null&&E!==void 0?E:!w.xmlMode,this.tokenizer=new((S=w.Tokenizer)!==null&&S!==void 0?S:a.default)(this.options,this),(j=(N=this.cbs).onparserinit)===null||j===void 0||j.call(N,this)}return _.prototype.ontext=function(m,w){var T,E,S=this.getSlice(m,w);this.endIndex=w-1,(E=(T=this.cbs).ontext)===null||E===void 0||E.call(T,S),this.startIndex=w},_.prototype.ontextentity=function(m){var w,T,E=this.tokenizer.getSectionStart();this.endIndex=E-1,(T=(w=this.cbs).ontext)===null||T===void 0||T.call(w,(0,r.fromCodePoint)(m)),this.startIndex=E},_.prototype.isVoidElement=function(m){return!this.options.xmlMode&&d.has(m)},_.prototype.onopentagname=function(m,w){this.endIndex=w;var T=this.getSlice(m,w);this.lowerCaseTagNames&&(T=T.toLowerCase()),this.emitOpenTag(T)},_.prototype.emitOpenTag=function(m){var w,T,E,S;this.openTagStart=this.startIndex,this.tagname=m;var N=!this.options.xmlMode&&c.get(m);if(N)for(;this.stack.length>0&&N.has(this.stack[this.stack.length-1]);){var j=this.stack.pop();(T=(w=this.cbs).onclosetag)===null||T===void 0||T.call(w,j,!0)}this.isVoidElement(m)||(this.stack.push(m),f.has(m)?this.foreignContext.push(!0):p.has(m)&&this.foreignContext.push(!1)),(S=(E=this.cbs).onopentagname)===null||S===void 0||S.call(E,m),this.cbs.onopentag&&(this.attribs={})},_.prototype.endOpenTag=function(m){var w,T;this.startIndex=this.openTagStart,this.attribs&&((T=(w=this.cbs).onopentag)===null||T===void 0||T.call(w,this.tagname,this.attribs,m),this.attribs=null),this.cbs.onclosetag&&this.isVoidElement(this.tagname)&&this.cbs.onclosetag(this.tagname,!0),this.tagname=""},_.prototype.onopentagend=function(m){this.endIndex=m,this.endOpenTag(!1),this.startIndex=m+1},_.prototype.onclosetag=function(m,w){var T,E,S,N,j,q;this.endIndex=w;var O=this.getSlice(m,w);if(this.lowerCaseTagNames&&(O=O.toLowerCase()),(f.has(O)||p.has(O))&&this.foreignContext.pop(),this.isVoidElement(O))!this.options.xmlMode&&O==="br"&&((E=(T=this.cbs).onopentagname)===null||E===void 0||E.call(T,"br"),(N=(S=this.cbs).onopentag)===null||N===void 0||N.call(S,"br",{},!0),(q=(j=this.cbs).onclosetag)===null||q===void 0||q.call(j,"br",!1));else{var I=this.stack.lastIndexOf(O);if(I!==-1)if(this.cbs.onclosetag)for(var A=this.stack.length-I;A--;)this.cbs.onclosetag(this.stack.pop(),A!==0);else this.stack.length=I;else!this.options.xmlMode&&O==="p"&&(this.emitOpenTag("p"),this.closeCurrentTag(!0))}this.startIndex=w+1},_.prototype.onselfclosingtag=function(m){this.endIndex=m,this.options.xmlMode||this.options.recognizeSelfClosing||this.foreignContext[this.foreignContext.length-1]?(this.closeCurrentTag(!1),this.startIndex=m+1):this.onopentagend(m)},_.prototype.closeCurrentTag=function(m){var w,T,E=this.tagname;this.endOpenTag(m),this.stack[this.stack.length-1]===E&&((T=(w=this.cbs).onclosetag)===null||T===void 0||T.call(w,E,!m),this.stack.pop())},_.prototype.onattribname=function(m,w){this.startIndex=m;var T=this.getSlice(m,w);this.attribname=this.lowerCaseAttributeNames?T.toLowerCase():T},_.prototype.onattribdata=function(m,w){this.attribvalue+=this.getSlice(m,w)},_.prototype.onattribentity=function(m){this.attribvalue+=(0,r.fromCodePoint)(m)},_.prototype.onattribend=function(m,w){var T,E;this.endIndex=w,(E=(T=this.cbs).onattribute)===null||E===void 0||E.call(T,this.attribname,this.attribvalue,m===a.QuoteType.Double?'"':m===a.QuoteType.Single?"'":m===a.QuoteType.NoValue?void 0:null),this.attribs&&!Object.prototype.hasOwnProperty.call(this.attribs,this.attribname)&&(this.attribs[this.attribname]=this.attribvalue),this.attribvalue=""},_.prototype.getInstructionName=function(m){var w=m.search(h),T=w<0?m:m.substr(0,w);return this.lowerCaseTagNames&&(T=T.toLowerCase()),T},_.prototype.ondeclaration=function(m,w){this.endIndex=w;var T=this.getSlice(m,w);if(this.cbs.onprocessinginstruction){var E=this.getInstructionName(T);this.cbs.onprocessinginstruction("!".concat(E),"!".concat(T))}this.startIndex=w+1},_.prototype.onprocessinginstruction=function(m,w){this.endIndex=w;var T=this.getSlice(m,w);if(this.cbs.onprocessinginstruction){var E=this.getInstructionName(T);this.cbs.onprocessinginstruction("?".concat(E),"?".concat(T))}this.startIndex=w+1},_.prototype.oncomment=function(m,w,T){var E,S,N,j;this.endIndex=w,(S=(E=this.cbs).oncomment)===null||S===void 0||S.call(E,this.getSlice(m,w-T)),(j=(N=this.cbs).oncommentend)===null||j===void 0||j.call(N),this.startIndex=w+1},_.prototype.oncdata=function(m,w,T){var E,S,N,j,q,O,I,A,P,C;this.endIndex=w;var B=this.getSlice(m,w-T);this.options.xmlMode||this.options.recognizeCDATA?((S=(E=this.cbs).oncdatastart)===null||S===void 0||S.call(E),(j=(N=this.cbs).ontext)===null||j===void 0||j.call(N,B),(O=(q=this.cbs).oncdataend)===null||O===void 0||O.call(q)):((A=(I=this.cbs).oncomment)===null||A===void 0||A.call(I,"[CDATA[".concat(B,"]]")),(C=(P=this.cbs).oncommentend)===null||C===void 0||C.call(P)),this.startIndex=w+1},_.prototype.onend=function(){var m,w;if(this.cbs.onclosetag){this.endIndex=this.startIndex;for(var T=this.stack.length;T>0;this.cbs.onclosetag(this.stack[--T],!0));}(w=(m=this.cbs).onend)===null||w===void 0||w.call(m)},_.prototype.reset=function(){var m,w,T,E;(w=(m=this.cbs).onreset)===null||w===void 0||w.call(m),this.tokenizer.reset(),this.tagname="",this.attribname="",this.attribs=null,this.stack.length=0,this.startIndex=0,this.endIndex=0,(E=(T=this.cbs).onparserinit)===null||E===void 0||E.call(T,this),this.buffers.length=0,this.bufferOffset=0,this.writeIndex=0,this.ended=!1},_.prototype.parseComplete=function(m){this.reset(),this.end(m)},_.prototype.getSlice=function(m,w){for(;m-this.bufferOffset>=this.buffers[0].length;)this.shiftBuffer();for(var T=this.buffers[0].slice(m-this.bufferOffset,w-this.bufferOffset);w-this.bufferOffset>this.buffers[0].length;)this.shiftBuffer(),T+=this.buffers[0].slice(0,w-this.bufferOffset);return T},_.prototype.shiftBuffer=function(){this.bufferOffset+=this.buffers[0].length,this.writeIndex--,this.buffers.shift()},_.prototype.write=function(m){var w,T;if(this.ended){(T=(w=this.cbs).onerror)===null||T===void 0||T.call(w,new Error(".write() after done!"));return}this.buffers.push(m),this.tokenizer.running&&(this.tokenizer.write(m),this.writeIndex++)},_.prototype.end=function(m){var w,T;if(this.ended){(T=(w=this.cbs).onerror)===null||T===void 0||T.call(w,new Error(".end() after done!"));return}m&&this.write(m),this.ended=!0,this.tokenizer.end()},_.prototype.pause=function(){this.tokenizer.pause()},_.prototype.resume=function(){for(this.tokenizer.resume();this.tokenizer.running&&this.writeIndex<this.buffers.length;)this.tokenizer.write(this.buffers[this.writeIndex++]);this.ended&&this.tokenizer.end()},_.prototype.parseChunk=function(m){this.write(m)},_.prototype.done=function(m){this.end(m)},_})();return Zu.Parser=g,Zu}var Fne;function UFe(){return Fne||(Fne=1,(function(n){var e=Yu&&Yu.__createBinding||(Object.create?(function(m,w,T,E){E===void 0&&(E=T);var S=Object.getOwnPropertyDescriptor(w,T);(!S||("get"in S?!w.__esModule:S.writable||S.configurable))&&(S={enumerable:!0,get:function(){return w[T]}}),Object.defineProperty(m,E,S)}):(function(m,w,T,E){E===void 0&&(E=T),m[E]=w[T]})),u=Yu&&Yu.__setModuleDefault||(Object.create?(function(m,w){Object.defineProperty(m,"default",{enumerable:!0,value:w})}):function(m,w){m.default=w}),a=Yu&&Yu.__importStar||function(m){if(m&&m.__esModule)return m;var w={};if(m!=null)for(var T in m)T!=="default"&&Object.prototype.hasOwnProperty.call(m,T)&&e(w,m,T);return u(w,m),w},r=Yu&&Yu.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(n,"__esModule",{value:!0}),n.DomUtils=n.parseFeed=n.getFeed=n.ElementType=n.Tokenizer=n.createDomStream=n.parseDOM=n.parseDocument=n.DefaultHandler=n.DomHandler=n.Parser=void 0;var t=Dne(),i=Dne();Object.defineProperty(n,"Parser",{enumerable:!0,get:function(){return i.Parser}});var o=Su(),l=Su();Object.defineProperty(n,"DomHandler",{enumerable:!0,get:function(){return l.DomHandler}}),Object.defineProperty(n,"DefaultHandler",{enumerable:!0,get:function(){return l.DomHandler}});function s(m,w){var T=new o.DomHandler(void 0,w);return new t.Parser(T,w).end(m),T.root}n.parseDocument=s;function c(m,w){return s(m,w).children}n.parseDOM=c;function d(m,w,T){var E=new o.DomHandler(m,w,T);return new t.Parser(E,w)}n.createDomStream=d;var f=RTe();Object.defineProperty(n,"Tokenizer",{enumerable:!0,get:function(){return r(f).default}}),n.ElementType=a(Sb());var p=Ws(),h=Ws();Object.defineProperty(n,"getFeed",{enumerable:!0,get:function(){return h.getFeed}});var g={xmlMode:!0};function _(m,w){return w===void 0&&(w=g),(0,p.getFeed)(c(m,w))}n.parseFeed=_,n.DomUtils=a(Ws())})(Yu)),Yu}const QFe={"http://schema.org/":{properties:{additionalType:{subPropertyOf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type"}}},"http://microformats.org/profile/hcard":{}};var Pne;function VFe(){if(Pne)return a3;Pne=1,Object.defineProperty(a3,"__esModule",{value:!0}),a3.MicrodataRdfParser=void 0;const n=UFe(),e=Nr(),u=wTe(),a=STe(),r=ATe(),t=OTe(),i=TP(),o=QFe;let l=class p7 extends e.Transform{constructor(c){super({readableObjectMode:!0}),this.itemScopeStack=[],this.textBufferStack=[],this.isEmittingReferences=!1,this.pendingItemRefsDomain={},this.pendingItemRefsRangeFinalized={},this.pendingItemRefsRangeCollecting={},c=c||{},this.options=c,this.util=new i.Util(c.dataFactory,c.baseIRI),this.defaultGraph=c.defaultGraph||this.util.dataFactory.defaultGraph(),this.htmlParseListener=c.htmlParseListener,this.vocabRegistry=c.vocabRegistry||o,this.parser=this.initializeParser(!!c.xmlMode)}import(c){const d=new e.PassThrough({readableObjectMode:!0});c.on("error",p=>f.emit("error",p)),c.on("data",p=>d.push(p)),c.on("end",()=>d.push(null));const f=d.pipe(new p7(this.options));return f}_transform(c,d,f){this.parser.write(c.toString()),f()}_flush(c){this.parser.end(),c()}getItemScope(c){let d=this.itemScopeStack.length-(c?2:1);for(;d>0&&!this.itemScopeStack[d];)d--;return this.itemScopeStack[d]}getDepth(){return this.itemScopeStack.length}onTagOpen(c,d){if(!this.isEmittingReferences){if("id"in d){const p=d.id;this.pendingItemRefsRangeCollecting[p]={events:[],counter:0,ids:[]}}for(const p of Object.values(this.pendingItemRefsRangeCollecting))p.counter++,p.events.push({type:"open",name:c,attributes:d})}this.textBufferStack.push(void 0);let f;if("itemscope"in d){let p;if(this.emittingReferencesItemScopeIdGenerator)p=this.emittingReferencesItemScopeIdGenerator();else{p="itemid"in d&&this.util.createSubject(d.itemid)||this.util.dataFactory.blankNode();for(const g of Object.values(this.pendingItemRefsRangeCollecting))g.ids.push(p)}f={subject:p},this.isEmittingReferences&&(f.blockEmission=!0);const h=this.getItemScope();h&&h.vocab&&(f.vocab=h.vocab),this.itemScopeStack.push(f)}else f=this.getItemScope(),this.itemScopeStack.push(void 0);if(f){if("itemtype"in d)for(const p of this.util.createVocabIris(d.itemtype,f,!1))f.vocab||(f.vocab=this.util.deriveVocab(p.value,this.vocabRegistry)),f.blockEmission||this.emitTriple(f.subject,this.util.dataFactory.namedNode(`${i.Util.RDF}type`),p);if("lang"in d&&(f.language=d.lang),"xml:lang"in d&&(f.language=d["xml:lang"]),"itemscope"in d&&!this.isEmittingReferences&&"itemref"in d)for(const p of d.itemref.split(/\s+/u))p in this.pendingItemRefsDomain||(this.pendingItemRefsDomain[p]=[]),this.pendingItemRefsDomain[p].push(f),this.tryToEmitReferences(p,f)}"itemprop"in d&&this.handleItemProperties(d.itemprop,!1,f,c,d),"itemprop-reverse"in d&&this.handleItemProperties(d["itemprop-reverse"],!0,f,c,d)}onText(c){if(!this.isEmittingReferences)for(const d of Object.values(this.pendingItemRefsRangeCollecting))d.events.push({type:"text",data:c});for(const d of this.textBufferStack)d&&d.push(c)}onTagClose(){if(!this.isEmittingReferences)for(const[d,f]of Object.entries(this.pendingItemRefsRangeCollecting))f.counter--,f.events.push({type:"close"}),f.counter===0&&(this.pendingItemRefsRangeFinalized[d]=f,delete this.pendingItemRefsRangeCollecting[d],this.tryToEmitReferences(d));const c=this.getItemScope(!0);if(c){const d=this.getDepth();if(c.predicates&&d in c.predicates)for(const[f,p]of Object.entries(c.predicates[d])){const h=this.util.createLiteral(this.textBufferStack[d].join(""),c);this.emitPredicateTriples(c,p,h,f==="reverse"),delete c.predicates[d][f]}}this.itemScopeStack.pop(),this.textBufferStack.pop()}onEnd(){}initializeParser(c){return new n.Parser({onclosetag:()=>{try{this.onTagClose(),this.htmlParseListener&&this.htmlParseListener.onTagClose()}catch(d){this.emit("error",d)}},onend:()=>{try{this.onEnd(),this.htmlParseListener&&this.htmlParseListener.onEnd()}catch(d){this.emit("error",d)}},onopentag:(d,f)=>{try{this.onTagOpen(d,f),this.htmlParseListener&&this.htmlParseListener.onTagOpen(d,f)}catch(p){this.emit("error",p)}},ontext:d=>{try{this.onText(d),this.htmlParseListener&&this.htmlParseListener.onText(d)}catch(f){this.emit("error",f)}}},{decodeEntities:!0,recognizeSelfClosing:!0,xmlMode:c})}handleItemProperties(c,d,f,p,h){const g=this.getItemScope(!0);if(g){const _=this.getDepth(),m=this.util.createVocabIris(c,g,!0);g.predicates||(g.predicates={}),g.predicates[_]||(g.predicates[_]={});const w=d?"reverse":"forward";g.predicates[_][w]=m;for(const T of this.util.getVocabularyExpansionType(c,g,this.vocabRegistry))m.push(T);if(f&&"itemscope"in h)this.emitPredicateTriples(g,m,f.subject,d),delete g.predicates[_][w];else for(const T of p7.ITEM_PROPERTY_HANDLERS)if(T.canHandle(p,h)){const E=T.getObject(h,this.util,g);this.emitPredicateTriples(g,m,E,d),delete g.predicates[_][w]}g.predicates[_][w]&&(this.textBufferStack[_]=[])}}emitPredicateTriples(c,d,f,p){if(!c.blockEmission)for(const h of d)p?f.termType!=="Literal"&&this.emitTriple(f,h,c.subject):this.emitTriple(c.subject,h,f)}emitTriple(c,d,f){this.push(this.util.dataFactory.quad(c,d,f,this.defaultGraph))}tryToEmitReferences(c,d){const f=this.pendingItemRefsRangeFinalized[c];if(f){let p;if(d){p=[d];const h=this.pendingItemRefsDomain[c].indexOf(d);this.pendingItemRefsDomain[c].splice(h,1)}else p=this.pendingItemRefsDomain[c],delete this.pendingItemRefsDomain[c];if(p){const h=this.itemScopeStack,g=this.textBufferStack;this.isEmittingReferences=!0;for(const _ of p){this.itemScopeStack=[_],this.textBufferStack=[void 0];const m=[...f.ids];this.emittingReferencesItemScopeIdGenerator=()=>m.shift();for(const w of f.events)switch(w.type){case"open":this.onTagOpen(w.name,w.attributes);break;case"text":this.onText(w.data);break;case"close":this.onTagClose();break}}this.emittingReferencesItemScopeIdGenerator=void 0,this.itemScopeStack=h,this.textBufferStack=g,this.isEmittingReferences=!1}}}};return a3.MicrodataRdfParser=l,l.ITEM_PROPERTY_HANDLERS=[new u.ItemPropertyHandlerContent,new t.ItemPropertyHandlerUrl("a","href"),new t.ItemPropertyHandlerUrl("area","href"),new t.ItemPropertyHandlerUrl("audio","src"),new t.ItemPropertyHandlerUrl("embed","src"),new t.ItemPropertyHandlerUrl("iframe","src"),new t.ItemPropertyHandlerUrl("img","src"),new t.ItemPropertyHandlerUrl("link","href"),new t.ItemPropertyHandlerUrl("object","data"),new t.ItemPropertyHandlerUrl("source","src"),new t.ItemPropertyHandlerUrl("track","src"),new t.ItemPropertyHandlerUrl("video","src"),new a.ItemPropertyHandlerNumber("data","value"),new a.ItemPropertyHandlerNumber("meter","value"),new r.ItemPropertyHandlerTime],a3}var jne;function HFe(){return jne||(jne=1,(function(n){var e=bp&&bp.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=bp&&bp.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(jFe(),n),u(wTe(),n),u(STe(),n),u(ATe(),n),u(OTe(),n),u(MFe(),n),u(CFe(),n),u(LFe(),n),u(VFe(),n),u(TP(),n)})(bp)),bp}var Mne;function kFe(){if(Mne)return WT;Mne=1,Object.defineProperty(WT,"__esModule",{value:!0}),WT.ActorRdfParseHtmlMicrodata=void 0;const n=ZB(),e=lt(),u=De(),a=HFe();let r=class extends n.ActorRdfParseHtml{constructor(i){super(i)}async test(i){return(0,u.passTestVoid)()}async run(i){const o=i.context.getSafe(e.KeysInitQuery.dataFactory),s=(i.headers?i.headers.get("content-type"):null)?.includes("xml"),c=new a.MicrodataRdfParser({dataFactory:o,baseIRI:i.baseIRI,xmlMode:s});c.on("error",i.error),c.on("data",i.emit);const d=c.onEnd;return c.onEnd=()=>{d.call(c),i.end()},{htmlParseListener:c}}};return WT.ActorRdfParseHtmlMicrodata=r,WT}var Cne;function eU(){return Cne||(Cne=1,(function(n){var e=yp&&yp.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=yp&&yp.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(kFe(),n)})(yp)),yp}var gp={},i3={},Lne;function zFe(){if(Lne)return i3;Lne=1,Object.defineProperty(i3,"__esModule",{value:!0}),i3.ActorRdfParseHtmlRdfa=void 0;const n=ZB(),e=lt(),u=De(),a=gTe();let r=class extends n.ActorRdfParseHtml{constructor(i){super(i)}async test(i){return(0,u.passTestVoid)()}async run(i){const o=i.context.getSafe(e.KeysInitQuery.dataFactory),l=i.headers?i.headers.get("content-type"):null,s=(i.headers&&i.headers.get("content-language"))??void 0,c=l&&l.includes("xml")?"xhtml":"html",d=new a.RdfaParser({dataFactory:o,baseIRI:i.baseIRI,profile:c,language:s});d.on("error",i.error),d.on("data",i.emit);const f=d.onEnd;return d.onEnd=()=>{f.call(d),i.end()},{htmlParseListener:d}}};return i3.ActorRdfParseHtmlRdfa=r,i3}var qne;function tU(){return qne||(qne=1,(function(n){var e=gp&&gp.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=gp&&gp.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(zFe(),n)})(gp)),gp}var vp={},u3={},_p={},o3={},Bne;function GFe(){if(Bne)return o3;Bne=1,Object.defineProperty(o3,"__esModule",{value:!0}),o3.ActorRdfResolveHypermediaLinks=void 0;const n=De();let e=class extends n.Actor{constructor(a){super(a)}};return o3.ActorRdfResolveHypermediaLinks=e,o3}var Une;function NTe(){return Une||(Une=1,(function(n){var e=_p&&_p.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=_p&&_p.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(GFe(),n)})(_p)),_p}var Qne;function $Fe(){if(Qne)return u3;Qne=1,Object.defineProperty(u3,"__esModule",{value:!0}),u3.ActorRdfResolveHypermediaLinksNext=void 0;const n=NTe(),e=De();let u=class extends n.ActorRdfResolveHypermediaLinks{constructor(r){super(r)}async test(r){return!r.metadata.next||r.metadata.next.length===0?(0,e.failTest)(`Actor ${this.name} requires a 'next' metadata entry.`):(0,e.passTestVoid)()}async run(r){return{links:r.metadata.next.map(t=>({url:t}))}}};return u3.ActorRdfResolveHypermediaLinksNext=u,u3}var Vne;function rU(){return Vne||(Vne=1,(function(n){var e=vp&&vp.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=vp&&vp.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u($Fe(),n)})(vp)),vp}var Tp={},s3={},Hne;function XFe(){if(Hne)return s3;Hne=1,Object.defineProperty(s3,"__esModule",{value:!0}),s3.ActorRdfResolveHypermediaLinksTraverse=void 0;const n=NTe(),e=lt(),u=De();let a=class extends n.ActorRdfResolveHypermediaLinks{constructor(t){super(t),this.upgradeInsecureRequests=t.upgradeInsecureRequests}async test(t){return t.metadata.traverse?t.context.has(e.KeysQuerySourceIdentify.traverse)&&!t.context.get(e.KeysQuerySourceIdentify.traverse)?(0,u.failTest)("Link traversal has been disabled via the context."):(0,u.passTestVoid)():(0,u.failTest)(`Actor ${this.name} requires a 'traverse' metadata entry.`)}async run(t){return{links:t.metadata.traverse.map(i=>{const o=i.url.indexOf("#");return o>=0&&(i.url=i.url.slice(0,o)),i.url.startsWith("http:")&&(this.upgradeInsecureRequests??(globalThis.window&&globalThis.window.location.protocol==="https:"&&!t.context.get(e.KeysHttpProxy.httpProxyHandler)))&&(i.url=i.url.replace("http:","https:")),i})}}};return s3.ActorRdfResolveHypermediaLinksTraverse=a,s3}var kne;function nU(){return kne||(kne=1,(function(n){var e=Tp&&Tp.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=Tp&&Tp.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(XFe(),n)})(Tp)),Tp}var wp={},c3={},Sp={},l3={},zne;function KFe(){if(zne)return l3;zne=1,Object.defineProperty(l3,"__esModule",{value:!0}),l3.ActorRdfSerialize=void 0;const n=E1();let e=class extends n.ActorAbstractMediaTyped{constructor(a){super(a)}};return l3.ActorRdfSerialize=e,l3}var d3={},Gne;function JFe(){if(Gne)return d3;Gne=1,Object.defineProperty(d3,"__esModule",{value:!0}),d3.ActorRdfSerializeFixedMediaTypes=void 0;const n=E1(),e=De();let u=class extends n.ActorAbstractMediaTypedFixed{constructor(r){super(r)}async testHandleChecked(){return(0,e.passTestVoid)()}};return d3.ActorRdfSerializeFixedMediaTypes=u,d3}var $ne;function aU(){return $ne||($ne=1,(function(n){var e=Sp&&Sp.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=Sp&&Sp.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(KFe(),n),u(JFe(),n)})(Sp)),Sp}var Xne;function WFe(){if(Xne)return c3;Xne=1,Object.defineProperty(c3,"__esModule",{value:!0}),c3.ActorRdfSerializeN3=void 0;const n=aU(),e=wl;let u=class extends n.ActorRdfSerializeFixedMediaTypes{constructor(r){super(r)}async runHandle(r,t){const i=new e.StreamWriter({format:t});let o;return"pipe"in r.quadStream?(r.quadStream.on("error",l=>i.emit("error",l)),o=r.quadStream.pipe(i)):o=i.import(r.quadStream),{data:o,triples:t==="text/turtle"||t==="application/n-triples"||t==="text/n3"}}};return c3.ActorRdfSerializeN3=u,c3}var Kne;function iU(){return Kne||(Kne=1,(function(n){var e=wp&&wp.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=wp&&wp.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(WFe(),n)})(wp)),wp}var Ep={},f3={},Ap={},p3={},Op={},h3={},pC={},Jne;function wP(){return Jne||(Jne=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.ERROR_CODES=n.ErrorCoded=void 0;class e extends Error{constructor(a,r){super(a),this.code=r}}n.ErrorCoded=e,(function(u){u.COLLIDING_KEYWORDS="colliding keywords",u.CONFLICTING_INDEXES="conflicting indexes",u.CYCLIC_IRI_MAPPING="cyclic IRI mapping",u.INVALID_ID_VALUE="invalid @id value",u.INVALID_INDEX_VALUE="invalid @index value",u.INVALID_NEST_VALUE="invalid @nest value",u.INVALID_PREFIX_VALUE="invalid @prefix value",u.INVALID_PROPAGATE_VALUE="invalid @propagate value",u.INVALID_REVERSE_VALUE="invalid @reverse value",u.INVALID_IMPORT_VALUE="invalid @import value",u.INVALID_VERSION_VALUE="invalid @version value",u.INVALID_BASE_IRI="invalid base IRI",u.INVALID_CONTAINER_MAPPING="invalid container mapping",u.INVALID_CONTEXT_ENTRY="invalid context entry",u.INVALID_CONTEXT_NULLIFICATION="invalid context nullification",u.INVALID_DEFAULT_LANGUAGE="invalid default language",u.INVALID_INCLUDED_VALUE="invalid @included value",u.INVALID_IRI_MAPPING="invalid IRI mapping",u.INVALID_JSON_LITERAL="invalid JSON literal",u.INVALID_KEYWORD_ALIAS="invalid keyword alias",u.INVALID_LANGUAGE_MAP_VALUE="invalid language map value",u.INVALID_LANGUAGE_MAPPING="invalid language mapping",u.INVALID_LANGUAGE_TAGGED_STRING="invalid language-tagged string",u.INVALID_LANGUAGE_TAGGED_VALUE="invalid language-tagged value",u.INVALID_LOCAL_CONTEXT="invalid local context",u.INVALID_REMOTE_CONTEXT="invalid remote context",u.INVALID_REVERSE_PROPERTY="invalid reverse property",u.INVALID_REVERSE_PROPERTY_MAP="invalid reverse property map",u.INVALID_REVERSE_PROPERTY_VALUE="invalid reverse property value",u.INVALID_SCOPED_CONTEXT="invalid scoped context",u.INVALID_SCRIPT_ELEMENT="invalid script element",u.INVALID_SET_OR_LIST_OBJECT="invalid set or list object",u.INVALID_TERM_DEFINITION="invalid term definition",u.INVALID_TYPE_MAPPING="invalid type mapping",u.INVALID_TYPE_VALUE="invalid type value",u.INVALID_TYPED_VALUE="invalid typed value",u.INVALID_VALUE_OBJECT="invalid value object",u.INVALID_VALUE_OBJECT_VALUE="invalid value object value",u.INVALID_VOCAB_MAPPING="invalid vocab mapping",u.IRI_CONFUSED_WITH_PREFIX="IRI confused with prefix",u.KEYWORD_REDEFINITION="keyword redefinition",u.LOADING_DOCUMENT_FAILED="loading document failed",u.LOADING_REMOTE_CONTEXT_FAILED="loading remote context failed",u.MULTIPLE_CONTEXT_LINK_HEADERS="multiple context link headers",u.PROCESSING_MODE_CONFLICT="processing mode conflict",u.PROTECTED_TERM_REDEFINITION="protected term redefinition",u.CONTEXT_OVERFLOW="context overflow",u.INVALID_BASE_DIRECTION="invalid base direction",u.RECURSIVE_CONTEXT_INCLUSION="recursive context inclusion",u.INVALID_STREAMING_KEY_ORDER="invalid streaming key order",u.INVALID_EMBEDDED_NODE="invalid embedded node",u.INVALID_ANNOTATION="invalid annotation"})(n.ERROR_CODES||(n.ERROR_CODES={}))})(pC)),pC}var y3={},Wne;function ITe(){if(Wne)return y3;Wne=1,Object.defineProperty(y3,"__esModule",{value:!0}),y3.FetchDocumentLoader=void 0;const n=wP(),e=W4(),u=Xn();class a{constructor(t){this.fetcher=t}async load(t){const i=await(this.fetcher||fetch)(t,{headers:new Headers({accept:"application/ld+json"})});if(i.ok&&i.headers){let o=i.headers.get("Content-Type");if(o){const l=o.indexOf(";");l>0&&(o=o.substr(0,l))}if(o==="application/ld+json")return await i.json();if(i.headers.has("Link")){let l;if(i.headers.forEach((s,c)=>{if(c==="link"){const d=(0,e.parse)(s);for(const f of d.get("type","application/ld+json"))if(f.rel==="alternate"){if(l)throw new Error("Multiple JSON-LD alternate links were found on "+t);l=(0,u.resolve)(f.uri,t)}}}),l)return this.load(l)}throw new n.ErrorCoded(`Unsupported JSON-LD media type ${o}`,n.ERROR_CODES.LOADING_DOCUMENT_FAILED)}else throw new Error(i.statusText||`Status code: ${i.status}`)}}return y3.FetchDocumentLoader=a,y3}var hC={},m3={},Yne;function uU(){if(Yne)return m3;Yne=1,Object.defineProperty(m3,"__esModule",{value:!0}),m3.Util=void 0;class n{static isCompactIri(u){return u.indexOf(":")>0&&!(u&&u[0]==="#")}static getPrefix(u,a){if(u&&u[0]==="#")return null;const r=u.indexOf(":");if(r>=0){if(u.length>r+1&&u.charAt(r+1)==="/"&&u.charAt(r+2)==="/")return null;const t=u.substr(0,r);if(t==="_")return null;if(a[t])return t}return null}static getContextValueId(u){if(u===null||typeof u=="string")return u;const a=u["@id"];return a||null}static isSimpleTermDefinitionPrefix(u,a){return!n.isPotentialKeyword(u)&&(a.allowPrefixNonGenDelims||typeof u=="string"&&(u[0]==="_"||n.isPrefixIriEndingWithGenDelim(u)))}static isPotentialKeyword(u){return typeof u=="string"&&n.KEYWORD_REGEX.test(u)}static isPrefixIriEndingWithGenDelim(u){return n.ENDS_WITH_GEN_DELIM.test(u)}static isPrefixValue(u){return u&&(typeof u=="string"||u&&typeof u=="object")}static isValidIri(u){return!!(u&&n.IRI_REGEX.test(u))}static isValidIriWeak(u){return!!u&&u[0]!==":"&&n.IRI_REGEX_WEAK.test(u)}static isValidKeyword(u){return n.VALID_KEYWORDS[u]}static isTermProtected(u,a){const r=u[a];return typeof r!="string"&&r&&r["@protected"]}static hasProtectedTerms(u){for(const a of Object.keys(u))if(n.isTermProtected(u,a))return!0;return!1}static isReservedInternalKeyword(u){return u.startsWith("@__")}static deepEqual(u,a){const r=Object.keys(u),t=Object.keys(a);return r.length!==t.length?!1:r.every(i=>{const o=u[i],l=a[i];return o===l||o!==null&&l!==null&&typeof o=="object"&&typeof l=="object"&&this.deepEqual(o,l)})}}return n.IRI_REGEX=/^([A-Za-z][A-Za-z0-9+-.]*|_):[^ "<>{}|\\\[\]`#]*(#[^#]*)?$/,n.IRI_REGEX_WEAK=/(?::[^:])|\//,n.KEYWORD_REGEX=/^@[a-z]+$/i,n.ENDS_WITH_GEN_DELIM=/[:/?#\[\]@]$/,n.REGEX_LANGUAGE_TAG=/^[a-zA-Z]+(-[a-zA-Z0-9]+)*$/,n.REGEX_DIRECTION_TAG=/^(ltr)|(rtl)$/,n.VALID_KEYWORDS={"@annotation":!0,"@base":!0,"@container":!0,"@context":!0,"@direction":!0,"@graph":!0,"@id":!0,"@import":!0,"@included":!0,"@index":!0,"@json":!0,"@language":!0,"@list":!0,"@nest":!0,"@none":!0,"@prefix":!0,"@propagate":!0,"@protected":!0,"@reverse":!0,"@set":!0,"@type":!0,"@value":!0,"@version":!0,"@vocab":!0},n.EXPAND_KEYS_BLACKLIST=["@base","@vocab","@language","@version","@direction"],n.ALIAS_DOMAIN_BLACKLIST=["@container","@graph","@id","@index","@list","@nest","@none","@prefix","@reverse","@set","@type","@value","@version"],n.ALIAS_RANGE_BLACKLIST=["@context","@preserve"],n.CONTAINERS=["@list","@set","@index","@language","@graph","@id","@type"],n.CONTAINERS_1_0=["@list","@set","@index"],m3.Util=n,m3}var Zne;function DTe(){return Zne||(Zne=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.defaultExpandOptions=n.JsonLdContextNormalized=void 0;const e=Xn(),u=wP(),a=uU();class r{constructor(i){this.contextRaw=i}getContextRaw(){return this.contextRaw}expandTerm(i,o,l=n.defaultExpandOptions){const s=this.contextRaw[i];if(s===null||s&&s["@id"]===null)return null;let c=!0;if(s&&o){const _=a.Util.getContextValueId(s);if(_&&_!==i)if(typeof _!="string"||!a.Util.isValidIri(_)&&!a.Util.isValidKeyword(_))a.Util.isPotentialKeyword(_)||(c=!1);else return _}const d=a.Util.getPrefix(i,this.contextRaw),f=this.contextRaw["@vocab"],p=(!!f||f==="")&&f.indexOf(":")<0,h=this.contextRaw["@base"],g=a.Util.isPotentialKeyword(i);if(d){const _=this.contextRaw[d],m=a.Util.getContextValueId(_);if(m){if(typeof _=="string"||!l.allowPrefixForcing){if(!a.Util.isSimpleTermDefinitionPrefix(m,l))return i}else if(m[0]!=="_"&&!g&&!_["@prefix"]&&!(i in this.contextRaw))return i;return m+i.substr(d.length+1)}}else if(o&&(f||f===""||l.allowVocabRelativeToBase&&h&&p)&&!g&&!a.Util.isCompactIri(i))if(p){if(l.allowVocabRelativeToBase)return(f||h?(0,e.resolve)(f,h):"")+i;throw new u.ErrorCoded(`Relative vocab expansion for term '${i}' with vocab '${f}' is not allowed.`,u.ERROR_CODES.INVALID_VOCAB_MAPPING)}else return f+i;else if(!o&&h&&!g&&!a.Util.isCompactIri(i))return(0,e.resolve)(i,h);if(c)return i;throw new u.ErrorCoded(`Invalid IRI mapping found for context entry '${i}': '${JSON.stringify(s)}'`,u.ERROR_CODES.INVALID_IRI_MAPPING)}compactIri(i,o){if(o&&this.contextRaw["@vocab"]&&i.startsWith(this.contextRaw["@vocab"]))return i.substr(this.contextRaw["@vocab"].length);if(!o&&this.contextRaw["@base"]&&i.startsWith(this.contextRaw["@base"]))return i.substr(this.contextRaw["@base"].length);const l={prefix:"",suffix:i};for(const s in this.contextRaw){const c=this.contextRaw[s];if(c&&!a.Util.isPotentialKeyword(s)){const d=a.Util.getContextValueId(c);if(i.startsWith(d)){const f=i.substr(d.length);if(f)f.length<l.suffix.length&&(l.prefix=s,l.suffix=f);else if(o)return s}}}return l.prefix?l.prefix+":"+l.suffix:i}}n.JsonLdContextNormalized=r,n.defaultExpandOptions={allowPrefixForcing:!0,allowPrefixNonGenDelims:!1,allowVocabRelativeToBase:!0}})(hC)),hC}var eae;function YFe(){if(eae)return h3;eae=1,Object.defineProperty(h3,"__esModule",{value:!0}),h3.ContextParser=void 0;const n=Xn(),e=wP(),u=ITe(),a=DTe(),r=uU();class t{constructor(o){o=o||{},this.documentLoader=o.documentLoader||new u.FetchDocumentLoader,this.documentCache={},this.validateContext=!o.skipValidation,this.expandContentTypeToBase=!!o.expandContentTypeToBase,this.remoteContextsDepthLimit=o.remoteContextsDepthLimit||32,this.redirectSchemaOrgHttps="redirectSchemaOrgHttps"in o?!!o.redirectSchemaOrgHttps:!0}static validateLanguage(o,l,s){if(typeof o!="string")throw new e.ErrorCoded(`The value of an '@language' must be a string, got '${JSON.stringify(o)}'`,s);if(!r.Util.REGEX_LANGUAGE_TAG.test(o)){if(l)throw new e.ErrorCoded(`The value of an '@language' must be a valid language tag, got '${JSON.stringify(o)}'`,s);return!1}return!0}static validateDirection(o,l){if(typeof o!="string")throw new e.ErrorCoded(`The value of an '@direction' must be a string, got '${JSON.stringify(o)}'`,e.ERROR_CODES.INVALID_BASE_DIRECTION);if(!r.Util.REGEX_DIRECTION_TAG.test(o)){if(l)throw new e.ErrorCoded(`The value of an '@direction' must be 'ltr' or 'rtl', got '${JSON.stringify(o)}'`,e.ERROR_CODES.INVALID_BASE_DIRECTION);return!1}return!0}idifyReverseTerms(o){for(const l of Object.keys(o)){let s=o[l];if(s&&typeof s=="object"&&s["@reverse"]&&!s["@id"]){if(typeof s["@reverse"]!="string"||r.Util.isValidKeyword(s["@reverse"]))throw new e.ErrorCoded(`Invalid @reverse value, must be absolute IRI or blank node: '${s["@reverse"]}'`,e.ERROR_CODES.INVALID_IRI_MAPPING);s=o[l]=Object.assign(Object.assign({},s),{"@id":s["@reverse"]}),s["@id"]=s["@reverse"],r.Util.isPotentialKeyword(s["@reverse"])?delete s["@reverse"]:s["@reverse"]=!0}}return o}expandPrefixedTerms(o,l,s){const c=o.getContextRaw();for(const d of s||Object.keys(c))if(r.Util.EXPAND_KEYS_BLACKLIST.indexOf(d)<0&&!r.Util.isReservedInternalKeyword(d)){const f=c[d];if(r.Util.isPotentialKeyword(d)&&r.Util.ALIAS_DOMAIN_BLACKLIST.indexOf(d)>=0&&(d!=="@type"||typeof c[d]=="object"&&!(c[d]["@protected"]||c[d]["@container"]==="@set")))throw new e.ErrorCoded(`Keywords can not be aliased to something else.
Tried mapping ${d} to ${JSON.stringify(f)}`,e.ERROR_CODES.KEYWORD_REDEFINITION);if(r.Util.ALIAS_RANGE_BLACKLIST.indexOf(r.Util.getContextValueId(f))>=0)throw new e.ErrorCoded(`Aliasing to certain keywords is not allowed.
Tried mapping ${d} to ${JSON.stringify(f)}`,e.ERROR_CODES.INVALID_KEYWORD_ALIAS);if(f&&r.Util.isPotentialKeyword(r.Util.getContextValueId(f))&&f["@prefix"]===!0)throw new e.ErrorCoded(`Tried to use keyword aliases as prefix: '${d}': '${JSON.stringify(f)}'`,e.ERROR_CODES.INVALID_TERM_DEFINITION);for(;r.Util.isPrefixValue(c[d]);){const p=c[d];let h=!1;if(typeof p=="string")c[d]=o.expandTerm(p,!0),h=h||p!==c[d];else{const g=p["@id"],_=p["@type"],m=!("@prefix"in p)||r.Util.isValidIri(d);if("@id"in p)g!=null&&typeof g=="string"&&(c[d]=Object.assign(Object.assign({},c[d]),{"@id":o.expandTerm(g,!0)}),h=h||g!==c[d]["@id"]);else if(!r.Util.isPotentialKeyword(d)&&m){const w=o.expandTerm(d,!0);w!==d&&(c[d]=Object.assign(Object.assign({},c[d]),{"@id":w}),h=!0)}if(_&&typeof _=="string"&&_!=="@vocab"&&(!p["@container"]||!p["@container"]["@type"])&&m){let w=o.expandTerm(_,!0);l&&_===w&&(w=o.expandTerm(_,!1)),w!==_&&(h=!0,c[d]=Object.assign(Object.assign({},c[d]),{"@type":w}))}}if(!h)break}}}normalize(o,{processingMode:l,normalizeLanguageTags:s}){if(s||l===1)for(const c of Object.keys(o))if(c==="@language"&&typeof o[c]=="string")o[c]=o[c].toLowerCase();else{const d=o[c];if(d&&typeof d=="object"&&typeof d["@language"]=="string"){const f=d["@language"].toLowerCase();f!==d["@language"]&&(o[c]=Object.assign(Object.assign({},d),{"@language":f}))}}}containersToHash(o){for(const l of Object.keys(o)){const s=o[l];if(s&&typeof s=="object"){if(typeof s["@container"]=="string")o[l]=Object.assign(Object.assign({},s),{"@container":{[s["@container"]]:!0}});else if(Array.isArray(s["@container"])){const c={};for(const d of s["@container"])c[d]=!0;o[l]=Object.assign(Object.assign({},s),{"@container":c})}}}}applyScopedProtected(o,{processingMode:l},s){if(l&&l>=1.1&&o["@protected"]){for(const c of Object.keys(o))if(!r.Util.isReservedInternalKeyword(c)&&!r.Util.isPotentialKeyword(c)&&!r.Util.isTermProtected(o,c)){const d=o[c];d&&typeof d=="object"?"@protected"in o[c]||(o[c]=Object.assign(Object.assign({},o[c]),{"@protected":!0})):(o[c]={"@id":d,"@protected":!0},r.Util.isSimpleTermDefinitionPrefix(d,s)&&(o[c]=Object.assign(Object.assign({},o[c]),{"@prefix":!0})))}delete o["@protected"]}}validateKeywordRedefinitions(o,l,s,c){for(const d of c??Object.keys(l))if(r.Util.isTermProtected(o,d)&&(typeof l[d]=="string"?l[d]={"@id":l[d],"@protected":!0}:l[d]=Object.assign(Object.assign({},l[d]),{"@protected":!0}),!r.Util.deepEqual(o[d],l[d])))throw new e.ErrorCoded(`Attempted to override the protected keyword ${d} from ${JSON.stringify(r.Util.getContextValueId(o[d]))} to ${JSON.stringify(r.Util.getContextValueId(l[d]))}`,e.ERROR_CODES.PROTECTED_TERM_REDEFINITION)}validate(o,{processingMode:l}){for(const s of Object.keys(o)){if(r.Util.isReservedInternalKeyword(s))continue;if(s==="")throw new e.ErrorCoded(`The empty term is not allowed, got: '${s}': '${JSON.stringify(o[s])}'`,e.ERROR_CODES.INVALID_TERM_DEFINITION);const c=o[s],d=typeof c;if(r.Util.isPotentialKeyword(s)){switch(s.substr(1)){case"vocab":if(c!==null&&d!=="string")throw new e.ErrorCoded(`Found an invalid @vocab IRI: ${c}`,e.ERROR_CODES.INVALID_VOCAB_MAPPING);break;case"base":if(c!==null&&d!=="string")throw new e.ErrorCoded(`Found an invalid @base IRI: ${o[s]}`,e.ERROR_CODES.INVALID_BASE_IRI);break;case"language":c!==null&&t.validateLanguage(c,!0,e.ERROR_CODES.INVALID_DEFAULT_LANGUAGE);break;case"version":if(c!==null&&d!=="number")throw new e.ErrorCoded(`Found an invalid @version number: ${c}`,e.ERROR_CODES.INVALID_VERSION_VALUE);break;case"direction":c!==null&&t.validateDirection(c,!0);break;case"propagate":if(l===1)throw new e.ErrorCoded(`Found an illegal @propagate keyword: ${c}`,e.ERROR_CODES.INVALID_CONTEXT_ENTRY);if(c!==null&&d!=="boolean")throw new e.ErrorCoded(`Found an invalid @propagate value: ${c}`,e.ERROR_CODES.INVALID_PROPAGATE_VALUE);break}if(r.Util.isValidKeyword(s)&&r.Util.isValidKeyword(r.Util.getContextValueId(c)))throw new e.ErrorCoded(`Illegal keyword alias in term value, found: '${s}': '${r.Util.getContextValueId(c)}'`,e.ERROR_CODES.KEYWORD_REDEFINITION);continue}if(c!==null)switch(d){case"string":if(r.Util.getPrefix(c,o)===s)throw new e.ErrorCoded(`Detected cyclical IRI mapping in context entry: '${s}': '${JSON.stringify(c)}'`,e.ERROR_CODES.CYCLIC_IRI_MAPPING);if(r.Util.isValidIriWeak(s)){if(c==="@type")throw new e.ErrorCoded(`IRIs can not be mapped to @type, found: '${s}': '${c}'`,e.ERROR_CODES.INVALID_IRI_MAPPING);if(r.Util.isValidIri(c)&&c!==new a.JsonLdContextNormalized(o).expandTerm(s))throw new e.ErrorCoded(`IRIs can not be mapped to other IRIs, found: '${s}': '${c}'`,e.ERROR_CODES.INVALID_IRI_MAPPING)}break;case"object":if(!r.Util.isCompactIri(s)&&!("@id"in c)&&(c["@type"]==="@id"?!o["@base"]:!o["@vocab"]))throw new e.ErrorCoded(`Missing @id in context entry: '${s}': '${JSON.stringify(c)}'`,e.ERROR_CODES.INVALID_IRI_MAPPING);for(const f of Object.keys(c)){const p=c[f];if(p)switch(f){case"@id":if(r.Util.isValidKeyword(p)&&p!=="@type"&&p!=="@id"&&p!=="@graph"&&p!=="@nest")throw new e.ErrorCoded(`Illegal keyword alias in term value, found: '${s}': '${JSON.stringify(c)}'`,e.ERROR_CODES.INVALID_IRI_MAPPING);if(r.Util.isValidIriWeak(s)){if(p==="@type")throw new e.ErrorCoded(`IRIs can not be mapped to @type, found: '${s}': '${JSON.stringify(c)}'`,e.ERROR_CODES.INVALID_IRI_MAPPING);if(r.Util.isValidIri(p)&&p!==new a.JsonLdContextNormalized(o).expandTerm(s))throw new e.ErrorCoded(`IRIs can not be mapped to other IRIs, found: '${s}': '${JSON.stringify(c)}'`,e.ERROR_CODES.INVALID_IRI_MAPPING)}if(typeof p!="string")throw new e.ErrorCoded(`Detected non-string @id in context entry: '${s}': '${JSON.stringify(c)}'`,e.ERROR_CODES.INVALID_IRI_MAPPING);if(r.Util.getPrefix(p,o)===s)throw new e.ErrorCoded(`Detected cyclical IRI mapping in context entry: '${s}': '${JSON.stringify(c)}'`,e.ERROR_CODES.CYCLIC_IRI_MAPPING);break;case"@type":if(c["@container"]==="@type"&&p!=="@id"&&p!=="@vocab")throw new e.ErrorCoded(`@container: @type only allows @type: @id or @vocab, but got: '${s}': '${p}'`,e.ERROR_CODES.INVALID_TYPE_MAPPING);if(typeof p!="string")throw new e.ErrorCoded(`The value of an '@type' must be a string, got '${JSON.stringify(d)}'`,e.ERROR_CODES.INVALID_TYPE_MAPPING);if(p!=="@id"&&p!=="@vocab"&&(l===1||p!=="@json")&&(l===1||p!=="@none")&&(p[0]==="_"||!r.Util.isValidIri(p)))throw new e.ErrorCoded(`A context @type must be an absolute IRI, found: '${s}': '${p}'`,e.ERROR_CODES.INVALID_TYPE_MAPPING);break;case"@reverse":if(typeof p=="string"&&c["@id"]&&c["@id"]!==p)throw new e.ErrorCoded(`Found non-matching @id and @reverse term values in '${s}':'${p}' and '${c["@id"]}'`,e.ERROR_CODES.INVALID_REVERSE_PROPERTY);if("@nest"in c)throw new e.ErrorCoded(`@nest is not allowed in the reverse property '${s}'`,e.ERROR_CODES.INVALID_REVERSE_PROPERTY);break;case"@container":if(l===1&&(Object.keys(p).length>1||r.Util.CONTAINERS_1_0.indexOf(Object.keys(p)[0])<0))throw new e.ErrorCoded(`Invalid term @container for '${s}' ('${Object.keys(p)}') in 1.0, must be only one of ${r.Util.CONTAINERS_1_0.join(", ")}`,e.ERROR_CODES.INVALID_CONTAINER_MAPPING);for(const h of Object.keys(p)){if(h==="@list"&&c["@reverse"])throw new e.ErrorCoded(`Term value can not be @container: @list and @reverse at the same time on '${s}'`,e.ERROR_CODES.INVALID_REVERSE_PROPERTY);if(r.Util.CONTAINERS.indexOf(h)<0)throw new e.ErrorCoded(`Invalid term @container for '${s}' ('${h}'), must be one of ${r.Util.CONTAINERS.join(", ")}`,e.ERROR_CODES.INVALID_CONTAINER_MAPPING)}break;case"@language":t.validateLanguage(p,!0,e.ERROR_CODES.INVALID_LANGUAGE_MAPPING);break;case"@direction":t.validateDirection(p,!0);break;case"@prefix":if(p!==null&&typeof p!="boolean")throw new e.ErrorCoded(`Found an invalid term @prefix boolean in: '${s}': '${JSON.stringify(c)}'`,e.ERROR_CODES.INVALID_PREFIX_VALUE);if(!("@id"in c)&&!r.Util.isValidIri(s))throw new e.ErrorCoded(`Invalid @prefix definition for '${s}' ('${JSON.stringify(c)}'`,e.ERROR_CODES.INVALID_TERM_DEFINITION);break;case"@index":if(l===1||!c["@container"]||!c["@container"]["@index"])throw new e.ErrorCoded(`Attempt to add illegal key to value object: '${s}': '${JSON.stringify(c)}'`,e.ERROR_CODES.INVALID_TERM_DEFINITION);break;case"@nest":if(r.Util.isPotentialKeyword(p)&&p!=="@nest")throw new e.ErrorCoded(`Found an invalid term @nest value in: '${s}': '${JSON.stringify(c)}'`,e.ERROR_CODES.INVALID_NEST_VALUE)}}break;default:throw new e.ErrorCoded(`Found an invalid term value: '${s}': '${c}'`,e.ERROR_CODES.INVALID_TERM_DEFINITION)}}}applyBaseEntry(o,l,s){return typeof o=="string"||(s&&!("@base"in o)&&l.parentContext&&typeof l.parentContext=="object"&&"@base"in l.parentContext&&(o["@base"]=l.parentContext["@base"],l.parentContext["@__baseDocument"]&&(o["@__baseDocument"]=!0)),l.baseIRI&&!l.external&&("@base"in o?o["@base"]!==null&&typeof o["@base"]=="string"&&!r.Util.isValidIri(o["@base"])&&(o["@base"]=(0,n.resolve)(o["@base"],l.parentContext&&l.parentContext["@base"]||l.baseIRI)):(o["@base"]=l.baseIRI,o["@__baseDocument"]=!0))),o}normalizeContextIri(o,l){if(!r.Util.isValidIri(o))try{o=(0,n.resolve)(o,l)}catch{throw new Error(`Invalid context IRI: ${o}`)}return this.redirectSchemaOrgHttps&&o.startsWith("http://schema.org")&&(o="https://schema.org/"),o}async parseInnerContexts(o,l,s){for(const c of s??Object.keys(o)){const d=o[c];if(d&&typeof d=="object"&&"@context"in d&&d["@context"]!==null&&!l.ignoreScopedContexts){if(this.validateContext)try{const f=Object.assign(Object.assign({},o),{[c]:Object.assign({},o[c])});delete f[c]["@context"],await this.parse(d["@context"],Object.assign(Object.assign({},l),{external:!1,parentContext:f,ignoreProtection:!0,ignoreRemoteScopedContexts:!0,ignoreScopedContexts:!0}))}catch(f){throw new e.ErrorCoded(f.message,e.ERROR_CODES.INVALID_SCOPED_CONTEXT)}o[c]=Object.assign(Object.assign({},d),{"@context":(await this.parse(d["@context"],Object.assign(Object.assign({},l),{external:!1,minimalProcessing:!0,ignoreRemoteScopedContexts:!0,parentContext:o}))).getContextRaw()})}}return o}async parse(o,l={},s={}){const{baseIRI:c,parentContext:d,external:f,processingMode:p=t.DEFAULT_PROCESSING_MODE,normalizeLanguageTags:h,ignoreProtection:g,minimalProcessing:_}=l,m=l.remoteContexts||{};if(Object.keys(m).length>=this.remoteContextsDepthLimit)throw new e.ErrorCoded("Detected an overflow in remote context inclusions: "+Object.keys(m),e.ERROR_CODES.CONTEXT_OVERFLOW);if(o==null){if(!g&&d&&r.Util.hasProtectedTerms(d))throw new e.ErrorCoded("Illegal context nullification when terms are protected",e.ERROR_CODES.INVALID_CONTEXT_NULLIFICATION);return new a.JsonLdContextNormalized(this.applyBaseEntry({},l,!1))}else if(typeof o=="string"){const w=this.normalizeContextIri(o,c),T=this.getOverriddenLoad(w,l);if(T)return new a.JsonLdContextNormalized(T);const E=await this.parse(await this.load(w),Object.assign(Object.assign({},l),{baseIRI:w,external:!0,remoteContexts:Object.assign(Object.assign({},m),{[w]:!0})}));return this.applyBaseEntry(E.getContextRaw(),l,!0),E}else if(Array.isArray(o)){const w=[],T=await Promise.all(o.map((S,N)=>{if(typeof S=="string"){const j=this.normalizeContextIri(S,c);w[N]=j;const q=this.getOverriddenLoad(j,l);return q||this.load(j)}else return S}));if(_)return new a.JsonLdContextNormalized(T);const E=await T.reduce((S,N,j)=>S.then(q=>this.parse(N,Object.assign(Object.assign({},l),{baseIRI:w[j]||l.baseIRI,external:!!w[j]||l.external,parentContext:q.getContextRaw(),remoteContexts:w[j]?Object.assign(Object.assign({},m),{[w[j]]:!0}):m}),{skipValidation:j<T.length-1})),Promise.resolve(new a.JsonLdContextNormalized(d||{})));return this.applyBaseEntry(E.getContextRaw(),l,!0),E}else if(typeof o=="object"){if("@context"in o)return await this.parse(o["@context"],l);if(o=Object.assign({},o),f&&delete o["@base"],this.applyBaseEntry(o,l,!0),this.containersToHash(o),_)return new a.JsonLdContextNormalized(o);let w={};if("@import"in o)if(p>=1.1){if(typeof o["@import"]!="string")throw new e.ErrorCoded("An @import value must be a string, but got "+typeof o["@import"],e.ERROR_CODES.INVALID_IMPORT_VALUE);w=await this.loadImportContext(this.normalizeContextIri(o["@import"],c)),delete o["@import"]}else throw new e.ErrorCoded("Context importing is not supported in JSON-LD 1.0",e.ERROR_CODES.INVALID_CONTEXT_ENTRY);this.applyScopedProtected(w,{processingMode:p},a.defaultExpandOptions);const T=Object.assign(w,o);this.idifyReverseTerms(T),this.normalize(T,{processingMode:p,normalizeLanguageTags:h}),this.applyScopedProtected(T,{processingMode:p},a.defaultExpandOptions);const E=Object.keys(T),S=[];if(typeof d=="object")for(const j in d)j in T?S.push(j):T[j]=d[j];await this.parseInnerContexts(T,l,E);const N=new a.JsonLdContextNormalized(T);return(T&&T["@version"]||t.DEFAULT_PROCESSING_MODE)>=1.1&&(o["@vocab"]&&typeof o["@vocab"]=="string"||o["@vocab"]==="")&&(d&&"@vocab"in d&&o["@vocab"].indexOf(":")<0?T["@vocab"]=d["@vocab"]+o["@vocab"]:(r.Util.isCompactIri(o["@vocab"])||o["@vocab"]in T)&&(T["@vocab"]=N.expandTerm(o["@vocab"],!0))),this.expandPrefixedTerms(N,this.expandContentTypeToBase,E),!g&&d&&p>=1.1&&this.validateKeywordRedefinitions(d,T,a.defaultExpandOptions,S),this.validateContext&&!s.skipValidation&&this.validate(T,{processingMode:p}),N}else throw new e.ErrorCoded(`Tried parsing a context that is not a string, array or object, but got ${o}`,e.ERROR_CODES.INVALID_LOCAL_CONTEXT)}async load(o){const l=this.documentCache[o];if(l)return l;let s;try{s=await this.documentLoader.load(o)}catch(c){throw new e.ErrorCoded(`Failed to load remote context ${o}: ${c.message}`,e.ERROR_CODES.LOADING_REMOTE_CONTEXT_FAILED)}if(!("@context"in s))throw new e.ErrorCoded(`Missing @context in remote context at ${o}`,e.ERROR_CODES.INVALID_REMOTE_CONTEXT);return this.documentCache[o]=s["@context"]}getOverriddenLoad(o,l){if(o in(l.remoteContexts||{})){if(l.ignoreRemoteScopedContexts)return o;throw new e.ErrorCoded("Detected a cyclic context inclusion of "+o,e.ERROR_CODES.RECURSIVE_CONTEXT_INCLUSION)}return null}async loadImportContext(o){let l=await this.load(o);if(typeof l!="object"||Array.isArray(l))throw new e.ErrorCoded("An imported context must be a single object: "+o,e.ERROR_CODES.INVALID_REMOTE_CONTEXT);if("@import"in l)throw new e.ErrorCoded("An imported context can not import another context: "+o,e.ERROR_CODES.INVALID_CONTEXT_ENTRY);return l=Object.assign({},l),this.containersToHash(l),l}}return t.DEFAULT_PROCESSING_MODE=1.1,h3.ContextParser=t,h3}var yC={},tae;function ZFe(){return tae||(tae=1,Object.defineProperty(yC,"__esModule",{value:!0})),yC}var mC={},rae;function ePe(){return rae||(rae=1,Object.defineProperty(mC,"__esModule",{value:!0})),mC}var nae;function FTe(){return nae||(nae=1,(function(n){var e=Op&&Op.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=Op&&Op.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(YFe(),n),u(wP(),n),u(ITe(),n),u(ZFe(),n),u(ePe(),n),u(DTe(),n),u(uU(),n)})(Op)),Op}var b3={},aae;function tPe(){if(aae)return b3;aae=1,Object.defineProperty(b3,"__esModule",{value:!0}),b3.SeparatorType=void 0;let n=class{constructor(u){this.label=u}};return b3.SeparatorType=n,n.COMMA=new n(","),n.OBJECT_START=new n("{"),n.OBJECT_END=new n("}"),n.OBJECT_END_COMMA=new n("},"),n.ARRAY_START=new n("["),n.ARRAY_END=new n("]"),n.ARRAY_END_COMMA=new n("],"),n.GRAPH_FIELD_NONCOMPACT=new n('"@graph": ['),n.GRAPH_FIELD_COMPACT=new n('"@graph":['),n.CONTEXT_FIELD=new n('"@context":'),b3}var g3={},iae;function PTe(){if(iae)return g3;iae=1,Object.defineProperty(g3,"__esModule",{value:!0}),g3.Util=void 0;const n=FTe();class e{static termToValue(a,r,t={compactIds:!1,useNativeTypes:!1}){switch(a.termType){case"NamedNode":const i=r.compactIri(a.value,t.vocab);return t.compactIds?i:{"@id":i};case"DefaultGraph":return t.compactIds?a.value:{"@id":a.value};case"BlankNode":const o=`_:${a.value}`;return t.compactIds?o:{"@id":o};case"Literal":if(a.datatype.value===e.RDF_JSON){let c;try{c=JSON.parse(a.value)}catch(d){throw new n.ErrorCoded("Invalid JSON literal: "+d.message,n.ERROR_CODES.INVALID_JSON_LITERAL)}return{"@value":c,"@type":"@json"}}if(t.rdfDirection==="i18n-datatype"&&a.datatype.value.startsWith(e.I18N)){const[c,d]=a.datatype.value.substr(e.I18N.length,a.datatype.value.length).split("_");return Object.assign(Object.assign({"@value":a.value},c?{"@language":c}:{}),d?{"@direction":d}:{})}const l=a.datatype.value===e.XSD_STRING,s={"@value":!l&&t.useNativeTypes?e.stringToNativeType(a.value,a.datatype.value):a.value};return a.language?Object.assign(Object.assign({},s),{"@language":a.language}):!l&&typeof s["@value"]=="string"?Object.assign(Object.assign({},s),{"@type":a.datatype.value}):s}}static stringToNativeType(a,r){if(r.startsWith(e.XSD))switch(r.substr(e.XSD.length)){case"boolean":if(a==="true")return!0;if(a==="false")return!1;throw new Error(`Invalid xsd:boolean value '${a}'`);case"integer":case"number":case"int":case"byte":case"long":const i=parseInt(a,10);if(isNaN(i))throw new Error(`Invalid xsd:integer value '${a}'`);return i;case"float":case"double":const o=parseFloat(a);if(isNaN(o))throw new Error(`Invalid xsd:float value '${a}'`);return o}return a}}return g3.Util=e,e.XSD="http://www.w3.org/2001/XMLSchema#",e.XSD_STRING=e.XSD+"string",e.RDF="http://www.w3.org/1999/02/22-rdf-syntax-ns#",e.RDF_TYPE=e.RDF+"type",e.RDF_JSON=e.RDF+"JSON",e.I18N="https://www.w3.org/ns/i18n#",g3}var uae;function rPe(){if(uae)return p3;uae=1,Object.defineProperty(p3,"__esModule",{value:!0}),p3.JsonLdSerializer=void 0;const n=FTe(),e=tPe(),u=PTe(),a=Nr();let r=class jTe extends a.Transform{constructor(i={}){super({objectMode:!0}),this.indentation=0,this.options=i,this.options.baseIRI&&!this.options.context&&(this.options.context={"@base":this.options.baseIRI}),this.options.context?(this.originalContext=this.options.context,this.context=new n.ContextParser().parse(this.options.context,{baseIRI:this.options.baseIRI})):this.context=Promise.resolve(new n.JsonLdContextNormalized({}))}import(i){const o=new a.PassThrough({objectMode:!0});i.on("error",s=>l.emit("error",s)),i.on("data",s=>o.push(s)),i.on("end",()=>o.push(null));const l=o.pipe(new jTe(this.options));return l}_transform(i,o,l){this.context.then(s=>{this.transformQuad(i,s),l()}).catch(l)}async list(i){const o=await this.context;return{"@list":i.map(l=>u.Util.termToValue(l,o,this.options))}}_flush(i){return this.opened||this.pushDocumentStart(),this.lastPredicate&&this.endPredicate(),this.lastSubject&&this.endSubject(),this.lastGraph&&this.lastGraph.termType!=="DefaultGraph"&&this.endGraph(),this.endDocument(),i(null,null)}transformQuad(i,o){this.opened||this.pushDocumentStart();const l=this.lastGraph&&this.lastGraph.termType!=="DefaultGraph"&&this.lastGraph.equals(i.subject);if(!l&&(!this.lastGraph||!i.graph.equals(this.lastGraph))){let s=i.graph.termType!=="DefaultGraph"&&this.lastSubject&&this.lastSubject.equals(i.graph);this.lastGraph&&(this.lastGraph.termType!=="DefaultGraph"?(this.endPredicate(),this.endSubject(),this.endGraph(!0),s=!1):s?(this.endPredicate(!0),this.lastSubject=null):(this.endPredicate(),this.endSubject(!0))),i.graph.termType!=="DefaultGraph"&&(s||this.pushId(i.graph,!0,o),this.pushSeparator(this.options.space?e.SeparatorType.GRAPH_FIELD_NONCOMPACT:e.SeparatorType.GRAPH_FIELD_COMPACT),this.indentation++),this.lastGraph=i.graph}(!this.lastSubject||!i.subject.equals(this.lastSubject))&&(l?(this.endPredicate(),this.endSubject(),this.indentation--,this.pushSeparator(e.SeparatorType.ARRAY_END_COMMA),this.lastGraph=i.graph):(this.lastSubject&&(this.endPredicate(),this.endSubject(!0)),this.pushId(i.subject,!0,o)),this.lastSubject=i.subject),(!this.lastPredicate||!i.predicate.equals(this.lastPredicate))&&(this.lastPredicate&&this.endPredicate(!0),this.pushPredicate(i.predicate,o)),this.pushObject(i.object,o)}pushDocumentStart(){this.opened=!0,this.originalContext&&!this.options.excludeContext?(this.pushSeparator(e.SeparatorType.OBJECT_START),this.indentation++,this.pushSeparator(e.SeparatorType.CONTEXT_FIELD),this.pushIndented(JSON.stringify(this.originalContext,null,this.options.space)+","),this.pushSeparator(this.options.space?e.SeparatorType.GRAPH_FIELD_NONCOMPACT:e.SeparatorType.GRAPH_FIELD_COMPACT),this.indentation++):(this.pushSeparator(e.SeparatorType.ARRAY_START),this.indentation++)}pushId(i,o,l){if(i.termType==="Quad")this.pushNestedQuad(i,!0,l);else{const s=i.termType==="BlankNode"?"_:"+i.value:l.compactIri(i.value,!1);o?this.pushSeparator(e.SeparatorType.OBJECT_START):(this.push(e.SeparatorType.OBJECT_START.label),this.options.space&&this.push(`
`)),this.indentation++,this.pushIndented(this.options.space?`"@id": "${s}",`:`"@id":"${s}",`)}}pushPredicate(i,o){let l=i.value;!this.options.useRdfType&&l===u.Util.RDF_TYPE&&(l="@type",this.objectOptions=Object.assign(Object.assign({},this.options),{compactIds:!0,vocab:!0}));const s=o.compactIri(l,!0);this.pushIndented(this.options.space?`"${s}": [`:`"${s}":[`),this.indentation++,this.lastPredicate=i}pushObject(i,o){if(this.hadObjectForPredicate?this.pushSeparator(e.SeparatorType.COMMA):this.hadObjectForPredicate=!0,i.termType==="Quad"){const s=this.lastSubject,c=this.lastPredicate;this.hadObjectForPredicate=!1,this.pushNestedQuad(i,!1,o),this.endSubject(!1),this.hadObjectForPredicate=!0,this.lastPredicate=c,this.lastSubject=s;return}let l;try{i["@list"]?l=i:l=u.Util.termToValue(i,o,this.objectOptions||this.options)}catch(s){return this.emit("error",s)}this.pushIndented(JSON.stringify(l,null,this.options.space))}pushNestedQuad(i,o,l){this.pushSeparator(e.SeparatorType.OBJECT_START),this.indentation++,this.pushIndented(this.options.space?'"@id": ':'"@id":',!1),i.graph.termType!=="DefaultGraph"&&this.emit("error",new Error(`Found a nested quad with the non-default graph: ${i.graph.value}`)),this.pushId(i.subject,!1,l),this.pushPredicate(i.predicate,l),this.pushObject(i.object,l),this.endPredicate(!1),this.endSubject(o)}endDocument(){this.opened=!1,this.originalContext&&!this.options.excludeContext?(this.indentation--,this.pushSeparator(e.SeparatorType.ARRAY_END),this.indentation--,this.pushSeparator(e.SeparatorType.OBJECT_END)):(this.indentation--,this.pushSeparator(e.SeparatorType.ARRAY_END))}endPredicate(i){this.indentation--,this.pushSeparator(i?e.SeparatorType.ARRAY_END_COMMA:e.SeparatorType.ARRAY_END),this.hadObjectForPredicate=!1,this.objectOptions=null,this.lastPredicate=null}endSubject(i){this.indentation--,this.pushSeparator(i?e.SeparatorType.OBJECT_END_COMMA:e.SeparatorType.OBJECT_END),this.lastSubject=null}endGraph(i){this.indentation--,this.pushSeparator(e.SeparatorType.ARRAY_END),this.indentation--,this.pushSeparator(i?e.SeparatorType.OBJECT_END_COMMA:e.SeparatorType.OBJECT_END),this.lastGraph=null}pushSeparator(i){this.pushIndented(i.label)}pushIndented(i,o=!0){const l=this.getIndentPrefix(),s=i.split(`
`).map(c=>l+c).join(`
`);this.push(s),this.options.space&&o&&this.push(`
`)}getIndentPrefix(){return this.options.space?this.options.space.repeat(this.indentation):""}};return p3.JsonLdSerializer=r,p3}var oae;function nPe(){return oae||(oae=1,(function(n){var e=Ap&&Ap.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=Ap&&Ap.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(rPe(),n),u(PTe(),n)})(Ap)),Ap}var sae;function aPe(){if(sae)return f3;sae=1,Object.defineProperty(f3,"__esModule",{value:!0}),f3.ActorRdfSerializeJsonLd=void 0;const n=aU(),e=nPe();let u=class extends n.ActorRdfSerializeFixedMediaTypes{constructor(r){super(r)}async runHandle(r,t,i){const o=new e.JsonLdSerializer({space:" ".repeat(this.jsonStringifyIndentSpaces)});let l;return"pipe"in r.quadStream?(r.quadStream.on("error",s=>o.emit("error",s)),l=r.quadStream.pipe(o)):l=o.import(r.quadStream),{data:l}}};return f3.ActorRdfSerializeJsonLd=u,f3}var cae;function oU(){return cae||(cae=1,(function(n){var e=Ep&&Ep.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=Ep&&Ep.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(aPe(),n)})(Ep)),Ep}var xp={},v3={},dD={},lae;function iPe(){if(lae)return dD;lae=1,Object.defineProperty(dD,"__esModule",{value:!0});function n(u,a){return new Promise((r,t)=>{u.on("end",()=>r(a)),u.on("error",t)})}function e(u){const a=[];return n(u.on("data",r=>a.push(r)),a)}return dD.default=e,dD}var qs={},zc={},_3={},T3={},dae;function uPe(){if(dae)return T3;dae=1,Object.defineProperty(T3,"__esModule",{value:!0}),T3.fragment=void 0;function n(a){let r=a;(r.endsWith("/")||r.endsWith("#"))&&(r=r.slice(0,r.length-1));const t=[];r.lastIndexOf("/")>0&&t.push(r.lastIndexOf("/")),r.lastIndexOf("#")>0&&t.push(r.lastIndexOf("#"));const i=Math.max(...t);return r.slice(i+1)}function e(a){var r;const t=(r=a.split(/[^a-z0-9]+/ig).filter(i=>i!=="").map(i=>i[0].toUpperCase()+i.slice(1)).join("").match(/[a-z][a-z0-9]+/ig))===null||r===void 0?void 0:r[0];return typeof t>"u"?void 0:t[0].toLowerCase()+t.slice(1)}function u(a){let r=n(a);return r=r?e(r):void 0,r||"v"}return T3.fragment=u,T3}var Rp={},Np={},Bs={},fD={exports:{}},fae;function oPe(){return fae||(fae=1,(function(n,e){var u=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof ab<"u"&&ab,a=(function(){function t(){this.fetch=!1,this.DOMException=u.DOMException}return t.prototype=u,new t})();(function(t){(function(i){var o=typeof t<"u"&&t||typeof self<"u"&&self||typeof ab<"u"&&ab||{},l={searchParams:"URLSearchParams"in o,iterable:"Symbol"in o&&"iterator"in Symbol,blob:"FileReader"in o&&"Blob"in o&&(function(){try{return new Blob,!0}catch{return!1}})(),formData:"FormData"in o,arrayBuffer:"ArrayBuffer"in o};function s(V){return V&&DataView.prototype.isPrototypeOf(V)}if(l.arrayBuffer)var c=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],d=ArrayBuffer.isView||function(V){return V&&c.indexOf(Object.prototype.toString.call(V))>-1};function f(V){if(typeof V!="string"&&(V=String(V)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(V)||V==="")throw new TypeError('Invalid character in header field name: "'+V+'"');return V.toLowerCase()}function p(V){return typeof V!="string"&&(V=String(V)),V}function h(V){var U={next:function(){var G=V.shift();return{done:G===void 0,value:G}}};return l.iterable&&(U[Symbol.iterator]=function(){return U}),U}function g(V){this.map={},V instanceof g?V.forEach(function(U,G){this.append(G,U)},this):Array.isArray(V)?V.forEach(function(U){if(U.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+U.length);this.append(U[0],U[1])},this):V&&Object.getOwnPropertyNames(V).forEach(function(U){this.append(U,V[U])},this)}g.prototype.append=function(V,U){V=f(V),U=p(U);var G=this.map[V];this.map[V]=G?G+", "+U:U},g.prototype.delete=function(V){delete this.map[f(V)]},g.prototype.get=function(V){return V=f(V),this.has(V)?this.map[V]:null},g.prototype.has=function(V){return this.map.hasOwnProperty(f(V))},g.prototype.set=function(V,U){this.map[f(V)]=p(U)},g.prototype.forEach=function(V,U){for(var G in this.map)this.map.hasOwnProperty(G)&&V.call(U,this.map[G],G,this)},g.prototype.keys=function(){var V=[];return this.forEach(function(U,G){V.push(G)}),h(V)},g.prototype.values=function(){var V=[];return this.forEach(function(U){V.push(U)}),h(V)},g.prototype.entries=function(){var V=[];return this.forEach(function(U,G){V.push([G,U])}),h(V)},l.iterable&&(g.prototype[Symbol.iterator]=g.prototype.entries);function _(V){if(!V._noBody){if(V.bodyUsed)return Promise.reject(new TypeError("Already read"));V.bodyUsed=!0}}function m(V){return new Promise(function(U,G){V.onload=function(){U(V.result)},V.onerror=function(){G(V.error)}})}function w(V){var U=new FileReader,G=m(U);return U.readAsArrayBuffer(V),G}function T(V){var U=new FileReader,G=m(U),J=/charset=([A-Za-z0-9_-]+)/.exec(V.type),ne=J?J[1]:"utf-8";return U.readAsText(V,ne),G}function E(V){for(var U=new Uint8Array(V),G=new Array(U.length),J=0;J<U.length;J++)G[J]=String.fromCharCode(U[J]);return G.join("")}function S(V){if(V.slice)return V.slice(0);var U=new Uint8Array(V.byteLength);return U.set(new Uint8Array(V)),U.buffer}function N(){return this.bodyUsed=!1,this._initBody=function(V){this.bodyUsed=this.bodyUsed,this._bodyInit=V,V?typeof V=="string"?this._bodyText=V:l.blob&&Blob.prototype.isPrototypeOf(V)?this._bodyBlob=V:l.formData&&FormData.prototype.isPrototypeOf(V)?this._bodyFormData=V:l.searchParams&&URLSearchParams.prototype.isPrototypeOf(V)?this._bodyText=V.toString():l.arrayBuffer&&l.blob&&s(V)?(this._bodyArrayBuffer=S(V.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):l.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(V)||d(V))?this._bodyArrayBuffer=S(V):this._bodyText=V=Object.prototype.toString.call(V):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof V=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):l.searchParams&&URLSearchParams.prototype.isPrototypeOf(V)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},l.blob&&(this.blob=function(){var V=_(this);if(V)return V;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var V=_(this);return V||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(l.blob)return this.blob().then(w);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var V=_(this);if(V)return V;if(this._bodyBlob)return T(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(E(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},l.formData&&(this.formData=function(){return this.text().then(I)}),this.json=function(){return this.text().then(JSON.parse)},this}var j=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function q(V){var U=V.toUpperCase();return j.indexOf(U)>-1?U:V}function O(V,U){if(!(this instanceof O))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');U=U||{};var G=U.body;if(V instanceof O){if(V.bodyUsed)throw new TypeError("Already read");this.url=V.url,this.credentials=V.credentials,U.headers||(this.headers=new g(V.headers)),this.method=V.method,this.mode=V.mode,this.signal=V.signal,!G&&V._bodyInit!=null&&(G=V._bodyInit,V.bodyUsed=!0)}else this.url=String(V);if(this.credentials=U.credentials||this.credentials||"same-origin",(U.headers||!this.headers)&&(this.headers=new g(U.headers)),this.method=q(U.method||this.method||"GET"),this.mode=U.mode||this.mode||null,this.signal=U.signal||this.signal||(function(){if("AbortController"in o){var W=new AbortController;return W.signal}})(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&G)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(G),(this.method==="GET"||this.method==="HEAD")&&(U.cache==="no-store"||U.cache==="no-cache")){var J=/([?&])_=[^&]*/;if(J.test(this.url))this.url=this.url.replace(J,"$1_="+new Date().getTime());else{var ne=/\?/;this.url+=(ne.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}O.prototype.clone=function(){return new O(this,{body:this._bodyInit})};function I(V){var U=new FormData;return V.trim().split("&").forEach(function(G){if(G){var J=G.split("="),ne=J.shift().replace(/\+/g," "),W=J.join("=").replace(/\+/g," ");U.append(decodeURIComponent(ne),decodeURIComponent(W))}}),U}function A(V){var U=new g,G=V.replace(/\r?\n[\t ]+/g," ");return G.split("\r").map(function(J){return J.indexOf(`
`)===0?J.substr(1,J.length):J}).forEach(function(J){var ne=J.split(":"),W=ne.shift().trim();if(W){var ee=ne.join(":").trim();try{U.append(W,ee)}catch(se){console.warn("Response "+se.message)}}}),U}N.call(O.prototype);function P(V,U){if(!(this instanceof P))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(U||(U={}),this.type="default",this.status=U.status===void 0?200:U.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=U.statusText===void 0?"":""+U.statusText,this.headers=new g(U.headers),this.url=U.url||"",this._initBody(V)}N.call(P.prototype),P.prototype.clone=function(){return new P(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new g(this.headers),url:this.url})},P.error=function(){var V=new P(null,{status:200,statusText:""});return V.ok=!1,V.status=0,V.type="error",V};var C=[301,302,303,307,308];P.redirect=function(V,U){if(C.indexOf(U)===-1)throw new RangeError("Invalid status code");return new P(null,{status:U,headers:{location:V}})},i.DOMException=o.DOMException;try{new i.DOMException}catch{i.DOMException=function(U,G){this.message=U,this.name=G;var J=Error(U);this.stack=J.stack},i.DOMException.prototype=Object.create(Error.prototype),i.DOMException.prototype.constructor=i.DOMException}function B(V,U){return new Promise(function(G,J){var ne=new O(V,U);if(ne.signal&&ne.signal.aborted)return J(new i.DOMException("Aborted","AbortError"));var W=new XMLHttpRequest;function ee(){W.abort()}W.onload=function(){var le={statusText:W.statusText,headers:A(W.getAllResponseHeaders()||"")};ne.url.indexOf("file://")===0&&(W.status<200||W.status>599)?le.status=200:le.status=W.status,le.url="responseURL"in W?W.responseURL:le.headers.get("X-Request-URL");var Ee="response"in W?W.response:W.responseText;setTimeout(function(){G(new P(Ee,le))},0)},W.onerror=function(){setTimeout(function(){J(new TypeError("Network request failed"))},0)},W.ontimeout=function(){setTimeout(function(){J(new TypeError("Network request timed out"))},0)},W.onabort=function(){setTimeout(function(){J(new i.DOMException("Aborted","AbortError"))},0)};function se(le){try{return le===""&&o.location.href?o.location.href:le}catch{return le}}if(W.open(ne.method,se(ne.url),!0),ne.credentials==="include"?W.withCredentials=!0:ne.credentials==="omit"&&(W.withCredentials=!1),"responseType"in W&&(l.blob?W.responseType="blob":l.arrayBuffer&&(W.responseType="arraybuffer")),U&&typeof U.headers=="object"&&!(U.headers instanceof g||o.Headers&&U.headers instanceof o.Headers)){var pe=[];Object.getOwnPropertyNames(U.headers).forEach(function(le){pe.push(f(le)),W.setRequestHeader(le,p(U.headers[le]))}),ne.headers.forEach(function(le,Ee){pe.indexOf(Ee)===-1&&W.setRequestHeader(Ee,le)})}else ne.headers.forEach(function(le,Ee){W.setRequestHeader(Ee,le)});ne.signal&&(ne.signal.addEventListener("abort",ee),W.onreadystatechange=function(){W.readyState===4&&ne.signal.removeEventListener("abort",ee)}),W.send(typeof ne._bodyInit>"u"?null:ne._bodyInit)})}return B.polyfill=!0,o.fetch||(o.fetch=B,o.Headers=g,o.Request=O,o.Response=P),i.Headers=g,i.Request=O,i.Response=P,i.fetch=B,Object.defineProperty(i,"__esModule",{value:!0}),i})({})})(a),a.fetch.ponyfill=!0,delete a.fetch.polyfill;var r=u.fetch?u:a;e=r.fetch,e.default=r.fetch,e.fetch=r.fetch,e.Headers=r.Headers,e.Request=r.Request,e.Response=r.Response,n.exports=e})(fD,fD.exports)),fD.exports}var pae;function sU(){if(pae)return Bs;pae=1;var n=Bs&&Bs.__awaiter||function(r,t,i,o){function l(s){return s instanceof i?s:new i(function(c){c(s)})}return new(i||(i=Promise))(function(s,c){function d(h){try{p(o.next(h))}catch(g){c(g)}}function f(h){try{p(o.throw(h))}catch(g){c(g)}}function p(h){h.done?s(h.value):l(h.value).then(d,f)}p((o=o.apply(r,t||[])).next())})};Object.defineProperty(Bs,"__esModule",{value:!0}),Bs.fetchContext=Bs.fetchJson=void 0;const e=oPe();function u(r,t){var i;return n(this,void 0,void 0,function*(){return(yield((i=t?.fetch)!==null&&i!==void 0?i:e.fetch)(r)).json()})}Bs.fetchJson=u;function a(r,t){return n(this,void 0,void 0,function*(){return(yield u(r,t))["@context"]})}return Bs.fetchContext=a,Bs}var hae;function sPe(){if(hae)return Np;hae=1;var n=Np&&Np.__awaiter||function(a,r,t,i){function o(l){return l instanceof t?l:new t(function(s){s(l)})}return new(t||(t=Promise))(function(l,s){function c(p){try{f(i.next(p))}catch(h){s(h)}}function d(p){try{f(i.throw(p))}catch(h){s(h)}}function f(p){p.done?l(p.value):o(p.value).then(c,d)}f((i=i.apply(a,r||[])).next())})};Object.defineProperty(Np,"__esModule",{value:!0}),Np.lookupUri=void 0;const e=sU();function u(a,r){return n(this,void 0,void 0,function*(){const t=(yield(0,e.fetchContext)(`https://prefix.cc/${a}.file.jsonld`,r))[a];if(typeof t!="string")throw new Error(`Expected uri to be a string, received: ${t} of type ${typeof t}`);return t})}return Np.lookupUri=u,Np}var Ip={},yae;function cPe(){if(yae)return Ip;yae=1;var n=Ip&&Ip.__awaiter||function(a,r,t,i){function o(l){return l instanceof t?l:new t(function(s){s(l)})}return new(t||(t=Promise))(function(l,s){function c(p){try{f(i.next(p))}catch(h){s(h)}}function d(p){try{f(i.throw(p))}catch(h){s(h)}}function f(p){p.done?l(p.value):o(p.value).then(c,d)}f((i=i.apply(a,r||[])).next())})};Object.defineProperty(Ip,"__esModule",{value:!0}),Ip.lookupPrefix=void 0;const e=sU();function u(a,r){return n(this,void 0,void 0,function*(){const t=new URL("https://prefix.cc/reverse");t.searchParams.append("uri",a),t.searchParams.append("format","jsonld");const i=Object.keys(yield(0,e.fetchContext)(t,r));if(i.length===0)throw new Error("No prefixes returned");return i[0]})}return Ip.lookupPrefix=u,Ip}var Dp={},mae;function lPe(){if(mae)return Dp;mae=1;var n=Dp&&Dp.__awaiter||function(a,r,t,i){function o(l){return l instanceof t?l:new t(function(s){s(l)})}return new(t||(t=Promise))(function(l,s){function c(p){try{f(i.next(p))}catch(h){s(h)}}function d(p){try{f(i.throw(p))}catch(h){s(h)}}function f(p){p.done?l(p.value):o(p.value).then(c,d)}f((i=i.apply(a,r||[])).next())})};Object.defineProperty(Dp,"__esModule",{value:!0}),Dp.lookupAllPrefixes=void 0;const e=sU();function u(a){return n(this,void 0,void 0,function*(){return(0,e.fetchContext)("https://prefix.cc/context",a)})}return Dp.lookupAllPrefixes=u,Dp}var bae;function gae(){return bae||(bae=1,(function(n){var e=Rp&&Rp.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=Rp&&Rp.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(sPe(),n),u(cPe(),n),u(lPe(),n)})(Rp)),Rp}var vae;function dPe(){return vae||(vae=1,(function(n){var e=_3&&_3.__awaiter||function(o,l,s,c){function d(f){return f instanceof s?f:new s(function(p){p(f)})}return new(s||(s=Promise))(function(f,p){function h(m){try{_(c.next(m))}catch(w){p(w)}}function g(m){try{_(c.throw(m))}catch(w){p(w)}}function _(m){m.done?f(m.value):d(m.value).then(h,g)}_((c=c.apply(o,l||[])).next())})};Object.defineProperty(n,"__esModule",{value:!0}),n.lookupAllPrefixes=n.prefixToUri=n.uriToPrefix=void 0;const u=uPe(),a=gae();function r(o,l){return e(this,void 0,void 0,function*(){let s;try{s=yield(0,a.lookupPrefix)(o,l)}catch{l?.mintOnUnknown&&(s=(0,u.fragment)(o).slice(0,4))}if(typeof s<"u"&&typeof l?.existingPrefixes=="object"&&s in l.existingPrefixes){let c=0;for(;`${s}${c}`in l.existingPrefixes;)c+=1;s=`${s}${c}`}return s})}n.uriToPrefix=r;function t(o,l){return e(this,void 0,void 0,function*(){try{return yield(0,a.lookupUri)(o,l)}catch{return}})}n.prefixToUri=t;var i=gae();Object.defineProperty(n,"lookupAllPrefixes",{enumerable:!0,get:function(){return i.lookupAllPrefixes}})})(_3)),_3}var w3={},_ae;function fPe(){if(_ae)return w3;_ae=1,Object.defineProperty(w3,"__esModule",{value:!0}),w3.getShaclName=void 0;function n(e){if(e.termType!=="NamedNode"||!e.value.startsWith("http://www.w3.org/ns/shacl#"))throw new Error(`Term ${e.value} is not part of the SHACL namespace`);return e.value.slice(27)}return w3.getShaclName=n,w3}var pD={},Tae;function pPe(){return Tae||(Tae=1,Object.defineProperty(pD,"__esModule",{value:!0}),pD.default={deactivated:!0,severity:!0,message:!0,class:!0,datatype:!0,nodeKind:!0,minExclusive:!0,minInclusive:!0,maxExclusive:!0,maxInclusive:!0,minLength:!0,maxLength:!0,pattern:!0,flags:!0,languageIn:!0,uniqueLang:!0,equals:!0,disjoint:!0,lessThan:!0,lessThanOrEquals:!0,qualifiedValueShape:!0,qualifiedMinCount:!0,qualifiedMaxCount:!0,qualifiedValueShapesDisjoint:!0,closed:!0,ignoredProperties:!0,hasValue:!0,in:!0,node:!0}),pD}var hD={},wae;function hPe(){return wae||(wae=1,Object.defineProperty(hD,"__esModule",{value:!0}),hD.default={owl:"http://www.w3.org/2002/07/owl#",rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",sh:"http://www.w3.org/ns/shacl#",xsd:"http://www.w3.org/2001/XMLSchema#"}),hD}var yD={},Sae;function yPe(){return Sae||(Sae=1,Object.defineProperty(yD,"__esModule",{value:!0}),yD.default={targetNode:!0,targetObjectsOf:!0,targetSubjectsOf:!0,deactivated:!0,severity:!0,message:!0,class:!0,datatype:!0,nodeKind:!0,minExclusive:!0,minInclusive:!0,maxExclusive:!0,maxInclusive:!0,minLength:!0,maxLength:!0,pattern:!0,flags:!0,languageIn:!0,equals:!0,disjoint:!0,closed:!0,ignoredProperties:!0,hasValue:!0,in:!0}),yD}var Eae;function mPe(){if(Eae)return zc;Eae=1;var n=zc&&zc.__awaiter||function(p,h,g,_){function m(w){return w instanceof g?w:new g(function(T){T(w)})}return new(g||(g=Promise))(function(w,T){function E(j){try{N(_.next(j))}catch(q){T(q)}}function S(j){try{N(_.throw(j))}catch(q){T(q)}}function N(j){j.done?w(j.value):m(j.value).then(E,S)}N((_=_.apply(p,h||[])).next())})},e=zc&&zc.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(zc,"__esModule",{value:!0});const u=wl,a=dPe(),r=Z4(),t=fPe(),i=e(pPe()),o=e(hPe()),l=e(yPe());function s(p){var h;return(h=/^[^]*[#/]/.exec(p))===null||h===void 0?void 0:h[0]}const c={"http://www.w3.org/1999/02/22-rdf-syntax-ns#":"rdf","http://www.w3.org/2000/01/rdf-schema#":"rdfs","http://www.w3.org/ns/shacl#":"sh","http://www.w3.org/2001/XMLSchema#":"xsd"},d={rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",sh:"http://www.w3.org/ns/shacl#",xsd:"http://www.w3.org/2001/XMLSchema#"};class f{constructor(h,g,_={},m=void 0,w=!0,T=!1,E,S=!1,N=!0){this.store=h,this.base=m,this.errorOnExtraQuads=w,this.mintUnspecifiedPrefixes=T,this.fetch=E,this.extendedSyntax=S,this.requireBase=N,this.prefixes={},this.prefixRev={};for(const j of Object.keys(_)){const q=_[j],O=typeof q=="string"?q:q.value;!(O in c)&&!(j in d)&&(this.prefixRev[O]=j,this.prefixes[j]=O)}this.writer=g,this.requireBase=N}write(){return n(this,void 0,void 0,function*(){const h=this.store.getQuads(null,"http://www.w3.org/1999/02/22-rdf-syntax-ns#type","http://www.w3.org/2002/07/owl#Ontology",null);if(h.length===1&&h[0].subject.termType==="NamedNode"){const _=h[0].subject;this.store.removeQuads(h),_.equals(new u.NamedNode("urn:x-base:default"))||this.writer.add(`BASE ${(0,r.termToString)(_)}`),yield this.writeImports(_)}else if(this.requireBase)throw new Error("Base expected");if(this.mintUnspecifiedPrefixes){const _=new Set;for(const w of[...this.store.getSubjects(null,null,null),...this.store.getPredicates(null,null,null),...this.store.getObjects(null,null,null)])if(w.termType==="NamedNode"){const T=s(w.value);T&&!(T in this.prefixRev)&&!(T in c)&&_.add(T)}const m=Object.assign(Object.assign({},this.prefixes),d);yield Promise.all([..._].map(w=>(0,a.uriToPrefix)(w,{fetch:this.fetch,mintOnUnknown:!0,existingPrefixes:m}).then(T=>{this.prefixes[T]=w,m[T]=w,this.prefixRev[w]=T})))}const g=new Set([...this.store.getSubjects(null,null,null),...this.store.getPredicates(null,null,null),...this.store.getObjects(null,null,null)].filter(_=>_.termType==="NamedNode").map(_=>s(_.value)).filter(_=>typeof _=="string"));for(const _ in this.prefixRev)g.has(_)||(delete this.prefixes[this.prefixRev[_]],delete this.prefixRev[_]);if(yield this.writePrefixes(),this.prefixes=Object.assign(Object.assign({},this.prefixes),d),this.prefixRev=Object.assign(Object.assign({},this.prefixRev),c),this.writer.newLine(),yield this.writeShapes(),this.extendedSyntax){const _=this.store.getSubjects(null,null,null);_.length>0&&this.writer.newLine(1);for(const m of _)this.writer.add(yield this.termToString(m,!0,!0)),this.writer.add(" "),this.writer.indent(),yield this.writeTurtlePredicates(m),this.writer.deindent();_.length>0&&(this.writer.add(" ."),this.writer.newLine())}if(this.errorOnExtraQuads&&this.store.size>0)throw new Error(`Dataset contains quads that cannot be written in SHACLC [
${new u.Writer({prefixes:this.prefixes}).quadsToString(this.store.getQuads(null,null,null,null))}]`);this.writer.end()})}writeImports(h){return n(this,void 0,void 0,function*(){const g=this.store.getObjectsOnce(h,new u.NamedNode("http://www.w3.org/2002/07/owl#imports"),null);if(g.length>0)for(const _ of g)this.writer.add(`IMPORTS <${_.value}>`,!0)})}writePrefixes(){return n(this,void 0,void 0,function*(){const h=Object.keys(this.prefixes).filter(g=>!(g in o.default)).sort();if(h.length>0)for(const g of h)this.writer.add(`PREFIX ${g}: <${this.prefixes[g]}>`,!0)})}termToString(h,g=!1,_=!1){return n(this,void 0,void 0,function*(){try{if(g)throw new Error("Shacl name disabled");return(0,t.getShaclName)(h)}catch{}if(h.termType==="NamedNode"){const m=s(h.value);return m&&m in this.prefixRev&&m in this.prefixRev?`${this.prefixRev[m]}:${h.value.slice(m.length)}`:(0,r.termToString)(h)}if(h.termType==="Literal")return h.datatypeString==="http://www.w3.org/2001/XMLSchema#integer"||h.datatypeString==="http://www.w3.org/2001/XMLSchema#boolean"?h.value:(0,r.termToString)(h);throw h.termType==="BlankNode"&&_&&(0,r.termToString)(h),new Error(`Invalid term type for extra statement ${h.value} (${h.termType})`)})}writeShapes(){return n(this,void 0,void 0,function*(){for(const h of this.store.getSubjectsOnce(new u.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),new u.NamedNode("http://www.w3.org/ns/shacl#NodeShape"),null)){this.store.getQuadsOnce(h,new u.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),new u.NamedNode("http://www.w3.org/2000/01/rdf-schema#Class"),null).length>0?this.writer.add("shapeClass "):this.writer.add("shape "),this.writer.add(yield this.termToString(h)),this.writer.add(" ");const g=this.store.getObjectsOnce(h,new u.NamedNode("http://www.w3.org/ns/shacl#targetClass"),null);if(g.length>0){this.writer.add("-> ");for(const m of g)m.termType==="NamedNode"?this.writer.add(yield this.termToString(m)):(this.writer.add("!"),this.writer.add(yield this.termToString(this.singleObject(m,new u.NamedNode("http://www.w3.org/ns/shacl#not"),!0)))),this.writer.add(" ")}const _=this.store.getPredicates(h,null,null).filter(m=>[new u.NamedNode("http://www.w3.org/ns/shacl#targetClass"),new u.NamedNode("http://www.w3.org/ns/shacl#property"),new u.NamedNode("http://www.w3.org/ns/shacl#or"),...Object.keys(l.default).map(w=>new u.NamedNode("http://www.w3.org/ns/shacl#"+w))].every(w=>!m.equals(w)));_.length>0&&(this.writer.add(";"),this.writer.indent(),this.writer.newLine(1)),this.extendedSyntax&&(yield this.writeGivenTurtlePredicates(h,_)),_.length>0&&(this.writer.add(" "),this.writer.deindent()),yield this.writeShapeBody(h,!1)}})}getSingleProperty(h,g){let _=[h];try{let m=(0,t.getShaclName)(h.predicate),w="pred";if(m==="not"){const T=this.store.getQuadsOnce(h.object,null,null,null);if(_=_.concat(T),T.length!==1)throw new Error("Can only handle having one predicate of 'not'");[h]=T,m=(0,t.getShaclName)(h.predicate),w="not"}if(!(m in g))throw new Error(`${m} is not allowed`);return{name:m,type:w,object:h.object}}catch{this.store.addQuads(_)}}singleLayerPropertiesList(h,g){const _=[];for(const m of this.store.getQuadsOnce(h,null,null,null)){const w=this.getSingleProperty(m,g);w&&_.push(w)}return _}expectOneProperty(h,g){const _=this.store.getQuadsOnce(h,null,null,null);if(_.length===1){const m=this.getSingleProperty(_[0],g);if(m)return m}this.store.addQuads(_)}orProperties(h,g){const _=[];for(const m of this.store.getQuadsOnce(h,new u.NamedNode("http://www.w3.org/ns/shacl#or"),null,null)){const w=[];for(const T of this.getList(m.object)){const E=this.expectOneProperty(T,g);if(!E)throw this.store.addQuad(m),new Error("Each entry of the 'or' statement must declare exactly one property");w.push(E)}_.push(w)}return _}getList(h){let g=h;const _=[];for(;!g.equals(new u.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"));)_.push(this.singleObject(g,new u.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#first"),!0)),g=this.singleObject(g,new u.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"),!0);return _}writeIriLiteralOrArray(h){return n(this,void 0,void 0,function*(){if(h.termType==="BlankNode"){this.writer.add("[");let g=!0;for(const _ of this.getList(h))g?g=!1:this.writer.add(" "),this.writer.add(yield this.termToString(_));this.writer.add("]")}else this.writer.add(yield this.termToString(h))})}singleObject(h,g,_){var m;return(m=this.singleQuad(h,g,_))===null||m===void 0?void 0:m.object}singleQuad(h,g,_=!1){const m=this.store.getQuadsOnce(h,g,null,null);if(_&&m.length!==1)throw this.store.addQuads(m),new Error(`The subject and predicate ${h?.value} ${g?.value} must have exactly one object. Instead has ${m.length}`);if(m.length>1)throw this.store.addQuads(m),new Error(`The subject and predicate ${h?.value} ${g?.value} can have at most one object. Instead has ${m.length}`);return m.length===1?m[0]:void 0}writeAssigment({name:h,type:g,object:_}){return n(this,void 0,void 0,function*(){g==="not"&&this.writer.add("!"),this.writer.add(h),this.writer.add("="),yield this.writeIriLiteralOrArray(_)})}writeAtom({name:h,type:g,object:_}){return n(this,void 0,void 0,function*(){switch(g==="not"&&this.writer.add("!"),h){case"node":{if(_.termType==="NamedNode")this.writer.add(`@${yield this.termToString(_)}`);else if(_.termType==="BlankNode")yield this.writeShapeBody(_);else throw new Error("Invalid nested shape, must be blank node or IRI");return}case"nodeKind":{this.writer.add((0,t.getShaclName)(_));return}case"class":{this.writer.add(yield this.termToString(_));return}case"datatype":{this.writer.add(yield this.termToString(_));return}default:this.writer.add(h),this.writer.add("="),yield this.writeIriLiteralOrArray(_)}})}writeAssigments(h,g=" ",_=!0,m){return n(this,void 0,void 0,function*(){for(const w of h)_?_=!1:this.writer.add(g),m?yield this.writeAtom(w):yield this.writeAssigment(w)})}writeParams(h,g=!0,_,m=!1,w=!1){return n(this,void 0,void 0,function*(){const T=this.orProperties(h,_),E=this.singleLayerPropertiesList(h,_);w&&(T.length>0||E.length>0)&&this.writer.newLine(1);for(const S of T)g?g=!1:this.writer.add(" "),yield this.writeAssigments(S,"|",!0,m);yield this.writeAssigments(E," ",g,m),w&&(T.length>0||E.length>0)&&this.writer.add(" .")})}writeShapeBody(h,g=!0){return n(this,void 0,void 0,function*(){this.writer.add("{").indent();const _=this.store.getObjectsOnce(h,new u.NamedNode("http://www.w3.org/ns/shacl#property"),null);yield this.writeParams(h,!0,l.default,!1,!0);for(const m of _)this.writer.newLine(1),yield this.writeProperty(m);this.writer.deindent().newLine(1),g?this.writer.add("} ."):this.writer.add("}").newLine(1)})}writeProperty(h){return n(this,void 0,void 0,function*(){yield this.writePath(this.singleObject(h,new u.NamedNode("http://www.w3.org/ns/shacl#path"),!0));const g=this.singleObject(h,new u.NamedNode("http://www.w3.org/ns/shacl#minCount")),_=this.singleObject(h,new u.NamedNode("http://www.w3.org/ns/shacl#maxCount")),m=this.singleObject(h,new u.NamedNode("http://www.w3.org/ns/shacl#nodeKind")),w=this.singleObject(h,new u.NamedNode("http://www.w3.org/ns/shacl#class")),T=this.singleObject(h,new u.NamedNode("http://www.w3.org/ns/shacl#datatype")),E=this.store.getObjectsOnce(h,new u.NamedNode("http://www.w3.org/ns/shacl#node"),null);if(m&&(this.writer.add(" "),this.writer.add((0,t.getShaclName)(m))),w&&(this.writer.add(" "),this.writer.add(yield this.termToString(w))),T&&(this.writer.add(" "),this.writer.add(yield this.termToString(T))),g!==void 0||_!==void 0){if(this.writer.add(" ["),g){if(g.termType!=="Literal"||g.datatypeString!=="http://www.w3.org/2001/XMLSchema#integer")throw new Error("Invalid min value, must me an integer literal");this.writer.add(g.value)}else this.writer.add("0");if(this.writer.add(".."),_){if(_.termType!=="Literal"||_.datatypeString!=="http://www.w3.org/2001/XMLSchema#integer")throw new Error("Invalid max value, must me an integer literal");this.store.removeMatches(h,new u.NamedNode("http://www.w3.org/ns/shacl#maxCount"),void 0,void 0),this.writer.add(_.value)}else this.writer.add("*");this.writer.add("]")}yield this.writeParams(h,!1,i.default,!0);const S=[];for(const N of E)if(N.termType==="NamedNode")this.writer.add(" "),this.writer.add(`@${yield this.termToString(N)}`);else if(N.termType==="BlankNode")S.push(N);else throw new Error("Invalid nested shape, must be blank node or IRI");for(const N of S)this.writer.add(" "),yield this.writeShapeBody(N);this.extendedSyntax&&this.store.getQuads(h,null,null,null).length>0&&(this.writer.add(" %"),this.writer.indent(),this.writer.newLine(1),yield this.writeTurtlePredicates(h),this.writer.deindent(),this.writer.newLine(1),this.writer.add("%")),S.length===0&&this.writer.add(" .")})}writeTurtlePredicates(h){return n(this,void 0,void 0,function*(){return this.writeGivenTurtlePredicates(h,this.store.getPredicates(h,null,null))})}writeGivenTurtlePredicates(h,g){return n(this,void 0,void 0,function*(){let _=!1;if(g.some(m=>m.equals(u.DataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type")))){const m=this.store.getObjectsOnce(h,u.DataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),null);m.length>0&&(_=!0,this.writer.add("a "),yield this.writeTurtleObjects(m))}for(const m of g)m.equals(u.DataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"))||(_?(this.writer.add(" ;"),this.writer.newLine(1)):_=!0,this.writer.add(yield this.termToString(m,!0)),this.writer.add(" "),yield this.writeTurtleObjects(this.store.getObjectsOnce(h,m,null)))})}writeTurtleObjects(h){return n(this,void 0,void 0,function*(){const g=[],_=[];for(const w of h)w.termType==="BlankNode"&&[...this.store.match(null,null,w),...this.store.match(null,w,null)].length===0?g.push(w):_.push(w);this.writer.add((yield Promise.all(_.map(w=>this.termToString(w,!0,!0)))).join(", "));let m=_.length>0;if(g.length>0)for(const w of g)m?this.writer.add(", "):m=!0,(yield this.writeList(w))||(this.writer.add("["),this.writer.indent(),this.writer.newLine(1),yield this.writeTurtlePredicates(w),this.writer.deindent(),this.writer.newLine(1),this.writer.add("]"))})}writeList(h){return n(this,void 0,void 0,function*(){let g=h;const _=[],m=[];for(;!g.equals(u.DataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"));){const T=this.store.getQuadsOnce(g,u.DataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#first"),null,null),E=this.store.getQuadsOnce(g,u.DataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"),null,null);if(m.push(...T,...E),T.length!==1||E.length!==1||this.store.getQuads(g,null,null,null).length!==0)return this.store.addQuads(m),!1;_.push(T[0].object),g=E[0].object}let w=!1;this.writer.add("(");for(const T of _)w?this.writer.add(" "):w=!0,yield this.writeTurtleObjects([T]);return this.writer.add(")"),!0})}writePath(h,g=!1){return n(this,void 0,void 0,function*(){if(h.termType==="NamedNode")this.writer.add(yield this.termToString(h));else if(h.termType==="BlankNode"){const _=this.store.getQuadsOnce(h,null,null,null);if(_.length===1){const{predicate:m,object:w}=_[0];switch(m.value){case"http://www.w3.org/ns/shacl#inversePath":this.writer.add("^"),yield this.writePath(w,!0);return;case"http://www.w3.org/ns/shacl#alternativePath":{const T=this.getList(w);if(T.length===0)throw new Error("Invalid Alternative Path - no options");if(T.length===1)yield this.writePath(T[0]);else{g&&this.writer.add("(");let E=!0;for(const S of T)E?E=!1:this.writer.add("|"),yield this.writePath(S,!0);g&&this.writer.add(")")}return}case"http://www.w3.org/ns/shacl#zeroOrMorePath":yield this.writePath(w,!0),this.writer.add("*");return;case"http://www.w3.org/ns/shacl#oneOrMorePath":yield this.writePath(w,!0),this.writer.add("+");return;case"http://www.w3.org/ns/shacl#zeroOrOnePath":yield this.writePath(w,!0),this.writer.add("?");return;default:throw new Error(`Invalid path type ${h.value}`)}}else{this.store.addQuads(_);const m=this.getList(h);if(m.length===0)throw new Error("Invalid Path");{g&&this.writer.add("(");let w=!0;for(const T of m)w?w=!1:this.writer.add("/"),yield this.writePath(T,!0);g&&this.writer.add(")")}}}else throw new Error("Path should be named node or blank node")})}}return zc.default=f,zc}var mD={},Aae;function bPe(){if(Aae)return mD;Aae=1,Object.defineProperty(mD,"__esModule",{value:!0});class n{constructor(u){this.indents=0,this.write=u.write,this.end=u.end}indent(){return this.indents+=1,this}deindent(){if(this.indents<1)throw new Error(`Trying to deindent when indent is only ${this.indents}`);return this.indents-=1,this}add(u,a=!1){return this.write(a?`
${"	".repeat(this.indents)}${u}`:u,"utf-8"),this}newLine(u=2){return this.write(`
`.repeat(u)+"	".repeat(this.indents),"utf-8"),this}}return mD.default=n,mD}var bD={},Oae;function gPe(){if(Oae)return bD;Oae=1,Object.defineProperty(bD,"__esModule",{value:!0});const n=wl;class e extends n.Store{getQuadsOnce(a,r,t,i){const o=this.getQuads(a,r,t,i);return this.removeQuads(o),o}getSubjectsOnce(a,r,t){return this.getQuadsOnce(null,a,r,t).map(i=>i.subject)}getObjectsOnce(a,r,t){return this.getQuadsOnce(a,r,null,t).map(i=>i.object)}}return bD.default=e,bD}var xae;function vPe(){if(xae)return qs;xae=1;var n=qs&&qs.__awaiter||function(o,l,s,c){function d(f){return f instanceof s?f:new s(function(p){p(f)})}return new(s||(s=Promise))(function(f,p){function h(m){try{_(c.next(m))}catch(w){p(w)}}function g(m){try{_(c.throw(m))}catch(w){p(w)}}function _(m){m.done?f(m.value):d(m.value).then(h,g)}_((c=c.apply(o,l||[])).next())})},e=qs&&qs.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(qs,"__esModule",{value:!0}),qs.write=void 0;const u=wl,a=e(mPe()),r=e(bPe()),t=e(gPe());function i(o,l){return n(this,void 0,void 0,function*(){return new Promise((s,c)=>n(this,void 0,void 0,function*(){try{let d="";const f=new t.default(o),p=f.getGraphs(null,null,null);if(p.length>1)throw new Error("More than one graph found - can serialize in the default graph");if(p.length===1&&!p[0].equals(u.DataFactory.defaultGraph()))throw new Error(`Expected all triples to be in the default graph, instead triples were in ${p[0].value}`);const h=new r.default({write:_=>{d+=_},end:()=>{let _=f.getQuads(null,null,null,null);_.length===0&&(_=void 0),s({text:d,extraQuads:_})}});yield new a.default(f,h,l?.prefixes,void 0,l?.errorOnUnused!==!1,l?.mintPrefixes,l?.fetch,l?.extendedSyntax,l?.requireBase!==!1).write()}catch(d){c(d)}}))})}return qs.write=i,qs}var Rae;function _Pe(){if(Rae)return v3;Rae=1,Object.defineProperty(v3,"__esModule",{value:!0}),v3.ActorRdfSerializeShaclc=void 0;const n=aU(),e=iPe(),u=Nr(),a=vPe();let r=class extends n.ActorRdfSerializeFixedMediaTypes{constructor(i){super(i)}async runHandle(i,o){const l=new u.Readable;l._read=()=>{};try{const s={};i.quadStream.on("prefix",(d,f)=>{s[d]=f});const{text:c}=await(0,a.write)(await(0,e.default)(i.quadStream),{errorOnUnused:!0,extendedSyntax:o==="text/shaclc-ext",prefixes:s});l.push(c),l.push(null)}catch(s){l._read=()=>{l.emit("error",s)}}return{data:l,triples:!0}}};return v3.ActorRdfSerializeShaclc=r,v3}var Nae;function cU(){return Nae||(Nae=1,(function(n){var e=xp&&xp.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=xp&&xp.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(_Pe(),n)})(xp)),xp}var Fp={},S3={},Pp={},E3={},Iae;function MTe(){if(Iae)return E3;Iae=1,Object.defineProperty(E3,"__esModule",{value:!0}),E3.ActorRdfUpdateQuads=void 0;const n=De();let e=class extends n.Actor{constructor(a){super(a)}};return E3.ActorRdfUpdateQuads=e,E3}var Us={},Dae;function TPe(){if(Dae)return Us;Dae=1,Object.defineProperty(Us,"__esModule",{value:!0}),Us.ActorRdfUpdateQuadsDestination=Us.deskolemize=Us.deskolemizeStream=void 0;const n=sP(),e=lt(),u=De(),a=MTe();function r(o,l,s){return l?.map(c=>(0,n.deskolemizeQuad)(o,c,s))}Us.deskolemizeStream=r;function t(o){const l=o.context.getSafe(e.KeysInitQuery.dataFactory),s=o.context.get(e.KeysRdfUpdateQuads.destination),c=o.context.get(e.KeysQuerySourceIdentify.sourceIds)?.get(s);return c?{...o,quadStreamInsert:r(l,o.quadStreamInsert,c),quadStreamDelete:r(l,o.quadStreamDelete,c)}:o}Us.deskolemize=t;let i=class extends a.ActorRdfUpdateQuads{async test(l){return(0,u.passTestVoid)()}async run(l){const s=await this.getDestination(l.context);return await this.getOutput(s,t(l))}async getOutput(l,s){return{execute:async()=>{await l.update({insert:s.quadStreamInsert,delete:s.quadStreamDelete}),await(s.deleteGraphs?l.deleteGraphs(s.deleteGraphs.graphs,s.deleteGraphs.requireExistence,s.deleteGraphs.dropGraphs):Promise.resolve()),await(s.createGraphs?l.createGraphs(s.createGraphs.graphs,s.createGraphs.requireNonExistence):Promise.resolve())}}}};return Us.ActorRdfUpdateQuadsDestination=i,Us}var bC={},Fae;function wPe(){return Fae||(Fae=1,Object.defineProperty(bC,"__esModule",{value:!0})),bC}var Xa={},Pae;function SPe(){if(Pae)return Xa;Pae=1,Object.defineProperty(Xa,"__esModule",{value:!0}),Xa.getContextDestinationUrl=Xa.getContextDestination=Xa.getDataDestinationContext=Xa.getDataDestinationValue=Xa.getDataDestinationType=Xa.isDataDestinationRawType=void 0;const n=lt();function e(o){return typeof o=="string"||"remove"in o}Xa.isDataDestinationRawType=e;function u(o){return typeof o=="string"?"":"remove"in o?"rdfjsStore":o.type}Xa.getDataDestinationType=u;function a(o){return e(o)?o:o.value}Xa.getDataDestinationValue=a;function r(o,l){return typeof o=="string"||"remove"in o||!o.context?l:l.merge(o.context)}Xa.getDataDestinationContext=r;function t(o){return o.get(n.KeysRdfUpdateQuads.destination)}Xa.getContextDestination=t;function i(o){if(o){let l=a(o);if(typeof l=="string"){const s=l.indexOf("#");return s>=0&&(l=l.slice(0,s)),l}}}return Xa.getContextDestinationUrl=i,Xa}var jae;function lU(){return jae||(jae=1,(function(n){var e=Pp&&Pp.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=Pp&&Pp.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(MTe(),n),u(TPe(),n),u(wPe(),n),u(SPe(),n)})(Pp)),Pp}var A3={},Mae;function EPe(){if(Mae)return A3;Mae=1,Object.defineProperty(A3,"__esModule",{value:!0}),A3.RdfJsQuadDestination=void 0;const n=vTe(),e=Xt();let u=class{constructor(r,t){this.dataFactory=r,this.store=t}async update(r){r.delete&&await(0,n.promisifyEventEmitter)(this.store.remove(r.delete)),r.insert&&await(0,n.promisifyEventEmitter)(this.store.import(r.insert))}async deleteGraphs(r,t,i){switch(r){case"ALL":await(0,n.promisifyEventEmitter)(this.store.deleteGraph(this.dataFactory.defaultGraph()));case"NAMED":const o=this.store.match(),l={};o.on("data",s=>{s.graph.termType!=="DefaultGraph"&&(l[(0,e.termToString)(s.graph)]=!0)}),await(0,n.promisifyEventEmitter)(o),await Promise.all(Object.keys(l).map(s=>(0,n.promisifyEventEmitter)(this.store.deleteGraph((0,e.stringToTerm)(s,this.dataFactory)))));break;default:for(const s of Array.isArray(r)?r:[r])await(0,n.promisifyEventEmitter)(this.store.deleteGraph(s))}}async createGraphs(r,t){if(t)for(const i of r){const o=this.store.match(void 0,void 0,void 0,i);await new Promise((l,s)=>{o.once("data",()=>{s(new Error(`Unable to create graph ${i.value} as it already exists`))}),o.on("end",l),o.on("error",s)})}}};return A3.RdfJsQuadDestination=u,A3}var Cae;function APe(){if(Cae)return S3;Cae=1,Object.defineProperty(S3,"__esModule",{value:!0}),S3.ActorRdfUpdateQuadsRdfJsStore=void 0;const n=lU(),e=lt(),u=De(),a=EPe();let r=class extends n.ActorRdfUpdateQuadsDestination{constructor(i){super(i)}async test(i){const o=(0,n.getContextDestination)(i.context);return!o||typeof o=="string"||!("remove"in o)&&"value"in o&&!o.value?.remove?(0,u.failTest)(`${this.name} received an invalid rdfjsStore.`):(0,u.passTestVoid)()}async getDestination(i){const o=(0,n.getContextDestination)(i);return new a.RdfJsQuadDestination(i.getSafe(e.KeysInitQuery.dataFactory),"remove"in o?o:o.value)}};return S3.ActorRdfUpdateQuadsRdfJsStore=r,S3}var Lae;function dU(){return Lae||(Lae=1,(function(n){var e=Fp&&Fp.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=Fp&&Fp.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(APe(),n)})(Fp)),Fp}var jp={},O3={},x3={},qae;function OPe(){if(qae)return x3;qae=1,Object.defineProperty(x3,"__esModule",{value:!0}),x3.ExpressionFunctionBnode=void 0;const n=We(),e=lt(),u=zq(),a=Xe();let r=class h7 extends n.ExpressionFunctionBase{constructor(){super({arity:Number.POSITIVE_INFINITY,operator:a.SparqlOperator.BNODE,apply:async i=>{const{args:o,mapping:l,exprEval:s}=i,c=o.length===1?await s.evaluatorExpressionEvaluation(o[0],l):void 0;let d;if(c){const p=h7.bnodeTree.search([c],s.context.getSafe(e.KeysExpressionEvaluator.superTypeProvider),s.context.getSafe(e.KeysInitQuery.functionArgumentsCache));if(!p)throw new a.InvalidArgumentTypes(o,a.SparqlOperator.BNODE);d=p(s)([c]).str()}const f=new u.BlankNodeBindingsScoped(d??`BNODE_${h7.bnodeCounter++}`);return new a.BlankNode(f)}})}checkArity(i){return i.length===0||i.length===1}};return x3.ExpressionFunctionBnode=r,r.bnodeTree=(0,a.declare)(a.SparqlOperator.BNODE).onString1(()=>t=>t).collect(),r.bnodeCounter=0,x3}var Bae;function xPe(){if(Bae)return O3;Bae=1,Object.defineProperty(O3,"__esModule",{value:!0}),O3.ActorFunctionFactoryExpressionBnode=void 0;const n=We(),e=Xe(),u=OPe();let a=class extends n.ActorFunctionFactoryDedicated{constructor(t){super({...t,functionNames:[e.SparqlOperator.BNODE],termFunction:!1})}async run(t){return new u.ExpressionFunctionBnode}};return O3.ActorFunctionFactoryExpressionBnode=a,O3}var Uae;function fU(){return Uae||(Uae=1,(function(n){var e=jp&&jp.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=jp&&jp.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(xPe(),n)})(jp)),jp}var Mp={},R3={},N3={},Qae;function RPe(){if(Qae)return N3;Qae=1,Object.defineProperty(N3,"__esModule",{value:!0}),N3.ExpressionFunctionBound=void 0;const n=We(),e=lt(),u=ac(),a=Xe();let r=class extends n.ExpressionFunctionBase{constructor(){super({arity:1,operator:a.SparqlOperator.BOUND,apply:async({args:i,mapping:o,exprEval:l})=>{const s=i[0];if(s.expressionType!==u.ExpressionType.Variable)throw new a.InvalidArgumentTypes(i,a.SparqlOperator.BOUND);const c=o.has((0,a.expressionToVar)(l.context.getSafe(e.KeysInitQuery.dataFactory),s));return(0,a.bool)(c)}})}};return N3.ExpressionFunctionBound=r,N3}var Vae;function NPe(){if(Vae)return R3;Vae=1,Object.defineProperty(R3,"__esModule",{value:!0}),R3.ActorFunctionFactoryExpressionBound=void 0;const n=We(),e=Xe(),u=RPe();let a=class extends n.ActorFunctionFactoryDedicated{constructor(t){super({...t,functionNames:[e.SparqlOperator.BOUND],termFunction:!1})}async run(t){return new u.ExpressionFunctionBound}};return R3.ActorFunctionFactoryExpressionBound=a,R3}var Hae;function pU(){return Hae||(Hae=1,(function(n){var e=Mp&&Mp.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=Mp&&Mp.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(NPe(),n)})(Mp)),Mp}var Cp={},I3={},D3={},kae;function IPe(){if(kae)return D3;kae=1,Object.defineProperty(D3,"__esModule",{value:!0}),D3.ExpressionFunctionCoalesce=void 0;const n=We(),e=Xe();let u=class extends n.ExpressionFunctionBase{constructor(){super({arity:Number.POSITIVE_INFINITY,operator:e.SparqlOperator.COALESCE,apply:async({args:r,mapping:t,exprEval:i})=>{const o=[];for(const l of r)try{return await i.evaluatorExpressionEvaluation(l,t)}catch(s){o.push(s)}throw new e.CoalesceError(o)}})}};return D3.ExpressionFunctionCoalesce=u,D3}var zae;function DPe(){if(zae)return I3;zae=1,Object.defineProperty(I3,"__esModule",{value:!0}),I3.ActorFunctionFactoryExpressionCoalesce=void 0;const n=We(),e=Xe(),u=IPe();let a=class extends n.ActorFunctionFactoryDedicated{constructor(t){super({...t,functionNames:[e.SparqlOperator.COALESCE],termFunction:!1})}async run(t){return new u.ExpressionFunctionCoalesce}};return I3.ActorFunctionFactoryExpressionCoalesce=a,I3}var Gae;function hU(){return Gae||(Gae=1,(function(n){var e=Cp&&Cp.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=Cp&&Cp.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(DPe(),n)})(Cp)),Cp}var Lp={},F3={},P3={},$ae;function FPe(){if($ae)return P3;$ae=1,Object.defineProperty(P3,"__esModule",{value:!0}),P3.ExpressionFunctionConcat=void 0;const n=We(),e=lt(),u=Xe();let a=class y7 extends n.ExpressionFunctionBase{constructor(){super({arity:Number.POSITIVE_INFINITY,operator:u.SparqlOperator.CONCAT,apply:async t=>{const{args:i,mapping:o,exprEval:l}=t,s=i.map(async h=>l.evaluatorExpressionEvaluation(h,o)).map(async h=>{const g=y7.concatTree.search([await h],l.context.getSafe(e.KeysExpressionEvaluator.superTypeProvider),l.context.getSafe(e.KeysInitQuery.functionArgumentsCache));if(!g)throw new u.InvalidArgumentTypes(i,u.SparqlOperator.CONCAT);return g(l)([await h])}),c=await Promise.all(s),f=c.map(h=>h.typedValue).join(""),p=y7.langAllEqual(c)?c[0].language:void 0;return p?(0,u.langString)(f,p):(0,u.string)(f)}})}static langAllEqual(t){return t.length>0&&t.every(i=>i.language===t[0].language)}};return P3.ExpressionFunctionConcat=a,a.concatTree=(0,u.declare)(u.SparqlOperator.CONCAT).onStringly1(()=>r=>r).collect(),P3}var Xae;function PPe(){if(Xae)return F3;Xae=1,Object.defineProperty(F3,"__esModule",{value:!0}),F3.ActorFunctionFactoryExpressionConcat=void 0;const n=We(),e=Xe(),u=FPe();let a=class extends n.ActorFunctionFactoryDedicated{constructor(t){super({...t,functionNames:[e.SparqlOperator.CONCAT],termFunction:!1})}async run(t){return new u.ExpressionFunctionConcat}};return F3.ActorFunctionFactoryExpressionConcat=a,F3}var Kae;function yU(){return Kae||(Kae=1,(function(n){var e=Lp&&Lp.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=Lp&&Lp.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(PPe(),n)})(Lp)),Lp}var qp={},j3={},M3={},Jae;function jPe(){if(Jae)return M3;Jae=1,Object.defineProperty(M3,"__esModule",{value:!0}),M3.NamedExtension=void 0;const n=t2e(),e=lt(),u=Xe();let a=class extends n.ExpressionFunctionBase{constructor({operator:t,functionDefinition:i}){super({arity:Number.POSITIVE_INFINITY,operator:t,apply:async({args:o,exprEval:l,mapping:s})=>{const c=await Promise.all(o.map(d=>l.evaluatorExpressionEvaluation(d,s)));try{return new u.TermTransformer(l.context.getSafe(e.KeysExpressionEvaluator.superTypeProvider)).transformRDFTermUnsafe(await i(c.map(d=>d.toRDF(l.context.getSafe(e.KeysInitQuery.dataFactory)))))}catch(d){throw new u.ExtensionFunctionError(this.operator,d)}}})}};return M3.NamedExtension=a,M3}var Wae;function MPe(){if(Wae)return j3;Wae=1,Object.defineProperty(j3,"__esModule",{value:!0}),j3.ActorFunctionFactoryExpressionExtensions=void 0;const n=We(),e=lt(),u=De(),a=Rr(),r=jPe();let t=class extends n.ActorFunctionFactory{constructor(o){super(o)}async test({context:o,functionName:l}){return await o.getSafe(e.KeysExpressionEvaluator.extensionFunctionCreator)(new a.DataFactory().namedNode(l))?(0,u.passTestVoid)():(0,u.failTest)(`Actor ${this.name} can only provide non-termExpression implementations for functions that are provided through config entries like: ${e.KeysInitQuery.extensionFunctionCreator.name} or ${e.KeysInitQuery.extensionFunctions.name}`)}async run({context:o,functionName:l}){const c=await o.getSafe(e.KeysExpressionEvaluator.extensionFunctionCreator)(new a.DataFactory().namedNode(l));return new r.NamedExtension({operator:l,functionDefinition:c})}};return j3.ActorFunctionFactoryExpressionExtensions=t,j3}var Yae;function mU(){return Yae||(Yae=1,(function(n){var e=qp&&qp.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=qp&&qp.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(MPe(),n)})(qp)),qp}var Bp={},C3={},L3={},Zae;function CPe(){if(Zae)return L3;Zae=1,Object.defineProperty(L3,"__esModule",{value:!0}),L3.ExpressionFunctionIf=void 0;const n=We(),e=Xe();let u=class extends n.ExpressionFunctionBase{constructor(){super({arity:3,operator:e.SparqlOperator.IF,apply:async({args:r,mapping:t,exprEval:i})=>(await i.evaluatorExpressionEvaluation(r[0],t)).coerceEBV()?i.evaluatorExpressionEvaluation(r[1],t):i.evaluatorExpressionEvaluation(r[2],t)})}};return L3.ExpressionFunctionIf=u,L3}var eie;function LPe(){if(eie)return C3;eie=1,Object.defineProperty(C3,"__esModule",{value:!0}),C3.ActorFunctionFactoryExpressionIf=void 0;const n=We(),e=Xe(),u=CPe();let a=class extends n.ActorFunctionFactoryDedicated{constructor(t){super({...t,functionNames:[e.SparqlOperator.IF],termFunction:!1})}async run(t){return new u.ExpressionFunctionIf}};return C3.ActorFunctionFactoryExpressionIf=a,C3}var tie;function bU(){return tie||(tie=1,(function(n){var e=Bp&&Bp.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=Bp&&Bp.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(LPe(),n)})(Bp)),Bp}var Up={},q3={},B3={},rie;function qPe(){if(rie)return B3;rie=1,Object.defineProperty(B3,"__esModule",{value:!0}),B3.ExpressionFunctionLogicalAnd=void 0;const n=We(),e=Xe();let u=class extends n.ExpressionFunctionBase{constructor(){super({arity:2,operator:e.SparqlOperator.LOGICAL_AND,apply:async({args:r,mapping:t,exprEval:i})=>{const[o,l]=r;try{if(!(await i.evaluatorExpressionEvaluation(o,t)).coerceEBV())return(0,e.bool)(!1);const f=(await i.evaluatorExpressionEvaluation(l,t)).coerceEBV();return(0,e.bool)(f)}catch(s){if((await i.evaluatorExpressionEvaluation(l,t)).coerceEBV())throw s;return(0,e.bool)(!1)}}})}};return B3.ExpressionFunctionLogicalAnd=u,B3}var nie;function BPe(){if(nie)return q3;nie=1,Object.defineProperty(q3,"__esModule",{value:!0}),q3.ActorFunctionFactoryExpressionLogicalAnd=void 0;const n=We(),e=Xe(),u=qPe();let a=class extends n.ActorFunctionFactoryDedicated{constructor(t){super({...t,functionNames:[e.SparqlOperator.LOGICAL_AND],termFunction:!1})}async run(t){return new u.ExpressionFunctionLogicalAnd}};return q3.ActorFunctionFactoryExpressionLogicalAnd=a,q3}var aie;function gU(){return aie||(aie=1,(function(n){var e=Up&&Up.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=Up&&Up.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(BPe(),n)})(Up)),Up}var Qp={},U3={},Q3={},iie;function UPe(){if(iie)return Q3;iie=1,Object.defineProperty(Q3,"__esModule",{value:!0}),Q3.ExpressionFunctionLogicalOr=void 0;const n=We(),e=Xe();let u=class extends n.ExpressionFunctionBase{constructor(){super({arity:2,operator:e.SparqlOperator.LOGICAL_OR,apply:async({args:r,mapping:t,exprEval:i})=>{const[o,l]=r;try{if((await i.evaluatorExpressionEvaluation(o,t)).coerceEBV())return(0,e.bool)(!0);const f=(await i.evaluatorExpressionEvaluation(l,t)).coerceEBV();return(0,e.bool)(f)}catch(s){if(!(await i.evaluatorExpressionEvaluation(l,t)).coerceEBV())throw s;return(0,e.bool)(!0)}}})}};return Q3.ExpressionFunctionLogicalOr=u,Q3}var uie;function QPe(){if(uie)return U3;uie=1,Object.defineProperty(U3,"__esModule",{value:!0}),U3.ActorFunctionFactoryExpressionLogicalOr=void 0;const n=We(),e=Xe(),u=UPe();let a=class extends n.ActorFunctionFactoryDedicated{constructor(t){super({...t,functionNames:[e.SparqlOperator.LOGICAL_OR],termFunction:!1})}async run(t){return new u.ExpressionFunctionLogicalOr}};return U3.ActorFunctionFactoryExpressionLogicalOr=a,U3}var oie;function vU(){return oie||(oie=1,(function(n){var e=Qp&&Qp.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=Qp&&Qp.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(QPe(),n)})(Qp)),Qp}var Vp={},V3={},H3={},sie;function VPe(){if(sie)return H3;sie=1,Object.defineProperty(H3,"__esModule",{value:!0}),H3.ExpressionFunctionSameTerm=void 0;const n=We(),e=lt(),u=Xe();let a=class extends n.ExpressionFunctionBase{constructor(){super({arity:2,operator:u.SparqlOperator.SAME_TERM,apply:async({args:t,mapping:i,exprEval:o})=>{const l=o.context.getSafe(e.KeysInitQuery.dataFactory),[s,c]=t.map(p=>o.evaluatorExpressionEvaluation(p,i)),[d,f]=await Promise.all([s,c]);return(0,u.bool)(d.toRDF(l).equals(f.toRDF(l)))}})}};return H3.ExpressionFunctionSameTerm=a,H3}var cie;function HPe(){if(cie)return V3;cie=1,Object.defineProperty(V3,"__esModule",{value:!0}),V3.ActorFunctionFactoryExpressionSameTerm=void 0;const n=We(),e=Xe(),u=VPe();let a=class extends n.ActorFunctionFactoryDedicated{constructor(t){super({...t,functionNames:[e.SparqlOperator.SAME_TERM],termFunction:!1})}async run(t){return new u.ExpressionFunctionSameTerm}};return V3.ActorFunctionFactoryExpressionSameTerm=a,V3}var lie;function _U(){return lie||(lie=1,(function(n){var e=Vp&&Vp.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=Vp&&Vp.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(HPe(),n)})(Vp)),Vp}var Hp={},k3={},z3={},die;function kPe(){if(die)return z3;die=1,Object.defineProperty(z3,"__esModule",{value:!0}),z3.TermFunctionAbs=void 0;const n=We(),e=Xe();let u=class extends n.TermFunctionBase{constructor(){super({arity:1,operator:e.SparqlOperator.ABS,overloads:(0,e.declare)(e.SparqlOperator.ABS).numericConverter(()=>r=>Math.abs(r)).collect()})}};return z3.TermFunctionAbs=u,z3}var fie;function zPe(){if(fie)return k3;fie=1,Object.defineProperty(k3,"__esModule",{value:!0}),k3.ActorFunctionFactoryTermAbs=void 0;const n=We(),e=Xe(),u=kPe();let a=class extends n.ActorFunctionFactoryDedicated{constructor(t){super({...t,functionNames:[e.SparqlOperator.ABS],termFunction:!0})}async run(t){return new u.TermFunctionAbs}};return k3.ActorFunctionFactoryTermAbs=a,k3}var pie;function TU(){return pie||(pie=1,(function(n){var e=Hp&&Hp.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=Hp&&Hp.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(zPe(),n)})(Hp)),Hp}var kp={},G3={},$3={},oF={exports:{}},GPe=oF.exports,hie;function SP(){return hie||(hie=1,(function(n){(function(e){var u,a=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,r=Math.ceil,t=Math.floor,i="[BigNumber Error] ",o=i+"Number primitive has more than 15 significant digits: ",l=1e14,s=14,c=9007199254740991,d=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],f=1e7,p=1e9;function h(N){var j,q,O,I=le.prototype={constructor:le,toString:null,valueOf:null},A=new le(1),P=20,C=4,B=-7,V=21,U=-1e7,G=1e7,J=!1,ne=1,W=0,ee={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"",suffix:""},se="0123456789abcdefghijklmnopqrstuvwxyz",pe=!0;function le(te,v){var F,D,L,H,Z,$,ue,ae,ce=this;if(!(ce instanceof le))return new le(te,v);if(v==null){if(te&&te._isBigNumber===!0){ce.s=te.s,!te.c||te.e>G?ce.c=ce.e=null:te.e<U?ce.c=[ce.e=0]:(ce.e=te.e,ce.c=te.c.slice());return}if(($=typeof te=="number")&&te*0==0){if(ce.s=1/te<0?(te=-te,-1):1,te===~~te){for(H=0,Z=te;Z>=10;Z/=10,H++);H>G?ce.c=ce.e=null:(ce.e=H,ce.c=[te]);return}ae=String(te)}else{if(!a.test(ae=String(te)))return O(ce,ae,$);ce.s=ae.charCodeAt(0)==45?(ae=ae.slice(1),-1):1}(H=ae.indexOf("."))>-1&&(ae=ae.replace(".","")),(Z=ae.search(/e/i))>0?(H<0&&(H=Z),H+=+ae.slice(Z+1),ae=ae.substring(0,Z)):H<0&&(H=ae.length)}else{if(w(v,2,se.length,"Base"),v==10&&pe)return ce=new le(te),Oe(ce,P+ce.e+1,C);if(ae=String(te),$=typeof te=="number"){if(te*0!=0)return O(ce,ae,$,v);if(ce.s=1/te<0?(ae=ae.slice(1),-1):1,le.DEBUG&&ae.replace(/^0\.0*|\./,"").length>15)throw Error(o+te)}else ce.s=ae.charCodeAt(0)===45?(ae=ae.slice(1),-1):1;for(F=se.slice(0,v),H=Z=0,ue=ae.length;Z<ue;Z++)if(F.indexOf(D=ae.charAt(Z))<0){if(D=="."){if(Z>H){H=ue;continue}}else if(!L&&(ae==ae.toUpperCase()&&(ae=ae.toLowerCase())||ae==ae.toLowerCase()&&(ae=ae.toUpperCase()))){L=!0,Z=-1,H=0;continue}return O(ce,String(te),$,v)}$=!1,ae=q(ae,v,10,ce.s),(H=ae.indexOf("."))>-1?ae=ae.replace(".",""):H=ae.length}for(Z=0;ae.charCodeAt(Z)===48;Z++);for(ue=ae.length;ae.charCodeAt(--ue)===48;);if(ae=ae.slice(Z,++ue)){if(ue-=Z,$&&le.DEBUG&&ue>15&&(te>c||te!==t(te)))throw Error(o+ce.s*te);if((H=H-Z-1)>G)ce.c=ce.e=null;else if(H<U)ce.c=[ce.e=0];else{if(ce.e=H,ce.c=[],Z=(H+1)%s,H<0&&(Z+=s),Z<ue){for(Z&&ce.c.push(+ae.slice(0,Z)),ue-=s;Z<ue;)ce.c.push(+ae.slice(Z,Z+=s));Z=s-(ae=ae.slice(Z)).length}else Z-=ue;for(;Z--;ae+="0");ce.c.push(+ae)}}else ce.c=[ce.e=0]}le.clone=h,le.ROUND_UP=0,le.ROUND_DOWN=1,le.ROUND_CEIL=2,le.ROUND_FLOOR=3,le.ROUND_HALF_UP=4,le.ROUND_HALF_DOWN=5,le.ROUND_HALF_EVEN=6,le.ROUND_HALF_CEIL=7,le.ROUND_HALF_FLOOR=8,le.EUCLID=9,le.config=le.set=function(te){var v,F;if(te!=null)if(typeof te=="object"){if(te.hasOwnProperty(v="DECIMAL_PLACES")&&(F=te[v],w(F,0,p,v),P=F),te.hasOwnProperty(v="ROUNDING_MODE")&&(F=te[v],w(F,0,8,v),C=F),te.hasOwnProperty(v="EXPONENTIAL_AT")&&(F=te[v],F&&F.pop?(w(F[0],-p,0,v),w(F[1],0,p,v),B=F[0],V=F[1]):(w(F,-p,p,v),B=-(V=F<0?-F:F))),te.hasOwnProperty(v="RANGE"))if(F=te[v],F&&F.pop)w(F[0],-p,-1,v),w(F[1],1,p,v),U=F[0],G=F[1];else if(w(F,-p,p,v),F)U=-(G=F<0?-F:F);else throw Error(i+v+" cannot be zero: "+F);if(te.hasOwnProperty(v="CRYPTO"))if(F=te[v],F===!!F)if(F)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))J=F;else throw J=!F,Error(i+"crypto unavailable");else J=F;else throw Error(i+v+" not true or false: "+F);if(te.hasOwnProperty(v="MODULO_MODE")&&(F=te[v],w(F,0,9,v),ne=F),te.hasOwnProperty(v="POW_PRECISION")&&(F=te[v],w(F,0,p,v),W=F),te.hasOwnProperty(v="FORMAT"))if(F=te[v],typeof F=="object")ee=F;else throw Error(i+v+" not an object: "+F);if(te.hasOwnProperty(v="ALPHABET"))if(F=te[v],typeof F=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(F))pe=F.slice(0,10)=="0123456789",se=F;else throw Error(i+v+" invalid: "+F)}else throw Error(i+"Object expected: "+te);return{DECIMAL_PLACES:P,ROUNDING_MODE:C,EXPONENTIAL_AT:[B,V],RANGE:[U,G],CRYPTO:J,MODULO_MODE:ne,POW_PRECISION:W,FORMAT:ee,ALPHABET:se}},le.isBigNumber=function(te){if(!te||te._isBigNumber!==!0)return!1;if(!le.DEBUG)return!0;var v,F,D=te.c,L=te.e,H=te.s;e:if({}.toString.call(D)=="[object Array]"){if((H===1||H===-1)&&L>=-p&&L<=p&&L===t(L)){if(D[0]===0){if(L===0&&D.length===1)return!0;break e}if(v=(L+1)%s,v<1&&(v+=s),String(D[0]).length==v){for(v=0;v<D.length;v++)if(F=D[v],F<0||F>=l||F!==t(F))break e;if(F!==0)return!0}}}else if(D===null&&L===null&&(H===null||H===1||H===-1))return!0;throw Error(i+"Invalid BigNumber: "+te)},le.maximum=le.max=function(){return Ae(arguments,-1)},le.minimum=le.min=function(){return Ae(arguments,1)},le.random=(function(){var te=9007199254740992,v=Math.random()*te&2097151?function(){return t(Math.random()*te)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(F){var D,L,H,Z,$,ue=0,ae=[],ce=new le(A);if(F==null?F=P:w(F,0,p),Z=r(F/s),J)if(crypto.getRandomValues){for(D=crypto.getRandomValues(new Uint32Array(Z*=2));ue<Z;)$=D[ue]*131072+(D[ue+1]>>>11),$>=9e15?(L=crypto.getRandomValues(new Uint32Array(2)),D[ue]=L[0],D[ue+1]=L[1]):(ae.push($%1e14),ue+=2);ue=Z/2}else if(crypto.randomBytes){for(D=crypto.randomBytes(Z*=7);ue<Z;)$=(D[ue]&31)*281474976710656+D[ue+1]*1099511627776+D[ue+2]*4294967296+D[ue+3]*16777216+(D[ue+4]<<16)+(D[ue+5]<<8)+D[ue+6],$>=9e15?crypto.randomBytes(7).copy(D,ue):(ae.push($%1e14),ue+=7);ue=Z/7}else throw J=!1,Error(i+"crypto unavailable");if(!J)for(;ue<Z;)$=v(),$<9e15&&(ae[ue++]=$%1e14);for(Z=ae[--ue],F%=s,Z&&F&&($=d[s-F],ae[ue]=t(Z/$)*$);ae[ue]===0;ae.pop(),ue--);if(ue<0)ae=[H=0];else{for(H=-1;ae[0]===0;ae.splice(0,1),H-=s);for(ue=1,$=ae[0];$>=10;$/=10,ue++);ue<s&&(H-=s-ue)}return ce.e=H,ce.c=ae,ce}})(),le.sum=function(){for(var te=1,v=arguments,F=new le(v[0]);te<v.length;)F=F.plus(v[te++]);return F},q=(function(){var te="0123456789";function v(F,D,L,H){for(var Z,$=[0],ue,ae=0,ce=F.length;ae<ce;){for(ue=$.length;ue--;$[ue]*=D);for($[0]+=H.indexOf(F.charAt(ae++)),Z=0;Z<$.length;Z++)$[Z]>L-1&&($[Z+1]==null&&($[Z+1]=0),$[Z+1]+=$[Z]/L|0,$[Z]%=L)}return $.reverse()}return function(F,D,L,H,Z){var $,ue,ae,ce,Se,xe,Ce,He,Je=F.indexOf("."),Ye=P,oe=C;for(Je>=0&&(ce=W,W=0,F=F.replace(".",""),He=new le(D),xe=He.pow(F.length-Je),W=ce,He.c=v(S(_(xe.c),xe.e,"0"),10,L,te),He.e=He.c.length),Ce=v(F,D,L,Z?($=se,te):($=te,se)),ae=ce=Ce.length;Ce[--ce]==0;Ce.pop());if(!Ce[0])return $.charAt(0);if(Je<0?--ae:(xe.c=Ce,xe.e=ae,xe.s=H,xe=j(xe,He,Ye,oe,L),Ce=xe.c,Se=xe.r,ae=xe.e),ue=ae+Ye+1,Je=Ce[ue],ce=L/2,Se=Se||ue<0||Ce[ue+1]!=null,Se=oe<4?(Je!=null||Se)&&(oe==0||oe==(xe.s<0?3:2)):Je>ce||Je==ce&&(oe==4||Se||oe==6&&Ce[ue-1]&1||oe==(xe.s<0?8:7)),ue<1||!Ce[0])F=Se?S($.charAt(1),-Ye,$.charAt(0)):$.charAt(0);else{if(Ce.length=ue,Se)for(--L;++Ce[--ue]>L;)Ce[ue]=0,ue||(++ae,Ce=[1].concat(Ce));for(ce=Ce.length;!Ce[--ce];);for(Je=0,F="";Je<=ce;F+=$.charAt(Ce[Je++]));F=S(F,ae,$.charAt(0))}return F}})(),j=(function(){function te(D,L,H){var Z,$,ue,ae,ce=0,Se=D.length,xe=L%f,Ce=L/f|0;for(D=D.slice();Se--;)ue=D[Se]%f,ae=D[Se]/f|0,Z=Ce*ue+ae*xe,$=xe*ue+Z%f*f+ce,ce=($/H|0)+(Z/f|0)+Ce*ae,D[Se]=$%H;return ce&&(D=[ce].concat(D)),D}function v(D,L,H,Z){var $,ue;if(H!=Z)ue=H>Z?1:-1;else for($=ue=0;$<H;$++)if(D[$]!=L[$]){ue=D[$]>L[$]?1:-1;break}return ue}function F(D,L,H,Z){for(var $=0;H--;)D[H]-=$,$=D[H]<L[H]?1:0,D[H]=$*Z+D[H]-L[H];for(;!D[0]&&D.length>1;D.splice(0,1));}return function(D,L,H,Z,$){var ue,ae,ce,Se,xe,Ce,He,Je,Ye,oe,X,Y,he,ve,ye,re,Ie,Le=D.s==L.s?1:-1,Pe=D.c,Fe=L.c;if(!Pe||!Pe[0]||!Fe||!Fe[0])return new le(!D.s||!L.s||(Pe?Fe&&Pe[0]==Fe[0]:!Fe)?NaN:Pe&&Pe[0]==0||!Fe?Le*0:Le/0);for(Je=new le(Le),Ye=Je.c=[],ae=D.e-L.e,Le=H+ae+1,$||($=l,ae=g(D.e/s)-g(L.e/s),Le=Le/s|0),ce=0;Fe[ce]==(Pe[ce]||0);ce++);if(Fe[ce]>(Pe[ce]||0)&&ae--,Le<0)Ye.push(1),Se=!0;else{for(ve=Pe.length,re=Fe.length,ce=0,Le+=2,xe=t($/(Fe[0]+1)),xe>1&&(Fe=te(Fe,xe,$),Pe=te(Pe,xe,$),re=Fe.length,ve=Pe.length),he=re,oe=Pe.slice(0,re),X=oe.length;X<re;oe[X++]=0);Ie=Fe.slice(),Ie=[0].concat(Ie),ye=Fe[0],Fe[1]>=$/2&&ye++;do{if(xe=0,ue=v(Fe,oe,re,X),ue<0){if(Y=oe[0],re!=X&&(Y=Y*$+(oe[1]||0)),xe=t(Y/ye),xe>1)for(xe>=$&&(xe=$-1),Ce=te(Fe,xe,$),He=Ce.length,X=oe.length;v(Ce,oe,He,X)==1;)xe--,F(Ce,re<He?Ie:Fe,He,$),He=Ce.length,ue=1;else xe==0&&(ue=xe=1),Ce=Fe.slice(),He=Ce.length;if(He<X&&(Ce=[0].concat(Ce)),F(oe,Ce,X,$),X=oe.length,ue==-1)for(;v(Fe,oe,re,X)<1;)xe++,F(oe,re<X?Ie:Fe,X,$),X=oe.length}else ue===0&&(xe++,oe=[0]);Ye[ce++]=xe,oe[0]?oe[X++]=Pe[he]||0:(oe=[Pe[he]],X=1)}while((he++<ve||oe[0]!=null)&&Le--);Se=oe[0]!=null,Ye[0]||Ye.splice(0,1)}if($==l){for(ce=1,Le=Ye[0];Le>=10;Le/=10,ce++);Oe(Je,H+(Je.e=ce+ae*s-1)+1,Z,Se)}else Je.e=ae,Je.r=+Se;return Je}})();function Ee(te,v,F,D){var L,H,Z,$,ue;if(F==null?F=C:w(F,0,8),!te.c)return te.toString();if(L=te.c[0],Z=te.e,v==null)ue=_(te.c),ue=D==1||D==2&&(Z<=B||Z>=V)?E(ue,Z):S(ue,Z,"0");else if(te=Oe(new le(te),v,F),H=te.e,ue=_(te.c),$=ue.length,D==1||D==2&&(v<=H||H<=B)){for(;$<v;ue+="0",$++);ue=E(ue,H)}else if(v-=Z+(D===2&&H>Z),ue=S(ue,H,"0"),H+1>$){if(--v>0)for(ue+=".";v--;ue+="0");}else if(v+=H-$,v>0)for(H+1==$&&(ue+=".");v--;ue+="0");return te.s<0&&L?"-"+ue:ue}function Ae(te,v){for(var F,D,L=1,H=new le(te[0]);L<te.length;L++)D=new le(te[L]),(!D.s||(F=m(H,D))===v||F===0&&H.s===v)&&(H=D);return H}function Ne(te,v,F){for(var D=1,L=v.length;!v[--L];v.pop());for(L=v[0];L>=10;L/=10,D++);return(F=D+F*s-1)>G?te.c=te.e=null:F<U?te.c=[te.e=0]:(te.e=F,te.c=v),te}O=(function(){var te=/^(-?)0([xbo])(?=\w[\w.]*$)/i,v=/^([^.]+)\.$/,F=/^\.([^.]+)$/,D=/^-?(Infinity|NaN)$/,L=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(H,Z,$,ue){var ae,ce=$?Z:Z.replace(L,"");if(D.test(ce))H.s=isNaN(ce)?null:ce<0?-1:1;else{if(!$&&(ce=ce.replace(te,function(Se,xe,Ce){return ae=(Ce=Ce.toLowerCase())=="x"?16:Ce=="b"?2:8,!ue||ue==ae?xe:Se}),ue&&(ae=ue,ce=ce.replace(v,"$1").replace(F,"0.$1")),Z!=ce))return new le(ce,ae);if(le.DEBUG)throw Error(i+"Not a"+(ue?" base "+ue:"")+" number: "+Z);H.s=null}H.c=H.e=null}})();function Oe(te,v,F,D){var L,H,Z,$,ue,ae,ce,Se=te.c,xe=d;if(Se){e:{for(L=1,$=Se[0];$>=10;$/=10,L++);if(H=v-L,H<0)H+=s,Z=v,ue=Se[ae=0],ce=t(ue/xe[L-Z-1]%10);else if(ae=r((H+1)/s),ae>=Se.length)if(D){for(;Se.length<=ae;Se.push(0));ue=ce=0,L=1,H%=s,Z=H-s+1}else break e;else{for(ue=$=Se[ae],L=1;$>=10;$/=10,L++);H%=s,Z=H-s+L,ce=Z<0?0:t(ue/xe[L-Z-1]%10)}if(D=D||v<0||Se[ae+1]!=null||(Z<0?ue:ue%xe[L-Z-1]),D=F<4?(ce||D)&&(F==0||F==(te.s<0?3:2)):ce>5||ce==5&&(F==4||D||F==6&&(H>0?Z>0?ue/xe[L-Z]:0:Se[ae-1])%10&1||F==(te.s<0?8:7)),v<1||!Se[0])return Se.length=0,D?(v-=te.e+1,Se[0]=xe[(s-v%s)%s],te.e=-v||0):Se[0]=te.e=0,te;if(H==0?(Se.length=ae,$=1,ae--):(Se.length=ae+1,$=xe[s-H],Se[ae]=Z>0?t(ue/xe[L-Z]%xe[Z])*$:0),D)for(;;)if(ae==0){for(H=1,Z=Se[0];Z>=10;Z/=10,H++);for(Z=Se[0]+=$,$=1;Z>=10;Z/=10,$++);H!=$&&(te.e++,Se[0]==l&&(Se[0]=1));break}else{if(Se[ae]+=$,Se[ae]!=l)break;Se[ae--]=0,$=1}for(H=Se.length;Se[--H]===0;Se.pop());}te.e>G?te.c=te.e=null:te.e<U&&(te.c=[te.e=0])}return te}function be(te){var v,F=te.e;return F===null?te.toString():(v=_(te.c),v=F<=B||F>=V?E(v,F):S(v,F,"0"),te.s<0?"-"+v:v)}return I.absoluteValue=I.abs=function(){var te=new le(this);return te.s<0&&(te.s=1),te},I.comparedTo=function(te,v){return m(this,new le(te,v))},I.decimalPlaces=I.dp=function(te,v){var F,D,L,H=this;if(te!=null)return w(te,0,p),v==null?v=C:w(v,0,8),Oe(new le(H),te+H.e+1,v);if(!(F=H.c))return null;if(D=((L=F.length-1)-g(this.e/s))*s,L=F[L])for(;L%10==0;L/=10,D--);return D<0&&(D=0),D},I.dividedBy=I.div=function(te,v){return j(this,new le(te,v),P,C)},I.dividedToIntegerBy=I.idiv=function(te,v){return j(this,new le(te,v),0,1)},I.exponentiatedBy=I.pow=function(te,v){var F,D,L,H,Z,$,ue,ae,ce,Se=this;if(te=new le(te),te.c&&!te.isInteger())throw Error(i+"Exponent not an integer: "+be(te));if(v!=null&&(v=new le(v)),$=te.e>14,!Se.c||!Se.c[0]||Se.c[0]==1&&!Se.e&&Se.c.length==1||!te.c||!te.c[0])return ce=new le(Math.pow(+be(Se),$?te.s*(2-T(te)):+be(te))),v?ce.mod(v):ce;if(ue=te.s<0,v){if(v.c?!v.c[0]:!v.s)return new le(NaN);D=!ue&&Se.isInteger()&&v.isInteger(),D&&(Se=Se.mod(v))}else{if(te.e>9&&(Se.e>0||Se.e<-1||(Se.e==0?Se.c[0]>1||$&&Se.c[1]>=24e7:Se.c[0]<8e13||$&&Se.c[0]<=9999975e7)))return H=Se.s<0&&T(te)?-0:0,Se.e>-1&&(H=1/H),new le(ue?1/H:H);W&&(H=r(W/s+2))}for($?(F=new le(.5),ue&&(te.s=1),ae=T(te)):(L=Math.abs(+be(te)),ae=L%2),ce=new le(A);;){if(ae){if(ce=ce.times(Se),!ce.c)break;H?ce.c.length>H&&(ce.c.length=H):D&&(ce=ce.mod(v))}if(L){if(L=t(L/2),L===0)break;ae=L%2}else if(te=te.times(F),Oe(te,te.e+1,1),te.e>14)ae=T(te);else{if(L=+be(te),L===0)break;ae=L%2}Se=Se.times(Se),H?Se.c&&Se.c.length>H&&(Se.c.length=H):D&&(Se=Se.mod(v))}return D?ce:(ue&&(ce=A.div(ce)),v?ce.mod(v):H?Oe(ce,W,C,Z):ce)},I.integerValue=function(te){var v=new le(this);return te==null?te=C:w(te,0,8),Oe(v,v.e+1,te)},I.isEqualTo=I.eq=function(te,v){return m(this,new le(te,v))===0},I.isFinite=function(){return!!this.c},I.isGreaterThan=I.gt=function(te,v){return m(this,new le(te,v))>0},I.isGreaterThanOrEqualTo=I.gte=function(te,v){return(v=m(this,new le(te,v)))===1||v===0},I.isInteger=function(){return!!this.c&&g(this.e/s)>this.c.length-2},I.isLessThan=I.lt=function(te,v){return m(this,new le(te,v))<0},I.isLessThanOrEqualTo=I.lte=function(te,v){return(v=m(this,new le(te,v)))===-1||v===0},I.isNaN=function(){return!this.s},I.isNegative=function(){return this.s<0},I.isPositive=function(){return this.s>0},I.isZero=function(){return!!this.c&&this.c[0]==0},I.minus=function(te,v){var F,D,L,H,Z=this,$=Z.s;if(te=new le(te,v),v=te.s,!$||!v)return new le(NaN);if($!=v)return te.s=-v,Z.plus(te);var ue=Z.e/s,ae=te.e/s,ce=Z.c,Se=te.c;if(!ue||!ae){if(!ce||!Se)return ce?(te.s=-v,te):new le(Se?Z:NaN);if(!ce[0]||!Se[0])return Se[0]?(te.s=-v,te):new le(ce[0]?Z:C==3?-0:0)}if(ue=g(ue),ae=g(ae),ce=ce.slice(),$=ue-ae){for((H=$<0)?($=-$,L=ce):(ae=ue,L=Se),L.reverse(),v=$;v--;L.push(0));L.reverse()}else for(D=(H=($=ce.length)<(v=Se.length))?$:v,$=v=0;v<D;v++)if(ce[v]!=Se[v]){H=ce[v]<Se[v];break}if(H&&(L=ce,ce=Se,Se=L,te.s=-te.s),v=(D=Se.length)-(F=ce.length),v>0)for(;v--;ce[F++]=0);for(v=l-1;D>$;){if(ce[--D]<Se[D]){for(F=D;F&&!ce[--F];ce[F]=v);--ce[F],ce[D]+=l}ce[D]-=Se[D]}for(;ce[0]==0;ce.splice(0,1),--ae);return ce[0]?Ne(te,ce,ae):(te.s=C==3?-1:1,te.c=[te.e=0],te)},I.modulo=I.mod=function(te,v){var F,D,L=this;return te=new le(te,v),!L.c||!te.s||te.c&&!te.c[0]?new le(NaN):!te.c||L.c&&!L.c[0]?new le(L):(ne==9?(D=te.s,te.s=1,F=j(L,te,0,3),te.s=D,F.s*=D):F=j(L,te,0,ne),te=L.minus(F.times(te)),!te.c[0]&&ne==1&&(te.s=L.s),te)},I.multipliedBy=I.times=function(te,v){var F,D,L,H,Z,$,ue,ae,ce,Se,xe,Ce,He,Je,Ye,oe=this,X=oe.c,Y=(te=new le(te,v)).c;if(!X||!Y||!X[0]||!Y[0])return!oe.s||!te.s||X&&!X[0]&&!Y||Y&&!Y[0]&&!X?te.c=te.e=te.s=null:(te.s*=oe.s,!X||!Y?te.c=te.e=null:(te.c=[0],te.e=0)),te;for(D=g(oe.e/s)+g(te.e/s),te.s*=oe.s,ue=X.length,Se=Y.length,ue<Se&&(He=X,X=Y,Y=He,L=ue,ue=Se,Se=L),L=ue+Se,He=[];L--;He.push(0));for(Je=l,Ye=f,L=Se;--L>=0;){for(F=0,xe=Y[L]%Ye,Ce=Y[L]/Ye|0,Z=ue,H=L+Z;H>L;)ae=X[--Z]%Ye,ce=X[Z]/Ye|0,$=Ce*ae+ce*xe,ae=xe*ae+$%Ye*Ye+He[H]+F,F=(ae/Je|0)+($/Ye|0)+Ce*ce,He[H--]=ae%Je;He[H]=F}return F?++D:He.splice(0,1),Ne(te,He,D)},I.negated=function(){var te=new le(this);return te.s=-te.s||null,te},I.plus=function(te,v){var F,D=this,L=D.s;if(te=new le(te,v),v=te.s,!L||!v)return new le(NaN);if(L!=v)return te.s=-v,D.minus(te);var H=D.e/s,Z=te.e/s,$=D.c,ue=te.c;if(!H||!Z){if(!$||!ue)return new le(L/0);if(!$[0]||!ue[0])return ue[0]?te:new le($[0]?D:L*0)}if(H=g(H),Z=g(Z),$=$.slice(),L=H-Z){for(L>0?(Z=H,F=ue):(L=-L,F=$),F.reverse();L--;F.push(0));F.reverse()}for(L=$.length,v=ue.length,L-v<0&&(F=ue,ue=$,$=F,v=L),L=0;v;)L=($[--v]=$[v]+ue[v]+L)/l|0,$[v]=l===$[v]?0:$[v]%l;return L&&($=[L].concat($),++Z),Ne(te,$,Z)},I.precision=I.sd=function(te,v){var F,D,L,H=this;if(te!=null&&te!==!!te)return w(te,1,p),v==null?v=C:w(v,0,8),Oe(new le(H),te,v);if(!(F=H.c))return null;if(L=F.length-1,D=L*s+1,L=F[L]){for(;L%10==0;L/=10,D--);for(L=F[0];L>=10;L/=10,D++);}return te&&H.e+1>D&&(D=H.e+1),D},I.shiftedBy=function(te){return w(te,-c,c),this.times("1e"+te)},I.squareRoot=I.sqrt=function(){var te,v,F,D,L,H=this,Z=H.c,$=H.s,ue=H.e,ae=P+4,ce=new le("0.5");if($!==1||!Z||!Z[0])return new le(!$||$<0&&(!Z||Z[0])?NaN:Z?H:1/0);if($=Math.sqrt(+be(H)),$==0||$==1/0?(v=_(Z),(v.length+ue)%2==0&&(v+="0"),$=Math.sqrt(+v),ue=g((ue+1)/2)-(ue<0||ue%2),$==1/0?v="5e"+ue:(v=$.toExponential(),v=v.slice(0,v.indexOf("e")+1)+ue),F=new le(v)):F=new le($+""),F.c[0]){for(ue=F.e,$=ue+ae,$<3&&($=0);;)if(L=F,F=ce.times(L.plus(j(H,L,ae,1))),_(L.c).slice(0,$)===(v=_(F.c)).slice(0,$))if(F.e<ue&&--$,v=v.slice($-3,$+1),v=="9999"||!D&&v=="4999"){if(!D&&(Oe(L,L.e+P+2,0),L.times(L).eq(H))){F=L;break}ae+=4,$+=4,D=1}else{(!+v||!+v.slice(1)&&v.charAt(0)=="5")&&(Oe(F,F.e+P+2,1),te=!F.times(F).eq(H));break}}return Oe(F,F.e+P+1,C,te)},I.toExponential=function(te,v){return te!=null&&(w(te,0,p),te++),Ee(this,te,v,1)},I.toFixed=function(te,v){return te!=null&&(w(te,0,p),te=te+this.e+1),Ee(this,te,v)},I.toFormat=function(te,v,F){var D,L=this;if(F==null)te!=null&&v&&typeof v=="object"?(F=v,v=null):te&&typeof te=="object"?(F=te,te=v=null):F=ee;else if(typeof F!="object")throw Error(i+"Argument not an object: "+F);if(D=L.toFixed(te,v),L.c){var H,Z=D.split("."),$=+F.groupSize,ue=+F.secondaryGroupSize,ae=F.groupSeparator||"",ce=Z[0],Se=Z[1],xe=L.s<0,Ce=xe?ce.slice(1):ce,He=Ce.length;if(ue&&(H=$,$=ue,ue=H,He-=H),$>0&&He>0){for(H=He%$||$,ce=Ce.substr(0,H);H<He;H+=$)ce+=ae+Ce.substr(H,$);ue>0&&(ce+=ae+Ce.slice(H)),xe&&(ce="-"+ce)}D=Se?ce+(F.decimalSeparator||"")+((ue=+F.fractionGroupSize)?Se.replace(new RegExp("\\d{"+ue+"}\\B","g"),"$&"+(F.fractionGroupSeparator||"")):Se):ce}return(F.prefix||"")+D+(F.suffix||"")},I.toFraction=function(te){var v,F,D,L,H,Z,$,ue,ae,ce,Se,xe,Ce=this,He=Ce.c;if(te!=null&&($=new le(te),!$.isInteger()&&($.c||$.s!==1)||$.lt(A)))throw Error(i+"Argument "+($.isInteger()?"out of range: ":"not an integer: ")+be($));if(!He)return new le(Ce);for(v=new le(A),ae=F=new le(A),D=ue=new le(A),xe=_(He),H=v.e=xe.length-Ce.e-1,v.c[0]=d[(Z=H%s)<0?s+Z:Z],te=!te||$.comparedTo(v)>0?H>0?v:ae:$,Z=G,G=1/0,$=new le(xe),ue.c[0]=0;ce=j($,v,0,1),L=F.plus(ce.times(D)),L.comparedTo(te)!=1;)F=D,D=L,ae=ue.plus(ce.times(L=ae)),ue=L,v=$.minus(ce.times(L=v)),$=L;return L=j(te.minus(F),D,0,1),ue=ue.plus(L.times(ae)),F=F.plus(L.times(D)),ue.s=ae.s=Ce.s,H=H*2,Se=j(ae,D,H,C).minus(Ce).abs().comparedTo(j(ue,F,H,C).minus(Ce).abs())<1?[ae,D]:[ue,F],G=Z,Se},I.toNumber=function(){return+be(this)},I.toPrecision=function(te,v){return te!=null&&w(te,1,p),Ee(this,te,v,2)},I.toString=function(te){var v,F=this,D=F.s,L=F.e;return L===null?D?(v="Infinity",D<0&&(v="-"+v)):v="NaN":(te==null?v=L<=B||L>=V?E(_(F.c),L):S(_(F.c),L,"0"):te===10&&pe?(F=Oe(new le(F),P+L+1,C),v=S(_(F.c),F.e,"0")):(w(te,2,se.length,"Base"),v=q(S(_(F.c),L,"0"),10,te,D,!0)),D<0&&F.c[0]&&(v="-"+v)),v},I.valueOf=I.toJSON=function(){return be(this)},I._isBigNumber=!0,N!=null&&le.set(N),le}function g(N){var j=N|0;return N>0||N===j?j:j-1}function _(N){for(var j,q,O=1,I=N.length,A=N[0]+"";O<I;){for(j=N[O++]+"",q=s-j.length;q--;j="0"+j);A+=j}for(I=A.length;A.charCodeAt(--I)===48;);return A.slice(0,I+1||1)}function m(N,j){var q,O,I=N.c,A=j.c,P=N.s,C=j.s,B=N.e,V=j.e;if(!P||!C)return null;if(q=I&&!I[0],O=A&&!A[0],q||O)return q?O?0:-C:P;if(P!=C)return P;if(q=P<0,O=B==V,!I||!A)return O?0:!I^q?1:-1;if(!O)return B>V^q?1:-1;for(C=(B=I.length)<(V=A.length)?B:V,P=0;P<C;P++)if(I[P]!=A[P])return I[P]>A[P]^q?1:-1;return B==V?0:B>V^q?1:-1}function w(N,j,q,O){if(N<j||N>q||N!==t(N))throw Error(i+(O||"Argument")+(typeof N=="number"?N<j||N>q?" out of range: ":" not an integer: ":" not a primitive number: ")+String(N))}function T(N){var j=N.c.length-1;return g(N.e/s)==j&&N.c[j]%2!=0}function E(N,j){return(N.length>1?N.charAt(0)+"."+N.slice(1):N)+(j<0?"e":"e+")+j}function S(N,j,q){var O,I;if(j<0){for(I=q+".";++j;I+=q);N=I+N}else if(O=N.length,++j>O){for(I=q,j-=O;--j;I+=q);N+=I}else j<O&&(N=N.slice(0,j)+"."+N.slice(j));return N}u=h(),u.default=u.BigNumber=u,n.exports?n.exports=u:(e||(e=typeof self<"u"&&self?self:window),e.BigNumber=u)})(GPe)})(oF)),oF.exports}var yie;function $Pe(){if(yie)return $3;yie=1,Object.defineProperty($3,"__esModule",{value:!0}),$3.TermFunctionAddition=void 0;const n=We(),e=Xe(),u=SP();let a=class extends n.TermFunctionBase{constructor(){super({arity:2,operator:e.SparqlOperator.ADDITION,overloads:(0,e.declare)(e.SparqlOperator.ADDITION).arithmetic(()=>(t,i)=>new u.BigNumber(t).plus(i).toNumber()).set([e.TypeURL.XSD_DATE_TIME,e.TypeURL.XSD_DAY_TIME_DURATION],()=>([t,i])=>new e.DateTimeLiteral((0,e.addDurationToDateTime)(t.typedValue,(0,e.defaultedDurationRepresentation)(i.typedValue)))).copy({from:[e.TypeURL.XSD_DATE_TIME,e.TypeURL.XSD_DAY_TIME_DURATION],to:[e.TypeURL.XSD_DATE_TIME,e.TypeURL.XSD_YEAR_MONTH_DURATION]}).set([e.TypeURL.XSD_DATE,e.TypeURL.XSD_DAY_TIME_DURATION],()=>([t,i])=>new e.DateLiteral((0,e.addDurationToDateTime)((0,e.defaultedDateTimeRepresentation)(t.typedValue),(0,e.defaultedDurationRepresentation)(i.typedValue)))).copy({from:[e.TypeURL.XSD_DATE,e.TypeURL.XSD_DAY_TIME_DURATION],to:[e.TypeURL.XSD_DATE,e.TypeURL.XSD_YEAR_MONTH_DURATION]}).set([e.TypeURL.XSD_TIME,e.TypeURL.XSD_DAY_TIME_DURATION],()=>([t,i])=>new e.TimeLiteral((0,e.addDurationToDateTime)((0,e.defaultedDateTimeRepresentation)(t.typedValue),(0,e.defaultedDurationRepresentation)(i.typedValue)))).copy({from:[e.TypeURL.XSD_TIME,e.TypeURL.XSD_DAY_TIME_DURATION],to:[e.TypeURL.XSD_TIME,e.TypeURL.XSD_YEAR_MONTH_DURATION]}).collect()})}};return $3.TermFunctionAddition=a,$3}var mie;function XPe(){if(mie)return G3;mie=1,Object.defineProperty(G3,"__esModule",{value:!0}),G3.ActorFunctionFactoryTermAddition=void 0;const n=We(),e=Xe(),u=$Pe();let a=class extends n.ActorFunctionFactoryDedicated{constructor(t){super({...t,functionNames:[e.SparqlOperator.ADDITION],termFunction:!0})}async run(t){return new u.TermFunctionAddition}};return G3.ActorFunctionFactoryTermAddition=a,G3}var bie;function wU(){return bie||(bie=1,(function(n){var e=kp&&kp.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=kp&&kp.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(XPe(),n)})(kp)),kp}var zp={},X3={},K3={},gie;function KPe(){if(gie)return K3;gie=1,Object.defineProperty(K3,"__esModule",{value:!0}),K3.TermFunctionCeil=void 0;const n=We(),e=Xe();let u=class extends n.TermFunctionBase{constructor(){super({arity:1,operator:e.SparqlOperator.CEIL,overloads:(0,e.declare)(e.SparqlOperator.CEIL).numericConverter(()=>r=>Math.ceil(r)).collect()})}};return K3.TermFunctionCeil=u,K3}var vie;function JPe(){if(vie)return X3;vie=1,Object.defineProperty(X3,"__esModule",{value:!0}),X3.ActorFunctionFactoryTermCeil=void 0;const n=We(),e=Xe(),u=KPe();let a=class extends n.ActorFunctionFactoryDedicated{constructor(t){super({...t,functionNames:[e.SparqlOperator.CEIL],termFunction:!0})}async run(t){return new u.TermFunctionCeil}};return X3.ActorFunctionFactoryTermCeil=a,X3}var _ie;function SU(){return _ie||(_ie=1,(function(n){var e=zp&&zp.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=zp&&zp.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(JPe(),n)})(zp)),zp}var Gp={},J3={},W3={},Tie;function WPe(){if(Tie)return W3;Tie=1,Object.defineProperty(W3,"__esModule",{value:!0}),W3.TermFunctionContains=void 0;const n=We(),e=Xe();let u=class extends n.TermFunctionBase{constructor(){super({arity:2,operator:e.SparqlOperator.CONTAINS,overloads:(0,e.declare)(e.SparqlOperator.CONTAINS).onBinaryTyped([e.TypeAlias.SPARQL_STRINGLY,e.TypeURL.XSD_STRING],()=>(r,t)=>(0,e.bool)(r.includes(t))).onBinary([e.TypeURL.RDF_LANG_STRING,e.TypeURL.RDF_LANG_STRING],()=>(r,t)=>{if(r.language!==t.language)throw new e.IncompatibleLanguageOperation(r,t);return(0,e.bool)(r.typedValue.includes(t.typedValue))}).collect()})}};return W3.TermFunctionContains=u,W3}var wie;function YPe(){if(wie)return J3;wie=1,Object.defineProperty(J3,"__esModule",{value:!0}),J3.ActorFunctionFactoryTermContains=void 0;const n=We(),e=Xe(),u=WPe();let a=class extends n.ActorFunctionFactoryDedicated{constructor(t){super({...t,functionNames:[e.SparqlOperator.CONTAINS],termFunction:!0})}async run(t){return new u.TermFunctionContains}};return J3.ActorFunctionFactoryTermContains=a,J3}var Sie;function EU(){return Sie||(Sie=1,(function(n){var e=Gp&&Gp.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=Gp&&Gp.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(YPe(),n)})(Gp)),Gp}var $p={},Y3={},Z3={},Eie;function ZPe(){if(Eie)return Z3;Eie=1,Object.defineProperty(Z3,"__esModule",{value:!0}),Z3.TermFunctionDatatype=void 0;const n=We(),e=Xe();let u=class extends n.TermFunctionBase{constructor(){super({arity:1,operator:e.SparqlOperator.DATATYPE,overloads:(0,e.declare)(e.SparqlOperator.DATATYPE).onLiteral1(()=>r=>new e.NamedNode(r.dataType)).collect()})}};return Z3.TermFunctionDatatype=u,Z3}var Aie;function e8e(){if(Aie)return Y3;Aie=1,Object.defineProperty(Y3,"__esModule",{value:!0}),Y3.ActorFunctionFactoryTermDatatype=void 0;const n=We(),e=Xe(),u=ZPe();let a=class extends n.ActorFunctionFactoryDedicated{constructor(t){super({...t,functionNames:[e.SparqlOperator.DATATYPE],termFunction:!0})}async run(t){return new u.TermFunctionDatatype}};return Y3.ActorFunctionFactoryTermDatatype=a,Y3}var Oie;function AU(){return Oie||(Oie=1,(function(n){var e=$p&&$p.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=$p&&$p.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(e8e(),n)})($p)),$p}var Xp={},ew={},tw={},xie;function t8e(){if(xie)return tw;xie=1,Object.defineProperty(tw,"__esModule",{value:!0}),tw.TermFunctionDay=void 0;const n=We(),e=Xe();let u=class extends n.TermFunctionBase{constructor(){super({arity:1,operator:e.SparqlOperator.DAY,overloads:(0,e.declare)(e.SparqlOperator.DAY).onDateTime1(()=>r=>(0,e.integer)(r.typedValue.day)).set([e.TypeURL.XSD_DATE],()=>([r])=>(0,e.integer)(r.typedValue.day)).collect()})}};return tw.TermFunctionDay=u,tw}var Rie;function r8e(){if(Rie)return ew;Rie=1,Object.defineProperty(ew,"__esModule",{value:!0}),ew.ActorFunctionFactoryTermDay=void 0;const n=We(),e=Xe(),u=t8e();let a=class extends n.ActorFunctionFactoryDedicated{constructor(t){super({...t,functionNames:[e.SparqlOperator.DAY],termFunction:!0})}async run(t){return new u.TermFunctionDay}};return ew.ActorFunctionFactoryTermDay=a,ew}var Nie;function OU(){return Nie||(Nie=1,(function(n){var e=Xp&&Xp.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=Xp&&Xp.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(r8e(),n)})(Xp)),Xp}var Kp={},rw={},nw={},Iie;function n8e(){if(Iie)return nw;Iie=1,Object.defineProperty(nw,"__esModule",{value:!0}),nw.TermFunctionDivision=void 0;const n=We(),e=Xe(),u=SP();let a=class extends n.TermFunctionBase{constructor(){super({arity:2,operator:e.SparqlOperator.DIVISION,overloads:(0,e.declare)(e.SparqlOperator.DIVISION).arithmetic(()=>(t,i)=>new u.BigNumber(t).div(i).toNumber()).onBinaryTyped([e.TypeURL.XSD_INTEGER,e.TypeURL.XSD_INTEGER],()=>(t,i)=>{if(i===0)throw new e.ExpressionError("Integer division by 0");return(0,e.decimal)(new u.BigNumber(t).div(i).toNumber())}).collect()})}};return nw.TermFunctionDivision=a,nw}var Die;function a8e(){if(Die)return rw;Die=1,Object.defineProperty(rw,"__esModule",{value:!0}),rw.ActorFunctionFactoryTermDivision=void 0;const n=We(),e=Xe(),u=n8e();let a=class extends n.ActorFunctionFactoryDedicated{constructor(t){super({...t,functionNames:[e.SparqlOperator.DIVISION],termFunction:!0})}async run(t){return new u.TermFunctionDivision}};return rw.ActorFunctionFactoryTermDivision=a,rw}var Fie;function xU(){return Fie||(Fie=1,(function(n){var e=Kp&&Kp.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=Kp&&Kp.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(a8e(),n)})(Kp)),Kp}var Jp={},aw={},iw={},Pie;function i8e(){if(Pie)return iw;Pie=1,Object.defineProperty(iw,"__esModule",{value:!0}),iw.TermFunctionEncodeForUri=void 0;const n=We(),e=Xe();let u=class extends n.TermFunctionBase{constructor(){super({arity:1,operator:e.SparqlOperator.ENCODE_FOR_URI,overloads:(0,e.declare)(e.SparqlOperator.ENCODE_FOR_URI).onStringly1Typed(()=>r=>(0,e.string)(encodeURI(r))).collect()})}};return iw.TermFunctionEncodeForUri=u,iw}var jie;function u8e(){if(jie)return aw;jie=1,Object.defineProperty(aw,"__esModule",{value:!0}),aw.ActorFunctionFactoryTermEncodeForUri=void 0;const n=We(),e=Xe(),u=i8e();let a=class extends n.ActorFunctionFactoryDedicated{constructor(t){super({...t,functionNames:[e.SparqlOperator.ENCODE_FOR_URI],termFunction:!0})}async run(t){return new u.TermFunctionEncodeForUri}};return aw.ActorFunctionFactoryTermEncodeForUri=a,aw}var Mie;function RU(){return Mie||(Mie=1,(function(n){var e=Jp&&Jp.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=Jp&&Jp.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(u8e(),n)})(Jp)),Jp}var Wp={},uw={},ow={},Cie;function o8e(){if(Cie)return ow;Cie=1,Object.defineProperty(ow,"__esModule",{value:!0}),ow.TermFunctionEquality=void 0;const n=We(),e=lt(),u=Xe();let a=class extends n.TermFunctionBase{constructor(){super({arity:2,operator:u.SparqlOperator.EQUAL,overloads:(0,u.declare)(u.SparqlOperator.EQUAL).numberTest(()=>(t,i)=>t===i).stringTest(()=>(t,i)=>t.localeCompare(i)===0).set([u.TypeURL.RDF_LANG_STRING,u.TypeURL.RDF_LANG_STRING],()=>([t,i])=>(0,u.bool)(t.str()===i.str()&&t.language===i.language)).set([u.TypeAlias.SPARQL_STRINGLY,u.TypeAlias.SPARQL_STRINGLY],()=>()=>(0,u.bool)(!1)).booleanTest(()=>(t,i)=>t===i).dateTimeTest(t=>(i,o)=>(0,u.toUTCDate)(i,t.context.getSafe(e.KeysExpressionEvaluator.defaultTimeZone)).getTime()===(0,u.toUTCDate)(o,t.context.getSafe(e.KeysExpressionEvaluator.defaultTimeZone)).getTime()).copy({from:[u.TypeURL.XSD_DATE_TIME,u.TypeURL.XSD_DATE_TIME],to:[u.TypeURL.XSD_DATE,u.TypeURL.XSD_DATE]}).set(["quad","quad"],t=>([i,o])=>(0,u.bool)(this.applyOnTerms([i.subject,o.subject],t).coerceEBV()&&this.applyOnTerms([i.predicate,o.predicate],t).coerceEBV()&&this.applyOnTerms([i.object,o.object],t).coerceEBV()&&this.applyOnTerms([i.graph,o.graph],t).coerceEBV()),!1).set(["term","term"],t=>([i,o])=>{const l=i.toRDF(t.context.getSafe(e.KeysInitQuery.dataFactory)),s=o.toRDF(t.context.getSafe(e.KeysInitQuery.dataFactory)),c=l.equals(s);if(!c&&l.termType==="Literal"&&s.termType==="Literal")throw new u.RDFEqualTypeError([i,o]);return(0,u.bool)(c)},!1).set([u.TypeURL.XSD_DURATION,u.TypeURL.XSD_DURATION],()=>([t,i])=>(0,u.bool)((0,u.yearMonthDurationsToMonths)((0,u.defaultedYearMonthDurationRepresentation)(t.typedValue))===(0,u.yearMonthDurationsToMonths)((0,u.defaultedYearMonthDurationRepresentation)(i.typedValue))&&(0,u.dayTimeDurationsToSeconds)((0,u.defaultedDayTimeDurationRepresentation)(t.typedValue))===(0,u.dayTimeDurationsToSeconds)((0,u.defaultedDayTimeDurationRepresentation)(i.typedValue)))).set([u.TypeURL.XSD_TIME,u.TypeURL.XSD_TIME],t=>([i,o])=>(0,u.bool)((0,u.toUTCDate)((0,u.defaultedDateTimeRepresentation)(i.typedValue),t.context.getSafe(e.KeysExpressionEvaluator.defaultTimeZone)).getTime()===(0,u.toUTCDate)((0,u.defaultedDateTimeRepresentation)(o.typedValue),t.context.getSafe(e.KeysExpressionEvaluator.defaultTimeZone)).getTime())).collect()})}};return ow.TermFunctionEquality=a,ow}var Lie;function s8e(){if(Lie)return uw;Lie=1,Object.defineProperty(uw,"__esModule",{value:!0}),uw.ActorFunctionFactoryTermEquality=void 0;const n=We(),e=Xe(),u=o8e();let a=class extends n.ActorFunctionFactoryDedicated{constructor(t){super({...t,functionNames:[e.SparqlOperator.EQUAL],termFunction:!0})}async run(t){return new u.TermFunctionEquality}};return uw.ActorFunctionFactoryTermEquality=a,uw}var qie;function NU(){return qie||(qie=1,(function(n){var e=Wp&&Wp.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=Wp&&Wp.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(s8e(),n)})(Wp)),Wp}var Yp={},sw={},cw={},Bie;function c8e(){if(Bie)return cw;Bie=1,Object.defineProperty(cw,"__esModule",{value:!0}),cw.TermFunctionFloor=void 0;const n=We(),e=Xe();let u=class extends n.TermFunctionBase{constructor(){super({arity:1,operator:e.SparqlOperator.FLOOR,overloads:(0,e.declare)(e.SparqlOperator.FLOOR).numericConverter(()=>r=>Math.floor(r)).collect()})}};return cw.TermFunctionFloor=u,cw}var Uie;function l8e(){if(Uie)return sw;Uie=1,Object.defineProperty(sw,"__esModule",{value:!0}),sw.ActorFunctionFactoryTermFloor=void 0;const n=We(),e=Xe(),u=c8e();let a=class extends n.ActorFunctionFactoryDedicated{constructor(t){super({...t,functionNames:[e.SparqlOperator.FLOOR],termFunction:!0})}async run(t){return new u.TermFunctionFloor}};return sw.ActorFunctionFactoryTermFloor=a,sw}var Qie;function IU(){return Qie||(Qie=1,(function(n){var e=Yp&&Yp.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=Yp&&Yp.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(l8e(),n)})(Yp)),Yp}var Zp={},lw={},dw={},Vie;function d8e(){if(Vie)return dw;Vie=1,Object.defineProperty(dw,"__esModule",{value:!0}),dw.TermFunctionHours=void 0;const n=We(),e=Xe();let u=class extends n.TermFunctionBase{constructor(){super({arity:1,operator:e.SparqlOperator.HOURS,overloads:(0,e.declare)(e.SparqlOperator.HOURS).onDateTime1(()=>r=>(0,e.integer)(r.typedValue.hours)).set([e.TypeURL.XSD_TIME],()=>([r])=>(0,e.integer)(r.typedValue.hours)).collect()})}};return dw.TermFunctionHours=u,dw}var Hie;function f8e(){if(Hie)return lw;Hie=1,Object.defineProperty(lw,"__esModule",{value:!0}),lw.ActorFunctionFactoryTermHours=void 0;const n=We(),e=Xe(),u=d8e();let a=class extends n.ActorFunctionFactoryDedicated{constructor(t){super({...t,functionNames:[e.SparqlOperator.HOURS],termFunction:!0})}async run(t){return new u.TermFunctionHours}};return lw.ActorFunctionFactoryTermHours=a,lw}var kie;function DU(){return kie||(kie=1,(function(n){var e=Zp&&Zp.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=Zp&&Zp.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(f8e(),n)})(Zp)),Zp}var e0={},fw={},pw={},zie;function p8e(){if(zie)return pw;zie=1,Object.defineProperty(pw,"__esModule",{value:!0}),pw.TermFunctionIri=void 0;const n=We(),e=lt(),u=Xe(),a=Xn();let r=class extends n.TermFunctionBase{constructor(){super({arity:1,operator:u.SparqlOperator.IRI,overloads:(0,u.declare)(u.SparqlOperator.IRI).set(["namedNode"],i=>o=>{const l=o[0],s=(0,a.resolve)(l.str(),i.context.get(e.KeysInitQuery.baseIRI)??"");return new u.NamedNode(s)}).onString1(i=>o=>{const l=(0,a.resolve)(o.str(),i.context.get(e.KeysInitQuery.baseIRI)??"");return new u.NamedNode(l)}).collect()})}};return pw.TermFunctionIri=r,pw}var Gie;function h8e(){if(Gie)return fw;Gie=1,Object.defineProperty(fw,"__esModule",{value:!0}),fw.ActorFunctionFactoryTermIri=void 0;const n=We(),e=Xe(),u=p8e();let a=class extends n.ActorFunctionFactoryDedicated{constructor(t){super({...t,functionNames:[e.SparqlOperator.IRI,e.SparqlOperator.URI],termFunction:!0})}async run(t){return new u.TermFunctionIri}};return fw.ActorFunctionFactoryTermIri=a,fw}var $ie;function FU(){return $ie||($ie=1,(function(n){var e=e0&&e0.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=e0&&e0.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(h8e(),n)})(e0)),e0}var t0={},hw={},yw={},Xie;function y8e(){if(Xie)return yw;Xie=1,Object.defineProperty(yw,"__esModule",{value:!0}),yw.TermFunctionIsBlank=void 0;const n=We(),e=Xe();let u=class extends n.TermFunctionBase{constructor(){super({arity:1,operator:e.SparqlOperator.IS_BLANK,overloads:(0,e.declare)(e.SparqlOperator.IS_BLANK).onTerm1(()=>r=>(0,e.bool)(r.termType==="blankNode")).collect()})}};return yw.TermFunctionIsBlank=u,yw}var Kie;function m8e(){if(Kie)return hw;Kie=1,Object.defineProperty(hw,"__esModule",{value:!0}),hw.ActorFunctionFactoryTermIsBlank=void 0;const n=We(),e=Xe(),u=y8e();let a=class extends n.ActorFunctionFactoryDedicated{constructor(t){super({...t,functionNames:[e.SparqlOperator.IS_BLANK],termFunction:!0})}async run(t){return new u.TermFunctionIsBlank}};return hw.ActorFunctionFactoryTermIsBlank=a,hw}var Jie;function PU(){return Jie||(Jie=1,(function(n){var e=t0&&t0.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=t0&&t0.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(m8e(),n)})(t0)),t0}var r0={},mw={},bw={},Wie;function b8e(){if(Wie)return bw;Wie=1,Object.defineProperty(bw,"__esModule",{value:!0}),bw.TermFunctionIsIri=void 0;const n=We(),e=Xe();let u=class extends n.TermFunctionBase{constructor(){super({arity:1,operator:e.SparqlOperator.IS_IRI,overloads:(0,e.declare)(e.SparqlOperator.IS_IRI).onTerm1(()=>r=>(0,e.bool)(r.termType==="namedNode")).collect()})}};return bw.TermFunctionIsIri=u,bw}var Yie;function g8e(){if(Yie)return mw;Yie=1,Object.defineProperty(mw,"__esModule",{value:!0}),mw.ActorFunctionFactoryTermIsIri=void 0;const n=We(),e=Xe(),u=b8e();let a=class extends n.ActorFunctionFactoryDedicated{constructor(t){super({...t,functionNames:[e.SparqlOperator.IS_IRI,e.SparqlOperator.IS_URI],termFunction:!0})}async run(t){return new u.TermFunctionIsIri}};return mw.ActorFunctionFactoryTermIsIri=a,mw}var Zie;function jU(){return Zie||(Zie=1,(function(n){var e=r0&&r0.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=r0&&r0.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(g8e(),n)})(r0)),r0}var n0={},gw={},vw={},eue;function v8e(){if(eue)return vw;eue=1,Object.defineProperty(vw,"__esModule",{value:!0}),vw.TermFunctionIsLiteral=void 0;const n=We(),e=Xe();let u=class extends n.TermFunctionBase{constructor(){super({arity:1,operator:e.SparqlOperator.IS_LITERAL,overloads:(0,e.declare)(e.SparqlOperator.IS_LITERAL).onTerm1(()=>r=>(0,e.bool)(r.termType==="literal")).collect()})}};return vw.TermFunctionIsLiteral=u,vw}var tue;function _8e(){if(tue)return gw;tue=1,Object.defineProperty(gw,"__esModule",{value:!0}),gw.ActorFunctionFactoryTermIsLiteral=void 0;const n=We(),e=Xe(),u=v8e();let a=class extends n.ActorFunctionFactoryDedicated{constructor(t){super({...t,functionNames:[e.SparqlOperator.IS_LITERAL],termFunction:!0})}async run(t){return new u.TermFunctionIsLiteral}};return gw.ActorFunctionFactoryTermIsLiteral=a,gw}var rue;function MU(){return rue||(rue=1,(function(n){var e=n0&&n0.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=n0&&n0.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(_8e(),n)})(n0)),n0}var a0={},_w={},Tw={},nue;function T8e(){if(nue)return Tw;nue=1,Object.defineProperty(Tw,"__esModule",{value:!0}),Tw.TermFunctionIsNumeric=void 0;const n=We(),e=Xe();let u=class extends n.TermFunctionBase{constructor(){super({arity:1,operator:e.SparqlOperator.IS_NUMERIC,overloads:(0,e.declare)(e.SparqlOperator.IS_NUMERIC).onNumeric1(()=>()=>(0,e.bool)(!0)).onTerm1(()=>()=>(0,e.bool)(!1)).collect()})}};return Tw.TermFunctionIsNumeric=u,Tw}var aue;function w8e(){if(aue)return _w;aue=1,Object.defineProperty(_w,"__esModule",{value:!0}),_w.ActorFunctionFactoryTermIsNumeric=void 0;const n=We(),e=Xe(),u=T8e();let a=class extends n.ActorFunctionFactoryDedicated{constructor(t){super({...t,functionNames:[e.SparqlOperator.IS_NUMERIC],termFunction:!0})}async run(t){return new u.TermFunctionIsNumeric}};return _w.ActorFunctionFactoryTermIsNumeric=a,_w}var iue;function CU(){return iue||(iue=1,(function(n){var e=a0&&a0.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=a0&&a0.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(w8e(),n)})(a0)),a0}var i0={},ww={},Sw={},uue;function S8e(){if(uue)return Sw;uue=1,Object.defineProperty(Sw,"__esModule",{value:!0}),Sw.TermFunctionIsTriple=void 0;const n=We(),e=Xe();let u=class extends n.TermFunctionBase{constructor(){super({arity:1,operator:e.SparqlOperator.IS_TRIPLE,overloads:(0,e.declare)(e.SparqlOperator.IS_TRIPLE).onTerm1(()=>r=>(0,e.bool)(r.termType==="quad")).collect()})}};return Sw.TermFunctionIsTriple=u,Sw}var oue;function E8e(){if(oue)return ww;oue=1,Object.defineProperty(ww,"__esModule",{value:!0}),ww.ActorFunctionFactoryTermIsTriple=void 0;const n=We(),e=Xe(),u=S8e();let a=class extends n.ActorFunctionFactoryDedicated{constructor(t){super({...t,functionNames:[e.SparqlOperator.IS_TRIPLE],termFunction:!0})}async run(t){return new u.TermFunctionIsTriple}};return ww.ActorFunctionFactoryTermIsTriple=a,ww}var sue;function LU(){return sue||(sue=1,(function(n){var e=i0&&i0.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=i0&&i0.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(E8e(),n)})(i0)),i0}var u0={},Ew={},Aw={},cue;function A8e(){if(cue)return Aw;cue=1,Object.defineProperty(Aw,"__esModule",{value:!0}),Aw.TermFunctionLang=void 0;const n=We(),e=Xe();let u=class extends n.TermFunctionBase{constructor(){super({arity:1,operator:e.SparqlOperator.LANG,overloads:(0,e.declare)(e.SparqlOperator.LANG).onLiteral1(()=>r=>(0,e.string)(r.language??"")).collect()})}};return Aw.TermFunctionLang=u,Aw}var lue;function O8e(){if(lue)return Ew;lue=1,Object.defineProperty(Ew,"__esModule",{value:!0}),Ew.ActorFunctionFactoryTermLang=void 0;const n=We(),e=Xe(),u=A8e();let a=class extends n.ActorFunctionFactoryDedicated{constructor(t){super({...t,functionNames:[e.SparqlOperator.LANG],termFunction:!0})}async run(t){return new u.TermFunctionLang}};return Ew.ActorFunctionFactoryTermLang=a,Ew}var due;function qU(){return due||(due=1,(function(n){var e=u0&&u0.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=u0&&u0.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(O8e(),n)})(u0)),u0}var o0={},Ow={},xw={},fue;function x8e(){if(fue)return xw;fue=1,Object.defineProperty(xw,"__esModule",{value:!0}),xw.TermFunctionLangmatches=void 0;const n=We(),e=Xe();let u=class Pg extends n.TermFunctionBase{constructor(){super({arity:2,operator:e.SparqlOperator.LANG_MATCHES,overloads:(0,e.declare)(e.SparqlOperator.LANG_MATCHES).onBinaryTyped([e.TypeURL.XSD_STRING,e.TypeURL.XSD_STRING],()=>(r,t)=>(0,e.bool)(Pg.langMatches(r,t))).collect()})}static langMatches(r,t){const i=r.split("-"),o=t.split("-");if(!Pg.matchLangTag(o[0],i[0])&&!Pg.isWildCard(i[0]))return!1;let l=1,s=1;for(;s<o.length;){if(Pg.isWildCard(o[s])){s++;continue}if(l===i.length)return!1;if(Pg.matchLangTag(o[s],i[l])){l++,s++;continue}if(i[l].length===1)return!1;l++}return!0}static isWildCard(r){return r==="*"}static matchLangTag(r,t){return new RegExp(`/${r}/`,"iu").test(`/${t}/`)}};return xw.TermFunctionLangmatches=u,xw}var pue;function R8e(){if(pue)return Ow;pue=1,Object.defineProperty(Ow,"__esModule",{value:!0}),Ow.ActorFunctionFactoryTermLangmatches=void 0;const n=We(),e=Xe(),u=x8e();let a=class extends n.ActorFunctionFactoryDedicated{constructor(t){super({...t,functionNames:[e.SparqlOperator.LANG_MATCHES],termFunction:!0})}async run(t){return new u.TermFunctionLangmatches}};return Ow.ActorFunctionFactoryTermLangmatches=a,Ow}var hue;function BU(){return hue||(hue=1,(function(n){var e=o0&&o0.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=o0&&o0.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(R8e(),n)})(o0)),o0}var s0={},Rw={},Nw={},yue;function N8e(){if(yue)return Nw;yue=1,Object.defineProperty(Nw,"__esModule",{value:!0}),Nw.TermFunctionLcase=void 0;const n=We(),e=Xe();let u=class extends n.TermFunctionBase{constructor(){super({arity:1,operator:e.SparqlOperator.LCASE,overloads:(0,e.declare)(e.SparqlOperator.LCASE).onString1Typed(()=>r=>(0,e.string)(r.toLowerCase())).onLangString1(()=>r=>(0,e.langString)(r.typedValue.toLowerCase(),r.language)).collect()})}};return Nw.TermFunctionLcase=u,Nw}var mue;function I8e(){if(mue)return Rw;mue=1,Object.defineProperty(Rw,"__esModule",{value:!0}),Rw.ActorFunctionFactoryTermLcase=void 0;const n=We(),e=Xe(),u=N8e();let a=class extends n.ActorFunctionFactoryDedicated{constructor(t){super({...t,functionNames:[e.SparqlOperator.LCASE],termFunction:!0})}async run(t){return new u.TermFunctionLcase}};return Rw.ActorFunctionFactoryTermLcase=a,Rw}var bue;function UU(){return bue||(bue=1,(function(n){var e=s0&&s0.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=s0&&s0.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(I8e(),n)})(s0)),s0}var c0={},Iw={},Dw={},gC={exports:{}},gue;function D8e(){return gue||(gue=1,(function(n,e){(function(u){n.exports=u()})(function(u){var a=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function r(m,w){var T=m[0],E=m[1],S=m[2],N=m[3];T+=(E&S|~E&N)+w[0]-680876936|0,T=(T<<7|T>>>25)+E|0,N+=(T&E|~T&S)+w[1]-389564586|0,N=(N<<12|N>>>20)+T|0,S+=(N&T|~N&E)+w[2]+606105819|0,S=(S<<17|S>>>15)+N|0,E+=(S&N|~S&T)+w[3]-1044525330|0,E=(E<<22|E>>>10)+S|0,T+=(E&S|~E&N)+w[4]-176418897|0,T=(T<<7|T>>>25)+E|0,N+=(T&E|~T&S)+w[5]+1200080426|0,N=(N<<12|N>>>20)+T|0,S+=(N&T|~N&E)+w[6]-1473231341|0,S=(S<<17|S>>>15)+N|0,E+=(S&N|~S&T)+w[7]-45705983|0,E=(E<<22|E>>>10)+S|0,T+=(E&S|~E&N)+w[8]+1770035416|0,T=(T<<7|T>>>25)+E|0,N+=(T&E|~T&S)+w[9]-1958414417|0,N=(N<<12|N>>>20)+T|0,S+=(N&T|~N&E)+w[10]-42063|0,S=(S<<17|S>>>15)+N|0,E+=(S&N|~S&T)+w[11]-1990404162|0,E=(E<<22|E>>>10)+S|0,T+=(E&S|~E&N)+w[12]+1804603682|0,T=(T<<7|T>>>25)+E|0,N+=(T&E|~T&S)+w[13]-40341101|0,N=(N<<12|N>>>20)+T|0,S+=(N&T|~N&E)+w[14]-1502002290|0,S=(S<<17|S>>>15)+N|0,E+=(S&N|~S&T)+w[15]+1236535329|0,E=(E<<22|E>>>10)+S|0,T+=(E&N|S&~N)+w[1]-165796510|0,T=(T<<5|T>>>27)+E|0,N+=(T&S|E&~S)+w[6]-1069501632|0,N=(N<<9|N>>>23)+T|0,S+=(N&E|T&~E)+w[11]+643717713|0,S=(S<<14|S>>>18)+N|0,E+=(S&T|N&~T)+w[0]-373897302|0,E=(E<<20|E>>>12)+S|0,T+=(E&N|S&~N)+w[5]-701558691|0,T=(T<<5|T>>>27)+E|0,N+=(T&S|E&~S)+w[10]+38016083|0,N=(N<<9|N>>>23)+T|0,S+=(N&E|T&~E)+w[15]-660478335|0,S=(S<<14|S>>>18)+N|0,E+=(S&T|N&~T)+w[4]-405537848|0,E=(E<<20|E>>>12)+S|0,T+=(E&N|S&~N)+w[9]+568446438|0,T=(T<<5|T>>>27)+E|0,N+=(T&S|E&~S)+w[14]-1019803690|0,N=(N<<9|N>>>23)+T|0,S+=(N&E|T&~E)+w[3]-187363961|0,S=(S<<14|S>>>18)+N|0,E+=(S&T|N&~T)+w[8]+1163531501|0,E=(E<<20|E>>>12)+S|0,T+=(E&N|S&~N)+w[13]-1444681467|0,T=(T<<5|T>>>27)+E|0,N+=(T&S|E&~S)+w[2]-51403784|0,N=(N<<9|N>>>23)+T|0,S+=(N&E|T&~E)+w[7]+1735328473|0,S=(S<<14|S>>>18)+N|0,E+=(S&T|N&~T)+w[12]-1926607734|0,E=(E<<20|E>>>12)+S|0,T+=(E^S^N)+w[5]-378558|0,T=(T<<4|T>>>28)+E|0,N+=(T^E^S)+w[8]-2022574463|0,N=(N<<11|N>>>21)+T|0,S+=(N^T^E)+w[11]+1839030562|0,S=(S<<16|S>>>16)+N|0,E+=(S^N^T)+w[14]-35309556|0,E=(E<<23|E>>>9)+S|0,T+=(E^S^N)+w[1]-1530992060|0,T=(T<<4|T>>>28)+E|0,N+=(T^E^S)+w[4]+1272893353|0,N=(N<<11|N>>>21)+T|0,S+=(N^T^E)+w[7]-155497632|0,S=(S<<16|S>>>16)+N|0,E+=(S^N^T)+w[10]-1094730640|0,E=(E<<23|E>>>9)+S|0,T+=(E^S^N)+w[13]+681279174|0,T=(T<<4|T>>>28)+E|0,N+=(T^E^S)+w[0]-358537222|0,N=(N<<11|N>>>21)+T|0,S+=(N^T^E)+w[3]-722521979|0,S=(S<<16|S>>>16)+N|0,E+=(S^N^T)+w[6]+76029189|0,E=(E<<23|E>>>9)+S|0,T+=(E^S^N)+w[9]-640364487|0,T=(T<<4|T>>>28)+E|0,N+=(T^E^S)+w[12]-421815835|0,N=(N<<11|N>>>21)+T|0,S+=(N^T^E)+w[15]+530742520|0,S=(S<<16|S>>>16)+N|0,E+=(S^N^T)+w[2]-995338651|0,E=(E<<23|E>>>9)+S|0,T+=(S^(E|~N))+w[0]-198630844|0,T=(T<<6|T>>>26)+E|0,N+=(E^(T|~S))+w[7]+1126891415|0,N=(N<<10|N>>>22)+T|0,S+=(T^(N|~E))+w[14]-1416354905|0,S=(S<<15|S>>>17)+N|0,E+=(N^(S|~T))+w[5]-57434055|0,E=(E<<21|E>>>11)+S|0,T+=(S^(E|~N))+w[12]+1700485571|0,T=(T<<6|T>>>26)+E|0,N+=(E^(T|~S))+w[3]-1894986606|0,N=(N<<10|N>>>22)+T|0,S+=(T^(N|~E))+w[10]-1051523|0,S=(S<<15|S>>>17)+N|0,E+=(N^(S|~T))+w[1]-2054922799|0,E=(E<<21|E>>>11)+S|0,T+=(S^(E|~N))+w[8]+1873313359|0,T=(T<<6|T>>>26)+E|0,N+=(E^(T|~S))+w[15]-30611744|0,N=(N<<10|N>>>22)+T|0,S+=(T^(N|~E))+w[6]-1560198380|0,S=(S<<15|S>>>17)+N|0,E+=(N^(S|~T))+w[13]+1309151649|0,E=(E<<21|E>>>11)+S|0,T+=(S^(E|~N))+w[4]-145523070|0,T=(T<<6|T>>>26)+E|0,N+=(E^(T|~S))+w[11]-1120210379|0,N=(N<<10|N>>>22)+T|0,S+=(T^(N|~E))+w[2]+718787259|0,S=(S<<15|S>>>17)+N|0,E+=(N^(S|~T))+w[9]-343485551|0,E=(E<<21|E>>>11)+S|0,m[0]=T+m[0]|0,m[1]=E+m[1]|0,m[2]=S+m[2]|0,m[3]=N+m[3]|0}function t(m){var w=[],T;for(T=0;T<64;T+=4)w[T>>2]=m.charCodeAt(T)+(m.charCodeAt(T+1)<<8)+(m.charCodeAt(T+2)<<16)+(m.charCodeAt(T+3)<<24);return w}function i(m){var w=[],T;for(T=0;T<64;T+=4)w[T>>2]=m[T]+(m[T+1]<<8)+(m[T+2]<<16)+(m[T+3]<<24);return w}function o(m){var w=m.length,T=[1732584193,-271733879,-1732584194,271733878],E,S,N,j,q,O;for(E=64;E<=w;E+=64)r(T,t(m.substring(E-64,E)));for(m=m.substring(E-64),S=m.length,N=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],E=0;E<S;E+=1)N[E>>2]|=m.charCodeAt(E)<<(E%4<<3);if(N[E>>2]|=128<<(E%4<<3),E>55)for(r(T,N),E=0;E<16;E+=1)N[E]=0;return j=w*8,j=j.toString(16).match(/(.*?)(.{0,8})$/),q=parseInt(j[2],16),O=parseInt(j[1],16)||0,N[14]=q,N[15]=O,r(T,N),T}function l(m){var w=m.length,T=[1732584193,-271733879,-1732584194,271733878],E,S,N,j,q,O;for(E=64;E<=w;E+=64)r(T,i(m.subarray(E-64,E)));for(m=E-64<w?m.subarray(E-64):new Uint8Array(0),S=m.length,N=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],E=0;E<S;E+=1)N[E>>2]|=m[E]<<(E%4<<3);if(N[E>>2]|=128<<(E%4<<3),E>55)for(r(T,N),E=0;E<16;E+=1)N[E]=0;return j=w*8,j=j.toString(16).match(/(.*?)(.{0,8})$/),q=parseInt(j[2],16),O=parseInt(j[1],16)||0,N[14]=q,N[15]=O,r(T,N),T}function s(m){var w="",T;for(T=0;T<4;T+=1)w+=a[m>>T*8+4&15]+a[m>>T*8&15];return w}function c(m){var w;for(w=0;w<m.length;w+=1)m[w]=s(m[w]);return m.join("")}c(o("hello")),typeof ArrayBuffer<"u"&&!ArrayBuffer.prototype.slice&&(function(){function m(w,T){return w=w|0||0,w<0?Math.max(w+T,0):Math.min(w,T)}ArrayBuffer.prototype.slice=function(w,T){var E=this.byteLength,S=m(w,E),N=E,j,q,O,I;return T!==u&&(N=m(T,E)),S>N?new ArrayBuffer(0):(j=N-S,q=new ArrayBuffer(j),O=new Uint8Array(q),I=new Uint8Array(this,S,j),O.set(I),q)}})();function d(m){return/[\u0080-\uFFFF]/.test(m)&&(m=unescape(encodeURIComponent(m))),m}function f(m,w){var T=m.length,E=new ArrayBuffer(T),S=new Uint8Array(E),N;for(N=0;N<T;N+=1)S[N]=m.charCodeAt(N);return w?S:E}function p(m){return String.fromCharCode.apply(null,new Uint8Array(m))}function h(m,w,T){var E=new Uint8Array(m.byteLength+w.byteLength);return E.set(new Uint8Array(m)),E.set(new Uint8Array(w),m.byteLength),E}function g(m){var w=[],T=m.length,E;for(E=0;E<T-1;E+=2)w.push(parseInt(m.substr(E,2),16));return String.fromCharCode.apply(String,w)}function _(){this.reset()}return _.prototype.append=function(m){return this.appendBinary(d(m)),this},_.prototype.appendBinary=function(m){this._buff+=m,this._length+=m.length;var w=this._buff.length,T;for(T=64;T<=w;T+=64)r(this._hash,t(this._buff.substring(T-64,T)));return this._buff=this._buff.substring(T-64),this},_.prototype.end=function(m){var w=this._buff,T=w.length,E,S=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],N;for(E=0;E<T;E+=1)S[E>>2]|=w.charCodeAt(E)<<(E%4<<3);return this._finish(S,T),N=c(this._hash),m&&(N=g(N)),this.reset(),N},_.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},_.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},_.prototype.setState=function(m){return this._buff=m.buff,this._length=m.length,this._hash=m.hash,this},_.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},_.prototype._finish=function(m,w){var T=w,E,S,N;if(m[T>>2]|=128<<(T%4<<3),T>55)for(r(this._hash,m),T=0;T<16;T+=1)m[T]=0;E=this._length*8,E=E.toString(16).match(/(.*?)(.{0,8})$/),S=parseInt(E[2],16),N=parseInt(E[1],16)||0,m[14]=S,m[15]=N,r(this._hash,m)},_.hash=function(m,w){return _.hashBinary(d(m),w)},_.hashBinary=function(m,w){var T=o(m),E=c(T);return w?g(E):E},_.ArrayBuffer=function(){this.reset()},_.ArrayBuffer.prototype.append=function(m){var w=h(this._buff.buffer,m),T=w.length,E;for(this._length+=m.byteLength,E=64;E<=T;E+=64)r(this._hash,i(w.subarray(E-64,E)));return this._buff=E-64<T?new Uint8Array(w.buffer.slice(E-64)):new Uint8Array(0),this},_.ArrayBuffer.prototype.end=function(m){var w=this._buff,T=w.length,E=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],S,N;for(S=0;S<T;S+=1)E[S>>2]|=w[S]<<(S%4<<3);return this._finish(E,T),N=c(this._hash),m&&(N=g(N)),this.reset(),N},_.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},_.ArrayBuffer.prototype.getState=function(){var m=_.prototype.getState.call(this);return m.buff=p(m.buff),m},_.ArrayBuffer.prototype.setState=function(m){return m.buff=f(m.buff,!0),_.prototype.setState.call(this,m)},_.ArrayBuffer.prototype.destroy=_.prototype.destroy,_.ArrayBuffer.prototype._finish=_.prototype._finish,_.ArrayBuffer.hash=function(m,w){var T=l(new Uint8Array(m)),E=c(T);return w?g(E):E},_})})(gC)),gC.exports}var vue;function F8e(){if(vue)return Dw;vue=1,Object.defineProperty(Dw,"__esModule",{value:!0}),Dw.TermFunctionMd5=void 0;const n=We(),e=Xe(),u=D8e();let a=class extends n.TermFunctionBase{constructor(){super({arity:1,operator:e.SparqlOperator.MD5,overloads:(0,e.declare)(e.SparqlOperator.MD5).onString1Typed(()=>t=>(0,e.string)((0,u.hash)(t))).collect()})}};return Dw.TermFunctionMd5=a,Dw}var _ue;function P8e(){if(_ue)return Iw;_ue=1,Object.defineProperty(Iw,"__esModule",{value:!0}),Iw.ActorFunctionFactoryTermMd5=void 0;const n=We(),e=Xe(),u=F8e();let a=class extends n.ActorFunctionFactoryDedicated{constructor(t){super({...t,functionNames:[e.SparqlOperator.MD5],termFunction:!0})}async run(t){return new u.TermFunctionMd5}};return Iw.ActorFunctionFactoryTermMd5=a,Iw}var Tue;function QU(){return Tue||(Tue=1,(function(n){var e=c0&&c0.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=c0&&c0.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(P8e(),n)})(c0)),c0}var l0={},Fw={},Pw={},wue;function j8e(){if(wue)return Pw;wue=1,Object.defineProperty(Pw,"__esModule",{value:!0}),Pw.TermFunctionMinutes=void 0;const n=We(),e=Xe();let u=class extends n.TermFunctionBase{constructor(){super({arity:1,operator:e.SparqlOperator.MINUTES,overloads:(0,e.declare)(e.SparqlOperator.MINUTES).onDateTime1(()=>r=>(0,e.integer)(r.typedValue.minutes)).set([e.TypeURL.XSD_TIME],()=>([r])=>(0,e.integer)(r.typedValue.minutes)).collect()})}};return Pw.TermFunctionMinutes=u,Pw}var Sue;function M8e(){if(Sue)return Fw;Sue=1,Object.defineProperty(Fw,"__esModule",{value:!0}),Fw.ActorFunctionFactoryTermMinutes=void 0;const n=We(),e=Xe(),u=j8e();let a=class extends n.ActorFunctionFactoryDedicated{constructor(t){super({...t,functionNames:[e.SparqlOperator.MINUTES],termFunction:!0})}async run(t){return new u.TermFunctionMinutes}};return Fw.ActorFunctionFactoryTermMinutes=a,Fw}var Eue;function VU(){return Eue||(Eue=1,(function(n){var e=l0&&l0.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=l0&&l0.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(M8e(),n)})(l0)),l0}var d0={},jw={},Mw={},Aue;function C8e(){if(Aue)return Mw;Aue=1,Object.defineProperty(Mw,"__esModule",{value:!0}),Mw.TermFunctionMonth=void 0;const n=We(),e=Xe();let u=class extends n.TermFunctionBase{constructor(){super({arity:1,operator:e.SparqlOperator.MONTH,overloads:(0,e.declare)(e.SparqlOperator.MONTH).onDateTime1(()=>r=>(0,e.integer)(r.typedValue.month)).set([e.TypeURL.XSD_DATE],()=>([r])=>(0,e.integer)(r.typedValue.month)).collect()})}};return Mw.TermFunctionMonth=u,Mw}var Oue;function L8e(){if(Oue)return jw;Oue=1,Object.defineProperty(jw,"__esModule",{value:!0}),jw.ActorFunctionFactoryTermMonth=void 0;const n=We(),e=Xe(),u=C8e();let a=class extends n.ActorFunctionFactoryDedicated{constructor(t){super({...t,functionNames:[e.SparqlOperator.MONTH],termFunction:!0})}async run(t){return new u.TermFunctionMonth}};return jw.ActorFunctionFactoryTermMonth=a,jw}var xue;function HU(){return xue||(xue=1,(function(n){var e=d0&&d0.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=d0&&d0.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(L8e(),n)})(d0)),d0}var f0={},Cw={},Lw={},Rue;function q8e(){if(Rue)return Lw;Rue=1,Object.defineProperty(Lw,"__esModule",{value:!0}),Lw.TermFunctionMultiplication=void 0;const n=We(),e=Xe(),u=SP();let a=class extends n.TermFunctionBase{constructor(){super({arity:2,operator:e.SparqlOperator.MULTIPLICATION,overloads:(0,e.declare)(e.SparqlOperator.MULTIPLICATION).arithmetic(()=>(t,i)=>new u.BigNumber(t).times(i).toNumber()).collect()})}};return Lw.TermFunctionMultiplication=a,Lw}var Nue;function B8e(){if(Nue)return Cw;Nue=1,Object.defineProperty(Cw,"__esModule",{value:!0}),Cw.ActorFunctionFactoryTermMultiplication=void 0;const n=We(),e=Xe(),u=q8e();let a=class extends n.ActorFunctionFactoryDedicated{constructor(t){super({...t,functionNames:[e.SparqlOperator.MULTIPLICATION],termFunction:!0})}async run(t){return new u.TermFunctionMultiplication}};return Cw.ActorFunctionFactoryTermMultiplication=a,Cw}var Iue;function kU(){return Iue||(Iue=1,(function(n){var e=f0&&f0.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=f0&&f0.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(B8e(),n)})(f0)),f0}var p0={},qw={},Bw={},Due;function U8e(){if(Due)return Bw;Due=1,Object.defineProperty(Bw,"__esModule",{value:!0}),Bw.TermFunctionNot=void 0;const n=We(),e=Xe();let u=class extends n.TermFunctionBase{constructor(){super({arity:1,operator:e.SparqlOperator.NOT,overloads:(0,e.declare)(e.SparqlOperator.NOT).onTerm1(()=>r=>(0,e.bool)(!r.coerceEBV())).collect()})}};return Bw.TermFunctionNot=u,Bw}var Fue;function Q8e(){if(Fue)return qw;Fue=1,Object.defineProperty(qw,"__esModule",{value:!0}),qw.ActorFunctionFactoryTermNot=void 0;const n=We(),e=Xe(),u=U8e();let a=class extends n.ActorFunctionFactoryDedicated{constructor(t){super({...t,functionNames:[e.SparqlOperator.NOT],termFunction:!0})}async run(t){return new u.TermFunctionNot}};return qw.ActorFunctionFactoryTermNot=a,qw}var Pue;function zU(){return Pue||(Pue=1,(function(n){var e=p0&&p0.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=p0&&p0.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(Q8e(),n)})(p0)),p0}var h0={},Uw={},Qw={},jue;function V8e(){if(jue)return Qw;jue=1,Object.defineProperty(Qw,"__esModule",{value:!0}),Qw.TermFunctionNow=void 0;const n=We(),e=lt(),u=Xe();let a=class extends n.TermFunctionBase{constructor(){super({arity:0,operator:u.SparqlOperator.NOW,overloads:(0,u.declare)(u.SparqlOperator.NOW).set([],t=>()=>new u.DateTimeLiteral((0,u.toDateTimeRepresentation)({date:t.context.getSafe(e.KeysInitQuery.queryTimestamp),timeZone:t.context.getSafe(e.KeysExpressionEvaluator.defaultTimeZone)}))).collect()})}};return Qw.TermFunctionNow=a,Qw}var Mue;function H8e(){if(Mue)return Uw;Mue=1,Object.defineProperty(Uw,"__esModule",{value:!0}),Uw.ActorFunctionFactoryTermNow=void 0;const n=We(),e=Xe(),u=V8e();let a=class extends n.ActorFunctionFactoryDedicated{constructor(t){super({...t,functionNames:[e.SparqlOperator.NOW],termFunction:!0})}async run(t){return new u.TermFunctionNow}};return Uw.ActorFunctionFactoryTermNow=a,Uw}var Cue;function GU(){return Cue||(Cue=1,(function(n){var e=h0&&h0.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=h0&&h0.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(H8e(),n)})(h0)),h0}var y0={},Vw={},Hw={},Lue;function k8e(){if(Lue)return Hw;Lue=1,Object.defineProperty(Hw,"__esModule",{value:!0}),Hw.TermFunctionObject=void 0;const n=We(),e=Xe();let u=class extends n.TermFunctionBase{constructor(){super({arity:1,operator:e.SparqlOperator.OBJECT,overloads:(0,e.declare)(e.SparqlOperator.OBJECT).onQuad1(()=>r=>r.object).collect()})}};return Hw.TermFunctionObject=u,Hw}var que;function z8e(){if(que)return Vw;que=1,Object.defineProperty(Vw,"__esModule",{value:!0}),Vw.ActorFunctionFactoryTermObject=void 0;const n=We(),e=Xe(),u=k8e();let a=class extends n.ActorFunctionFactoryDedicated{constructor(t){super({...t,functionNames:[e.SparqlOperator.OBJECT],termFunction:!0})}async run(t){return new u.TermFunctionObject}};return Vw.ActorFunctionFactoryTermObject=a,Vw}var Bue;function $U(){return Bue||(Bue=1,(function(n){var e=y0&&y0.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=y0&&y0.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(z8e(),n)})(y0)),y0}var m0={},kw={},zw={},Uue;function G8e(){if(Uue)return zw;Uue=1,Object.defineProperty(zw,"__esModule",{value:!0}),zw.TermFunctionPredicate=void 0;const n=We(),e=Xe();let u=class extends n.TermFunctionBase{constructor(){super({arity:1,operator:e.SparqlOperator.PREDICATE,overloads:(0,e.declare)(e.SparqlOperator.PREDICATE).onQuad1(()=>r=>r.predicate).collect()})}};return zw.TermFunctionPredicate=u,zw}var Que;function $8e(){if(Que)return kw;Que=1,Object.defineProperty(kw,"__esModule",{value:!0}),kw.ActorFunctionFactoryTermPredicate=void 0;const n=We(),e=Xe(),u=G8e();let a=class extends n.ActorFunctionFactoryDedicated{constructor(t){super({...t,functionNames:[e.SparqlOperator.PREDICATE],termFunction:!0})}async run(t){return new u.TermFunctionPredicate}};return kw.ActorFunctionFactoryTermPredicate=a,kw}var Vue;function XU(){return Vue||(Vue=1,(function(n){var e=m0&&m0.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=m0&&m0.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u($8e(),n)})(m0)),m0}var b0={},Gw={},$w={},Hue;function X8e(){if(Hue)return $w;Hue=1,Object.defineProperty($w,"__esModule",{value:!0}),$w.TermFunctionRand=void 0;const n=We(),e=Xe();let u=class extends n.TermFunctionBase{constructor(){super({arity:0,operator:e.SparqlOperator.RAND,overloads:(0,e.declare)(e.SparqlOperator.RAND).set([],()=>()=>(0,e.double)(Math.random())).collect()})}};return $w.TermFunctionRand=u,$w}var kue;function K8e(){if(kue)return Gw;kue=1,Object.defineProperty(Gw,"__esModule",{value:!0}),Gw.ActorFunctionFactoryTermRand=void 0;const n=We(),e=Xe(),u=X8e();let a=class extends n.ActorFunctionFactoryDedicated{constructor(t){super({...t,functionNames:[e.SparqlOperator.RAND],termFunction:!0})}async run(t){return new u.TermFunctionRand}};return Gw.ActorFunctionFactoryTermRand=a,Gw}var zue;function KU(){return zue||(zue=1,(function(n){var e=b0&&b0.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=b0&&b0.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(K8e(),n)})(b0)),b0}var g0={},Xw={},Kw={},Gue;function CTe(){if(Gue)return Kw;Gue=1,Object.defineProperty(Kw,"__esModule",{value:!0}),Kw.TermFunctionRegex=void 0;const n=We(),e=Xe();let u=class Jc extends n.TermFunctionBase{constructor(){super({arity:[2,3],operator:e.SparqlOperator.REGEX,overloads:(0,e.declare)(e.SparqlOperator.REGEX).onBinaryTyped([e.TypeAlias.SPARQL_STRINGLY,e.TypeURL.XSD_STRING],Jc.regex2).onTernaryTyped([e.TypeAlias.SPARQL_STRINGLY,e.TypeURL.XSD_STRING,e.TypeURL.XSD_STRING],Jc.regex3).collect()})}static regex2(){return(r,t)=>(0,e.bool)(Jc.matches(r,t))}static regex3(){return(r,t,i)=>(0,e.bool)(Jc.matches(r,t,i))}static matches(r,t,i=""){return i=Jc.cleanFlags(i),i.includes("x")&&(t=Jc.flagX(t)),i.includes("q")&&(t=Jc.flagQ(t)),new RegExp(t,i.replaceAll(/[qx]/gu,"")).test(r)}static cleanFlags(r){if(!/^[imsxq]*$/u.test(r))throw new Error("Invalid flags");const t=[...r].find((i,o,l)=>l.indexOf(i)!==o);if(t)throw new Error(`Duplicate flag: ${t}`);return r?.includes("q")&&(r=r.replaceAll(/[msx]/gu,"")),`${r}u`}static flagX(r){if(!r)return r;let t=r[0];for(;["	",`
`,"\r"," "].includes(t);)r=r.slice(1),t=r[0];let i=t==="[";for(let o=1;o<r.length;o++){const l=r[o];["	",`
`,"\r"," "].includes(l)&&!i?(r=r.slice(0,o)+r.slice(o+1),o--):l==="["&&t!=="\\"?i=!0:l==="]"&&t!=="\\"&&(i=!1),t=l}return r}static flagQ(r){return r.replaceAll(/([?+*.{}()[\]\\|])/gu,"\\$1").replaceAll(/^\^/gu,"\\^").replaceAll(/\$$/gu,"\\$")}};return Kw.TermFunctionRegex=u,Kw}var $ue;function J8e(){if($ue)return Xw;$ue=1,Object.defineProperty(Xw,"__esModule",{value:!0}),Xw.ActorFunctionFactoryTermRegex=void 0;const n=We(),e=Xe(),u=CTe();let a=class extends n.ActorFunctionFactoryDedicated{constructor(t){super({...t,functionNames:[e.SparqlOperator.REGEX],termFunction:!0})}async run(t){return new u.TermFunctionRegex}};return Xw.ActorFunctionFactoryTermRegex=a,Xw}var Xue;function EP(){return Xue||(Xue=1,(function(n){var e=g0&&g0.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=g0&&g0.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(J8e(),n),u(CTe(),n)})(g0)),g0}var v0={},Jw={},Ww={},Kue;function W8e(){if(Kue)return Ww;Kue=1,Object.defineProperty(Ww,"__esModule",{value:!0}),Ww.TermFunctionReplace=void 0;const n=EP(),e=We(),u=Xe();let a=class z6 extends e.TermFunctionBase{constructor(){super({arity:[3,4],operator:u.SparqlOperator.REPLACE,overloads:(0,u.declare)(u.SparqlOperator.REPLACE).onTernaryTyped([u.TypeURL.XSD_STRING,u.TypeURL.XSD_STRING,u.TypeURL.XSD_STRING],()=>(t,i,o)=>(0,u.string)(z6.replace(t,i,o))).set([u.TypeURL.RDF_LANG_STRING,u.TypeURL.XSD_STRING,u.TypeURL.XSD_STRING],()=>([t,i,o])=>{const l=z6.replace(t.typedValue,i.typedValue,o.typedValue);return(0,u.langString)(l,t.language)}).onQuaternaryTyped([u.TypeURL.XSD_STRING,u.TypeURL.XSD_STRING,u.TypeURL.XSD_STRING,u.TypeURL.XSD_STRING],()=>(t,i,o,l)=>(0,u.string)(z6.replace(t,i,o,l))).set([u.TypeURL.RDF_LANG_STRING,u.TypeURL.XSD_STRING,u.TypeURL.XSD_STRING,u.TypeURL.XSD_STRING],()=>([t,i,o,l])=>{const s=z6.replace(t.typedValue,i.typedValue,o.typedValue,l.typedValue);return(0,u.langString)(s,t.language)}).collect()})}static replace(t,i,o,l=""){return l=n.TermFunctionRegex.cleanFlags(l),l.includes("x")&&(i=n.TermFunctionRegex.flagX(i)),l.includes("q")?i=n.TermFunctionRegex.flagQ(i):o=o.replaceAll("$0",()=>"$&"),l=`${l.replaceAll(/[qx]/gu,"")}g`,t.replaceAll(new RegExp(i,l),o)}};return Ww.TermFunctionReplace=a,Ww}var Jue;function Y8e(){if(Jue)return Jw;Jue=1,Object.defineProperty(Jw,"__esModule",{value:!0}),Jw.ActorFunctionFactoryTermReplace=void 0;const n=We(),e=Xe(),u=W8e();let a=class extends n.ActorFunctionFactoryDedicated{constructor(t){super({...t,functionNames:[e.SparqlOperator.REPLACE],termFunction:!0})}async run(t){return new u.TermFunctionReplace}};return Jw.ActorFunctionFactoryTermReplace=a,Jw}var Wue;function JU(){return Wue||(Wue=1,(function(n){var e=v0&&v0.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=v0&&v0.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(Y8e(),n)})(v0)),v0}var _0={},Yw={},Zw={},Yue;function Z8e(){if(Yue)return Zw;Yue=1,Object.defineProperty(Zw,"__esModule",{value:!0}),Zw.TermFunctionRound=void 0;const n=We(),e=Xe();let u=class extends n.TermFunctionBase{constructor(){super({arity:1,operator:e.SparqlOperator.ROUND,overloads:(0,e.declare)(e.SparqlOperator.ROUND).numericConverter(()=>r=>Math.round(r)).collect()})}};return Zw.TermFunctionRound=u,Zw}var Zue;function e5e(){if(Zue)return Yw;Zue=1,Object.defineProperty(Yw,"__esModule",{value:!0}),Yw.ActorFunctionFactoryTermRound=void 0;const n=We(),e=Xe(),u=Z8e();let a=class extends n.ActorFunctionFactoryDedicated{constructor(t){super({...t,functionNames:[e.SparqlOperator.ROUND],termFunction:!0})}async run(t){return new u.TermFunctionRound}};return Yw.ActorFunctionFactoryTermRound=a,Yw}var eoe;function WU(){return eoe||(eoe=1,(function(n){var e=_0&&_0.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=_0&&_0.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(e5e(),n)})(_0)),_0}var T0={},eS={},tS={},toe;function t5e(){if(toe)return tS;toe=1,Object.defineProperty(tS,"__esModule",{value:!0}),tS.TermFunctionSeconds=void 0;const n=We(),e=Xe();let u=class extends n.TermFunctionBase{constructor(){super({arity:1,operator:e.SparqlOperator.SECONDS,overloads:(0,e.declare)(e.SparqlOperator.SECONDS).onDateTime1(()=>r=>(0,e.decimal)(r.typedValue.seconds)).set([e.TypeURL.XSD_TIME],()=>([r])=>(0,e.integer)(r.typedValue.seconds)).collect()})}};return tS.TermFunctionSeconds=u,tS}var roe;function r5e(){if(roe)return eS;roe=1,Object.defineProperty(eS,"__esModule",{value:!0}),eS.ActorFunctionFactoryTermSeconds=void 0;const n=We(),e=Xe(),u=t5e();let a=class extends n.ActorFunctionFactoryDedicated{constructor(t){super({...t,functionNames:[e.SparqlOperator.SECONDS],termFunction:!0})}async run(t){return new u.TermFunctionSeconds}};return eS.ActorFunctionFactoryTermSeconds=a,eS}var noe;function YU(){return noe||(noe=1,(function(n){var e=T0&&T0.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=T0&&T0.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(r5e(),n)})(T0)),T0}var w0={},rS={},nS={},aoe;function n5e(){if(aoe)return nS;aoe=1,Object.defineProperty(nS,"__esModule",{value:!0}),nS.TermFunctionSha1=void 0;const n=We(),e=Xe(),u=ic();let a=class extends n.TermFunctionBase{constructor(){super({arity:1,operator:e.SparqlOperator.SHA1,overloads:(0,e.declare)(e.SparqlOperator.SHA1).onString1Typed(()=>t=>(0,e.string)((0,u.sha1)().update(t).digest("hex"))).collect()})}};return nS.TermFunctionSha1=a,nS}var ioe;function a5e(){if(ioe)return rS;ioe=1,Object.defineProperty(rS,"__esModule",{value:!0}),rS.ActorFunctionFactoryTermSha1=void 0;const n=We(),e=Xe(),u=n5e();let a=class extends n.ActorFunctionFactoryDedicated{constructor(t){super({...t,functionNames:[e.SparqlOperator.SHA1],termFunction:!0})}async run(t){return new u.TermFunctionSha1}};return rS.ActorFunctionFactoryTermSha1=a,rS}var uoe;function ZU(){return uoe||(uoe=1,(function(n){var e=w0&&w0.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=w0&&w0.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(a5e(),n)})(w0)),w0}var S0={},aS={},iS={},ooe;function i5e(){if(ooe)return iS;ooe=1,Object.defineProperty(iS,"__esModule",{value:!0}),iS.TermFunctionSha256=void 0;const n=We(),e=Xe(),u=ic();let a=class extends n.TermFunctionBase{constructor(){super({arity:1,operator:e.SparqlOperator.SHA256,overloads:(0,e.declare)(e.SparqlOperator.SHA256).onString1Typed(()=>t=>(0,e.string)((0,u.sha256)().update(t).digest("hex"))).collect()})}};return iS.TermFunctionSha256=a,iS}var soe;function u5e(){if(soe)return aS;soe=1,Object.defineProperty(aS,"__esModule",{value:!0}),aS.ActorFunctionFactoryTermSha256=void 0;const n=We(),e=Xe(),u=i5e();let a=class extends n.ActorFunctionFactoryDedicated{constructor(t){super({...t,functionNames:[e.SparqlOperator.SHA256],termFunction:!0})}async run(t){return new u.TermFunctionSha256}};return aS.ActorFunctionFactoryTermSha256=a,aS}var coe;function eQ(){return coe||(coe=1,(function(n){var e=S0&&S0.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=S0&&S0.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(u5e(),n)})(S0)),S0}var E0={},uS={},oS={},loe;function o5e(){if(loe)return oS;loe=1,Object.defineProperty(oS,"__esModule",{value:!0}),oS.TermFunctionSha384=void 0;const n=We(),e=Xe(),u=ic();let a=class extends n.TermFunctionBase{constructor(){super({arity:1,operator:e.SparqlOperator.SHA384,overloads:(0,e.declare)(e.SparqlOperator.SHA384).onString1Typed(()=>t=>(0,e.string)((0,u.sha384)().update(t).digest("hex"))).collect()})}};return oS.TermFunctionSha384=a,oS}var doe;function s5e(){if(doe)return uS;doe=1,Object.defineProperty(uS,"__esModule",{value:!0}),uS.ActorFunctionFactoryTermSha384=void 0;const n=We(),e=Xe(),u=o5e();let a=class extends n.ActorFunctionFactoryDedicated{constructor(t){super({...t,functionNames:[e.SparqlOperator.SHA384],termFunction:!0})}async run(t){return new u.TermFunctionSha384}};return uS.ActorFunctionFactoryTermSha384=a,uS}var foe;function tQ(){return foe||(foe=1,(function(n){var e=E0&&E0.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=E0&&E0.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(s5e(),n)})(E0)),E0}var A0={},sS={},cS={},poe;function c5e(){if(poe)return cS;poe=1,Object.defineProperty(cS,"__esModule",{value:!0}),cS.TermFunctionSha512=void 0;const n=We(),e=Xe(),u=ic();let a=class extends n.TermFunctionBase{constructor(){super({arity:1,operator:e.SparqlOperator.SHA512,overloads:(0,e.declare)(e.SparqlOperator.SHA512).onString1Typed(()=>t=>(0,e.string)((0,u.sha512)().update(t).digest("hex"))).collect()})}};return cS.TermFunctionSha512=a,cS}var hoe;function l5e(){if(hoe)return sS;hoe=1,Object.defineProperty(sS,"__esModule",{value:!0}),sS.ActorFunctionFactoryTermSha512=void 0;const n=We(),e=Xe(),u=c5e();let a=class extends n.ActorFunctionFactoryDedicated{constructor(t){super({...t,functionNames:[e.SparqlOperator.SHA512],termFunction:!0})}async run(t){return new u.TermFunctionSha512}};return sS.ActorFunctionFactoryTermSha512=a,sS}var yoe;function rQ(){return yoe||(yoe=1,(function(n){var e=A0&&A0.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=A0&&A0.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(l5e(),n)})(A0)),A0}var O0={},lS={},dS={},moe;function d5e(){if(moe)return dS;moe=1,Object.defineProperty(dS,"__esModule",{value:!0}),dS.TermFunctionStrAfter=void 0;const n=We(),e=Xe();let u=class extends n.TermFunctionBase{constructor(){super({arity:2,operator:e.SparqlOperator.STRAFTER,overloads:(0,e.declare)(e.SparqlOperator.STRAFTER).onBinaryTyped([e.TypeURL.XSD_STRING,e.TypeURL.XSD_STRING],()=>(r,t)=>(0,e.string)(r.slice(r.indexOf(t)).slice(t.length))).onBinary([e.TypeURL.RDF_LANG_STRING,e.TypeURL.XSD_STRING],()=>(r,t)=>{const[i,o]=[r.typedValue,t.typedValue],l=i.slice(i.indexOf(o)).slice(o.length);return l||!o?(0,e.langString)(l,r.language):(0,e.string)(l)}).onBinary([e.TypeURL.RDF_LANG_STRING,e.TypeURL.RDF_LANG_STRING],()=>(r,t)=>{if(r.language!==t.language)throw new e.IncompatibleLanguageOperation(r,t);const[i,o]=[r.typedValue,t.typedValue],l=i.slice(i.indexOf(o)).slice(o.length);return l||!o?(0,e.langString)(l,r.language):(0,e.string)(l)}).collect()})}};return dS.TermFunctionStrAfter=u,dS}var boe;function f5e(){if(boe)return lS;boe=1,Object.defineProperty(lS,"__esModule",{value:!0}),lS.ActorFunctionFactoryTermStrAfter=void 0;const n=We(),e=Xe(),u=d5e();let a=class extends n.ActorFunctionFactoryDedicated{constructor(t){super({...t,functionNames:[e.SparqlOperator.STRAFTER],termFunction:!0})}async run(t){return new u.TermFunctionStrAfter}};return lS.ActorFunctionFactoryTermStrAfter=a,lS}var goe;function nQ(){return goe||(goe=1,(function(n){var e=O0&&O0.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=O0&&O0.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(f5e(),n)})(O0)),O0}var x0={},fS={},pS={},voe;function p5e(){if(voe)return pS;voe=1,Object.defineProperty(pS,"__esModule",{value:!0}),pS.TermFunctionStrBefore=void 0;const n=We(),e=Xe();let u=class extends n.TermFunctionBase{constructor(){super({arity:2,operator:e.SparqlOperator.STRBEFORE,overloads:(0,e.declare)(e.SparqlOperator.STRBEFORE).onBinaryTyped([e.TypeURL.XSD_STRING,e.TypeURL.XSD_STRING],()=>(r,t)=>(0,e.string)(r.slice(0,Math.max(0,r.indexOf(t))))).onBinary([e.TypeURL.RDF_LANG_STRING,e.TypeURL.XSD_STRING],()=>(r,t)=>{const[i,o]=[r.typedValue,t.typedValue],l=r.typedValue.slice(0,Math.max(0,i.indexOf(o)));return l||!o?(0,e.langString)(l,r.language):(0,e.string)(l)}).onBinary([e.TypeURL.RDF_LANG_STRING,e.TypeURL.RDF_LANG_STRING],()=>(r,t)=>{if(r.language!==t.language)throw new e.IncompatibleLanguageOperation(r,t);const[i,o]=[r.typedValue,t.typedValue],l=r.typedValue.slice(0,Math.max(0,i.indexOf(o)));return l||!o?(0,e.langString)(l,r.language):(0,e.string)(l)}).collect()})}};return pS.TermFunctionStrBefore=u,pS}var _oe;function h5e(){if(_oe)return fS;_oe=1,Object.defineProperty(fS,"__esModule",{value:!0}),fS.ActorFunctionFactoryTermStrBefore=void 0;const n=We(),e=Xe(),u=p5e();let a=class extends n.ActorFunctionFactoryDedicated{constructor(t){super({...t,functionNames:[e.SparqlOperator.STRBEFORE],termFunction:!0})}async run(t){return new u.TermFunctionStrBefore}};return fS.ActorFunctionFactoryTermStrBefore=a,fS}var Toe;function aQ(){return Toe||(Toe=1,(function(n){var e=x0&&x0.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=x0&&x0.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(h5e(),n)})(x0)),x0}var R0={},hS={},yS={},woe;function y5e(){if(woe)return yS;woe=1,Object.defineProperty(yS,"__esModule",{value:!0}),yS.TermFunctionStrDt=void 0;const n=We(),e=lt(),u=Xe();let a=class extends n.TermFunctionBase{constructor(){super({arity:2,operator:u.SparqlOperator.STRDT,overloads:(0,u.declare)(u.SparqlOperator.STRDT).set([u.TypeURL.XSD_STRING,"namedNode"],t=>([i,o])=>{const l=t.context.getSafe(e.KeysInitQuery.dataFactory),s=l.literal(i.typedValue,l.namedNode(o.value));return new u.TermTransformer(t.context.getSafe(e.KeysExpressionEvaluator.superTypeProvider)).transformLiteral(s)}).collect()})}};return yS.TermFunctionStrDt=a,yS}var Soe;function m5e(){if(Soe)return hS;Soe=1,Object.defineProperty(hS,"__esModule",{value:!0}),hS.ActorFunctionFactoryTermStrDt=void 0;const n=We(),e=Xe(),u=y5e();let a=class extends n.ActorFunctionFactoryDedicated{constructor(t){super({...t,functionNames:[e.SparqlOperator.STRDT],termFunction:!0})}async run(t){return new u.TermFunctionStrDt}};return hS.ActorFunctionFactoryTermStrDt=a,hS}var Eoe;function iQ(){return Eoe||(Eoe=1,(function(n){var e=R0&&R0.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=R0&&R0.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(m5e(),n)})(R0)),R0}var N0={},mS={},bS={},Aoe;function b5e(){if(Aoe)return bS;Aoe=1,Object.defineProperty(bS,"__esModule",{value:!0}),bS.TermFunctionStrEnds=void 0;const n=We(),e=Xe();let u=class extends n.TermFunctionBase{constructor(){super({arity:2,operator:e.SparqlOperator.STRENDS,overloads:(0,e.declare)(e.SparqlOperator.STRENDS).onBinaryTyped([e.TypeAlias.SPARQL_STRINGLY,e.TypeURL.XSD_STRING],()=>(r,t)=>(0,e.bool)(r.endsWith(t))).onBinary([e.TypeURL.RDF_LANG_STRING,e.TypeURL.RDF_LANG_STRING],()=>(r,t)=>{if(r.language!==t.language)throw new e.IncompatibleLanguageOperation(r,t);return(0,e.bool)(r.typedValue.endsWith(t.typedValue))}).collect()})}};return bS.TermFunctionStrEnds=u,bS}var Ooe;function g5e(){if(Ooe)return mS;Ooe=1,Object.defineProperty(mS,"__esModule",{value:!0}),mS.ActorFunctionFactoryTermStrEnds=void 0;const n=We(),e=Xe(),u=b5e();let a=class extends n.ActorFunctionFactoryDedicated{constructor(t){super({...t,functionNames:[e.SparqlOperator.STRENDS],termFunction:!0})}async run(t){return new u.TermFunctionStrEnds}};return mS.ActorFunctionFactoryTermStrEnds=a,mS}var xoe;function uQ(){return xoe||(xoe=1,(function(n){var e=N0&&N0.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=N0&&N0.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(g5e(),n)})(N0)),N0}var I0={},gS={},vS={},Roe;function v5e(){if(Roe)return vS;Roe=1,Object.defineProperty(vS,"__esModule",{value:!0}),vS.TermFunctionStrLang=void 0;const n=We(),e=Xe();let u=class extends n.TermFunctionBase{constructor(){super({arity:2,operator:e.SparqlOperator.STRLANG,overloads:(0,e.declare)(e.SparqlOperator.STRLANG).onBinaryTyped([e.TypeURL.XSD_STRING,e.TypeURL.XSD_STRING],()=>(r,t)=>new e.LangStringLiteral(r,t.toLowerCase())).collect()})}};return vS.TermFunctionStrLang=u,vS}var Noe;function _5e(){if(Noe)return gS;Noe=1,Object.defineProperty(gS,"__esModule",{value:!0}),gS.ActorFunctionFactoryTermStrLang=void 0;const n=We(),e=Xe(),u=v5e();let a=class extends n.ActorFunctionFactoryDedicated{constructor(t){super({...t,functionNames:[e.SparqlOperator.STRLANG],termFunction:!0})}async run(t){return new u.TermFunctionStrLang}};return gS.ActorFunctionFactoryTermStrLang=a,gS}var Ioe;function oQ(){return Ioe||(Ioe=1,(function(n){var e=I0&&I0.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=I0&&I0.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(_5e(),n)})(I0)),I0}var D0={},_S={},TS={},Doe;function T5e(){if(Doe)return TS;Doe=1,Object.defineProperty(TS,"__esModule",{value:!0}),TS.TermFunctionStrLen=void 0;const n=We(),e=Xe();let u=class extends n.TermFunctionBase{constructor(){super({arity:1,operator:e.SparqlOperator.STRLEN,overloads:(0,e.declare)(e.SparqlOperator.STRLEN).onStringly1(()=>r=>(0,e.integer)([...r.typedValue].length)).collect()})}};return TS.TermFunctionStrLen=u,TS}var Foe;function w5e(){if(Foe)return _S;Foe=1,Object.defineProperty(_S,"__esModule",{value:!0}),_S.ActorFunctionFactoryTermStrLen=void 0;const n=We(),e=Xe(),u=T5e();let a=class extends n.ActorFunctionFactoryDedicated{constructor(t){super({...t,functionNames:[e.SparqlOperator.STRLEN],termFunction:!0})}async run(t){return new u.TermFunctionStrLen}};return _S.ActorFunctionFactoryTermStrLen=a,_S}var Poe;function sQ(){return Poe||(Poe=1,(function(n){var e=D0&&D0.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=D0&&D0.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(w5e(),n)})(D0)),D0}var F0={},wS={},SS={},joe;function S5e(){if(joe)return SS;joe=1,Object.defineProperty(SS,"__esModule",{value:!0}),SS.TermFunctionStrStarts=void 0;const n=We(),e=Xe();let u=class extends n.TermFunctionBase{constructor(){super({arity:2,operator:e.SparqlOperator.STRSTARTS,overloads:(0,e.declare)(e.SparqlOperator.STRSTARTS).onBinaryTyped([e.TypeAlias.SPARQL_STRINGLY,e.TypeURL.XSD_STRING],()=>(r,t)=>(0,e.bool)(r.startsWith(t))).onBinary([e.TypeURL.RDF_LANG_STRING,e.TypeURL.RDF_LANG_STRING],()=>(r,t)=>{if(r.language!==t.language)throw new e.IncompatibleLanguageOperation(r,t);return(0,e.bool)(r.typedValue.startsWith(t.typedValue))}).collect()})}};return SS.TermFunctionStrStarts=u,SS}var Moe;function E5e(){if(Moe)return wS;Moe=1,Object.defineProperty(wS,"__esModule",{value:!0}),wS.ActorFunctionFactoryTermStrStarts=void 0;const n=We(),e=Xe(),u=S5e();let a=class extends n.ActorFunctionFactoryDedicated{constructor(t){super({...t,functionNames:[e.SparqlOperator.STRSTARTS],termFunction:!0})}async run(t){return new u.TermFunctionStrStarts}};return wS.ActorFunctionFactoryTermStrStarts=a,wS}var Coe;function cQ(){return Coe||(Coe=1,(function(n){var e=F0&&F0.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=F0&&F0.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(E5e(),n)})(F0)),F0}var P0={},ES={},AS={},vC={},gD={},Loe;function A5e(){return Loe||(Loe=1,Object.defineProperty(gD,"__esModule",{value:!0}),gD.default="ffffffff-ffff-ffff-ffff-ffffffffffff"),gD}var vD={},qoe;function O5e(){return qoe||(qoe=1,Object.defineProperty(vD,"__esModule",{value:!0}),vD.default="00000000-0000-0000-0000-000000000000"),vD}var _D={},TD={},wD={},Boe;function x5e(){return Boe||(Boe=1,Object.defineProperty(wD,"__esModule",{value:!0}),wD.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-8][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/i),wD}var Uoe;function AP(){if(Uoe)return TD;Uoe=1,Object.defineProperty(TD,"__esModule",{value:!0});const n=x5e();function e(u){return typeof u=="string"&&n.default.test(u)}return TD.default=e,TD}var Qoe;function OP(){if(Qoe)return _D;Qoe=1,Object.defineProperty(_D,"__esModule",{value:!0});const n=AP();function e(u){if(!(0,n.default)(u))throw TypeError("Invalid UUID");let a;return Uint8Array.of((a=parseInt(u.slice(0,8),16))>>>24,a>>>16&255,a>>>8&255,a&255,(a=parseInt(u.slice(9,13),16))>>>8,a&255,(a=parseInt(u.slice(14,18),16))>>>8,a&255,(a=parseInt(u.slice(19,23),16))>>>8,a&255,(a=parseInt(u.slice(24,36),16))/1099511627776&255,a/4294967296&255,a>>>24&255,a>>>16&255,a>>>8&255,a&255)}return _D.default=e,_D}var gg={},Voe;function Sl(){if(Voe)return gg;Voe=1,Object.defineProperty(gg,"__esModule",{value:!0}),gg.unsafeStringify=void 0;const n=AP(),e=[];for(let r=0;r<256;++r)e.push((r+256).toString(16).slice(1));function u(r,t=0){return(e[r[t+0]]+e[r[t+1]]+e[r[t+2]]+e[r[t+3]]+"-"+e[r[t+4]]+e[r[t+5]]+"-"+e[r[t+6]]+e[r[t+7]]+"-"+e[r[t+8]]+e[r[t+9]]+"-"+e[r[t+10]]+e[r[t+11]]+e[r[t+12]]+e[r[t+13]]+e[r[t+14]]+e[r[t+15]]).toLowerCase()}gg.unsafeStringify=u;function a(r,t=0){const i=u(r,t);if(!(0,n.default)(i))throw TypeError("Stringified UUID is invalid");return i}return gg.default=a,gg}var vg={},SD={},Hoe;function lQ(){if(Hoe)return SD;Hoe=1,Object.defineProperty(SD,"__esModule",{value:!0});let n;const e=new Uint8Array(16);function u(){if(!n){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");n=crypto.getRandomValues.bind(crypto)}return n(e)}return SD.default=u,SD}var koe;function LTe(){if(koe)return vg;koe=1,Object.defineProperty(vg,"__esModule",{value:!0}),vg.updateV1State=void 0;const n=lQ(),e=Sl(),u={};function a(i,o,l){let s;const c=i?._v6??!1;if(i){const d=Object.keys(i);d.length===1&&d[0]==="_v6"&&(i=void 0)}if(i)s=t(i.random??i.rng?.()??(0,n.default)(),i.msecs,i.nsecs,i.clockseq,i.node,o,l);else{const d=Date.now(),f=(0,n.default)();r(u,d,f),s=t(f,u.msecs,u.nsecs,c?void 0:u.clockseq,c?void 0:u.node,o,l)}return o??(0,e.unsafeStringify)(s)}function r(i,o,l){return i.msecs??=-1/0,i.nsecs??=0,o===i.msecs?(i.nsecs++,i.nsecs>=1e4&&(i.node=void 0,i.nsecs=0)):o>i.msecs?i.nsecs=0:o<i.msecs&&(i.node=void 0),i.node||(i.node=l.slice(10,16),i.node[0]|=1,i.clockseq=(l[8]<<8|l[9])&16383),i.msecs=o,i}vg.updateV1State=r;function t(i,o,l,s,c,d,f=0){if(i.length<16)throw new Error("Random bytes length must be >= 16");if(!d)d=new Uint8Array(16),f=0;else if(f<0||f+16>d.length)throw new RangeError(`UUID byte range ${f}:${f+15} is out of buffer bounds`);o??=Date.now(),l??=0,s??=(i[8]<<8|i[9])&16383,c??=i.slice(10,16),o+=122192928e5;const p=((o&268435455)*1e4+l)%4294967296;d[f++]=p>>>24&255,d[f++]=p>>>16&255,d[f++]=p>>>8&255,d[f++]=p&255;const h=o/4294967296*1e4&268435455;d[f++]=h>>>8&255,d[f++]=h&255,d[f++]=h>>>24&15|16,d[f++]=h>>>16&255,d[f++]=s>>>8|128,d[f++]=s&255;for(let g=0;g<6;++g)d[f++]=c[g];return d}return vg.default=a,vg}var ED={},zoe;function qTe(){if(zoe)return ED;zoe=1,Object.defineProperty(ED,"__esModule",{value:!0});const n=OP(),e=Sl();function u(r){const t=typeof r=="string"?(0,n.default)(r):r,i=a(t);return typeof r=="string"?(0,e.unsafeStringify)(i):i}ED.default=u;function a(r){return Uint8Array.of((r[6]&15)<<4|r[7]>>4&15,(r[7]&15)<<4|(r[4]&240)>>4,(r[4]&15)<<4|(r[5]&240)>>4,(r[5]&15)<<4|(r[0]&240)>>4,(r[0]&15)<<4|(r[1]&240)>>4,(r[1]&15)<<4|(r[2]&240)>>4,96|r[2]&15,r[3],r[8],r[9],r[10],r[11],r[12],r[13],r[14],r[15])}return ED}var _C={},AD={},Goe;function R5e(){if(Goe)return AD;Goe=1,Object.defineProperty(AD,"__esModule",{value:!0});function n(f){const p=r(f),h=a(p,f.length*8);return e(h)}function e(f){const p=new Uint8Array(f.length*4);for(let h=0;h<f.length*4;h++)p[h]=f[h>>2]>>>h%4*8&255;return p}function u(f){return(f+64>>>9<<4)+14+1}function a(f,p){const h=new Uint32Array(u(p)).fill(0);h.set(f),h[p>>5]|=128<<p%32,h[h.length-1]=p,f=h;let g=1732584193,_=-271733879,m=-1732584194,w=271733878;for(let T=0;T<f.length;T+=16){const E=g,S=_,N=m,j=w;g=l(g,_,m,w,f[T],7,-680876936),w=l(w,g,_,m,f[T+1],12,-389564586),m=l(m,w,g,_,f[T+2],17,606105819),_=l(_,m,w,g,f[T+3],22,-1044525330),g=l(g,_,m,w,f[T+4],7,-176418897),w=l(w,g,_,m,f[T+5],12,1200080426),m=l(m,w,g,_,f[T+6],17,-1473231341),_=l(_,m,w,g,f[T+7],22,-45705983),g=l(g,_,m,w,f[T+8],7,1770035416),w=l(w,g,_,m,f[T+9],12,-1958414417),m=l(m,w,g,_,f[T+10],17,-42063),_=l(_,m,w,g,f[T+11],22,-1990404162),g=l(g,_,m,w,f[T+12],7,1804603682),w=l(w,g,_,m,f[T+13],12,-40341101),m=l(m,w,g,_,f[T+14],17,-1502002290),_=l(_,m,w,g,f[T+15],22,1236535329),g=s(g,_,m,w,f[T+1],5,-165796510),w=s(w,g,_,m,f[T+6],9,-1069501632),m=s(m,w,g,_,f[T+11],14,643717713),_=s(_,m,w,g,f[T],20,-373897302),g=s(g,_,m,w,f[T+5],5,-701558691),w=s(w,g,_,m,f[T+10],9,38016083),m=s(m,w,g,_,f[T+15],14,-660478335),_=s(_,m,w,g,f[T+4],20,-405537848),g=s(g,_,m,w,f[T+9],5,568446438),w=s(w,g,_,m,f[T+14],9,-1019803690),m=s(m,w,g,_,f[T+3],14,-187363961),_=s(_,m,w,g,f[T+8],20,1163531501),g=s(g,_,m,w,f[T+13],5,-1444681467),w=s(w,g,_,m,f[T+2],9,-51403784),m=s(m,w,g,_,f[T+7],14,1735328473),_=s(_,m,w,g,f[T+12],20,-1926607734),g=c(g,_,m,w,f[T+5],4,-378558),w=c(w,g,_,m,f[T+8],11,-2022574463),m=c(m,w,g,_,f[T+11],16,1839030562),_=c(_,m,w,g,f[T+14],23,-35309556),g=c(g,_,m,w,f[T+1],4,-1530992060),w=c(w,g,_,m,f[T+4],11,1272893353),m=c(m,w,g,_,f[T+7],16,-155497632),_=c(_,m,w,g,f[T+10],23,-1094730640),g=c(g,_,m,w,f[T+13],4,681279174),w=c(w,g,_,m,f[T],11,-358537222),m=c(m,w,g,_,f[T+3],16,-722521979),_=c(_,m,w,g,f[T+6],23,76029189),g=c(g,_,m,w,f[T+9],4,-640364487),w=c(w,g,_,m,f[T+12],11,-421815835),m=c(m,w,g,_,f[T+15],16,530742520),_=c(_,m,w,g,f[T+2],23,-995338651),g=d(g,_,m,w,f[T],6,-198630844),w=d(w,g,_,m,f[T+7],10,1126891415),m=d(m,w,g,_,f[T+14],15,-1416354905),_=d(_,m,w,g,f[T+5],21,-57434055),g=d(g,_,m,w,f[T+12],6,1700485571),w=d(w,g,_,m,f[T+3],10,-1894986606),m=d(m,w,g,_,f[T+10],15,-1051523),_=d(_,m,w,g,f[T+1],21,-2054922799),g=d(g,_,m,w,f[T+8],6,1873313359),w=d(w,g,_,m,f[T+15],10,-30611744),m=d(m,w,g,_,f[T+6],15,-1560198380),_=d(_,m,w,g,f[T+13],21,1309151649),g=d(g,_,m,w,f[T+4],6,-145523070),w=d(w,g,_,m,f[T+11],10,-1120210379),m=d(m,w,g,_,f[T+2],15,718787259),_=d(_,m,w,g,f[T+9],21,-343485551),g=t(g,E),_=t(_,S),m=t(m,N),w=t(w,j)}return Uint32Array.of(g,_,m,w)}function r(f){if(f.length===0)return new Uint32Array;const p=new Uint32Array(u(f.length*8)).fill(0);for(let h=0;h<f.length;h++)p[h>>2]|=(f[h]&255)<<h%4*8;return p}function t(f,p){const h=(f&65535)+(p&65535);return(f>>16)+(p>>16)+(h>>16)<<16|h&65535}function i(f,p){return f<<p|f>>>32-p}function o(f,p,h,g,_,m){return t(i(t(t(p,f),t(g,m)),_),h)}function l(f,p,h,g,_,m,w){return o(p&h|~p&g,f,p,_,m,w)}function s(f,p,h,g,_,m,w){return o(p&g|h&~g,f,p,_,m,w)}function c(f,p,h,g,_,m,w){return o(p^h^g,f,p,_,m,w)}function d(f,p,h,g,_,m,w){return o(h^(p|~g),f,p,_,m,w)}return AD.default=n,AD}var Do={},$oe;function IF(){if($oe)return Do;$oe=1,Object.defineProperty(Do,"__esModule",{value:!0}),Do.URL=Do.DNS=Do.stringToBytes=void 0;const n=OP(),e=Sl();function u(r){r=unescape(encodeURIComponent(r));const t=new Uint8Array(r.length);for(let i=0;i<r.length;++i)t[i]=r.charCodeAt(i);return t}Do.stringToBytes=u,Do.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",Do.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function a(r,t,i,o,l,s){const c=typeof i=="string"?u(i):i,d=typeof o=="string"?(0,n.default)(o):o;if(typeof o=="string"&&(o=(0,n.default)(o)),o?.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let f=new Uint8Array(16+c.length);if(f.set(d),f.set(c,d.length),f=t(f),f[6]=f[6]&15|r,f[8]=f[8]&63|128,l){s=s||0;for(let p=0;p<16;++p)l[s+p]=f[p];return l}return(0,e.unsafeStringify)(f)}return Do.default=a,Do}var Xoe;function N5e(){return Xoe||(Xoe=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.URL=n.DNS=void 0;const e=R5e(),u=IF();var a=IF();Object.defineProperty(n,"DNS",{enumerable:!0,get:function(){return a.DNS}}),Object.defineProperty(n,"URL",{enumerable:!0,get:function(){return a.URL}});function r(t,i,o,l){return(0,u.default)(48,e.default,t,i,o,l)}r.DNS=u.DNS,r.URL=u.URL,n.default=r})(_C)),_C}var OD={},xD={},Koe;function I5e(){if(Koe)return xD;Koe=1,Object.defineProperty(xD,"__esModule",{value:!0});const n=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);return xD.default={randomUUID:n},xD}var Joe;function D5e(){if(Joe)return OD;Joe=1,Object.defineProperty(OD,"__esModule",{value:!0});const n=I5e(),e=lQ(),u=Sl();function a(r,t,i){if(n.default.randomUUID&&!t&&!r)return n.default.randomUUID();r=r||{};const o=r.random??r.rng?.()??(0,e.default)();if(o.length<16)throw new Error("Random bytes length must be >= 16");if(o[6]=o[6]&15|64,o[8]=o[8]&63|128,t){if(i=i||0,i<0||i+16>t.length)throw new RangeError(`UUID byte range ${i}:${i+15} is out of buffer bounds`);for(let l=0;l<16;++l)t[i+l]=o[l];return t}return(0,u.unsafeStringify)(o)}return OD.default=a,OD}var TC={},RD={},Woe;function F5e(){if(Woe)return RD;Woe=1,Object.defineProperty(RD,"__esModule",{value:!0});function n(a,r,t,i){switch(a){case 0:return r&t^~r&i;case 1:return r^t^i;case 2:return r&t^r&i^t&i;case 3:return r^t^i}}function e(a,r){return a<<r|a>>>32-r}function u(a){const r=[1518500249,1859775393,2400959708,3395469782],t=[1732584193,4023233417,2562383102,271733878,3285377520],i=new Uint8Array(a.length+1);i.set(a),i[a.length]=128,a=i;const o=a.length/4+2,l=Math.ceil(o/16),s=new Array(l);for(let c=0;c<l;++c){const d=new Uint32Array(16);for(let f=0;f<16;++f)d[f]=a[c*64+f*4]<<24|a[c*64+f*4+1]<<16|a[c*64+f*4+2]<<8|a[c*64+f*4+3];s[c]=d}s[l-1][14]=(a.length-1)*8/Math.pow(2,32),s[l-1][14]=Math.floor(s[l-1][14]),s[l-1][15]=(a.length-1)*8&4294967295;for(let c=0;c<l;++c){const d=new Uint32Array(80);for(let m=0;m<16;++m)d[m]=s[c][m];for(let m=16;m<80;++m)d[m]=e(d[m-3]^d[m-8]^d[m-14]^d[m-16],1);let f=t[0],p=t[1],h=t[2],g=t[3],_=t[4];for(let m=0;m<80;++m){const w=Math.floor(m/20),T=e(f,5)+n(w,p,h,g)+_+r[w]+d[m]>>>0;_=g,g=h,h=e(p,30)>>>0,p=f,f=T}t[0]=t[0]+f>>>0,t[1]=t[1]+p>>>0,t[2]=t[2]+h>>>0,t[3]=t[3]+g>>>0,t[4]=t[4]+_>>>0}return Uint8Array.of(t[0]>>24,t[0]>>16,t[0]>>8,t[0],t[1]>>24,t[1]>>16,t[1]>>8,t[1],t[2]>>24,t[2]>>16,t[2]>>8,t[2],t[3]>>24,t[3]>>16,t[3]>>8,t[3],t[4]>>24,t[4]>>16,t[4]>>8,t[4])}return RD.default=u,RD}var Yoe;function P5e(){return Yoe||(Yoe=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.URL=n.DNS=void 0;const e=F5e(),u=IF();var a=IF();Object.defineProperty(n,"DNS",{enumerable:!0,get:function(){return a.DNS}}),Object.defineProperty(n,"URL",{enumerable:!0,get:function(){return a.URL}});function r(t,i,o,l){return(0,u.default)(80,e.default,t,i,o,l)}r.DNS=u.DNS,r.URL=u.URL,n.default=r})(TC)),TC}var ND={},Zoe;function j5e(){if(Zoe)return ND;Zoe=1,Object.defineProperty(ND,"__esModule",{value:!0});const n=Sl(),e=LTe(),u=qTe();function a(r,t,i){r??={},i??=0;let o=(0,e.default)({...r,_v6:!0},new Uint8Array(16));if(o=(0,u.default)(o),t){for(let l=0;l<16;l++)t[i+l]=o[l];return t}return(0,n.unsafeStringify)(o)}return ND.default=a,ND}var ID={},ese;function M5e(){if(ese)return ID;ese=1,Object.defineProperty(ID,"__esModule",{value:!0});const n=OP(),e=Sl();function u(r){const t=typeof r=="string"?(0,n.default)(r):r,i=a(t);return typeof r=="string"?(0,e.unsafeStringify)(i):i}ID.default=u;function a(r){return Uint8Array.of((r[3]&15)<<4|r[4]>>4&15,(r[4]&15)<<4|(r[5]&240)>>4,(r[5]&15)<<4|r[6]&15,r[7],(r[1]&15)<<4|(r[2]&240)>>4,(r[2]&15)<<4|(r[3]&240)>>4,16|(r[0]&240)>>4,(r[0]&15)<<4|(r[1]&240)>>4,r[8],r[9],r[10],r[11],r[12],r[13],r[14],r[15])}return ID}var _g={},tse;function C5e(){if(tse)return _g;tse=1,Object.defineProperty(_g,"__esModule",{value:!0}),_g.updateV7State=void 0;const n=lQ(),e=Sl(),u={};function a(i,o,l){let s;if(i)s=t(i.random??i.rng?.()??(0,n.default)(),i.msecs,i.seq,o,l);else{const c=Date.now(),d=(0,n.default)();r(u,c,d),s=t(d,u.msecs,u.seq,o,l)}return o??(0,e.unsafeStringify)(s)}function r(i,o,l){return i.msecs??=-1/0,i.seq??=0,o>i.msecs?(i.seq=l[6]<<23|l[7]<<16|l[8]<<8|l[9],i.msecs=o):(i.seq=i.seq+1|0,i.seq===0&&i.msecs++),i}_g.updateV7State=r;function t(i,o,l,s,c=0){if(i.length<16)throw new Error("Random bytes length must be >= 16");if(!s)s=new Uint8Array(16),c=0;else if(c<0||c+16>s.length)throw new RangeError(`UUID byte range ${c}:${c+15} is out of buffer bounds`);return o??=Date.now(),l??=i[6]*127<<24|i[7]<<16|i[8]<<8|i[9],s[c++]=o/1099511627776&255,s[c++]=o/4294967296&255,s[c++]=o/16777216&255,s[c++]=o/65536&255,s[c++]=o/256&255,s[c++]=o&255,s[c++]=112|l>>>28&15,s[c++]=l>>>20&255,s[c++]=128|l>>>14&63,s[c++]=l>>>6&255,s[c++]=l<<2&255|i[10]&3,s[c++]=i[11],s[c++]=i[12],s[c++]=i[13],s[c++]=i[14],s[c++]=i[15],s}return _g.default=a,_g}var DD={},rse;function L5e(){if(rse)return DD;rse=1,Object.defineProperty(DD,"__esModule",{value:!0});const n=AP();function e(u){if(!(0,n.default)(u))throw TypeError("Invalid UUID");return parseInt(u.slice(14,15),16)}return DD.default=e,DD}var nse;function BTe(){return nse||(nse=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.version=n.validate=n.v7=n.v6ToV1=n.v6=n.v5=n.v4=n.v3=n.v1ToV6=n.v1=n.stringify=n.parse=n.NIL=n.MAX=void 0;var e=A5e();Object.defineProperty(n,"MAX",{enumerable:!0,get:function(){return e.default}});var u=O5e();Object.defineProperty(n,"NIL",{enumerable:!0,get:function(){return u.default}});var a=OP();Object.defineProperty(n,"parse",{enumerable:!0,get:function(){return a.default}});var r=Sl();Object.defineProperty(n,"stringify",{enumerable:!0,get:function(){return r.default}});var t=LTe();Object.defineProperty(n,"v1",{enumerable:!0,get:function(){return t.default}});var i=qTe();Object.defineProperty(n,"v1ToV6",{enumerable:!0,get:function(){return i.default}});var o=N5e();Object.defineProperty(n,"v3",{enumerable:!0,get:function(){return o.default}});var l=D5e();Object.defineProperty(n,"v4",{enumerable:!0,get:function(){return l.default}});var s=P5e();Object.defineProperty(n,"v5",{enumerable:!0,get:function(){return s.default}});var c=j5e();Object.defineProperty(n,"v6",{enumerable:!0,get:function(){return c.default}});var d=M5e();Object.defineProperty(n,"v6ToV1",{enumerable:!0,get:function(){return d.default}});var f=C5e();Object.defineProperty(n,"v7",{enumerable:!0,get:function(){return f.default}});var p=AP();Object.defineProperty(n,"validate",{enumerable:!0,get:function(){return p.default}});var h=L5e();Object.defineProperty(n,"version",{enumerable:!0,get:function(){return h.default}})})(vC)),vC}var ase;function q5e(){if(ase)return AS;ase=1,Object.defineProperty(AS,"__esModule",{value:!0}),AS.TermFunctionStrUuid=void 0;const n=We(),e=Xe(),u=BTe();let a=class extends n.TermFunctionBase{constructor(){super({arity:0,operator:e.SparqlOperator.STRUUID,overloads:(0,e.declare)(e.SparqlOperator.STRUUID).set([],()=>()=>(0,e.string)(u.v4())).collect()})}};return AS.TermFunctionStrUuid=a,AS}var ise;function B5e(){if(ise)return ES;ise=1,Object.defineProperty(ES,"__esModule",{value:!0}),ES.ActorFunctionFactoryTermStrUuid=void 0;const n=We(),e=Xe(),u=q5e();let a=class extends n.ActorFunctionFactoryDedicated{constructor(t){super({...t,functionNames:[e.SparqlOperator.STRUUID],termFunction:!0})}async run(t){return new u.TermFunctionStrUuid}};return ES.ActorFunctionFactoryTermStrUuid=a,ES}var use;function dQ(){return use||(use=1,(function(n){var e=P0&&P0.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=P0&&P0.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(B5e(),n)})(P0)),P0}var j0={},OS={},xS={},ose;function U5e(){if(ose)return xS;ose=1,Object.defineProperty(xS,"__esModule",{value:!0}),xS.TermFunctionStr=void 0;const n=We(),e=Xe();let u=class extends n.TermFunctionBase{constructor(){super({arity:1,operator:e.SparqlOperator.STR,overloads:(0,e.declare)(e.SparqlOperator.STR).onTerm1(()=>r=>(0,e.string)(r.str())).collect()})}};return xS.TermFunctionStr=u,xS}var sse;function Q5e(){if(sse)return OS;sse=1,Object.defineProperty(OS,"__esModule",{value:!0}),OS.ActorFunctionFactoryTermStr=void 0;const n=We(),e=Xe(),u=U5e();let a=class extends n.ActorFunctionFactoryDedicated{constructor(t){super({...t,functionNames:[e.SparqlOperator.STR],termFunction:!0})}async run(t){return new u.TermFunctionStr}};return OS.ActorFunctionFactoryTermStr=a,OS}var cse;function fQ(){return cse||(cse=1,(function(n){var e=j0&&j0.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=j0&&j0.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(Q5e(),n)})(j0)),j0}var M0={},RS={},NS={},lse;function V5e(){if(lse)return NS;lse=1,Object.defineProperty(NS,"__esModule",{value:!0}),NS.TermFunctionSubStr=void 0;const n=We(),e=Xe();let u=class extends n.TermFunctionBase{constructor(){super({arity:[2,3],operator:e.SparqlOperator.SUBSTR,overloads:(0,e.declare)(e.SparqlOperator.SUBSTR).onBinaryTyped([e.TypeURL.XSD_STRING,e.TypeURL.XSD_INTEGER],()=>(r,t)=>(0,e.string)([...r].slice(t-1).join(""))).onBinary([e.TypeURL.RDF_LANG_STRING,e.TypeURL.XSD_INTEGER],()=>(r,t)=>{const i=[...r.typedValue].slice(t.typedValue-1).join("");return(0,e.langString)(i,r.language)}).onTernaryTyped([e.TypeURL.XSD_STRING,e.TypeURL.XSD_INTEGER,e.TypeURL.XSD_INTEGER],()=>(r,t,i)=>(0,e.string)([...r].slice(t-1,i+t-1).join(""))).onTernary([e.TypeURL.RDF_LANG_STRING,e.TypeURL.XSD_INTEGER,e.TypeURL.XSD_INTEGER],()=>(r,t,i)=>{const o=[...r.typedValue].slice(t.typedValue-1,i.typedValue+t.typedValue-1).join("");return(0,e.langString)(o,r.language)}).collect()})}};return NS.TermFunctionSubStr=u,NS}var dse;function H5e(){if(dse)return RS;dse=1,Object.defineProperty(RS,"__esModule",{value:!0}),RS.ActorFunctionFactoryTermSubStr=void 0;const n=We(),e=Xe(),u=V5e();let a=class extends n.ActorFunctionFactoryDedicated{constructor(t){super({...t,functionNames:[e.SparqlOperator.SUBSTR],termFunction:!0})}async run(t){return new u.TermFunctionSubStr}};return RS.ActorFunctionFactoryTermSubStr=a,RS}var fse;function pQ(){return fse||(fse=1,(function(n){var e=M0&&M0.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=M0&&M0.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(H5e(),n)})(M0)),M0}var C0={},IS={},DS={},pse;function k5e(){if(pse)return DS;pse=1,Object.defineProperty(DS,"__esModule",{value:!0}),DS.TermFunctionSubject=void 0;const n=We(),e=Xe();let u=class extends n.TermFunctionBase{constructor(){super({arity:1,operator:e.SparqlOperator.SUBJECT,overloads:(0,e.declare)(e.SparqlOperator.SUBJECT).onQuad1(()=>r=>r.subject).collect()})}};return DS.TermFunctionSubject=u,DS}var hse;function z5e(){if(hse)return IS;hse=1,Object.defineProperty(IS,"__esModule",{value:!0}),IS.ActorFunctionFactoryTermSubject=void 0;const n=We(),e=Xe(),u=k5e();let a=class extends n.ActorFunctionFactoryDedicated{constructor(t){super({...t,functionNames:[e.SparqlOperator.SUBJECT],termFunction:!0})}async run(t){return new u.TermFunctionSubject}};return IS.ActorFunctionFactoryTermSubject=a,IS}var yse;function hQ(){return yse||(yse=1,(function(n){var e=C0&&C0.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=C0&&C0.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(z5e(),n)})(C0)),C0}var L0={},FS={},PS={},mse;function G5e(){if(mse)return PS;mse=1,Object.defineProperty(PS,"__esModule",{value:!0}),PS.TermFunctionSubtraction=void 0;const n=We(),e=lt(),u=Xe(),a=SP();let r=class extends n.TermFunctionBase{constructor(){super({arity:2,operator:u.SparqlOperator.SUBTRACTION,overloads:(0,u.declare)(u.SparqlOperator.SUBTRACTION).arithmetic(()=>(i,o)=>new a.BigNumber(i).minus(o).toNumber()).set([u.TypeURL.XSD_DATE_TIME,u.TypeURL.XSD_DATE_TIME],i=>([o,l])=>new u.DayTimeDurationLiteral((0,u.elapsedDuration)(o.typedValue,l.typedValue,i.context.getSafe(e.KeysExpressionEvaluator.defaultTimeZone)))).copy({from:[u.TypeURL.XSD_DATE_TIME,u.TypeURL.XSD_DATE_TIME],to:[u.TypeURL.XSD_DATE,u.TypeURL.XSD_DATE]}).copy({from:[u.TypeURL.XSD_DATE_TIME,u.TypeURL.XSD_DATE_TIME],to:[u.TypeURL.XSD_TIME,u.TypeURL.XSD_TIME]}).set([u.TypeURL.XSD_DATE_TIME,u.TypeURL.XSD_DAY_TIME_DURATION],()=>([i,o])=>new u.DateTimeLiteral((0,u.addDurationToDateTime)(i.typedValue,(0,u.defaultedDurationRepresentation)((0,u.negateDuration)(o.typedValue))))).copy({from:[u.TypeURL.XSD_DATE_TIME,u.TypeURL.XSD_DAY_TIME_DURATION],to:[u.TypeURL.XSD_DATE_TIME,u.TypeURL.XSD_YEAR_MONTH_DURATION]}).set([u.TypeURL.XSD_DATE,u.TypeURL.XSD_DAY_TIME_DURATION],()=>([i,o])=>new u.DateLiteral((0,u.addDurationToDateTime)((0,u.defaultedDateTimeRepresentation)(i.typedValue),(0,u.defaultedDurationRepresentation)((0,u.negateDuration)(o.typedValue))))).copy({from:[u.TypeURL.XSD_DATE,u.TypeURL.XSD_DAY_TIME_DURATION],to:[u.TypeURL.XSD_DATE,u.TypeURL.XSD_YEAR_MONTH_DURATION]}).set([u.TypeURL.XSD_TIME,u.TypeURL.XSD_DAY_TIME_DURATION],()=>([i,o])=>new u.TimeLiteral((0,u.addDurationToDateTime)((0,u.defaultedDateTimeRepresentation)(i.typedValue),(0,u.defaultedDurationRepresentation)((0,u.negateDuration)(o.typedValue))))).collect()})}};return PS.TermFunctionSubtraction=r,PS}var bse;function $5e(){if(bse)return FS;bse=1,Object.defineProperty(FS,"__esModule",{value:!0}),FS.ActorFunctionFactoryTermSubtraction=void 0;const n=We(),e=Xe(),u=G5e();let a=class extends n.ActorFunctionFactoryDedicated{constructor(t){super({...t,functionNames:[e.SparqlOperator.SUBTRACTION],termFunction:!0})}async run(t){return new u.TermFunctionSubtraction}};return FS.ActorFunctionFactoryTermSubtraction=a,FS}var gse;function yQ(){return gse||(gse=1,(function(n){var e=L0&&L0.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=L0&&L0.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u($5e(),n)})(L0)),L0}var q0={},jS={},MS={},vse;function X5e(){if(vse)return MS;vse=1,Object.defineProperty(MS,"__esModule",{value:!0}),MS.TermFunctionTimezone=void 0;const n=We(),e=Xe();let u=class extends n.TermFunctionBase{constructor(){super({arity:1,operator:e.SparqlOperator.TIMEZONE,overloads:(0,e.declare)(e.SparqlOperator.TIMEZONE).onDateTime1(()=>r=>{const t={hours:r.typedValue.zoneHours,minutes:r.typedValue.zoneMinutes};if(t.hours===void 0&&t.minutes===void 0)throw new e.InvalidTimezoneCall(r.str());return new e.DayTimeDurationLiteral(t)}).copy({from:[e.TypeURL.XSD_DATE_TIME],to:[e.TypeURL.XSD_DATE]}).copy({from:[e.TypeURL.XSD_DATE_TIME],to:[e.TypeURL.XSD_TIME]}).collect()})}};return MS.TermFunctionTimezone=u,MS}var _se;function K5e(){if(_se)return jS;_se=1,Object.defineProperty(jS,"__esModule",{value:!0}),jS.ActorFunctionFactoryTermTimezone=void 0;const n=We(),e=Xe(),u=X5e();let a=class extends n.ActorFunctionFactoryDedicated{constructor(t){super({...t,functionNames:[e.SparqlOperator.TIMEZONE],termFunction:!0})}async run(t){return new u.TermFunctionTimezone}};return jS.ActorFunctionFactoryTermTimezone=a,jS}var Tse;function mQ(){return Tse||(Tse=1,(function(n){var e=q0&&q0.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=q0&&q0.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(K5e(),n)})(q0)),q0}var B0={},CS={},LS={},wse;function J5e(){if(wse)return LS;wse=1,Object.defineProperty(LS,"__esModule",{value:!0}),LS.TermFunctionTriple=void 0;const n=We(),e=Xe();let u=class extends n.TermFunctionBase{constructor(){super({arity:3,operator:e.SparqlOperator.TRIPLE,overloads:(0,e.declare)(e.SparqlOperator.TRIPLE).onTerm3(r=>(...t)=>new e.Quad(t[0],t[1],t[2],new e.DefaultGraph)).collect()})}};return LS.TermFunctionTriple=u,LS}var Sse;function W5e(){if(Sse)return CS;Sse=1,Object.defineProperty(CS,"__esModule",{value:!0}),CS.ActorFunctionFactoryTermTriple=void 0;const n=We(),e=Xe(),u=J5e();let a=class extends n.ActorFunctionFactoryDedicated{constructor(t){super({...t,functionNames:[e.SparqlOperator.TRIPLE],termFunction:!0})}async run(t){return new u.TermFunctionTriple}};return CS.ActorFunctionFactoryTermTriple=a,CS}var Ese;function bQ(){return Ese||(Ese=1,(function(n){var e=B0&&B0.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=B0&&B0.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(W5e(),n)})(B0)),B0}var U0={},qS={},BS={},Ase;function Y5e(){if(Ase)return BS;Ase=1,Object.defineProperty(BS,"__esModule",{value:!0}),BS.TermFunctionTz=void 0;const n=We(),e=Xe();let u=class extends n.TermFunctionBase{constructor(){super({arity:1,operator:e.SparqlOperator.TZ,overloads:(0,e.declare)(e.SparqlOperator.TZ).onDateTime1(()=>r=>(0,e.string)((0,e.extractRawTimeZone)(r.str()))).copy({from:[e.TypeURL.XSD_DATE_TIME],to:[e.TypeURL.XSD_DATE]}).copy({from:[e.TypeURL.XSD_DATE_TIME],to:[e.TypeURL.XSD_TIME]}).collect()})}};return BS.TermFunctionTz=u,BS}var Ose;function Z5e(){if(Ose)return qS;Ose=1,Object.defineProperty(qS,"__esModule",{value:!0}),qS.ActorFunctionFactoryTermTz=void 0;const n=We(),e=Xe(),u=Y5e();let a=class extends n.ActorFunctionFactoryDedicated{constructor(t){super({...t,functionNames:[e.SparqlOperator.TZ],termFunction:!0})}async run(t){return new u.TermFunctionTz}};return qS.ActorFunctionFactoryTermTz=a,qS}var xse;function gQ(){return xse||(xse=1,(function(n){var e=U0&&U0.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=U0&&U0.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(Z5e(),n)})(U0)),U0}var Q0={},US={},QS={},Rse;function eje(){if(Rse)return QS;Rse=1,Object.defineProperty(QS,"__esModule",{value:!0}),QS.TermFunctionUcase=void 0;const n=We(),e=Xe();let u=class extends n.TermFunctionBase{constructor(){super({arity:1,operator:e.SparqlOperator.UCASE,overloads:(0,e.declare)(e.SparqlOperator.UCASE).onString1Typed(()=>r=>(0,e.string)(r.toUpperCase())).onLangString1(()=>r=>(0,e.langString)(r.typedValue.toUpperCase(),r.language)).collect()})}};return QS.TermFunctionUcase=u,QS}var Nse;function tje(){if(Nse)return US;Nse=1,Object.defineProperty(US,"__esModule",{value:!0}),US.ActorFunctionFactoryTermUcase=void 0;const n=We(),e=Xe(),u=eje();let a=class extends n.ActorFunctionFactoryDedicated{constructor(t){super({...t,functionNames:[e.SparqlOperator.UCASE],termFunction:!0})}async run(t){return new u.TermFunctionUcase}};return US.ActorFunctionFactoryTermUcase=a,US}var Ise;function vQ(){return Ise||(Ise=1,(function(n){var e=Q0&&Q0.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=Q0&&Q0.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(tje(),n)})(Q0)),Q0}var V0={},VS={},HS={},Dse;function rje(){if(Dse)return HS;Dse=1,Object.defineProperty(HS,"__esModule",{value:!0}),HS.TermFunctionUnaryMinus=void 0;const n=We(),e=Xe();let u=class extends n.TermFunctionBase{constructor(){super({arity:1,operator:e.SparqlOperator.UMINUS,overloads:(0,e.declare)(e.SparqlOperator.UMINUS).numericConverter(()=>r=>-r).collect()})}};return HS.TermFunctionUnaryMinus=u,HS}var Fse;function nje(){if(Fse)return VS;Fse=1,Object.defineProperty(VS,"__esModule",{value:!0}),VS.ActorFunctionFactoryTermUnaryMinus=void 0;const n=We(),e=Xe(),u=rje();let a=class extends n.ActorFunctionFactoryDedicated{constructor(t){super({...t,functionNames:[e.SparqlOperator.UMINUS],termFunction:!0})}async run(t){return new u.TermFunctionUnaryMinus}};return VS.ActorFunctionFactoryTermUnaryMinus=a,VS}var Pse;function _Q(){return Pse||(Pse=1,(function(n){var e=V0&&V0.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=V0&&V0.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(nje(),n)})(V0)),V0}var H0={},kS={},zS={},jse;function aje(){if(jse)return zS;jse=1,Object.defineProperty(zS,"__esModule",{value:!0}),zS.TermFunctionUnaryPlus=void 0;const n=We(),e=Xe();let u=class extends n.TermFunctionBase{constructor(){super({arity:1,operator:e.SparqlOperator.UPLUS,overloads:(0,e.declare)(e.SparqlOperator.UPLUS).numericConverter(()=>r=>r).collect()})}};return zS.TermFunctionUnaryPlus=u,zS}var Mse;function ije(){if(Mse)return kS;Mse=1,Object.defineProperty(kS,"__esModule",{value:!0}),kS.ActorFunctionFactoryTermUnaryPlus=void 0;const n=We(),e=Xe(),u=aje();let a=class extends n.ActorFunctionFactoryDedicated{constructor(t){super({...t,functionNames:[e.SparqlOperator.UPLUS],termFunction:!0})}async run(t){return new u.TermFunctionUnaryPlus}};return kS.ActorFunctionFactoryTermUnaryPlus=a,kS}var Cse;function TQ(){return Cse||(Cse=1,(function(n){var e=H0&&H0.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=H0&&H0.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(ije(),n)})(H0)),H0}var k0={},GS={},$S={},Lse;function uje(){if(Lse)return $S;Lse=1,Object.defineProperty($S,"__esModule",{value:!0}),$S.TermFunctionUuid=void 0;const n=We(),e=Xe(),u=BTe();let a=class extends n.TermFunctionBase{constructor(){super({arity:0,operator:e.SparqlOperator.UUID,overloads:(0,e.declare)(e.SparqlOperator.UUID).set([],()=>()=>new e.NamedNode(`urn:uuid:${u.v4()}`)).collect()})}};return $S.TermFunctionUuid=a,$S}var qse;function oje(){if(qse)return GS;qse=1,Object.defineProperty(GS,"__esModule",{value:!0}),GS.ActorFunctionFactoryTermUuid=void 0;const n=We(),e=Xe(),u=uje();let a=class extends n.ActorFunctionFactoryDedicated{constructor(t){super({...t,functionNames:[e.SparqlOperator.UUID],termFunction:!0})}async run(t){return new u.TermFunctionUuid}};return GS.ActorFunctionFactoryTermUuid=a,GS}var Bse;function wQ(){return Bse||(Bse=1,(function(n){var e=k0&&k0.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=k0&&k0.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(oje(),n)})(k0)),k0}var z0={},XS={},KS={},Use;function sje(){if(Use)return KS;Use=1,Object.defineProperty(KS,"__esModule",{value:!0}),KS.TermFunctionXsdToBoolean=void 0;const n=We(),e=Xe();let u=class extends n.TermFunctionBase{constructor(){super({arity:1,operator:e.TypeURL.XSD_BOOLEAN,overloads:(0,e.declare)(e.TypeURL.XSD_BOOLEAN).onNumeric1(()=>r=>(0,e.bool)(r.coerceEBV()),!0).onUnary(e.TypeURL.XSD_BOOLEAN,()=>r=>(0,e.bool)(r.coerceEBV()),!0).onUnary(e.TypeURL.XSD_STRING,()=>r=>{switch(r.str()){case"true":return(0,e.bool)(!0);case"false":return(0,e.bool)(!1);case"1":return(0,e.bool)(!0);case"0":return(0,e.bool)(!1);default:throw new e.CastError(r,e.TypeURL.XSD_BOOLEAN)}},!1).collect()})}};return KS.TermFunctionXsdToBoolean=u,KS}var Qse;function cje(){if(Qse)return XS;Qse=1,Object.defineProperty(XS,"__esModule",{value:!0}),XS.ActorFunctionFactoryTermXsdToBoolean=void 0;const n=We(),e=Xe(),u=sje();let a=class extends n.ActorFunctionFactoryDedicated{constructor(t){super({...t,functionNames:[e.TypeURL.XSD_BOOLEAN],termFunction:!0})}async run(t){return new u.TermFunctionXsdToBoolean}};return XS.ActorFunctionFactoryTermXsdToBoolean=a,XS}var Vse;function SQ(){return Vse||(Vse=1,(function(n){var e=z0&&z0.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=z0&&z0.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(cje(),n)})(z0)),z0}var G0={},JS={},WS={},Hse;function lje(){if(Hse)return WS;Hse=1,Object.defineProperty(WS,"__esModule",{value:!0}),WS.TermFunctionXsdToDate=void 0;const n=We(),e=Xe();let u=class extends n.TermFunctionBase{constructor(){super({arity:1,operator:e.TypeURL.XSD_DATE,overloads:(0,e.declare)(e.TypeURL.XSD_DATE).onUnary(e.TypeURL.XSD_DATE,()=>r=>new e.DateLiteral(r.typedValue,r.strValue)).onUnary(e.TypeURL.XSD_DATE_TIME,()=>r=>new e.DateLiteral(r.typedValue)).onStringly1(()=>r=>new e.DateLiteral((0,e.parseDate)(r.str()))).collect()})}};return WS.TermFunctionXsdToDate=u,WS}var kse;function dje(){if(kse)return JS;kse=1,Object.defineProperty(JS,"__esModule",{value:!0}),JS.ActorFunctionFactoryTermXsdToDate=void 0;const n=We(),e=Xe(),u=lje();let a=class extends n.ActorFunctionFactoryDedicated{constructor(t){super({...t,functionNames:[e.TypeURL.XSD_DATE],termFunction:!0})}async run(t){return new u.TermFunctionXsdToDate}};return JS.ActorFunctionFactoryTermXsdToDate=a,JS}var zse;function EQ(){return zse||(zse=1,(function(n){var e=G0&&G0.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=G0&&G0.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(dje(),n)})(G0)),G0}var $0={},YS={},ZS={},Gse;function fje(){if(Gse)return ZS;Gse=1,Object.defineProperty(ZS,"__esModule",{value:!0}),ZS.TermFunctionXsdToDatetime=void 0;const n=We(),e=Xe();let u=class extends n.TermFunctionBase{constructor(){super({arity:1,operator:e.TypeURL.XSD_DATE_TIME,overloads:(0,e.declare)(e.TypeURL.XSD_DATE_TIME).onUnary(e.TypeURL.XSD_DATE_TIME,()=>r=>r).onUnary(e.TypeURL.XSD_STRING,()=>r=>(0,e.dateTime)((0,e.parseDateTime)(r.str()),r.str()),!1).onUnary(e.TypeURL.XSD_DATE,()=>r=>new e.DateTimeLiteral({...r.typedValue,hours:0,minutes:0,seconds:0})).collect()})}};return ZS.TermFunctionXsdToDatetime=u,ZS}var $se;function pje(){if($se)return YS;$se=1,Object.defineProperty(YS,"__esModule",{value:!0}),YS.ActorFunctionFactoryTermXsdToDatetime=void 0;const n=We(),e=Xe(),u=fje();let a=class extends n.ActorFunctionFactoryDedicated{constructor(t){super({...t,functionNames:[e.TypeURL.XSD_DATE_TIME],termFunction:!0})}async run(t){return new u.TermFunctionXsdToDatetime}};return YS.ActorFunctionFactoryTermXsdToDatetime=a,YS}var Xse;function AQ(){return Xse||(Xse=1,(function(n){var e=$0&&$0.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=$0&&$0.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(pje(),n)})($0)),$0}var X0={},eE={},tE={},Kse;function hje(){if(Kse)return tE;Kse=1,Object.defineProperty(tE,"__esModule",{value:!0}),tE.TermFunctionXsdToDayTimeDuration=void 0;const n=We(),e=Xe();let u=class extends n.TermFunctionBase{constructor(){super({arity:1,operator:e.TypeURL.XSD_DAY_TIME_DURATION,overloads:(0,e.declare)(e.TypeURL.XSD_DAY_TIME_DURATION).onUnary(e.TypeURL.XSD_DURATION,()=>r=>new e.DayTimeDurationLiteral((0,e.trimToDayTimeDuration)(r.typedValue))).onStringly1(()=>r=>new e.DayTimeDurationLiteral((0,e.parseDayTimeDuration)(r.str()))).collect()})}};return tE.TermFunctionXsdToDayTimeDuration=u,tE}var Jse;function yje(){if(Jse)return eE;Jse=1,Object.defineProperty(eE,"__esModule",{value:!0}),eE.ActorFunctionFactoryTermXsdToDayTimeDuration=void 0;const n=We(),e=Xe(),u=hje();let a=class extends n.ActorFunctionFactoryDedicated{constructor(t){super({...t,functionNames:[e.TypeURL.XSD_DAY_TIME_DURATION],termFunction:!0})}async run(t){return new u.TermFunctionXsdToDayTimeDuration}};return eE.ActorFunctionFactoryTermXsdToDayTimeDuration=a,eE}var Wse;function OQ(){return Wse||(Wse=1,(function(n){var e=X0&&X0.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=X0&&X0.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(yje(),n)})(X0)),X0}var K0={},rE={},nE={},Yse;function mje(){if(Yse)return nE;Yse=1,Object.defineProperty(nE,"__esModule",{value:!0}),nE.TermFunctionXsdToDecimal=void 0;const n=We(),e=Xe();let u=class extends n.TermFunctionBase{constructor(){super({arity:1,operator:e.TypeURL.XSD_DECIMAL,overloads:(0,e.declare)(e.TypeURL.XSD_DECIMAL).onNumeric1(()=>r=>{const t=(0,e.parseXSDDecimal)(r.str());if(t===void 0)throw new e.CastError(r,e.TypeURL.XSD_DECIMAL);return(0,e.decimal)(t)}).onString1(()=>r=>{const t=r.str(),i=/^([+-])?(\d+(\.\d+)?)$/u.test(t)?(0,e.parseXSDDecimal)(t):void 0;if(i===void 0)throw new e.CastError(r,e.TypeURL.XSD_DECIMAL);return(0,e.decimal)(i)},!1).onBoolean1Typed(()=>r=>(0,e.decimal)(r?1:0)).collect()})}};return nE.TermFunctionXsdToDecimal=u,nE}var Zse;function bje(){if(Zse)return rE;Zse=1,Object.defineProperty(rE,"__esModule",{value:!0}),rE.ActorFunctionFactoryTermXsdToDecimal=void 0;const n=We(),e=Xe(),u=mje();let a=class extends n.ActorFunctionFactoryDedicated{constructor(t){super({...t,functionNames:[e.TypeURL.XSD_DECIMAL],termFunction:!0})}async run(t){return new u.TermFunctionXsdToDecimal}};return rE.ActorFunctionFactoryTermXsdToDecimal=a,rE}var ece;function xQ(){return ece||(ece=1,(function(n){var e=K0&&K0.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=K0&&K0.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(bje(),n)})(K0)),K0}var J0={},aE={},iE={},tce;function gje(){if(tce)return iE;tce=1,Object.defineProperty(iE,"__esModule",{value:!0}),iE.TermFunctionXsdToDouble=void 0;const n=We(),e=Xe();let u=class extends n.TermFunctionBase{constructor(){super({arity:1,operator:e.TypeURL.XSD_DOUBLE,overloads:(0,e.declare)(e.TypeURL.XSD_DOUBLE).onNumeric1(()=>r=>(0,e.double)(r.typedValue)).onBoolean1Typed(()=>r=>(0,e.double)(r?1:0)).onUnary(e.TypeURL.XSD_STRING,()=>r=>{const t=(0,e.parseXSDFloat)(r.str());if(t===void 0)throw new e.CastError(r,e.TypeURL.XSD_DOUBLE);return(0,e.double)(t)},!1).collect()})}};return iE.TermFunctionXsdToDouble=u,iE}var rce;function vje(){if(rce)return aE;rce=1,Object.defineProperty(aE,"__esModule",{value:!0}),aE.ActorFunctionFactoryTermXsdToDouble=void 0;const n=We(),e=Xe(),u=gje();let a=class extends n.ActorFunctionFactoryDedicated{constructor(t){super({...t,functionNames:[e.TypeURL.XSD_DOUBLE],termFunction:!0})}async run(t){return new u.TermFunctionXsdToDouble}};return aE.ActorFunctionFactoryTermXsdToDouble=a,aE}var nce;function RQ(){return nce||(nce=1,(function(n){var e=J0&&J0.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=J0&&J0.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(vje(),n)})(J0)),J0}var W0={},uE={},oE={},ace;function _je(){if(ace)return oE;ace=1,Object.defineProperty(oE,"__esModule",{value:!0}),oE.TermFunctionXsdToDuration=void 0;const n=We(),e=Xe();let u=class extends n.TermFunctionBase{constructor(){super({arity:1,operator:e.TypeURL.XSD_DAY_TIME_DURATION,overloads:(0,e.declare)(e.TypeURL.XSD_DURATION).onUnary(e.TypeURL.XSD_DURATION,()=>r=>new e.DurationLiteral(r.typedValue,r.strValue)).onStringly1(()=>r=>new e.DurationLiteral((0,e.parseDuration)(r.str()))).collect()})}};return oE.TermFunctionXsdToDuration=u,oE}var ice;function Tje(){if(ice)return uE;ice=1,Object.defineProperty(uE,"__esModule",{value:!0}),uE.ActorFunctionFactoryTermXsdToDuration=void 0;const n=We(),e=Xe(),u=_je();let a=class extends n.ActorFunctionFactoryDedicated{constructor(t){super({...t,functionNames:[e.TypeURL.XSD_DURATION],termFunction:!0})}async run(t){return new u.TermFunctionXsdToDuration}};return uE.ActorFunctionFactoryTermXsdToDuration=a,uE}var uce;function NQ(){return uce||(uce=1,(function(n){var e=W0&&W0.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=W0&&W0.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(Tje(),n)})(W0)),W0}var Y0={},sE={},cE={},oce;function wje(){if(oce)return cE;oce=1,Object.defineProperty(cE,"__esModule",{value:!0}),cE.TermFunctionXsdToFloat=void 0;const n=We(),e=Xe();let u=class extends n.TermFunctionBase{constructor(){super({arity:1,operator:e.TypeURL.XSD_FLOAT,overloads:(0,e.declare)(e.TypeURL.XSD_FLOAT).onNumeric1(()=>r=>(0,e.float)(r.typedValue)).onBoolean1Typed(()=>r=>(0,e.float)(r?1:0)).onUnary(e.TypeURL.XSD_STRING,()=>r=>{const t=(0,e.parseXSDFloat)(r.str());if(t===void 0)throw new e.CastError(r,e.TypeURL.XSD_FLOAT);return(0,e.float)(t)},!1).collect()})}};return cE.TermFunctionXsdToFloat=u,cE}var sce;function Sje(){if(sce)return sE;sce=1,Object.defineProperty(sE,"__esModule",{value:!0}),sE.ActorFunctionFactoryTermXsdToFloat=void 0;const n=We(),e=Xe(),u=wje();let a=class extends n.ActorFunctionFactoryDedicated{constructor(t){super({...t,functionNames:[e.TypeURL.XSD_FLOAT],termFunction:!0})}async run(t){return new u.TermFunctionXsdToFloat}};return sE.ActorFunctionFactoryTermXsdToFloat=a,sE}var cce;function IQ(){return cce||(cce=1,(function(n){var e=Y0&&Y0.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=Y0&&Y0.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(Sje(),n)})(Y0)),Y0}var Z0={},lE={},dE={},lce;function Eje(){if(lce)return dE;lce=1,Object.defineProperty(dE,"__esModule",{value:!0}),dE.TermFunctionXsdToInteger=void 0;const n=We(),e=Xe();let u=class extends n.TermFunctionBase{constructor(){super({arity:1,operator:e.TypeURL.XSD_INTEGER,overloads:(0,e.declare)(e.TypeURL.XSD_INTEGER).onBoolean1Typed(()=>r=>(0,e.integer)(r?1:0)).onNumeric1(()=>r=>{if(!Number.isFinite(r.typedValue))throw new e.CastError(r,e.TypeURL.XSD_INTEGER);return(0,e.integer)(Math.trunc(r.typedValue))}).onString1(()=>r=>{const t=r.str(),i=/^\d+$/u.test(t)?Number.parseInt(t,10):void 0;if(i===void 0)throw new e.CastError(r,e.TypeURL.XSD_INTEGER);return(0,e.integer)(i)}).collect()})}};return dE.TermFunctionXsdToInteger=u,dE}var dce;function Aje(){if(dce)return lE;dce=1,Object.defineProperty(lE,"__esModule",{value:!0}),lE.ActorFunctionFactoryTermXsdToInteger=void 0;const n=We(),e=Xe(),u=Eje();let a=class extends n.ActorFunctionFactoryDedicated{constructor(t){super({...t,functionNames:[e.TypeURL.XSD_INTEGER],termFunction:!0})}async run(t){return new u.TermFunctionXsdToInteger}};return lE.ActorFunctionFactoryTermXsdToInteger=a,lE}var fce;function DQ(){return fce||(fce=1,(function(n){var e=Z0&&Z0.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=Z0&&Z0.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(Aje(),n)})(Z0)),Z0}var eh={},fE={},pE={},pce;function Oje(){if(pce)return pE;pce=1,Object.defineProperty(pE,"__esModule",{value:!0}),pE.TermFunctionXsdToString=void 0;const n=We(),e=Xe();let u=class extends n.TermFunctionBase{constructor(){super({arity:1,operator:e.TypeURL.XSD_STRING,overloads:(0,e.declare)(e.TypeURL.XSD_STRING).onNumeric1(()=>r=>(0,e.string)((0,e.float)(r.typedValue).str())).onBoolean1Typed(()=>r=>(0,e.string)((0,e.bool)(r).str())).onTerm1(()=>r=>(0,e.string)(r.str())).collect()})}};return pE.TermFunctionXsdToString=u,pE}var hce;function xje(){if(hce)return fE;hce=1,Object.defineProperty(fE,"__esModule",{value:!0}),fE.ActorFunctionFactoryTermXsdToString=void 0;const n=We(),e=Xe(),u=Oje();let a=class extends n.ActorFunctionFactoryDedicated{constructor(t){super({...t,functionNames:[e.TypeURL.XSD_STRING],termFunction:!0})}async run(t){return new u.TermFunctionXsdToString}};return fE.ActorFunctionFactoryTermXsdToString=a,fE}var yce;function FQ(){return yce||(yce=1,(function(n){var e=eh&&eh.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=eh&&eh.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(xje(),n)})(eh)),eh}var th={},hE={},yE={},mce;function Rje(){if(mce)return yE;mce=1,Object.defineProperty(yE,"__esModule",{value:!0}),yE.TermFunctionXsdToTime=void 0;const n=We(),e=Xe();let u=class extends n.TermFunctionBase{constructor(){super({arity:1,operator:e.TypeURL.XSD_TIME,overloads:(0,e.declare)(e.TypeURL.XSD_TIME).onUnary(e.TypeURL.XSD_TIME,()=>r=>new e.TimeLiteral(r.typedValue,r.strValue)).onUnary(e.TypeURL.XSD_DATE_TIME,()=>r=>new e.TimeLiteral(r.typedValue)).onStringly1(()=>r=>new e.TimeLiteral((0,e.parseTime)(r.str()))).collect()})}};return yE.TermFunctionXsdToTime=u,yE}var bce;function Nje(){if(bce)return hE;bce=1,Object.defineProperty(hE,"__esModule",{value:!0}),hE.ActorFunctionFactoryTermXsdToTime=void 0;const n=We(),e=Xe(),u=Rje();let a=class extends n.ActorFunctionFactoryDedicated{constructor(t){super({...t,functionNames:[e.TypeURL.XSD_TIME],termFunction:!0})}async run(t){return new u.TermFunctionXsdToTime}};return hE.ActorFunctionFactoryTermXsdToTime=a,hE}var gce;function PQ(){return gce||(gce=1,(function(n){var e=th&&th.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=th&&th.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(Nje(),n)})(th)),th}var rh={},mE={},bE={},vce;function Ije(){if(vce)return bE;vce=1,Object.defineProperty(bE,"__esModule",{value:!0}),bE.TermFunctionXsdToYearMonthDuration=void 0;const n=We(),e=Xe();let u=class extends n.TermFunctionBase{constructor(){super({arity:1,operator:e.TypeURL.XSD_YEAR_MONTH_DURATION,overloads:(0,e.declare)(e.TypeURL.XSD_YEAR_MONTH_DURATION).onUnary(e.TypeURL.XSD_DURATION,()=>r=>new e.YearMonthDurationLiteral((0,e.trimToYearMonthDuration)(r.typedValue))).onStringly1(()=>r=>new e.YearMonthDurationLiteral((0,e.parseYearMonthDuration)(r.str()))).collect()})}};return bE.TermFunctionXsdToYearMonthDuration=u,bE}var _ce;function Dje(){if(_ce)return mE;_ce=1,Object.defineProperty(mE,"__esModule",{value:!0}),mE.ActorFunctionFactoryTermXsdToYearMonthDuration=void 0;const n=We(),e=Xe(),u=Ije();let a=class extends n.ActorFunctionFactoryDedicated{constructor(t){super({...t,functionNames:[e.TypeURL.XSD_YEAR_MONTH_DURATION],termFunction:!0})}async run(t){return new u.TermFunctionXsdToYearMonthDuration}};return mE.ActorFunctionFactoryTermXsdToYearMonthDuration=a,mE}var Tce;function jQ(){return Tce||(Tce=1,(function(n){var e=rh&&rh.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=rh&&rh.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(Dje(),n)})(rh)),rh}var nh={},gE={},vE={},wce;function Fje(){if(wce)return vE;wce=1,Object.defineProperty(vE,"__esModule",{value:!0}),vE.TermFunctionYear=void 0;const n=We(),e=Xe();let u=class extends n.TermFunctionBase{constructor(){super({arity:1,operator:e.SparqlOperator.YEAR,overloads:(0,e.declare)(e.SparqlOperator.YEAR).onDateTime1(()=>r=>(0,e.integer)(r.typedValue.year)).set([e.TypeURL.XSD_DATE],()=>([r])=>(0,e.integer)(r.typedValue.year)).collect()})}};return vE.TermFunctionYear=u,vE}var Sce;function Pje(){if(Sce)return gE;Sce=1,Object.defineProperty(gE,"__esModule",{value:!0}),gE.ActorFunctionFactoryTermYear=void 0;const n=We(),e=Xe(),u=Fje();let a=class extends n.ActorFunctionFactoryDedicated{constructor(t){super({...t,functionNames:[e.SparqlOperator.YEAR],termFunction:!0})}async run(t){return new u.TermFunctionYear}};return gE.ActorFunctionFactoryTermYear=a,gE}var Ece;function MQ(){return Ece||(Ece=1,(function(n){var e=nh&&nh.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=nh&&nh.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(Pje(),n)})(nh)),nh}var ah={},_E={},ih={},TE={},wC={},uh={},Ace;function jje(){if(Ace)return uh;Ace=1,Object.defineProperty(uh,"__esModule",{value:!0}),uh.readableFromWeb=uh.ReadableFromWeb=void 0;const n=Nr();let e=class extends n.Readable{constructor(r,t){super(t),this.reader=r.getReader(),this.readerClosed=!1,this.reader.closed.then(()=>{this.readerClosed=!0}).catch(i=>{this.readerClosed=!0,this.destroy(i)})}_read(){this.reader.read().then(r=>this.push(r.done?null:r.value)).catch(r=>this.destroy(r))}destroy(r){return this.readerClosed||this.reader.cancel(r).then().catch(()=>{}),super.destroy(r)}};uh.ReadableFromWeb=e;function u(a,r){return new e(a,r)}return uh.readableFromWeb=u,uh}var Oce;function UTe(){return Oce||(Oce=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.readableFromWeb=void 0;var e=jje();Object.defineProperty(n,"readableFromWeb",{enumerable:!0,get:function(){return e.readableFromWeb}})})(wC)),wC}var SC,xce;function QTe(){if(xce)return SC;xce=1;const n=e=>e!==null&&typeof e=="object"&&typeof e.pipe=="function";return n.writable=e=>n(e)&&e.writable!==!1&&typeof e._write=="function"&&typeof e._writableState=="object",n.readable=e=>n(e)&&e.readable!==!1&&typeof e._read=="function"&&typeof e._readableState=="object",n.duplex=e=>n.writable(e)&&n.readable(e),n.transform=e=>n.duplex(e)&&typeof e._transform=="function",SC=n,SC}var EC={exports:{}},Rce;function Mje(){return Rce||(Rce=1,(function(n){n.exports=e,n.exports.WEBSTREAM_SUPPORT=typeof ReadableStream<"u";function e(u){if(!n.exports.WEBSTREAM_SUPPORT)throw new Error("No web ReadableStream support");var a=!1,r={};function t(l){r.data=c,r.end=c,r.end=d,r.close=d,r.error=d;for(var s in r)u.on(s,r[s]);u.pause();function c(f){a||(l.enqueue(f),u.pause())}function d(f){if(!a){a=!0;for(var p in r)u.removeListener(p,r[p]);f?l.error(f):l.close()}}}function i(){a||u.resume()}function o(){a=!0;for(var l in r)u.removeListener(l,r[l]);u.push(null),u.pause(),u.destroy?u.destroy():u.close&&u.close()}return new ReadableStream({start:t,pull:i,cancel:o})}})(EC)),EC.exports}var Nce;function HTe(){if(Nce)return TE;Nce=1,Object.defineProperty(TE,"__esModule",{value:!0}),TE.ActorHttp=void 0;const n=De(),e=UTe(),u=QTe(),a=Mje();let r=class VTe extends n.Actor{constructor(i){super(i)}static toNodeReadable(i){return u(i)||i===null?i:(0,e.readableFromWeb)(i)}static toWebReadableStream(i){return a(i)}static headersToHash(i){const o={};return i.forEach((l,s)=>{o[s]=l}),o}static getInputUrl(i){return new URL(i instanceof Request?i.url:i)}static createUserAgent(i,o){if(!VTe.isBrowser()){const l=[`Comunica/${o.split(".")[0]}.0`,`${i}/${o}`];return typeof globalThis.navigator=="object"&&typeof globalThis.navigator.userAgent=="string"?l.push(globalThis.navigator.userAgent):typeof globalThis.process=="object"&&typeof globalThis.process.versions=="object"&&typeof globalThis.process.versions.node=="string"&&l.push(`Node.js/${globalThis.process.versions.node.split(".")[0]}`),typeof globalThis.process=="object"&&typeof globalThis.process.platform=="string"&&typeof globalThis.process.arch=="string"&&l.splice(1,0,`(${globalThis.process.platform}; ${globalThis.process.arch})`),l.join(" ")}}static isBrowser(){return typeof globalThis.window=="object"&&typeof globalThis.window.document=="object"||typeof globalThis.importScripts=="function"}};return TE.ActorHttp=r,TE}var wE={},Ice;function Cje(){if(Ice)return wE;Ice=1,Object.defineProperty(wE,"__esModule",{value:!0}),wE.validateAndCloseHttpResponse=void 0;const n=R1(),e=HTe();async function u(a,r){if(r.status>=400){let t="empty response";if(r.body){const i=e.ActorHttp.toNodeReadable(r.body);t=await(0,n.stringify)(i)}throw new Error(`Could not update ${a} (HTTP status ${r.status}):
${t}`)}await r.body?.cancel()}return wE.validateAndCloseHttpResponse=u,wE}var Dce;function sc(){return Dce||(Dce=1,(function(n){var e=ih&&ih.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=ih&&ih.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(HTe(),n),u(Cje(),n)})(ih)),ih}const Lje="4.5.0",qje={version:Lje};var SE={},Fce;function Bje(){if(Fce)return SE;Fce=1,Object.defineProperty(SE,"__esModule",{value:!0}),SE.FetchInitPreprocessor=void 0;class n{async handle(u){if(u.body&&typeof u.body!="string"&&"getReader"in u.body){const a=u.body.getReader(),r=[];for(;;){const{done:t,value:i}=await a.read();if(t)break;r.push(i)}u.body=r.join("")}return{...u,keepalive:!u.body}}}return SE.FetchInitPreprocessor=n,SE}var Pce;function Uje(){if(Pce)return _E;Pce=1,Object.defineProperty(_E,"__esModule",{value:!0}),_E.ActorHttpFetch=void 0;const n=sc(),e=lt(),u=De(),a=qje,r=Bje();let t=class m7 extends n.ActorHttp{constructor(o){super(o),this.fetchInitPreprocessor=new r.FetchInitPreprocessor(o.agentOptions)}async test(o){return(0,u.passTest)({time:Number.POSITIVE_INFINITY})}async run(o){const l=this.prepareRequestHeaders(o),s={method:"GET",...o.init,headers:l};this.logInfo(o.context,`Requesting ${n.ActorHttp.getInputUrl(o.input).href}`,()=>({headers:n.ActorHttp.headersToHash(l),method:s.method})),o.context.has(e.KeysHttp.fetch)&&(s.headers=n.ActorHttp.headersToHash(l)),o.context.get(e.KeysHttp.includeCredentials)&&(s.credentials="include");const c=o.context.get(e.KeysHttp.httpTimeout),d=o.context.get(e.KeysHttp.httpBodyTimeout),f=o.context.get(e.KeysHttp.fetch)??fetch,p=await this.fetchInitPreprocessor.handle(s);let h,g;if(c){const m=new AbortController;p.signal=m.signal,h=()=>m.abort(new Error(`Fetch timed out for ${n.ActorHttp.getInputUrl(o.input).href} after ${c} ms`)),g=setTimeout(()=>h(),c)}const _=await f(o.input,p);return c&&(!d||!_.body)&&clearTimeout(g),_}prepareRequestHeaders(o){const l=new Headers(o.init?.headers);n.ActorHttp.isBrowser()?l.delete("user-agent"):l.has("user-agent")||l.set("user-agent",m7.userAgent);const s=o.context.get(e.KeysHttp.auth);return s&&l.set("Authorization",`Basic ${m7.stringToBase64(s)}`),l}static stringToBase64(o){const l=new TextEncoder().encode(o),s=Array.from(l,c=>String.fromCodePoint(c)).join("");return btoa(s)}};return _E.ActorHttpFetch=t,t.userAgent=n.ActorHttp.createUserAgent("ActorHttpFetch",a.version),_E}var jce;function CQ(){return jce||(jce=1,(function(n){var e=ah&&ah.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=ah&&ah.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(Uje(),n)})(ah)),ah}var oh={},EE={},Mce;function Qje(){if(Mce)return EE;Mce=1,Object.defineProperty(EE,"__esModule",{value:!0}),EE.ActorQueryOperationSource=void 0;const n=qr(),e=lt(),u=De(),a=xa(),r=er(),t=Qt();let i=class extends n.ActorQueryOperation{constructor(l){super(l)}async test(l){return(0,r.getOperationSource)(l.operation)?(0,u.passTest)({httpRequests:1}):(0,u.failTest)(`Actor ${this.name} requires an operation with source annotation.`)}async run(l){const s=l.context.get(e.KeysInitQuery.physicalQueryPlanLogger);s&&(s.logOperation(l.operation.type,void 0,l.operation,l.context.get(e.KeysInitQuery.physicalQueryPlanNode),this.name,{}),l.context=l.context.set(e.KeysInitQuery.physicalQueryPlanNode,l.operation));const c=(0,r.getOperationSource)(l.operation),d=c.context?l.context.merge(c.context):l.context;let f=!1;if(t.Util.recurseOperation(l.operation,{construct(){return f=!0,!1}}),f){const g=c.source.queryQuads(l.operation,d),_=(0,a.getMetadataQuads)(g);return{type:"quads",quadStream:g,metadata:_}}switch(l.operation.type){case t.Algebra.types.ASK:return{type:"boolean",execute:()=>c.source.queryBoolean(l.operation,d)};case t.Algebra.types.COMPOSITE_UPDATE:case t.Algebra.types.DELETE_INSERT:case t.Algebra.types.LOAD:case t.Algebra.types.CLEAR:case t.Algebra.types.CREATE:case t.Algebra.types.DROP:case t.Algebra.types.ADD:case t.Algebra.types.MOVE:case t.Algebra.types.COPY:return{type:"void",execute:()=>c.source.queryVoid(l.operation,d)}}const p=c.source.queryBindings(l.operation,d),h=(0,a.getMetadataBindings)(p);return{type:"bindings",bindingsStream:p,metadata:h}}};return EE.ActorQueryOperationSource=i,EE}var Cce;function LQ(){return Cce||(Cce=1,(function(n){var e=oh&&oh.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=oh&&oh.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(Qje(),n)})(oh)),oh}var sh={},AE={},Lce;function Vje(){if(Lce)return AE;Lce=1,Object.defineProperty(AE,"__esModule",{value:!0}),AE.MediatorJoinCoefficientsFixed=void 0;const n=lt(),e=De();let u=class extends e.Mediator{constructor(r){super(r)}async mediateWith(r,t){const i=[],o=t.map(({reply:g})=>g),l=(await Promise.all(o)).map(g=>{if(g.isFailed()){i.push(g.getFailMessage());return}return{value:g.get(),sideData:g.getSideData()}});let s=l.map(g=>{if(g)return g.value.iterations*this.cpuWeight+g.value.persistedItems*this.memoryWeight+g.value.blockingItems*this.timeWeight+g.value.requestTime*this.ioWeight});const c=Math.max(...s.filter(g=>g!==void 0)),d=r.context.get(n.KeysQueryOperation.limitIndicator);d&&(s=s.map((g,_)=>g!==void 0&&(l[_]?.value).blockingItems>0&&(l[_]?.value).iterations>d?g+c:g));let f=-1,p=Number.POSITIVE_INFINITY;for(const[g,_]of s.entries())_!==void 0&&(f===-1||_<p)&&(f=g,p=_);if(f<0)return(0,e.failTest)(this.constructFailureMessage(r,i));const h=t[f].actor;return h.includeInLogs&&e.Actor.getContextLogger(r.context)?.debug(`Determined physical join operator '${h.logicalType}-${h.physicalName}'`,{entries:r.entries.length,variables:await Promise.all(r.entries.map(async g=>(await g.output.metadata()).variables.map(_=>_.variable.value))),costs:Object.fromEntries(s.map((g,_)=>[`${t[_].actor.logicalType}-${t[_].actor.physicalName}`,g]).filter(g=>g[1]!==void 0)),coefficients:Object.fromEntries(l.map((g,_)=>[`${t[_].actor.logicalType}-${t[_].actor.physicalName}`,g?.value]).filter(g=>g[1]!==void 0))}),(0,e.passTestWithSideData)(h,l[f].sideData)}};return AE.MediatorJoinCoefficientsFixed=u,AE}var qce;function qQ(){return qce||(qce=1,(function(n){var e=sh&&sh.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=sh&&sh.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(Vje(),n)})(sh)),sh}var ch={},OE={},Bce;function kTe(){if(Bce)return OE;Bce=1,Object.defineProperty(OE,"__esModule",{value:!0}),OE.ActorHttpInvalidate=void 0;const n=De();let e=class extends n.Actor{constructor(a){super(a)}};return OE.ActorHttpInvalidate=e,OE}var xE={},Uce;function Hje(){if(Uce)return xE;Uce=1,Object.defineProperty(xE,"__esModule",{value:!0}),xE.ActorHttpInvalidateListenable=void 0;const n=De(),e=kTe();let u=class extends e.ActorHttpInvalidate{constructor(r){super(r),this.invalidateListeners=[],this.invalidateListeners=[]}addInvalidateListener(r){this.invalidateListeners.push(r)}async test(r){return(0,n.passTestVoid)()}async run(r){for(const t of this.invalidateListeners)t(r);return{}}};return xE.ActorHttpInvalidateListenable=u,xE}var Qce;function Sa(){return Qce||(Qce=1,(function(n){var e=ch&&ch.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=ch&&ch.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(kTe(),n),u(Hje(),n)})(ch)),ch}var lh={},RE={},Vce;function kje(){if(Vce)return RE;Vce=1,Object.defineProperty(RE,"__esModule",{value:!0}),RE.MediatorAll=void 0;const n=De();let e=class extends n.Mediator{constructor(a){super(a)}async mediate(a){const r=[];let t;try{t=this.publish(a)}catch{t=[]}for(const o of t){const l=await o.reply;l.isPassed()&&r.push({actor:o.actor,sideData:l.getSideData()})}return(await Promise.all(r.map(o=>o.actor.runObservable(a,o.sideData))))[0]}async mediateWith(){throw new Error("Unsupported operation: MediatorAll#mediateWith")}};return RE.MediatorAll=e,RE}var Hce;function BQ(){return Hce||(Hce=1,(function(n){var e=lh&&lh.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=lh&&lh.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(kje(),n)})(lh)),lh}var dh={},NE={},kce;function zje(){if(kce)return NE;kce=1,Object.defineProperty(NE,"__esModule",{value:!0}),NE.ActorRdfMetadataExtractTraverse=void 0;const n=oc(),e=De();let u=class extends n.ActorRdfMetadataExtract{constructor(r){super(r)}async test(r){return(0,e.passTestVoid)()}async run(r){const t=await this.mediatorExtractLinks.mediate(r);return{metadata:{traverse:t.links,traverseConditional:t.linksConditional}}}};return NE.ActorRdfMetadataExtractTraverse=u,NE}var zce;function UQ(){return zce||(zce=1,(function(n){var e=dh&&dh.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=dh&&dh.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(zje(),n)})(dh)),dh}var fh={},IE={},ph={},DE={},hh={},FE={},Gce;function Gje(){if(Gce)return FE;Gce=1,Object.defineProperty(FE,"__esModule",{value:!0}),FE.ChunkedIterator=void 0;const n=Gt();let e=class extends n.TransformIterator{constructor(a,r,t){super(a,t),this.chunk=[],this.blockSize=r}consumeChunkAsIterator(){const a=new n.ArrayIterator(this.chunk,{autoStart:!1});return this.chunk=[],a}_transform(a,r,t){this.chunk.push(a),this.chunk.length>=this.blockSize&&t(this.consumeChunkAsIterator()),r()}_flush(a){this.chunk.length>0&&this._push(this.consumeChunkAsIterator()),super._flush(a)}};return FE.ChunkedIterator=e,FE}var PE={},$ce;function $je(){if($ce)return PE;$ce=1,Object.defineProperty(PE,"__esModule",{value:!0}),PE.ClosableIterator=void 0;const n=Gt();let e=class extends n.AsyncIterator{constructor(i,o){super(),this.onClose=o.onClose,this._source=i,this._source[n.DESTINATION]=this,this._source.on("end",r),this._source.on("error",a),this._source.on("readable",u),this.readable=this._source.readable}read(){const i=this._source.read();return i||(this.readable=!1,this._source.done&&this.close()),i}_end(i){this.onClose(),this._source.removeListener("end",r),this._source.removeListener("error",a),this._source.removeListener("readable",u),delete this._source[n.DESTINATION],this._source.destroy(),super._end(i)}};PE.ClosableIterator=e;function u(){this[n.DESTINATION].readable=!0}function a(t){this[n.DESTINATION].emit("error",t)}function r(){this[n.DESTINATION].close()}return PE}var jE={},Xce;function Xje(){if(Xce)return jE;Xce=1,Object.defineProperty(jE,"__esModule",{value:!0}),jE.ClosableTransformIterator=void 0;const n=Gt();let e=class extends n.TransformIterator{constructor(a,r){super(a,r),this.onClose=r.onClose}_end(a){this.onClose(),super._end(a)}};return jE.ClosableTransformIterator=e,jE}var ME={},Kce;function Kje(){if(Kce)return ME;Kce=1,Object.defineProperty(ME,"__esModule",{value:!0}),ME.instrumentIterator=void 0;function n(u){const a={count:0,timeSelf:0,timeLife:0};return e(u,a,!0),new Promise(r=>{u.on("end",()=>{r(a)})})}ME.instrumentIterator=n;function e(u,a,r){if(!("_profileInstrumented"in u)){if(u._profileInstrumented=!0,"_read"in u){const i=u._read;u._read=(o,l)=>{const s=performance.now();i.call(u,o,()=>{a.timeSelf+=performance.now()-s,l()})}}const t=u.read;if(u.read=()=>{const i=performance.now(),o=t.call(u);return r&&o&&a.count++,a.timeSelf+=performance.now()-i,o},r){const i=performance.now();u.on("end",()=>{a.timeLife=performance.now()-i})}"_source"in u&&e(u._source,a,!1)}}return ME}var Jce;function Eb(){return Jce||(Jce=1,(function(n){var e=hh&&hh.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=hh&&hh.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(Gje(),n),u($je(),n),u(Xje(),n),u(Kje(),n)})(hh)),hh}var Wce;function Jje(){if(Wce)return DE;Wce=1,Object.defineProperty(DE,"__esModule",{value:!0}),DE.ActorRdfJoin=void 0;const n=lt(),e=De(),u=Eb(),a=xa();let r=class Wc extends e.Actor{constructor(i,o){super(i),this.includeInLogs=!0,this.logicalType=o.logicalType,this.physicalName=o.physicalName,this.limitEntries=o.limitEntries??Number.POSITIVE_INFINITY,this.limitEntriesMin=o.limitEntriesMin??!1,this.canHandleUndefs=o.canHandleUndefs??!1,this.isLeaf=o.isLeaf??!0,this.requiresVariableOverlap=o.requiresVariableOverlap??!1,this.canHandleOperationRequired=o.canHandleOperationRequired??!1}static overlappingVariables(i){const o={};for(const l of i)for(const s of l.variables){o[s.variable.value]||(o[s.variable.value]={variable:s.variable,canBeUndef:s.canBeUndef,occurrences:0});const c=o[s.variable.value];c.canBeUndef=c.canBeUndef||s.canBeUndef,c.occurrences++}return Object.values(o).filter(l=>l.occurrences===i.length).map(l=>({variable:l.variable,canBeUndef:l.canBeUndef}))}static joinVariables(i,o,l=!1){const s={};let c=!0;for(const d of o){for(const f of d.variables)s[f.variable.value]=s[f.variable.value]||f.canBeUndef||!c&&l&&!(f.variable.value in s);c=!1}return Object.entries(s).map(([d,f])=>({variable:i.variable(d),canBeUndef:f}))}static joinBindings(...i){if(i.length===0)return null;if(i.length===1)return i[0];let o=i[0];for(const l of i.slice(1)){const s=o.merge(l);if(!s)return null;o=s}return o}static getCardinality(i){return i.cardinality}static async getMetadatas(i){return await Promise.all(i.map(o=>o.output.metadata()))}static async getEntriesWithMetadatas(i){const o=await Wc.getMetadatas(i);return i.map((l,s)=>({...l,metadata:o[s]}))}static getRequestInitialTimes(i){return i.map(o=>o.pageSize?0:o.requestTime??0)}static getRequestItemTimes(i){return i.map(o=>o.pageSize?(o.requestTime??0)/o.pageSize:0)}constructState(i){const o=new a.MetadataValidationState,l=()=>o.invalidate();for(const s of i)s.state.addInvalidateListener(l);return o}async constructResultMetadata(i,o,l,s={},c=!1){let d;if(s.cardinality)d=s.cardinality;else{let f=!1;d=o.reduce((p,h)=>{const g=Wc.getCardinality(h);return g.value===0&&(f=!0),{type:g.type==="estimate"?"estimate":p.type,value:p.value*(c?Math.max(1,g.value):g.value)}},{type:"exact",value:1}),(!f||c)&&(d.value*=(await this.mediatorJoinSelectivity.mediate({entries:i,context:l})).selectivity,d.value===0&&(d.value=Number.MIN_VALUE))}return{state:this.constructState(o),...s,cardinality:{type:d.type,value:d.value},variables:Wc.joinVariables(l.getSafe(n.KeysInitQuery.dataFactory),o,c)}}static async sortJoinEntries(i,o,l){if(o.some(f=>f.metadata.variables.some(p=>p.canBeUndef)))return(0,e.passTest)(o);const c={};for(const f of o)for(const p of f.metadata.variables){let h=c[p.variable.value];h||(h=0),c[p.variable.value]=++h}const d=[];for(const[f,p]of Object.entries(c))p>=2&&d.push(f);return d.length===0?(0,e.failTest)("Bind join can only join entries with at least one common variable"):(0,e.passTest)((await i.mediate({entries:o,context:l})).entries)}async test(i){if(i.type!==this.logicalType)return(0,e.failTest)(`${this.name} can only handle logical joins of type '${this.logicalType}', while '${i.type}' was given.`);if(i.entries.length<=1)return(0,e.failTest)(`${this.name} requires at least two join entries.`);const o=i.entries.some(c=>c.operationRequired);if(!this.canHandleOperationRequired&&o)return(0,e.failTest)(`${this.name} does not work with operationRequired.`);if(this.limitEntriesMin?i.entries.length<this.limitEntries:i.entries.length>this.limitEntries)return(0,e.failTest)(`${this.name} requires ${this.limitEntries} join entries at ${this.limitEntriesMin?"least":"most"}. The input contained ${i.entries.length}.`);for(const c of i.entries)if(c.output.type!=="bindings")return(0,e.failTest)(`Invalid type of a join entry: Expected 'bindings' but got '${c.output.type}'`);const l=await Wc.getMetadatas(i.entries);let s;return!this.canHandleUndefs&&(s=Wc.overlappingVariables(l),s.some(c=>c.canBeUndef))?(0,e.failTest)(`Actor ${this.name} can not join streams containing undefs`):this.requiresVariableOverlap&&(s??Wc.overlappingVariables(l)).length===0&&!o?(0,e.failTest)(`Actor ${this.name} can only join entries with at least one common variable`):await this.getJoinCoefficients(i,{metadatas:l})}async run(i,o){let l;i.context.has(n.KeysInitQuery.physicalQueryPlanLogger)&&(l=i.context.get(n.KeysInitQuery.physicalQueryPlanNode),i.context=i.context.set(n.KeysInitQuery.physicalQueryPlanNode,i));const s=i.context.get(n.KeysInitQuery.physicalQueryPlanLogger);let c;this.includeInLogs&&s&&(c={},s.stashChildren(l,p=>p.logicalOperator.startsWith("join")),s.logOperation(`join-${this.logicalType}`,this.physicalName,i,l,this.name,c));const{result:d,physicalPlanMetadata:f}=await this.getOutput(i,o);if(c){(0,u.instrumentIterator)(d.bindingsStream).then(h=>{s.appendMetadata(i,{cardinalityReal:h.count,timeSelf:h.timeSelf,timeLife:h.timeLife})}),Object.assign(c,f);const p=o.metadatas.map(Wc.getCardinality);if(c.cardinalities=p,c.joinCoefficients=(await this.getJoinCoefficients(i,o)).getOrThrow(),this.isLeaf)for(let h=0;h<i.entries.length;h++){const g=i.entries[h];s.unstashChild(g.operation,i),s.appendMetadata(g.operation,{cardinality:p[h]})}}return d.metadata=(0,a.cachifyMetadata)(d.metadata),d}};return DE.ActorRdfJoin=r,DE}var Yce;function ki(){return Yce||(Yce=1,(function(n){var e=ph&&ph.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=ph&&ph.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(Jje(),n)})(ph)),ph}var Zce;function Wje(){if(Zce)return IE;Zce=1,Object.defineProperty(IE,"__esModule",{value:!0}),IE.ActorRdfJoinSingle=void 0;const n=ki(),e=De();let u=class extends n.ActorRdfJoin{constructor(r){super(r,{logicalType:"inner",physicalName:"single",limitEntries:1}),this.includeInLogs=!1}async test(r){return r.entries.length!==1?(0,e.failTest)(`Actor ${this.name} can only join a single entry`):await this.getJoinCoefficients(r,void 0)}async getOutput(r){return{result:r.entries[0].output}}async getJoinCoefficients(r,t){return(0,e.passTestWithSideData)({iterations:0,persistedItems:0,blockingItems:0,requestTime:0},t)}};return IE.ActorRdfJoinSingle=u,IE}var ele;function QQ(){return ele||(ele=1,(function(n){var e=fh&&fh.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=fh&&fh.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(Wje(),n)})(fh)),fh}var yh={},CE={},AC,tle;function Yje(){if(tle)return AC;tle=1;let n=Gt(),e=n.MultiTransformIterator,u=n.SimpleTransformIterator;class a extends e{constructor(t,i,o,l){super(t,l),this.funRight=i,this.funJoin=o}_createTransformer(t){return new u(this.funRight(t),{transform:(i,o,l)=>{let s=this.funJoin(t,i);s!==null&&l(s),o()}})}}return AC=a,AC}var OC,rle;function Zje(){if(rle)return OC;rle=1;let n=Gt().AsyncIterator;class e extends n{constructor(a,r,t,i){super(),this.addedDataListener=!1,this.left=a,this.right=r,this.funHash=t,this.funJoin=i,this.leftMap=new Map,this.match=null,this.matches=[],this.matchIdx=0,this.left.on("error",l=>this.destroy(l)),this.right.on("error",l=>this.destroy(l)),this.readable=!1,this.left.on("end",o.bind(this));function o(){this.readable=!0,this.right.on("readable",()=>this.readable=!0),this.right.on("end",()=>{this.hasResults()||this._end()})}this.on("newListener",l=>{l==="data"&&this._addDataListenerIfNeeded()}),this.left.readable&&this._addDataListenerIfNeeded(),this.left.on("readable",()=>this._addDataListenerIfNeeded())}hasResults(){return!this.right.ended||this.matchIdx<this.matches.length}_end(){super._end(),this.left.destroy(),this.right.destroy()}read(){for(this._addDataListenerIfNeeded();;){if(this.ended||!this.readable)return null;for(;this.matchIdx<this.matches.length;){let r=this.matches[this.matchIdx++],t=this.funJoin(r,this.match);if(t!==null)return t}if(this.hasResults()||this._end(),this.match=this.right.read(),this.match===null)return this.readable=!1,null;let a=this.funHash(this.match);this.matches=this.leftMap.get(a)||[],this.matchIdx=0}}_addDataListenerIfNeeded(){this.addedDataListener||(this.addedDataListener=!0,this._addDataListener())}_addDataListener(){this.left.on("data",a.bind(this));function a(r){let t=this.funHash(r),i=this.leftMap.get(t);i||(i=[],this.leftMap.set(t,i)),i.push(r)}}}return OC=e,OC}var xC,nle;function eMe(){if(nle)return xC;nle=1;const{MultiTransformIterator:n,SimpleTransformIterator:e,scheduleTask:u}=Gt();class a extends n{constructor(t,i,o,l){super(t,l),this.right=i,this.funJoin=o,this.on("end",()=>this.right.close())}_end(){super._end(),u(()=>this.right.destroy())}_createTransformer(t){return new e(this.right.clone(),{transform:(i,o,l)=>{let s=this.funJoin(t,i);s!==null&&l(s),o()}})}}return xC=a,xC}var RC,ale;function tMe(){if(ale)return RC;ale=1;let n=Gt().AsyncIterator;class e extends n{constructor(a,r,t,i){super(),this.left=a,this.right=r,this.funHash=t,this.funJoin=i,this.usedLeft=!1,this.leftMap=new Map,this.rightMap=new Map,this.on("end",()=>this._cleanup()),this.match=null,this.matches=[],this.matchIdx=0,(this.left.readable||this.right.readable)&&(this.readable=!0),this.left.on("error",o=>this.destroy(o)),this.right.on("error",o=>this.destroy(o)),this.left.on("readable",()=>this.readable=!0),this.right.on("readable",()=>this.readable=!0),this.left.on("end",()=>{this.hasResults()||this._end()}),this.right.on("end",()=>{this.hasResults()||this._end()})}hasResults(){return!this.left.ended||!this.right.ended||!!this.matches&&this.matchIdx<this.matches.length}_cleanup(){this.leftMap=null,this.rightMap=null,this.matches=null}_end(){super._end(),this.left.destroy(),this.right.destroy()}read(){for(;;){if(this.ended)return null;for(;this.matchIdx<this.matches.length;){let t=this.matches[this.matchIdx++],i=this.usedLeft?this.funJoin(this.match,t):this.funJoin(t,this.match);if(i!==null)return i}this.hasResults()||this._end();let a=null;for(let t=0;t<2&&(a=this.usedLeft?this.right.read():this.left.read(),this.usedLeft=!this.usedLeft,a===null);++t);if(this.done||a===null)return this.readable=!1,null;let r=this.funHash(a);if(this.usedLeft&&this.right.done)this.leftMap=null;else if(this.left.done)this.rightMap=null;else{let t=this.usedLeft?this.leftMap:this.rightMap;t.has(r)||t.set(r,[]);let i=t.get(r);i||(i=[],t.set(r,i)),i.push(a)}this.match=a,this.matches=(this.usedLeft?this.rightMap:this.leftMap).get(r)||[],this.matchIdx=0}}}return RC=e,RC}var NC,ile;function rMe(){if(ile)return NC;ile=1;let n=Gt().AsyncIterator;class e extends n{constructor(a){super(),Array.isArray(a)||(a=Array.prototype.slice.call(arguments)),this.streams=a;for(let r of a)r.on("readable",()=>this.emit("readable")),r.on("end",()=>this._removeStream(r));this.streams.length===0&&this.close(),this.idx=this.streams.length-1}_removeStream(a){let r=this.streams.indexOf(a);r<0||(this.streams.splice(r,1),this.idx>=this.streams.length&&--this.idx,this.streams.length===0&&this._end())}close(){super.close();for(let a of this.streams)a.close()}read(){for(let a=0;a<this.streams.length;++a){this.idx=(this.idx+1)%this.streams.length;let r=this.streams[this.idx].read();if(r!==null)return r}return null}}return NC=e,NC}var IC,ule;function VQ(){if(ule)return IC;ule=1;const n=Yje(),e=Zje(),u=eMe(),a=tMe(),r=rMe();return IC={DynamicNestedLoopJoin:n,HashJoin:e,NestedLoopJoin:u,SymmetricHashJoin:a,MergeStream:r},IC}var ole;function nMe(){if(ole)return CE;ole=1,Object.defineProperty(CE,"__esModule",{value:!0}),CE.ActorRdfJoinSymmetricHash=void 0;const n=ki(),e=De(),u=VQ();let a=class extends n.ActorRdfJoin{constructor(t){super(t,{logicalType:"inner",physicalName:"symmetric-hash",limitEntries:2,requiresVariableOverlap:!0})}async getOutput(t){const i=await n.ActorRdfJoin.getMetadatas(t.entries),o=n.ActorRdfJoin.overlappingVariables(i),{hashFunction:l}=await this.mediatorHashBindings.mediate({context:t.context}),s=o.map(d=>d.variable);return{result:{type:"bindings",bindingsStream:new u.SymmetricHashJoin(t.entries[0].output.bindingsStream,t.entries[1].output.bindingsStream,d=>l(d,s),n.ActorRdfJoin.joinBindings),metadata:async()=>await this.constructResultMetadata(t.entries,i,t.context)}}}async getJoinCoefficients(t,i){const{metadatas:o}=i,l=n.ActorRdfJoin.getRequestInitialTimes(o),s=n.ActorRdfJoin.getRequestItemTimes(o);return(0,e.passTestWithSideData)({iterations:o[0].cardinality.value+o[1].cardinality.value,persistedItems:o[0].cardinality.value+o[1].cardinality.value,blockingItems:0,requestTime:l[0]+o[0].cardinality.value*s[0]+l[1]+o[1].cardinality.value*s[1]},i)}};return CE.ActorRdfJoinSymmetricHash=a,CE}var sle;function HQ(){return sle||(sle=1,(function(n){var e=yh&&yh.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=yh&&yh.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(nMe(),n)})(yh)),yh}var mh={},LE={},cle;function aMe(){if(cle)return LE;cle=1,Object.defineProperty(LE,"__esModule",{value:!0}),LE.ActorRdfJoinNestedLoop=void 0;const n=ki(),e=De(),u=VQ();let a=class extends n.ActorRdfJoin{constructor(t){super(t,{logicalType:"inner",physicalName:"nested-loop",limitEntries:2,canHandleUndefs:!0})}async getOutput(t){return{result:{type:"bindings",bindingsStream:new u.NestedLoopJoin(t.entries[0].output.bindingsStream,t.entries[1].output.bindingsStream,n.ActorRdfJoin.joinBindings,{autoStart:!1}),metadata:async()=>await this.constructResultMetadata(t.entries,await n.ActorRdfJoin.getMetadatas(t.entries),t.context)}}}async getJoinCoefficients(t,i){const{metadatas:o}=i,l=n.ActorRdfJoin.getRequestInitialTimes(o),s=n.ActorRdfJoin.getRequestItemTimes(o);return(0,e.passTestWithSideData)({iterations:o[0].cardinality.value*o[1].cardinality.value,persistedItems:0,blockingItems:0,requestTime:l[0]+o[0].cardinality.value*s[0]+l[1]+o[1].cardinality.value*s[1]},i)}};return LE.ActorRdfJoinNestedLoop=a,LE}var lle;function kQ(){return lle||(lle=1,(function(n){var e=mh&&mh.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=mh&&mh.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(aMe(),n)})(mh)),mh}var bh={},qE={},gh={},BE={},vh={},dle;function zTe(){if(dle)return vh;dle=1,Object.defineProperty(vh,"__esModule",{value:!0}),vh.bindingsToCompactString=vh.bindingsToString=void 0;const n=Xt();function e(a){const r={};for(const t of a.keys())r[t.value]=(0,n.termToString)(a.get(t));return JSON.stringify(r,null,"  ")}vh.bindingsToString=e;function u(a,r){return r.map(t=>{const i=a.get(t);return i?(0,n.termToString)(i):""}).join("")}return vh.bindingsToCompactString=u,vh}var fle;function GTe(){if(fle)return BE;fle=1,Object.defineProperty(BE,"__esModule",{value:!0}),BE.Bindings=void 0;const n=De(),e=Sq,u=zTe();let a=class Pa{constructor(t,i,o){this.type="bindings",this.dataFactory=t,this.entries=i,this.contextHolder=o}has(t){return this.entries.has(typeof t=="string"?t:t.value)}get(t){return this.entries.get(typeof t=="string"?t:t.value)}set(t,i){return new Pa(this.dataFactory,this.entries.set(typeof t=="string"?t:t.value,i),this.contextHolder)}delete(t){return new Pa(this.dataFactory,this.entries.delete(typeof t=="string"?t:t.value),this.contextHolder)}keys(){return this.mapIterable(this.iteratorToIterable(this.entries.keys()),t=>this.dataFactory.variable(t))}values(){return this.iteratorToIterable(this.entries.values())}forEach(t){for(const[i,o]of this.entries.entries())t(o,this.dataFactory.variable(i))}get size(){return this.entries.size}[Symbol.iterator](){return this.mapIterable(this.iteratorToIterable(this.entries.entries()),([t,i])=>[this.dataFactory.variable(t),i])[Symbol.iterator]()}equals(t){if(!t)return!1;if(this===t)return!0;if(this.size!==t.size)return!1;for(const i of this.keys())if(!this.get(i)?.equals(t.get(i)))return!1;return!0}filter(t){return new Pa(this.dataFactory,(0,e.Map)(this.entries.filter((i,o)=>t(i,this.dataFactory.variable(o)))),this.contextHolder)}map(t){return new Pa(this.dataFactory,(0,e.Map)(this.entries.map((i,o)=>t(i,this.dataFactory.variable(o)))),this.contextHolder)}merge(t){if(this.size<t.size&&t instanceof Pa)return t.merge(this);let i=this.entries;if(t instanceof Pa)for(const[o,l]of t.entries){const s=this.entries.get(o);if(s&&!s.equals(l))return;i=i.set(o,l)}else for(const[o,l]of t){const s=this.entries.get(o.value);if(s&&!s.equals(l))return;i=i.set(o.value,l)}return this.createBindingsWithContexts(i,t)}mergeWith(t,i){if(this.size<i.size&&i instanceof Pa)return i.mergeWith(t,this);let o=this.entries;if(i instanceof Pa)for(const[l,s]of i.entries){const c=this.entries.get(l);let d;c&&!c.equals(s)?d=t(c,s,this.dataFactory.variable(l)):d=s,o=o.set(l,d)}else for(const[l,s]of i){const c=this.entries.get(l.value);let d;c&&!c.equals(s)?d=t(c,s,l):d=s,o=o.set(l.value,d)}return this.createBindingsWithContexts(o,i)}createBindingsWithContexts(t,i){if(this.contextHolder&&this.contextHolder.context){let o=this.contextHolder.context;return"contextHolder"in i&&i.contextHolder&&i.contextHolder.context&&(o=Pa.mergeContext(this.contextHolder.contextMergeHandlers,o,i.contextHolder.context)),new Pa(this.dataFactory,t,{contextMergeHandlers:this.contextHolder.contextMergeHandlers,context:o})}return new Pa(this.dataFactory,t,i.contextHolder)}static mergeContext(t,i,o){const l=[...i.keys(),...o.keys()],s={},c={},d=new Set(o.keys().map(p=>p.name)),f=i.keys().filter(p=>d.has(p.name));for(const p of l){if(c[p.name]===1)continue;c[p.name]=1;const h=f.some(g=>g.name===p.name);if(t[p.name]&&h){s[p.name]=t[p.name].run(i.get(p),o.get(p));continue}!t[p.name]&&h||(s[p.name]=i.get(p)||o.get(p))}return new n.ActionContext(s)}setContextEntry(t,i){return this.setContextEntryRaw(t,i)}setContextEntryRaw(t,i){return this.contextHolder&&this.contextHolder.context?new Pa(this.dataFactory,this.entries,{contextMergeHandlers:this.contextHolder.contextMergeHandlers,context:this.contextHolder.context.set(t,i)}):new Pa(this.dataFactory,this.entries,{contextMergeHandlers:this.contextHolder?.contextMergeHandlers??{},context:new n.ActionContext().set(t,i)})}deleteContextEntry(t){return this.deleteContextEntryRaw(t)}deleteContextEntryRaw(t){return this.contextHolder?new Pa(this.dataFactory,this.entries,{contextMergeHandlers:this.contextHolder.contextMergeHandlers,context:this.contextHolder.context?.delete(t)}):new Pa(this.dataFactory,this.entries)}getContext(){return this.contextHolder?.context}getContextEntry(t){return this.getContext()?.get(t)}toString(){return(0,u.bindingsToString)(this)}*mapIterable(t,i){for(const o of t)yield i(o)}iteratorToIterable(t){return{[Symbol.iterator]:()=>t}}};return BE.Bindings=a,BE}var UE={},ple;function iMe(){if(ple)return UE;ple=1,Object.defineProperty(UE,"__esModule",{value:!0}),UE.BindingsFactory=void 0;const n=Sq,e=GTe();let u=class $Te{constructor(r,t){this.dataFactory=r,this.contextMergeHandlers=t}static async create(r,t,i){return new $Te(i,(await r.mediate({context:t})).mergeHandlers)}bindings(r=[]){return new e.Bindings(this.dataFactory,(0,n.Map)(r.map(([t,i])=>[t.value,i])),this.contextMergeHandlers?{contextMergeHandlers:this.contextMergeHandlers}:void 0)}fromBindings(r){return this.bindings([...r])}fromRecord(r){return this.bindings(Object.entries(r).map(([t,i])=>[this.dataFactory.variable(t),i]))}};return UE.BindingsFactory=u,UE}var hle;function pn(){return hle||(hle=1,(function(n){var e=gh&&gh.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=gh&&gh.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(GTe(),n),u(iMe(),n),u(zTe(),n)})(gh)),gh}var _h={},QE={},yle;function uMe(){if(yle)return QE;yle=1,Object.defineProperty(QE,"__esModule",{value:!0}),QE.BindingsIndexDef=void 0;let n=class{constructor(u,a){this.keys=u.map(r=>r.variable),this.hashFn=a,this.index={}}put(u,a){return this.index[this.hashFn(u,this.keys)]=a}get(u){const a=this.getFirst(u);return a?[a]:[]}getFirst(u){return this.index[this.hashFn(u,this.keys)]}values(){return Object.values(this.index)}};return QE.BindingsIndexDef=n,QE}var VE={},mle;function oMe(){if(mle)return VE;mle=1,Object.defineProperty(VE,"__esModule",{value:!0}),VE.BindingsIndexUndef=void 0;let n=class{constructor(u,a,r){this.data={},this.keys=u.map(t=>t.variable),this.hashFn=a,this.allowDisjointDomains=r&&this.keys.length>0}put(u,a){if(this.allowDisjointDomains||this.isBindingsValid(u)){let r=this.data;for(let t=0;t<this.keys.length;t++){const i=this.keys[t],o=this.hashFn(u.get(i));let l=r[o];l||(l=r[o]=t===this.keys.length-1?a:{}),r=l}}return a}isBindingsValid(u){let a=!1;for(const r of this.keys)if(u.has(r)){a=!0;break}return a}get(u){return this.allowDisjointDomains||this.isBindingsValid(u)?this.getRecursive(u,this.keys,[this.data]):[]}getRecursive(u,a,r){if(a.length===0)return r;let t;[t,...a]=a;const i=[];for(const o of r){const l=this.hashFn(u?.get(t));if(l){const s=[o[l],o[""]].filter(Boolean);if(s.length===0)continue;i.push(this.getRecursive(u,a,s))}else{const s=Object.values(o);if(s.length===0)continue;i.push(this.getRecursive(u,a,s))}}return i.flat()}getFirst(u,a=!0){if(this.allowDisjointDomains||this.isBindingsValid(u))return this.getRecursiveFirst(u,this.keys,[this.data],a)}getRecursiveFirst(u,a,r,t){if(a.length===0)return r[0];let i;[i,...a]=a;for(const o of r){const l=this.hashFn(u.get(i));if(l||!t){const s=[o[l],o[""]].filter(Boolean);if(s.length===0)continue;const c=this.getRecursiveFirst(u,a,s,t);if(c)return c}else{const s=Object.values(o);if(s.length===0)continue;const c=this.getRecursiveFirst(u,a,s,t);if(c)return c}}}values(){return this.keys.length===0?[]:this.getRecursive(void 0,this.keys,[this.data])}};return VE.BindingsIndexUndef=n,VE}var DC={},ble;function sMe(){return ble||(ble=1,Object.defineProperty(DC,"__esModule",{value:!0})),DC}var gle;function XTe(){return gle||(gle=1,(function(n){var e=_h&&_h.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=_h&&_h.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(uMe(),n),u(oMe(),n),u(sMe(),n)})(_h)),_h}var vle;function cMe(){if(vle)return qE;vle=1,Object.defineProperty(qE,"__esModule",{value:!0}),qE.ActorRdfJoinMinusHash=void 0;const n=ki(),e=De(),u=pn(),a=XTe(),r=Eb(),t=Xt();let i=class KTe extends n.ActorRdfJoin{constructor(l){super(l,{logicalType:"minus",physicalName:`hash-${l.canHandleUndefs?"undef":"def"}`,limitEntries:2,canHandleUndefs:l.canHandleUndefs})}static constructIndex(l,s){return l?new a.BindingsIndexUndef(s,c=>c&&c.termType!=="Variable"?(0,t.termToString)(c):"",!1):new a.BindingsIndexDef(s,u.bindingsToCompactString)}async getOutput(l){const s=l.entries[1].output,c=l.entries[0].output,d=await n.ActorRdfJoin.getMetadatas(l.entries);let f=n.ActorRdfJoin.overlappingVariables(d);if(l.graphVariableFromParentScope&&(f=f.filter(h=>!h.variable.equals(l.graphVariableFromParentScope))),f.length===0)return s.bindingsStream.destroy(),{result:c};const p=new r.ClosableTransformIterator(async()=>{const h=KTe.constructIndex(this.canHandleUndefs,f);return await new Promise(g=>{s.bindingsStream.on("data",_=>h.put(_,!0)),s.bindingsStream.on("end",g),s.bindingsStream.on("error",_=>p.emit("error",_))}),c.bindingsStream.filter(g=>!h.getFirst(g,!0))},{autoStart:!1,onClose(){s.bindingsStream.destroy(),c.bindingsStream.destroy()}});return{result:{type:"bindings",bindingsStream:p,metadata:c.metadata}}}async getJoinCoefficients(l,s){const{metadatas:c}=s,d=n.ActorRdfJoin.getRequestInitialTimes(c),f=n.ActorRdfJoin.getRequestItemTimes(c);let p=c[0].cardinality.value+c[1].cardinality.value;return this.canHandleUndefs||(p*=.8),(0,e.passTestWithSideData)({iterations:p,persistedItems:c[0].cardinality.value,blockingItems:c[0].cardinality.value,requestTime:d[0]+c[0].cardinality.value*f[0]+d[1]+c[1].cardinality.value*f[1]},s)}};return qE.ActorRdfJoinMinusHash=i,qE}var _le;function s1(){return _le||(_le=1,(function(n){var e=bh&&bh.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=bh&&bh.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(cMe(),n)})(bh)),bh}var Th={},HE={},Tle;function lMe(){if(Tle)return HE;Tle=1,Object.defineProperty(HE,"__esModule",{value:!0}),HE.ActorRdfJoinOptionalHash=void 0;const n=ki(),e=De(),u=pn(),a=XTe(),r=Eb(),t=Gt(),i=Xt();let o=class b7 extends n.ActorRdfJoin{constructor(s){super(s,{logicalType:"optional",physicalName:`hash-${s.canHandleUndefs?"undef":"def"}-${s.blocking?"blocking":"nonblocking"}`,limitEntries:2,canHandleUndefs:s.canHandleUndefs,requiresVariableOverlap:!0})}static constructIndex(s,c){return s?new a.BindingsIndexUndef(c,d=>d&&d.termType!=="Variable"?(0,i.termToString)(d):"",!0):new a.BindingsIndexDef(c,u.bindingsToCompactString)}async getOutput(s){const c=s.entries[1].output,d=s.entries[0].output,f=await n.ActorRdfJoin.getMetadatas(s.entries),p=n.ActorRdfJoin.overlappingVariables(f);let h;return this.blocking?h=new r.ClosableTransformIterator(async()=>{const g=b7.constructIndex(this.canHandleUndefs,p);return await new Promise(_=>{c.bindingsStream.on("data",m=>{(g.getFirst(m,!0)??g.put(m,[])).push(m)}),c.bindingsStream.on("end",_),c.bindingsStream.on("error",m=>{h.emit("error",m)})}),new t.MultiTransformIterator(d.bindingsStream,{multiTransform:_=>new t.ArrayIterator(g.get(_).flat().map(m=>n.ActorRdfJoin.joinBindings(_,m)).filter(m=>m!==null),{autoStart:!1}),optional:!0,autoStart:!1})},{autoStart:!1,onClose(){c.bindingsStream.destroy(),d.bindingsStream.destroy()}}):h=new r.ClosableTransformIterator(async()=>{const g=b7.constructIndex(this.canHandleUndefs,p);let _=!0;return c.bindingsStream.on("data",m=>{(g.getFirst(m,!0)??g.put(m,new t.BufferedIterator({autoStart:!1})))._push(m)}),c.bindingsStream.on("end",()=>{for(const m of g.values())m.close();_=!1}),c.bindingsStream.on("error",m=>{h.emit("error",m)}),new t.MultiTransformIterator(d.bindingsStream,{multiTransform:m=>{let w=g.get(m);return w.length===0&&(_?w=[g.put(m,new t.BufferedIterator({autoStart:!1}))]:w=[]),new t.UnionIterator(w.map(E=>E.clone()),{autoStart:!1}).map(E=>n.ActorRdfJoin.joinBindings(m,E))},optional:!0,autoStart:!1})},{autoStart:!1,onClose(){c.bindingsStream.destroy(),d.bindingsStream.destroy()}}),{result:{type:"bindings",bindingsStream:h,metadata:async()=>await this.constructResultMetadata(s.entries,f,s.context,{},!0)}}}async getJoinCoefficients(s,c){const{metadatas:d}=c,f=n.ActorRdfJoin.getRequestInitialTimes(d),p=n.ActorRdfJoin.getRequestItemTimes(d);let h=d[0].cardinality.value+d[1].cardinality.value;return this.canHandleUndefs||(h*=.8),this.blocking&&(h*=.9),(0,e.passTestWithSideData)({iterations:h,persistedItems:d[0].cardinality.value,blockingItems:this.blocking?d[0].cardinality.value:0,requestTime:f[0]+d[0].cardinality.value*p[0]+f[1]+d[1].cardinality.value*p[1]},c)}};return HE.ActorRdfJoinOptionalHash=o,HE}var wle;function _u(){return wle||(wle=1,(function(n){var e=Th&&Th.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=Th&&Th.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(lMe(),n)})(Th)),Th}var wh={},kE={},Sle;function dMe(){if(Sle)return kE;Sle=1,Object.defineProperty(kE,"__esModule",{value:!0}),kE.ActorRdfJoinOptionalNestedLoop=void 0;const n=ki(),e=De(),u=VQ();let a=class extends n.ActorRdfJoin{constructor(t){super(t,{logicalType:"optional",physicalName:"nested-loop",limitEntries:2,canHandleUndefs:!0})}async getOutput(t){return{result:{type:"bindings",bindingsStream:new u.NestedLoopJoin(t.entries[0].output.bindingsStream,t.entries[1].output.bindingsStream,n.ActorRdfJoin.joinBindings,{optional:!0,autoStart:!1}),metadata:async()=>await this.constructResultMetadata(t.entries,await n.ActorRdfJoin.getMetadatas(t.entries),t.context,{},!0)}}}async getJoinCoefficients(t,i){const{metadatas:o}=i,l=n.ActorRdfJoin.getRequestInitialTimes(o),s=n.ActorRdfJoin.getRequestItemTimes(o);return(0,e.passTestWithSideData)({iterations:o[0].cardinality.value*o[1].cardinality.value,persistedItems:0,blockingItems:0,requestTime:l[0]+o[0].cardinality.value*s[0]+l[1]+o[1].cardinality.value*s[1]},i)}};return kE.ActorRdfJoinOptionalNestedLoop=a,kE}var Ele;function zQ(){return Ele||(Ele=1,(function(n){var e=wh&&wh.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=wh&&wh.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(dMe(),n)})(wh)),wh}var Sh={},zE={},Eh={},GE={},Ale;function fMe(){if(Ale)return GE;Ale=1,Object.defineProperty(GE,"__esModule",{value:!0}),GE.ActorDereferenceRdf=void 0;const n=SB();let e=class extends n.ActorDereferenceParse{constructor(a){super(a)}};return GE.ActorDereferenceRdf=e,GE}var Ole;function pMe(){return Ole||(Ole=1,(function(n){var e=Eh&&Eh.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=Eh&&Eh.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(fMe(),n)})(Eh)),Eh}var xle;function hMe(){if(xle)return zE;xle=1,Object.defineProperty(zE,"__esModule",{value:!0}),zE.ActorDereferenceRdfParse=void 0;const n=pMe();let e=class extends n.ActorDereferenceRdf{constructor(a){super(a)}async getMetadata(a){return{baseIRI:a.baseIRI??a.url}}};return zE.ActorDereferenceRdfParse=e,zE}var Rle;function GQ(){return Rle||(Rle=1,(function(n){var e=Sh&&Sh.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=Sh&&Sh.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(hMe(),n)})(Sh)),Sh}var Ah={},$E={},XE={},Nle;function yMe(){if(Nle)return XE;Nle=1,Object.defineProperty(XE,"__esModule",{value:!0}),XE.HtmlScriptListener=void 0;const n=lt(),e=Nr(),u=Xn();let a=class G6{constructor(t,i,o,l,s,c,d,f){this.textChunksJsonLd=[],this.endBarrier=1,this.passedScripts=0,this.isFinalJsonLdProcessing=!1,this.mediatorRdfParseHandle=t,this.cbQuad=i,this.cbError=o,this.cbEnd=l,this.supportedTypes=s,this.context=c.set(n.KeysRdfParseHtmlScript.processingHtmlScript,!0),this.baseIRI=d,this.headers=f,this.onlyFirstScript=c.get(n.KeysRdfParseHtmlScript.extractAllScripts)===!1;const p=this.baseIRI.indexOf("#");this.targetScriptId=p>0?this.baseIRI.slice(p+1,this.baseIRI.length):null}static newErrorCoded(t,i){const o=new Error(t);return o.code=i,o}onEnd(){--this.endBarrier===0&&(this.textChunksJsonLd.length>0?(this.handleMediaType="application/ld+json",this.textChunks=this.textChunksJsonLd,this.textChunks.push("]"),this.textChunksJsonLd=[],this.isFinalJsonLdProcessing=!0,this.endBarrier++,this.onTagClose()):(this.passedScripts===0&&this.targetScriptId&&this.cbError(G6.newErrorCoded(`Failed to find targeted script id "${this.targetScriptId}"`,"loading document failed")),this.cbEnd()),this.isFinalJsonLdProcessing=!1)}onTagClose(){if(this.handleMediaType)if(this.requiresCustomJsonLdHandling(this.handleMediaType)&&!this.isFinalJsonLdProcessing)this.handleMediaType=void 0,this.textChunks=void 0,this.onEnd();else{const t=new e.Readable({objectMode:!0});t._read=()=>{};const i=this.textChunks,o={context:this.context,handle:{metadata:{baseIRI:this.baseIRI},data:t,headers:this.headers,context:this.context},handleMediaType:this.handleMediaType};this.mediatorRdfParseHandle.mediate(o).then(({handle:l})=>{l.data.on("error",s=>this.cbError(G6.newErrorCoded(s.message,"invalid script element"))).on("data",this.cbQuad).on("end",()=>this.onEnd());for(const s of i)t.push(s);t.push(null)}).catch(l=>{this.targetScriptId?this.cbError(G6.newErrorCoded(l.message,"loading document failed")):this.onEnd()}),this.handleMediaType=void 0,this.textChunks=void 0}}onTagOpen(t,i){t==="base"&&i.href&&(this.baseIRI=(0,u.resolve)(i.href,this.baseIRI)),t==="script"&&(!this.targetScriptId||i.id===this.targetScriptId)?this.supportedTypes[i.type]?this.onlyFirstScript&&this.passedScripts>0?this.handleMediaType=void 0:(this.passedScripts++,this.handleMediaType=i.type,this.endBarrier++,this.requiresCustomJsonLdHandling(this.handleMediaType)?(this.textChunks=this.textChunksJsonLd,this.textChunks.push(this.textChunks.length===0?"[":",")):this.textChunks=[]):this.targetScriptId&&this.cbError(G6.newErrorCoded(`Targeted script "${this.targetScriptId}" does not have a supported type`,"loading document failed")):this.handleMediaType=void 0}onText(t){this.handleMediaType&&this.textChunks.push(t)}requiresCustomJsonLdHandling(t){return!this.onlyFirstScript&&!this.targetScriptId&&t==="application/ld+json"}};return XE.HtmlScriptListener=a,XE}var Ile;function mMe(){if(Ile)return $E;Ile=1,Object.defineProperty($E,"__esModule",{value:!0}),$E.ActorRdfParseHtmlScript=void 0;const n=ZB(),e=De(),u=yMe();let a=class extends n.ActorRdfParseHtml{constructor(t){super(t)}async test(t){return(0,e.passTestVoid)()}async run(t){const i=(await this.mediatorRdfParseMediatypes.mediate({context:t.context,mediaTypes:!0})).mediaTypes;return{htmlParseListener:new u.HtmlScriptListener(this.mediatorRdfParseHandle,t.emit,t.error,t.end,i,t.context,t.baseIRI,t.headers)}}};return $E.ActorRdfParseHtmlScript=a,$E}var Dle;function $Q(){return Dle||(Dle=1,(function(n){var e=Ah&&Ah.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=Ah&&Ah.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(mMe(),n)})(Ah)),Ah}var Oh={},KE={},Fle;function bMe(){if(Fle)return KE;Fle=1,Object.defineProperty(KE,"__esModule",{value:!0}),KE.ActorQueryResultSerializeRdf=void 0;const n=$o(),e=De();let u=class extends n.ActorQueryResultSerialize{constructor(r){super(r)}async testHandle(r,t,i){if(r.type!=="quads")return(0,e.failTest)(`Actor ${this.name} can only handle quad streams`);const{mediaTypes:o}=await this.mediatorMediaTypeCombiner.mediate({context:i,mediaTypes:!0});return t in o?(0,e.passTestVoid)():(0,e.failTest)(`Actor ${this.name} can not handle media type ${t}. All available types: ${Object.keys(o)}`)}async runHandle(r,t,i){return(await this.mediatorRdfSerialize.mediate({context:i,handle:{context:i,quadStream:r.quadStream},handleMediaType:t})).handle}async testMediaType(r){return(0,e.passTestVoid)()}async getMediaTypes(r){return(await this.mediatorMediaTypeCombiner.mediate({context:r,mediaTypes:!0})).mediaTypes}async testMediaTypeFormats(r){return(0,e.passTestVoid)()}async getMediaTypeFormats(r){return(await this.mediatorMediaTypeFormatCombiner.mediate({context:r,mediaTypeFormats:!0})).mediaTypeFormats}};return KE.ActorQueryResultSerializeRdf=u,KE}var Ple;function XQ(){return Ple||(Ple=1,(function(n){var e=Oh&&Oh.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=Oh&&Oh.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(bMe(),n)})(Oh)),Oh}var xh={},JE={},Rh={},WE={},jle;function gMe(){if(jle)return WE;jle=1,Object.defineProperty(WE,"__esModule",{value:!0}),WE.ActorBindingsAggregatorFactory=void 0;const n=De();let e=class extends n.Actor{constructor(a){super(a),this.mediatorExpressionEvaluatorFactory=a.mediatorExpressionEvaluatorFactory}};return WE.ActorBindingsAggregatorFactory=e,WE}var YE={},Mle;function vMe(){if(Mle)return YE;Mle=1,Object.defineProperty(YE,"__esModule",{value:!0}),YE.AggregateEvaluator=void 0;const n=lt(),e=Xe(),u=Xt();let a=class{constructor(t,i,o=!1){this.evaluator=t,this.distinct=i,this.throwError=o,this.errorOccurred=!1,this.errorOccurred=!1,this.superTypeProvider=t.context.getSafe(n.KeysExpressionEvaluator.superTypeProvider),this.termTransformer=new e.TermTransformer(this.superTypeProvider),this.variableValues=new Set}emptyValueTerm(){}emptyValue(){const t=this.emptyValueTerm();if(t===void 0&&this.throwError)throw new e.EmptyAggregateError;return t}async putBindings(t){if(!this.errorOccurred)try{const i=await this.evaluator.evaluate(t);if(!i||this.errorOccurred)return;(!this.distinct||!this.variableValues.has(u.termToString(i)))&&(this.putTerm(i),this.distinct&&this.variableValues.add(u.termToString(i)))}catch(i){this.safeThrow(i)}}async result(){if(!this.errorOccurred)return this.termResult()}safeThrow(t){if(this.throwError)throw t;this.errorOccurred=!0}termToNumericOrError(t){if(t.termType!=="Literal")throw new Error(`Term with value ${t.value} has type ${t.termType} and is not a numeric literal`);if(!e.isSubTypeOf(t.datatype.value,e.TypeAlias.SPARQL_NUMERIC,this.superTypeProvider))throw new Error(`Term datatype ${t.datatype.value} with value ${t.value} has type ${t.termType} and is not a numeric literal`);return this.termTransformer.transformLiteral(t)}};return YE.AggregateEvaluator=a,YE}var Cle;function Ua(){return Cle||(Cle=1,(function(n){var e=Rh&&Rh.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=Rh&&Rh.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(gMe(),n),u(vMe(),n)})(Rh)),Rh}var ZE={},Lle;function JTe(){if(Lle)return ZE;Lle=1,Object.defineProperty(ZE,"__esModule",{value:!0}),ZE.CountAggregator=void 0;const n=Ua(),e=Xe();let u=class extends n.AggregateEvaluator{constructor(r,t,i){super(r,t,i),this.state=void 0}emptyValueTerm(){return(0,e.typedLiteral)("0",e.TypeURL.XSD_INTEGER)}putTerm(r){this.state===void 0&&(this.state=0),this.state++}termResult(){return this.state===void 0?this.emptyValue():(0,e.typedLiteral)(String(this.state),e.TypeURL.XSD_INTEGER)}};return ZE.CountAggregator=u,ZE}var qle;function _Me(){if(qle)return JE;qle=1,Object.defineProperty(JE,"__esModule",{value:!0}),JE.ActorBindingsAggregatorFactoryCount=void 0;const n=Ua(),e=De(),u=Qt(),a=JTe();let r=class extends n.ActorBindingsAggregatorFactory{constructor(i){super(i)}async test(i){return i.expr.aggregator!=="count"||i.expr.expression.expressionType===u.Algebra.expressionTypes.WILDCARD?(0,e.failTest)("This actor only supports the 'count' aggregator without wildcard."):(0,e.passTestVoid)()}async run({context:i,expr:o}){return new a.CountAggregator(await this.mediatorExpressionEvaluatorFactory.mediate({algExpr:o.expression,context:i}),o.distinct)}};return JE.ActorBindingsAggregatorFactoryCount=r,JE}var Ble;function KQ(){return Ble||(Ble=1,(function(n){var e=xh&&xh.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=xh&&xh.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(_Me(),n),u(JTe(),n)})(xh)),xh}var Nh={},eA={},tA={},Ule;function WTe(){if(Ule)return tA;Ule=1,Object.defineProperty(tA,"__esModule",{value:!0}),tA.GroupConcatAggregator=void 0;const n=Ua(),e=Xe();let u=class extends n.AggregateEvaluator{constructor(r,t,i,o,l){super(r,t,l),this.dataFactory=i,this.state=void 0,this.lastLanguageValid=!0,this.lastLanguage=void 0,this.separator=o??" "}emptyValueTerm(){return e.typedLiteral("",e.TypeURL.XSD_STRING)}putTerm(r){this.state===void 0?(this.state=r.value,r.termType==="Literal"&&(this.lastLanguage=r.language)):(this.state+=this.separator+r.value,this.lastLanguageValid&&r.termType==="Literal"&&this.lastLanguage!==r.language&&(this.lastLanguageValid=!1,this.lastLanguage=void 0))}termResult(){return this.state===void 0?this.emptyValue():this.lastLanguageValid&&this.lastLanguage?e.langString(this.state,this.lastLanguage).toRDF(this.dataFactory):e.typedLiteral(this.state,e.TypeURL.XSD_STRING)}};return tA.GroupConcatAggregator=u,tA}var Qle;function TMe(){if(Qle)return eA;Qle=1,Object.defineProperty(eA,"__esModule",{value:!0}),eA.ActorBindingsAggregatorFactoryGroupConcat=void 0;const n=Ua(),e=lt(),u=De(),a=WTe();let r=class extends n.ActorBindingsAggregatorFactory{constructor(i){super(i)}async test(i){return i.expr.aggregator!=="group_concat"?(0,u.failTest)("This actor only supports the 'group_concat' aggregator."):(0,u.passTestVoid)()}async run({context:i,expr:o}){return new a.GroupConcatAggregator(await this.mediatorExpressionEvaluatorFactory.mediate({algExpr:o.expression,context:i}),o.distinct,i.getSafe(e.KeysInitQuery.dataFactory),o.separator)}};return eA.ActorBindingsAggregatorFactoryGroupConcat=r,eA}var Vle;function JQ(){return Vle||(Vle=1,(function(n){var e=Nh&&Nh.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=Nh&&Nh.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(TMe(),n),u(WTe(),n)})(Nh)),Nh}var Ih={},rA={},nA={},Hle;function YTe(){if(Hle)return nA;Hle=1,Object.defineProperty(nA,"__esModule",{value:!0}),nA.SampleAggregator=void 0;const n=Ua();let e=class extends n.AggregateEvaluator{constructor(a,r,t){super(a,r,t),this.state=void 0}putTerm(a){this.state===void 0&&(this.state=a)}termResult(){return this.state===void 0?this.emptyValue():this.state}};return nA.SampleAggregator=e,nA}var kle;function wMe(){if(kle)return rA;kle=1,Object.defineProperty(rA,"__esModule",{value:!0}),rA.ActorBindingsAggregatorFactorySample=void 0;const n=Ua(),e=De(),u=YTe();let a=class extends n.ActorBindingsAggregatorFactory{constructor(t){super(t)}async test(t){return t.expr.aggregator!=="sample"?(0,e.failTest)("This actor only supports the 'sample' aggregator."):(0,e.passTestVoid)()}async run({context:t,expr:i}){return new u.SampleAggregator(await this.mediatorExpressionEvaluatorFactory.mediate({algExpr:i.expression,context:t}),i.distinct)}};return rA.ActorBindingsAggregatorFactorySample=a,rA}var zle;function WQ(){return zle||(zle=1,(function(n){var e=Ih&&Ih.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=Ih&&Ih.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(wMe(),n),u(YTe(),n)})(Ih)),Ih}var Dh={},aA={},iA={},Gle;function ZTe(){if(Gle)return iA;Gle=1,Object.defineProperty(iA,"__esModule",{value:!0}),iA.WildcardCountAggregator=void 0;const n=Ua(),e=Xe(),u=Xt();let a=class extends n.AggregateEvaluator{constructor(t,i,o){super(t,i,o),this.bindingValues=new Map,this.state=void 0}putTerm(t){}async putBindings(t){this.handleDistinct(t)||(this.state===void 0&&(this.state=0),this.state+=1)}emptyValueTerm(){return(0,e.typedLiteral)("0",e.TypeURL.XSD_INTEGER)}termResult(){return this.state===void 0?this.emptyValue():(0,e.typedLiteral)(String(this.state),e.TypeURL.XSD_INTEGER)}handleDistinct(t){if(this.distinct){const i=[...t];i.sort((d,f)=>d[0].value.localeCompare(f[0].value));const o=i.map(([d])=>d.value).join(","),l=i.map(([,d])=>u.termToString(d)).join(","),s=this.bindingValues.get(o),c=s!==void 0&&s.has(l);return s||this.bindingValues.set(o,new Set),this.bindingValues.get(o).add(l),c}return!1}};return iA.WildcardCountAggregator=a,iA}var $le;function SMe(){if($le)return aA;$le=1,Object.defineProperty(aA,"__esModule",{value:!0}),aA.ActorBindingsAggregatorFactoryWildcardCount=void 0;const n=Ua(),e=De(),u=ZTe();let a=class extends n.ActorBindingsAggregatorFactory{constructor(t){super(t)}async test(t){return t.expr.aggregator!=="count"||t.expr.expression.expressionType!=="wildcard"?(0,e.failTest)("This actor only supports the 'count' aggregator with wildcard."):(0,e.passTestVoid)()}async run({context:t,expr:i}){return new u.WildcardCountAggregator(await this.mediatorExpressionEvaluatorFactory.mediate({algExpr:i.expression,context:t}),i.distinct)}};return aA.ActorBindingsAggregatorFactoryWildcardCount=a,aA}var Xle;function YQ(){return Xle||(Xle=1,(function(n){var e=Dh&&Dh.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=Dh&&Dh.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(SMe(),n),u(ZTe(),n)})(Dh)),Dh}var Fh={},uA={},oA={},Kle;function e3e(){if(Kle)return oA;Kle=1,Object.defineProperty(oA,"__esModule",{value:!0}),oA.AverageAggregator=void 0;const n=Ua(),e=Xe();let u=class extends n.AggregateEvaluator{constructor(r,t,i,o,l,s){super(r,t,s),this.dataFactory=i,this.additionFunction=o,this.divisionFunction=l,this.state=void 0}emptyValueTerm(){return e.typedLiteral("0",e.TypeURL.XSD_INTEGER)}putTerm(r){if(this.state===void 0){const t=this.termToNumericOrError(r);this.state={sum:t,count:1}}else{const t=this.termToNumericOrError(r);this.state.sum=this.additionFunction.applyOnTerms([this.state.sum,t],this.evaluator),this.state.count++}}termResult(){if(this.state===void 0)return this.emptyValue();const r=new e.IntegerLiteral(this.state.count);return this.divisionFunction.applyOnTerms([this.state.sum,r],this.evaluator).toRDF(this.dataFactory)}};return oA.AverageAggregator=u,oA}var Jle;function EMe(){if(Jle)return uA;Jle=1,Object.defineProperty(uA,"__esModule",{value:!0}),uA.ActorBindingsAggregatorFactoryAverage=void 0;const n=Ua(),e=lt(),u=De(),a=Xe(),r=e3e();let t=class extends n.ActorBindingsAggregatorFactory{constructor(o){super(o),this.mediatorFunctionFactory=o.mediatorFunctionFactory}async test(o){return o.expr.aggregator!=="avg"?(0,u.failTest)("This actor only supports the 'avg' aggregator."):(0,u.passTestVoid)()}async run({context:o,expr:l}){return new r.AverageAggregator(await this.mediatorExpressionEvaluatorFactory.mediate({algExpr:l.expression,context:o}),l.distinct,o.getSafe(e.KeysInitQuery.dataFactory),await this.mediatorFunctionFactory.mediate({functionName:a.SparqlOperator.ADDITION,context:o,requireTermExpression:!0}),await this.mediatorFunctionFactory.mediate({functionName:a.SparqlOperator.DIVISION,context:o,requireTermExpression:!0}))}};return uA.ActorBindingsAggregatorFactoryAverage=t,uA}var Wle;function ZQ(){return Wle||(Wle=1,(function(n){var e=Fh&&Fh.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=Fh&&Fh.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(EMe(),n),u(e3e(),n)})(Fh)),Fh}var Ph={},sA={},cA={},Yle;function t3e(){if(Yle)return cA;Yle=1,Object.defineProperty(cA,"__esModule",{value:!0}),cA.SumAggregator=void 0;const n=Ua(),e=Xe();let u=class extends n.AggregateEvaluator{constructor(r,t,i,o,l){super(r,t,l),this.dataFactory=i,this.additionFunction=o,this.state=void 0}emptyValueTerm(){return(0,e.typedLiteral)("0",e.TypeURL.XSD_INTEGER)}putTerm(r){if(this.state===void 0)this.state=this.termToNumericOrError(r);else{const t=this.termToNumericOrError(r);this.state=this.additionFunction.applyOnTerms([this.state,t],this.evaluator)}}termResult(){return this.state===void 0?this.emptyValue():this.state.toRDF(this.dataFactory)}};return cA.SumAggregator=u,cA}var Zle;function AMe(){if(Zle)return sA;Zle=1,Object.defineProperty(sA,"__esModule",{value:!0}),sA.ActorBindingsAggregatorFactorySum=void 0;const n=Ua(),e=lt(),u=De(),a=Xe(),r=t3e();let t=class extends n.ActorBindingsAggregatorFactory{constructor(o){super(o),this.mediatorFunctionFactory=o.mediatorFunctionFactory}async test(o){return o.expr.aggregator!=="sum"?(0,u.failTest)("This actor only supports the 'sum' aggregator."):(0,u.passTestVoid)()}async run({expr:o,context:l}){return new r.SumAggregator(await this.mediatorExpressionEvaluatorFactory.mediate({algExpr:o.expression,context:l}),o.distinct,l.getSafe(e.KeysInitQuery.dataFactory),await this.mediatorFunctionFactory.mediate({functionName:a.SparqlOperator.ADDITION,context:l,requireTermExpression:!0}))}};return sA.ActorBindingsAggregatorFactorySum=t,sA}var ede;function eV(){return ede||(ede=1,(function(n){var e=Ph&&Ph.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=Ph&&Ph.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(AMe(),n),u(t3e(),n)})(Ph)),Ph}var jh={},lA={},dA={},tde;function OMe(){if(tde)return dA;tde=1,Object.defineProperty(dA,"__esModule",{value:!0}),dA.ExpressionFunctionIn=void 0;const n=We(),e=Xe();let u=class extends n.ExpressionFunctionBase{constructor(r){super({arity:Number.POSITIVE_INFINITY,operator:e.SparqlOperator.IN,apply:async t=>{const{args:i,mapping:o,exprEval:l}=t,[s,...c]=i,d=await l.evaluatorExpressionEvaluation(s,o);return await this.inRecursive(d,{...t,args:c},[])}}),this.equalityFunction=r}checkArity(r){return r.length>0}async inRecursive(r,t,i){const{args:o,mapping:l,exprEval:s}=t;if(o.length===0)return i.every(d=>!d)?(0,e.bool)(!1):Promise.reject(new e.InError(i));try{const c=o.shift(),d=await s.evaluatorExpressionEvaluation(c,l);return this.equalityFunction.applyOnTerms([r,d],s).typedValue?(0,e.bool)(!0):this.inRecursive(r,t,[...i,!1])}catch(c){return this.inRecursive(r,t,[...i,c])}}};return dA.ExpressionFunctionIn=u,dA}var rde;function xMe(){if(rde)return lA;rde=1,Object.defineProperty(lA,"__esModule",{value:!0}),lA.ActorFunctionFactoryExpressionIn=void 0;const n=We(),e=Xe(),u=OMe();let a=class extends n.ActorFunctionFactoryDedicated{constructor(t){super({...t,functionNames:[e.SparqlOperator.IN],termFunction:!1}),this.mediatorFunctionFactory=t.mediatorFunctionFactory}async run(t){const i=await this.mediatorFunctionFactory.mediate({functionName:e.SparqlOperator.EQUAL,requireTermExpression:!0,context:t.context,arguments:t.arguments});return new u.ExpressionFunctionIn(i)}};return lA.ActorFunctionFactoryExpressionIn=a,lA}var nde;function tV(){return nde||(nde=1,(function(n){var e=jh&&jh.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=jh&&jh.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(xMe(),n)})(jh)),jh}var Mh={},fA={},pA={},ade;function RMe(){if(ade)return pA;ade=1,Object.defineProperty(pA,"__esModule",{value:!0}),pA.ExpressionFunctionNotIn=void 0;const n=We(),e=Xe();let u=class extends n.ExpressionFunctionBase{constructor(r){super({arity:Number.POSITIVE_INFINITY,operator:e.SparqlOperator.NOT_IN,apply:async t=>{const i=await this.inFunction.apply(t);return(0,e.bool)(!i.typedValue)}}),this.inFunction=r}checkArity(r){return r.length>0}};return pA.ExpressionFunctionNotIn=u,pA}var ide;function NMe(){if(ide)return fA;ide=1,Object.defineProperty(fA,"__esModule",{value:!0}),fA.ActorFunctionFactoryExpressionNotIn=void 0;const n=We(),e=Xe(),u=RMe();let a=class extends n.ActorFunctionFactoryDedicated{constructor(t){super({...t,functionNames:[e.SparqlOperator.NOT_IN],termFunction:!1}),this.mediatorFunctionFactory=t.mediatorFunctionFactory}async run(t){const i=await this.mediatorFunctionFactory.mediate({functionName:e.SparqlOperator.IN,context:t.context,arguments:t.arguments});return new u.ExpressionFunctionNotIn(i)}};return fA.ActorFunctionFactoryExpressionNotIn=a,fA}var ude;function rV(){return ude||(ude=1,(function(n){var e=Mh&&Mh.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=Mh&&Mh.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(NMe(),n)})(Mh)),Mh}var Ch={},hA={},yA={},ode;function IMe(){if(ode)return yA;ode=1,Object.defineProperty(yA,"__esModule",{value:!0}),yA.TermFunctionGreaterThanEqual=void 0;const n=We(),e=Xe();let u=class extends n.TermFunctionBase{constructor(r){super({arity:2,operator:e.SparqlOperator.GTE,overloads:(0,e.declare)(e.SparqlOperator.GTE).set(["term","term"],t=>([i,o])=>this.lessThanEqualFunction.applyOnTerms([o,i],t)).collect()}),this.lessThanEqualFunction=r}};return yA.TermFunctionGreaterThanEqual=u,yA}var sde;function DMe(){if(sde)return hA;sde=1,Object.defineProperty(hA,"__esModule",{value:!0}),hA.ActorFunctionFactoryTermGreaterThanEqual=void 0;const n=We(),e=Xe(),u=IMe();let a=class extends n.ActorFunctionFactoryDedicated{constructor(t){super({...t,functionNames:[e.SparqlOperator.GTE],termFunction:!0}),this.mediatorFunctionFactory=t.mediatorFunctionFactory}async run(t){const i=await this.mediatorFunctionFactory.mediate({functionName:e.SparqlOperator.LTE,requireTermExpression:!0,context:t.context,arguments:t.arguments});return new u.TermFunctionGreaterThanEqual(i)}};return hA.ActorFunctionFactoryTermGreaterThanEqual=a,hA}var cde;function nV(){return cde||(cde=1,(function(n){var e=Ch&&Ch.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=Ch&&Ch.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(DMe(),n)})(Ch)),Ch}var Lh={},mA={},bA={},lde;function FMe(){if(lde)return bA;lde=1,Object.defineProperty(bA,"__esModule",{value:!0}),bA.TermFunctionGreaterThan=void 0;const n=We(),e=Xe();let u=class extends n.TermFunctionBase{constructor(r){super({arity:2,operator:e.SparqlOperator.GT,overloads:(0,e.declare)(e.SparqlOperator.GT).set(["term","term"],t=>([i,o])=>this.lessThanFunction.applyOnTerms([o,i],t)).collect()}),this.lessThanFunction=r}};return bA.TermFunctionGreaterThan=u,bA}var dde;function PMe(){if(dde)return mA;dde=1,Object.defineProperty(mA,"__esModule",{value:!0}),mA.ActorFunctionFactoryTermGreaterThan=void 0;const n=We(),e=Xe(),u=FMe();let a=class extends n.ActorFunctionFactoryDedicated{constructor(t){super({...t,functionNames:[e.SparqlOperator.GT],termFunction:!0}),this.mediatorFunctionFactory=t.mediatorFunctionFactory}async run(t){const i=await this.mediatorFunctionFactory.mediate({functionName:e.SparqlOperator.LT,requireTermExpression:!0,context:t.context,arguments:t.arguments});return new u.TermFunctionGreaterThan(i)}};return mA.ActorFunctionFactoryTermGreaterThan=a,mA}var fde;function aV(){return fde||(fde=1,(function(n){var e=Lh&&Lh.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=Lh&&Lh.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(PMe(),n)})(Lh)),Lh}var qh={},gA={},vA={},pde;function jMe(){if(pde)return vA;pde=1,Object.defineProperty(vA,"__esModule",{value:!0}),vA.TermFunctionInequality=void 0;const n=We(),e=Xe();let u=class extends n.TermFunctionBase{constructor(r){super({arity:2,operator:e.SparqlOperator.NOT_EQUAL,overloads:(0,e.declare)(e.SparqlOperator.NOT_EQUAL).set(["term","term"],t=>([i,o])=>(0,e.bool)(!this.equalityFunction.applyOnTerms([i,o],t).typedValue)).collect()}),this.equalityFunction=r}};return vA.TermFunctionInequality=u,vA}var hde;function MMe(){if(hde)return gA;hde=1,Object.defineProperty(gA,"__esModule",{value:!0}),gA.ActorFunctionFactoryTermInequality=void 0;const n=We(),e=Xe(),u=jMe();let a=class extends n.ActorFunctionFactoryDedicated{constructor(t){super({...t,functionNames:[e.SparqlOperator.NOT_EQUAL],termFunction:!0}),this.mediatorFunctionFactory=t.mediatorFunctionFactory}async run(t){const i=await this.mediatorFunctionFactory.mediate({functionName:e.SparqlOperator.EQUAL,requireTermExpression:!0,context:t.context,arguments:t.arguments});return new u.TermFunctionInequality(i)}};return gA.ActorFunctionFactoryTermInequality=a,gA}var yde;function iV(){return yde||(yde=1,(function(n){var e=qh&&qh.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=qh&&qh.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(MMe(),n)})(qh)),qh}var Bh={},_A={},TA={},mde;function CMe(){if(mde)return TA;mde=1,Object.defineProperty(TA,"__esModule",{value:!0}),TA.TermFunctionLesserThan=void 0;const n=We(),e=lt(),u=Xe();let a=class extends n.TermFunctionBase{constructor(t){super({arity:2,operator:u.SparqlOperator.LT,overloads:(0,u.declare)(u.SparqlOperator.LT).numberTest(()=>(i,o)=>i<o).stringTest(()=>(i,o)=>i.localeCompare(o)===-1).booleanTest(()=>(i,o)=>i<o).dateTimeTest(i=>(o,l)=>(0,u.toUTCDate)(o,i.context.getSafe(e.KeysExpressionEvaluator.defaultTimeZone)).getTime()<(0,u.toUTCDate)(l,i.context.getSafe(e.KeysExpressionEvaluator.defaultTimeZone)).getTime()).copy({from:[u.TypeURL.XSD_DATE_TIME,u.TypeURL.XSD_DATE_TIME],to:[u.TypeURL.XSD_DATE,u.TypeURL.XSD_DATE]}).set([u.TypeURL.XSD_YEAR_MONTH_DURATION,u.TypeURL.XSD_YEAR_MONTH_DURATION],()=>([i,o])=>(0,u.bool)((0,u.yearMonthDurationsToMonths)((0,u.defaultedYearMonthDurationRepresentation)(i.typedValue))<(0,u.yearMonthDurationsToMonths)((0,u.defaultedYearMonthDurationRepresentation)(o.typedValue)))).set([u.TypeURL.XSD_DAY_TIME_DURATION,u.TypeURL.XSD_DAY_TIME_DURATION],()=>([i,o])=>(0,u.bool)((0,u.dayTimeDurationsToSeconds)((0,u.defaultedDayTimeDurationRepresentation)(i.typedValue))<(0,u.dayTimeDurationsToSeconds)((0,u.defaultedDayTimeDurationRepresentation)(o.typedValue)))).set([u.TypeURL.XSD_TIME,u.TypeURL.XSD_TIME],i=>([o,l])=>(0,u.bool)((0,u.toUTCDate)((0,u.defaultedDateTimeRepresentation)(o.typedValue),i.context.getSafe(e.KeysExpressionEvaluator.defaultTimeZone)).getTime()<(0,u.toUTCDate)((0,u.defaultedDateTimeRepresentation)(l.typedValue),i.context.getSafe(e.KeysExpressionEvaluator.defaultTimeZone)).getTime())).set(["quad","quad"],i=>([o,l])=>{const s=this.quadComponentTest(o.subject,l.subject,i);if(s!==void 0)return(0,u.bool)(s);const c=this.quadComponentTest(o.predicate,l.predicate,i);if(c!==void 0)return(0,u.bool)(c);const d=this.quadComponentTest(o.object,l.object,i);return d!==void 0?(0,u.bool)(d):(0,u.bool)(this.quadComponentTest(o.graph,l.graph,i)??!1)},!1).collect()}),this.equalityFunction=t}quadComponentTest(t,i,o){return this.equalityFunction.applyOnTerms([t,i],o).typedValue?void 0:this.applyOnTerms([t,i],o).typedValue}};return TA.TermFunctionLesserThan=a,TA}var bde;function LMe(){if(bde)return _A;bde=1,Object.defineProperty(_A,"__esModule",{value:!0}),_A.ActorFunctionFactoryTermLesserThan=void 0;const n=We(),e=Xe(),u=CMe();let a=class extends n.ActorFunctionFactoryDedicated{constructor(t){super({...t,functionNames:[e.SparqlOperator.LT],termFunction:!0}),this.mediatorFunctionFactory=t.mediatorFunctionFactory}async run(t){const i=await this.mediatorFunctionFactory.mediate({functionName:e.SparqlOperator.EQUAL,requireTermExpression:!0,context:t.context,arguments:t.arguments});return new u.TermFunctionLesserThan(i)}};return _A.ActorFunctionFactoryTermLesserThan=a,_A}var gde;function uV(){return gde||(gde=1,(function(n){var e=Bh&&Bh.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=Bh&&Bh.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(LMe(),n)})(Bh)),Bh}var Uh={},wA={},SA={},vde;function qMe(){if(vde)return SA;vde=1,Object.defineProperty(SA,"__esModule",{value:!0}),SA.TermFunctionLesserThanEqual=void 0;const n=We(),e=Xe();let u=class extends n.TermFunctionBase{constructor(r,t){super({arity:2,operator:e.SparqlOperator.LTE,overloads:(0,e.declare)(e.SparqlOperator.LTE).set(["term","term"],i=>([o,l])=>(0,e.bool)(this.lessThanFunction.applyOnTerms([o,l],i).typedValue||this.equalityFunction.applyOnTerms([o,l],i).typedValue)).collect()}),this.equalityFunction=r,this.lessThanFunction=t}};return SA.TermFunctionLesserThanEqual=u,SA}var _de;function BMe(){if(_de)return wA;_de=1,Object.defineProperty(wA,"__esModule",{value:!0}),wA.ActorFunctionFactoryTermLesserThanEqual=void 0;const n=We(),e=Xe(),u=qMe();let a=class extends n.ActorFunctionFactoryDedicated{constructor(t){super({...t,functionNames:[e.SparqlOperator.LTE],termFunction:!0}),this.mediatorFunctionFactory=t.mediatorFunctionFactory}async run(t){const i=await this.mediatorFunctionFactory.mediate({functionName:e.SparqlOperator.EQUAL,requireTermExpression:!0,context:t.context,arguments:t.arguments}),o=await this.mediatorFunctionFactory.mediate({functionName:e.SparqlOperator.LT,requireTermExpression:!0,context:t.context,arguments:t.arguments});return new u.TermFunctionLesserThanEqual(i,o)}};return wA.ActorFunctionFactoryTermLesserThanEqual=a,wA}var Tde;function oV(){return Tde||(Tde=1,(function(n){var e=Uh&&Uh.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=Uh&&Uh.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(BMe(),n)})(Uh)),Uh}var Qh={},EA={},wde;function UMe(){if(wde)return EA;wde=1,Object.defineProperty(EA,"__esModule",{value:!0}),EA.ActorHttpWayback=void 0;const n=sc(),e=lt(),u=De(),a=R1(),r="http://wayback.archive-it.org/";function t(l){const s=new Request(l.input,l.init);return{input:new Request(new URL(`/${s.url}`,r),s)}}function i(l){const s=l.get(e.KeysHttpProxy.httpProxyHandler);return s?c=>s.getProxy(t(c)):c=>Promise.resolve(t(c))}let o=class extends n.ActorHttp{constructor(s){super(s)}async test(s){return(0,u.passTestVoid)()}async run(s){let c=await this.mediatorHttp.mediate(s);if(c.status===404&&s.context.get(e.KeysHttpWayback.recoverBrokenLinks)){let d=await this.mediatorHttp.mediate({...s,context:s.context.set(e.KeysHttpWayback.recoverBrokenLinks,!1).set(e.KeysHttpProxy.httpProxyHandler,{getProxy:i(s.context)})});d.status===200&&([c,d]=[d,c]);const{body:f}=d;f&&("cancel"in f&&typeof f.cancel=="function"?await f.cancel():"destroy"in f&&typeof f.destroy=="function"?f.destroy():await(0,a.stringify)(n.ActorHttp.toNodeReadable(f)))}return c}};return EA.ActorHttpWayback=o,EA}var Sde;function sV(){return Sde||(Sde=1,(function(n){var e=Qh&&Qh.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=Qh&&Qh.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(UMe(),n)})(Qh)),Qh}var Vh={},AA={},Hh={},OA={},kh={},xA={},FC={},Ede;function nN(){return Ede||(Ede=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.ERROR_CODES=n.ErrorCoded=void 0;class e extends Error{constructor(a,r){super(a),this.code=r}}n.ErrorCoded=e,(function(u){u.COLLIDING_KEYWORDS="colliding keywords",u.CONFLICTING_INDEXES="conflicting indexes",u.CYCLIC_IRI_MAPPING="cyclic IRI mapping",u.INVALID_ID_VALUE="invalid @id value",u.INVALID_INDEX_VALUE="invalid @index value",u.INVALID_NEST_VALUE="invalid @nest value",u.INVALID_PREFIX_VALUE="invalid @prefix value",u.INVALID_PROPAGATE_VALUE="invalid @propagate value",u.INVALID_REVERSE_VALUE="invalid @reverse value",u.INVALID_IMPORT_VALUE="invalid @import value",u.INVALID_VERSION_VALUE="invalid @version value",u.INVALID_BASE_IRI="invalid base IRI",u.INVALID_CONTAINER_MAPPING="invalid container mapping",u.INVALID_CONTEXT_ENTRY="invalid context entry",u.INVALID_CONTEXT_NULLIFICATION="invalid context nullification",u.INVALID_DEFAULT_LANGUAGE="invalid default language",u.INVALID_INCLUDED_VALUE="invalid @included value",u.INVALID_IRI_MAPPING="invalid IRI mapping",u.INVALID_JSON_LITERAL="invalid JSON literal",u.INVALID_KEYWORD_ALIAS="invalid keyword alias",u.INVALID_LANGUAGE_MAP_VALUE="invalid language map value",u.INVALID_LANGUAGE_MAPPING="invalid language mapping",u.INVALID_LANGUAGE_TAGGED_STRING="invalid language-tagged string",u.INVALID_LANGUAGE_TAGGED_VALUE="invalid language-tagged value",u.INVALID_LOCAL_CONTEXT="invalid local context",u.INVALID_REMOTE_CONTEXT="invalid remote context",u.INVALID_REVERSE_PROPERTY="invalid reverse property",u.INVALID_REVERSE_PROPERTY_MAP="invalid reverse property map",u.INVALID_REVERSE_PROPERTY_VALUE="invalid reverse property value",u.INVALID_SCOPED_CONTEXT="invalid scoped context",u.INVALID_SCRIPT_ELEMENT="invalid script element",u.INVALID_SET_OR_LIST_OBJECT="invalid set or list object",u.INVALID_TERM_DEFINITION="invalid term definition",u.INVALID_TYPE_MAPPING="invalid type mapping",u.INVALID_TYPE_VALUE="invalid type value",u.INVALID_TYPED_VALUE="invalid typed value",u.INVALID_VALUE_OBJECT="invalid value object",u.INVALID_VALUE_OBJECT_VALUE="invalid value object value",u.INVALID_VOCAB_MAPPING="invalid vocab mapping",u.IRI_CONFUSED_WITH_PREFIX="IRI confused with prefix",u.KEYWORD_REDEFINITION="keyword redefinition",u.LOADING_DOCUMENT_FAILED="loading document failed",u.LOADING_REMOTE_CONTEXT_FAILED="loading remote context failed",u.MULTIPLE_CONTEXT_LINK_HEADERS="multiple context link headers",u.PROCESSING_MODE_CONFLICT="processing mode conflict",u.PROTECTED_TERM_REDEFINITION="protected term redefinition",u.CONTEXT_OVERFLOW="context overflow",u.INVALID_BASE_DIRECTION="invalid base direction",u.RECURSIVE_CONTEXT_INCLUSION="recursive context inclusion",u.INVALID_STREAMING_KEY_ORDER="invalid streaming key order",u.INVALID_EMBEDDED_NODE="invalid embedded node",u.INVALID_ANNOTATION="invalid annotation"})(n.ERROR_CODES||(n.ERROR_CODES={}))})(FC)),FC}var RA={},Ade;function r3e(){if(Ade)return RA;Ade=1,Object.defineProperty(RA,"__esModule",{value:!0}),RA.FetchDocumentLoader=void 0;const n=nN(),e=W4(),u=Xn();class a{constructor(t){this.fetcher=t}async load(t){const i=await(this.fetcher||fetch)(t,{headers:new Headers({accept:"application/ld+json"})});if(i.ok&&i.headers){let o=i.headers.get("Content-Type");if(o){const l=o.indexOf(";");l>0&&(o=o.substr(0,l))}if(o==="application/ld+json")return await i.json();if(i.headers.has("Link")){let l;if(i.headers.forEach((s,c)=>{if(c==="link"){const d=(0,e.parse)(s);for(const f of d.get("type","application/ld+json"))if(f.rel==="alternate"){if(l)throw new Error("Multiple JSON-LD alternate links were found on "+t);l=(0,u.resolve)(f.uri,t)}}}),l)return this.load(l)}throw new n.ErrorCoded(`Unsupported JSON-LD media type ${o}`,n.ERROR_CODES.LOADING_DOCUMENT_FAILED)}else throw new Error(i.statusText||`Status code: ${i.status}`)}}return RA.FetchDocumentLoader=a,RA}var PC={},NA={},Ode;function cV(){if(Ode)return NA;Ode=1,Object.defineProperty(NA,"__esModule",{value:!0}),NA.Util=void 0;class n{static isCompactIri(u){return u.indexOf(":")>0&&!(u&&u[0]==="#")}static getPrefix(u,a){if(u&&u[0]==="#")return null;const r=u.indexOf(":");if(r>=0){if(u.length>r+1&&u.charAt(r+1)==="/"&&u.charAt(r+2)==="/")return null;const t=u.substr(0,r);if(t==="_")return null;if(a[t])return t}return null}static getContextValueId(u){if(u===null||typeof u=="string")return u;const a=u["@id"];return a||null}static isSimpleTermDefinitionPrefix(u,a){return!n.isPotentialKeyword(u)&&(a.allowPrefixNonGenDelims||typeof u=="string"&&(u[0]==="_"||n.isPrefixIriEndingWithGenDelim(u)))}static isPotentialKeyword(u){return typeof u=="string"&&n.KEYWORD_REGEX.test(u)}static isPrefixIriEndingWithGenDelim(u){return n.ENDS_WITH_GEN_DELIM.test(u)}static isPrefixValue(u){return u&&(typeof u=="string"||u&&typeof u=="object")}static isValidIri(u){return!!(u&&n.IRI_REGEX.test(u))}static isValidIriWeak(u){return!!u&&u[0]!==":"&&n.IRI_REGEX_WEAK.test(u)}static isValidKeyword(u){return n.VALID_KEYWORDS[u]}static isTermProtected(u,a){const r=u[a];return typeof r!="string"&&r&&r["@protected"]}static hasProtectedTerms(u){for(const a of Object.keys(u))if(n.isTermProtected(u,a))return!0;return!1}static isReservedInternalKeyword(u){return u.startsWith("@__")}static deepEqual(u,a){const r=Object.keys(u),t=Object.keys(a);return r.length!==t.length?!1:r.every(i=>{const o=u[i],l=a[i];return o===l||o!==null&&l!==null&&typeof o=="object"&&typeof l=="object"&&this.deepEqual(o,l)})}}return n.IRI_REGEX=/^([A-Za-z][A-Za-z0-9+-.]*|_):[^ "<>{}|\\\[\]`#]*(#[^#]*)?$/,n.IRI_REGEX_WEAK=/(?::[^:])|\//,n.KEYWORD_REGEX=/^@[a-z]+$/i,n.ENDS_WITH_GEN_DELIM=/[:/?#\[\]@]$/,n.REGEX_LANGUAGE_TAG=/^[a-zA-Z]+(-[a-zA-Z0-9]+)*$/,n.REGEX_DIRECTION_TAG=/^(ltr)|(rtl)$/,n.VALID_KEYWORDS={"@annotation":!0,"@base":!0,"@container":!0,"@context":!0,"@direction":!0,"@graph":!0,"@id":!0,"@import":!0,"@included":!0,"@index":!0,"@json":!0,"@language":!0,"@list":!0,"@nest":!0,"@none":!0,"@prefix":!0,"@propagate":!0,"@protected":!0,"@reverse":!0,"@set":!0,"@type":!0,"@value":!0,"@version":!0,"@vocab":!0},n.EXPAND_KEYS_BLACKLIST=["@base","@vocab","@language","@version","@direction"],n.ALIAS_DOMAIN_BLACKLIST=["@container","@graph","@id","@index","@list","@nest","@none","@prefix","@reverse","@set","@type","@value","@version"],n.ALIAS_RANGE_BLACKLIST=["@context","@preserve"],n.CONTAINERS=["@list","@set","@index","@language","@graph","@id","@type"],n.CONTAINERS_1_0=["@list","@set","@index"],NA.Util=n,NA}var xde;function n3e(){return xde||(xde=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.defaultExpandOptions=n.JsonLdContextNormalized=void 0;const e=Xn(),u=nN(),a=cV();class r{constructor(i){this.contextRaw=i}getContextRaw(){return this.contextRaw}expandTerm(i,o,l=n.defaultExpandOptions){const s=this.contextRaw[i];if(s===null||s&&s["@id"]===null)return null;let c=!0;if(s&&o){const _=a.Util.getContextValueId(s);if(_&&_!==i)if(typeof _!="string"||!a.Util.isValidIri(_)&&!a.Util.isValidKeyword(_))a.Util.isPotentialKeyword(_)||(c=!1);else return _}const d=a.Util.getPrefix(i,this.contextRaw),f=this.contextRaw["@vocab"],p=(!!f||f==="")&&f.indexOf(":")<0,h=this.contextRaw["@base"],g=a.Util.isPotentialKeyword(i);if(d){const _=this.contextRaw[d],m=a.Util.getContextValueId(_);if(m){if(typeof _=="string"||!l.allowPrefixForcing){if(!a.Util.isSimpleTermDefinitionPrefix(m,l))return i}else if(m[0]!=="_"&&!g&&!_["@prefix"]&&!(i in this.contextRaw))return i;return m+i.substr(d.length+1)}}else if(o&&(f||f===""||l.allowVocabRelativeToBase&&h&&p)&&!g&&!a.Util.isCompactIri(i))if(p){if(l.allowVocabRelativeToBase)return(f||h?(0,e.resolve)(f,h):"")+i;throw new u.ErrorCoded(`Relative vocab expansion for term '${i}' with vocab '${f}' is not allowed.`,u.ERROR_CODES.INVALID_VOCAB_MAPPING)}else return f+i;else if(!o&&h&&!g&&!a.Util.isCompactIri(i))return(0,e.resolve)(i,h);if(c)return i;throw new u.ErrorCoded(`Invalid IRI mapping found for context entry '${i}': '${JSON.stringify(s)}'`,u.ERROR_CODES.INVALID_IRI_MAPPING)}compactIri(i,o){if(o&&this.contextRaw["@vocab"]&&i.startsWith(this.contextRaw["@vocab"]))return i.substr(this.contextRaw["@vocab"].length);if(!o&&this.contextRaw["@base"]&&i.startsWith(this.contextRaw["@base"]))return i.substr(this.contextRaw["@base"].length);const l={prefix:"",suffix:i};for(const s in this.contextRaw){const c=this.contextRaw[s];if(c&&!a.Util.isPotentialKeyword(s)){const d=a.Util.getContextValueId(c);if(i.startsWith(d)){const f=i.substr(d.length);if(f)f.length<l.suffix.length&&(l.prefix=s,l.suffix=f);else if(o)return s}}}return l.prefix?l.prefix+":"+l.suffix:i}}n.JsonLdContextNormalized=r,n.defaultExpandOptions={allowPrefixForcing:!0,allowPrefixNonGenDelims:!1,allowVocabRelativeToBase:!0}})(PC)),PC}var Rde;function QMe(){if(Rde)return xA;Rde=1,Object.defineProperty(xA,"__esModule",{value:!0}),xA.ContextParser=void 0;const n=Xn(),e=nN(),u=r3e(),a=n3e(),r=cV();class t{constructor(o){o=o||{},this.documentLoader=o.documentLoader||new u.FetchDocumentLoader,this.documentCache={},this.validateContext=!o.skipValidation,this.expandContentTypeToBase=!!o.expandContentTypeToBase,this.remoteContextsDepthLimit=o.remoteContextsDepthLimit||32,this.redirectSchemaOrgHttps="redirectSchemaOrgHttps"in o?!!o.redirectSchemaOrgHttps:!0}static validateLanguage(o,l,s){if(typeof o!="string")throw new e.ErrorCoded(`The value of an '@language' must be a string, got '${JSON.stringify(o)}'`,s);if(!r.Util.REGEX_LANGUAGE_TAG.test(o)){if(l)throw new e.ErrorCoded(`The value of an '@language' must be a valid language tag, got '${JSON.stringify(o)}'`,s);return!1}return!0}static validateDirection(o,l){if(typeof o!="string")throw new e.ErrorCoded(`The value of an '@direction' must be a string, got '${JSON.stringify(o)}'`,e.ERROR_CODES.INVALID_BASE_DIRECTION);if(!r.Util.REGEX_DIRECTION_TAG.test(o)){if(l)throw new e.ErrorCoded(`The value of an '@direction' must be 'ltr' or 'rtl', got '${JSON.stringify(o)}'`,e.ERROR_CODES.INVALID_BASE_DIRECTION);return!1}return!0}idifyReverseTerms(o){for(const l of Object.keys(o)){let s=o[l];if(s&&typeof s=="object"&&s["@reverse"]&&!s["@id"]){if(typeof s["@reverse"]!="string"||r.Util.isValidKeyword(s["@reverse"]))throw new e.ErrorCoded(`Invalid @reverse value, must be absolute IRI or blank node: '${s["@reverse"]}'`,e.ERROR_CODES.INVALID_IRI_MAPPING);s=o[l]=Object.assign(Object.assign({},s),{"@id":s["@reverse"]}),s["@id"]=s["@reverse"],r.Util.isPotentialKeyword(s["@reverse"])?delete s["@reverse"]:s["@reverse"]=!0}}return o}expandPrefixedTerms(o,l,s){const c=o.getContextRaw();for(const d of s||Object.keys(c))if(r.Util.EXPAND_KEYS_BLACKLIST.indexOf(d)<0&&!r.Util.isReservedInternalKeyword(d)){const f=c[d];if(r.Util.isPotentialKeyword(d)&&r.Util.ALIAS_DOMAIN_BLACKLIST.indexOf(d)>=0&&(d!=="@type"||typeof c[d]=="object"&&!(c[d]["@protected"]||c[d]["@container"]==="@set")))throw new e.ErrorCoded(`Keywords can not be aliased to something else.
Tried mapping ${d} to ${JSON.stringify(f)}`,e.ERROR_CODES.KEYWORD_REDEFINITION);if(r.Util.ALIAS_RANGE_BLACKLIST.indexOf(r.Util.getContextValueId(f))>=0)throw new e.ErrorCoded(`Aliasing to certain keywords is not allowed.
Tried mapping ${d} to ${JSON.stringify(f)}`,e.ERROR_CODES.INVALID_KEYWORD_ALIAS);if(f&&r.Util.isPotentialKeyword(r.Util.getContextValueId(f))&&f["@prefix"]===!0)throw new e.ErrorCoded(`Tried to use keyword aliases as prefix: '${d}': '${JSON.stringify(f)}'`,e.ERROR_CODES.INVALID_TERM_DEFINITION);for(;r.Util.isPrefixValue(c[d]);){const p=c[d];let h=!1;if(typeof p=="string")c[d]=o.expandTerm(p,!0),h=h||p!==c[d];else{const g=p["@id"],_=p["@type"],m=!("@prefix"in p)||r.Util.isValidIri(d);if("@id"in p)g!=null&&typeof g=="string"&&(c[d]=Object.assign(Object.assign({},c[d]),{"@id":o.expandTerm(g,!0)}),h=h||g!==c[d]["@id"]);else if(!r.Util.isPotentialKeyword(d)&&m){const w=o.expandTerm(d,!0);w!==d&&(c[d]=Object.assign(Object.assign({},c[d]),{"@id":w}),h=!0)}if(_&&typeof _=="string"&&_!=="@vocab"&&(!p["@container"]||!p["@container"]["@type"])&&m){let w=o.expandTerm(_,!0);l&&_===w&&(w=o.expandTerm(_,!1)),w!==_&&(h=!0,c[d]=Object.assign(Object.assign({},c[d]),{"@type":w}))}}if(!h)break}}}normalize(o,{processingMode:l,normalizeLanguageTags:s}){if(s||l===1)for(const c of Object.keys(o))if(c==="@language"&&typeof o[c]=="string")o[c]=o[c].toLowerCase();else{const d=o[c];if(d&&typeof d=="object"&&typeof d["@language"]=="string"){const f=d["@language"].toLowerCase();f!==d["@language"]&&(o[c]=Object.assign(Object.assign({},d),{"@language":f}))}}}containersToHash(o){for(const l of Object.keys(o)){const s=o[l];if(s&&typeof s=="object"){if(typeof s["@container"]=="string")o[l]=Object.assign(Object.assign({},s),{"@container":{[s["@container"]]:!0}});else if(Array.isArray(s["@container"])){const c={};for(const d of s["@container"])c[d]=!0;o[l]=Object.assign(Object.assign({},s),{"@container":c})}}}}applyScopedProtected(o,{processingMode:l},s){if(l&&l>=1.1&&o["@protected"]){for(const c of Object.keys(o))if(!r.Util.isReservedInternalKeyword(c)&&!r.Util.isPotentialKeyword(c)&&!r.Util.isTermProtected(o,c)){const d=o[c];d&&typeof d=="object"?"@protected"in o[c]||(o[c]=Object.assign(Object.assign({},o[c]),{"@protected":!0})):(o[c]={"@id":d,"@protected":!0},r.Util.isSimpleTermDefinitionPrefix(d,s)&&(o[c]=Object.assign(Object.assign({},o[c]),{"@prefix":!0})))}delete o["@protected"]}}validateKeywordRedefinitions(o,l,s,c){for(const d of c??Object.keys(l))if(r.Util.isTermProtected(o,d)&&(typeof l[d]=="string"?l[d]={"@id":l[d],"@protected":!0}:l[d]=Object.assign(Object.assign({},l[d]),{"@protected":!0}),!r.Util.deepEqual(o[d],l[d])))throw new e.ErrorCoded(`Attempted to override the protected keyword ${d} from ${JSON.stringify(r.Util.getContextValueId(o[d]))} to ${JSON.stringify(r.Util.getContextValueId(l[d]))}`,e.ERROR_CODES.PROTECTED_TERM_REDEFINITION)}validate(o,{processingMode:l}){for(const s of Object.keys(o)){if(r.Util.isReservedInternalKeyword(s))continue;if(s==="")throw new e.ErrorCoded(`The empty term is not allowed, got: '${s}': '${JSON.stringify(o[s])}'`,e.ERROR_CODES.INVALID_TERM_DEFINITION);const c=o[s],d=typeof c;if(r.Util.isPotentialKeyword(s)){switch(s.substr(1)){case"vocab":if(c!==null&&d!=="string")throw new e.ErrorCoded(`Found an invalid @vocab IRI: ${c}`,e.ERROR_CODES.INVALID_VOCAB_MAPPING);break;case"base":if(c!==null&&d!=="string")throw new e.ErrorCoded(`Found an invalid @base IRI: ${o[s]}`,e.ERROR_CODES.INVALID_BASE_IRI);break;case"language":c!==null&&t.validateLanguage(c,!0,e.ERROR_CODES.INVALID_DEFAULT_LANGUAGE);break;case"version":if(c!==null&&d!=="number")throw new e.ErrorCoded(`Found an invalid @version number: ${c}`,e.ERROR_CODES.INVALID_VERSION_VALUE);break;case"direction":c!==null&&t.validateDirection(c,!0);break;case"propagate":if(l===1)throw new e.ErrorCoded(`Found an illegal @propagate keyword: ${c}`,e.ERROR_CODES.INVALID_CONTEXT_ENTRY);if(c!==null&&d!=="boolean")throw new e.ErrorCoded(`Found an invalid @propagate value: ${c}`,e.ERROR_CODES.INVALID_PROPAGATE_VALUE);break}if(r.Util.isValidKeyword(s)&&r.Util.isValidKeyword(r.Util.getContextValueId(c)))throw new e.ErrorCoded(`Illegal keyword alias in term value, found: '${s}': '${r.Util.getContextValueId(c)}'`,e.ERROR_CODES.KEYWORD_REDEFINITION);continue}if(c!==null)switch(d){case"string":if(r.Util.getPrefix(c,o)===s)throw new e.ErrorCoded(`Detected cyclical IRI mapping in context entry: '${s}': '${JSON.stringify(c)}'`,e.ERROR_CODES.CYCLIC_IRI_MAPPING);if(r.Util.isValidIriWeak(s)){if(c==="@type")throw new e.ErrorCoded(`IRIs can not be mapped to @type, found: '${s}': '${c}'`,e.ERROR_CODES.INVALID_IRI_MAPPING);if(r.Util.isValidIri(c)&&c!==new a.JsonLdContextNormalized(o).expandTerm(s))throw new e.ErrorCoded(`IRIs can not be mapped to other IRIs, found: '${s}': '${c}'`,e.ERROR_CODES.INVALID_IRI_MAPPING)}break;case"object":if(!r.Util.isCompactIri(s)&&!("@id"in c)&&(c["@type"]==="@id"?!o["@base"]:!o["@vocab"]))throw new e.ErrorCoded(`Missing @id in context entry: '${s}': '${JSON.stringify(c)}'`,e.ERROR_CODES.INVALID_IRI_MAPPING);for(const f of Object.keys(c)){const p=c[f];if(p)switch(f){case"@id":if(r.Util.isValidKeyword(p)&&p!=="@type"&&p!=="@id"&&p!=="@graph"&&p!=="@nest")throw new e.ErrorCoded(`Illegal keyword alias in term value, found: '${s}': '${JSON.stringify(c)}'`,e.ERROR_CODES.INVALID_IRI_MAPPING);if(r.Util.isValidIriWeak(s)){if(p==="@type")throw new e.ErrorCoded(`IRIs can not be mapped to @type, found: '${s}': '${JSON.stringify(c)}'`,e.ERROR_CODES.INVALID_IRI_MAPPING);if(r.Util.isValidIri(p)&&p!==new a.JsonLdContextNormalized(o).expandTerm(s))throw new e.ErrorCoded(`IRIs can not be mapped to other IRIs, found: '${s}': '${JSON.stringify(c)}'`,e.ERROR_CODES.INVALID_IRI_MAPPING)}if(typeof p!="string")throw new e.ErrorCoded(`Detected non-string @id in context entry: '${s}': '${JSON.stringify(c)}'`,e.ERROR_CODES.INVALID_IRI_MAPPING);if(r.Util.getPrefix(p,o)===s)throw new e.ErrorCoded(`Detected cyclical IRI mapping in context entry: '${s}': '${JSON.stringify(c)}'`,e.ERROR_CODES.CYCLIC_IRI_MAPPING);break;case"@type":if(c["@container"]==="@type"&&p!=="@id"&&p!=="@vocab")throw new e.ErrorCoded(`@container: @type only allows @type: @id or @vocab, but got: '${s}': '${p}'`,e.ERROR_CODES.INVALID_TYPE_MAPPING);if(typeof p!="string")throw new e.ErrorCoded(`The value of an '@type' must be a string, got '${JSON.stringify(d)}'`,e.ERROR_CODES.INVALID_TYPE_MAPPING);if(p!=="@id"&&p!=="@vocab"&&(l===1||p!=="@json")&&(l===1||p!=="@none")&&(p[0]==="_"||!r.Util.isValidIri(p)))throw new e.ErrorCoded(`A context @type must be an absolute IRI, found: '${s}': '${p}'`,e.ERROR_CODES.INVALID_TYPE_MAPPING);break;case"@reverse":if(typeof p=="string"&&c["@id"]&&c["@id"]!==p)throw new e.ErrorCoded(`Found non-matching @id and @reverse term values in '${s}':'${p}' and '${c["@id"]}'`,e.ERROR_CODES.INVALID_REVERSE_PROPERTY);if("@nest"in c)throw new e.ErrorCoded(`@nest is not allowed in the reverse property '${s}'`,e.ERROR_CODES.INVALID_REVERSE_PROPERTY);break;case"@container":if(l===1&&(Object.keys(p).length>1||r.Util.CONTAINERS_1_0.indexOf(Object.keys(p)[0])<0))throw new e.ErrorCoded(`Invalid term @container for '${s}' ('${Object.keys(p)}') in 1.0, must be only one of ${r.Util.CONTAINERS_1_0.join(", ")}`,e.ERROR_CODES.INVALID_CONTAINER_MAPPING);for(const h of Object.keys(p)){if(h==="@list"&&c["@reverse"])throw new e.ErrorCoded(`Term value can not be @container: @list and @reverse at the same time on '${s}'`,e.ERROR_CODES.INVALID_REVERSE_PROPERTY);if(r.Util.CONTAINERS.indexOf(h)<0)throw new e.ErrorCoded(`Invalid term @container for '${s}' ('${h}'), must be one of ${r.Util.CONTAINERS.join(", ")}`,e.ERROR_CODES.INVALID_CONTAINER_MAPPING)}break;case"@language":t.validateLanguage(p,!0,e.ERROR_CODES.INVALID_LANGUAGE_MAPPING);break;case"@direction":t.validateDirection(p,!0);break;case"@prefix":if(p!==null&&typeof p!="boolean")throw new e.ErrorCoded(`Found an invalid term @prefix boolean in: '${s}': '${JSON.stringify(c)}'`,e.ERROR_CODES.INVALID_PREFIX_VALUE);if(!("@id"in c)&&!r.Util.isValidIri(s))throw new e.ErrorCoded(`Invalid @prefix definition for '${s}' ('${JSON.stringify(c)}'`,e.ERROR_CODES.INVALID_TERM_DEFINITION);break;case"@index":if(l===1||!c["@container"]||!c["@container"]["@index"])throw new e.ErrorCoded(`Attempt to add illegal key to value object: '${s}': '${JSON.stringify(c)}'`,e.ERROR_CODES.INVALID_TERM_DEFINITION);break;case"@nest":if(r.Util.isPotentialKeyword(p)&&p!=="@nest")throw new e.ErrorCoded(`Found an invalid term @nest value in: '${s}': '${JSON.stringify(c)}'`,e.ERROR_CODES.INVALID_NEST_VALUE)}}break;default:throw new e.ErrorCoded(`Found an invalid term value: '${s}': '${c}'`,e.ERROR_CODES.INVALID_TERM_DEFINITION)}}}applyBaseEntry(o,l,s){return typeof o=="string"||(s&&!("@base"in o)&&l.parentContext&&typeof l.parentContext=="object"&&"@base"in l.parentContext&&(o["@base"]=l.parentContext["@base"],l.parentContext["@__baseDocument"]&&(o["@__baseDocument"]=!0)),l.baseIRI&&!l.external&&("@base"in o?o["@base"]!==null&&typeof o["@base"]=="string"&&!r.Util.isValidIri(o["@base"])&&(o["@base"]=(0,n.resolve)(o["@base"],l.parentContext&&l.parentContext["@base"]||l.baseIRI)):(o["@base"]=l.baseIRI,o["@__baseDocument"]=!0))),o}normalizeContextIri(o,l){if(!r.Util.isValidIri(o))try{o=(0,n.resolve)(o,l)}catch{throw new Error(`Invalid context IRI: ${o}`)}return this.redirectSchemaOrgHttps&&o.startsWith("http://schema.org")&&(o="https://schema.org/"),o}async parseInnerContexts(o,l,s){for(const c of s??Object.keys(o)){const d=o[c];if(d&&typeof d=="object"&&"@context"in d&&d["@context"]!==null&&!l.ignoreScopedContexts){if(this.validateContext)try{const f=Object.assign(Object.assign({},o),{[c]:Object.assign({},o[c])});delete f[c]["@context"],await this.parse(d["@context"],Object.assign(Object.assign({},l),{external:!1,parentContext:f,ignoreProtection:!0,ignoreRemoteScopedContexts:!0,ignoreScopedContexts:!0}))}catch(f){throw new e.ErrorCoded(f.message,e.ERROR_CODES.INVALID_SCOPED_CONTEXT)}o[c]=Object.assign(Object.assign({},d),{"@context":(await this.parse(d["@context"],Object.assign(Object.assign({},l),{external:!1,minimalProcessing:!0,ignoreRemoteScopedContexts:!0,parentContext:o}))).getContextRaw()})}}return o}async parse(o,l={},s={}){const{baseIRI:c,parentContext:d,external:f,processingMode:p=t.DEFAULT_PROCESSING_MODE,normalizeLanguageTags:h,ignoreProtection:g,minimalProcessing:_}=l,m=l.remoteContexts||{};if(Object.keys(m).length>=this.remoteContextsDepthLimit)throw new e.ErrorCoded("Detected an overflow in remote context inclusions: "+Object.keys(m),e.ERROR_CODES.CONTEXT_OVERFLOW);if(o==null){if(!g&&d&&r.Util.hasProtectedTerms(d))throw new e.ErrorCoded("Illegal context nullification when terms are protected",e.ERROR_CODES.INVALID_CONTEXT_NULLIFICATION);return new a.JsonLdContextNormalized(this.applyBaseEntry({},l,!1))}else if(typeof o=="string"){const w=this.normalizeContextIri(o,c),T=this.getOverriddenLoad(w,l);if(T)return new a.JsonLdContextNormalized(T);const E=await this.parse(await this.load(w),Object.assign(Object.assign({},l),{baseIRI:w,external:!0,remoteContexts:Object.assign(Object.assign({},m),{[w]:!0})}));return this.applyBaseEntry(E.getContextRaw(),l,!0),E}else if(Array.isArray(o)){const w=[],T=await Promise.all(o.map((S,N)=>{if(typeof S=="string"){const j=this.normalizeContextIri(S,c);w[N]=j;const q=this.getOverriddenLoad(j,l);return q||this.load(j)}else return S}));if(_)return new a.JsonLdContextNormalized(T);const E=await T.reduce((S,N,j)=>S.then(q=>this.parse(N,Object.assign(Object.assign({},l),{baseIRI:w[j]||l.baseIRI,external:!!w[j]||l.external,parentContext:q.getContextRaw(),remoteContexts:w[j]?Object.assign(Object.assign({},m),{[w[j]]:!0}):m}),{skipValidation:j<T.length-1})),Promise.resolve(new a.JsonLdContextNormalized(d||{})));return this.applyBaseEntry(E.getContextRaw(),l,!0),E}else if(typeof o=="object"){if("@context"in o)return await this.parse(o["@context"],l);if(o=Object.assign({},o),f&&delete o["@base"],this.applyBaseEntry(o,l,!0),this.containersToHash(o),_)return new a.JsonLdContextNormalized(o);let w={};if("@import"in o)if(p>=1.1){if(typeof o["@import"]!="string")throw new e.ErrorCoded("An @import value must be a string, but got "+typeof o["@import"],e.ERROR_CODES.INVALID_IMPORT_VALUE);w=await this.loadImportContext(this.normalizeContextIri(o["@import"],c)),delete o["@import"]}else throw new e.ErrorCoded("Context importing is not supported in JSON-LD 1.0",e.ERROR_CODES.INVALID_CONTEXT_ENTRY);this.applyScopedProtected(w,{processingMode:p},a.defaultExpandOptions);const T=Object.assign(w,o);this.idifyReverseTerms(T),this.normalize(T,{processingMode:p,normalizeLanguageTags:h}),this.applyScopedProtected(T,{processingMode:p},a.defaultExpandOptions);const E=Object.keys(T),S=[];if(typeof d=="object")for(const j in d)j in T?S.push(j):T[j]=d[j];await this.parseInnerContexts(T,l,E);const N=new a.JsonLdContextNormalized(T);return(T&&T["@version"]||t.DEFAULT_PROCESSING_MODE)>=1.1&&(o["@vocab"]&&typeof o["@vocab"]=="string"||o["@vocab"]==="")&&(d&&"@vocab"in d&&o["@vocab"].indexOf(":")<0?T["@vocab"]=d["@vocab"]+o["@vocab"]:(r.Util.isCompactIri(o["@vocab"])||o["@vocab"]in T)&&(T["@vocab"]=N.expandTerm(o["@vocab"],!0))),this.expandPrefixedTerms(N,this.expandContentTypeToBase,E),!g&&d&&p>=1.1&&this.validateKeywordRedefinitions(d,T,a.defaultExpandOptions,S),this.validateContext&&!s.skipValidation&&this.validate(T,{processingMode:p}),N}else throw new e.ErrorCoded(`Tried parsing a context that is not a string, array or object, but got ${o}`,e.ERROR_CODES.INVALID_LOCAL_CONTEXT)}async load(o){const l=this.documentCache[o];if(l)return l;let s;try{s=await this.documentLoader.load(o)}catch(c){throw new e.ErrorCoded(`Failed to load remote context ${o}: ${c.message}`,e.ERROR_CODES.LOADING_REMOTE_CONTEXT_FAILED)}if(!("@context"in s))throw new e.ErrorCoded(`Missing @context in remote context at ${o}`,e.ERROR_CODES.INVALID_REMOTE_CONTEXT);return this.documentCache[o]=s["@context"]}getOverriddenLoad(o,l){if(o in(l.remoteContexts||{})){if(l.ignoreRemoteScopedContexts)return o;throw new e.ErrorCoded("Detected a cyclic context inclusion of "+o,e.ERROR_CODES.RECURSIVE_CONTEXT_INCLUSION)}return null}async loadImportContext(o){let l=await this.load(o);if(typeof l!="object"||Array.isArray(l))throw new e.ErrorCoded("An imported context must be a single object: "+o,e.ERROR_CODES.INVALID_REMOTE_CONTEXT);if("@import"in l)throw new e.ErrorCoded("An imported context can not import another context: "+o,e.ERROR_CODES.INVALID_CONTEXT_ENTRY);return l=Object.assign({},l),this.containersToHash(l),l}}return t.DEFAULT_PROCESSING_MODE=1.1,xA.ContextParser=t,xA}var jC={},Nde;function VMe(){return Nde||(Nde=1,Object.defineProperty(jC,"__esModule",{value:!0})),jC}var MC={},Ide;function HMe(){return Ide||(Ide=1,Object.defineProperty(MC,"__esModule",{value:!0})),MC}var Dde;function vi(){return Dde||(Dde=1,(function(n){var e=kh&&kh.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=kh&&kh.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(QMe(),n),u(nN(),n),u(r3e(),n),u(VMe(),n),u(HMe(),n),u(n3e(),n),u(cV(),n)})(kh)),kh}var IA={},DA={},FA={},PA={},Fde;function kMe(){if(Fde)return PA;Fde=1,Object.defineProperty(PA,"__esModule",{value:!0}),PA.ContainerHandlerIdentifier=void 0;let n=class{canCombineWithGraph(){return!0}async handle(u,a,r,t,i,o){let l;if(a.emittedStack[o+1]&&a.idStack[o+1])l=a.idStack[o+1][0];else{const d=await r.getContainerKey(t[o],t,o)!==null?await r.resourceToTerm(await a.getContext(t),t[o]):r.dataFactory.blankNode();if(!d){a.emittedStack[o]=!1;return}l=d,a.idStack[o+1]=[l]}let s=a.idStack[o];s||(s=a.idStack[o]=[]),s.some(c=>c.equals(l))||s.push(l),await a.handlePendingContainerFlushBuffers()||(a.emittedStack[o]=!1)}};return PA.ContainerHandlerIdentifier=n,PA}var jA={},MA={},Pde;function xP(){if(Pde)return MA;Pde=1,Object.defineProperty(MA,"__esModule",{value:!0}),MA.EntryHandlerPredicate=void 0;const n=vi(),e=Ab();let u=class a3e{static async handlePredicateObject(r,t,i,o,l,s,c,d,f){const p=await t.getPropertiesDepth(i,o),h=await t.getDepthOffsetGraph(o,i),g=o-h,_=r.idStack[p];if(_&&!f)for(const m of _)if(h>=0){const T=r.idStack[g-1];if(T)for(const E of T)t.emitQuadChecked(o,m,l,s,E,c,d);else c?(t.validateReverseSubject(s),r.getUnidentifiedGraphBufferSafe(g-1).push({subject:s,predicate:l,object:m,isEmbedded:d})):r.getUnidentifiedGraphBufferSafe(g-1).push({subject:m,predicate:l,object:s,isEmbedded:d})}else{const T=await t.getGraphContainerValue(i,p);t.emitQuadChecked(o,m,l,s,T,c,d)}else if(c&&t.validateReverseSubject(s),f){if(r.rdfstar){r.idStack[o]&&r.emitError(new n.ErrorCoded(`Found an illegal @id inside an annotation: ${r.idStack[o][0].value}`,n.ERROR_CODES.INVALID_ANNOTATION));for(let T=0;T<o;T++)await t.unaliasKeyword(i[T],i,T)==="@id"&&r.emitError(new n.ErrorCoded("Found an illegal annotation inside an embedded node",n.ERROR_CODES.INVALID_ANNOTATION));const m=r.getAnnotationsBufferSafe(p),w={predicate:l,object:s,reverse:c,nestedAnnotations:[],depth:p};m.push(w);for(let T=m.length-2;T>=0;T--){const E=m[T];E.depth>p&&(w.nestedAnnotations.push(E),m.splice(T,1))}}}else r.getUnidentifiedValueBufferSafe(p).push({predicate:l,object:s,reverse:c,isEmbedded:d})}isPropertyHandler(){return!0}isStackProcessor(){return!0}async validate(r,t,i,o,l){const s=i[o];if(s){const c=await r.getContext(i);if(!r.jsonLiteralStack[o]&&await t.predicateToTerm(c,i[o]))return e.Util.getContextValueType(c,s)==="@json"&&(r.jsonLiteralStack[o+1]=!0),!0}return!1}async test(r,t,i,o,l){return o[l]}async handle(r,t,i,o,l,s,c){const d=o[s],f=await r.getContext(o),p=await t.predicateToTerm(f,i);if(p){const h=await t.valueToTerm(f,i,l,s,o);if(h.length)for(let g of h){let _=await t.unaliasKeywordParent(o,s);const m=e.Util.isPropertyReverse(f,d,_);let w=0;for(;_==="@reverse"||typeof _=="number";)typeof _=="number"?w++:s--,_=await t.unaliasKeywordParent(o,s-w);const T=e.Util.isPropertyInEmbeddedNode(_);t.validateReverseInEmbeddedNode(i,m,T);const E=e.Util.isPropertyInAnnotationObject(_);if(l){const S="@list"in e.Util.getContextValueContainer(f,i);if(S||l["@list"]){if((S&&!Array.isArray(l)&&!l["@list"]||l["@list"]&&!Array.isArray(l["@list"]))&&g!==t.rdfNil){const N=t.dataFactory.blankNode();r.emitQuad(s,t.dataFactory.quad(N,t.rdfRest,t.rdfNil,t.getDefaultGraph())),r.emitQuad(s,t.dataFactory.quad(N,t.rdfFirst,g,t.getDefaultGraph())),g=N}if(m&&!r.allowSubjectList)throw new n.ErrorCoded(`Found illegal list value in subject position at ${i}`,n.ERROR_CODES.INVALID_REVERSE_PROPERTY_VALUE)}}await a3e.handlePredicateObject(r,t,o,s,p,g,m,T,E)}}}};return MA.EntryHandlerPredicate=u,MA}var jde;function zMe(){if(jde)return jA;jde=1,Object.defineProperty(jA,"__esModule",{value:!0}),jA.ContainerHandlerIndex=void 0;const n=vi(),e=xP(),u=Ab();let a=class{canCombineWithGraph(){return!0}async handle(t,i,o,l,s,c){if(!Array.isArray(s)){const d="@graph"in t,f=await i.getContext(l),p=l[c-1],h=u.Util.getContextValueIndex(f,p);if(h){if(n.Util.isPotentialKeyword(h))throw new n.ErrorCoded(`Keywords can not be used as @index value, got: ${h}`,n.ERROR_CODES.INVALID_TERM_DEFINITION);if(typeof h!="string")throw new n.ErrorCoded(`@index values must be strings, got: ${h}`,n.ERROR_CODES.INVALID_TERM_DEFINITION);if(typeof s!="object"){if(u.Util.getContextValueType(f,p)!=="@id")throw new n.ErrorCoded(`Property-based index containers require nodes as values or strings with @type: @id, but got: ${s}`,n.ERROR_CODES.INVALID_VALUE_OBJECT);const m=o.resourceToTerm(f,s);m&&(i.idStack[c+1]=[m])}const _=o.createVocabOrBaseTerm(f,h);if(_){const m=await o.valueToTerm(f,h,await o.getContainerKey(l[c],l,c),c,l);if(d){const w=await o.getGraphContainerValue(l,c+1);for(const T of m)i.emitQuad(c,o.dataFactory.quad(w,_,T,o.getDefaultGraph()))}else for(const w of m)await e.EntryHandlerPredicate.handlePredicateObject(i,o,l,c+1,_,w,!1,!1,!1)}}const g=d?2:1;await i.newOnValueJob(l.slice(0,l.length-g),s,c-g,!0),await i.handlePendingContainerFlushBuffers()}i.emittedStack[c]=!1}};return jA.ContainerHandlerIndex=a,jA}var CA={},Mde;function GMe(){if(Mde)return CA;Mde=1,Object.defineProperty(CA,"__esModule",{value:!0}),CA.ContainerHandlerLanguage=void 0;const n=vi();let e=class{canCombineWithGraph(){return!1}async handle(a,r,t,i,o,l){const s=await t.getContainerKey(i[l],i,l);if(Array.isArray(o))o=o.map(c=>({"@value":c,"@language":s}));else{if(typeof o!="string")throw new n.ErrorCoded(`Got invalid language map value, got '${JSON.stringify(o)}', but expected string`,n.ERROR_CODES.INVALID_LANGUAGE_MAP_VALUE);o={"@value":o,"@language":s}}await r.newOnValueJob(i.slice(0,i.length-1),o,l-1,!0),r.emittedStack[l]=!1}};return CA.ContainerHandlerLanguage=e,CA}var LA={},Cde;function $Me(){if(Cde)return LA;Cde=1,Object.defineProperty(LA,"__esModule",{value:!0}),LA.ContainerHandlerType=void 0;const n=xP(),e=Ab();let u=class{canCombineWithGraph(){return!1}async handle(r,t,i,o,l,s){if(!Array.isArray(l)){if(typeof l=="string"){const f=await t.getContext(o),h=e.Util.getContextValueType(f,o[s-1])==="@vocab"?await i.createVocabOrBaseTerm(f,l):await i.resourceToTerm(f,l);if(h){const g={"@id":h.termType==="NamedNode"?h.value:l};await t.newOnValueJob(o.slice(0,o.length-1),g,s-1,!0),t.idStack[s+1]=[h]}}else{const f=!!t.idStack[s+1];f||delete t.idStack[s],await t.newOnValueJob(o.slice(0,o.length-1),l,s-1,!0),f||(t.idStack[s+1]=t.idStack[s])}const c=await i.getContainerKey(o[s],o,s),d=c!==null?i.createVocabOrBaseTerm(await t.getContext(o),c):null;d&&await n.EntryHandlerPredicate.handlePredicateObject(t,i,o,s+1,i.rdfType,d,!1,!1,!1),await t.handlePendingContainerFlushBuffers()}t.emittedStack[s]=!1}};return LA.ContainerHandlerType=u,LA}var Lde;function i3e(){if(Lde)return FA;Lde=1,Object.defineProperty(FA,"__esModule",{value:!0}),FA.EntryHandlerContainer=void 0;const n=kMe(),e=zMe(),u=GMe(),a=$Me(),r=Ab();let t=class Yc{static isSimpleGraphContainer(o){return"@graph"in o&&("@set"in o&&Object.keys(o).length===2||Object.keys(o).length===1)}static isComplexGraphContainer(o){return"@graph"in o&&("@set"in o&&Object.keys(o).length>2||!("@set"in o)&&Object.keys(o).length>1)}static getContainerGraphIndex(o,l,s){let c=Yc.isSimpleGraphContainer(o),d="";for(let f=l;f<s.length;f++)(!c||typeof s[f]=="number")&&(d+=":"+s[f]),!c&&typeof s[f]!="number"&&(c=!0);return d}static async getContainerHandler(o,l,s){const c={containers:{"@set":!0},depth:s,fallback:!0};let d=!1;const f=await o.getContext(l,2);for(let p=s-1;p>=0;p--)if(typeof l[p]!="number"){const h=r.Util.getContextValue(f,"@container",l[p],!1);if(h&&Yc.isSimpleGraphContainer(h))return{containers:h,depth:p+1,fallback:!1};const g=r.Util.getContextValue(f,"@container",l[p-1],!1);if(g){const _="@graph"in g;for(const m in Yc.CONTAINER_HANDLERS)if(g[m])return _?Yc.CONTAINER_HANDLERS[m].canCombineWithGraph()?{containers:g,depth:p,fallback:!1}:c:d?c:{containers:g,depth:p,fallback:!1};return c}else{if(d)return c;d=!0}}return c}static async isBufferableContainerHandler(o,l,s){const c=await Yc.getContainerHandler(o,l,s);return!c.fallback&&!("@graph"in c.containers)}isPropertyHandler(){return!1}isStackProcessor(){return!0}async validate(o,l,s,c,d){return!!await this.test(o,l,null,s,c)}async test(o,l,s,c,d){const f=r.Util.getContextValueContainer(await o.getContext(c,2),c[d-1]);for(const p in Yc.CONTAINER_HANDLERS)if(f[p])return{containers:f,handler:Yc.CONTAINER_HANDLERS[p]};return null}async handle(o,l,s,c,d,f,p){return p.handler.handle(p.containers,o,l,c,d,f)}};return t.CONTAINER_HANDLERS={"@id":new n.ContainerHandlerIdentifier,"@index":new e.ContainerHandlerIndex,"@language":new u.ContainerHandlerLanguage,"@type":new a.ContainerHandlerType},FA.EntryHandlerContainer=t,FA}var CC,qde;function XMe(){return qde||(qde=1,CC=function n(e){return e===null||typeof e!="object"||e.toJSON!=null?JSON.stringify(e):Array.isArray(e)?"["+e.reduce((u,a,r)=>{const t=r===0?"":",",i=a===void 0||typeof a=="symbol"?null:a;return u+t+n(i)},"")+"]":"{"+Object.keys(e).sort().reduce((u,a,r)=>{if(e[a]===void 0||typeof e[a]=="symbol")return u;const t=u.length===0?"":",";return u+t+n(a)+":"+n(e[a])},"")+"}"}),CC}var Bde;function Ab(){if(Bde)return DA;Bde=1,Object.defineProperty(DA,"__esModule",{value:!0}),DA.Util=void 0;const n=vi(),e=Rr(),u=i3e(),a=XMe();class r{constructor(i){this.parsingContext=i.parsingContext,this.dataFactory=i.dataFactory||new e.DataFactory,this.rdfFirst=this.dataFactory.namedNode(r.RDF+"first"),this.rdfRest=this.dataFactory.namedNode(r.RDF+"rest"),this.rdfNil=this.dataFactory.namedNode(r.RDF+"nil"),this.rdfType=this.dataFactory.namedNode(r.RDF+"type"),this.rdfJson=this.dataFactory.namedNode(r.RDF+"JSON")}static getContextValue(i,o,l,s){const c=i.getContextRaw()[l];if(!c)return s;const d=c[o];return d===void 0?s:d}static getContextValueContainer(i,o){return r.getContextValue(i,"@container",o,{"@set":!0})}static getContextValueType(i,o){const l=r.getContextValue(i,"@type",o,null);return l==="@none"?null:l}static getContextValueLanguage(i,o){return r.getContextValue(i,"@language",o,i.getContextRaw()["@language"]||null)}static getContextValueDirection(i,o){return r.getContextValue(i,"@direction",o,i.getContextRaw()["@direction"]||null)}static isContextValueReverse(i,o){return!!r.getContextValue(i,"@reverse",o,null)}static getContextValueIndex(i,o){return r.getContextValue(i,"@index",o,i.getContextRaw()["@index"]||null)}static isPropertyReverse(i,o,l){return l==="@reverse"!==r.isContextValueReverse(i,o)}static isPropertyInEmbeddedNode(i){return i==="@id"}static isPropertyInAnnotationObject(i){return i==="@annotation"}static isValidIri(i){return i!==null&&n.Util.isValidIri(i)}static isPrefixArray(i,o){if(i.length>o.length)return!1;for(let l=0;l<i.length;l++)if(i[l]!==o[l])return!1;return!0}async validateValueIndexes(i){if(this.parsingContext.validateValueIndexes){const o={};for(const l of i)if(l&&typeof l=="object"){const s=l["@id"],c=l["@index"];if(s&&c){const d=o[s];if(d&&d!==c)throw new n.ErrorCoded(`Conflicting @index value for ${s}`,n.ERROR_CODES.CONFLICTING_INDEXES);o[s]=c}}}}async valueToTerm(i,o,l,s,c){if(r.getContextValueType(i,o)==="@json")return[this.dataFactory.literal(this.valueToJsonString(l),this.rdfJson)];const d=typeof l;switch(d){case"object":if(l==null)return[];if(Array.isArray(l))return"@list"in r.getContextValueContainer(i,o)?l.length===0?[this.rdfNil]:this.parsingContext.idStack[s+1]||[]:(await this.validateValueIndexes(l),[]);if(i=await this.getContextSelfOrPropertyScoped(i,o),"@context"in l&&(i=await this.parsingContext.parseContext(l["@context"],(await this.parsingContext.getContext(c,0)).getContextRaw())),l=await this.unaliasKeywords(l,c,s,i),"@value"in l){let f,p,h,g,_;for(o in l){const m=l[o];switch(o){case"@value":f=m;break;case"@language":p=m;break;case"@direction":h=m;break;case"@type":g=m;break;case"@index":_=m;break;case"@annotation":break;default:throw new n.ErrorCoded(`Unknown value entry '${o}' in @value: ${JSON.stringify(l)}`,n.ERROR_CODES.INVALID_VALUE_OBJECT)}}if(await this.unaliasKeyword(g,c,s,!0,i)==="@json")return[this.dataFactory.literal(this.valueToJsonString(f),this.rdfJson)];if(f===null)return[];if(typeof f=="object")throw new n.ErrorCoded(`The value of an '@value' can not be an object, got '${JSON.stringify(f)}'`,n.ERROR_CODES.INVALID_VALUE_OBJECT_VALUE);if(this.parsingContext.validateValueIndexes&&_&&typeof _!="string")throw new n.ErrorCoded(`The value of an '@index' must be a string, got '${JSON.stringify(_)}'`,n.ERROR_CODES.INVALID_INDEX_VALUE);if(p){if(typeof f!="string")throw new n.ErrorCoded(`When an '@language' is set, the value of '@value' must be a string, got '${JSON.stringify(f)}'`,n.ERROR_CODES.INVALID_LANGUAGE_TAGGED_VALUE);if(!n.ContextParser.validateLanguage(p,this.parsingContext.strictValues,n.ERROR_CODES.INVALID_LANGUAGE_TAGGED_STRING))return[];(this.parsingContext.normalizeLanguageTags||this.parsingContext.activeProcessingMode===1)&&(p=p.toLowerCase())}if(h){if(typeof f!="string")throw new Error(`When an '@direction' is set, the value of '@value' must be a string, got '${JSON.stringify(f)}'`);if(!n.ContextParser.validateDirection(h,this.parsingContext.strictValues))return[]}if(p&&h&&this.parsingContext.rdfDirection){if(g)throw new n.ErrorCoded(`Can not have '@language', '@direction' and '@type' in a value: '${JSON.stringify(l)}'`,n.ERROR_CODES.INVALID_VALUE_OBJECT);return this.nullableTermToArray(this.createLanguageDirectionLiteral(s,f,p,h))}else if(p){if(g)throw new n.ErrorCoded(`Can not have both '@language' and '@type' in a value: '${JSON.stringify(l)}'`,n.ERROR_CODES.INVALID_VALUE_OBJECT);return[this.dataFactory.literal(f,p)]}else if(h&&this.parsingContext.rdfDirection){if(g)throw new n.ErrorCoded(`Can not have both '@direction' and '@type' in a value: '${JSON.stringify(l)}'`,n.ERROR_CODES.INVALID_VALUE_OBJECT);return this.nullableTermToArray(this.createLanguageDirectionLiteral(s,f,p,h))}else if(g){if(typeof g!="string")throw new n.ErrorCoded(`The value of an '@type' must be a string, got '${JSON.stringify(g)}'`,n.ERROR_CODES.INVALID_TYPED_VALUE);const m=this.createVocabOrBaseTerm(i,g);if(!m)throw new n.ErrorCoded(`Invalid '@type' value, got '${JSON.stringify(g)}'`,n.ERROR_CODES.INVALID_TYPED_VALUE);if(m.termType!=="NamedNode")throw new n.ErrorCoded(`Illegal value type (${m.termType}): ${g}`,n.ERROR_CODES.INVALID_TYPED_VALUE);return[this.dataFactory.literal(f,m)]}return await this.valueToTerm(new n.JsonLdContextNormalized({}),o,f,s,c)}else if("@set"in l){if(Object.keys(l).length>1)throw new n.ErrorCoded(`Found illegal neighbouring entries next to @set for key: '${o}'`,n.ERROR_CODES.INVALID_SET_OR_LIST_OBJECT);return[]}else if("@list"in l){if(Object.keys(l).length>1)throw new n.ErrorCoded(`Found illegal neighbouring entries next to @list for key: '${o}'`,n.ERROR_CODES.INVALID_SET_OR_LIST_OBJECT);const f=l["@list"];return Array.isArray(f)?f.length===0?[this.rdfNil]:this.parsingContext.idStack[s+1]||[]:await this.valueToTerm(await this.parsingContext.getContext(c),o,f,s-1,c.slice(0,-1))}else{if("@reverse"in l&&typeof l["@reverse"]=="boolean")return[];if("@graph"in r.getContextValueContainer(await this.parsingContext.getContext(c),o)){const f=this.parsingContext.graphContainerTermStack[s+1];return f?Object.values(f):[this.dataFactory.blankNode()]}else if("@id"in l){if(Object.keys(l).length>1&&(i=await this.parsingContext.getContext(c,0)),"@context"in l&&(i=await this.parsingContext.parseContext(l["@context"],i.getContextRaw())),l["@type"]==="@vocab")return this.nullableTermToArray(this.createVocabOrBaseTerm(i,l["@id"]));{const f=l["@id"];let p;if(typeof f=="object")if(this.parsingContext.rdfstar)p=this.parsingContext.idStack[s+1][0];else throw new n.ErrorCoded(`Found illegal @id '${l}'`,n.ERROR_CODES.INVALID_ID_VALUE);else p=this.resourceToTerm(i,f);return this.nullableTermToArray(p)}}else return this.parsingContext.emittedStack[s+1]||l&&typeof l=="object"&&Object.keys(l).length===0?this.parsingContext.idStack[s+1]||(this.parsingContext.idStack[s+1]=[this.dataFactory.blankNode()]):[]}case"string":return this.nullableTermToArray(this.stringValueToTerm(s,await this.getContextSelfOrPropertyScoped(i,o),o,l,null));case"boolean":return this.nullableTermToArray(this.stringValueToTerm(s,await this.getContextSelfOrPropertyScoped(i,o),o,(!!l).toString(),this.dataFactory.namedNode(r.XSD_BOOLEAN)));case"number":return this.nullableTermToArray(this.stringValueToTerm(s,await this.getContextSelfOrPropertyScoped(i,o),o,l,this.dataFactory.namedNode(l%1===0&&l<1e21?r.XSD_INTEGER:r.XSD_DOUBLE)));default:return this.parsingContext.emitError(new Error(`Could not determine the RDF type of a ${d}`)),[]}}async getContextSelfOrPropertyScoped(i,o){const l=i.getContextRaw()[o];return l&&typeof l=="object"&&"@context"in l&&(i=await this.parsingContext.parseContext(l,i.getContextRaw(),!0)),i}nullableTermToArray(i){return i?[i]:[]}predicateToTerm(i,o){const l=i.expandTerm(o,!0,this.parsingContext.getExpandOptions());if(!l)return null;if(l[0]==="_"&&l[1]===":")return this.parsingContext.produceGeneralizedRdf?this.dataFactory.blankNode(l.substr(2)):null;if(r.isValidIri(l))return this.dataFactory.namedNode(l);if(l&&this.parsingContext.strictValues)this.parsingContext.emitError(new n.ErrorCoded(`Invalid predicate IRI: ${l}`,n.ERROR_CODES.INVALID_IRI_MAPPING));else return null;return null}resourceToTerm(i,o){if(o.startsWith("_:"))return this.dataFactory.blankNode(o.substr(2));const l=i.expandTerm(o,!1,this.parsingContext.getExpandOptions());if(!r.isValidIri(l))if(l&&this.parsingContext.strictValues)this.parsingContext.emitError(new Error(`Invalid resource IRI: ${l}`));else return null;return this.dataFactory.namedNode(l)}createVocabOrBaseTerm(i,o){if(o.startsWith("_:"))return this.dataFactory.blankNode(o.substr(2));const l=this.parsingContext.getExpandOptions();let s=i.expandTerm(o,!0,l);if(s===o&&(s=i.expandTerm(o,!1,l)),!r.isValidIri(s))if(s&&this.parsingContext.strictValues&&!s.startsWith("@"))this.parsingContext.emitError(new Error(`Invalid term IRI: ${s}`));else return null;return this.dataFactory.namedNode(s)}intToString(i,o){return typeof i=="number"?Number.isFinite(i)?i%1===0&&(!o||o.value!==r.XSD_DOUBLE)?Number(i).toString():i.toExponential(15).replace(/(\d)0*e\+?/,"$1E"):i>0?"INF":"-INF":i}stringValueToTerm(i,o,l,s,c){const d=r.getContextValueType(o,l);if(d)if(d==="@id"){if(!c)return this.resourceToTerm(o,this.intToString(s,c))}else if(d==="@vocab"){if(!c)return this.createVocabOrBaseTerm(o,this.intToString(s,c))}else c=this.dataFactory.namedNode(d);if(!c){const f=r.getContextValueLanguage(o,l),p=r.getContextValueDirection(o,l);return p&&this.parsingContext.rdfDirection?this.createLanguageDirectionLiteral(i,this.intToString(s,c),f,p):this.dataFactory.literal(this.intToString(s,c),f)}return this.dataFactory.literal(this.intToString(s,c),c)}createLanguageDirectionLiteral(i,o,l,s){if(this.parsingContext.rdfDirection==="i18n-datatype")return l||(l=""),this.dataFactory.literal(o,this.dataFactory.namedNode(`https://www.w3.org/ns/i18n#${l}_${s}`));{const c=this.dataFactory.blankNode(),d=this.getDefaultGraph();return this.parsingContext.emitQuad(i,this.dataFactory.quad(c,this.dataFactory.namedNode(r.RDF+"value"),this.dataFactory.literal(o),d)),l&&this.parsingContext.emitQuad(i,this.dataFactory.quad(c,this.dataFactory.namedNode(r.RDF+"language"),this.dataFactory.literal(l),d)),this.parsingContext.emitQuad(i,this.dataFactory.quad(c,this.dataFactory.namedNode(r.RDF+"direction"),this.dataFactory.literal(s),d)),c}}valueToJsonString(i){return a(i)}async unaliasKeyword(i,o,l,s,c){if(Number.isInteger(i))return i;if(!s){const d=this.parsingContext.unaliasedKeywordCacheStack[l];if(d)return d}if(!n.Util.isPotentialKeyword(i)){c=c||await this.parsingContext.getContext(o);let d=c.getContextRaw()[i];d&&typeof d=="object"&&(d=d["@id"]),n.Util.isValidKeyword(d)&&(i=d)}return s?i:this.parsingContext.unaliasedKeywordCacheStack[l]=i}async unaliasKeywordParent(i,o){return await this.unaliasKeyword(o>0&&i[o-1],i,o-1)}async unaliasKeywords(i,o,l,s){const c={};for(const d in i)c[await this.unaliasKeyword(d,o,l+1,!0,s)]=i[d];return c}async isLiteral(i,o){for(let l=o;l>=0;l--){if(await this.unaliasKeyword(i[l],i,l)==="@annotation")return!1;if(this.parsingContext.literalStack[l]||this.parsingContext.jsonLiteralStack[l])return!0}return!1}async getDepthOffsetGraph(i,o){for(let l=i-1;l>0;l--)if(await this.unaliasKeyword(o[l],o,l)==="@graph"){const s=(await u.EntryHandlerContainer.getContainerHandler(this.parsingContext,o,l)).containers;return u.EntryHandlerContainer.isComplexGraphContainer(s)?-1:i-l-1}return-1}validateReverseSubject(i){if(i.termType==="Literal")throw new n.ErrorCoded(`Found illegal literal in subject position: ${i.value}`,n.ERROR_CODES.INVALID_REVERSE_PROPERTY_VALUE)}getDefaultGraph(){return this.parsingContext.defaultGraph||this.dataFactory.defaultGraph()}async getGraphContainerValue(i,o){let l=this.getDefaultGraph();const{containers:s,depth:c}=await u.EntryHandlerContainer.getContainerHandler(this.parsingContext,i,o);if("@graph"in s){const d=u.EntryHandlerContainer.getContainerGraphIndex(s,c,i),f=this.parsingContext.graphContainerTermStack[c];if(l=f?f[d]:null,!l){let p=null;if("@id"in s){const h=await this.getContainerKey(i[c],i,c);h!==null&&(p=await this.resourceToTerm(await this.parsingContext.getContext(i),h))}p||(p=this.dataFactory.blankNode()),this.parsingContext.graphContainerTermStack[c]||(this.parsingContext.graphContainerTermStack[c]={}),l=this.parsingContext.graphContainerTermStack[c][d]=p}}return l}async getPropertiesDepth(i,o){let l=o;for(let s=o-1;s>0;s--)if(typeof i[s]!="number"){const c=await this.unaliasKeyword(i[s],i,s);if(c==="@reverse")return s;if(c==="@nest")l=s;else return l}return l}async getContainerKey(i,o,l){const s=await this.unaliasKeyword(i,o,l);return s==="@none"?null:s}validateReverseInEmbeddedNode(i,o,l){if(l&&o&&!this.parsingContext.rdfstarReverseInEmbedded)throw new n.ErrorCoded(`Illegal reverse property in embedded node in ${i}`,n.ERROR_CODES.INVALID_EMBEDDED_NODE)}emitQuadChecked(i,o,l,s,c,d,f){let p;if(d?(this.validateReverseSubject(s),p=this.dataFactory.quad(s,l,o,c)):p=this.dataFactory.quad(o,l,s,c),f){if(p.graph.termType!=="DefaultGraph"&&(p=this.dataFactory.quad(p.subject,p.predicate,p.object)),this.parsingContext.idStack[i-1])throw new n.ErrorCoded("Illegal multiple properties in an embedded node",n.ERROR_CODES.INVALID_EMBEDDED_NODE);this.parsingContext.idStack[i-1]=[p]}else this.parsingContext.emitQuad(i,p);const h=this.parsingContext.annotationsBuffer[i];if(h){for(const g of h)this.emitAnnotation(i,p,g);delete this.parsingContext.annotationsBuffer[i]}}emitAnnotation(i,o,l){let s;l.reverse?(this.validateReverseSubject(l.object),s=this.dataFactory.quad(l.object,l.predicate,o)):s=this.dataFactory.quad(o,l.predicate,l.object),this.parsingContext.emitQuad(i,s);for(const c of l.nestedAnnotations)this.emitAnnotation(i,s,c)}}return r.XSD="http://www.w3.org/2001/XMLSchema#",r.XSD_BOOLEAN=r.XSD+"boolean",r.XSD_INTEGER=r.XSD+"integer",r.XSD_DOUBLE=r.XSD+"double",r.RDF="http://www.w3.org/1999/02/22-rdf-syntax-ns#",DA.Util=r,DA}var Ude;function KMe(){if(Ude)return IA;Ude=1,Object.defineProperty(IA,"__esModule",{value:!0}),IA.EntryHandlerArrayValue=void 0;const n=Ab(),e=vi();let u=class{isPropertyHandler(){return!1}isStackProcessor(){return!0}async validate(r,t,i,o,l){return this.test(r,t,null,i,o)}async test(r,t,i,o,l){return typeof o[l]=="number"}async handle(r,t,i,o,l,s){let c=await t.unaliasKeywordParent(o,s);if(c==="@list"){let d=null,f=0;for(let p=s-2;p>0;p--){const h=o[p];if(typeof h=="string"||typeof h=="number"){f=p,d=h;break}}if(d!==null){const p=await t.valueToTerm(await r.getContext(o),d,l,s,o);for(const h of p)await this.handleListElement(r,t,h,l,s,o.slice(0,f),f);p.length===0&&await this.handleListElement(r,t,null,l,s,o.slice(0,f),f)}}else if(c==="@set")await r.newOnValueJob(o.slice(0,-2),l,s-2,!1);else if(c!==void 0&&c!=="@type"){for(let f=s-1;f>0;f--)if(typeof o[f]!="number"){c=await t.unaliasKeyword(o[f],o,f);break}const d=await r.getContext(o.slice(0,-1));if("@list"in n.Util.getContextValueContainer(d,c)){r.emittedStack[s+1]=!0;const f=await t.valueToTerm(await r.getContext(o),c,l,s,o);for(const p of f)await this.handleListElement(r,t,p,l,s,o.slice(0,-1),s-1);f.length===0&&await this.handleListElement(r,t,null,l,s,o.slice(0,-1),s-1)}else r.shiftStack(s,1),await r.newOnValueJob(o.slice(0,-1),l,s-1,!1),r.contextTree.removeContext(o.slice(0,-1))}}async handleListElement(r,t,i,o,l,s,c){let d=r.listPointerStack[l];if(o!==null&&(await t.unaliasKeywords(o,s,l))["@value"]!==null){if(!d||!d.value){const f=t.dataFactory.blankNode();d={value:f,listRootDepth:c,listId:f}}else{const f=t.dataFactory.blankNode();r.emitQuad(l,t.dataFactory.quad(d.value,t.rdfRest,f,t.getDefaultGraph())),d.value=f}i&&r.emitQuad(l,t.dataFactory.quad(d.value,t.rdfFirst,i,t.getDefaultGraph()))}else d||(d={listRootDepth:c,listId:t.rdfNil});r.listPointerStack[l]=d,r.rdfstar&&r.annotationsBuffer[l]&&r.emitError(new e.ErrorCoded("Found an illegal annotation inside a list",e.ERROR_CODES.INVALID_ANNOTATION))}};return IA.EntryHandlerArrayValue=u,IA}var qA={},Qde;function JMe(){if(Qde)return qA;Qde=1,Object.defineProperty(qA,"__esModule",{value:!0}),qA.EntryHandlerInvalidFallback=void 0;let n=class{isPropertyHandler(){return!1}isStackProcessor(){return!0}async validate(u,a,r,t,i){return!1}async test(u,a,r,t,i){return!0}async handle(u,a,r,t,i,o){u.emittedStack[o]=!1}};return qA.EntryHandlerInvalidFallback=n,qA}var BA={},UA={},Vde;function El(){if(Vde)return UA;Vde=1,Object.defineProperty(UA,"__esModule",{value:!0}),UA.EntryHandlerKeyword=void 0;let n=class{constructor(u){this.keyword=u}isPropertyHandler(){return!1}isStackProcessor(){return!0}async validate(u,a,r,t,i){return!1}async test(u,a,r,t,i){return r===this.keyword}};return UA.EntryHandlerKeyword=n,UA}var Hde;function WMe(){if(Hde)return BA;Hde=1,Object.defineProperty(BA,"__esModule",{value:!0}),BA.EntryHandlerKeywordContext=void 0;const n=vi(),e=El();let u=class extends e.EntryHandlerKeyword{constructor(){super("@context")}isStackProcessor(){return!1}async handle(r,t,i,o,l,s){r.streamingProfile&&(r.processingStack[s]||r.processingType[s]||r.idStack[s]!==void 0)&&r.emitError(new n.ErrorCoded("Found an out-of-order context, while streaming is enabled.(disable `streamingProfile`)",n.ERROR_CODES.INVALID_STREAMING_KEY_ORDER));const c=r.getContext(o),d=r.parseContext(l,(await c).getContextRaw());r.contextTree.setContext(o.slice(0,-1),d),r.emitContext(l),await r.validateContext(await d)}};return BA.EntryHandlerKeywordContext=u,BA}var QA={},kde;function YMe(){if(kde)return QA;kde=1,Object.defineProperty(QA,"__esModule",{value:!0}),QA.EntryHandlerKeywordGraph=void 0;const n=El();let e=class extends n.EntryHandlerKeyword{constructor(){super("@graph")}async handle(a,r,t,i,o,l){a.graphStack[l+1]=!0}};return QA.EntryHandlerKeywordGraph=e,QA}var VA={},zde;function ZMe(){if(zde)return VA;zde=1,Object.defineProperty(VA,"__esModule",{value:!0}),VA.EntryHandlerKeywordId=void 0;const n=vi(),e=El();let u=class extends e.EntryHandlerKeyword{constructor(){super("@id")}isStackProcessor(){return!1}async handle(r,t,i,o,l,s){if(typeof l!="string"){if(r.rdfstar&&typeof l=="object"){const d=Object.keys(l);d.length===1&&d[0]==="@id"&&r.emitError(new n.ErrorCoded(`Invalid embedded node without property with @id ${l["@id"]}`,n.ERROR_CODES.INVALID_EMBEDDED_NODE))}else r.emitError(new n.ErrorCoded(`Found illegal @id '${l}'`,n.ERROR_CODES.INVALID_ID_VALUE));return}const c=await t.getPropertiesDepth(o,s);if(r.idStack[c]!==void 0&&(r.idStack[c][0].listHead?r.emitError(new n.ErrorCoded(`Found illegal neighbouring entries next to @list for key: '${o[s-1]}'`,n.ERROR_CODES.INVALID_SET_OR_LIST_OBJECT)):r.emitError(new n.ErrorCoded(`Found duplicate @ids '${r.idStack[c][0].value}' and '${l}'`,n.ERROR_CODES.COLLIDING_KEYWORDS))),r.rdfstar&&r.annotationsBuffer[s])for(const d of r.annotationsBuffer[s])d.depth===s&&r.emitError(new n.ErrorCoded(`Found an illegal @id inside an annotation: ${l}`,n.ERROR_CODES.INVALID_ANNOTATION));r.idStack[c]=t.nullableTermToArray(await t.resourceToTerm(await r.getContext(o),l))}};return VA.EntryHandlerKeywordId=u,VA}var HA={},Gde;function eCe(){if(Gde)return HA;Gde=1,Object.defineProperty(HA,"__esModule",{value:!0}),HA.EntryHandlerKeywordIncluded=void 0;const n=vi(),e=El();let u=class extends e.EntryHandlerKeyword{constructor(){super("@included")}async handle(r,t,i,o,l,s){typeof l!="object"&&r.emitError(new n.ErrorCoded(`Found illegal @included '${l}'`,n.ERROR_CODES.INVALID_INCLUDED_VALUE));const c=await t.unaliasKeywords(l,o,s,await r.getContext(o));"@value"in c&&r.emitError(new n.ErrorCoded(`Found an illegal @included @value node '${JSON.stringify(l)}'`,n.ERROR_CODES.INVALID_INCLUDED_VALUE)),"@list"in c&&r.emitError(new n.ErrorCoded(`Found an illegal @included @list node '${JSON.stringify(l)}'`,n.ERROR_CODES.INVALID_INCLUDED_VALUE)),r.emittedStack[s]=!1}};return HA.EntryHandlerKeywordIncluded=u,HA}var kA={},$de;function tCe(){if($de)return kA;$de=1,Object.defineProperty(kA,"__esModule",{value:!0}),kA.EntryHandlerKeywordNest=void 0;const n=vi(),e=El();let u=class extends e.EntryHandlerKeyword{constructor(){super("@nest")}async handle(r,t,i,o,l,s){typeof l!="object"&&r.emitError(new n.ErrorCoded(`Found invalid @nest entry for '${i}': '${l}'`,n.ERROR_CODES.INVALID_NEST_VALUE)),"@value"in await t.unaliasKeywords(l,o,s,await r.getContext(o))&&r.emitError(new n.ErrorCoded(`Found an invalid @value node for '${i}'`,n.ERROR_CODES.INVALID_NEST_VALUE)),r.emittedStack[s]=!1}};return kA.EntryHandlerKeywordNest=u,kA}var zA={},Xde;function rCe(){if(Xde)return zA;Xde=1,Object.defineProperty(zA,"__esModule",{value:!0}),zA.EntryHandlerKeywordType=void 0;const n=vi(),e=Ab(),u=xP(),a=El();let r=class extends a.EntryHandlerKeyword{constructor(){super("@type")}isStackProcessor(){return!1}async handle(i,o,l,s,c,d){const f=s[d],p=await i.getContext(s),h=o.rdfType,g=await o.unaliasKeywordParent(s,d),_=e.Util.isPropertyReverse(p,f,g),m=e.Util.isPropertyInEmbeddedNode(g);o.validateReverseInEmbeddedNode(l,_,m);const w=e.Util.isPropertyInAnnotationObject(g),T=Array.isArray(c)?c:[c];for(const N of T){typeof N!="string"&&i.emitError(new n.ErrorCoded(`Found illegal @type '${N}'`,n.ERROR_CODES.INVALID_TYPE_VALUE));const j=o.createVocabOrBaseTerm(p,N);j&&await u.EntryHandlerPredicate.handlePredicateObject(i,o,s,d,h,j,_,m,w)}let E=Promise.resolve(p),S=!1;for(const N of T.sort()){const j=e.Util.getContextValue(p,"@context",N,null);j&&(S=!0,E=E.then(q=>i.parseContext(j,q.getContextRaw())))}i.streamingProfile&&(S||!i.streamingProfileAllowOutOfOrderPlainType)&&(i.processingStack[d]||i.idStack[d])&&i.emitError(new n.ErrorCoded("Found an out-of-order type-scoped context, while streaming is enabled.(disable `streamingProfile`)",n.ERROR_CODES.INVALID_STREAMING_KEY_ORDER)),S&&(E=E.then(N=>N.getContextRaw()["@propagate"]!==!0?new n.JsonLdContextNormalized(Object.assign(Object.assign({},N.getContextRaw()),{"@propagate":!1,"@__propagateFallback":p.getContextRaw()})):N),i.contextTree.setContext(s.slice(0,s.length-1),E)),i.processingType[d]=!0}};return zA.EntryHandlerKeywordType=r,zA}var GA={},Kde;function nCe(){if(Kde)return GA;Kde=1,Object.defineProperty(GA,"__esModule",{value:!0}),GA.EntryHandlerKeywordUnknownFallback=void 0;const n=vi();let e=class u3e{isPropertyHandler(){return!1}isStackProcessor(){return!0}async validate(a,r,t,i,o){const l=await r.unaliasKeyword(t[i],t,i);return n.Util.isPotentialKeyword(l)?!(!o&&l==="@list"):!1}async test(a,r,t,i,o){return n.Util.isPotentialKeyword(t)}async handle(a,r,t,i,o,l){const s=u3e.VALID_KEYWORDS_TYPES[t];s!==void 0?s&&typeof o!==s.type&&a.emitError(new n.ErrorCoded(`Invalid value type for '${t}' with value '${o}'`,s.errorCode)):a.strictValues&&a.emitError(new Error(`Unknown keyword '${t}' with value '${o}'`)),a.emittedStack[l]=!1}};return e.VALID_KEYWORDS_TYPES={"@index":{type:"string",errorCode:n.ERROR_CODES.INVALID_INDEX_VALUE},"@list":null,"@reverse":{type:"object",errorCode:n.ERROR_CODES.INVALID_REVERSE_VALUE},"@set":null,"@value":null},GA.EntryHandlerKeywordUnknownFallback=e,GA}var $A={},Jde;function aCe(){if(Jde)return $A;Jde=1,Object.defineProperty($A,"__esModule",{value:!0}),$A.EntryHandlerKeywordValue=void 0;const n=El();let e=class extends n.EntryHandlerKeyword{constructor(){super("@value")}async validate(a,r,t,i,o){const l=t[i];return l&&!a.literalStack[i]&&await this.test(a,r,l,t,i)&&(a.literalStack[i]=!0),super.validate(a,r,t,i,o)}async test(a,r,t,i,o){return await r.unaliasKeyword(i[o],i.slice(0,i.length-1),o-1,!0)==="@value"}async handle(a,r,t,i,o,l){a.literalStack[l]=!0,delete a.unidentifiedValuesBuffer[l],delete a.unidentifiedGraphsBuffer[l],a.emittedStack[l]=!1}};return $A.EntryHandlerKeywordValue=e,$A}var XA={},KA={},Wde;function iCe(){if(Wde)return KA;Wde=1,Object.defineProperty(KA,"__esModule",{value:!0}),KA.ContextTree=void 0;let n=class o3e{constructor(){this.subTrees={}}getContext(u){if(u.length>0){const[a,...r]=u,t=this.subTrees[a];if(t){const i=t.getContext(r);if(i)return i.then(({context:o,depth:l})=>({context:o,depth:l+1}))}}return this.context?this.context.then(a=>({context:a,depth:0})):null}setContext(u,a){if(u.length===0)this.context=a;else{const[r,...t]=u;let i=this.subTrees[r];i||(i=this.subTrees[r]=new o3e),i.setContext(t,a)}}removeContext(u){this.setContext(u,null)}};return KA.ContextTree=n,KA}var Yde;function uCe(){if(Yde)return XA;Yde=1,Object.defineProperty(XA,"__esModule",{value:!0}),XA.ParsingContext=void 0;const n=vi(),e=nN(),u=iCe(),a=c3e();let r=class s3e{constructor(i){this.contextParser=new n.ContextParser({documentLoader:i.documentLoader,skipValidation:i.skipContextValidation}),this.streamingProfile=!!i.streamingProfile,this.baseIRI=i.baseIRI,this.produceGeneralizedRdf=!!i.produceGeneralizedRdf,this.allowSubjectList=!!i.allowSubjectList,this.processingMode=i.processingMode||a.JsonLdParser.DEFAULT_PROCESSING_MODE,this.strictValues=!!i.strictValues,this.validateValueIndexes=!!i.validateValueIndexes,this.defaultGraph=i.defaultGraph,this.rdfDirection=i.rdfDirection,this.normalizeLanguageTags=i.normalizeLanguageTags,this.streamingProfileAllowOutOfOrderPlainType=i.streamingProfileAllowOutOfOrderPlainType,this.rdfstar=i.rdfstar!==!1,this.rdfstarReverseInEmbedded=i.rdfstarReverseInEmbedded,this.topLevelProperties=!1,this.activeProcessingMode=parseFloat(this.processingMode),this.processingStack=[],this.processingType=[],this.emittedStack=[],this.idStack=[],this.graphStack=[],this.graphContainerTermStack=[],this.listPointerStack=[],this.contextTree=new u.ContextTree,this.literalStack=[],this.validationStack=[],this.unaliasedKeywordCacheStack=[],this.jsonLiteralStack=[],this.unidentifiedValuesBuffer=[],this.unidentifiedGraphsBuffer=[],this.annotationsBuffer=[],this.pendingContainerFlushBuffers=[],this.parser=i.parser,i.context?(this.rootContext=this.parseContext(i.context),this.rootContext.then(o=>this.validateContext(o))):this.rootContext=Promise.resolve(new n.JsonLdContextNormalized(this.baseIRI?{"@base":this.baseIRI,"@__baseDocument":!0}:{}))}async parseContext(i,o,l){return this.contextParser.parse(i,{baseIRI:this.baseIRI,ignoreProtection:l,normalizeLanguageTags:this.normalizeLanguageTags,parentContext:o,processingMode:this.activeProcessingMode})}validateContext(i){const o=i.getContextRaw()["@version"];if(o){if(this.activeProcessingMode&&o>this.activeProcessingMode)throw new e.ErrorCoded(`Unsupported JSON-LD version '${o}' under active processing mode ${this.activeProcessingMode}.`,e.ERROR_CODES.PROCESSING_MODE_CONFLICT);if(this.activeProcessingMode&&o<this.activeProcessingMode)throw new e.ErrorCoded(`Invalid JSON-LD version ${o} under active processing mode ${this.activeProcessingMode}.`,e.ERROR_CODES.INVALID_VERSION_VALUE);this.activeProcessingMode=o}}async getContext(i,o=1){const l=i;for(;typeof i[i.length-1]=="number";)i=i.slice(0,i.length-1);o&&(i=i.slice(0,-o));const s=await this.getContextPropagationAware(i);let d=s.context.getContextRaw();for(let f=s.depth;f<l.length-o;f++){const p=l[f],h=d[p];if(h&&typeof h=="object"&&"@context"in h){const g=(await this.parseContext(h,d,!0)).getContextRaw(),_=!(p in g)||g[p]["@context"]["@propagate"];(_!==!1||f===l.length-1-o)&&(d=Object.assign({},g),delete d["@propagate"],d[p]=Object.assign({},d[p]),"@id"in h&&(d[p]["@id"]=h["@id"]),delete d[p]["@context"],_!==!1&&this.contextTree.setContext(l.slice(0,f+o),Promise.resolve(new n.JsonLdContextNormalized(d))))}}return new n.JsonLdContextNormalized(d)}async getContextPropagationAware(i){const o=i.length;let l=null,s;do{s=!1,l&&"@__propagateFallback"in l.context.getContextRaw()?l.context=new n.JsonLdContextNormalized(l.context.getContextRaw()["@__propagateFallback"]):(l&&(i=i.slice(0,l.depth-1)),l=await this.contextTree.getContext(i)||{context:await this.rootContext,depth:0});const c=i[i.length-1];if(c in l.context.getContextRaw()){const d=l.context.getContextRaw()[c];d&&typeof d=="object"&&"@context"in d&&(s=!0)}}while(l.depth>0&&l.context.getContextRaw()["@propagate"]===!1&&l.depth!==o&&!s);return l.depth===0&&l.context.getContextRaw()["@propagate"]===!1&&l.depth!==o&&(l.context=new n.JsonLdContextNormalized({})),l}async newOnValueJob(i,o,l,s){await this.parser.newOnValueJob(i,o,l,s)}async handlePendingContainerFlushBuffers(){if(this.pendingContainerFlushBuffers.length>0){for(const i of this.pendingContainerFlushBuffers)await this.parser.flushBuffer(i.depth,i.keys),this.parser.flushStacks(i.depth);return this.pendingContainerFlushBuffers.splice(0,this.pendingContainerFlushBuffers.length),!0}else return!1}emitQuad(i,o){i===1&&(this.topLevelProperties=!0),this.parser.push(o)}emitError(i){this.parser.emit("error",i)}emitContext(i){this.parser.emit("context",i)}getUnidentifiedValueBufferSafe(i){let o=this.unidentifiedValuesBuffer[i];return o||(o=[],this.unidentifiedValuesBuffer[i]=o),o}getUnidentifiedGraphBufferSafe(i){let o=this.unidentifiedGraphsBuffer[i];return o||(o=[],this.unidentifiedGraphsBuffer[i]=o),o}getAnnotationsBufferSafe(i){let o=this.annotationsBuffer[i];return o||(o=[],this.annotationsBuffer[i]=o),o}getExpandOptions(){return s3e.EXPAND_OPTIONS[this.activeProcessingMode]}shiftStack(i,o){const l=this.idStack[i+o];if(l&&(this.idStack[i]=l,this.emittedStack[i]=!0,delete this.idStack[i+o]),this.pendingContainerFlushBuffers.length)for(const s of this.pendingContainerFlushBuffers)s.depth>=i+o&&(s.depth-=o,s.keys.splice(i,o));this.unidentifiedValuesBuffer[i+o]&&(this.unidentifiedValuesBuffer[i]=this.unidentifiedValuesBuffer[i+o],delete this.unidentifiedValuesBuffer[i+o]),this.annotationsBuffer[i+o-1]&&(this.annotationsBuffer[i-1]||(this.annotationsBuffer[i-1]=[]),this.annotationsBuffer[i-1]=[...this.annotationsBuffer[i-1],...this.annotationsBuffer[i+o-1]],delete this.annotationsBuffer[i+o-1])}};return r.EXPAND_OPTIONS={1:{allowPrefixForcing:!1,allowPrefixNonGenDelims:!1,allowVocabRelativeToBase:!1},1.1:{allowPrefixForcing:!0,allowPrefixNonGenDelims:!1,allowVocabRelativeToBase:!0}},XA.ParsingContext=r,XA}var JA={},Zde;function oCe(){if(Zde)return JA;Zde=1,Object.defineProperty(JA,"__esModule",{value:!0}),JA.EntryHandlerKeywordAnnotation=void 0;const n=El(),e=vi();let u=class extends n.EntryHandlerKeyword{constructor(){super("@annotation")}async handle(r,t,i,o,l,s){(typeof l=="string"||typeof l=="object"&&l["@value"])&&r.emitError(new e.ErrorCoded(`Found illegal annotation value: ${JSON.stringify(l)}`,e.ERROR_CODES.INVALID_ANNOTATION))}};return JA.EntryHandlerKeywordAnnotation=u,JA}var efe;function c3e(){if(efe)return OA;efe=1,Object.defineProperty(OA,"__esModule",{value:!0}),OA.JsonLdParser=void 0;const n=_B(),e=vi(),u=Nr(),a=KMe(),r=i3e(),t=JMe(),i=xP(),o=WMe(),l=YMe(),s=ZMe(),c=eCe(),d=tCe(),f=rCe(),p=nCe(),h=aCe(),g=uCe(),_=Ab(),m=W4(),w=oCe();let T=class jg extends u.Transform{constructor(S){super({readableObjectMode:!0}),S=S||{},this.options=S,this.parsingContext=new g.ParsingContext(Object.assign({parser:this},S)),this.util=new _.Util({dataFactory:S.dataFactory,parsingContext:this.parsingContext}),this.jsonParser=new n,this.contextJobs=[],this.typeJobs=[],this.contextAwaitingJobs=[],this.lastDepth=0,this.lastKeys=[],this.lastOnValueJob=Promise.resolve(),this.attachJsonParserListeners(),this.on("end",()=>{typeof this.jsonParser.mode<"u"&&this.emit("error",new Error("Unclosed document"))})}static fromHttpResponse(S,N,j,q){let O,I=["application/activity+json"];if(q&&q.wellKnownMediaTypes&&(I=q.wellKnownMediaTypes),N!=="application/ld+json"&&!I.includes(N)){if(N!=="application/json"&&!N.endsWith("+json"))throw new e.ErrorCoded(`Unsupported JSON-LD media type ${N}`,e.ERROR_CODES.LOADING_DOCUMENT_FAILED);if(j&&j.has("Link")&&j.forEach((P,C)=>{if(C==="link"){const B=(0,m.parse)(P);for(const V of B.get("rel","http://www.w3.org/ns/json-ld#context")){if(O)throw new e.ErrorCoded("Multiple JSON-LD context link headers were found on "+S,e.ERROR_CODES.MULTIPLE_CONTEXT_LINK_HEADERS);O=V.uri}}}),!O&&!q?.ignoreMissingContextLinkHeader)throw new e.ErrorCoded(`Missing context link header for media type ${N} on ${S}`,e.ERROR_CODES.LOADING_DOCUMENT_FAILED)}let A;if(j&&j.has("Content-Type")){const P=j.get("Content-Type"),C=/; *profile=([^"]*)/.exec(P);C&&C[1]==="http://www.w3.org/ns/json-ld#streaming"&&(A=!0)}return new jg(Object.assign({baseIRI:S,context:O,streamingProfile:A},q||{}))}import(S){if("pipe"in S){S.on("error",j=>N.emit("error",j));const N=S.pipe(new jg(this.options));return N}else{const N=new u.PassThrough({readableObjectMode:!0});S.on("error",q=>j.emit("error",q)),S.on("data",q=>N.push(q)),S.on("end",()=>N.push(null));const j=N.pipe(new jg(this.options));return j}}_transform(S,N,j){this.jsonParser.write(S),this.lastOnValueJob.then(()=>j(),q=>j(q))}async newOnValueJob(S,N,j,q){let O=!0;if(q&&j<this.lastDepth){const B=this.parsingContext.listPointerStack[this.lastDepth];B&&(B.value&&this.push(this.util.dataFactory.quad(B.value,this.util.rdfRest,this.util.rdfNil,this.util.getDefaultGraph())),B.listId.listHead=!0,this.parsingContext.idStack[B.listRootDepth+1]=[B.listId],this.parsingContext.listPointerStack.splice(this.lastDepth,1)),await r.EntryHandlerContainer.isBufferableContainerHandler(this.parsingContext,this.lastKeys,this.lastDepth)?(this.parsingContext.pendingContainerFlushBuffers.push({depth:this.lastDepth,keys:this.lastKeys.slice(0,this.lastKeys.length)}),O=!1):await this.flushBuffer(this.lastDepth,this.lastKeys)}const I=await this.util.unaliasKeyword(S[j],S,j),A=await this.util.unaliasKeywordParent(S,j);this.parsingContext.emittedStack[j]=!0;let P=!0;e.Util.isValidKeyword(I)&&A==="@reverse"&&I!=="@context"&&this.emit("error",new e.ErrorCoded(`Found the @id '${N}' inside an @reverse property`,e.ERROR_CODES.INVALID_REVERSE_PROPERTY_MAP));let C=!1;this.parsingContext.validationStack.length>1&&(C=this.parsingContext.validationStack[this.parsingContext.validationStack.length-1].property);for(let B=Math.max(1,this.parsingContext.validationStack.length-1);B<S.length-1;B++){const V=this.parsingContext.validationStack[B]||(this.parsingContext.validationStack[B]=await this.validateKey(S.slice(0,B+1),B,C));if(V.valid)!C&&V.property&&(C=!0);else{this.parsingContext.emittedStack[j]=!1,P=!1;break}}if(await this.util.isLiteral(S,j)&&(P=!1),P)for(const B of jg.ENTRY_HANDLERS){const V=await B.test(this.parsingContext,this.util,I,S,j);if(V){await B.handle(this.parsingContext,this.util,I,S,N,j,V),B.isStackProcessor()&&(this.parsingContext.processingStack[j]=!0);break}}j===0&&Array.isArray(N)&&await this.util.validateValueIndexes(N),O&&j<this.lastDepth&&this.flushStacks(this.lastDepth),this.lastDepth=j,this.lastKeys=S,this.parsingContext.unaliasedKeywordCacheStack.splice(j-1)}flushStacks(S){this.parsingContext.processingStack.splice(S,1),this.parsingContext.processingType.splice(S,1),this.parsingContext.emittedStack.splice(S,1),this.parsingContext.idStack.splice(S,1),this.parsingContext.graphStack.splice(S+1,1),this.parsingContext.graphContainerTermStack.splice(S,1),this.parsingContext.jsonLiteralStack.splice(S,1),this.parsingContext.validationStack.splice(S-1,2),this.parsingContext.literalStack.splice(S,this.parsingContext.literalStack.length-S),this.parsingContext.annotationsBuffer.splice(S,1)}async flushBuffer(S,N){let j=this.parsingContext.idStack[S];j||(j=this.parsingContext.idStack[S]=[this.util.dataFactory.blankNode()]);const O=this.parsingContext.unidentifiedValuesBuffer[S];if(O){for(const P of j){const C=await this.util.getDepthOffsetGraph(S,N),B=this.parsingContext.graphStack[S]||C>=0?this.parsingContext.idStack[S-C-1]:[await this.util.getGraphContainerValue(N,S)];if(B)for(const V of B){this.parsingContext.emittedStack[S]=!0;for(const U of O)this.util.emitQuadChecked(S,P,U.predicate,U.object,V,U.reverse,U.isEmbedded)}else{const V=this.parsingContext.getUnidentifiedGraphBufferSafe(S-await this.util.getDepthOffsetGraph(S,N)-1);for(const U of O)U.reverse?V.push({object:P,predicate:U.predicate,subject:U.object,isEmbedded:U.isEmbedded}):V.push({object:U.object,predicate:U.predicate,subject:P,isEmbedded:U.isEmbedded})}}this.parsingContext.unidentifiedValuesBuffer.splice(S,1),this.parsingContext.literalStack.splice(S,1),this.parsingContext.jsonLiteralStack.splice(S,1)}const I=this.parsingContext.unidentifiedGraphsBuffer[S];if(I){for(const P of j){const C=S===1&&P.termType==="BlankNode"&&!this.parsingContext.topLevelProperties?this.util.getDefaultGraph():P;this.parsingContext.emittedStack[S]=!0;for(const B of I)this.parsingContext.emitQuad(S,this.util.dataFactory.quad(B.subject,B.predicate,B.object,C))}this.parsingContext.unidentifiedGraphsBuffer.splice(S,1)}const A=this.parsingContext.annotationsBuffer[S];if(A){A.length>0&&S===1&&this.parsingContext.emitError(new e.ErrorCoded("Annotations can not be made on top-level nodes",e.ERROR_CODES.INVALID_ANNOTATION));const P=this.parsingContext.getAnnotationsBufferSafe(S-1);for(const C of A)P.push(C);delete this.parsingContext.annotationsBuffer[S]}}async validateKey(S,N,j){for(const q of jg.ENTRY_HANDLERS)if(await q.validate(this.parsingContext,this.util,S,N,j))return{valid:!0,property:j||q.isPropertyHandler()};return{valid:!1,property:!1}}attachJsonParserListeners(){this.jsonParser.onValue=S=>{const N=this.jsonParser.stack.length,j=new Array(N+1).fill(0).map((q,O)=>O===N?this.jsonParser.key:this.jsonParser.stack[O].key);if(!this.isParsingContextInner(N)){const q=()=>this.newOnValueJob(j,S,N,!0);if(!this.parsingContext.streamingProfile&&!this.parsingContext.contextTree.getContext(j.slice(0,-1)))if(j[N]==="@context"){let O=this.contextJobs[N];O||(O=this.contextJobs[N]=[]),O.push(q)}else this.contextAwaitingJobs.push({job:q,keys:j,depth:N});else this.lastOnValueJob=this.lastOnValueJob.then(q);!this.parsingContext.streamingProfile&&N===0&&(this.lastOnValueJob=this.lastOnValueJob.then(()=>this.executeBufferedJobs()))}},this.jsonParser.onError=S=>{this.emit("error",S)}}isParsingContextInner(S){for(let N=S;N>0;N--)if(this.jsonParser.stack[N-1].key==="@context")return!0;return!1}async executeBufferedJobs(){for(const N of this.contextJobs)if(N)for(const j of N)await j();this.parsingContext.unaliasedKeywordCacheStack.splice(0);const S=[];for(const N of this.contextAwaitingJobs)await this.util.unaliasKeyword(N.keys[N.depth],N.keys,N.depth,!0)==="@type"||typeof N.keys[N.depth]=="number"&&await this.util.unaliasKeyword(N.keys[N.depth-1],N.keys,N.depth-1,!0)==="@type"?this.typeJobs.push({job:N.job,keys:N.keys.slice(0,N.keys.length-1)}):S.push(N);for(const N of S){if(this.typeJobs.length>0){const j=[],q=[];for(let A=0;A<this.typeJobs.length;A++){const P=this.typeJobs[A];_.Util.isPrefixArray(P.keys,N.keys)&&(j.push(P),q.push(A))}const O=j.sort((A,P)=>A.keys.length-P.keys.length);for(const A of O)await A.job();const I=q.sort().reverse();for(const A of I)this.typeJobs.splice(A,1)}await N.job()}}};return T.DEFAULT_PROCESSING_MODE="1.1",T.ENTRY_HANDLERS=[new a.EntryHandlerArrayValue,new o.EntryHandlerKeywordContext,new s.EntryHandlerKeywordId,new c.EntryHandlerKeywordIncluded,new l.EntryHandlerKeywordGraph,new d.EntryHandlerKeywordNest,new f.EntryHandlerKeywordType,new h.EntryHandlerKeywordValue,new w.EntryHandlerKeywordAnnotation,new r.EntryHandlerContainer,new p.EntryHandlerKeywordUnknownFallback,new i.EntryHandlerPredicate,new t.EntryHandlerInvalidFallback],OA.JsonLdParser=T,OA}var tfe;function sCe(){return tfe||(tfe=1,(function(n){var e=Hh&&Hh.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=Hh&&Hh.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(c3e(),n)})(Hh)),Hh}var WA={},zh={},YA={},LC={},rfe;function l3e(){return rfe||(rfe=1,(function(){(function(n){(function(e){var u=typeof globalThis<"u"&&globalThis||typeof n<"u"&&n||typeof ab<"u"&&ab||{},a={searchParams:"URLSearchParams"in u,iterable:"Symbol"in u&&"iterator"in Symbol,blob:"FileReader"in u&&"Blob"in u&&(function(){try{return new Blob,!0}catch{return!1}})(),formData:"FormData"in u,arrayBuffer:"ArrayBuffer"in u};function r(I){return I&&DataView.prototype.isPrototypeOf(I)}if(a.arrayBuffer)var t=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],i=ArrayBuffer.isView||function(I){return I&&t.indexOf(Object.prototype.toString.call(I))>-1};function o(I){if(typeof I!="string"&&(I=String(I)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(I)||I==="")throw new TypeError('Invalid character in header field name: "'+I+'"');return I.toLowerCase()}function l(I){return typeof I!="string"&&(I=String(I)),I}function s(I){var A={next:function(){var P=I.shift();return{done:P===void 0,value:P}}};return a.iterable&&(A[Symbol.iterator]=function(){return A}),A}function c(I){this.map={},I instanceof c?I.forEach(function(A,P){this.append(P,A)},this):Array.isArray(I)?I.forEach(function(A){if(A.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+A.length);this.append(A[0],A[1])},this):I&&Object.getOwnPropertyNames(I).forEach(function(A){this.append(A,I[A])},this)}c.prototype.append=function(I,A){I=o(I),A=l(A);var P=this.map[I];this.map[I]=P?P+", "+A:A},c.prototype.delete=function(I){delete this.map[o(I)]},c.prototype.get=function(I){return I=o(I),this.has(I)?this.map[I]:null},c.prototype.has=function(I){return this.map.hasOwnProperty(o(I))},c.prototype.set=function(I,A){this.map[o(I)]=l(A)},c.prototype.forEach=function(I,A){for(var P in this.map)this.map.hasOwnProperty(P)&&I.call(A,this.map[P],P,this)},c.prototype.keys=function(){var I=[];return this.forEach(function(A,P){I.push(P)}),s(I)},c.prototype.values=function(){var I=[];return this.forEach(function(A){I.push(A)}),s(I)},c.prototype.entries=function(){var I=[];return this.forEach(function(A,P){I.push([P,A])}),s(I)},a.iterable&&(c.prototype[Symbol.iterator]=c.prototype.entries);function d(I){if(!I._noBody){if(I.bodyUsed)return Promise.reject(new TypeError("Already read"));I.bodyUsed=!0}}function f(I){return new Promise(function(A,P){I.onload=function(){A(I.result)},I.onerror=function(){P(I.error)}})}function p(I){var A=new FileReader,P=f(A);return A.readAsArrayBuffer(I),P}function h(I){var A=new FileReader,P=f(A),C=/charset=([A-Za-z0-9_-]+)/.exec(I.type),B=C?C[1]:"utf-8";return A.readAsText(I,B),P}function g(I){for(var A=new Uint8Array(I),P=new Array(A.length),C=0;C<A.length;C++)P[C]=String.fromCharCode(A[C]);return P.join("")}function _(I){if(I.slice)return I.slice(0);var A=new Uint8Array(I.byteLength);return A.set(new Uint8Array(I)),A.buffer}function m(){return this.bodyUsed=!1,this._initBody=function(I){this.bodyUsed=this.bodyUsed,this._bodyInit=I,I?typeof I=="string"?this._bodyText=I:a.blob&&Blob.prototype.isPrototypeOf(I)?this._bodyBlob=I:a.formData&&FormData.prototype.isPrototypeOf(I)?this._bodyFormData=I:a.searchParams&&URLSearchParams.prototype.isPrototypeOf(I)?this._bodyText=I.toString():a.arrayBuffer&&a.blob&&r(I)?(this._bodyArrayBuffer=_(I.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):a.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(I)||i(I))?this._bodyArrayBuffer=_(I):this._bodyText=I=Object.prototype.toString.call(I):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof I=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):a.searchParams&&URLSearchParams.prototype.isPrototypeOf(I)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},a.blob&&(this.blob=function(){var I=d(this);if(I)return I;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var I=d(this);return I||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(a.blob)return this.blob().then(p);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var I=d(this);if(I)return I;if(this._bodyBlob)return h(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(g(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},a.formData&&(this.formData=function(){return this.text().then(S)}),this.json=function(){return this.text().then(JSON.parse)},this}var w=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function T(I){var A=I.toUpperCase();return w.indexOf(A)>-1?A:I}function E(I,A){if(!(this instanceof E))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');A=A||{};var P=A.body;if(I instanceof E){if(I.bodyUsed)throw new TypeError("Already read");this.url=I.url,this.credentials=I.credentials,A.headers||(this.headers=new c(I.headers)),this.method=I.method,this.mode=I.mode,this.signal=I.signal,!P&&I._bodyInit!=null&&(P=I._bodyInit,I.bodyUsed=!0)}else this.url=String(I);if(this.credentials=A.credentials||this.credentials||"same-origin",(A.headers||!this.headers)&&(this.headers=new c(A.headers)),this.method=T(A.method||this.method||"GET"),this.mode=A.mode||this.mode||null,this.signal=A.signal||this.signal||(function(){if("AbortController"in u){var V=new AbortController;return V.signal}})(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&P)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(P),(this.method==="GET"||this.method==="HEAD")&&(A.cache==="no-store"||A.cache==="no-cache")){var C=/([?&])_=[^&]*/;if(C.test(this.url))this.url=this.url.replace(C,"$1_="+new Date().getTime());else{var B=/\?/;this.url+=(B.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}E.prototype.clone=function(){return new E(this,{body:this._bodyInit})};function S(I){var A=new FormData;return I.trim().split("&").forEach(function(P){if(P){var C=P.split("="),B=C.shift().replace(/\+/g," "),V=C.join("=").replace(/\+/g," ");A.append(decodeURIComponent(B),decodeURIComponent(V))}}),A}function N(I){var A=new c,P=I.replace(/\r?\n[\t ]+/g," ");return P.split("\r").map(function(C){return C.indexOf(`
`)===0?C.substr(1,C.length):C}).forEach(function(C){var B=C.split(":"),V=B.shift().trim();if(V){var U=B.join(":").trim();try{A.append(V,U)}catch(G){console.warn("Response "+G.message)}}}),A}m.call(E.prototype);function j(I,A){if(!(this instanceof j))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(A||(A={}),this.type="default",this.status=A.status===void 0?200:A.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=A.statusText===void 0?"":""+A.statusText,this.headers=new c(A.headers),this.url=A.url||"",this._initBody(I)}m.call(j.prototype),j.prototype.clone=function(){return new j(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new c(this.headers),url:this.url})},j.error=function(){var I=new j(null,{status:200,statusText:""});return I.ok=!1,I.status=0,I.type="error",I};var q=[301,302,303,307,308];j.redirect=function(I,A){if(q.indexOf(A)===-1)throw new RangeError("Invalid status code");return new j(null,{status:A,headers:{location:I}})},e.DOMException=u.DOMException;try{new e.DOMException}catch{e.DOMException=function(A,P){this.message=A,this.name=P;var C=Error(A);this.stack=C.stack},e.DOMException.prototype=Object.create(Error.prototype),e.DOMException.prototype.constructor=e.DOMException}function O(I,A){return new Promise(function(P,C){var B=new E(I,A);if(B.signal&&B.signal.aborted)return C(new e.DOMException("Aborted","AbortError"));var V=new XMLHttpRequest;function U(){V.abort()}V.onload=function(){var ne={statusText:V.statusText,headers:N(V.getAllResponseHeaders()||"")};B.url.indexOf("file://")===0&&(V.status<200||V.status>599)?ne.status=200:ne.status=V.status,ne.url="responseURL"in V?V.responseURL:ne.headers.get("X-Request-URL");var W="response"in V?V.response:V.responseText;setTimeout(function(){P(new j(W,ne))},0)},V.onerror=function(){setTimeout(function(){C(new TypeError("Network request failed"))},0)},V.ontimeout=function(){setTimeout(function(){C(new TypeError("Network request timed out"))},0)},V.onabort=function(){setTimeout(function(){C(new e.DOMException("Aborted","AbortError"))},0)};function G(ne){try{return ne===""&&u.location.href?u.location.href:ne}catch{return ne}}if(V.open(B.method,G(B.url),!0),B.credentials==="include"?V.withCredentials=!0:B.credentials==="omit"&&(V.withCredentials=!1),"responseType"in V&&(a.blob?V.responseType="blob":a.arrayBuffer&&(V.responseType="arraybuffer")),A&&typeof A.headers=="object"&&!(A.headers instanceof c||u.Headers&&A.headers instanceof u.Headers)){var J=[];Object.getOwnPropertyNames(A.headers).forEach(function(ne){J.push(o(ne)),V.setRequestHeader(ne,l(A.headers[ne]))}),B.headers.forEach(function(ne,W){J.indexOf(W)===-1&&V.setRequestHeader(W,ne)})}else B.headers.forEach(function(ne,W){V.setRequestHeader(W,ne)});B.signal&&(B.signal.addEventListener("abort",U),V.onreadystatechange=function(){V.readyState===4&&B.signal.removeEventListener("abort",U)}),V.send(typeof B._bodyInit>"u"?null:B._bodyInit)})}return O.polyfill=!0,u.fetch||(u.fetch=O,u.Headers=c,u.Request=E,u.Response=j),e.Headers=c,e.Request=E,e.Response=j,e.fetch=O,Object.defineProperty(e,"__esModule",{value:!0}),e})({})})(typeof self<"u"?self:LC)})()),LC}var qC={},nfe;function RP(){return nfe||(nfe=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.ERROR_CODES=n.ErrorCoded=void 0;class e extends Error{constructor(a,r){super(a),this.code=r}}n.ErrorCoded=e,(function(u){u.COLLIDING_KEYWORDS="colliding keywords",u.CONFLICTING_INDEXES="conflicting indexes",u.CYCLIC_IRI_MAPPING="cyclic IRI mapping",u.INVALID_ID_VALUE="invalid @id value",u.INVALID_INDEX_VALUE="invalid @index value",u.INVALID_NEST_VALUE="invalid @nest value",u.INVALID_PREFIX_VALUE="invalid @prefix value",u.INVALID_PROPAGATE_VALUE="invalid @propagate value",u.INVALID_REVERSE_VALUE="invalid @reverse value",u.INVALID_IMPORT_VALUE="invalid @import value",u.INVALID_VERSION_VALUE="invalid @version value",u.INVALID_BASE_IRI="invalid base IRI",u.INVALID_CONTAINER_MAPPING="invalid container mapping",u.INVALID_CONTEXT_ENTRY="invalid context entry",u.INVALID_CONTEXT_NULLIFICATION="invalid context nullification",u.INVALID_DEFAULT_LANGUAGE="invalid default language",u.INVALID_INCLUDED_VALUE="invalid @included value",u.INVALID_IRI_MAPPING="invalid IRI mapping",u.INVALID_JSON_LITERAL="invalid JSON literal",u.INVALID_KEYWORD_ALIAS="invalid keyword alias",u.INVALID_LANGUAGE_MAP_VALUE="invalid language map value",u.INVALID_LANGUAGE_MAPPING="invalid language mapping",u.INVALID_LANGUAGE_TAGGED_STRING="invalid language-tagged string",u.INVALID_LANGUAGE_TAGGED_VALUE="invalid language-tagged value",u.INVALID_LOCAL_CONTEXT="invalid local context",u.INVALID_REMOTE_CONTEXT="invalid remote context",u.INVALID_REVERSE_PROPERTY="invalid reverse property",u.INVALID_REVERSE_PROPERTY_MAP="invalid reverse property map",u.INVALID_REVERSE_PROPERTY_VALUE="invalid reverse property value",u.INVALID_SCOPED_CONTEXT="invalid scoped context",u.INVALID_SCRIPT_ELEMENT="invalid script element",u.INVALID_SET_OR_LIST_OBJECT="invalid set or list object",u.INVALID_TERM_DEFINITION="invalid term definition",u.INVALID_TYPE_MAPPING="invalid type mapping",u.INVALID_TYPE_VALUE="invalid type value",u.INVALID_TYPED_VALUE="invalid typed value",u.INVALID_VALUE_OBJECT="invalid value object",u.INVALID_VALUE_OBJECT_VALUE="invalid value object value",u.INVALID_VOCAB_MAPPING="invalid vocab mapping",u.IRI_CONFUSED_WITH_PREFIX="IRI confused with prefix",u.KEYWORD_REDEFINITION="keyword redefinition",u.LOADING_DOCUMENT_FAILED="loading document failed",u.LOADING_REMOTE_CONTEXT_FAILED="loading remote context failed",u.MULTIPLE_CONTEXT_LINK_HEADERS="multiple context link headers",u.PROCESSING_MODE_CONFLICT="processing mode conflict",u.PROTECTED_TERM_REDEFINITION="protected term redefinition",u.CONTEXT_OVERFLOW="context overflow",u.INVALID_BASE_DIRECTION="invalid base direction",u.RECURSIVE_CONTEXT_INCLUSION="recursive context inclusion",u.INVALID_STREAMING_KEY_ORDER="invalid streaming key order",u.INVALID_EMBEDDED_NODE="invalid embedded node",u.INVALID_ANNOTATION="invalid annotation"})(n.ERROR_CODES||(n.ERROR_CODES={}))})(qC)),qC}var ZA={},afe;function d3e(){if(afe)return ZA;afe=1,Object.defineProperty(ZA,"__esModule",{value:!0}),ZA.FetchDocumentLoader=void 0,l3e();const n=RP(),e=W4(),u=Xn();let a=class{constructor(t){this.fetcher=t}async load(t){const i=await(this.fetcher||fetch)(t,{headers:new Headers({accept:"application/ld+json"})});if(i.ok&&i.headers){let o=i.headers.get("Content-Type");if(o){const l=o.indexOf(";");l>0&&(o=o.substr(0,l))}if(o==="application/ld+json")return await i.json();if(i.headers.has("Link")){let l;if(i.headers.forEach((s,c)=>{if(c==="link"){const d=(0,e.parse)(s);for(const f of d.get("type","application/ld+json"))if(f.rel==="alternate"){if(l)throw new Error("Multiple JSON-LD alternate links were found on "+t);l=(0,u.resolve)(f.uri,t)}}}),l)return this.load(l)}throw new n.ErrorCoded(`Unsupported JSON-LD media type ${o}`,n.ERROR_CODES.LOADING_DOCUMENT_FAILED)}else throw new Error(i.statusText||`Status code: ${i.status}`)}};return ZA.FetchDocumentLoader=a,ZA}var BC={},eO={},ife;function lV(){if(ife)return eO;ife=1,Object.defineProperty(eO,"__esModule",{value:!0}),eO.Util=void 0;let n=class ks{static isCompactIri(u){return u.indexOf(":")>0&&!(u&&u[0]==="#")}static getPrefix(u,a){if(u&&u[0]==="#")return null;const r=u.indexOf(":");if(r>=0){if(u.length>r+1&&u.charAt(r+1)==="/"&&u.charAt(r+2)==="/")return null;const t=u.substr(0,r);if(t==="_")return null;if(a[t])return t}return null}static getContextValueId(u){if(u===null||typeof u=="string")return u;const a=u["@id"];return a||null}static isSimpleTermDefinitionPrefix(u,a){return!ks.isPotentialKeyword(u)&&(a.allowPrefixNonGenDelims||typeof u=="string"&&(u[0]==="_"||ks.isPrefixIriEndingWithGenDelim(u)))}static isPotentialKeyword(u){return typeof u=="string"&&ks.KEYWORD_REGEX.test(u)}static isPrefixIriEndingWithGenDelim(u){return ks.ENDS_WITH_GEN_DELIM.test(u)}static isPrefixValue(u){return u&&(typeof u=="string"||u&&typeof u=="object")}static isValidIri(u){return!!(u&&ks.IRI_REGEX.test(u))}static isValidIriWeak(u){return!!u&&u[0]!==":"&&ks.IRI_REGEX_WEAK.test(u)}static isValidKeyword(u){return ks.VALID_KEYWORDS[u]}static isTermProtected(u,a){const r=u[a];return typeof r!="string"&&r&&r["@protected"]}static hasProtectedTerms(u){for(const a of Object.keys(u))if(ks.isTermProtected(u,a))return!0;return!1}static isReservedInternalKeyword(u){return u.startsWith("@__")}static deepEqual(u,a){const r=Object.keys(u),t=Object.keys(a);return r.length!==t.length?!1:r.every(i=>{const o=u[i],l=a[i];return o===l||o!==null&&l!==null&&typeof o=="object"&&typeof l=="object"&&this.deepEqual(o,l)})}};return n.IRI_REGEX=/^([A-Za-z][A-Za-z0-9+-.]*|_):[^ "<>{}|\\\[\]`#]*(#[^#]*)?$/,n.IRI_REGEX_WEAK=/(?::[^:])|\//,n.KEYWORD_REGEX=/^@[a-z]+$/i,n.ENDS_WITH_GEN_DELIM=/[:/?#\[\]@]$/,n.REGEX_LANGUAGE_TAG=/^[a-zA-Z]+(-[a-zA-Z0-9]+)*$/,n.REGEX_DIRECTION_TAG=/^(ltr)|(rtl)$/,n.VALID_KEYWORDS={"@annotation":!0,"@base":!0,"@container":!0,"@context":!0,"@direction":!0,"@graph":!0,"@id":!0,"@import":!0,"@included":!0,"@index":!0,"@json":!0,"@language":!0,"@list":!0,"@nest":!0,"@none":!0,"@prefix":!0,"@propagate":!0,"@protected":!0,"@reverse":!0,"@set":!0,"@type":!0,"@value":!0,"@version":!0,"@vocab":!0},n.EXPAND_KEYS_BLACKLIST=["@base","@vocab","@language","@version","@direction"],n.ALIAS_DOMAIN_BLACKLIST=["@container","@graph","@id","@index","@list","@nest","@none","@prefix","@reverse","@set","@type","@value","@version"],n.ALIAS_RANGE_BLACKLIST=["@context","@preserve"],n.CONTAINERS=["@list","@set","@index","@language","@graph","@id","@type"],n.CONTAINERS_1_0=["@list","@set","@index"],eO.Util=n,eO}var ufe;function f3e(){return ufe||(ufe=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.defaultExpandOptions=n.JsonLdContextNormalized=void 0;const e=Xn(),u=RP(),a=lV();class r{constructor(i){this.contextRaw=i}getContextRaw(){return this.contextRaw}expandTerm(i,o,l=n.defaultExpandOptions){const s=this.contextRaw[i];if(s===null||s&&s["@id"]===null)return null;let c=!0;if(s&&o){const _=a.Util.getContextValueId(s);if(_&&_!==i)if(typeof _!="string"||!a.Util.isValidIri(_)&&!a.Util.isValidKeyword(_))a.Util.isPotentialKeyword(_)||(c=!1);else return _}const d=a.Util.getPrefix(i,this.contextRaw),f=this.contextRaw["@vocab"],p=(!!f||f==="")&&f.indexOf(":")<0,h=this.contextRaw["@base"],g=a.Util.isPotentialKeyword(i);if(d){const _=this.contextRaw[d],m=a.Util.getContextValueId(_);if(m){if(typeof _=="string"||!l.allowPrefixForcing){if(!a.Util.isSimpleTermDefinitionPrefix(m,l))return i}else if(m[0]!=="_"&&!g&&!_["@prefix"]&&!(i in this.contextRaw))return i;return m+i.substr(d.length+1)}}else if(o&&(f||f===""||l.allowVocabRelativeToBase&&h&&p)&&!g&&!a.Util.isCompactIri(i))if(p){if(l.allowVocabRelativeToBase)return(f||h?(0,e.resolve)(f,h):"")+i;throw new u.ErrorCoded(`Relative vocab expansion for term '${i}' with vocab '${f}' is not allowed.`,u.ERROR_CODES.INVALID_VOCAB_MAPPING)}else return f+i;else if(!o&&h&&!g&&!a.Util.isCompactIri(i))return(0,e.resolve)(i,h);if(c)return i;throw new u.ErrorCoded(`Invalid IRI mapping found for context entry '${i}': '${JSON.stringify(s)}'`,u.ERROR_CODES.INVALID_IRI_MAPPING)}compactIri(i,o){if(o&&this.contextRaw["@vocab"]&&i.startsWith(this.contextRaw["@vocab"]))return i.substr(this.contextRaw["@vocab"].length);if(!o&&this.contextRaw["@base"]&&i.startsWith(this.contextRaw["@base"]))return i.substr(this.contextRaw["@base"].length);const l={prefix:"",suffix:i};for(const s in this.contextRaw){const c=this.contextRaw[s];if(c&&!a.Util.isPotentialKeyword(s)){const d=a.Util.getContextValueId(c);if(i.startsWith(d)){const f=i.substr(d.length);if(f)f.length<l.suffix.length&&(l.prefix=s,l.suffix=f);else if(o)return s}}}return l.prefix?l.prefix+":"+l.suffix:i}}n.JsonLdContextNormalized=r,n.defaultExpandOptions={allowPrefixForcing:!0,allowPrefixNonGenDelims:!1,allowVocabRelativeToBase:!0}})(BC)),BC}var ofe;function cCe(){if(ofe)return YA;ofe=1,Object.defineProperty(YA,"__esModule",{value:!0}),YA.ContextParser=void 0,l3e();const n=Xn(),e=RP(),u=d3e(),a=f3e(),r=lV();let t=class Xm{constructor(o){o=o||{},this.documentLoader=o.documentLoader||new u.FetchDocumentLoader,this.documentCache={},this.validateContext=!o.skipValidation,this.expandContentTypeToBase=!!o.expandContentTypeToBase,this.remoteContextsDepthLimit=o.remoteContextsDepthLimit||32,this.redirectSchemaOrgHttps="redirectSchemaOrgHttps"in o?!!o.redirectSchemaOrgHttps:!0}static validateLanguage(o,l,s){if(typeof o!="string")throw new e.ErrorCoded(`The value of an '@language' must be a string, got '${JSON.stringify(o)}'`,s);if(!r.Util.REGEX_LANGUAGE_TAG.test(o)){if(l)throw new e.ErrorCoded(`The value of an '@language' must be a valid language tag, got '${JSON.stringify(o)}'`,s);return!1}return!0}static validateDirection(o,l){if(typeof o!="string")throw new e.ErrorCoded(`The value of an '@direction' must be a string, got '${JSON.stringify(o)}'`,e.ERROR_CODES.INVALID_BASE_DIRECTION);if(!r.Util.REGEX_DIRECTION_TAG.test(o)){if(l)throw new e.ErrorCoded(`The value of an '@direction' must be 'ltr' or 'rtl', got '${JSON.stringify(o)}'`,e.ERROR_CODES.INVALID_BASE_DIRECTION);return!1}return!0}idifyReverseTerms(o){for(const l of Object.keys(o)){let s=o[l];if(s&&typeof s=="object"&&s["@reverse"]&&!s["@id"]){if(typeof s["@reverse"]!="string"||r.Util.isValidKeyword(s["@reverse"]))throw new e.ErrorCoded(`Invalid @reverse value, must be absolute IRI or blank node: '${s["@reverse"]}'`,e.ERROR_CODES.INVALID_IRI_MAPPING);s=o[l]=Object.assign(Object.assign({},s),{"@id":s["@reverse"]}),s["@id"]=s["@reverse"],r.Util.isPotentialKeyword(s["@reverse"])?delete s["@reverse"]:s["@reverse"]=!0}}return o}expandPrefixedTerms(o,l,s){const c=o.getContextRaw();for(const d of s||Object.keys(c))if(r.Util.EXPAND_KEYS_BLACKLIST.indexOf(d)<0&&!r.Util.isReservedInternalKeyword(d)){const f=c[d];if(r.Util.isPotentialKeyword(d)&&r.Util.ALIAS_DOMAIN_BLACKLIST.indexOf(d)>=0&&(d!=="@type"||typeof c[d]=="object"&&!(c[d]["@protected"]||c[d]["@container"]==="@set")))throw new e.ErrorCoded(`Keywords can not be aliased to something else.
Tried mapping ${d} to ${JSON.stringify(f)}`,e.ERROR_CODES.KEYWORD_REDEFINITION);if(r.Util.ALIAS_RANGE_BLACKLIST.indexOf(r.Util.getContextValueId(f))>=0)throw new e.ErrorCoded(`Aliasing to certain keywords is not allowed.
Tried mapping ${d} to ${JSON.stringify(f)}`,e.ERROR_CODES.INVALID_KEYWORD_ALIAS);if(f&&r.Util.isPotentialKeyword(r.Util.getContextValueId(f))&&f["@prefix"]===!0)throw new e.ErrorCoded(`Tried to use keyword aliases as prefix: '${d}': '${JSON.stringify(f)}'`,e.ERROR_CODES.INVALID_TERM_DEFINITION);for(;r.Util.isPrefixValue(c[d]);){const p=c[d];let h=!1;if(typeof p=="string")c[d]=o.expandTerm(p,!0),h=h||p!==c[d];else{const g=p["@id"],_=p["@type"],m=!("@prefix"in p)||r.Util.isValidIri(d);if("@id"in p)g!=null&&typeof g=="string"&&(c[d]=Object.assign(Object.assign({},c[d]),{"@id":o.expandTerm(g,!0)}),h=h||g!==c[d]["@id"]);else if(!r.Util.isPotentialKeyword(d)&&m){const w=o.expandTerm(d,!0);w!==d&&(c[d]=Object.assign(Object.assign({},c[d]),{"@id":w}),h=!0)}if(_&&typeof _=="string"&&_!=="@vocab"&&(!p["@container"]||!p["@container"]["@type"])&&m){let w=o.expandTerm(_,!0);l&&_===w&&(w=o.expandTerm(_,!1)),w!==_&&(h=!0,c[d]=Object.assign(Object.assign({},c[d]),{"@type":w}))}}if(!h)break}}}normalize(o,{processingMode:l,normalizeLanguageTags:s}){if(s||l===1)for(const c of Object.keys(o))if(c==="@language"&&typeof o[c]=="string")o[c]=o[c].toLowerCase();else{const d=o[c];if(d&&typeof d=="object"&&typeof d["@language"]=="string"){const f=d["@language"].toLowerCase();f!==d["@language"]&&(o[c]=Object.assign(Object.assign({},d),{"@language":f}))}}}containersToHash(o){for(const l of Object.keys(o)){const s=o[l];if(s&&typeof s=="object"){if(typeof s["@container"]=="string")o[l]=Object.assign(Object.assign({},s),{"@container":{[s["@container"]]:!0}});else if(Array.isArray(s["@container"])){const c={};for(const d of s["@container"])c[d]=!0;o[l]=Object.assign(Object.assign({},s),{"@container":c})}}}}applyScopedProtected(o,{processingMode:l},s){if(l&&l>=1.1&&o["@protected"]){for(const c of Object.keys(o))if(!r.Util.isReservedInternalKeyword(c)&&!r.Util.isPotentialKeyword(c)&&!r.Util.isTermProtected(o,c)){const d=o[c];d&&typeof d=="object"?"@protected"in o[c]||(o[c]=Object.assign(Object.assign({},o[c]),{"@protected":!0})):(o[c]={"@id":d,"@protected":!0},r.Util.isSimpleTermDefinitionPrefix(d,s)&&(o[c]=Object.assign(Object.assign({},o[c]),{"@prefix":!0})))}delete o["@protected"]}}validateKeywordRedefinitions(o,l,s,c){for(const d of c??Object.keys(l))if(r.Util.isTermProtected(o,d)&&(typeof l[d]=="string"?l[d]={"@id":l[d],"@protected":!0}:l[d]=Object.assign(Object.assign({},l[d]),{"@protected":!0}),!r.Util.deepEqual(o[d],l[d])))throw new e.ErrorCoded(`Attempted to override the protected keyword ${d} from ${JSON.stringify(r.Util.getContextValueId(o[d]))} to ${JSON.stringify(r.Util.getContextValueId(l[d]))}`,e.ERROR_CODES.PROTECTED_TERM_REDEFINITION)}validate(o,{processingMode:l}){for(const s of Object.keys(o)){if(r.Util.isReservedInternalKeyword(s))continue;if(s==="")throw new e.ErrorCoded(`The empty term is not allowed, got: '${s}': '${JSON.stringify(o[s])}'`,e.ERROR_CODES.INVALID_TERM_DEFINITION);const c=o[s],d=typeof c;if(r.Util.isPotentialKeyword(s)){switch(s.substr(1)){case"vocab":if(c!==null&&d!=="string")throw new e.ErrorCoded(`Found an invalid @vocab IRI: ${c}`,e.ERROR_CODES.INVALID_VOCAB_MAPPING);break;case"base":if(c!==null&&d!=="string")throw new e.ErrorCoded(`Found an invalid @base IRI: ${o[s]}`,e.ERROR_CODES.INVALID_BASE_IRI);break;case"language":c!==null&&Xm.validateLanguage(c,!0,e.ERROR_CODES.INVALID_DEFAULT_LANGUAGE);break;case"version":if(c!==null&&d!=="number")throw new e.ErrorCoded(`Found an invalid @version number: ${c}`,e.ERROR_CODES.INVALID_VERSION_VALUE);break;case"direction":c!==null&&Xm.validateDirection(c,!0);break;case"propagate":if(l===1)throw new e.ErrorCoded(`Found an illegal @propagate keyword: ${c}`,e.ERROR_CODES.INVALID_CONTEXT_ENTRY);if(c!==null&&d!=="boolean")throw new e.ErrorCoded(`Found an invalid @propagate value: ${c}`,e.ERROR_CODES.INVALID_PROPAGATE_VALUE);break}if(r.Util.isValidKeyword(s)&&r.Util.isValidKeyword(r.Util.getContextValueId(c)))throw new e.ErrorCoded(`Illegal keyword alias in term value, found: '${s}': '${r.Util.getContextValueId(c)}'`,e.ERROR_CODES.KEYWORD_REDEFINITION);continue}if(c!==null)switch(d){case"string":if(r.Util.getPrefix(c,o)===s)throw new e.ErrorCoded(`Detected cyclical IRI mapping in context entry: '${s}': '${JSON.stringify(c)}'`,e.ERROR_CODES.CYCLIC_IRI_MAPPING);if(r.Util.isValidIriWeak(s)){if(c==="@type")throw new e.ErrorCoded(`IRIs can not be mapped to @type, found: '${s}': '${c}'`,e.ERROR_CODES.INVALID_IRI_MAPPING);if(r.Util.isValidIri(c)&&c!==new a.JsonLdContextNormalized(o).expandTerm(s))throw new e.ErrorCoded(`IRIs can not be mapped to other IRIs, found: '${s}': '${c}'`,e.ERROR_CODES.INVALID_IRI_MAPPING)}break;case"object":if(!r.Util.isCompactIri(s)&&!("@id"in c)&&(c["@type"]==="@id"?!o["@base"]:!o["@vocab"]))throw new e.ErrorCoded(`Missing @id in context entry: '${s}': '${JSON.stringify(c)}'`,e.ERROR_CODES.INVALID_IRI_MAPPING);for(const f of Object.keys(c)){const p=c[f];if(p)switch(f){case"@id":if(r.Util.isValidKeyword(p)&&p!=="@type"&&p!=="@id"&&p!=="@graph"&&p!=="@nest")throw new e.ErrorCoded(`Illegal keyword alias in term value, found: '${s}': '${JSON.stringify(c)}'`,e.ERROR_CODES.INVALID_IRI_MAPPING);if(r.Util.isValidIriWeak(s)){if(p==="@type")throw new e.ErrorCoded(`IRIs can not be mapped to @type, found: '${s}': '${JSON.stringify(c)}'`,e.ERROR_CODES.INVALID_IRI_MAPPING);if(r.Util.isValidIri(p)&&p!==new a.JsonLdContextNormalized(o).expandTerm(s))throw new e.ErrorCoded(`IRIs can not be mapped to other IRIs, found: '${s}': '${JSON.stringify(c)}'`,e.ERROR_CODES.INVALID_IRI_MAPPING)}if(typeof p!="string")throw new e.ErrorCoded(`Detected non-string @id in context entry: '${s}': '${JSON.stringify(c)}'`,e.ERROR_CODES.INVALID_IRI_MAPPING);if(r.Util.getPrefix(p,o)===s)throw new e.ErrorCoded(`Detected cyclical IRI mapping in context entry: '${s}': '${JSON.stringify(c)}'`,e.ERROR_CODES.CYCLIC_IRI_MAPPING);break;case"@type":if(c["@container"]==="@type"&&p!=="@id"&&p!=="@vocab")throw new e.ErrorCoded(`@container: @type only allows @type: @id or @vocab, but got: '${s}': '${p}'`,e.ERROR_CODES.INVALID_TYPE_MAPPING);if(typeof p!="string")throw new e.ErrorCoded(`The value of an '@type' must be a string, got '${JSON.stringify(d)}'`,e.ERROR_CODES.INVALID_TYPE_MAPPING);if(p!=="@id"&&p!=="@vocab"&&(l===1||p!=="@json")&&(l===1||p!=="@none")&&(p[0]==="_"||!r.Util.isValidIri(p)))throw new e.ErrorCoded(`A context @type must be an absolute IRI, found: '${s}': '${p}'`,e.ERROR_CODES.INVALID_TYPE_MAPPING);break;case"@reverse":if(typeof p=="string"&&c["@id"]&&c["@id"]!==p)throw new e.ErrorCoded(`Found non-matching @id and @reverse term values in '${s}':'${p}' and '${c["@id"]}'`,e.ERROR_CODES.INVALID_REVERSE_PROPERTY);if("@nest"in c)throw new e.ErrorCoded(`@nest is not allowed in the reverse property '${s}'`,e.ERROR_CODES.INVALID_REVERSE_PROPERTY);break;case"@container":if(l===1&&(Object.keys(p).length>1||r.Util.CONTAINERS_1_0.indexOf(Object.keys(p)[0])<0))throw new e.ErrorCoded(`Invalid term @container for '${s}' ('${Object.keys(p)}') in 1.0, must be only one of ${r.Util.CONTAINERS_1_0.join(", ")}`,e.ERROR_CODES.INVALID_CONTAINER_MAPPING);for(const h of Object.keys(p)){if(h==="@list"&&c["@reverse"])throw new e.ErrorCoded(`Term value can not be @container: @list and @reverse at the same time on '${s}'`,e.ERROR_CODES.INVALID_REVERSE_PROPERTY);if(r.Util.CONTAINERS.indexOf(h)<0)throw new e.ErrorCoded(`Invalid term @container for '${s}' ('${h}'), must be one of ${r.Util.CONTAINERS.join(", ")}`,e.ERROR_CODES.INVALID_CONTAINER_MAPPING)}break;case"@language":Xm.validateLanguage(p,!0,e.ERROR_CODES.INVALID_LANGUAGE_MAPPING);break;case"@direction":Xm.validateDirection(p,!0);break;case"@prefix":if(p!==null&&typeof p!="boolean")throw new e.ErrorCoded(`Found an invalid term @prefix boolean in: '${s}': '${JSON.stringify(c)}'`,e.ERROR_CODES.INVALID_PREFIX_VALUE);if(!("@id"in c)&&!r.Util.isValidIri(s))throw new e.ErrorCoded(`Invalid @prefix definition for '${s}' ('${JSON.stringify(c)}'`,e.ERROR_CODES.INVALID_TERM_DEFINITION);break;case"@index":if(l===1||!c["@container"]||!c["@container"]["@index"])throw new e.ErrorCoded(`Attempt to add illegal key to value object: '${s}': '${JSON.stringify(c)}'`,e.ERROR_CODES.INVALID_TERM_DEFINITION);break;case"@nest":if(r.Util.isPotentialKeyword(p)&&p!=="@nest")throw new e.ErrorCoded(`Found an invalid term @nest value in: '${s}': '${JSON.stringify(c)}'`,e.ERROR_CODES.INVALID_NEST_VALUE)}}break;default:throw new e.ErrorCoded(`Found an invalid term value: '${s}': '${c}'`,e.ERROR_CODES.INVALID_TERM_DEFINITION)}}}applyBaseEntry(o,l,s){return typeof o=="string"||(s&&!("@base"in o)&&l.parentContext&&typeof l.parentContext=="object"&&"@base"in l.parentContext&&(o["@base"]=l.parentContext["@base"],l.parentContext["@__baseDocument"]&&(o["@__baseDocument"]=!0)),l.baseIRI&&!l.external&&("@base"in o?o["@base"]!==null&&typeof o["@base"]=="string"&&!r.Util.isValidIri(o["@base"])&&(o["@base"]=(0,n.resolve)(o["@base"],l.parentContext&&l.parentContext["@base"]||l.baseIRI)):(o["@base"]=l.baseIRI,o["@__baseDocument"]=!0))),o}normalizeContextIri(o,l){if(!r.Util.isValidIri(o))try{o=(0,n.resolve)(o,l)}catch{throw new Error(`Invalid context IRI: ${o}`)}return this.redirectSchemaOrgHttps&&o.startsWith("http://schema.org")&&(o="https://schema.org/"),o}async parseInnerContexts(o,l,s){for(const c of s??Object.keys(o)){const d=o[c];if(d&&typeof d=="object"&&"@context"in d&&d["@context"]!==null&&!l.ignoreScopedContexts){if(this.validateContext)try{const f=Object.assign(Object.assign({},o),{[c]:Object.assign({},o[c])});delete f[c]["@context"],await this.parse(d["@context"],Object.assign(Object.assign({},l),{external:!1,parentContext:f,ignoreProtection:!0,ignoreRemoteScopedContexts:!0,ignoreScopedContexts:!0}))}catch(f){throw new e.ErrorCoded(f.message,e.ERROR_CODES.INVALID_SCOPED_CONTEXT)}o[c]=Object.assign(Object.assign({},d),{"@context":(await this.parse(d["@context"],Object.assign(Object.assign({},l),{external:!1,minimalProcessing:!0,ignoreRemoteScopedContexts:!0,parentContext:o}))).getContextRaw()})}}return o}async parse(o,l={},s={}){const{baseIRI:c,parentContext:d,external:f,processingMode:p=Xm.DEFAULT_PROCESSING_MODE,normalizeLanguageTags:h,ignoreProtection:g,minimalProcessing:_}=l,m=l.remoteContexts||{};if(Object.keys(m).length>=this.remoteContextsDepthLimit)throw new e.ErrorCoded("Detected an overflow in remote context inclusions: "+Object.keys(m),e.ERROR_CODES.CONTEXT_OVERFLOW);if(o==null){if(!g&&d&&r.Util.hasProtectedTerms(d))throw new e.ErrorCoded("Illegal context nullification when terms are protected",e.ERROR_CODES.INVALID_CONTEXT_NULLIFICATION);return new a.JsonLdContextNormalized(this.applyBaseEntry({},l,!1))}else if(typeof o=="string"){const w=this.normalizeContextIri(o,c),T=this.getOverriddenLoad(w,l);if(T)return new a.JsonLdContextNormalized(T);const E=await this.parse(await this.load(w),Object.assign(Object.assign({},l),{baseIRI:w,external:!0,remoteContexts:Object.assign(Object.assign({},m),{[w]:!0})}));return this.applyBaseEntry(E.getContextRaw(),l,!0),E}else if(Array.isArray(o)){const w=[],T=await Promise.all(o.map((S,N)=>{if(typeof S=="string"){const j=this.normalizeContextIri(S,c);w[N]=j;const q=this.getOverriddenLoad(j,l);return q||this.load(j)}else return S}));if(_)return new a.JsonLdContextNormalized(T);const E=await T.reduce((S,N,j)=>S.then(q=>this.parse(N,Object.assign(Object.assign({},l),{baseIRI:w[j]||l.baseIRI,external:!!w[j]||l.external,parentContext:q.getContextRaw(),remoteContexts:w[j]?Object.assign(Object.assign({},m),{[w[j]]:!0}):m}),{skipValidation:j<T.length-1})),Promise.resolve(new a.JsonLdContextNormalized(d||{})));return this.applyBaseEntry(E.getContextRaw(),l,!0),E}else if(typeof o=="object"){if("@context"in o)return await this.parse(o["@context"],l);if(o=Object.assign({},o),f&&delete o["@base"],this.applyBaseEntry(o,l,!0),this.containersToHash(o),_)return new a.JsonLdContextNormalized(o);let w={};if("@import"in o)if(p>=1.1){if(typeof o["@import"]!="string")throw new e.ErrorCoded("An @import value must be a string, but got "+typeof o["@import"],e.ERROR_CODES.INVALID_IMPORT_VALUE);w=await this.loadImportContext(this.normalizeContextIri(o["@import"],c)),delete o["@import"]}else throw new e.ErrorCoded("Context importing is not supported in JSON-LD 1.0",e.ERROR_CODES.INVALID_CONTEXT_ENTRY);this.applyScopedProtected(w,{processingMode:p},a.defaultExpandOptions);const T=Object.assign(w,o);this.idifyReverseTerms(T),this.normalize(T,{processingMode:p,normalizeLanguageTags:h}),this.applyScopedProtected(T,{processingMode:p},a.defaultExpandOptions);const E=Object.keys(T),S=[];if(typeof d=="object")for(const j in d)j in T?S.push(j):T[j]=d[j];await this.parseInnerContexts(T,l,E);const N=new a.JsonLdContextNormalized(T);return(T&&T["@version"]||Xm.DEFAULT_PROCESSING_MODE)>=1.1&&(o["@vocab"]&&typeof o["@vocab"]=="string"||o["@vocab"]==="")&&(d&&"@vocab"in d&&o["@vocab"].indexOf(":")<0?T["@vocab"]=d["@vocab"]+o["@vocab"]:(r.Util.isCompactIri(o["@vocab"])||o["@vocab"]in T)&&(T["@vocab"]=N.expandTerm(o["@vocab"],!0))),this.expandPrefixedTerms(N,this.expandContentTypeToBase,E),!g&&d&&p>=1.1&&this.validateKeywordRedefinitions(d,T,a.defaultExpandOptions,S),this.validateContext&&!s.skipValidation&&this.validate(T,{processingMode:p}),N}else throw new e.ErrorCoded(`Tried parsing a context that is not a string, array or object, but got ${o}`,e.ERROR_CODES.INVALID_LOCAL_CONTEXT)}async load(o){const l=this.documentCache[o];if(l)return l;let s;try{s=await this.documentLoader.load(o)}catch(c){throw new e.ErrorCoded(`Failed to load remote context ${o}: ${c.message}`,e.ERROR_CODES.LOADING_REMOTE_CONTEXT_FAILED)}if(!("@context"in s))throw new e.ErrorCoded(`Missing @context in remote context at ${o}`,e.ERROR_CODES.INVALID_REMOTE_CONTEXT);return this.documentCache[o]=s["@context"]}getOverriddenLoad(o,l){if(o in(l.remoteContexts||{})){if(l.ignoreRemoteScopedContexts)return o;throw new e.ErrorCoded("Detected a cyclic context inclusion of "+o,e.ERROR_CODES.RECURSIVE_CONTEXT_INCLUSION)}return null}async loadImportContext(o){let l=await this.load(o);if(typeof l!="object"||Array.isArray(l))throw new e.ErrorCoded("An imported context must be a single object: "+o,e.ERROR_CODES.INVALID_REMOTE_CONTEXT);if("@import"in l)throw new e.ErrorCoded("An imported context can not import another context: "+o,e.ERROR_CODES.INVALID_CONTEXT_ENTRY);return l=Object.assign({},l),this.containersToHash(l),l}};return t.DEFAULT_PROCESSING_MODE=1.1,YA.ContextParser=t,YA}var UC={},sfe;function lCe(){return sfe||(sfe=1,Object.defineProperty(UC,"__esModule",{value:!0})),UC}var QC={},cfe;function dCe(){return cfe||(cfe=1,Object.defineProperty(QC,"__esModule",{value:!0})),QC}var lfe;function fCe(){return lfe||(lfe=1,(function(n){var e=zh&&zh.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=zh&&zh.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(cCe(),n),u(RP(),n),u(d3e(),n),u(lCe(),n),u(dCe(),n),u(f3e(),n),u(lV(),n)})(zh)),zh}var dfe;function h3e(){if(dfe)return WA;dfe=1,Object.defineProperty(WA,"__esModule",{value:!0}),WA.DocumentLoaderMediated=void 0;const n=sc(),e=R1(),u=fCe();let a=class p3e extends u.FetchDocumentLoader{constructor(t,i){super(p3e.createFetcher(t,i)),this.mediatorHttp=t,this.context=i}static createFetcher(t,i){return async(o,l)=>{const s=await t.mediate({input:o,init:l,context:i});return s.json=async()=>JSON.parse(await(0,e.stringify)(n.ActorHttp.toNodeReadable(s.body))),s}}};return WA.DocumentLoaderMediated=a,WA}var ffe;function pCe(){if(ffe)return AA;ffe=1,Object.defineProperty(AA,"__esModule",{value:!0}),AA.ActorRdfParseJsonLd=void 0;const n=O1(),e=lt(),u=De(),a=sCe(),r=h3e();let t=class extends n.ActorRdfParseFixedMediaTypes{constructor(o){super(o)}async testHandle(o,l,s){return s.has(e.KeysRdfParseHtmlScript.processingHtmlScript)&&l!=="application/ld+json"?(0,u.failTest)("JSON-LD in script tags can only have media type 'application/ld+json'"):!l||!(l in this.mediaTypePriorities||l.endsWith("+json"))?(0,u.failTest)(`Unrecognized media type: ${l}`):await this.testHandleChecked(o)}async runHandle(o,l,s){const c=o.context.getSafe(e.KeysInitQuery.dataFactory);return{data:a.JsonLdParser.fromHttpResponse(o.metadata?.baseIRI??"",l,o.headers,{dataFactory:c,documentLoader:s.get(e.KeysRdfParseJsonLd.documentLoader)??new r.DocumentLoaderMediated(this.mediatorHttp,s),strictValues:s.get(e.KeysRdfParseJsonLd.strictValues),...s.get(e.KeysRdfParseJsonLd.parserOptions)}).import(o.data)}}};return AA.ActorRdfParseJsonLd=t,AA}var pfe;function dV(){return pfe||(pfe=1,(function(n){var e=Vh&&Vh.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=Vh&&Vh.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(pCe(),n),u(h3e(),n)})(Vh)),Vh}var Gh={},tO={},$h={},rO={},hfe;function hCe(){if(hfe)return rO;hfe=1,Object.defineProperty(rO,"__esModule",{value:!0}),rO.ActorRdfUpdateHypermedia=void 0;const n=De();let e=class extends n.Actor{constructor(a,r){super(a),this.destinationType=r}async test(a){return a.forceDestinationType&&this.destinationType!==a.forceDestinationType?(0,n.failTest)(`Actor ${this.name} is not able to handle destination type ${a.forceDestinationType}.`):this.testMetadata(a)}};return rO.ActorRdfUpdateHypermedia=e,rO}var yfe;function fV(){return yfe||(yfe=1,(function(n){var e=$h&&$h.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=$h&&$h.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(hCe(),n)})($h)),$h}var nO={},mfe;function y3e(){if(mfe)return nO;mfe=1,Object.defineProperty(nO,"__esModule",{value:!0}),nO.QuadDestinationPatchSparqlUpdate=void 0;const n=sc(),e=Gt(),u=Z4(),a=Nr();let r=class{constructor(i,o,l){this.url=i,this.context=o,this.mediatorHttp=l}async update(i){const o=this.createCombinedQuadsQuery(i.insert,i.delete);await this.wrapSparqlUpdateRequest(o)}createCombinedQuadsQuery(i,o){return new e.ArrayIterator([],{autoStart:!1}).append(this.createQuadsQuery("DELETE",o)).append(o&&i?[` ;
`]:[]).append(this.createQuadsQuery("INSERT",i))}createQuadsQuery(i,o){return o?o.map(l=>{let s=`${(0,u.termToString)(l.subject)} ${(0,u.termToString)(l.predicate)} ${(0,u.termToString)(l.object)} .`;return l.graph.termType==="DefaultGraph"?s=`  ${s}
`:s=`  GRAPH ${(0,u.termToString)(l.graph)} { ${s} }
`,s}).prepend([`${i} DATA {
`]).append(["}"]):new e.ArrayIterator([],{autoStart:!1})}async wrapSparqlUpdateRequest(i){const o=new a.Readable;o.wrap(i);const l=new Headers({"content-type":"application/sparql-update"}),s=await this.mediatorHttp.mediate({context:this.context,init:{headers:l,method:"PATCH",body:n.ActorHttp.toWebReadableStream(o)},input:this.url});await(0,n.validateAndCloseHttpResponse)(this.url,s)}async deleteGraphs(i,o,l){throw new Error("Patch-based SPARQL Update destinations don't support named graphs")}async createGraphs(i,o){throw new Error("Patch-based SPARQL Update destinations don't support named graphs")}};return nO.QuadDestinationPatchSparqlUpdate=r,nO}var bfe;function yCe(){if(bfe)return tO;bfe=1,Object.defineProperty(tO,"__esModule",{value:!0}),tO.ActorRdfUpdateHypermediaPatchSparqlUpdate=void 0;const n=fV(),e=De(),u=y3e();let a=class extends n.ActorRdfUpdateHypermedia{constructor(t){super(t,"patchSparqlUpdate")}async testMetadata(t){return!t.forceDestinationType&&!t.metadata.patchSparqlUpdate?(0,e.failTest)(`Actor ${this.name} could not detect a destination with 'application/sparql-update' as 'Accept-Patch' header.`):!t.forceDestinationType&&!t.exists?(0,e.failTest)(`Actor ${this.name} can only patch a destination that already exists.`):(0,e.passTestVoid)()}async run(t){return this.logInfo(t.context,`Identified as patchSparqlUpdate destination: ${t.url}`),{destination:new u.QuadDestinationPatchSparqlUpdate(t.url,t.context,this.mediatorHttp)}}};return tO.ActorRdfUpdateHypermediaPatchSparqlUpdate=a,tO}var gfe;function pV(){return gfe||(gfe=1,(function(n){var e=Gh&&Gh.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=Gh&&Gh.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(yCe(),n),u(y3e(),n)})(Gh)),Gh}var Xh={},aO={},iO={},vfe;function m3e(){if(vfe)return iO;vfe=1,Object.defineProperty(iO,"__esModule",{value:!0}),iO.QuadDestinationPutLdp=void 0;const n=sc();let e=class{constructor(a,r,t,i,o,l){this.url=a,this.context=r,this.mediaTypes=t,this.mediatorHttp=i,this.mediatorRdfSerializeMediatypes=o,this.mediatorRdfSerialize=l}async update(a){if(a.delete)throw new Error("Put-based LDP destinations don't support deletions");a.insert&&await this.wrapRdfUpdateRequest("INSERT",a.insert)}async wrapRdfUpdateRequest(a,r){const{mediaTypes:t}=await this.mediatorRdfSerializeMediatypes.mediate({context:this.context,mediaTypes:!0}),i=this.mediaTypes.filter(d=>d in t),o=i.length>0?i[0]:Object.keys(t).sort((d,f)=>t[f]-t[d])[0],{handle:{data:l}}=await this.mediatorRdfSerialize.mediate({context:this.context,handle:{quadStream:r,context:this.context},handleMediaType:o}),s=new Headers({"content-type":o}),c=await this.mediatorHttp.mediate({context:this.context,init:{headers:s,method:"PUT",body:n.ActorHttp.toWebReadableStream(l)},input:this.url});await(0,n.validateAndCloseHttpResponse)(this.url,c)}async deleteGraphs(a,r,t){throw new Error("Put-based LDP destinations don't support named graphs")}async createGraphs(a,r){throw new Error("Put-based LDP destinations don't support named graphs")}};return iO.QuadDestinationPutLdp=e,iO}var _fe;function mCe(){if(_fe)return aO;_fe=1,Object.defineProperty(aO,"__esModule",{value:!0}),aO.ActorRdfUpdateHypermediaPutLdp=void 0;const n=fV(),e=De(),u=m3e();let a=class extends n.ActorRdfUpdateHypermedia{constructor(t){super(t,"putLdp")}async testMetadata(t){if(!t.forceDestinationType){if(!t.metadata.allowHttpMethods||!t.metadata.allowHttpMethods.includes("PUT"))return(0,e.failTest)(`Actor ${this.name} could not detect a destination with 'Allow: PUT' header.`);if(t.exists)return(0,e.failTest)(`Actor ${this.name} can only put on a destination that does not already exists.`)}return(0,e.passTestVoid)()}async run(t){return this.logInfo(t.context,`Identified as putLdp destination: ${t.url}`),{destination:new u.QuadDestinationPutLdp(t.url,t.context,t.metadata.putAccepted||[],this.mediatorHttp,this.mediatorRdfSerializeMediatypes,this.mediatorRdfSerialize)}}};return aO.ActorRdfUpdateHypermediaPutLdp=a,aO}var Tfe;function hV(){return Tfe||(Tfe=1,(function(n){var e=Xh&&Xh.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=Xh&&Xh.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(mCe(),n),u(m3e(),n)})(Xh)),Xh}var Kh={},uO={},oO={},Jh={},Wh={},Yh={},sO={},Zh={},cO={},wfe;function b3e(){if(wfe)return cO;wfe=1,Object.defineProperty(cO,"__esModule",{value:!0}),cO.BlankNode=void 0;class n{constructor(u){this.termType="BlankNode",this.value=u}equals(u){return!!u&&u.termType==="BlankNode"&&u.value===this.value}}return cO.BlankNode=n,cO}var lO={},dO={},Sfe;function g3e(){if(Sfe)return dO;Sfe=1,Object.defineProperty(dO,"__esModule",{value:!0}),dO.DefaultGraph=void 0;class n{constructor(){this.termType="DefaultGraph",this.value=""}equals(u){return!!u&&u.termType==="DefaultGraph"}}return dO.DefaultGraph=n,n.INSTANCE=new n,dO}var fO={},pO={},Efe;function yV(){if(Efe)return pO;Efe=1,Object.defineProperty(pO,"__esModule",{value:!0}),pO.NamedNode=void 0;class n{constructor(u){this.termType="NamedNode",this.value=u}equals(u){return!!u&&u.termType==="NamedNode"&&u.value===this.value}}return pO.NamedNode=n,pO}var Afe;function v3e(){if(Afe)return fO;Afe=1,Object.defineProperty(fO,"__esModule",{value:!0}),fO.Literal=void 0;const n=yV();class e{constructor(a,r){this.termType="Literal",this.value=a,typeof r=="string"?(this.language=r,this.datatype=e.RDF_LANGUAGE_STRING,this.direction=""):r?"termType"in r?(this.language="",this.datatype=r,this.direction=""):(this.language=r.language,this.datatype=r.direction?e.RDF_DIRECTIONAL_LANGUAGE_STRING:e.RDF_LANGUAGE_STRING,this.direction=r.direction||""):(this.language="",this.datatype=e.XSD_STRING,this.direction="")}equals(a){return!!a&&a.termType==="Literal"&&a.value===this.value&&a.language===this.language&&(a.direction===this.direction||!a.direction&&this.direction==="")&&this.datatype.equals(a.datatype)}}return fO.Literal=e,e.RDF_LANGUAGE_STRING=new n.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),e.RDF_DIRECTIONAL_LANGUAGE_STRING=new n.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#dirLangString"),e.XSD_STRING=new n.NamedNode("http://www.w3.org/2001/XMLSchema#string"),fO}var hO={},Ofe;function _3e(){if(Ofe)return hO;Ofe=1,Object.defineProperty(hO,"__esModule",{value:!0}),hO.Quad=void 0;class n{constructor(u,a,r,t){this.termType="Quad",this.value="",this.subject=u,this.predicate=a,this.object=r,this.graph=t}equals(u){return!!u&&(u.termType==="Quad"||!u.termType)&&this.subject.equals(u.subject)&&this.predicate.equals(u.predicate)&&this.object.equals(u.object)&&this.graph.equals(u.graph)}}return hO.Quad=n,hO}var yO={},xfe;function T3e(){if(xfe)return yO;xfe=1,Object.defineProperty(yO,"__esModule",{value:!0}),yO.Variable=void 0;class n{constructor(u){this.termType="Variable",this.value=u}equals(u){return!!u&&u.termType==="Variable"&&u.value===this.value}}return yO.Variable=n,yO}var Rfe;function bCe(){if(Rfe)return lO;Rfe=1,Object.defineProperty(lO,"__esModule",{value:!0}),lO.DataFactory=void 0;const n=b3e(),e=g3e(),u=v3e(),a=yV(),r=_3e(),t=T3e();let i=0;class o{constructor(s){this.blankNodeCounter=0,s=s||{},this.blankNodePrefix=s.blankNodePrefix||`df_${i++}_`}namedNode(s){return new a.NamedNode(s)}blankNode(s){return new n.BlankNode(s||`${this.blankNodePrefix}${this.blankNodeCounter++}`)}literal(s,c){return new u.Literal(s,c)}variable(s){return new t.Variable(s)}defaultGraph(){return e.DefaultGraph.INSTANCE}quad(s,c,d,f){return new r.Quad(s,c,d,f||this.defaultGraph())}fromTerm(s){switch(s.termType){case"NamedNode":return this.namedNode(s.value);case"BlankNode":return this.blankNode(s.value);case"Literal":return s.language?this.literal(s.value,s.language):s.datatype.equals(u.Literal.XSD_STRING)?this.literal(s.value):this.literal(s.value,this.fromTerm(s.datatype));case"Variable":return this.variable(s.value);case"DefaultGraph":return this.defaultGraph();case"Quad":return this.quad(this.fromTerm(s.subject),this.fromTerm(s.predicate),this.fromTerm(s.object),this.fromTerm(s.graph))}}fromQuad(s){return this.fromTerm(s)}resetBlankNodeCounter(){this.blankNodeCounter=0}}return lO.DataFactory=o,lO}var Nfe;function gCe(){return Nfe||(Nfe=1,(function(n){var e=Zh&&Zh.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=Zh&&Zh.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(b3e(),n),u(bCe(),n),u(g3e(),n),u(v3e(),n),u(yV(),n),u(_3e(),n),u(T3e(),n)})(Zh)),Zh}var Ife;function vCe(){if(Ife)return sO;Ife=1,Object.defineProperty(sO,"__esModule",{value:!0}),sO.SparqlJsonParser=void 0;const n=gCe(),e=Nr(),u=_B();let a=class w3e{constructor(t){var i;t=t||{},this.dataFactory=t.dataFactory||new n.DataFactory,this.prefixVariableQuestionMark=!!t.prefixVariableQuestionMark,this.suppressMissingStreamResultsError=(i=t.suppressMissingStreamResultsError)!==null&&i!==void 0?i:!0,this.parseUnsupportedVersions=!!t.parseUnsupportedVersions}isValidVersion(t){return this.parseUnsupportedVersions||w3e.SUPPORTED_VERSIONS.includes(t)}parseJsonResults(t,i){if(i&&!this.isValidVersion(i))throw new Error(`Detected unsupported version as media type parameter: ${i}`);return t.results.bindings.map(o=>this.parseJsonBindings(o))}parseJsonResultsStream(t,i){const o=f=>d.emit("error",f);t.on("error",o);const l=new u;l.onError=o;let s=!1,c=!1;l.onValue=f=>{if(l.key==="vars"&&l.stack.length===2&&l.stack[1].key==="head")d.emit("variables",f.map(p=>this.dataFactory.variable(p))),s=!0;else if(l.key==="link"&&l.stack.length===2&&l.stack[1].key==="head")d.emit("link",f);else if(l.key==="version"&&l.stack.length===2&&l.stack[1].key==="head")this.isValidVersion(f)||d.emit("error",new Error(`Detected unsupported version: ${f}`)),d.emit("version",f);else if(l.key==="results"&&l.stack.length===1)c=!0;else if(typeof l.key=="number"&&l.stack.length===3&&l.stack[1].key==="results"&&l.stack[2].key==="bindings")try{d.push(this.parseJsonBindings(f))}catch(p){d.emit("error",p)}else l.key==="metadata"&&l.stack.length===1&&d.emit("metadata",f)};const d=t.on("end",f=>{!c&&!this.suppressMissingStreamResultsError?d.emit("error",new Error("No valid SPARQL query results were found.")):s||d.emit("variables",[])}).pipe(new e.Transform({objectMode:!0,transform(f,p,h){l.write(f),h()}}));return i&&!this.isValidVersion(i)&&d.destroy(new Error(`Detected unsupported version as media type parameter: ${i}`)),d}parseJsonBindings(t){const i={};for(const o in t){const l=t[o];i[this.prefixVariableQuestionMark?"?"+o:o]=this.parseJsonValue(l)}return i}parseJsonValue(t){let i;switch(t.type){case"bnode":i=this.dataFactory.blankNode(t.value);break;case"literal":if(t["xml:lang"]){const l=t["xml:lang"],s=t["its:dir"];i=this.dataFactory.literal(t.value,{language:l,direction:s})}else t.datatype?i=this.dataFactory.literal(t.value,this.dataFactory.namedNode(t.datatype)):i=this.dataFactory.literal(t.value);break;case"typed-literal":i=this.dataFactory.literal(t.value,this.dataFactory.namedNode(t.datatype));break;case"triple":const o=t.value;if(!o||!o.subject||!o.predicate||!o.object)throw new Error("Invalid quoted triple: "+JSON.stringify(t));i=this.dataFactory.quad(this.parseJsonValue(o.subject),this.parseJsonValue(o.predicate),this.parseJsonValue(o.object));break;default:i=this.dataFactory.namedNode(t.value);break}return i}parseJsonBoolean(t,i){if(i&&!this.isValidVersion(i))throw new Error(`Detected unsupported version as media type parameter: ${i}`);if("boolean"in t)return t.boolean;throw new Error("No valid ASK response was found.")}parseJsonBooleanStream(t,i){return i&&!this.isValidVersion(i)?Promise.reject(new Error(`Detected unsupported version as media type parameter: ${i}`)):new Promise((o,l)=>{const s=new u;s.onError=l,s.onValue=c=>{s.key==="boolean"&&typeof c=="boolean"&&s.stack.length===1&&o(c)},t.on("error",l).on("data",c=>s.write(c)).on("end",()=>l(new Error("No valid ASK response was found.")))})}};return sO.SparqlJsonParser=a,a.SUPPORTED_VERSIONS=["1.2","1.2-basic","1.1"],sO}var Dfe;function _Ce(){return Dfe||(Dfe=1,(function(n){var e=Yh&&Yh.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=Yh&&Yh.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(vCe(),n)})(Yh)),Yh}var ey={},mO={},ty={},bO={},Ffe;function S3e(){if(Ffe)return bO;Ffe=1,Object.defineProperty(bO,"__esModule",{value:!0}),bO.BlankNode=void 0;class n{constructor(u){this.termType="BlankNode",this.value=u}equals(u){return!!u&&u.termType==="BlankNode"&&u.value===this.value}}return bO.BlankNode=n,bO}var gO={},vO={},Pfe;function E3e(){if(Pfe)return vO;Pfe=1,Object.defineProperty(vO,"__esModule",{value:!0}),vO.DefaultGraph=void 0;class n{constructor(){this.termType="DefaultGraph",this.value=""}equals(u){return!!u&&u.termType==="DefaultGraph"}}return vO.DefaultGraph=n,n.INSTANCE=new n,vO}var _O={},TO={},jfe;function mV(){if(jfe)return TO;jfe=1,Object.defineProperty(TO,"__esModule",{value:!0}),TO.NamedNode=void 0;class n{constructor(u){this.termType="NamedNode",this.value=u}equals(u){return!!u&&u.termType==="NamedNode"&&u.value===this.value}}return TO.NamedNode=n,TO}var Mfe;function A3e(){if(Mfe)return _O;Mfe=1,Object.defineProperty(_O,"__esModule",{value:!0}),_O.Literal=void 0;const n=mV();class e{constructor(a,r){this.termType="Literal",this.value=a,typeof r=="string"?(this.language=r,this.datatype=e.RDF_LANGUAGE_STRING,this.direction=""):r?"termType"in r?(this.language="",this.datatype=r,this.direction=""):(this.language=r.language,this.datatype=r.direction?e.RDF_DIRECTIONAL_LANGUAGE_STRING:e.RDF_LANGUAGE_STRING,this.direction=r.direction||""):(this.language="",this.datatype=e.XSD_STRING,this.direction="")}equals(a){return!!a&&a.termType==="Literal"&&a.value===this.value&&a.language===this.language&&(a.direction===this.direction||!a.direction&&this.direction==="")&&this.datatype.equals(a.datatype)}}return _O.Literal=e,e.RDF_LANGUAGE_STRING=new n.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),e.RDF_DIRECTIONAL_LANGUAGE_STRING=new n.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#dirLangString"),e.XSD_STRING=new n.NamedNode("http://www.w3.org/2001/XMLSchema#string"),_O}var wO={},Cfe;function O3e(){if(Cfe)return wO;Cfe=1,Object.defineProperty(wO,"__esModule",{value:!0}),wO.Quad=void 0;class n{constructor(u,a,r,t){this.termType="Quad",this.value="",this.subject=u,this.predicate=a,this.object=r,this.graph=t}equals(u){return!!u&&(u.termType==="Quad"||!u.termType)&&this.subject.equals(u.subject)&&this.predicate.equals(u.predicate)&&this.object.equals(u.object)&&this.graph.equals(u.graph)}}return wO.Quad=n,wO}var SO={},Lfe;function x3e(){if(Lfe)return SO;Lfe=1,Object.defineProperty(SO,"__esModule",{value:!0}),SO.Variable=void 0;class n{constructor(u){this.termType="Variable",this.value=u}equals(u){return!!u&&u.termType==="Variable"&&u.value===this.value}}return SO.Variable=n,SO}var qfe;function TCe(){if(qfe)return gO;qfe=1,Object.defineProperty(gO,"__esModule",{value:!0}),gO.DataFactory=void 0;const n=S3e(),e=E3e(),u=A3e(),a=mV(),r=O3e(),t=x3e();let i=0;class o{constructor(s){this.blankNodeCounter=0,s=s||{},this.blankNodePrefix=s.blankNodePrefix||`df_${i++}_`}namedNode(s){return new a.NamedNode(s)}blankNode(s){return new n.BlankNode(s||`${this.blankNodePrefix}${this.blankNodeCounter++}`)}literal(s,c){return new u.Literal(s,c)}variable(s){return new t.Variable(s)}defaultGraph(){return e.DefaultGraph.INSTANCE}quad(s,c,d,f){return new r.Quad(s,c,d,f||this.defaultGraph())}fromTerm(s){switch(s.termType){case"NamedNode":return this.namedNode(s.value);case"BlankNode":return this.blankNode(s.value);case"Literal":return s.language?this.literal(s.value,s.language):s.datatype.equals(u.Literal.XSD_STRING)?this.literal(s.value):this.literal(s.value,this.fromTerm(s.datatype));case"Variable":return this.variable(s.value);case"DefaultGraph":return this.defaultGraph();case"Quad":return this.quad(this.fromTerm(s.subject),this.fromTerm(s.predicate),this.fromTerm(s.object),this.fromTerm(s.graph))}}fromQuad(s){return this.fromTerm(s)}resetBlankNodeCounter(){this.blankNodeCounter=0}}return gO.DataFactory=o,gO}var Bfe;function wCe(){return Bfe||(Bfe=1,(function(n){var e=ty&&ty.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=ty&&ty.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(S3e(),n),u(TCe(),n),u(E3e(),n),u(A3e(),n),u(mV(),n),u(O3e(),n),u(x3e(),n)})(ty)),ty}var Ufe;function SCe(){if(Ufe)return mO;Ufe=1,Object.defineProperty(mO,"__esModule",{value:!0}),mO.SparqlXmlParser=void 0;const n=wCe(),e=lTe(),u=Nr();let a=class R3e{constructor(t){t=t||{},this.dataFactory=t.dataFactory||new n.DataFactory,this.prefixVariableQuestionMark=!!t.prefixVariableQuestionMark,this.parseUnsupportedVersions=!!t.parseUnsupportedVersions}isValidVersion(t){return this.parseUnsupportedVersions||R3e.SUPPORTED_VERSIONS.includes(t)}parseXmlResultsStream(t,i){const o=E=>T.emit("error",E);t.on("error",o);const l=new e.SaxesParser,s=[];let c=!1,d=!1;const f=[];let p={},h="",g="",_,m="",w=[];l.on("error",o),l.on("opentag",E=>{E.name==="variable"&&this.stackEquals(s,["sparql","head"])?f.push(this.dataFactory.variable(E.attributes.name)):E.name==="results"&&this.stackEquals(s,["sparql"])?d=!0:E.name==="result"&&this.stackEquals(s,["sparql","results"])?p={}:E.name==="binding"&&this.stackEquals(s,["sparql","results","result"])?(h=E.attributes.name||"",g="",_=void 0,m="",w=[]):E.name==="triple"&&this.stackBeginsWith(s,["sparql","results","result"])?w.push({components:{}}):s[s.length-1]==="triple"&&this.stackBeginsWith(s,["sparql","results","result","binding"])?(g="",_=void 0,m="",["subject","predicate","object"].includes(E.name)?w[w.length-1].currentComponent=E.name:o(new Error(`Illegal quoted triple component '${E.name}' found on line ${l.line+1}`))):this.stackBeginsWith(s,["sparql","results","result","binding"])?(g=E.name,"xml:lang"in E.attributes?_={language:E.attributes["xml:lang"],direction:E.attributes["its:dir"]}:"datatype"in E.attributes?_=this.dataFactory.namedNode(E.attributes.datatype):_=void 0):E.name==="sparql"&&E.attributes.version&&(this.isValidVersion(E.attributes.version)||T.emit("error",new Error(`Detected unsupported version: ${E.attributes.version}`)),T.emit("version",E.attributes.version)),s.push(E.name)}),l.on("closetag",E=>{if(this.stackEquals(s,["sparql","head"])&&(T.emit("variables",f),c=!0),this.stackEquals(s,["sparql","results","result"])&&T.push(p),this.stackBeginsWith(s,["sparql","results","result","binding"])){let S;if(!h&&g)o(new Error(`Terms should have a name on line ${l.line+1}`));else if(g==="uri")S=this.dataFactory.namedNode(m);else if(g==="bnode")S=this.dataFactory.blankNode(m);else if(g==="literal")S=this.dataFactory.literal(m,_);else if(s[s.length-1]==="triple"){const N=w.pop();N&&N.components.subject&&N.components.predicate&&N.components.object?S=this.dataFactory.quad(N.components.subject,N.components.predicate,N.components.object):o(new Error(`Incomplete quoted triple on line ${l.line+1}`))}else g&&o(new Error(`Invalid term type '${g}' on line ${l.line+1}`));if(S)if(w.length>0){const N=w[w.length-1];N.components[N.currentComponent]&&o(new Error(`The ${N.currentComponent} in a quoted triple on line ${l.line+1} was already defined before`)),N.components[N.currentComponent]=S}else{const N=this.prefixVariableQuestionMark?"?"+h:h;p[N]=S}g=void 0}s.pop()}),l.on("text",E=>{this.stackBeginsWith(s,["sparql","results","result","binding"])&&s[s.length-1]===g&&(m=E)});const T=t.on("end",E=>{d?c||T.emit("variables",[]):T.emit("error",new Error("No valid SPARQL query results were found."))}).pipe(new u.Transform({objectMode:!0,transform(E,S,N){l.write(E),N()}}));return i&&!this.isValidVersion(i)&&T.destroy(new Error(`Detected unsupported version as media type parameter: ${i}`)),T}parseXmlBooleanStream(t,i){return i&&!this.isValidVersion(i)?Promise.reject(new Error(`Detected unsupported version as media type parameter: ${i}`)):new Promise((o,l)=>{const s=new e.SaxesParser,c=[];s.on("error",l),s.on("opentag",d=>{c.push(d.name)}),s.on("closetag",d=>{c.pop()}),s.on("text",d=>{this.stackEquals(c,["sparql","boolean"])&&o(d==="true")}),t.on("error",l).on("data",d=>s.write(d)).on("end",()=>l(new Error("No valid ASK response was found.")))})}stackEquals(t,i){return t.length===i.length&&t.every((o,l)=>i[l]===o)}stackBeginsWith(t,i){return t.length>=i.length&&i.every((o,l)=>t[l]===o)}};return mO.SparqlXmlParser=a,a.SUPPORTED_VERSIONS=["1.2","1.2-basic","1.1"],mO}var Qfe;function ECe(){return Qfe||(Qfe=1,(function(n){var e=ey&&ey.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=ey&&ey.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(SCe(),n)})(ey)),ey}var VC={exports:{}},Vfe;function ACe(){return Vfe||(Vfe=1,(function(n){(function(){var e;typeof window=="object"&&window?e=window:e=ab,n.exports?n.exports=e.Promise?e.Promise:t:e.Promise||(e.Promise=t);var u=e.setImmediate||function(f){setTimeout(f,1)};function a(f,p){return function(){f.apply(p,arguments)}}var r=Array.isArray||function(f){return Object.prototype.toString.call(f)==="[object Array]"};function t(f){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");if(typeof f!="function")throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],d(f,a(o,this),a(l,this))}function i(f){var p=this;if(this._state===null){this._deferreds.push(f);return}u(function(){var h=p._state?f.onFulfilled:f.onRejected;if(h===null){(p._state?f.resolve:f.reject)(p._value);return}var g;try{g=h(p._value)}catch(_){f.reject(_);return}f.resolve(g)})}function o(f){try{if(f===this)throw new TypeError("A promise cannot be resolved with itself.");if(f&&(typeof f=="object"||typeof f=="function")){var p=f.then;if(typeof p=="function"){d(a(p,f),a(o,this),a(l,this));return}}this._state=!0,this._value=f,s.call(this)}catch(h){l.call(this,h)}}function l(f){this._state=!1,this._value=f,s.call(this)}function s(){for(var f=0,p=this._deferreds.length;f<p;f++)i.call(this,this._deferreds[f]);this._deferreds=null}function c(f,p,h,g){this.onFulfilled=typeof f=="function"?f:null,this.onRejected=typeof p=="function"?p:null,this.resolve=h,this.reject=g}function d(f,p,h){var g=!1;try{f(function(_){g||(g=!0,p(_))},function(_){g||(g=!0,h(_))})}catch(_){if(g)return;g=!0,h(_)}}t.prototype.catch=function(f){return this.then(null,f)},t.prototype.then=function(f,p){var h=this;return new t(function(g,_){i.call(h,new c(f,p,g,_))})},t.all=function(){var f=Array.prototype.slice.call(arguments.length===1&&r(arguments[0])?arguments[0]:arguments);return new t(function(p,h){if(f.length===0)return p([]);var g=f.length;function _(w,T){try{if(T&&(typeof T=="object"||typeof T=="function")){var E=T.then;if(typeof E=="function"){E.call(T,function(S){_(w,S)},h);return}}f[w]=T,--g===0&&p(f)}catch(S){h(S)}}for(var m=0;m<f.length;m++)_(m,f[m])})},t.resolve=function(f){return f&&typeof f=="object"&&f.constructor===t?f:new t(function(p){p(f)})},t.reject=function(f){return new t(function(p,h){h(f)})},t.race=function(f){return new t(function(p,h){for(var g=0,_=f.length;g<_;g++)f[g].then(p,h)})}})()})(VC)),VC.exports}var HC,Hfe;function OCe(){if(Hfe)return HC;Hfe=1;var n=ACe();return HC=function(e,u,a){typeof u=="function"&&(a=u,u=null);var r="",t=new n(function(i,o){e.on("data",function(l){r+=typeof u=="string"?l.toString(u):l.toString()}),e.on("end",function(){i(r)}),e.on("error",o)});return a&&t.then(function(i){a(null,i)},a),t},HC}var kfe;function xCe(){if(kfe)return Wh;kfe=1;var n=Wh&&Wh.__awaiter||function(s,c,d,f){function p(h){return h instanceof d?h:new d(function(g){g(h)})}return new(d||(d=Promise))(function(h,g){function _(T){try{w(f.next(T))}catch(E){g(E)}}function m(T){try{w(f.throw(T))}catch(E){g(E)}}function w(T){T.done?h(T.value):p(T.value).then(_,m)}w((f=f.apply(s,c||[])).next())})};Object.defineProperty(Wh,"__esModule",{value:!0}),Wh.SparqlEndpointFetcher=void 0;const e=QTe(),u=wl,a=UTe(),r=$n(),t=_Ce(),i=ECe(),o=OCe();let l=class Mg{constructor(c){var d,f,p,h,g;this.method=(d=c?.method)!==null&&d!==void 0?d:"POST",this.timeout=c?.timeout,this.forceGetIfUrlLengthBelow=(f=c?.forceGetIfUrlLengthBelow)!==null&&f!==void 0?f:0,this.directPost=(p=c?.directPost)!==null&&p!==void 0?p:!1,this.additionalUrlParams=(h=c?.additionalUrlParams)!==null&&h!==void 0?h:new URLSearchParams,this.defaultHeaders=(g=c?.defaultHeaders)!==null&&g!==void 0?g:new Headers,this.fetchCb=c?.fetch,this.sparqlJsonParser=new t.SparqlJsonParser(c),this.sparqlXmlParser=new i.SparqlXmlParser(c),this.sparqlParsers={[Mg.CONTENTTYPE_SPARQL_JSON]:{parseBooleanStream:_=>this.sparqlJsonParser.parseJsonBooleanStream(_),parseResultsStream:_=>this.sparqlJsonParser.parseJsonResultsStream(_)},[Mg.CONTENTTYPE_SPARQL_XML]:{parseBooleanStream:_=>this.sparqlXmlParser.parseXmlBooleanStream(_),parseResultsStream:_=>this.sparqlXmlParser.parseXmlResultsStream(_)}}}getQueryType(c){const d=new r.Parser({sparqlStar:!0}).parse(c);return d.type==="query"?d.queryType==="DESCRIBE"?"CONSTRUCT":d.queryType:"UNKNOWN"}getUpdateTypes(c){const d=new r.Parser({sparqlStar:!0}).parse(c);if(d.type==="update"){const f={};for(const p of d.updates)"type"in p?f[p.type]=!0:f[p.updateType]=!0;return f}return"UNKNOWN"}fetchBindings(c,d){return n(this,void 0,void 0,function*(){const[f,p]=yield this.fetchRawStream(c,d,Mg.CONTENTTYPE_SPARQL),h=this.sparqlParsers[f];if(!h)throw new Error(`Unknown SPARQL results content type: ${f}`);return h.parseResultsStream(p)})}fetchAsk(c,d){return n(this,void 0,void 0,function*(){const[f,p]=yield this.fetchRawStream(c,d,Mg.CONTENTTYPE_SPARQL),h=this.sparqlParsers[f];if(!h)throw new Error(`Unknown SPARQL results content type: ${f}`);return h.parseBooleanStream(p)})}fetchTriples(c,d){return n(this,void 0,void 0,function*(){const[f,p]=yield this.fetchRawStream(c,d,Mg.CONTENTTYPE_TURTLE);return p.pipe(new u.StreamParser({format:f}))})}fetchUpdate(c,d){return n(this,void 0,void 0,function*(){const f=new AbortController,p={};this.defaultHeaders.forEach((g,_)=>{p[_]=g});const h={method:"POST",headers:Object.assign(Object.assign({},p),{"content-type":"application/sparql-update"}),body:d,signal:f.signal};yield this.handleFetchCall(c,h,{ignoreBody:!0}),f.abort()})}fetchRawStream(c,d,f){return n(this,void 0,void 0,function*(){let p,h;if(this.method==="POST"&&this.forceGetIfUrlLengthBelow<=c.length)p=this.method,h=c;else{const m=`${c}?query=${encodeURIComponent(d)}`;p=this.method==="GET"||m.length<this.forceGetIfUrlLengthBelow?"GET":"POST",h=p==="POST"?c:m}let g;const _=new Headers(this.defaultHeaders);if(_.append("Accept",f),p==="POST"){if(this.directPost)_.append("Content-Type","application/sparql-query"),g=d,this.additionalUrlParams.toString().length>0&&(h+=`?${this.additionalUrlParams.toString()}`);else{_.append("Content-Type","application/x-www-form-urlencoded"),g=new URLSearchParams,g.set("query",d);for(const[m,w]of this.additionalUrlParams.entries())g.set(m,w)}_.append("Content-Length",g.toString().length.toString())}else this.additionalUrlParams.toString().length>0&&(h+=`&${this.additionalUrlParams.toString()}`);return this.handleFetchCall(h,{headers:_,method:p,body:g})})}handleFetchCall(c,d,f){return n(this,void 0,void 0,function*(){var p,h,g;let _,m;if(this.timeout){const E=new AbortController;d.signal=E.signal,_=setTimeout(()=>E.abort(),this.timeout)}const w=yield((p=this.fetchCb)!==null&&p!==void 0?p:fetch)(c,d);if(clearTimeout(_),!f?.ignoreBody&&w.body&&(m=e(w.body)?w.body:(0,a.readableFromWeb)(w.body)),!w.ok||!m&&!f?.ignoreBody){const E=c.split("?").at(0),S=m?yield o(m):"empty response";throw new Error(`Invalid SPARQL endpoint response from ${E} (HTTP status ${w.status}):
${S}`)}return[(g=(h=w.headers.get("Content-Type"))===null||h===void 0?void 0:h.split(";").at(0))!==null&&g!==void 0?g:"",m]})}};return Wh.SparqlEndpointFetcher=l,l.CONTENTTYPE_SPARQL_JSON="application/sparql-results+json",l.CONTENTTYPE_SPARQL_XML="application/sparql-results+xml",l.CONTENTTYPE_TURTLE="text/turtle",l.CONTENTTYPE_SPARQL=`${l.CONTENTTYPE_SPARQL_JSON};q=1.0,${l.CONTENTTYPE_SPARQL_XML};q=0.7`,Wh}var zfe;function N3e(){return zfe||(zfe=1,(function(n){var e=Jh&&Jh.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=Jh&&Jh.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(xCe(),n)})(Jh)),Jh}var Gfe;function I3e(){if(Gfe)return oO;Gfe=1,Object.defineProperty(oO,"__esModule",{value:!0}),oO.QuadDestinationSparql=void 0;const n=R1(),e=Gt(),u=N3e(),a=Z4();let r=class{constructor(i,o,l,s){this.url=i,this.context=o,this.mediatorHttp=l,this.endpointFetcher=new u.SparqlEndpointFetcher({fetch:(c,d)=>this.mediatorHttp.mediate({input:c,init:d,context:this.context}),prefixVariableQuestionMark:!0,dataFactory:s})}async update(i){const o=this.createCombinedQuadsQuery(i.insert,i.delete);await this.wrapSparqlUpdateRequest(o)}createCombinedQuadsQuery(i,o){return new e.ArrayIterator([],{autoStart:!1}).append(this.createQuadsQuery("DELETE",o)).append(o&&i?[` ;
`]:[]).append(this.createQuadsQuery("INSERT",i))}createQuadsQuery(i,o){return o?o.map(l=>{let s=`${(0,a.termToString)(l.subject)} ${(0,a.termToString)(l.predicate)} ${(0,a.termToString)(l.object)} .`;return l.graph.termType==="DefaultGraph"?s=`  ${s}
`:s=`  GRAPH ${(0,a.termToString)(l.graph)} { ${s} }
`,s}).prepend([`${i} DATA {
`]).append(["}"]):new e.ArrayIterator([],{autoStart:!1})}async wrapSparqlUpdateRequest(i){const o=await(0,n.stringify)(i);await this.endpointFetcher.fetchUpdate(this.url,o)}async deleteGraphs(i,o,l){const s=Array.isArray(i)?i:[i],c=[];for(const d of s){let f;typeof d=="string"?f=d:d.termType==="DefaultGraph"?f="DEFAULT":f=`GRAPH <${d.value}>`,c.push(`${l?"DROP":"CLEAR"} ${o?"":"SILENT "}${f}`)}await this.endpointFetcher.fetchUpdate(this.url,c.join("; "))}async createGraphs(i,o){const l=[];for(const s of i)l.push(`CREATE${o?"":" SILENT"} GRAPH <${s.value}>`);await this.endpointFetcher.fetchUpdate(this.url,l.join("; "))}};return oO.QuadDestinationSparql=r,oO}var $fe;function RCe(){if($fe)return uO;$fe=1,Object.defineProperty(uO,"__esModule",{value:!0}),uO.ActorRdfUpdateHypermediaSparql=void 0;const n=fV(),e=lt(),u=De(),a=I3e();let r=class extends n.ActorRdfUpdateHypermedia{constructor(i){super(i,"sparql")}async testMetadata(i){return!i.forceDestinationType&&!i.metadata.sparqlService&&!(this.checkUrlSuffixSparql&&(i.url.endsWith("/sparql")||i.url.endsWith("/sparql/")))&&!(this.checkUrlSuffixUpdate&&(i.url.endsWith("/update")||i.url.endsWith("/update/")))?(0,u.failTest)(`Actor ${this.name} could not detect a SPARQL service description or URL ending on /sparql or /update.`):(0,u.passTestVoid)()}async run(i){this.logInfo(i.context,`Identified as sparql destination: ${i.url}`);const o=i.context.getSafe(e.KeysInitQuery.dataFactory);return{destination:new a.QuadDestinationSparql(i.metadata.sparqlService||i.url,i.context,this.mediatorHttp,o)}}};return uO.ActorRdfUpdateHypermediaSparql=r,uO}var Xfe;function bV(){return Xfe||(Xfe=1,(function(n){var e=Kh&&Kh.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=Kh&&Kh.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(RCe(),n),u(I3e(),n)})(Kh)),Kh}var ry={},EO={},Kfe;function NCe(){if(Kfe)return EO;Kfe=1,Object.defineProperty(EO,"__esModule",{value:!0}),EO.ActorQueryOperationAsk=void 0;const n=qr(),e=De(),u=er();let a=class extends n.ActorQueryOperationTypedMediated{constructor(t){super(t,"ask")}async testOperation(t,i){return(0,e.passTestVoid)()}async runOperation(t,i){const o=await this.mediatorQueryOperation.mediate({operation:t.input,context:i}),{bindingsStream:l}=(0,u.getSafeBindings)(o);return{type:"boolean",execute:async()=>(await l.take(1).toArray()).length===1}}};return EO.ActorQueryOperationAsk=a,EO}var Jfe;function gV(){return Jfe||(Jfe=1,(function(n){var e=ry&&ry.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=ry&&ry.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(NCe(),n)})(ry)),ry}var ny={},AO={},Wfe;function ICe(){if(Wfe)return AO;Wfe=1,Object.defineProperty(AO,"__esModule",{value:!0}),AO.ActorQueryOperationBgpJoin=void 0;const n=qr(),e=lt(),u=De(),a=Qt();let r=class extends n.ActorQueryOperationTypedMediated{constructor(i){super(i,"bgp")}async testOperation(i,o){return(0,u.passTestVoid)()}async runOperation(i,o){const l=o.getSafe(e.KeysInitQuery.dataFactory),s=new a.Factory(l);return this.mediatorQueryOperation.mediate({operation:s.createJoin(i.patterns),context:o})}};return AO.ActorQueryOperationBgpJoin=r,AO}var Yfe;function vV(){return Yfe||(Yfe=1,(function(n){var e=ny&&ny.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=ny&&ny.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(ICe(),n)})(ny)),ny}var ay={},OO={},xO={},Zfe;function D3e(){if(Zfe)return xO;Zfe=1,Object.defineProperty(xO,"__esModule",{value:!0}),xO.BindingsToQuadsIterator=void 0;const n=Gt(),e=Yr();let u=class $6 extends n.MultiTransformIterator{constructor(r,t,i){super(i,{autoStart:!1}),this.dataFactory=r,this.template=t,this.blankNodeCounter=0}static bindTerm(r,t){return t.termType==="Variable"?r.get(t):t}static bindQuad(r,t){try{return(0,e.mapTermsNested)(t,i=>{const o=$6.bindTerm(r,i);if(!o)throw new Error("Unbound term");return o})}catch{}}static localizeBlankNode(r,t,i){return i.termType==="BlankNode"?r.blankNode(`${i.value}${t}`):i}static localizeQuad(r,t,i){return(0,e.mapTermsNested)(i,o=>$6.localizeBlankNode(r,t,o))}bindTemplate(r,t,i){return t.map($6.localizeQuad.bind(null,this.dataFactory,i)).map(l=>$6.bindQuad.bind(null,r)(l)).filter(Boolean)}_createTransformer(r){return new n.ArrayIterator(this.bindTemplate(r,this.template,this.blankNodeCounter++),{autoStart:!1})}};return xO.BindingsToQuadsIterator=u,xO}var epe;function DCe(){if(epe)return OO;epe=1,Object.defineProperty(OO,"__esModule",{value:!0}),OO.ActorQueryOperationConstruct=void 0;const n=qr(),e=lt(),u=De(),a=er(),r=Yr(),t=Qt(),i=D3e();let o=class F3e extends n.ActorQueryOperationTypedMediated{constructor(s){super(s,"construct")}static getVariables(s){return(0,r.uniqTerms)([].concat.apply([],s.map(c=>(0,r.getVariables)((0,r.getTermsNested)(c)))))}async testOperation(s,c){return(0,u.passTestVoid)()}async runOperation(s,c){const d=c.getSafe(e.KeysInitQuery.dataFactory),f=F3e.getVariables(s.template),p={type:t.Algebra.types.PROJECT,input:s.input,variables:f},h=(0,a.getSafeBindings)(await this.mediatorQueryOperation.mediate({operation:p,context:c})),g=new i.BindingsToQuadsIterator(d,s.template,h.bindingsStream);return{metadata:()=>h.metadata().then(m=>({...m,order:void 0,cardinality:{type:m.cardinality.type,value:m.cardinality.value*s.template.length},availableOrders:void 0})),quadStream:g,type:"quads"}}};return OO.ActorQueryOperationConstruct=o,OO}var tpe;function NP(){return tpe||(tpe=1,(function(n){var e=ay&&ay.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=ay&&ay.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(DCe(),n),u(D3e(),n)})(ay)),ay}var iy={},RO={},rpe;function FCe(){if(rpe)return RO;rpe=1,Object.defineProperty(RO,"__esModule",{value:!0}),RO.ActorQueryOperationDistinctHash=void 0;const n=qr(),e=De(),u=er();let a=class extends n.ActorQueryOperationTypedMediated{constructor(t){super(t,"distinct")}async testOperation(t,i){return(0,e.passTestVoid)()}async runOperation(t,i){const o=await this.mediatorQueryOperation.mediate({operation:t.input,context:i});if(o.type==="quads"){const d=(0,u.getSafeQuads)(o);return{type:"quads",quadStream:d.quadStream.filter(await this.newHashFilterQuads(i)),metadata:d.metadata}}const l=(0,u.getSafeBindings)(o),s=(await l.metadata()).variables.map(d=>d.variable);return{type:"bindings",bindingsStream:l.bindingsStream.filter(await this.newHashFilter(i,s)),metadata:l.metadata}}async newHashFilter(t,i){const{hashFunction:o}=await this.mediatorHashBindings.mediate({context:t}),l={};return s=>{const c=o(s,i);return!(c in l)&&(l[c]=!0)}}async newHashFilterQuads(t){const{hashFunction:i}=await this.mediatorHashQuads.mediate({context:t}),o={};return l=>{const s=i(l);return!(s in o)&&(o[s]=!0)}}};return RO.ActorQueryOperationDistinctHash=a,RO}var npe;function _V(){return npe||(npe=1,(function(n){var e=iy&&iy.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=iy&&iy.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(FCe(),n)})(iy)),iy}var uy={},NO={},ape;function PCe(){if(ape)return NO;ape=1,Object.defineProperty(NO,"__esModule",{value:!0}),NO.ActorQueryOperationExtend=void 0;const n=qr(),e=De(),u=pn(),a=Xe(),r=er();let t=class extends n.ActorQueryOperationTypedMediated{constructor(o){super(o,"extend"),this.mediatorExpressionEvaluatorFactory=o.mediatorExpressionEvaluatorFactory}async testOperation(){return(0,e.passTestVoid)()}async runOperation(o,l){const{expression:s,input:c,variable:d}=o,f=(0,r.getSafeBindings)(await this.mediatorQueryOperation.mediate({operation:c,context:l}));if((await f.metadata()).variables.some(_=>_.variable.equals(d)))throw new Error(`Illegal binding to variable '${d.value}' that has already been bound`);const p=await this.mediatorExpressionEvaluatorFactory.mediate({algExpr:s,context:l}),h=async(_,m,w)=>{try{const T=await p.evaluate(_),E=_.set(d,T);w(E)}catch(T){(0,a.isExpressionError)(T)?(w(_),this.logWarn(l,`Expression error for extend operation (${T.message})with bindings '${(0,u.bindingsToString)(_)}'`)):g.emit("error",T)}m()},g=f.bindingsStream.transform({autoStart:!1,transform:h});return{type:"bindings",bindingsStream:g,async metadata(){const _=await f.metadata();return{..._,variables:[..._.variables,{variable:d,canBeUndef:!1}]}}}}};return NO.ActorQueryOperationExtend=t,NO}var ipe;function TV(){return ipe||(ipe=1,(function(n){var e=uy&&uy.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=uy&&uy.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(PCe(),n)})(uy)),uy}var oy={},IO={},upe;function jCe(){if(upe)return IO;upe=1,Object.defineProperty(IO,"__esModule",{value:!0}),IO.ActorQueryOperationFilter=void 0;const n=qr(),e=De(),u=pn(),a=Xe(),r=er();let t=class extends n.ActorQueryOperationTypedMediated{constructor(o){super(o,"filter"),this.mediatorExpressionEvaluatorFactory=o.mediatorExpressionEvaluatorFactory}async testOperation(){return(0,e.passTestVoid)()}async runOperation(o,l){const s=await this.mediatorQueryOperation.mediate({operation:o.input,context:l}),c=(0,r.getSafeBindings)(s);(0,r.validateQueryOutput)(c,"bindings");const d=await this.mediatorExpressionEvaluatorFactory.mediate({algExpr:o.expression,context:l}),f=async(h,g,_)=>{try{await d.evaluateAsEBV(h)&&_(h)}catch(m){(0,a.isExpressionError)(m)?this.logWarn(l,"Error occurred while filtering.",()=>({error:m,bindings:(0,u.bindingsToString)(h)})):p.emit("error",m)}g()},p=c.bindingsStream.transform({transform:f,autoStart:!1});return{type:"bindings",bindingsStream:p,metadata:c.metadata}}};return IO.ActorQueryOperationFilter=t,IO}var ope;function wV(){return ope||(ope=1,(function(n){var e=oy&&oy.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=oy&&oy.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(jCe(),n)})(oy)),oy}var sy={},DO={},spe;function MCe(){if(spe)return DO;spe=1,Object.defineProperty(DO,"__esModule",{value:!0}),DO.ActorQueryOperationFromQuad=void 0;const n=qr(),e=lt(),u=De(),a=Qt();let r=class mu extends n.ActorQueryOperationTypedMediated{constructor(i){super(i,"from")}static copyOperation(i,o){const l={};for(const s of Object.keys(i))Array.isArray(i[s])&&s!=="template"?s==="variables"?l[s]=i[s]:l[s]=i[s].map(o):mu.ALGEBRA_TYPES.includes(i[s].type)?l[s]=o(i[s]):l[s]=i[s];return l}static applyOperationDefaultGraph(i,o,l){if(o.type==="bgp"&&o.patterns.length>0||o.type==="path"||o.type==="pattern"){if(o.type==="bgp")return mu.joinOperations(i,o.patterns.map(c=>{if(c.graph.termType!=="DefaultGraph")return i.createBgp([c]);const d=l.map(f=>i.createBgp([Object.assign(i.createPattern(c.subject,c.predicate,c.object,f),{metadata:c.metadata})]));return mu.unionOperations(i,d)}));if(o.graph.termType!=="DefaultGraph")return o;const s=l.map(c=>o.type==="path"?i.createPath(o.subject,o.predicate,o.object,c):Object.assign(i.createPattern(o.subject,o.predicate,o.object,c),{metadata:o.metadata}));return mu.unionOperations(i,s)}return mu.copyOperation(o,s=>this.applyOperationDefaultGraph(i,s,l))}static applyOperationNamedGraph(i,o,l,s){if(o.type==="bgp"&&o.patterns.length>0||o.type==="path"||o.type==="pattern"){const c=o.type==="bgp"?o.patterns[0].graph:o.graph;if(c.termType==="DefaultGraph")return{type:a.Algebra.types.BGP,patterns:[]};if(c.termType==="Variable"){if(l.length===1){const f=l[0],p={};p[`?${c.value}`]=f;const h=i.createValues([c],[p]);let g;return o.type==="bgp"?g=i.createBgp(o.patterns.map(_=>i.createPattern(_.subject,_.predicate,_.object,f))):o.type==="path"?g=i.createPath(o.subject,o.predicate,o.object,f):g=i.createPattern(o.subject,o.predicate,o.object,f),i.createJoin([h,g])}return mu.unionOperations(i,l.map(f=>mu.applyOperationNamedGraph(i,o,[f],s)))}return[...l,...s].some(f=>f.equals(c))?o:{type:a.Algebra.types.BGP,patterns:[]}}return mu.copyOperation(o,c=>this.applyOperationNamedGraph(i,c,l,s))}static joinOperations(i,o){if(o.length===1)return o[0];if(o.length>1)return i.createJoin(o);throw new Error("A join can only be applied on at least one operation")}static unionOperations(i,o){if(o.length===1)return o[0];if(o.length>1)return i.createUnion(o);throw new Error("A union can only be applied on at least one operation")}static createOperation(i,o){let l=o.input;return o.default.length>0&&(l=mu.applyOperationDefaultGraph(i,l,o.default)),(o.named.length>0||o.default.length>0)&&(l=mu.applyOperationNamedGraph(i,l,o.named,o.default)),l}async testOperation(i,o){return(0,u.passTestVoid)()}async runOperation(i,o){const l=o.getSafe(e.KeysInitQuery.dataFactory),s=new a.Factory(l),c=mu.createOperation(s,i);return this.mediatorQueryOperation.mediate({operation:c,context:o})}};return DO.ActorQueryOperationFromQuad=r,r.ALGEBRA_TYPES=Object.keys(a.Algebra.types).map(t=>a.Algebra.types[t]),DO}var cpe;function SV(){return cpe||(cpe=1,(function(n){var e=sy&&sy.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=sy&&sy.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(MCe(),n)})(sy)),sy}var cy={},FO={},lpe;function CCe(){if(lpe)return FO;lpe=1,Object.defineProperty(FO,"__esModule",{value:!0}),FO.ActorQueryOperationProject=void 0;const n=qr(),e=lt(),u=De(),a=zq(),r=er();let t=class extends n.ActorQueryOperationTypedMediated{constructor(o){super(o,"project")}async testOperation(o,l){return(0,u.passTestVoid)()}async runOperation(o,l){const s=l.getSafe(e.KeysInitQuery.dataFactory),c=(0,r.getSafeBindings)(await this.mediatorQueryOperation.mediate({operation:o.input,context:l})),d=await c.metadata(),f=Object.fromEntries(d.variables.map(T=>[T.variable.value,T])),p=o.variables.map(T=>({variable:T,canBeUndef:!1})),h=Object.fromEntries(p.map(T=>[T.variable.value,T])),g=d.variables.filter(T=>!(T.variable.value in h)),_=p.map(T=>({variable:T.variable,canBeUndef:!(T.variable.value in f)||f[T.variable.value].canBeUndef}));let m=g.length===0?c.bindingsStream:c.bindingsStream.map(T=>{for(const E of g)T=T.delete(E.variable);return T}),w=0;return m=m.map(T=>{w++;const E=new Map;return T.map(S=>{if(S instanceof a.BlankNodeBindingsScoped){let N=E.get(S.value);return N||(N=s.blankNode(`${S.value}${w}`),E.set(S.value,N)),N}return S})}),{type:"bindings",bindingsStream:m,metadata:async()=>({...d,variables:_})}}};return FO.ActorQueryOperationProject=t,FO}var dpe;function EV(){return dpe||(dpe=1,(function(n){var e=cy&&cy.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=cy&&cy.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(CCe(),n)})(cy)),cy}var ly={},PO={},fpe;function LCe(){if(fpe)return PO;fpe=1,Object.defineProperty(PO,"__esModule",{value:!0}),PO.ActorQueryOperationReducedHash=void 0;const n=qr(),e=De(),u=er(),a=wb();let r=class extends n.ActorQueryOperationTypedMediated{constructor(i){super(i,"reduced")}async testOperation(i,o){return(0,e.passTestVoid)()}async runOperation(i,o){const l=(0,u.getSafeBindings)(await this.mediatorQueryOperation.mediate({operation:i.input,context:o})),s=(await l.metadata()).variables.map(d=>d.variable);return{type:"bindings",bindingsStream:l.bindingsStream.filter(await this.newHashFilter(o,s)),metadata:l.metadata}}async newHashFilter(i,o){const{hashFunction:l}=await this.mediatorHashBindings.mediate({context:i}),s=new a.LRUCache({max:this.cacheSize});return c=>{const d=l(c,o);return s.has(d)?!1:(s.set(d,!0),!0)}}};return PO.ActorQueryOperationReducedHash=r,PO}var ppe;function AV(){return ppe||(ppe=1,(function(n){var e=ly&&ly.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=ly&&ly.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(LCe(),n)})(ly)),ly}var dy={},jO={},hpe;function qCe(){if(hpe)return jO;hpe=1,Object.defineProperty(jO,"__esModule",{value:!0}),jO.ActorQueryOperationSlice=void 0;const n=qr(),e=lt(),u=De();let a=class extends n.ActorQueryOperationTypedMediated{constructor(t){super(t,"slice")}async testOperation(t,i){return(0,u.passTestVoid)()}async runOperation(t,i){t.length&&(i=i.set(e.KeysQueryOperation.limitIndicator,t.length));const o=await this.mediatorQueryOperation.mediate({operation:t.input,context:i});return o.type==="bindings"?{type:"bindings",bindingsStream:this.sliceStream(o.bindingsStream,t),metadata:this.sliceMetadata(o,t)}:o.type==="quads"?{type:"quads",quadStream:this.sliceStream(o.quadStream,t),metadata:this.sliceMetadata(o,t)}:o}sliceStream(t,i){const o=!!i.length||i.length===0,{start:l}=i,s=o?i.start+i.length-1:Number.POSITIVE_INFINITY;return t.transform({offset:l,limit:Math.max(s-l+1,0),autoStart:!1})}sliceMetadata(t,i){const o=!!i.length||i.length===0;return()=>t.metadata().then(l=>{const s={...l.cardinality};return Number.isFinite(s.value)&&(s.value=Math.max(0,s.value-i.start),o&&(s.value=Math.min(s.value,i.length))),{...l,cardinality:s}})}};return jO.ActorQueryOperationSlice=a,jO}var ype;function OV(){return ype||(ype=1,(function(n){var e=dy&&dy.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=dy&&dy.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(qCe(),n)})(dy)),dy}var fy={},MO={},mpe;function BCe(){if(mpe)return MO;mpe=1,Object.defineProperty(MO,"__esModule",{value:!0}),MO.ActorQueryOperationUnion=void 0;const n=qr(),e=De(),u=xa(),a=er(),r=Gt();let t=class sF extends n.ActorQueryOperationTypedMediated{constructor(o){super(o,"union")}static unionVariables(o){const l={};for(const s of o)for(const c of s){l[c.variable.value]||(l[c.variable.value]={variable:c.variable,canBeUndef:c.canBeUndef,occurrences:0});const d=l[c.variable.value];d.canBeUndef=d.canBeUndef||c.canBeUndef,d.occurrences++}return Object.values(l).map(s=>s.occurrences===o.length?{variable:s.variable,canBeUndef:s.canBeUndef}:{variable:s.variable,canBeUndef:!0})}static async unionMetadata(o,l,s,c){let d=(await c.mediate({mode:"initialize",context:s})).metadata;for(const p of o)d={...p,...(await c.mediate({mode:"append",accumulatedMetadata:d,appendingMetadata:p,context:s})).metadata};d.state=new u.MetadataValidationState;const f=()=>d.state.invalidate();for(const p of o)p.state.addInvalidateListener(f);if(l){const p=o.map(h=>h.variables);d.variables=sF.unionVariables(p)}return d}async testOperation(o,l){return(0,e.passTestVoid)()}async runOperation(o,l){const s=await Promise.all(o.input.map(d=>this.mediatorQueryOperation.mediate({operation:d,context:l})));let c;for(const d of s)if(c===void 0)c=d.type;else if(c!==d.type)throw new Error(`Unable to union ${c} and ${d.type}`);if(c==="bindings"||o.input.length===0){const d=s.map(a.getSafeBindings);return{type:"bindings",bindingsStream:new r.UnionIterator(d.map(h=>h.bindingsStream),{autoStart:!1}),metadata:()=>Promise.all(d.map(h=>h.metadata())).then(h=>sF.unionMetadata(h,!0,l,this.mediatorRdfMetadataAccumulate))}}if(c==="quads"){const d=s.map(a.getSafeQuads);return{type:"quads",quadStream:new r.UnionIterator(d.map(h=>h.quadStream),{autoStart:!1}),metadata:()=>Promise.all(d.map(h=>h.metadata())).then(h=>sF.unionMetadata(h,!1,l,this.mediatorRdfMetadataAccumulate))}}throw new Error(`Unable to union ${c}`)}};return MO.ActorQueryOperationUnion=t,MO}var bpe;function IP(){return bpe||(bpe=1,(function(n){var e=fy&&fy.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=fy&&fy.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(BCe(),n)})(fy)),fy}var py={},CO={},hy={},LO={},qO={},gpe;function P3e(){if(gpe)return qO;gpe=1,Object.defineProperty(qO,"__esModule",{value:!0}),qO.PathVariableObjectIterator=void 0;const n=er(),e=Gt(),u=Xt();let a=class extends e.BufferedIterator{constructor(t,i,o,l,s,c,d,f=16){super({autoStart:!1}),this.algebraFactory=t,this.subject=i,this.predicate=o,this.graph=l,this.context=s,this.mediatorQueryOperation=c,this.maxRunningOperations=f,this.termHashes=new Map,this.runningOperations=[],this.pendingOperations=[],this.started=!1,this._push(this.subject,d)}getProperty(t,i){return!this.started&&t==="metadata"&&this.startNextOperation(!1).catch(o=>this.emit("error",o)),super.getProperty(t,i)}_end(t){for(const i of this.runningOperations)i.destroy();super._end(t)}_push(t,i=!0){let o;if(i&&(o=(0,u.termToString)(t),this.termHashes.has(o)))return!1;const l=this.algebraFactory.dataFactory.variable("b");return this.pendingOperations.push({variable:l,operation:this.algebraFactory.createPath(t,this.predicate,l,this.graph)}),o&&(this.termHashes.set(o,t),super._push(t)),!0}async startNextOperation(t){this.started=!0;const i=this.pendingOperations.pop(),o=(0,n.getSafeBindings)(await this.mediatorQueryOperation.mediate({operation:i.operation,context:this.context})),l=o.bindingsStream.map(s=>s.get(i.variable));this.runningOperations.push(l),l.on("error",s=>this.destroy(s)),l.on("readable",()=>{t&&this._fillBufferAsync(),this.readable=!0}),l.on("end",()=>{this.runningOperations.splice(this.runningOperations.indexOf(l),1),t&&this._fillBufferAsync(),this.readable=!0}),this.getProperty("metadata")||this.setProperty("metadata",o.metadata)}_read(t,i){const o=this;(async function(){for(;o.runningOperations.length<o.maxRunningOperations&&o.pendingOperations.length!==0;)await o.startNextOperation(!0);let l=0,s,c=!0;for(;!c||l!==(l=t);){c=!0;for(let d=0;d<o.runningOperations.length&&t>0;d++)(s=o.runningOperations[d].read())!==null&&(o._push(s)?t--:c=!1)}o.closeIfNeeded()})().then(()=>{i()},l=>this.destroy(l))}closeIfNeeded(){this.runningOperations.length===0&&this.pendingOperations.length===0&&this.close()}};return qO.PathVariableObjectIterator=a,qO}var vpe;function UCe(){if(vpe)return LO;vpe=1,Object.defineProperty(LO,"__esModule",{value:!0}),LO.ActorAbstractPath=void 0;const n=qr(),e=lt(),u=De(),a=er(),r=Gt(),t=Xt(),i=Qt(),o=P3e();let l=class extends n.ActorQueryOperationTypedMediated{constructor(c,d){super(c,"path"),this.predicateType=d}async testOperation(c,d){return c.predicate.type!==this.predicateType?(0,u.failTest)(`This Actor only supports ${this.predicateType} Path operations.`):(0,u.passTestVoid)()}generateVariable(c,d,f){return f?d&&(d.subject.value===f||d.object.value===f)?this.generateVariable(c,d,`${f}b`):c.variable(f):this.generateVariable(c,d,"b")}async isPathArbitraryLengthDistinct(c,d,f){return d.get(e.KeysQueryOperation.isPathArbitraryLengthDistinctKey)?(d=d.set(e.KeysQueryOperation.isPathArbitraryLengthDistinctKey,!1),{context:d,operation:void 0}):(d=d.set(e.KeysQueryOperation.isPathArbitraryLengthDistinctKey,!0),{context:d,operation:(0,a.getSafeBindings)(await this.mediatorQueryOperation.mediate({operation:c.createDistinct(f),context:d}))})}async predicateStarGraphVariable(c,d,f,p,h,g,_){const m=this.getPathSources(f),w=this.generateVariable(g.dataFactory,g.createPath(c,f,d,p)),T=g.createUnion([this.assignPatternSources(g,g.createPattern(c,w,d,p),m),this.assignPatternSources(g,g.createPattern(d,w,c,p),m)]),E=(0,a.getSafeBindings)(await this.mediatorQueryOperation.mediate({context:h,operation:T})),S=new Set;return{bindingsStream:new r.MultiTransformIterator(E.bindingsStream,{multiTransform:j=>{const q=j.get(p);return S.has(q.value)?new r.EmptyIterator:(S.add(q.value),new r.TransformIterator(async()=>{const O=new r.BufferedIterator;return await this.getObjectsPredicateStar(g,c,f,q,h,{},O,{count:0}),O.map(I=>_.bindings([[d,I],[p,q]]))},{maxBufferSize:128}))},autoStart:!1}),metadata:E.metadata}}async getObjectsPredicateStarEval(c,d,f,p,h,g,_,m){if(p.termType==="Variable")return this.predicateStarGraphVariable(c,f,d,p,h,_,m);const w=new o.PathVariableObjectIterator(_,c,d,p,h,this.mediatorQueryOperation,g);return{bindingsStream:w.map(E=>m.bindings([[f,E]])),async metadata(){const E=await new Promise(S=>{w.getProperty("metadata",N=>S(N()))});return E.cardinality.value++,E}}}async getObjectsPredicateStar(c,d,f,p,h,g,_,m){const w=(0,t.termToString)(d);if(g[w])return;_._push(d),g[w]=d,m.count++;const T=this.generateVariable(c.dataFactory),E=c.createPath(d,f,T,p),S=(0,a.getSafeBindings)(await this.mediatorQueryOperation.mediate({operation:E,context:h}));return S.bindingsStream.on("data",async N=>{const j=N.get(T);await this.getObjectsPredicateStar(c,j,f,p,h,g,_,m)}),S.bindingsStream.on("end",()=>{--m.count===0&&_.close()}),S.metadata}async getSubjectAndObjectBindingsPredicateStar(c,d,f,p,h,g,_,m,w,T,E,S,N){const j=(0,t.termToString)(p)+(0,t.termToString)(g);if(w[j])return;if(E.count++,w[j]=!0,T._push(N.bindings([[c,f],[d,p]])),j in m){const O=await m[j];for(const I of O)await this.getSubjectAndObjectBindingsPredicateStar(c,d,f,I,h,g,_,m,w,T,E,S,N);--E.count===0&&T.close();return}const q=new Promise(async(O,I)=>{const A=[],P=this.generateVariable(S.dataFactory),C=S.createPath(p,h,P,g),B=(0,a.getSafeBindings)(await this.mediatorQueryOperation.mediate({operation:C,context:_}));B.bindingsStream.on("data",async V=>{const U=V.get(P);A.push(U),await this.getSubjectAndObjectBindingsPredicateStar(c,d,f,U,h,g,_,m,w,T,E,S,N)}),B.bindingsStream.on("error",I),B.bindingsStream.on("end",()=>{--E.count===0&&T.close(),O(A)})});m[j]=q}getPathSources(c){switch(c.type){case i.Algebra.types.ALT:case i.Algebra.types.SEQ:return c.input.flatMap(d=>this.getPathSources(d));case i.Algebra.types.INV:case i.Algebra.types.ONE_OR_MORE_PATH:case i.Algebra.types.ZERO_OR_MORE_PATH:case i.Algebra.types.ZERO_OR_ONE_PATH:return this.getPathSources(c.path);case i.Algebra.types.LINK:case i.Algebra.types.NPS:{const d=(0,a.getOperationSource)(c);if(!d)throw new Error("Could not find a required source on a link path operation");return[d]}}}assignPatternSources(c,d,f){if(f.length===0)throw new Error("Attempted to assign zero sources to a pattern during property path handling");return f.length===1?(0,a.assignOperationSource)(d,f[0]):c.createUnion(f.map(p=>(0,a.assignOperationSource)(d,p)),!0)}};return LO.ActorAbstractPath=l,LO}var _pe;function Al(){return _pe||(_pe=1,(function(n){var e=hy&&hy.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=hy&&hy.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(UCe(),n),u(P3e(),n)})(hy)),hy}var Tpe;function QCe(){if(Tpe)return CO;Tpe=1,Object.defineProperty(CO,"__esModule",{value:!0}),CO.ActorQueryOperationPathAlt=void 0;const n=Al(),e=IP(),u=lt(),a=er(),r=Gt(),t=Qt();let i=class extends n.ActorAbstractPath{constructor(l){super(l,t.Algebra.types.ALT)}async runOperation(l,s){const c=s.getSafe(u.KeysInitQuery.dataFactory),d=new t.Factory(c),f=l.predicate,p=(await Promise.all(f.input.map(_=>this.mediatorQueryOperation.mediate({context:s,operation:d.createPath(l.subject,_,l.object,l.graph)})))).map(a.getSafeBindings);return{type:"bindings",bindingsStream:new r.UnionIterator(p.map(_=>_.bindingsStream),{autoStart:!1}),metadata:()=>Promise.all(p.map(_=>_.metadata())).then(_=>e.ActorQueryOperationUnion.unionMetadata(_,!0,s,this.mediatorRdfMetadataAccumulate))}}};return CO.ActorQueryOperationPathAlt=i,CO}var wpe;function xV(){return wpe||(wpe=1,(function(n){var e=py&&py.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=py&&py.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(QCe(),n)})(py)),py}var yy={},BO={},Spe;function VCe(){if(Spe)return BO;Spe=1,Object.defineProperty(BO,"__esModule",{value:!0}),BO.ActorQueryOperationPathInv=void 0;const n=Al(),e=lt(),u=Qt();let a=class extends n.ActorAbstractPath{constructor(t){super(t,u.Algebra.types.INV)}async runOperation(t,i){const o=i.getSafe(e.KeysInitQuery.dataFactory),l=new u.Factory(o),s=t.predicate,c=l.createPath(t.object,s.path,t.subject,t.graph);return this.mediatorQueryOperation.mediate({operation:c,context:i})}};return BO.ActorQueryOperationPathInv=a,BO}var Epe;function RV(){return Epe||(Epe=1,(function(n){var e=yy&&yy.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=yy&&yy.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(VCe(),n)})(yy)),yy}var my={},UO={},Ape;function HCe(){if(Ape)return UO;Ape=1,Object.defineProperty(UO,"__esModule",{value:!0}),UO.ActorQueryOperationPathLink=void 0;const n=Al(),e=lt(),u=Qt();let a=class extends n.ActorAbstractPath{constructor(t){super(t,u.Algebra.types.LINK)}async runOperation(t,i){const o=i.getSafe(e.KeysInitQuery.dataFactory),l=new u.Factory(o),s=t.predicate,c=Object.assign(l.createPattern(t.subject,s.iri,t.object,t.graph),{metadata:s.metadata});return this.mediatorQueryOperation.mediate({operation:c,context:i})}};return UO.ActorQueryOperationPathLink=a,UO}var Ope;function NV(){return Ope||(Ope=1,(function(n){var e=my&&my.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=my&&my.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(HCe(),n)})(my)),my}var by={},QO={},xpe;function kCe(){if(xpe)return QO;xpe=1,Object.defineProperty(QO,"__esModule",{value:!0}),QO.ActorQueryOperationPathNps=void 0;const n=Al(),e=lt(),u=er(),a=Qt();let r=class extends n.ActorAbstractPath{constructor(i){super(i,a.Algebra.types.NPS)}async runOperation(i,o){const l=o.getSafe(e.KeysInitQuery.dataFactory),s=new a.Factory(l),c=i.predicate,d=this.generateVariable(l,i),f=Object.assign(s.createPattern(i.subject,d,i.object,i.graph),{metadata:c.metadata}),p=(0,u.getSafeBindings)(await this.mediatorQueryOperation.mediate({operation:f,context:o}));return{type:"bindings",bindingsStream:p.bindingsStream.map(g=>c.iris.some(_=>_.equals(g.get(d)))?null:g.delete(d)),metadata:p.metadata}}};return QO.ActorQueryOperationPathNps=r,QO}var Rpe;function IV(){return Rpe||(Rpe=1,(function(n){var e=by&&by.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=by&&by.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(kCe(),n)})(by)),by}var gy={},VO={},Npe;function zCe(){if(Npe)return VO;Npe=1,Object.defineProperty(VO,"__esModule",{value:!0}),VO.ActorQueryOperationClear=void 0;const n=qr(),e=lt(),u=er();let a=class extends n.ActorQueryOperationTypedMediated{constructor(t){super(t,"clear")}async testOperation(t,i){return(0,u.testReadOnly)(i)}async runOperation(t,i){const o=i.getSafe(e.KeysInitQuery.dataFactory);let l;t.source==="DEFAULT"?l=o.defaultGraph():typeof t.source=="string"?l=t.source:l=[t.source];const{execute:s}=await this.mediatorUpdateQuads.mediate({deleteGraphs:{graphs:l,requireExistence:!t.silent,dropGraphs:!1},context:i});return{type:"void",execute:s}}};return VO.ActorQueryOperationClear=a,VO}var Ipe;function DV(){return Ipe||(Ipe=1,(function(n){var e=gy&&gy.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=gy&&gy.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(zCe(),n)})(gy)),gy}var vy={},HO={},Dpe;function GCe(){if(Dpe)return HO;Dpe=1,Object.defineProperty(HO,"__esModule",{value:!0}),HO.ActorQueryOperationUpdateCompositeUpdate=void 0;const n=qr(),e=er();let u=class extends n.ActorQueryOperationTypedMediated{constructor(r){super(r,"compositeupdate")}async testOperation(r,t){return(0,e.testReadOnly)(t)}async runOperation(r,t){return{type:"void",execute:()=>(async()=>{for(const o of r.updates)await(0,e.getSafeVoid)(await this.mediatorQueryOperation.mediate({operation:o,context:t})).execute()})()}}};return HO.ActorQueryOperationUpdateCompositeUpdate=u,HO}var Fpe;function FV(){return Fpe||(Fpe=1,(function(n){var e=vy&&vy.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=vy&&vy.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(GCe(),n)})(vy)),vy}var _y={},kO={},Ppe;function $Ce(){if(Ppe)return kO;Ppe=1,Object.defineProperty(kO,"__esModule",{value:!0}),kO.ActorQueryOperationCreate=void 0;const n=qr(),e=er();let u=class extends n.ActorQueryOperationTypedMediated{constructor(r){super(r,"create")}async testOperation(r,t){return(0,e.testReadOnly)(t)}async runOperation(r,t){const{execute:i}=await this.mediatorUpdateQuads.mediate({createGraphs:{graphs:[r.source],requireNonExistence:!r.silent},context:t});return{type:"void",execute:i}}};return kO.ActorQueryOperationCreate=u,kO}var jpe;function PV(){return jpe||(jpe=1,(function(n){var e=_y&&_y.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=_y&&_y.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u($Ce(),n)})(_y)),_y}var Ty={},zO={},Mpe;function XCe(){if(Mpe)return zO;Mpe=1,Object.defineProperty(zO,"__esModule",{value:!0}),zO.ActorQueryOperationDrop=void 0;const n=qr(),e=lt(),u=er();let a=class extends n.ActorQueryOperationTypedMediated{constructor(t){super(t,"drop")}async testOperation(t,i){return(0,u.testReadOnly)(i)}async runOperation(t,i){const o=i.getSafe(e.KeysInitQuery.dataFactory);let l;t.source==="DEFAULT"?l=o.defaultGraph():typeof t.source=="string"?l=t.source:l=[t.source];const{execute:s}=await this.mediatorUpdateQuads.mediate({deleteGraphs:{graphs:l,requireExistence:!t.silent,dropGraphs:!0},context:i});return{type:"void",execute:s}}};return zO.ActorQueryOperationDrop=a,zO}var Cpe;function jV(){return Cpe||(Cpe=1,(function(n){var e=Ty&&Ty.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=Ty&&Ty.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(XCe(),n)})(Ty)),Ty}var wy={},GO={},Lpe;function KCe(){if(Lpe)return GO;Lpe=1,Object.defineProperty(GO,"__esModule",{value:!0}),GO.ActorQueryOperationLoad=void 0;const n=qr(),e=lt(),u=er(),a=Qt();let r=class extends n.ActorQueryOperationTypedMediated{constructor(i){super(i,"load")}async testOperation(i,o){return(0,u.testReadOnly)(o)}async runOperation(i,o){const l=o.getSafe(e.KeysInitQuery.dataFactory),s=new a.Factory(l);let c=o;i.silent&&(c=c.set(e.KeysInitQuery.lenient,!0));const{querySource:d}=await this.mediatorQuerySourceIdentify.mediate({querySourceUnidentified:{value:i.source.value},context:c});let p=(0,u.getSafeQuads)(await this.mediatorQueryOperation.mediate({operation:s.createConstruct((0,u.assignOperationSource)(s.createPattern(l.variable("s"),l.variable("p"),l.variable("o")),d),[s.createPattern(l.variable("s"),l.variable("p"),l.variable("o"))]),context:c})).quadStream;i.destination&&(p=p.map(g=>l.quad(g.subject,g.predicate,g.object,i.destination)));const{execute:h}=await this.mediatorUpdateQuads.mediate({quadStreamInsert:p,context:o});return{type:"void",execute:h}}};return GO.ActorQueryOperationLoad=r,GO}var qpe;function MV(){return qpe||(qpe=1,(function(n){var e=wy&&wy.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=wy&&wy.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(KCe(),n)})(wy)),wy}var Sy={},$O={},Ey={},XO={},Bpe;function JCe(){if(Bpe)return XO;Bpe=1,Object.defineProperty(XO,"__esModule",{value:!0}),XO.ActorQuerySourceIdentify=void 0;const n=De();let e=class extends n.Actor{constructor(a){super(a)}};return XO.ActorQuerySourceIdentify=e,XO}var Yn={},Upe;function WCe(){if(Upe)return Yn;Upe=1,Object.defineProperty(Yn,"__esModule",{value:!0}),Yn.filterMatchingQuotedQuads=Yn.quadsOrderToBindingsOrder=Yn.quadsMetadataToBindingsMetadata=Yn.setMetadata=Yn.getDuplicateElementLinks=Yn.getVariables=Yn.isTermVariable=Yn.quadsToBindings=void 0;const n=Eb(),e=xa(),u=Xt(),a=Yr(),r=i2e();function t(p,h,g,_,m){const w=o(h),T=h.graph.termType==="Variable"&&!m,E=l(h),S=(0,a.reduceTermsNested)(h,(q,O,I)=>(O.termType==="Variable"&&(q[I.join("_")]=O.value),q),{});let N=p;T&&(N=N.filter(q=>q.graph.termType!=="DefaultGraph")),E&&(N=N.filter(q=>{for(const O in E){const I=O.split("_"),A=(0,a.getValueNestedPath)(q,I);for(const P of E[O])if(!A.equals((0,a.getValueNestedPath)(q,P)))return!1}return!0}));const j=new n.ClosableIterator(N.map(q=>_.bindings(Object.keys(S).map(O=>{const I=O.split("_"),A=S[O],P=(0,a.getValueNestedPath)(q,I);return[g.variable(A),P]}))),{onClose:()=>p.destroy()});return s(g,j,p,S,w,T||!!E),j}Yn.quadsToBindings=t;function i(p){return p.termType==="Variable"}Yn.isTermVariable=i;function o(p){return(0,a.uniqTerms)((0,a.getTermsNested)(p).filter(i))}Yn.getVariables=o;function l(p){const h={};let g=!1;if((0,a.forEachTermsNested)(p,(m,w)=>{if(m.termType==="Variable"){const T=(0,u.termToString)(m),E=(h[T]||(h[T]=[])).push(w);g=g||E>1}}),!g)return;const _={};for(const m in h){const w=h[m],T=w.slice(1);T.length>0&&(_[w[0].join("_")]=T)}return _}Yn.getDuplicateElementLinks=l;function s(p,h,g,_,m,w){const T=S=>{w&&(S.cardinality.type="estimate"),h.setProperty("metadata",c(p,(0,e.validateMetadataQuads)(S),_,m)),S.state&&S.state.addInvalidateListener(()=>{s(p,h,g,_,m,w)})},E=g.getProperty("metadata");E?T(E):g.getProperty("metadata",T)}Yn.setMetadata=s;function c(p,h,g,_){return{...h,order:h.order?d(p,h.order,g):void 0,availableOrders:h.availableOrders?h.availableOrders.map(m=>({cost:m.cost,terms:d(p,m.terms,g)})):void 0,variables:_.map(m=>({variable:m,canBeUndef:!1}))}}Yn.quadsMetadataToBindingsMetadata=c;function d(p,h,g){const _={};return h.map(m=>{const w=g[m.term];if(w&&!_[w])return _[w]=!0,{term:p.variable(w),direction:m.direction}}).filter(Boolean)}Yn.quadsOrderToBindingsOrder=d;function f(p,h){return(0,a.someTerms)(p,g=>g.termType==="Quad")&&(h=h.filter(g=>(0,r.matchPatternMappings)(g,p))),h}return Yn.filterMatchingQuotedQuads=f,Yn}var Qpe;function aN(){return Qpe||(Qpe=1,(function(n){var e=Ey&&Ey.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=Ey&&Ey.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(JCe(),n),u(WCe(),n)})(Ey)),Ey}var FD={},Ay={},KO={},JO={},Oy={},WO={},Vpe;function j3e(){if(Vpe)return WO;Vpe=1,Object.defineProperty(WO,"__esModule",{value:!0}),WO.BlankNode=void 0;class n{constructor(u){this.termType="BlankNode",this.value=u}equals(u){return!!u&&u.termType==="BlankNode"&&u.value===this.value}}return WO.BlankNode=n,WO}var YO={},ZO={},Hpe;function M3e(){if(Hpe)return ZO;Hpe=1,Object.defineProperty(ZO,"__esModule",{value:!0}),ZO.DefaultGraph=void 0;class n{constructor(){this.termType="DefaultGraph",this.value=""}equals(u){return!!u&&u.termType==="DefaultGraph"}}return ZO.DefaultGraph=n,n.INSTANCE=new n,ZO}var ex={},tx={},kpe;function CV(){if(kpe)return tx;kpe=1,Object.defineProperty(tx,"__esModule",{value:!0}),tx.NamedNode=void 0;class n{constructor(u){this.termType="NamedNode",this.value=u}equals(u){return!!u&&u.termType==="NamedNode"&&u.value===this.value}}return tx.NamedNode=n,tx}var zpe;function C3e(){if(zpe)return ex;zpe=1,Object.defineProperty(ex,"__esModule",{value:!0}),ex.Literal=void 0;const n=CV();class e{constructor(a,r){this.termType="Literal",this.value=a,typeof r=="string"?(this.language=r,this.datatype=e.RDF_LANGUAGE_STRING,this.direction=""):r?"termType"in r?(this.language="",this.datatype=r,this.direction=""):(this.language=r.language,this.datatype=r.direction?e.RDF_DIRECTIONAL_LANGUAGE_STRING:e.RDF_LANGUAGE_STRING,this.direction=r.direction||""):(this.language="",this.datatype=e.XSD_STRING,this.direction="")}equals(a){return!!a&&a.termType==="Literal"&&a.value===this.value&&a.language===this.language&&(a.direction===this.direction||!a.direction&&this.direction==="")&&this.datatype.equals(a.datatype)}}return ex.Literal=e,e.RDF_LANGUAGE_STRING=new n.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),e.RDF_DIRECTIONAL_LANGUAGE_STRING=new n.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#dirLangString"),e.XSD_STRING=new n.NamedNode("http://www.w3.org/2001/XMLSchema#string"),ex}var rx={},Gpe;function L3e(){if(Gpe)return rx;Gpe=1,Object.defineProperty(rx,"__esModule",{value:!0}),rx.Quad=void 0;class n{constructor(u,a,r,t){this.termType="Quad",this.value="",this.subject=u,this.predicate=a,this.object=r,this.graph=t}equals(u){return!!u&&(u.termType==="Quad"||!u.termType)&&this.subject.equals(u.subject)&&this.predicate.equals(u.predicate)&&this.object.equals(u.object)&&this.graph.equals(u.graph)}}return rx.Quad=n,rx}var nx={},$pe;function q3e(){if($pe)return nx;$pe=1,Object.defineProperty(nx,"__esModule",{value:!0}),nx.Variable=void 0;class n{constructor(u){this.termType="Variable",this.value=u}equals(u){return!!u&&u.termType==="Variable"&&u.value===this.value}}return nx.Variable=n,nx}var Xpe;function YCe(){if(Xpe)return YO;Xpe=1,Object.defineProperty(YO,"__esModule",{value:!0}),YO.DataFactory=void 0;const n=j3e(),e=M3e(),u=C3e(),a=CV(),r=L3e(),t=q3e();let i=0;class o{constructor(s){this.blankNodeCounter=0,s=s||{},this.blankNodePrefix=s.blankNodePrefix||`df_${i++}_`}namedNode(s){return new a.NamedNode(s)}blankNode(s){return new n.BlankNode(s||`${this.blankNodePrefix}${this.blankNodeCounter++}`)}literal(s,c){return new u.Literal(s,c)}variable(s){return new t.Variable(s)}defaultGraph(){return e.DefaultGraph.INSTANCE}quad(s,c,d,f){return new r.Quad(s,c,d,f||this.defaultGraph())}fromTerm(s){switch(s.termType){case"NamedNode":return this.namedNode(s.value);case"BlankNode":return this.blankNode(s.value);case"Literal":return s.language?this.literal(s.value,s.language):s.datatype.equals(u.Literal.XSD_STRING)?this.literal(s.value):this.literal(s.value,this.fromTerm(s.datatype));case"Variable":return this.variable(s.value);case"DefaultGraph":return this.defaultGraph();case"Quad":return this.quad(this.fromTerm(s.subject),this.fromTerm(s.predicate),this.fromTerm(s.object),this.fromTerm(s.graph))}}fromQuad(s){return this.fromTerm(s)}resetBlankNodeCounter(){this.blankNodeCounter=0}}return YO.DataFactory=o,YO}var Kpe;function Ko(){return Kpe||(Kpe=1,(function(n){var e=Oy&&Oy.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=Oy&&Oy.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(j3e(),n),u(YCe(),n),u(M3e(),n),u(C3e(),n),u(CV(),n),u(L3e(),n),u(q3e(),n)})(Oy)),Oy}var xy={},Pr={},Jpe;function ZCe(){if(Jpe)return Pr;Jpe=1,Object.defineProperty(Pr,"__esModule",{value:!0}),Pr.TRIPLE_TERM_NAMES=Pr.QUAD_TERM_NAMES=void 0,Pr.getTerms=u,Pr.getTermsNested=a,Pr.getNamedTerms=r,Pr.collectNamedTerms=t,Pr.forEachTerms=i,Pr.forEachTermsNested=o,Pr.filterTerms=l,Pr.filterTermsNested=s,Pr.filterQuadTermNames=c,Pr.filterQuadTermNamesNested=d,Pr.mapTerms=f,Pr.mapTermsNested=p,Pr.reduceTerms=h,Pr.reduceTermsNested=g,Pr.everyTerms=_,Pr.everyTermsNested=m,Pr.someTerms=w,Pr.someTermsNested=T,Pr.getValueNestedPath=E,Pr.matchTerm=S,Pr.matchPattern=N,Pr.matchPatternComplete=j,Pr.matchPatternMappings=q;const n=Ko(),e=new n.DataFactory;Pr.QUAD_TERM_NAMES=["subject","predicate","object","graph"],Pr.TRIPLE_TERM_NAMES=["subject","predicate","object"];function u(O,I){return I&&O.graph.termType==="DefaultGraph"?[O.subject,O.predicate,O.object]:[O.subject,O.predicate,O.object,O.graph]}function a(O,I){const A=[];for(const P of u(O,I))P.termType==="Quad"?a(P,I).forEach(C=>A.push(C)):A.push(P);return A}function r(O){return[{key:"subject",value:O.subject},{key:"predicate",value:O.predicate},{key:"object",value:O.object},{key:"graph",value:O.graph}]}function t(O,I,A){const P={};return O.forEach(C=>P[C.key]=C.value),I&&(P.subject=P.subject||I("subject"),P.predicate=P.predicate||I("predicate"),P.object=P.object||I("object"),P.graph=P.graph||I("graph")),(A||e).quad(P.subject,P.predicate,P.object,P.graph)}function i(O,I){I(O.subject,"subject"),I(O.predicate,"predicate"),I(O.object,"object"),I(O.graph,"graph")}function o(O,I,A=[]){O.subject.termType==="Quad"?o(O.subject,I,[...A,"subject"]):I(O.subject,[...A,"subject"]),O.predicate.termType==="Quad"?o(O.predicate,I,[...A,"predicate"]):I(O.predicate,[...A,"predicate"]),O.object.termType==="Quad"?o(O.object,I,[...A,"object"]):I(O.object,[...A,"object"]),O.graph.termType==="Quad"?o(O.graph,I,[...A,"graph"]):I(O.graph,[...A,"graph"])}function l(O,I){const A=[];return I(O.subject,"subject")&&A.push(O.subject),I(O.predicate,"predicate")&&A.push(O.predicate),I(O.object,"object")&&A.push(O.object),I(O.graph,"graph")&&A.push(O.graph),A}function s(O,I,A=[]){let P=[];return O.subject.termType==="Quad"?P=[...P,...s(O.subject,I,[...A,"subject"])]:I(O.subject,[...A,"subject"])&&P.push(O.subject),O.predicate.termType==="Quad"?P=[...P,...s(O.predicate,I,[...A,"predicate"])]:I(O.predicate,[...A,"predicate"])&&P.push(O.predicate),O.object.termType==="Quad"?P=[...P,...s(O.object,I,[...A,"object"])]:I(O.object,[...A,"object"])&&P.push(O.object),O.graph.termType==="Quad"?P=[...P,...s(O.graph,I,[...A,"graph"])]:I(O.graph,[...A,"graph"])&&P.push(O.graph),P}function c(O,I){const A=[];return I(O.subject,"subject")&&A.push("subject"),I(O.predicate,"predicate")&&A.push("predicate"),I(O.object,"object")&&A.push("object"),I(O.graph,"graph")&&A.push("graph"),A}function d(O,I,A=[]){let P=[];const C=[...A,"subject"];O.subject.termType==="Quad"?P=[...P,...d(O.subject,I,C)]:I(O.subject,C)&&P.push(C);const B=[...A,"predicate"];O.predicate.termType==="Quad"?P=[...P,...d(O.predicate,I,B)]:I(O.predicate,B)&&P.push(B);const V=[...A,"object"];O.object.termType==="Quad"?P=[...P,...d(O.object,I,V)]:I(O.object,V)&&P.push(V);const U=[...A,"graph"];return O.graph.termType==="Quad"?P=[...P,...d(O.graph,I,U)]:I(O.graph,U)&&P.push(U),P}function f(O,I,A){return(A||e).quad(I(O.subject,"subject"),I(O.predicate,"predicate"),I(O.object,"object"),I(O.graph,"graph"))}function p(O,I,A,P=[]){return(A||e).quad(O.subject.termType==="Quad"?p(O.subject,I,A,[...P,"subject"]):I(O.subject,[...P,"subject"]),O.predicate.termType==="Quad"?p(O.predicate,I,A,[...P,"predicate"]):I(O.predicate,[...P,"predicate"]),O.object.termType==="Quad"?p(O.object,I,A,[...P,"object"]):I(O.object,[...P,"object"]),O.graph.termType==="Quad"?p(O.graph,I,A,[...P,"graph"]):I(O.graph,[...P,"graph"]))}function h(O,I,A){let P=A;return P=I(P,O.subject,"subject"),P=I(P,O.predicate,"predicate"),P=I(P,O.object,"object"),I(P,O.graph,"graph")}function g(O,I,A,P=[]){let C=A;return O.subject.termType==="Quad"?C=g(O.subject,I,C,[...P,"subject"]):C=I(C,O.subject,[...P,"subject"]),O.predicate.termType==="Quad"?C=g(O.predicate,I,C,[...P,"predicate"]):C=I(C,O.predicate,[...P,"predicate"]),O.object.termType==="Quad"?C=g(O.object,I,C,[...P,"object"]):C=I(C,O.object,[...P,"object"]),O.graph.termType==="Quad"?C=g(O.graph,I,C,[...P,"graph"]):C=I(C,O.graph,[...P,"graph"]),C}function _(O,I){return I(O.subject,"subject")&&I(O.predicate,"predicate")&&I(O.object,"object")&&I(O.graph,"graph")}function m(O,I,A=[]){return(O.subject.termType==="Quad"?m(O.subject,I,[...A,"subject"]):I(O.subject,[...A,"subject"]))&&(O.predicate.termType==="Quad"?m(O.predicate,I,[...A,"predicate"]):I(O.predicate,[...A,"predicate"]))&&(O.object.termType==="Quad"?m(O.object,I,[...A,"object"]):I(O.object,[...A,"object"]))&&(O.graph.termType==="Quad"?m(O.graph,I,[...A,"graph"]):I(O.graph,[...A,"graph"]))}function w(O,I){return I(O.subject,"subject")||I(O.predicate,"predicate")||I(O.object,"object")||I(O.graph,"graph")}function T(O,I,A=[]){return(O.subject.termType==="Quad"?T(O.subject,I,[...A,"subject"]):I(O.subject,[...A,"subject"]))||(O.predicate.termType==="Quad"?T(O.predicate,I,[...A,"predicate"]):I(O.predicate,[...A,"predicate"]))||(O.object.termType==="Quad"?T(O.object,I,[...A,"object"]):I(O.object,[...A,"object"]))||(O.graph.termType==="Quad"?T(O.graph,I,[...A,"graph"]):I(O.graph,[...A,"graph"]))}function E(O,I){if(I.length===0)return O;if(O.termType==="Quad")return E(O[I[0]],I.slice(1));throw new Error(`Tried to get ${I[0]} from term of type ${O.termType}`)}function S(O,I){return!I||I.termType==="Variable"||I.termType==="Quad"&&O.termType==="Quad"&&j(O,I)||I.equals(O)}function N(O,I,A,P,C){return S(O.subject,I)&&S(O.predicate,A)&&S(O.object,P)&&S(O.graph,C)}function j(O,I){return N(O,I.subject,I.predicate,I.object,I.graph)}function q(O,I,A={}){const P={};function C(B,V){return _(B,(U,G)=>{var J,ne;const W=V[G];switch(U.termType){case"Variable":return A.skipVarMapping&&W.termType==="Variable"||((ne=(J=P[U.value])===null||J===void 0?void 0:J.equals(W))!==null&&ne!==void 0?ne:(P[U.value]=W,!0));case"Quad":return W.termType==="Quad"&&C(U,W);default:return U.equals(W)}})}return C(I,O)&&(A.returnMappings?P:!0)}return Pr}var Pi={},kC={},to={},Wpe;function e9e(){if(Wpe)return to;Wpe=1,Object.defineProperty(to,"__esModule",{value:!0}),to.termToString=u,to.getLiteralValue=a,to.getLiteralType=r,to.getLiteralLanguage=t,to.getLiteralDirection=i,to.stringToTerm=o,to.quadToStringQuad=l,to.stringQuadToQuad=s;const n=Ko(),e=new n.DataFactory;function u(c){if(c)switch(c.termType){case"NamedNode":return c.value;case"BlankNode":return"_:"+c.value;case"Literal":const d=c;return'"'+d.value+'"'+(d.datatype&&d.datatype.value!=="http://www.w3.org/2001/XMLSchema#string"&&d.datatype.value!=="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"&&d.datatype.value!=="http://www.w3.org/1999/02/22-rdf-syntax-ns#dirLangString"?"^^"+d.datatype.value:"")+(d.language?"@"+d.language:"")+(d.direction?"--"+d.direction:"");case"Quad":return`<<${u(c.subject)} ${u(c.predicate)} ${u(c.object)}${c.graph.termType==="DefaultGraph"?"":" "+u(c.graph)}>>`;case"Variable":return"?"+c.value;case"DefaultGraph":return c.value}}function a(c){const d=/^"([^]*)"/.exec(c);if(!d)throw new Error(c+" is not a literal");return d[1]}function r(c){const d=/^"[^]*"(?:\^\^([^"]+)|(@)[^@"]+)?$/.exec(c);if(!d)throw new Error(c+" is not a literal");return d[1]||(d[2]?"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString":"http://www.w3.org/2001/XMLSchema#string")}function t(c){const d=/^"[^]*"(?:@([^@"]+)|\^\^[^"]+)?$/.exec(c);if(!d)throw new Error(c+" is not a literal");if(d[1]){let f=d[1].toLowerCase();const p=f.indexOf("--");return p>=0&&(f=f.slice(0,p)),f}return""}function i(c){const d=c.indexOf("--",c.lastIndexOf('"'));if(d>=0){const f=c.slice(d+2,c.length);if(f==="ltr"||f==="rtl")return f;throw new Error(c+" is not a literal with a valid direction")}return""}function o(c,d){if(d=d||e,!c||!c.length)return d.defaultGraph();switch(c[0]){case"_":return d.blankNode(c.substr(2));case"?":if(!d.variable)throw new Error("Missing 'variable()' method on the given DataFactory");return d.variable(c.substr(1));case'"':const f=t(c),p=i(c),h=d.namedNode(r(c));return d.literal(a(c),f?{language:f,direction:p}:h);default:if(c[0]==="<"&&c.length>4&&c[1]==="<"&&c[c.length-1]===">"&&c[c.length-2]===">"){const g=c.slice(2,-2).trim();let _=[],m=0,w=0,T=!1;for(let E=0;E<g.length;E++){const S=g[E];if(S==="<"&&m++,S===">"){if(m===0)throw new Error("Found closing tag without opening tag in "+c);m--}if(S==='"'){let N=!1,j=E;for(;j-- >0&&g[j]==="\\";)N=!N;N||(T=!T)}if(S===" "&&!T&&m===0){for(_.push(g.slice(w,E));g[E+1]===" ";)E+=1;w=E+1}}if(m!==0)throw new Error("Found opening tag without closing tag in "+c);if(_.push(g.slice(w,g.length)),_.length!==3&&_.length!==4)throw new Error("Nested quad syntax error "+c);return _=_.map(E=>E.startsWith("<")&&!E.includes(" ")?E.slice(1,-1):E),d.quad(o(_[0]),o(_[1]),o(_[2]),_[3]?o(_[3]):void 0)}return d.namedNode(c)}}function l(c){return{subject:u(c.subject),predicate:u(c.predicate),object:u(c.object),graph:u(c.graph)}}function s(c,d){return d=d||e,d.quad(o(c.subject,d),o(c.predicate,d),o(c.object,d),o(c.graph,d))}return to}var Ype;function iN(){return Ype||(Ype=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.termToString=n.stringToTerm=n.stringQuadToQuad=n.quadToStringQuad=n.getLiteralValue=n.getLiteralType=n.getLiteralDirection=n.getLiteralLanguage=void 0;const e=e9e();Object.defineProperty(n,"getLiteralLanguage",{enumerable:!0,get:function(){return e.getLiteralLanguage}}),Object.defineProperty(n,"getLiteralDirection",{enumerable:!0,get:function(){return e.getLiteralDirection}}),Object.defineProperty(n,"getLiteralType",{enumerable:!0,get:function(){return e.getLiteralType}}),Object.defineProperty(n,"getLiteralValue",{enumerable:!0,get:function(){return e.getLiteralValue}}),Object.defineProperty(n,"quadToStringQuad",{enumerable:!0,get:function(){return e.quadToStringQuad}}),Object.defineProperty(n,"stringQuadToQuad",{enumerable:!0,get:function(){return e.stringQuadToQuad}}),Object.defineProperty(n,"stringToTerm",{enumerable:!0,get:function(){return e.stringToTerm}}),Object.defineProperty(n,"termToString",{enumerable:!0,get:function(){return e.termToString}})})(kC)),kC}var Zpe;function t9e(){if(Zpe)return Pi;Zpe=1,Object.defineProperty(Pi,"__esModule",{value:!0}),Pi.TERM_TYPES=void 0,Pi.uniqTerms=e,Pi.getTermsOfType=u,Pi.getNamedNodes=a,Pi.getBlankNodes=r,Pi.getLiterals=t,Pi.getVariables=i,Pi.getDefaultGraphs=o,Pi.getQuads=l;const n=iN();Pi.TERM_TYPES=["NamedNode","BlankNode","Literal","Variable","DefaultGraph","Quad"];function e(s){const c={};return s.filter(d=>{const f=(0,n.termToString)(d);return!(f in c)&&(c[f]=!0)})}function u(s,c){return s.filter(d=>d.termType===c)}function a(s){return u(s,"NamedNode")}function r(s){return u(s,"BlankNode")}function t(s){return u(s,"Literal")}function i(s){return u(s,"Variable")}function o(s){return u(s,"DefaultGraph")}function l(s){return u(s,"Quad")}return Pi}var e0e;function DP(){return e0e||(e0e=1,(function(n){var e=xy&&xy.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=xy&&xy.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(ZCe(),n),u(t9e(),n)})(xy)),xy}var ax={},t0e;function B3e(){if(t0e)return ax;t0e=1,Object.defineProperty(ax,"__esModule",{value:!0}),ax.TermDictionaryNumberRecordFullTerms=void 0;const n=Ko(),e=iN();class u{constructor(r=new n.DataFactory){this.lastId=0,this.dictionary={},this.reverseDictionary={},this.features={quotedTriples:!1},this.dataFactory=r}encode(r){const t=(0,e.termToString)(r);let i=this.dictionary[t];return i===void 0&&(i=this.lastId++,this.dictionary[t]=i,this.reverseDictionary[i]=r),i}encodeOptional(r){const t=(0,e.termToString)(r);return this.dictionary[t]}decode(r){const t=this.reverseDictionary[r];if(t===void 0)throw new Error(`The value ${r} is not present in this dictionary`);return t}*encodings(){for(const r of Object.keys(this.reverseDictionary))yield Number.parseInt(r,10)}findQuotedTriples(r){throw new Error("findQuotedTriples is not supported")}findQuotedTriplesEncoded(r){throw new Error("findQuotedTriplesEncoded is not supported")}}return ax.TermDictionaryNumberRecordFullTerms=u,ax}var ix={},ux={},zC={},r0e;function Jo(){return r0e||(r0e=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.QUAD_TERM_NAMES_INVERSE=void 0,n.getBestIndex=u,n.getComponentOrderScore=a,n.orderQuadComponents=r,n.encodeOptionalTerms=t,n.quadToPattern=i,n.quadHasVariables=o,n.arePatternsQuoted=l;const e=DP();n.QUAD_TERM_NAMES_INVERSE=Object.fromEntries(e.QUAD_TERM_NAMES.map((s,c)=>[s,c]));function u(s,c){if(s.length===1||c.every(p=>p!==void 0))return 0;const d=[];for(let p=0;p<e.QUAD_TERM_NAMES.length;p++)c[p]&&d.push(e.QUAD_TERM_NAMES[p]);return s.map((p,h)=>({score:a(p,d),index:h})).sort((p,h)=>h.score-p.score)[0].index}function a(s,c){return s.map((d,f)=>c.includes(d)?s.length-f:0).reduce((d,f)=>d+f,0)}function r(s,c){return s.map(d=>{const f=n.QUAD_TERM_NAMES_INVERSE[d];return c[f]})}function t(s,c){const d=s.map(f=>{if(f){if(f.termType==="Quad"&&o(f))return;const p=c.encodeOptional(f);return p===void 0?"none":p}return f});if(!d.includes("none"))return d}function i(s,c,d,f,p){let h=!1;return[[s||void 0,c||void 0,d||void 0,f||void 0].map(_=>{if(_){if(_.termType==="Variable")return;if(_.termType==="Quad"){if(p)return _;h=!0;return}}return _}),h]}function o(s){for(const c of e.QUAD_TERM_NAMES){const d=s[c];if(d.termType==="Variable"||d.termType==="Quad"&&o(d))return!0}return!1}function l(s){return s.map(c=>c?.termType==="Quad"&&o(c))}})(zC)),zC}var n0e;function LV(){if(n0e)return ux;n0e=1,Object.defineProperty(ux,"__esModule",{value:!0}),ux.RdfStoreIndexNestedMap=void 0;const n=Jo();class e{constructor(a){this.features={quotedTripleFiltering:!1},this.dictionary=a.dictionary,this.nestedMap=new Map}set(a,r){const t=this.nestedMap;let i=t.get(a[0]);i||(i=new Map,t.set(a[0],i));let o=i.get(a[1]);o||(o=new Map,i.set(a[1],o));let l=o.get(a[2]);l||(l=new Map,o.set(a[2],l));const s=l.has(a[3]);return s||l.set(a[3],r),!s}remove(a){const r=this.nestedMap,t=r.get(a[0]);if(!t)return!1;const i=t.get(a[1]);if(!i)return!1;const o=i.get(a[2]);if(!o)return!1;const l=o.delete(a[3]);return l&&o.size===0&&(i.delete(a[2]),i.size===0&&(t.delete(a[1]),t.size===0&&r.delete(a[0]))),l}get(a){const r=(0,n.encodeOptionalTerms)(a,this.dictionary);if(!(!r||r.includes(void 0)))return this.getEncoded(r)}getEncoded(a){const r=this.nestedMap.get(a[0]);if(!r)return;const t=r.get(a[1]);if(!t)return;const i=t.get(a[2]);if(i)return i.get(a[3])}*find(a){const r=(0,n.encodeOptionalTerms)(a,this.dictionary);if(!r)return;const[t,i,o,l]=r,[s,c,d,f]=a;let p,h,g,_,m,w,T;const E=this.nestedMap,S=t!==void 0?E.has(t)?[t]:[]:E.keys();for(const N of S){m=E.get(N),p=s||this.dictionary.decode(N);const j=i!==void 0?m.has(i)?[i]:[]:m.keys();for(const q of j){w=m.get(q),h=c||this.dictionary.decode(q);const O=o!==void 0?w.has(o)?[o]:[]:w.keys();for(const I of O){T=w.get(I),g=d||this.dictionary.decode(I);const A=l!==void 0?T.has(l)?[l]:[]:T.keys();for(const P of A)_=f||this.dictionary.decode(P),yield[p,h,g,_]}}}}*findEncoded(a,r){const[t,i,o,l]=a;let s,c,d;const f=this.nestedMap,p=t!==void 0?f.has(t)?[t]:[]:f.keys();for(const h of p){s=f.get(h);const g=i!==void 0?s.has(i)?[i]:[]:s.keys();for(const _ of g){c=s.get(_);const m=o!==void 0?c.has(o)?[o]:[]:c.keys();for(const w of m){d=c.get(w);const T=l!==void 0?d.has(l)?[l]:[]:d.keys();for(const E of T)yield[h,_,w,E]}}}}count(a){let r=0;const t=(0,n.encodeOptionalTerms)(a,this.dictionary);if(!t)return 0;const i=t[0],o=t[1],l=t[2],s=t[3];let c,d,f;const p=this.nestedMap,h=i!==void 0?p.has(i)?[i]:[]:p.keys();for(const g of h){c=p.get(g);const _=o!==void 0?c.has(o)?[o]:[]:c.keys();for(const m of _){d=c.get(m);const w=l!==void 0?d.has(l)?[l]:[]:d.keys();for(const T of w)f=d.get(T),s!==void 0?f.has(s)&&r++:r+=f.size}}return r}}return ux.RdfStoreIndexNestedMap=e,ux}var a0e;function U3e(){if(a0e)return ix;a0e=1,Object.defineProperty(ix,"__esModule",{value:!0}),ix.TermDictionaryQuotedIndexed=void 0;const n=Ko(),e=LV(),u=Jo();class a{constructor(t,i=new n.DataFactory){this.quotedTriplesDictionary=[],this.features={quotedTriples:!0},this.plainTermDictionary=t;const o={indexCombinations:[],indexConstructor:void 0,dictionary:this,dataFactory:i};this.quotedTriplesReverseDictionaries=[new e.RdfStoreIndexNestedMap(o),new e.RdfStoreIndexNestedMap(o),new e.RdfStoreIndexNestedMap(o)],this.dataFactory=i}encode(t){return t.termType==="Quad"?this.encodeQuotedTriple(t,!1):this.plainTermDictionary.encode(t)}encodeQuotedTriple(t,i){if(t.graph.termType!=="DefaultGraph")throw new Error("Encoding of quoted quads outside of the default graph is not allowed");const o=(0,u.encodeOptionalTerms)([t.subject,t.predicate,t.object,t.graph],this),l=o&&o.every(f=>f!==void 0)?this.quotedTriplesReverseDictionaries[0].getEncoded(o):void 0;if(l!==void 0||i)return l===void 0?void 0:a.BITMASK|l;const s=[this.encode(t.subject),this.encode(t.predicate),this.encode(t.object)],c=this.quotedTriplesDictionary.length+1;this.quotedTriplesDictionary.push(s);const d=this.encode(this.dataFactory.defaultGraph());return this.quotedTriplesReverseDictionaries[0].set([s[0],s[1],s[2],d],c),this.quotedTriplesReverseDictionaries[1].set([s[1],s[2],s[0],d],c),this.quotedTriplesReverseDictionaries[2].set([s[2],s[0],s[1],d],c),a.BITMASK|c}encodeOptional(t){return t.termType==="Quad"?this.encodeQuotedTriple(t,!0):this.plainTermDictionary.encodeOptional(t)}decode(t){if(a.BITMASK&t){const i=(~a.BITMASK&t)-1;if(i>=this.quotedTriplesDictionary.length)throw new Error(`The value ${t} is not present in the quoted triples range of the dictionary`);const o=this.quotedTriplesDictionary[i];return this.dataFactory.quad(this.decode(o[0]),this.decode(o[1]),this.decode(o[2]))}return this.plainTermDictionary.decode(t)}*encodings(){for(const t of this.plainTermDictionary.encodings())yield t;for(const t of this.quotedTriplesDictionary.keys())yield a.BITMASK|1+t}*findQuotedTriples(t){for(const i of this.findQuotedTriplesEncoded(t))yield this.decode(i)}*findQuotedTriplesEncoded(t){const[i,o]=(0,u.quadToPattern)(t.subject,t.predicate,t.object,t.graph,!0);for(const l of this.patternToIterable(i[0]))for(const s of this.patternToIterable(i[1]))for(const c of this.patternToIterable(i[2]))for(const d of this.patternToIterable(i[3]))if(l&&s||!s&&!c){const f=[l,s,c,d];for(const p of this.quotedTriplesReverseDictionaries[0].findEncoded(f,i))yield a.BITMASK|this.quotedTriplesReverseDictionaries[0].getEncoded(p)}else if(!l&&s){const f=[s,c,l,d];for(const p of this.quotedTriplesReverseDictionaries[1].findEncoded(f,i))yield a.BITMASK|this.quotedTriplesReverseDictionaries[1].getEncoded(p)}else{const f=[c,l,s,d];for(const p of this.quotedTriplesReverseDictionaries[2].findEncoded(f,i))yield a.BITMASK|this.quotedTriplesReverseDictionaries[2].getEncoded(p)}}*patternToIterable(t){if(t?.termType==="Quad"){yield*this.findQuotedTriplesEncoded(t);return}if(t===void 0){yield void 0;return}const i=this.encodeOptional(t);i!==void 0&&(yield i)}}return ix.TermDictionaryQuotedIndexed=a,a.BITMASK=1<<31,ix}var ox={},i0e;function Q3e(){if(i0e)return ox;i0e=1,Object.defineProperty(ox,"__esModule",{value:!0}),ox.RdfStoreIndexNestedMapQuoted=void 0;const n=Jo(),e=LV();class u extends e.RdfStoreIndexNestedMap{constructor(r){super(r),this.features={quotedTripleFiltering:!0}}*getQuotedPatternKeys(r,t){for(const i of this.dictionary.findQuotedTriplesEncoded(t))r.has(i)&&(yield i)}*find(r){const t=(0,n.encodeOptionalTerms)(r,this.dictionary);if(!t)return;const[i,o,l,s]=t,[c,d,f,p]=r,[h,g,_,m]=(0,n.arePatternsQuoted)(r);let w,T,E,S,N,j,q;const O=this.nestedMap,I=c!==void 0?h?this.getQuotedPatternKeys(O,c):O.has(i)?[i]:[]:O.keys();for(const A of I){N=O.get(A),w=!h&&c?c:this.dictionary.decode(A);const P=d!==void 0?g?this.getQuotedPatternKeys(N,d):N.has(o)?[o]:[]:N.keys();for(const C of P){j=N.get(C),T=!g&&d?d:this.dictionary.decode(C);const B=f!==void 0?_?this.getQuotedPatternKeys(j,f):j.has(l)?[l]:[]:j.keys();for(const V of B){q=j.get(V),E=!_&&f?f:this.dictionary.decode(V);const U=p!==void 0?m?this.getQuotedPatternKeys(q,p):q.has(s)?[s]:[]:q.keys();for(const G of U)S=!m&&p?p:this.dictionary.decode(G),yield[w,T,E,S]}}}}*findEncoded(r,t){const[i,o,l,s]=r,[c,d,f,p]=t,[h,g,_,m]=(0,n.arePatternsQuoted)(t);let w,T,E;const S=this.nestedMap,N=c!==void 0?h?this.getQuotedPatternKeys(S,c):S.has(i)?[i]:[]:S.keys();for(const j of N){w=S.get(j);const q=d!==void 0?g?this.getQuotedPatternKeys(w,d):w.has(o)?[o]:[]:w.keys();for(const O of q){T=w.get(O);const I=f!==void 0?_?this.getQuotedPatternKeys(T,f):T.has(l)?[l]:[]:T.keys();for(const A of I){E=T.get(A);const P=p!==void 0?m?this.getQuotedPatternKeys(E,p):E.has(s)?[s]:[]:E.keys();for(const C of P)yield[Number.parseInt(j,10),Number.parseInt(O,10),Number.parseInt(A,10),Number.parseInt(C,10)]}}}}count(r){let t=0;const i=(0,n.encodeOptionalTerms)(r,this.dictionary);if(!i)return 0;const[o,l,s,c]=i,[d,f,p,h]=r,[g,_,m,w]=(0,n.arePatternsQuoted)(r);let T,E,S;const N=this.nestedMap,j=d!==void 0?g?this.getQuotedPatternKeys(N,d):N.has(o)?[o]:[]:N.keys();for(const q of j){T=N.get(q);const O=f!==void 0?_?this.getQuotedPatternKeys(T,f):T.has(l)?[l]:[]:T.keys();for(const I of O){E=T.get(I);const A=p!==void 0?m?this.getQuotedPatternKeys(E,p):E.has(s)?[s]:[]:E.keys();for(const P of A)S=E.get(P),h!==void 0?w?t+=[...this.getQuotedPatternKeys(S,h)].length:S.has(c)&&t++:t+=S.size}}return t}}return ox.RdfStoreIndexNestedMapQuoted=u,ox}var u0e;function V3e(){if(u0e)return JO;u0e=1,Object.defineProperty(JO,"__esModule",{value:!0}),JO.RdfStore=void 0;const n=Gt(),e=Ko(),u=DP(),a=H3e(),r=B3e(),t=U3e(),i=Q3e(),o=Jo();class l{constructor(c){this.features={quotedTripleFiltering:!0},this._size=0,this.options=c,this.dataFactory=c.dataFactory,this.dictionary=c.dictionary,this.indexesWrapped=l.constructIndexesWrapped(c),this.indexesWrappedComponentOrders=this.indexesWrapped.map(d=>d.componentOrder)}static createDefault(){return new l({indexCombinations:l.DEFAULT_INDEX_COMBINATIONS,indexConstructor:c=>new i.RdfStoreIndexNestedMapQuoted(c),dictionary:new t.TermDictionaryQuotedIndexed(new r.TermDictionaryNumberRecordFullTerms),dataFactory:new e.DataFactory})}static constructIndexesWrapped(c){const d=[];if(c.indexCombinations.length===0)throw new Error("At least one index combination is required");for(const f of c.indexCombinations){if(!l.isCombinationValid(f))throw new Error(`Invalid index combination: ${f}`);d.push({index:c.indexConstructor(c),componentOrder:f,componentOrderInverse:Object.fromEntries(f.map((p,h)=>[p,h]))})}return d}static isCombinationValid(c){for(const d of u.QUAD_TERM_NAMES)if(!c.includes(d))return!1;return c.length===4}get size(){return this._size}addQuad(c){const d=[this.dictionary.encode(c.subject),this.dictionary.encode(c.predicate),this.dictionary.encode(c.object),this.dictionary.encode(c.graph)];let f=!1;for(const p of this.indexesWrapped)f=p.index.set((0,o.orderQuadComponents)(p.componentOrder,d),!0);return f?(this._size++,!0):!1}removeQuad(c){const d=[this.dictionary.encodeOptional(c.subject),this.dictionary.encodeOptional(c.predicate),this.dictionary.encodeOptional(c.object),this.dictionary.encodeOptional(c.graph)];if(d.includes(void 0))return!1;let f=!1;for(const p of this.indexesWrapped)if(f=p.index.remove((0,o.orderQuadComponents)(p.componentOrder,d)),!f)break;return f?(this._size--,!0):!1}remove(c){return c.on("data",d=>this.removeQuad(d)),c}removeMatches(c,d,f,p){return this.remove(this.match(c,d,f,p))}deleteGraph(c){return typeof c=="string"&&(c=this.dataFactory.namedNode(c)),this.removeMatches(void 0,void 0,void 0,c)}import(c){return c.on("data",d=>this.addQuad(d)),c}*readQuads(c,d,f,p){const h=!!this.dictionary.features.quotedTriples&&Object.values(this.indexesWrapped).every(T=>T.index.features.quotedTripleFiltering),[g,_]=(0,o.quadToPattern)(c,d,f,p,h),m=this.indexesWrapped[(0,o.getBestIndex)(this.indexesWrappedComponentOrders,g)],w=(0,o.orderQuadComponents)(m.componentOrder,g);for(const T of m.index.find(w)){const E=this.dataFactory.quad(T[m.componentOrderInverse.subject],T[m.componentOrderInverse.predicate],T[m.componentOrderInverse.object],T[m.componentOrderInverse.graph]);_?(0,u.matchPattern)(E,c,d,f,p)&&(yield E):yield E}}getQuads(c,d,f,p){return[...this.readQuads(c,d,f,p)]}match(c,d,f,p){return(0,n.wrap)(this.readQuads(c,d,f,p))}*readBindings(c,d,f,p,h){const g=!!this.dictionary.features.quotedTriples&&Object.values(this.indexesWrapped).every(O=>O.index.features.quotedTripleFiltering),[_,m]=(0,o.quadToPattern)(d,f,p,h,g),w=this.indexesWrapped[(0,o.getBestIndex)(this.indexesWrappedComponentOrders,_)],T=(0,o.orderQuadComponents)(w.componentOrder,_),E=(0,o.encodeOptionalTerms)(T,this.dictionary);if(!E)return;const S=(0,o.orderQuadComponents)(w.componentOrder,[d,f,p,h]),N=[];for(let O=0;O<S.length;O++)(S[O].termType==="Variable"||S[O].termType==="Quad")&&N.push(O);let j=!1;const q=S.map((O,I)=>{const A=[];for(let P=I+1;P<S.length;P++)O.equals(S[P])&&(A.push(P),j=!0);return A});for(const O of w.index.findEncoded(E,T)){let I=!1,A=!1;const P=[];for(const C of N){if(j){const V=q[C];if(V){for(const U of V)if(O[C]!==O[U]){I=!0;break}}if(I)break}const B=this.dictionary.decode(O[C]);if(S[C].termType==="Quad"){if(B.termType==="Quad"){const V=(0,u.matchPatternMappings)(B,S[C],{returnMappings:!0});if(V){A=!0;for(const[U,G]of Object.entries(V)){const J=this.dataFactory.variable(U);if(P.some(ne=>ne[0].equals(J)&&!ne[1].equals(G))){I=!0;break}P.push([J,G])}continue}}I=!0;break}if(A&&P.some(V=>V[0].equals(S[C])&&!V[1].equals(B))){I=!0;break}P.push([S[C],B])}I||(yield c.bindings(P))}}getBindings(c,d,f,p,h){return[...this.readBindings(c,d,f,p,h)]}matchBindings(c,d,f,p,h){return(0,n.wrap)(this.readBindings(c,d,f,p,h))}countQuads(c,d,f,p){const h=!!this.dictionary.features.quotedTriples&&Object.values(this.indexesWrapped).every(w=>w.index.features.quotedTripleFiltering),[g]=(0,o.quadToPattern)(c,d,f,p,h);if(g.every(w=>w===void 0))return this.size;const _=this.indexesWrapped[(0,o.getBestIndex)(this.indexesWrappedComponentOrders,g)],m=(0,o.orderQuadComponents)(_.componentOrder,g);return _.index.count(m)}asDataset(){return new a.DatasetCoreWrapper(this)}}return JO.RdfStore=l,l.DEFAULT_INDEX_COMBINATIONS=[["graph","subject","predicate","object"],["graph","predicate","object","subject"],["graph","object","subject","predicate"]],JO}var o0e;function H3e(){if(o0e)return KO;o0e=1,Object.defineProperty(KO,"__esModule",{value:!0}),KO.DatasetCoreWrapper=void 0;const n=V3e();class e{constructor(a){this.store=a}get size(){return this.store.size}add(a){return this.store.addQuad(a),this}delete(a){return this.store.removeQuad(a),this}has(a){for(const r of this.store.readQuads(a.subject,a.predicate,a.object,a.graph))return!0;return!1}match(a,r,t,i){const o=new n.RdfStore(this.store.options);for(const l of this.store.readQuads(a,r,t,i))o.addQuad(l);return new e(o)}[Symbol.iterator](){return this.store.readQuads()}}return KO.DatasetCoreWrapper=e,KO}var GC={},s0e;function r9e(){return s0e||(s0e=1,Object.defineProperty(GC,"__esModule",{value:!0})),GC}var sx={},c0e;function n9e(){if(c0e)return sx;c0e=1,Object.defineProperty(sx,"__esModule",{value:!0}),sx.TermDictionaryNumberMap=void 0;const n=Ko(),e=iN();class u{constructor(r=new n.DataFactory){this.lastId=0,this.dictionary=new Map,this.reverseDictionary=new Map,this.features={quotedTriples:!1},this.dataFactory=r}encode(r){const t=(0,e.termToString)(r);let i=this.dictionary.get(t);return i===void 0&&(i=this.lastId++,this.dictionary.set(t,i),this.reverseDictionary.set(i,t)),i}encodeOptional(r){const t=(0,e.termToString)(r);return this.dictionary.get(t)}decode(r){const t=this.reverseDictionary.get(r);if(t===void 0)throw new Error(`The value ${r} is not present in this dictionary`);return(0,e.stringToTerm)(t,this.dataFactory)}encodings(){return this.reverseDictionary.keys()}findQuotedTriples(r){throw new Error("findQuotedTriples is not supported")}findQuotedTriplesEncoded(r){throw new Error("findQuotedTriplesEncoded is not supported")}}return sx.TermDictionaryNumberMap=u,sx}var cx={},l0e;function a9e(){if(l0e)return cx;l0e=1,Object.defineProperty(cx,"__esModule",{value:!0}),cx.TermDictionaryNumberRecord=void 0;const n=Ko(),e=iN();class u{constructor(r=new n.DataFactory){this.lastId=0,this.dictionary={},this.reverseDictionary={},this.features={quotedTriples:!1},this.dataFactory=r}encode(r){const t=(0,e.termToString)(r);let i=this.dictionary[t];return i===void 0&&(i=this.lastId++,this.dictionary[t]=i,this.reverseDictionary[i]=t),i}encodeOptional(r){const t=(0,e.termToString)(r);return this.dictionary[t]}decode(r){const t=this.reverseDictionary[r];if(t===void 0)throw new Error(`The value ${r} is not present in this dictionary`);return(0,e.stringToTerm)(t,this.dataFactory)}*encodings(){for(const r of Object.keys(this.reverseDictionary))yield Number.parseInt(r,10)}findQuotedTriples(r){throw new Error("findQuotedTriples is not supported")}findQuotedTriplesEncoded(r){throw new Error("findQuotedTriplesEncoded is not supported")}}return cx.TermDictionaryNumberRecord=u,cx}var lx={},d0e;function i9e(){if(d0e)return lx;d0e=1,Object.defineProperty(lx,"__esModule",{value:!0}),lx.TermDictionaryQuoted=void 0;const n=Ko(),e=DP();class u{constructor(r,t,i=new n.DataFactory){this.features={quotedTriples:!0},this.plainTermDictionary=r,this.quotedTriplesDictionary=t,this.dataFactory=i}encode(r){return r.termType==="Quad"?u.BITMASK|1+this.quotedTriplesDictionary.encode(r):this.plainTermDictionary.encode(r)}encodeOptional(r){if(r.termType==="Quad"){const t=this.quotedTriplesDictionary.encodeOptional(r);return t===void 0?t:u.BITMASK|1+t}return this.plainTermDictionary.encodeOptional(r)}decode(r){if(u.BITMASK&r){const t=(~u.BITMASK&r)-1;return this.quotedTriplesDictionary.decode(t)}return this.plainTermDictionary.decode(r)}*encodings(){for(const r of this.plainTermDictionary.encodings())yield r;for(const r of this.quotedTriplesDictionary.encodings())yield u.BITMASK|1+r}*findQuotedTriples(r){for(const t of this.findQuotedTriplesEncoded(r))yield this.decode(t)}*findQuotedTriplesEncoded(r){for(let t of this.quotedTriplesDictionary.encodings()){t=u.BITMASK|1+t;const i=this.decode(t);(0,e.matchPattern)(i,r.subject,r.predicate,r.object,r.graph)&&(yield t)}}}return lx.TermDictionaryQuoted=u,u.BITMASK=1<<31,lx}var dx={},f0e;function u9e(){if(f0e)return dx;f0e=1,Object.defineProperty(dx,"__esModule",{value:!0}),dx.TermDictionaryQuotedReferential=void 0;const n=Ko(),e=DP(),u=Jo();class a{constructor(t,i=new n.DataFactory){this.quotedTriplesDictionary=[],this.quotedTriplesReverseDictionary={},this.features={quotedTriples:!0},this.plainTermDictionary=t,this.dataFactory=i}encode(t){return t.termType==="Quad"?this.encodeQuotedTriple(t,!1):this.plainTermDictionary.encode(t)}encodeQuotedTriple(t,i){if(t.graph.termType!=="DefaultGraph")throw new Error("Encoding of quoted quads outside of the default graph is not allowed");const o=(0,u.encodeOptionalTerms)([t.subject,t.predicate,t.object,void 0],this)?.slice(0,3),l=o&&o.every(d=>d!==void 0)?this.quotedTriplesReverseDictionary[o.join(a.SEPARATOR)]:void 0;if(l!==void 0||i)return l===void 0?void 0:a.BITMASK|l;const s=[this.encode(t.subject),this.encode(t.predicate),this.encode(t.object)],c=this.quotedTriplesDictionary.length+1;return this.quotedTriplesDictionary.push(s),this.quotedTriplesReverseDictionary[s.join(a.SEPARATOR)]=c,a.BITMASK|c}encodeOptional(t){return t.termType==="Quad"?this.encodeQuotedTriple(t,!0):this.plainTermDictionary.encodeOptional(t)}decode(t){if(a.BITMASK&t){const i=(~a.BITMASK&t)-1;if(i>=this.quotedTriplesDictionary.length)throw new Error(`The value ${t} is not present in the quoted triples range of the dictionary`);const o=this.quotedTriplesDictionary[i];return this.dataFactory.quad(this.decode(o[0]),this.decode(o[1]),this.decode(o[2]))}return this.plainTermDictionary.decode(t)}*encodings(){for(const t of this.plainTermDictionary.encodings())yield t;for(const t of this.quotedTriplesDictionary.keys())yield a.BITMASK|1+t}*findQuotedTriples(t){for(const i of this.findQuotedTriplesEncoded(t))yield this.decode(i)}*findQuotedTriplesEncoded(t){for(let i of this.quotedTriplesDictionary.keys()){i=a.BITMASK|1+i;const o=this.decode(i);(0,e.matchPattern)(o,t.subject,t.predicate,t.object,t.graph)&&(yield i)}}}return dx.TermDictionaryQuotedReferential=a,a.BITMASK=1<<31,a.SEPARATOR="_",dx}var fx={},p0e;function o9e(){if(p0e)return fx;p0e=1,Object.defineProperty(fx,"__esModule",{value:!0}),fx.TermDictionarySymbol=void 0;const n=Ko(),e=iN();class u{constructor(r=new n.DataFactory){this.features={quotedTriples:!1},this.dataFactory=r}encode(r){return Symbol.for(`rdf::${(0,e.termToString)(r)}`)}encodeOptional(r){return this.encode(r)}decode(r){const t=Symbol.keyFor(r);if(t===void 0)throw new Error(`The value ${String(r)} is not present in this dictionary`);return(0,e.stringToTerm)(t.slice(5),this.dataFactory)}encodings(){throw new Error("encodings is not supported")}findQuotedTriples(r){throw new Error("findQuotedTriples is not supported")}findQuotedTriplesEncoded(r){throw new Error("findQuotedTriplesEncoded is not supported")}}return fx.TermDictionarySymbol=u,fx}var $C={},h0e;function s9e(){return h0e||(h0e=1,Object.defineProperty($C,"__esModule",{value:!0})),$C}var px={},y0e;function k3e(){if(y0e)return px;y0e=1,Object.defineProperty(px,"__esModule",{value:!0}),px.RdfStoreIndexNestedMapRecursive=void 0;const n=Jo();class e{constructor(a){this.features={quotedTripleFiltering:!1},this.dictionary=a.dictionary,this.nestedMap=new Map}set(a,r){let t=this.nestedMap,i=!1;for(const[o,l]of a.entries()){const s=t;let c=s.get(l);c?o===a.length-1&&(i=!0):(c=o===a.length-1?r:new Map,s.set(l,c)),t=c}return!i}remove(a){const r=this.nestedMap,t=r.get(a[0]);if(!t)return!1;const i=t.get(a[1]);if(!i)return!1;const o=i.get(a[2]);if(!o)return!1;const l=o.delete(a[3]);return l&&o.size===0&&(i.delete(a[2]),i.size===0&&(t.delete(a[1]),t.size===0&&r.delete(a[0]))),l}get(a){const r=(0,n.encodeOptionalTerms)(a,this.dictionary);if(!(!r||r.includes(void 0)))return this.getEncoded(r)}getEncoded(a){const r=this.nestedMap.get(a[0]);if(!r)return;const t=r.get(a[1]);if(!t)return;const i=t.get(a[2]);if(i)return i.get(a[3])}*find(a){const r=(0,n.encodeOptionalTerms)(a,this.dictionary);if(r)for(const t of this.findEncoded(r,a))yield[r[0]!==void 0?a[0]:this.dictionary.decode(t[0]),r[1]!==void 0?a[1]:this.dictionary.decode(t[1]),r[2]!==void 0?a[2]:this.dictionary.decode(t[2]),r[3]!==void 0?a[3]:this.dictionary.decode(t[3])]}*findEncoded(a,r){return yield*this.findEncodedInner(0,a,r,this.nestedMap,[])}*findEncodedInner(a,r,t,i,o){if(a===r.length)yield[...o];else{const l=r[a];if(t[a]){const c=l;if(c!==void 0){const d=i.get(c);d&&(o[a]=l,yield*this.findEncodedInner(a+1,r,t,d,o))}}else for(const[c,d]of i.entries())o[a]=c,yield*this.findEncodedInner(a+1,r,t,d,o)}}count(a){return this.countInner(0,a,this.nestedMap)}countInner(a,r,t){const i=r[a];let o=0;if(i){const l=this.dictionary.encodeOptional(i);if(l!==void 0){if(a===r.length-1)return t.has(l)?1:0;const s=t.get(l);s&&(o+=this.countInner(a+1,r,s))}}else{if(a===r.length-1)return t.size;for(const l of t.values())o+=this.countInner(a+1,r,l)}return o}}return px.RdfStoreIndexNestedMapRecursive=e,px}var hx={},m0e;function c9e(){if(m0e)return hx;m0e=1,Object.defineProperty(hx,"__esModule",{value:!0}),hx.RdfStoreIndexNestedMapRecursiveQuoted=void 0;const n=Jo(),e=k3e();class u extends e.RdfStoreIndexNestedMapRecursive{constructor(r){super(r),this.features={quotedTripleFiltering:!0}}*findEncoded(r,t){return yield*this.findEncodedInnerQuoted(0,r,t,(0,n.arePatternsQuoted)(t),this.nestedMap,[])}*findEncodedInnerQuoted(r,t,i,o,l,s){if(r===t.length)yield[...s];else{const c=t[r],d=i[r];if(d)if(o[r]){const f=this.dictionary.findQuotedTriplesEncoded(d);for(const p of f){const h=l.get(p);h&&(s[r]=p,yield*this.findEncodedInnerQuoted(r+1,t,i,o,h,s))}}else{const f=c;if(f!==void 0){const p=l.get(f);p&&(s[r]=c,yield*this.findEncodedInnerQuoted(r+1,t,i,o,p,s))}}else for(const[f,p]of l.entries())s[r]=f,yield*this.findEncodedInnerQuoted(r+1,t,i,o,p,s)}}countInner(r,t,i){const o=t[r];let l=0;if(o)if(o.termType==="Quad"&&(0,n.quadHasVariables)(o)){const s=this.dictionary.findQuotedTriplesEncoded(o);for(const c of s)if(r===t.length-1)i.has(c)&&l++;else{const d=i.get(c);d&&(l+=this.countInner(r+1,t,d))}}else{const s=this.dictionary.encodeOptional(o);if(s!==void 0){if(r===t.length-1)return i.has(s)?1:0;const c=i.get(s);c&&(l+=this.countInner(r+1,t,c))}}else{if(r===t.length-1)return i.size;for(const s of i.values())l+=this.countInner(r+1,t,s)}return l}}return hx.RdfStoreIndexNestedMapRecursiveQuoted=u,hx}var yx={},b0e;function z3e(){if(b0e)return yx;b0e=1,Object.defineProperty(yx,"__esModule",{value:!0}),yx.RdfStoreIndexNestedRecord=void 0;const n=Jo();class e{constructor(a){this.features={quotedTripleFiltering:!1},this.dictionary=a.dictionary,this.nestedRecords={}}set(a,r){const t=this.nestedRecords,i=t[a[0]]||(t[a[0]]={}),o=i[a[1]]||(i[a[1]]={}),l=o[a[2]]||(o[a[2]]={});return l[a[3]]?!1:(l[a[3]]=r,!0)}remove(a){const r=this.nestedRecords,t=r[a[0]];if(!t)return!1;const i=t[a[1]];if(!i)return!1;const o=i[a[2]];return!o||!o[a[3]]?!1:(delete o[a[3]],Object.keys(o).length===0&&(delete i[a[2]],Object.keys(i).length===0&&(delete t[a[1]],Object.keys(t).length===0&&delete r[a[0]])),!0)}get(a){const r=(0,n.encodeOptionalTerms)(a,this.dictionary);if(!(!r||r.includes(void 0)))return this.getEncoded(r)}getEncoded(a){return this.nestedRecords[a[0]]?.[a[1]]?.[a[2]]?.[a[3]]}*find(a){const r=(0,n.encodeOptionalTerms)(a,this.dictionary);if(!r)return;const[t,i,o,l]=r,[s,c,d,f]=a;let p,h,g,_,m,w,T;const E=this.nestedRecords,S=t!==void 0?t in E?[t]:[]:Object.keys(E);for(const N of S){m=E[N],p=s||this.dictionary.decode(Number.parseInt(N,10));const j=i!==void 0?i in m?[i]:[]:Object.keys(m);for(const q of j){w=m[q],h=c||this.dictionary.decode(Number.parseInt(q,10));const O=o!==void 0?o in w?[o]:[]:Object.keys(w);for(const I of O){T=w[I],g=d||this.dictionary.decode(Number.parseInt(I,10));const A=l!==void 0?l in T?[l]:[]:Object.keys(T);for(const P of A)_=f||this.dictionary.decode(Number.parseInt(P,10)),yield[p,h,g,_]}}}}*findEncoded(a,r){const[t,i,o,l]=a;let s,c,d;const f=this.nestedRecords,p=t!==void 0?t in f?[t]:[]:Object.keys(f);for(const h of p){s=f[h];const g=i!==void 0?i in s?[i]:[]:Object.keys(s);for(const _ of g){c=s[_];const m=o!==void 0?o in c?[o]:[]:Object.keys(c);for(const w of m){d=c[w];const T=l!==void 0?l in d?[l]:[]:Object.keys(d);for(const E of T)yield[Number.parseInt(h,10),Number.parseInt(_,10),Number.parseInt(w,10),Number.parseInt(E,10)]}}}}count(a){let r=0;const t=(0,n.encodeOptionalTerms)(a,this.dictionary);if(!t)return 0;const i=t[0],o=t[1],l=t[2],s=t[3];let c,d,f;const p=this.nestedRecords,h=i!==void 0?i in p?[i]:[]:Object.keys(p);for(const g of h){c=p[g];const _=o!==void 0?o in c?[o]:[]:Object.keys(c);for(const m of _){d=c[m];const w=l!==void 0?l in d?[l]:[]:Object.keys(d);for(const T of w)f=d[T],s!==void 0?s in f&&r++:r+=Object.keys(f).length}}return r}}return yx.RdfStoreIndexNestedRecord=e,yx}var mx={},g0e;function l9e(){if(g0e)return mx;g0e=1,Object.defineProperty(mx,"__esModule",{value:!0}),mx.RdfStoreIndexNestedRecordQuoted=void 0;const n=Jo(),e=z3e();class u extends e.RdfStoreIndexNestedRecord{constructor(r){super(r),this.features={quotedTripleFiltering:!0}}*getQuotedPatternKeys(r,t){for(const i of this.dictionary.findQuotedTriplesEncoded(t))i in r&&(yield i)}*find(r){const t=(0,n.encodeOptionalTerms)(r,this.dictionary);if(!t)return;const[i,o,l,s]=t,[c,d,f,p]=r,[h,g,_,m]=(0,n.arePatternsQuoted)(r);let w,T,E,S,N,j,q;const O=this.nestedRecords,I=c!==void 0?h?this.getQuotedPatternKeys(O,c):i in O?[i]:[]:Object.keys(O);for(const A of I){N=O[A],w=!h&&c?c:this.dictionary.decode(Number.parseInt(A,10));const P=d!==void 0?g?this.getQuotedPatternKeys(N,d):o in N?[o]:[]:Object.keys(N);for(const C of P){j=N[C],T=!g&&d?d:this.dictionary.decode(Number.parseInt(C,10));const B=f!==void 0?_?this.getQuotedPatternKeys(j,f):l in j?[l]:[]:Object.keys(j);for(const V of B){q=j[V],E=!_&&f?f:this.dictionary.decode(Number.parseInt(V,10));const U=p!==void 0?m?this.getQuotedPatternKeys(q,p):s in q?[s]:[]:Object.keys(q);for(const G of U)S=!m&&p?p:this.dictionary.decode(Number.parseInt(G,10)),yield[w,T,E,S]}}}}*findEncoded(r,t){const[i,o,l,s]=r,[c,d,f,p]=t,[h,g,_,m]=(0,n.arePatternsQuoted)(t);let w,T,E;const S=this.nestedRecords,N=c!==void 0?h?this.getQuotedPatternKeys(S,c):i in S?[i]:[]:Object.keys(S);for(const j of N){w=S[j];const q=d!==void 0?g?this.getQuotedPatternKeys(w,d):o in w?[o]:[]:Object.keys(w);for(const O of q){T=w[O];const I=f!==void 0?_?this.getQuotedPatternKeys(T,f):l in T?[l]:[]:Object.keys(T);for(const A of I){E=T[A];const P=p!==void 0?m?this.getQuotedPatternKeys(E,p):s in E?[s]:[]:Object.keys(E);for(const C of P)yield[Number.parseInt(j,10),Number.parseInt(O,10),Number.parseInt(A,10),Number.parseInt(C,10)]}}}}count(r){let t=0;const i=(0,n.encodeOptionalTerms)(r,this.dictionary);if(!i)return 0;const[o,l,s,c]=i,[d,f,p,h]=r,[g,_,m,w]=(0,n.arePatternsQuoted)(r);let T,E,S;const N=this.nestedRecords,j=d!==void 0?g?this.getQuotedPatternKeys(N,d):o in N?[o]:[]:Object.keys(N);for(const q of j){T=N[q];const O=f!==void 0?_?this.getQuotedPatternKeys(T,f):l in T?[l]:[]:Object.keys(T);for(const I of O){E=T[I];const A=p!==void 0?m?this.getQuotedPatternKeys(E,p):s in E?[s]:[]:Object.keys(E);for(const P of A)S=E[P],h!==void 0?w?t+=[...this.getQuotedPatternKeys(S,h)].length:c in S&&t++:t+=Object.keys(S).length}}return t}}return mx.RdfStoreIndexNestedRecordQuoted=u,mx}var XC={},v0e;function d9e(){return v0e||(v0e=1,Object.defineProperty(XC,"__esModule",{value:!0})),XC}var KC={},_0e;function f9e(){return _0e||(_0e=1,Object.defineProperty(KC,"__esModule",{value:!0})),KC}var T0e;function p9e(){return T0e||(T0e=1,(function(n){var e=Ay&&Ay.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=Ay&&Ay.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(H3e(),n),u(r9e(),n),u(n9e(),n),u(a9e(),n),u(B3e(),n),u(i9e(),n),u(U3e(),n),u(u9e(),n),u(o9e(),n),u(s9e(),n),u(LV(),n),u(Q3e(),n),u(k3e(),n),u(c9e(),n),u(z3e(),n),u(l9e(),n),u(d9e(),n),u(Jo(),n),u(f9e(),n),u(V3e(),n)})(Ay)),Ay}var w0e;function h9e(){if(w0e)return FD;w0e=1,Object.defineProperty(FD,"__esModule",{value:!0}),FD.storeStream=e;const n=p9e();function e(u){const a=n.RdfStore.createDefault();return new Promise((r,t)=>a.import(u).on("error",t).once("end",()=>r(a)))}return FD}var S0e;function y9e(){if(S0e)return $O;S0e=1,Object.defineProperty($O,"__esModule",{value:!0}),$O.ActorQuerySourceIdentifySerialized=void 0;const n=aN(),e=De(),u=h9e(),a=Nr();let r=class extends n.ActorQuerySourceIdentify{constructor(i){super(i)}async test(i){return this.isStringSource(i.querySourceUnidentified)?(0,e.passTestVoid)():(0,e.failTest)(`${this.name} requires a single query source with serialized type to be present in the context.`)}async run(i){return await this.mediatorQuerySourceIdentify.mediate({querySourceUnidentified:{type:"rdfjs",value:await this.getRdfSource(i.context,i.querySourceUnidentified),context:i.querySourceUnidentified.context},context:i.context})}async getRdfSource(i,o){const l=new a.Readable({objectMode:!0});l._read=()=>{},l.push(o.value),l.push(null);const s={context:i,handle:{metadata:{baseIRI:o.baseIRI},data:l,context:i},handleMediaType:o.mediaType},c=await this.mediatorRdfParse.mediate(s);return await(0,u.storeStream)(c.handle.data)}isStringSource(i){return"type"in i?i.type==="serialized":typeof i.value!="string"?!1:"mediaType"in i}};return $O.ActorQuerySourceIdentifySerialized=r,$O}var E0e;function qV(){return E0e||(E0e=1,(function(n){var e=Sy&&Sy.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=Sy&&Sy.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(y9e(),n)})(Sy)),Sy}var Ry={},bx={},A0e;function m9e(){if(A0e)return bx;A0e=1,Object.defineProperty(bx,"__esModule",{value:!0}),bx.ActorQueryOperationJoin=void 0;const n=qr(),e=ki(),u=De(),a=xa(),r=er(),t=Gt(),i=Rr();let o=class extends n.ActorQueryOperationTypedMediated{constructor(s){super(s,"join")}async testOperation(s,c){return(0,u.passTestVoid)()}async runOperation(s,c){const d=(await Promise.all(s.input.map(async f=>({output:await this.mediatorQueryOperation.mediate({operation:f,context:c}),operation:f})))).map(({output:f,operation:p})=>({output:(0,r.getSafeBindings)(f),operation:p}));if((await Promise.all(d.map(f=>f.output.metadata()))).some(f=>f.cardinality.value===0&&f.cardinality.type==="exact")){for(const f of d)f.output.bindingsStream.close();return{bindingsStream:new t.ArrayIterator([],{autoStart:!1}),metadata:async()=>({state:new a.MetadataValidationState,cardinality:{type:"exact",value:0},variables:e.ActorRdfJoin.joinVariables(new i.DataFactory,await e.ActorRdfJoin.getMetadatas(d))}),type:"bindings"}}return this.mediatorJoin.mediate({type:"inner",entries:d,context:c})}};return bx.ActorQueryOperationJoin=o,bx}var O0e;function BV(){return O0e||(O0e=1,(function(n){var e=Ry&&Ry.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=Ry&&Ry.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(m9e(),n)})(Ry)),Ry}var Ny={},gx={},x0e;function b9e(){if(x0e)return gx;x0e=1,Object.defineProperty(gx,"__esModule",{value:!0}),gx.ActorQueryOperationLeftJoin=void 0;const n=qr(),e=lt(),u=De(),a=er(),r=Qt();let t=class extends n.ActorQueryOperationTypedMediated{constructor(o){super(o,"leftjoin")}async testOperation(o,l){return(0,u.passTestVoid)()}async runOperation(o,l){const s=l.getSafe(e.KeysInitQuery.dataFactory),c=new r.Factory(s),d=await Promise.all(o.input.map(async(f,p)=>{const h=(0,a.getSafeBindings)(await this.mediatorQueryOperation.mediate({operation:f,context:l}));return o.expression&&p===1?{output:h,operation:c.createFilter(f,o.expression),operationRequired:!0}:{output:h,operation:f}}));return await this.mediatorJoin.mediate({type:"optional",entries:d,context:l})}};return gx.ActorQueryOperationLeftJoin=t,gx}var R0e;function UV(){return R0e||(R0e=1,(function(n){var e=Ny&&Ny.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=Ny&&Ny.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(b9e(),n)})(Ny)),Ny}var Iy={},vx={},N0e;function g9e(){if(N0e)return vx;N0e=1,Object.defineProperty(vx,"__esModule",{value:!0}),vx.ActorQueryOperationMinus=void 0;const n=qr(),e=De(),u=er();let a=class extends n.ActorQueryOperationTypedMediated{constructor(t){super(t,"minus")}async testOperation(t,i){return(0,e.passTestVoid)()}async runOperation(t,i){const o=t.metadata?.graphVariableFromParentScope,l=(await Promise.all(t.input.map(async s=>({output:await this.mediatorQueryOperation.mediate({operation:s,context:i}),operation:s})))).map(({output:s,operation:c})=>({output:(0,u.getSafeBindings)(s),operation:c}));return this.mediatorJoin.mediate({type:"minus",entries:l,context:i,graphVariableFromParentScope:o})}};return vx.ActorQueryOperationMinus=a,vx}var I0e;function QV(){return I0e||(I0e=1,(function(n){var e=Iy&&Iy.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=Iy&&Iy.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(g9e(),n)})(Iy)),Iy}var Dy={},_x={},D0e;function v9e(){if(D0e)return _x;D0e=1,Object.defineProperty(_x,"__esModule",{value:!0}),_x.ActorQueryOperationPathSeq=void 0;const n=Al(),e=lt(),u=er(),a=Qt();let r=class extends n.ActorAbstractPath{constructor(i){super(i,a.Algebra.types.SEQ)}async runOperation(i,o){const l=o.getSafe(e.KeysInitQuery.dataFactory),s=new a.Factory(l),c=i.predicate;let d=i.subject;const f=[],p=await Promise.all(c.input.map((_,m)=>{const w=m===c.input.length-1?i.object:this.generateVariable(l,i,`b${m}`),T=s.createPath(d,_,w,i.graph),E=this.mediatorQueryOperation.mediate({context:o,operation:T});return d=w,m<c.input.length-1&&f.push(w),{output:E,operation:T}}).map(async({output:_,operation:m})=>({output:(0,u.getSafeBindings)(await _),operation:m}))),h=(0,u.getSafeBindings)(await this.mediatorJoin.mediate({type:"inner",entries:p,context:o}));return{type:"bindings",bindingsStream:h.bindingsStream.transform({transform(_,m,w){for(const T of f)_=_.delete(T);w(_),m()}}),async metadata(){const _=await h.metadata(),m=_.variables.filter(w=>!f.some(T=>T.value===w.variable.value));return{..._,variables:m}}}}};return _x.ActorQueryOperationPathSeq=r,_x}var F0e;function VV(){return F0e||(F0e=1,(function(n){var e=Dy&&Dy.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=Dy&&Dy.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(v9e(),n)})(Dy)),Dy}var Fy={},Tx={},P0e;function _9e(){if(P0e)return Tx;P0e=1,Object.defineProperty(Tx,"__esModule",{value:!0}),Tx.ActorRdfJoinMultiSmallest=void 0;const n=ki(),e=lt(),u=De(),a=er(),r=Qt();let t=class extends n.ActorRdfJoin{constructor(o){super(o,{logicalType:"inner",physicalName:"multi-smallest",limitEntries:3,limitEntriesMin:!0,canHandleUndefs:!0,isLeaf:!1})}getJoinIndexes(o){for(let l=0;l<o.length;l++)for(let s=l+1;s<o.length;s++)if(this.hasCommonVariables(o[l],o[s]))return[l,s];return[0,1]}hasCommonVariables(o,l){const s=o.metadata.variables.map(d=>d.variable.value),c=new Set(l.metadata.variables.map(d=>d.variable.value));return s.some(d=>c.has(d))}async sortJoinEntries(o,l){return(await this.mediatorJoinEntriesSort.mediate({entries:o,context:l})).entries}async getOutput(o,l){const s=o.context.getSafe(e.KeysInitQuery.dataFactory),c=new r.Factory(s),d=l.sortedEntries,f=await n.ActorRdfJoin.getEntriesWithMetadatas(d),p=this.getJoinIndexes(f),h=d[p[0]],g=d[p[1]];d.splice(p[1],1),d.splice(p[0],1);const _={output:(0,a.getSafeBindings)(await this.mediatorJoin.mediate({type:o.type,entries:[h,g],context:o.context})),operation:c.createJoin([h.operation,g.operation],!1)};return d.push(_),{result:await this.mediatorJoin.mediate({type:o.type,entries:d,context:o.context})}}async getJoinCoefficients(o,l){let{metadatas:s}=l;s=[...s];const c=await this.sortJoinEntries(o.entries.map((p,h)=>({...p,metadata:s[h]})),o.context);s=c.map(p=>p.metadata);const d=n.ActorRdfJoin.getRequestInitialTimes(s),f=n.ActorRdfJoin.getRequestItemTimes(s);return(0,u.passTestWithSideData)({iterations:s.reduce((p,h)=>p*h.cardinality.value,1),persistedItems:0,blockingItems:0,requestTime:s.reduce((p,h,g)=>p+d[g]+h.cardinality.value*f[g],0)},{...l,sortedEntries:c})}};return Tx.ActorRdfJoinMultiSmallest=t,Tx}var j0e;function HV(){return j0e||(j0e=1,(function(n){var e=Fy&&Fy.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=Fy&&Fy.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(_9e(),n)})(Fy)),Fy}var Py={},wx={},Sx={},M0e;function G3e(){if(M0e)return Sx;M0e=1,Object.defineProperty(Sx,"__esModule",{value:!0}),Sx.MaxAggregator=void 0;const n=Ua();let e=class extends n.AggregateEvaluator{constructor(a,r,t,i){super(a,r,i),this.orderByEvaluator=t,this.state=void 0}putTerm(a){if(a.termType!=="Literal")throw new Error(`Term with value ${a.value} has type ${a.termType} and is not a literal`);this.state===void 0?this.state=a:this.orderByEvaluator.orderTypes(this.state,a)===-1&&(this.state=a)}termResult(){return this.state===void 0?this.emptyValue():this.state}};return Sx.MaxAggregator=e,Sx}var C0e;function T9e(){if(C0e)return wx;C0e=1,Object.defineProperty(wx,"__esModule",{value:!0}),wx.ActorBindingsAggregatorFactoryMax=void 0;const n=Ua(),e=De(),u=G3e();let a=class extends n.ActorBindingsAggregatorFactory{constructor(t){super(t),this.mediatorTermComparatorFactory=t.mediatorTermComparatorFactory}async test(t){return t.expr.aggregator!=="max"?(0,e.failTest)("This actor only supports the 'max' aggregator."):(0,e.passTestVoid)()}async run({expr:t,context:i}){return new u.MaxAggregator(await this.mediatorExpressionEvaluatorFactory.mediate({algExpr:t.expression,context:i}),t.distinct,await this.mediatorTermComparatorFactory.mediate({context:i}))}};return wx.ActorBindingsAggregatorFactoryMax=a,wx}var L0e;function kV(){return L0e||(L0e=1,(function(n){var e=Py&&Py.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=Py&&Py.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(T9e(),n),u(G3e(),n)})(Py)),Py}var jy={},Ex={},Ax={},q0e;function $3e(){if(q0e)return Ax;q0e=1,Object.defineProperty(Ax,"__esModule",{value:!0}),Ax.MinAggregator=void 0;const n=Ua();let e=class extends n.AggregateEvaluator{constructor(a,r,t,i){super(a,r,i),this.orderByEvaluator=t,this.state=void 0}putTerm(a){if(a.termType!=="Literal")throw new Error(`Term with value ${a.value} has type ${a.termType} and is not a literal`);this.state===void 0?this.state=a:this.orderByEvaluator.orderTypes(this.state,a)===1&&(this.state=a)}termResult(){return this.state===void 0?this.emptyValue():this.state}};return Ax.MinAggregator=e,Ax}var B0e;function w9e(){if(B0e)return Ex;B0e=1,Object.defineProperty(Ex,"__esModule",{value:!0}),Ex.ActorBindingsAggregatorFactoryMin=void 0;const n=Ua(),e=De(),u=$3e();let a=class extends n.ActorBindingsAggregatorFactory{constructor(t){super(t),this.mediatorTermComparatorFactory=t.mediatorTermComparatorFactory}async test(t){return t.expr.aggregator!=="min"?(0,e.failTest)("This actor only supports the 'min' aggregator."):(0,e.passTestVoid)()}async run({context:t,expr:i}){return new u.MinAggregator(await this.mediatorExpressionEvaluatorFactory.mediate({algExpr:i.expression,context:t}),i.distinct,await this.mediatorTermComparatorFactory.mediate({context:t}))}};return Ex.ActorBindingsAggregatorFactoryMin=a,Ex}var U0e;function zV(){return U0e||(U0e=1,(function(n){var e=jy&&jy.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=jy&&jy.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(w9e(),n),u($3e(),n)})(jy)),jy}var My={},Ox={},xx={},Q0e;function S9e(){if(Q0e)return xx;Q0e=1,Object.defineProperty(xx,"__esModule",{value:!0}),xx.SortIterator=void 0;const n=Gt();let e=class extends n.TransformIterator{constructor(a,r,t){super(a,t);const i=t&&t.window;this.windowLength=Number.isFinite(i)&&i>0?i:Number.POSITIVE_INFINITY,this.sort=r,this.sorted=[]}_read(a,r){let t,{length:i}=this.sorted;for(;i!==this.windowLength&&(t=this.source.read(),t!==null);){let o=0,l=i-1,s,c;for(;o<=l;)s=Math.trunc((o+l)/2),c=this.sort(t,this.sorted[s]),c<0?o=s+1:c>0?l=s-1:(o=s,l=-1);this.sorted.splice(o,0,t),i++}i===this.windowLength&&this._push(this.sorted.pop()),r()}_flush(a){let{length:r}=this.sorted;for(;r--;)this._push(this.sorted.pop());a()}};return xx.SortIterator=e,xx}var V0e;function E9e(){if(V0e)return Ox;V0e=1,Object.defineProperty(Ox,"__esModule",{value:!0}),Ox.ActorQueryOperationOrderBy=void 0;const n=qr(),e=De(),u=Xe(),a=er(),r=Qt(),t=S9e();let i=class extends n.ActorQueryOperationTypedMediated{constructor(l){super(l,"orderby"),this.window=l.window??Number.POSITIVE_INFINITY,this.mediatorExpressionEvaluatorFactory=l.mediatorExpressionEvaluatorFactory,this.mediatorTermComparatorFactory=l.mediatorTermComparatorFactory}async testOperation(){return(0,e.passTestVoid)()}async runOperation(l,s){const c=await this.mediatorQueryOperation.mediate({operation:l.input,context:s}),d=(0,a.getSafeBindings)(c),f={window:this.window};let{bindingsStream:p}=d;const h=await this.mediatorTermComparatorFactory.mediate({context:s});for(let g=l.expressions.length-1;g>=0;g--){let _=l.expressions[g];const m=this.isAscending(_);_=this.extractSortExpression(_);const w=await this.mediatorExpressionEvaluatorFactory.mediate({algExpr:_,context:s}),T=async(N,j,q)=>{try{const O=await w.evaluate(N);q({bindings:N,result:O})}catch(O){(0,u.isExpressionError)(O)||p.emit("error",O),q({bindings:N,result:void 0})}j()},E=p.transform({transform:T});p=new t.SortIterator(E,(N,j)=>{let q=h.orderTypes(N.result,j.result);return m||(q*=-1),q},f).map(({bindings:N})=>N)}return{type:"bindings",bindingsStream:p,metadata:d.metadata}}extractSortExpression(l){const{expressionType:s,operator:c}=l;return s!==r.Algebra.expressionTypes.OPERATOR?l:c==="desc"?l.args[0]:l}isAscending(l){const{expressionType:s,operator:c}=l;return s!==r.Algebra.expressionTypes.OPERATOR?!0:c!=="desc"}};return Ox.ActorQueryOperationOrderBy=i,Ox}var H0e;function GV(){return H0e||(H0e=1,(function(n){var e=My&&My.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=My&&My.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(E9e(),n)})(My)),My}var Cy={},JC={},WC={},k0e;function X3e(){return k0e||(k0e=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.KEY_METADATA_DEPTH=n.LinkQueueLimitDepth=void 0;const e=Fq();class u extends e.LinkQueueWrapper{constructor(r,t){super(r),this.limit=t}push(r,t){t.metadata||(t.metadata={}),t.metadata[n.KEY_METADATA_DEPTH]||(t.metadata[n.KEY_METADATA_DEPTH]=0);const i=t.metadata[n.KEY_METADATA_DEPTH]+1;return i>this.limit?!1:(r.metadata||(r.metadata={}),r.metadata[n.KEY_METADATA_DEPTH]=i,super.push(r,t))}}n.LinkQueueLimitDepth=u,n.KEY_METADATA_DEPTH="actor-rdf-resolve-hypermedia-links-queue-wrapper-limit-depth:depth"})(WC)),WC}var z0e;function A9e(){return z0e||(z0e=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.KEY_CONTEXT_WRAPPED=n.ActorRdfResolveHypermediaLinksQueueWrapperLimitDepth=void 0;const e=Fq(),u=De(),a=X3e();class r extends e.ActorRdfResolveHypermediaLinksQueue{constructor(i){super(i)}async test(i){return i.context.get(n.KEY_CONTEXT_WRAPPED)?(0,u.failTest)("Unable to wrap link queues multiple times"):(0,u.passTestVoid)()}async run(i){const o=i.context.set(n.KEY_CONTEXT_WRAPPED,!0),{linkQueue:l}=await this.mediatorRdfResolveHypermediaLinksQueue.mediate({...i,context:o});return{linkQueue:new a.LinkQueueLimitDepth(l,this.limit)}}}n.ActorRdfResolveHypermediaLinksQueueWrapperLimitDepth=r,n.KEY_CONTEXT_WRAPPED=new u.ActionContextKey("@comunica/actor-rdf-resolve-hypermedia-links-queue-wrapper-limit-depth:wrapped")})(JC)),JC}var G0e;function K3e(){return G0e||(G0e=1,(function(n){var e=Cy&&Cy.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=Cy&&Cy.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(A9e(),n),u(X3e(),n)})(Cy)),Cy}var Ly={},Rx={},$0e;function O9e(){if($0e)return Rx;$0e=1,Object.defineProperty(Rx,"__esModule",{value:!0}),Rx.ActorOptimizeQueryOperationFilterPushdown=void 0;const n=Vi(),e=lt(),u=De(),a=er(),r=Yr(),t=Qt();let i=class extends n.ActorOptimizeQueryOperation{constructor(l){super(l)}async test(l){return(0,u.passTestVoid)()}async run(l){const s=l.context.getSafe(e.KeysInitQuery.dataFactory),c=new t.Factory(s);let d=l.operation;const f=this;this.splitConjunctive&&(d=t.Util.mapOperation(d,{filter(m,w){return m.expression.expressionType===t.Algebra.expressionTypes.OPERATOR&&m.expression.operator==="&&"?(f.logDebug(l.context,`Split conjunctive filter into ${m.expression.args.length} nested filters`),{recurse:!0,result:m.expression.args.reduce((T,E)=>w.createFilter(T,E),m.input)}):{recurse:!0,result:m}}},c));const p=this.getSources(d),h=new Map(await Promise.all(p.map(async m=>[m,await m.source.getSelectorShape(l.context)])));let g=!0,_=0;for(;g&&_<this.maxIterations;)g=!1,d=t.Util.mapOperation(d,{filter(m,w){const T=l.context.get(e.KeysInitQuery.extensionFunctions),E=l.context.get(e.KeysInitQuery.extensionFunctionsAlwaysPushdown);if(!f.shouldAttemptPushDown(m,p,h,T,E))return{recurse:!0,result:m};const S=(0,a.getExpressionVariables)(m.expression),[N,j]=f.filterPushdown(m.expression,S,m.input,w,l.context);return N&&(g=!0),{recurse:!0,result:j}}}),_++;return _>1&&f.logDebug(l.context,`Pushed down filters in ${_} iterations`),this.mergeConjunctive&&(d=t.Util.mapOperation(d,{filter(m,w){if(m.input.type===t.Algebra.types.FILTER){const{nestedExpressions:T,input:E}=f.getNestedFilterExpressions(m);return f.logDebug(l.context,`Merge ${T.length} nested filters into conjunctive filter`),{recurse:!0,result:w.createFilter(E,T.slice(1).reduce((S,N)=>w.createOperatorExpression("&&",[S,N]),T[0]))}}return{recurse:!0,result:m}}})),{operation:d,context:l.context}}shouldAttemptPushDown(l,s,c,d,f){if(this.aggressivePushdown)return!0;const p=l.expression;return p.expressionType===t.Algebra.expressionTypes.OPERATOR&&p.operator==="="&&(p.args[0].expressionType==="term"&&p.args[0].term.termType!=="Variable"&&p.args[1].expressionType==="term"&&p.args[1].term.termType==="Variable"||p.args[0].expressionType==="term"&&p.args[0].term.termType==="Variable"&&p.args[1].expressionType==="term"&&p.args[1].term.termType!=="Variable")?!0:d&&p.expressionType===t.Algebra.expressionTypes.NAMED&&p.name.value in d&&!s.some(h=>(0,a.doesShapeAcceptOperation)(c.get(h),p))?!1:!!s.some(h=>(0,a.doesShapeAcceptOperation)(c.get(h),l,{wildcardAcceptAllExtensionFunctions:f}))}getSources(l){const s=new Set,c=d=>{const f=(0,a.getOperationSource)(d);return f&&s.add(f),!1};return t.Util.recurseOperation(l,{[t.Algebra.types.PATTERN]:c,[t.Algebra.types.LINK]:c,[t.Algebra.types.NPS]:c,[t.Algebra.types.SERVICE]:c}),[...s]}getOverlappingOperations(l,s){const c=[],d=[],f=[];for(const p of l.input){const h=t.Util.inScopeVariables(p);this.variablesSubSetOf(s,h)?c.push(p):this.variablesIntersect(s,h)?d.push(p):f.push(p)}return{fullyOverlapping:c,partiallyOverlapping:d,notOverlapping:f}}filterPushdown(l,s,c,d,f){if(this.isExpressionFalse(l))return[!0,d.createUnion([])];if(l.expressionType===t.Algebra.expressionTypes.EXISTENCE)return[!1,d.createFilter(c,l)];switch(c.type){case t.Algebra.types.EXTEND:return this.variablesIntersect([c.variable],s)?[!1,d.createFilter(c,l)]:[!0,d.createExtend(this.filterPushdown(l,s,c.input,d,f)[1],c.variable,c.expression)];case t.Algebra.types.FILTER:{const[p,h]=this.filterPushdown(l,s,c.input,d,f);return[p,d.createFilter(h,c.expression)]}case t.Algebra.types.JOIN:{if(c.input.length===0)return[!1,d.createFilter(c,l)];const{fullyOverlapping:p,partiallyOverlapping:h,notOverlapping:g}=this.getOverlappingOperations(c,s),_=[];let m=!1;return p.length>0&&(m=!0,_.push(d.createJoin(p.map(w=>this.filterPushdown(l,s,w,d,f)[1])))),h.length>0&&_.push(d.createFilter(d.createJoin(h,!1),l)),g.length>0&&_.push(...g),_.length>1&&(m=!0),m&&this.logDebug(f,`Push down filter across join entries with ${p.length} fully overlapping, ${h.length} partially overlapping, and ${g.length} not overlapping`),[m,_.length===1?_[0]:d.createJoin(_)]}case t.Algebra.types.NOP:return[!0,c];case t.Algebra.types.PROJECT:return this.variablesIntersect(c.variables,s)?[!0,d.createProject(this.filterPushdown(l,s,c.input,d,f)[1],c.variables)]:[!0,c];case t.Algebra.types.UNION:{const{fullyOverlapping:p,partiallyOverlapping:h,notOverlapping:g}=this.getOverlappingOperations(c,s),_=[];let m=!1;return p.length>0&&(m=!0,_.push(d.createUnion(p.map(w=>this.filterPushdown(l,s,w,d,f)[1])))),h.length>0&&_.push(d.createFilter(d.createUnion(h,!1),l)),g.length>0&&_.push(...g),_.length>1&&(m=!0),m&&this.logDebug(f,`Push down filter across union entries with ${p.length} fully overlapping, ${h.length} partially overlapping, and ${g.length} not overlapping`),[m,_.length===1?_[0]:d.createUnion(_)]}case t.Algebra.types.VALUES:return this.variablesIntersect(c.variables,s)?[!1,d.createFilter(c,l)]:[!0,c];case t.Algebra.types.LEFT_JOIN:{if(this.pushIntoLeftJoins){const p=t.Util.inScopeVariables(c.input[1]);if(!this.variablesIntersect(s,p))return this.logDebug(f,"Push down filter into left join"),[!0,d.createLeftJoin(this.filterPushdown(l,s,c.input[0],d,f)[1],c.input[1],c.expression)]}return[!1,d.createFilter(c,l)]}case t.Algebra.types.PATTERN:{if(this.pushEqualityIntoPatterns){const p=this.getEqualityExpressionPushableIntoPattern(l);if(p){let h=!1;const g=c.metadata;if(c=(0,r.mapTermsNested)(c,_=>_.equals(p.variable)?(h=!0,p.term):_),c.type=t.Algebra.types.PATTERN,c.metadata=g,h)return this.logDebug(f,`Push down filter into pattern for ?${p.variable.value}`),[!0,d.createJoin([c,d.createValues([p.variable],[{[`?${p.variable.value}`]:p.term}])])]}}return[!1,d.createFilter(c,l)]}case t.Algebra.types.PATH:{if(this.pushEqualityIntoPatterns){const p=this.getEqualityExpressionPushableIntoPattern(l);if(p&&(c.subject.equals(p.variable)||c.object.equals(p.variable))){this.logDebug(f,`Push down filter into path for ?${p.variable.value}`);const h=c.metadata;return c=d.createPath(c.subject.equals(p.variable)?p.term:c.subject,c.predicate,c.object.equals(p.variable)?p.term:c.object),c.metadata=h,[!0,d.createJoin([c,d.createValues([p.variable],[{[`?${p.variable.value}`]:p.term}])])]}}return[!1,d.createFilter(c,l)]}case t.Algebra.types.MINUS:case t.Algebra.types.ALT:case t.Algebra.types.ASK:case t.Algebra.types.BGP:case t.Algebra.types.CONSTRUCT:case t.Algebra.types.DESCRIBE:case t.Algebra.types.DISTINCT:case t.Algebra.types.EXPRESSION:case t.Algebra.types.FROM:case t.Algebra.types.GRAPH:case t.Algebra.types.GROUP:case t.Algebra.types.INV:case t.Algebra.types.LINK:case t.Algebra.types.NPS:case t.Algebra.types.ONE_OR_MORE_PATH:case t.Algebra.types.ORDER_BY:case t.Algebra.types.REDUCED:case t.Algebra.types.SEQ:case t.Algebra.types.SERVICE:case t.Algebra.types.SLICE:case t.Algebra.types.ZERO_OR_MORE_PATH:case t.Algebra.types.ZERO_OR_ONE_PATH:case t.Algebra.types.COMPOSITE_UPDATE:case t.Algebra.types.DELETE_INSERT:case t.Algebra.types.LOAD:case t.Algebra.types.CLEAR:case t.Algebra.types.CREATE:case t.Algebra.types.DROP:case t.Algebra.types.ADD:case t.Algebra.types.MOVE:case t.Algebra.types.COPY:return[!1,d.createFilter(c,l)]}}getEqualityExpressionPushableIntoPattern(l){if(l.expressionType===t.Algebra.expressionTypes.OPERATOR&&l.operator==="="){if(l.args[0].expressionType==="term"&&l.args[0].term.termType!=="Variable"&&(l.args[0].term.termType!=="Literal"||this.isLiteralWithCanonicalLexicalForm(l.args[0].term))&&l.args[1].expressionType==="term"&&l.args[1].term.termType==="Variable")return{variable:l.args[1].term,term:l.args[0].term};if(l.args[0].expressionType==="term"&&l.args[0].term.termType==="Variable"&&l.args[1].expressionType==="term"&&l.args[1].term.termType!=="Variable"&&(l.args[1].term.termType!=="Literal"||this.isLiteralWithCanonicalLexicalForm(l.args[1].term)))return{variable:l.args[0].term,term:l.args[1].term}}}isLiteralWithCanonicalLexicalForm(l){switch(l.datatype.value){case"http://www.w3.org/2001/XMLSchema#string":case"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString":case"http://www.w3.org/2001/XMLSchema#normalizedString":case"http://www.w3.org/2001/XMLSchema#anyURI":case"http://www.w3.org/2001/XMLSchema#base64Binary":case"http://www.w3.org/2001/XMLSchema#language":case"http://www.w3.org/2001/XMLSchema#Name":case"http://www.w3.org/2001/XMLSchema#NCName":case"http://www.w3.org/2001/XMLSchema#NMTOKEN":case"http://www.w3.org/2001/XMLSchema#token":case"http://www.w3.org/2001/XMLSchema#hexBinary":return!0}return!1}variablesIntersect(l,s){return l.some(c=>s.some(d=>c.equals(d)))}variablesSubSetOf(l,s){return l.length<=s.length&&l.every(c=>s.some(d=>c.equals(d)))}isExpressionFalse(l){return l.term&&l.term.termType==="Literal"&&l.term.value==="false"}getNestedFilterExpressions(l){if(l.input.type===t.Algebra.types.FILTER){const s=this.getNestedFilterExpressions(l.input);return{nestedExpressions:[l.expression,...s.nestedExpressions],input:s.input}}return{nestedExpressions:[l.expression],input:l.input}}};return Rx.ActorOptimizeQueryOperationFilterPushdown=i,Rx}var X0e;function $V(){return X0e||(X0e=1,(function(n){var e=Ly&&Ly.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=Ly&&Ly.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(O9e(),n)})(Ly)),Ly}var qy={},Nx={},By={},K0e;function J3e(){if(K0e)return By;K0e=1,Object.defineProperty(By,"__esModule",{value:!0}),By.ActorDereferenceHttpBase=By.mediaTypesToAcceptString=void 0;const n=SB(),e=sc(),u=De(),a=R1(),r=Xn(),t=/^[^ ;]*/u;function i(l,s){const c="*/*;q=0.1",d=[],f=Object.entries(l).map(([h,g])=>({mediaType:h,priority:g})).sort((h,g)=>g.priority===h.priority?h.mediaType.localeCompare(g.mediaType):g.priority-h.priority);let p=f.length-1;for(const{mediaType:h,priority:g}of f){const _=h+(g===1?"":`;q=${g.toFixed(3).replace(/0*$/u,"")}`);if(p+_.length>s){for(;p+c.length>s;){const m=d.pop()??"";p-=m.length+1}d.push(c);break}d.push(_),p+=_.length}return d.length===0?"*/*":d.join(",")}By.mediaTypesToAcceptString=i;let o=class extends n.ActorDereference{constructor(s){super(s)}async test({url:s}){return/^https?:/u.test(s)?(0,u.passTestVoid)():(0,u.failTest)(`Cannot retrieve ${s} because it is not an HTTP(S) URL.`)}async run(s){let c=!0;const d=new Headers(s.headers);d.append("Accept",i(await s.mediaTypes?.()??{},this.getMaxAcceptHeaderLength()));let f;const p=Date.now();try{f=await this.mediatorHttp.mediate({context:s.context,init:{headers:d,method:s.method},input:s.url})}catch(m){return this.handleDereferenceErrors(s,m)}const h=(0,r.resolve)(f.url,s.url),g=Date.now()-p;if(f.status!==200){c=!1;const m=f.body?await(0,a.stringify)(e.ActorHttp.toNodeReadable(f.body)):"empty response";if(!s.acceptErrors){const w=new Error(`Could not retrieve ${s.url} (HTTP status ${f.status}):
${m}`);return this.handleDereferenceErrors(s,w,f.headers,g)}}const _=t.exec(f.headers.get("content-type")??"")?.[0];return{url:h,data:c?e.ActorHttp.toNodeReadable(f.body):(0,n.emptyReadable)(),exists:c,requestTime:g,headers:f.headers,mediaType:_==="text/plain"?void 0:_}}};return By.ActorDereferenceHttpBase=o,By}var J0e;function x9e(){if(J0e)return Nx;J0e=1,Object.defineProperty(Nx,"__esModule",{value:!0}),Nx.ActorDereferenceHttp=void 0;const n=J3e();class e extends n.ActorDereferenceHttpBase{getMaxAcceptHeaderLength(){return this.maxAcceptHeaderLengthBrowser}}return Nx.ActorDereferenceHttp=e,Nx}var W0e;function XV(){return W0e||(W0e=1,(function(n){var e=qy&&qy.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=qy&&qy.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(x9e(),n),u(J3e(),n)})(qy)),qy}var Uy={},Ix={},Y0e;function R9e(){if(Y0e)return Ix;Y0e=1,Object.defineProperty(Ix,"__esModule",{value:!0}),Ix.ActorHttpInruptSolidClientAuthn=void 0;const n=sc(),e=lt(),u=De();let a=class Cg extends n.ActorHttp{constructor(t){super(t)}async test(t){return!t.context||!t.context.has(Cg.CONTEXT_KEY_SESSION)?(0,u.failTest)(`Unable to find Solid authn session in context with key '${Cg.CONTEXT_KEY_SESSION.name}'`):t.context.has(e.KeysHttp.fetch)?(0,u.failTest)("Unable to run when a custom fetch function has been configured"):t.context.get(Cg.CONTEXT_KEY_SESSION).info.isLoggedIn?(0,u.passTestVoid)():(0,u.failTest)("The provided Solid authn session is not in a logged in state, make sure to call session.login() first")}async run(t){const i=t.context.get(Cg.CONTEXT_KEY_SESSION);return this.logInfo(t.context,`Handling request to ${typeof t.input=="string"?t.input:t.input.url} as authenticated request for ${i.info.webId}`),this.mediatorHttp.mediate({...t,context:t.context.delete(Cg.CONTEXT_KEY_SESSION).set(e.KeysHttp.fetch,i.fetch)})}};return Ix.ActorHttpInruptSolidClientAuthn=a,a.CONTEXT_KEY_SESSION=new u.ActionContextKey("@comunica/actor-http-inrupt-solid-client-authn:session"),Ix}var Z0e;function KV(){return Z0e||(Z0e=1,(function(n){var e=Uy&&Uy.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=Uy&&Uy.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(R9e(),n)})(Uy)),Uy}var Qy={},Dx={},ehe;function N9e(){if(ehe)return Dx;ehe=1,Object.defineProperty(Dx,"__esModule",{value:!0}),Dx.ActorContextPreprocessQuerySourceIdentify=void 0;const n=w1(),e=lt(),u=De(),a=wb();let r=class extends n.ActorContextPreprocess{constructor(i){super(i),this.cache=this.cacheSize?new a.LRUCache({max:this.cacheSize}):void 0;const o=this.cache;o&&this.httpInvalidator.addInvalidateListener(({url:l})=>l?o.delete(l):o.clear())}async test(i){return(0,u.passTestVoid)()}async run(i){let o=i.context;if(o.has(e.KeysInitQuery.querySourcesUnidentified)){const l=i.context.get(e.KeysInitQuery.querySourcesUnidentified),s=await Promise.all(l.map(f=>this.expandSource(f))),c=await Promise.all(s.map(async f=>this.identifySource(f,i.context))),d=i.context.get(e.KeysStatistics.dereferencedLinks);if(d)for(const f of c)d.updateStatistic({url:f.source.referenceValue,metadata:{seed:!0}},f.source);o=i.context.delete(e.KeysInitQuery.querySourcesUnidentified).set(e.KeysQueryOperation.querySources,c)}return{context:o}}async expandSource(i){return typeof i=="string"||"match"in i?{value:i}:{...i,context:(await this.mediatorContextPreprocess.mediate({context:u.ActionContext.ensureActionContext(i.context??{})})).context}}identifySource(i,o){let l;return typeof i.value=="string"&&this.cache&&(l=this.cache.get(i.value)),l||(l=this.mediatorQuerySourceIdentify.mediate({querySourceUnidentified:i,context:o}).then(({querySource:s})=>s),typeof i.value=="string"&&this.cache&&this.cache.set(i.value,l)),l}};return Dx.ActorContextPreprocessQuerySourceIdentify=r,Dx}var the;function JV(){return the||(the=1,(function(n){var e=Qy&&Qy.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=Qy&&Qy.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(N9e(),n)})(Qy)),Qy}var Vy={},Fx={},rhe;function I9e(){if(rhe)return Fx;rhe=1,Object.defineProperty(Fx,"__esModule",{value:!0}),Fx.ActorRdfUpdateQuadsHypermedia=void 0;const n=lU(),e=De(),u=wb();let a=class extends n.ActorRdfUpdateQuadsDestination{constructor(t){super(t),this.cache=this.cacheSize?new u.LRUCache({max:this.cacheSize}):void 0;const i=this.cache;i&&this.httpInvalidator.addInvalidateListener(({url:o})=>o?i.delete(o):i.clear())}async test(t){return(0,n.getContextDestinationUrl)((0,n.getContextDestination)(t.context))?(0,e.passTestVoid)():(0,e.failTest)(`Actor ${this.name} can only update quads against a single destination URL.`)}getDestination(t){const i=(0,n.getContextDestination)(t);let o=(0,n.getContextDestinationUrl)(i);if(this.cache&&this.cache.has(o))return this.cache.get(o);const l=(async()=>{let s,c;try{const f=await this.mediatorDereferenceRdf.mediate({context:t,url:o,acceptErrors:!0});c=f.exists,o=f.url;const p=await this.mediatorMetadata.mediate({context:t,url:o,quads:f.data,triples:f.metadata?.triples});s=(await this.mediatorMetadataExtract.mediate({context:t,url:o,metadata:p.metadata,headers:f.headers,requestTime:f.requestTime})).metadata}catch{s={},c=!1}const{destination:d}=await this.mediatorRdfUpdateHypermedia.mediate({context:t,url:o,metadata:s,exists:c,forceDestinationType:(0,n.getDataDestinationType)(i)});return d})();return this.cache&&this.cache.set(o,l),l}};return Fx.ActorRdfUpdateQuadsHypermedia=a,Fx}var nhe;function WV(){return nhe||(nhe=1,(function(n){var e=Vy&&Vy.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=Vy&&Vy.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(I9e(),n)})(Vy)),Vy}var Hy={},Px={},ahe;function D9e(){if(ahe)return Px;ahe=1,Object.defineProperty(Px,"__esModule",{value:!0}),Px.ActionObserverHttp=void 0;const n=De();class e extends n.ActionObserver{constructor(a){super(a),this.requests=0,this.bus.subscribeObserver(this),this.httpInvalidator.addInvalidateListener(()=>{this.requests=0})}onRun(a,r,t){this.observedActors.includes(a.name)&&this.requests++}}return Px.ActionObserverHttp=e,Px}var jx={},ihe;function F9e(){if(ihe)return jx;ihe=1,Object.defineProperty(jx,"__esModule",{value:!0}),jx.ActorQueryResultSerializeSparqlJson=void 0;const n=$o(),e=De(),u=Gt(),a=Nr();let r=class X6 extends n.ActorQueryResultSerializeFixedMediaTypes{constructor(i){super(i)}static bindingToJsonBindings(i){if(i.termType==="Literal"){const o=i,l={value:o.value,type:"literal"},{language:s,datatype:c}=o;return s?l["xml:lang"]=s:c&&c.value!=="http://www.w3.org/2001/XMLSchema#string"&&(l.datatype=c.value),l}return i.termType==="BlankNode"?{value:i.value,type:"bnode"}:i.termType==="Quad"?{value:{subject:X6.bindingToJsonBindings(i.subject),predicate:X6.bindingToJsonBindings(i.predicate),object:X6.bindingToJsonBindings(i.object)},type:"triple"}:{value:i.value,type:"uri"}}async testHandleChecked(i,o){return["bindings","boolean"].includes(i.type)?(0,e.passTestVoid)():(0,e.failTest)("This actor can only handle bindings streams or booleans.")}async runHandle(i,o,l){const s=new a.Readable,c={};if(i.type==="bindings"){const d=await i.metadata();d.variables.length>0&&(c.vars=d.variables.map(f=>f.variable.value))}if(s.push(`{"head": ${JSON.stringify(c)},
`),i.type==="bindings"){const d=i.bindingsStream;s.push(`"results": { "bindings": [
`);let f=!0;function*p(h){yield h()}s.wrap((0,u.wrap)(d).map(h=>{const g=`${f?"":`,
`}${JSON.stringify(Object.fromEntries([...h].map(([_,m])=>[_.value,X6.bindingToJsonBindings(m)])))}`;return f=!1,g}).append((0,u.wrap)(p(()=>`
]}${this.emitMetadata?`,
"metadata": { "httpRequests": ${this.httpObserver.requests} }`:""}}
`))))}else s.wrap((0,u.wrap)(i.execute().then(d=>[`"boolean":${d}
}
`])));return{data:s}}};return jx.ActorQueryResultSerializeSparqlJson=r,jx}var uhe;function c1(){return uhe||(uhe=1,(function(n){var e=Hy&&Hy.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=Hy&&Hy.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(D9e(),n),u(F9e(),n)})(Hy)),Hy}var ky={},Mx={},ohe;function P9e(){if(ohe)return Mx;ohe=1,Object.defineProperty(Mx,"__esModule",{value:!0}),Mx.ActionObserverHttp=void 0;const n=De();let e=class extends n.ActionObserver{constructor(a){super(a),this.requests=0,this.bus.subscribeObserver(this),this.httpInvalidator.addInvalidateListener(()=>{this.requests=0})}onRun(a,r,t){this.observedActors.includes(a.name)&&this.requests++}};return Mx.ActionObserverHttp=e,Mx}var Cx={},she;function j9e(){if(she)return Cx;she=1,Object.defineProperty(Cx,"__esModule",{value:!0}),Cx.ActorQueryResultSerializeStats=void 0;const n=$o(),e=lt(),u=De(),a=Gt(),r=Nr();let t=class extends n.ActorQueryResultSerializeFixedMediaTypes{constructor(o){super(o)}async testHandleChecked(o,l){return["bindings","quads"].includes(o.type)?(0,u.passTestVoid)():(0,u.failTest)("This actor can only handle bindings streams or quad streams.")}pushHeader(o){const l=["Result","Delay (ms)","HTTP requests"].join(",");o.push(`${l}
`)}createStat(o,l){return`${[l,this.delay(o),this.httpObserver.requests].join(",")}
`}createSpecialLine(o,l){return`${[o,this.delay(l),this.httpObserver.requests].join(",")}
`}async runHandle(o,l,s){const c=new r.Readable,d=o.type==="bindings"?o.bindingsStream:o.quadStream,f=o.context.getSafe(e.KeysInitQuery.queryTimestampHighResolution);let p=1;function*h(_){yield _()}const g=(0,a.wrap)(d).map(()=>this.createStat(f,p++)).prepend([this.createSpecialLine("PLANNING",f)]).append((0,a.wrap)(h(()=>this.createSpecialLine("TOTAL",f))));return this.pushHeader(c),c.wrap(g),{data:c}}now(){return performance.now()}delay(o){return this.now()-o}};return Cx.ActorQueryResultSerializeStats=t,Cx}var che;function l1(){return che||(che=1,(function(n){var e=ky&&ky.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=ky&&ky.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(P9e(),n),u(j9e(),n)})(ky)),ky}var zy={},Lx={},Gy={},qx={},lhe;function M9e(){if(lhe)return qx;lhe=1,Object.defineProperty(qx,"__esModule",{value:!0}),qx.ActorQuerySourceIdentifyHypermedia=void 0;const n=De();class e extends n.Actor{constructor(a,r){super(a),this.sourceType=r}async test(a){return a.forceSourceType&&this.sourceType!==a.forceSourceType?(0,n.failTest)(`Actor ${this.name} is not able to handle source type ${a.forceSourceType}.`):this.testMetadata(a)}}return qx.ActorQuerySourceIdentifyHypermedia=e,qx}var dhe;function YV(){return dhe||(dhe=1,(function(n){var e=Gy&&Gy.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=Gy&&Gy.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(M9e(),n)})(Gy)),Gy}var Bx={},fhe;function W3e(){if(fhe)return Bx;fhe=1,Object.defineProperty(Bx,"__esModule",{value:!0}),Bx.QuerySourceQpf=void 0;const n=aN(),e=lt(),u=xa(),a=Gt(),r=Xt(),t=Z4(),i=Yr();let o=class{constructor(c,d,f,p,h,g,_,m,w,T,E,S,N,j){if(this.referenceValue=E,this.mediatorMetadata=c,this.mediatorMetadataExtract=d,this.mediatorDereferenceRdf=f,this.dataFactory=p,this.algebraFactory=h,this.bindingsFactory=g,this.subjectUri=_,this.predicateUri=m,this.objectUri=w,this.graphUri=T,this.url=E,this.bindingsRestricted=N,this.cachedQuads={},this.searchForm=this.getSearchForm(S),this.defaultGraph=S.defaultGraph?this.dataFactory.namedNode(S.defaultGraph):void 0,j){let q=(0,a.wrap)(j);this.defaultGraph&&(q=this.reverseMapQuadsToDefaultGraph(q)),S={...S,state:new u.MetadataValidationState},q.setProperty("metadata",S),this.cacheQuads(q,this.dataFactory.variable(""),this.dataFactory.variable(""),this.dataFactory.variable(""),this.dataFactory.variable(""))}this.selectorShape=this.bindingsRestricted?{type:"operation",operation:{operationType:"pattern",pattern:this.algebraFactory.createPattern(this.dataFactory.variable("s"),this.dataFactory.variable("p"),this.dataFactory.variable("o"),this.dataFactory.variable("g"))},variablesOptional:[this.dataFactory.variable("s"),this.dataFactory.variable("p"),this.dataFactory.variable("o"),this.dataFactory.variable("g")],filterBindings:!0}:{type:"operation",operation:{operationType:"pattern",pattern:this.algebraFactory.createPattern(this.dataFactory.variable("s"),this.dataFactory.variable("p"),this.dataFactory.variable("o"),this.dataFactory.variable("g"))},variablesOptional:[this.dataFactory.variable("s"),this.dataFactory.variable("p"),this.dataFactory.variable("o"),this.dataFactory.variable("g")]}}async getSelectorShape(){return this.selectorShape}queryBindings(c,d,f){if(c.type!=="pattern")throw new Error(`Attempted to pass non-pattern operation '${c.type}' to QuerySourceQpf`);const p=!!d.get(e.KeysQueryOperation.unionDefaultGraph);let h=this.match(c.subject,c.predicate,c.object,c.graph,p,d,f);return h=(0,n.filterMatchingQuotedQuads)(c,h),(0,n.quadsToBindings)(h,c,this.dataFactory,this.bindingsFactory,p)}getSearchForm(c){if(!c.searchForms||!c.searchForms.values)return;const{searchForms:d}=c;for(const f of d.values)if(this.graphUri&&this.subjectUri in f.mappings&&this.predicateUri in f.mappings&&this.objectUri in f.mappings&&this.graphUri in f.mappings&&Object.keys(f.mappings).length===4||this.subjectUri in f.mappings&&this.predicateUri in f.mappings&&this.objectUri in f.mappings&&Object.keys(f.mappings).length===3)return f}createFragmentUri(c,d,f,p,h){const g={},_=[{uri:this.subjectUri,term:d},{uri:this.predicateUri,term:f},{uri:this.objectUri,term:p},{uri:this.graphUri,term:h}];for(const m of _)m.uri&&(this.bindingsRestricted||m.term.termType!=="Variable"&&(m.term.termType!=="Quad"||(0,i.everyTermsNested)(m.term,w=>w.termType!=="Variable")))&&(g[m.uri]=(0,r.termToString)(m.term));return c.getUri(g)}match(c,d,f,p,h,g,_){let m=!1;if(p.termType==="DefaultGraph")if(this.defaultGraph)m=!0,p=this.defaultGraph;else if(Object.keys(this.searchForm.mappings).length===4&&!this.defaultGraph)if(h)p=this.dataFactory.variable("g");else{const S=new a.ArrayIterator([],{autoStart:!1});return S.setProperty("metadata",{state:new u.MetadataValidationState,requestTime:0,cardinality:{type:"exact",value:0},first:null,next:null,last:null}),S}else p=this.dataFactory.variable("g");if(!_?.filterBindings){const S=this.getCachedQuads(c,d,f,p);if(S)return S}const w=this;let T;const E=(async function(){let S=w.createFragmentUri(w.searchForm,c,d,f,p);_?.filterBindings&&(S=await w.getBindingsRestrictedLink(c,d,f,p,S,_.filterBindings));const N=await w.mediatorDereferenceRdf.mediate({context:g,url:S});S=N.url;const j=await w.mediatorMetadata.mediate({context:g,url:S,quads:N.data,triples:N.metadata?.triples}),{metadata:q}=await w.mediatorMetadataExtract.mediate({context:g,url:S,metadata:j.metadata,requestTime:N.requestTime});return T.setProperty("metadata",{...q,state:new u.MetadataValidationState,subsetOf:w.url}),j.data})();return T=new a.TransformIterator(async()=>{const S=await E,N=this.dataFactory.defaultGraph();let j=(0,a.wrap)(S).transform({filter(q){return(0,i.matchPattern)(q,c,d,f,p)?!0:m&&(0,i.matchPattern)(q,c,d,f,N)}});return(m||p.termType==="Variable")&&(j=this.reverseMapQuadsToDefaultGraph(j)),j},{autoStart:!1}),_?.filterBindings?T:(this.cacheQuads(T,c,d,f,p),this.getCachedQuads(c,d,f,p))}async getBindingsRestrictedLink(c,d,f,p,h,g){const _=[];for(const w of await g.bindings.toArray()){const T=["("];for(const E of g.metadata.variables){const S=w.get(E.variable);T.push(S?(0,t.termToString)(S):"UNDEF"),T.push(" ")}T.push(")"),_.push(T.join(""))}_.length===0&&_.push("(<ex:comunica:unknown>)");const m=encodeURIComponent(`(${g.metadata.variables.map(w=>`?${w.variable.value}`).join(" ")}) { ${_.join(" ")} }`);return`${h}&values=${m}`}reverseMapQuadsToDefaultGraph(c){const d=this.dataFactory.defaultGraph();return c.map(f=>(0,i.mapTerms)(f,(p,h)=>h==="graph"&&p.equals(this.defaultGraph)?d:p))}getPatternId(c,d,f,p){return JSON.stringify({s:c.termType==="Variable"?"":l(c),p:d.termType==="Variable"?"":l(d),o:f.termType==="Variable"?"":l(f),g:p.termType==="Variable"?"":l(p)})}cacheQuads(c,d,f,p,h){const g=this.getPatternId(d,f,p,h);this.cachedQuads[g]=c.clone()}getCachedQuads(c,d,f,p){const h=this.getPatternId(c,d,f,p),g=this.cachedQuads[h];if(g)return g.clone()}queryQuads(c,d){throw new Error("queryQuads is not implemented in QuerySourceQpf")}queryBoolean(c,d){throw new Error("queryBoolean is not implemented in QuerySourceQpf")}queryVoid(c,d){throw new Error("queryVoid is not implemented in QuerySourceQpf")}};Bx.QuerySourceQpf=o;function l(s){return s.termType==="DefaultGraph"?"|":(0,r.termToString)(s)}return Bx}var phe;function C9e(){if(phe)return Lx;phe=1,Object.defineProperty(Lx,"__esModule",{value:!0}),Lx.ActorQuerySourceIdentifyHypermediaQpf=void 0;const n=YV(),e=lt(),u=De(),a=pn(),r=Qt(),t=W3e();let i=class extends n.ActorQuerySourceIdentifyHypermedia{constructor(l){super(l,"qpf")}async test(l){return l.forceSourceType&&l.forceSourceType!=="qpf"&&l.forceSourceType!=="brtpf"?(0,u.failTest)(`Actor ${this.name} is not able to handle source type ${l.forceSourceType}.`):this.testMetadata(l)}async testMetadata(l){const{searchForm:s}=await this.createSource(l.url,l.metadata,l.context,l.forceSourceType==="brtpf");return s?l.handledDatasets&&l.handledDatasets[s.dataset]?(0,u.failTest)(`Actor ${this.name} can only be applied for the first page of a QPF dataset.`):(0,u.passTest)({filterFactor:1}):(0,u.failTest)("Illegal state: found no TPF/QPF search form anymore in metadata.")}async run(l){this.logInfo(l.context,`Identified as qpf source: ${l.url}`);const s=await this.createSource(l.url,l.metadata,l.context,l.forceSourceType==="brtpf",l.quads);return{source:s,dataset:s.searchForm.dataset}}async createSource(l,s,c,d,f){const p=c.getSafe(e.KeysInitQuery.dataFactory),h=new r.Factory(p);return new t.QuerySourceQpf(this.mediatorMetadata,this.mediatorMetadataExtract,this.mediatorDereferenceRdf,p,h,await a.BindingsFactory.create(this.mediatorMergeBindingsContext,c,p),this.subjectUri,this.predicateUri,this.objectUri,this.graphUri,l,s,d,f)}};return Lx.ActorQuerySourceIdentifyHypermediaQpf=i,Lx}var hhe;function ZV(){return hhe||(hhe=1,(function(n){var e=zy&&zy.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=zy&&zy.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(C9e(),n),u(W3e(),n)})(zy)),zy}var $y={},Ux={},Qx={},yhe;function Y3e(){if(yhe)return Qx;yhe=1,Object.defineProperty(Qx,"__esModule",{value:!0}),Qx.QuerySourceSparql=void 0;const n=lt(),e=De(),u=xa(),a=er(),r=Gt(),t=N3e(),i=wb(),o=Yr(),l=Qt();let s=class oo{constructor(d,f,p,h,g,_,m,w,T,E,S,N,j,q){this.referenceValue=d,this.url=d,this.context=f,this.mediatorHttp=p,this.bindMethod=h,this.dataFactory=g,this.algebraFactory=_,this.bindingsFactory=m,this.endpointFetcher=new t.SparqlEndpointFetcher({method:w?"GET":"POST",fetch:(O,I)=>this.mediatorHttp.mediate({input:O,init:I,context:this.lastSourceContext}),prefixVariableQuestionMark:!0,dataFactory:g,forceGetIfUrlLengthBelow:j,directPost:q.postAccepted&&!q.postAccepted.includes("application/x-www-form-urlencoded")}),this.cache=T>0?new i.LRUCache({max:T}):void 0,this.countTimeout=E,this.cardinalityCountQueries=S,this.cardinalityEstimateConstruction=N,this.defaultGraph=q.defaultGraph,this.unionDefaultGraph=q.unionDefaultGraph??!1,this.datasets=q.datasets,this.extensionFunctions=q.extensionFunctions,this.propertyFeatures=q.propertyFeatures?new Set(q.propertyFeatures):void 0}async getSelectorShape(){const d={type:"disjunction",children:[{type:"operation",operation:{operationType:"wildcard"},joinBindings:!0}]};return this.extensionFunctions&&d.children.push({type:"operation",operation:{operationType:"type",type:l.Algebra.types.EXPRESSION,extensionFunctions:this.extensionFunctions},joinBindings:!0}),{type:"conjunction",children:[d,{type:"negation",child:{type:"operation",operation:{operationType:"type",type:l.Algebra.types.DISTINCT},children:[{type:"operation",operation:{operationType:"type",type:l.Algebra.types.CONSTRUCT},children:[{type:"operation",operation:{operationType:"wildcard"},joinBindings:!0}]}]}}]}}queryBindings(d,f,p){let h;p?.joinBindings?h=oo.addBindingsToOperation(this.algebraFactory,this.bindMethod,d,p.joinBindings):h=Promise.resolve(d);const g=new r.TransformIterator(async()=>{const _=await h,m=l.Util.inScopeVariables(_),w=f.get(n.KeysInitQuery.queryString),T=f.getSafe(n.KeysInitQuery.queryFormat),E=!p?.joinBindings&&w&&T.language==="sparql"?w:oo.operationToSelectQuery(this.algebraFactory,_,m),S=oo.getOperationUndefs(_);return this.queryBindingsRemote(this.url,E,m,f,S)},{autoStart:!1});return this.attachMetadata(g,f,h),g}queryQuads(d,f){this.lastSourceContext=this.context.merge(f);const p=f.get(n.KeysInitQuery.queryString)??oo.operationToQuery(d),h=this.endpointFetcher.fetchTriples(this.url,p);this.lastSourceContext=void 0;const g=(0,r.wrap)(h,{autoStart:!1,maxBufferSize:Number.POSITIVE_INFINITY});return this.attachMetadata(g,f,Promise.resolve(d.input)),g}queryBoolean(d,f){if(this.operationUsesPropertyFeatures(d))return Promise.resolve(!0);this.lastSourceContext=this.context.merge(f);const p=f.get(n.KeysInitQuery.queryString)??oo.operationToQuery(d),h=this.endpointFetcher.fetchAsk(this.url,p);return this.lastSourceContext=void 0,h}queryVoid(d,f){this.lastSourceContext=this.context.merge(f);const p=f.get(n.KeysInitQuery.queryString)??oo.operationToQuery(d),h=this.endpointFetcher.fetchUpdate(this.url,p);return this.lastSourceContext=void 0,h}attachMetadata(d,f,p){let h=[];new Promise(async(g,_)=>{try{const m=await p,w=l.Util.inScopeVariables(m),T=this.operationToNormalizedCountQuery(m),E=oo.getOperationUndefs(m);h=w.map(O=>({variable:O,canBeUndef:E.some(I=>I.equals(O))}));const S=this.cache?.get(T);if(S)return g(S);if(this.cardinalityEstimateConstruction){const O=await this.estimateOperationCardinality(m);if(Number.isFinite(O.value))return this.cache?.set(T,O),g(O)}if(!this.cardinalityCountQueries)return g({type:"estimate",value:Number.POSITIVE_INFINITY,dataset:this.url});const N=setTimeout(()=>g({type:"estimate",value:Number.POSITIVE_INFINITY,dataset:this.url}),this.countTimeout),j=this.dataFactory.variable("count");(await this.queryBindingsRemote(this.url,T,[j],f,[])).on("data",O=>{clearTimeout(N);const I=O.get(j),A={type:"estimate",value:Number.POSITIVE_INFINITY,dataset:this.url};if(I){const P=Number.parseInt(I.value,10);Number.isNaN(P)||(A.type="exact",A.value=P,this.cache?.set(T,A))}return g(A)}).on("error",()=>{clearTimeout(N),g({type:"estimate",value:Number.POSITIVE_INFINITY,dataset:this.url})}).on("end",()=>{clearTimeout(N),g({type:"estimate",value:Number.POSITIVE_INFINITY,dataset:this.url})})}catch(m){_(m)}}).then(g=>d.setProperty("metadata",{state:new u.MetadataValidationState,cardinality:g,variables:h})).catch(()=>d.setProperty("metadata",{state:new u.MetadataValidationState,cardinality:{type:"estimate",value:Number.POSITIVE_INFINITY,dataset:this.url},variables:h}))}operationToNormalizedCountQuery(d){const f=d.type===l.Algebra.types.PATTERN?this.algebraFactory.createPattern(d.subject.termType==="Variable"?this.dataFactory.variable("s"):d.subject,d.predicate.termType==="Variable"?this.dataFactory.variable("p"):d.predicate,d.object.termType==="Variable"?this.dataFactory.variable("o"):d.object):d;return oo.operationToCountQuery(this.dataFactory,this.algebraFactory,f)}async estimateOperationCardinality(d){if(this.operationUsesPropertyFeatures(d))return{type:"estimate",value:1,dataset:this.url};const f={getCardinality:p=>{const h=this.operationToNormalizedCountQuery(p),g=this.cache?.get(h);if(g)return g;if(this.datasets){const _=this.datasets.filter(w=>this.unionDefaultGraph||this.defaultGraph&&w.uri.endsWith(this.defaultGraph)).map(w=>(0,a.estimateCardinality)(p,w));return{type:_.some(w=>w.type==="estimate")?"estimate":"exact",value:_.length>0?_.reduce((w,T)=>w+T.value,0):0,dataset:this.url}}},source:this.url,uri:this.url};return(0,a.estimateCardinality)(d,f)}operationUsesPropertyFeatures(d){let f=!1;return this.propertyFeatures&&l.Util.recurseOperation(d,{[l.Algebra.types.PATTERN]:p=>(p.predicate.termType==="NamedNode"&&this.propertyFeatures.has(p.predicate.value)&&(f=!0),!1),[l.Algebra.types.LINK]:p=>(this.propertyFeatures.has(p.iri.value)&&(f=!0),!1),[l.Algebra.types.NPS]:p=>(p.iris.some(h=>this.propertyFeatures.has(h.value))&&(f=!0),!1)}),f}static async addBindingsToOperation(d,f,p,h){const g=await h.bindings.toArray();switch(f){case"values":return d.createJoin([d.createValues(h.metadata.variables.map(_=>_.variable),g.map(_=>Object.fromEntries([..._].map(([m,w])=>[`?${m.value}`,w])))),p],!1);case"union":throw new Error('Not implemented yet: "union" case');case"filter":throw new Error('Not implemented yet: "filter" case')}}static operationToSelectQuery(d,f,p){return oo.operationToQuery(d.createProject(f,p))}static operationToCountQuery(d,f,p){return oo.operationToQuery(f.createProject(f.createExtend(f.createGroup(p,[],[f.createBoundAggregate(d.variable("var0"),"count",f.createWildcardExpression(),!1)]),d.variable("count"),f.createTermExpression(d.variable("var0"))),[d.variable("count")]))}static operationToQuery(d){return(0,l.toSparql)(d,{sparqlStar:!0})}static getOperationUndefs(d){const f=[];return l.Util.recurseOperation(d,{leftjoin(p){const h=l.Util.inScopeVariables(p.input[0]),g=l.Util.inScopeVariables(p.input[1]);for(const _ of g)h.some(m=>m.equals(_))||f.push(_);return!1},values(p){for(const h of p.variables)p.bindings.some(g=>!(`?${h.value}`in g))&&f.push(h);return!1},union(p){const h=p.input.map(l.Util.inScopeVariables);for(const g of(0,o.uniqTerms)(h.flat()))h.every(_=>_.some(m=>m.equals(g)))||f.push(g);return!0}}),(0,o.uniqTerms)(f)}async queryBindingsRemote(d,f,p,h,g){const _=new Set(g.map(w=>w.value));this.lastSourceContext=this.context.merge(h);const m=await this.endpointFetcher.fetchBindings(d,f);return this.lastSourceContext=void 0,(0,r.wrap)(m,{autoStart:!1,maxBufferSize:Number.POSITIVE_INFINITY}).map(w=>this.bindingsFactory.bindings(p.map(T=>{const E=w[`?${T.value}`];return!_.has(T.value)&&!E&&e.Actor.getContextLogger(this.context)?.warn(`The endpoint ${d} failed to provide a binding for ${T.value}.`),[T,E]}).filter(([T,E])=>!!E)))}toString(){return`QuerySourceSparql(${this.url})`}};return Qx.QuerySourceSparql=s,Qx}var mhe;function L9e(){if(mhe)return Ux;mhe=1,Object.defineProperty(Ux,"__esModule",{value:!0}),Ux.ActorQuerySourceIdentifyHypermediaSparql=void 0;const n=YV(),e=lt(),u=De(),a=pn(),r=Qt(),t=Y3e();let i=class extends n.ActorQuerySourceIdentifyHypermedia{constructor(l){super(l,"sparql")}async testMetadata(l){return!l.forceSourceType&&!this.forceSourceType&&!l.metadata.sparqlService&&!(this.checkUrlSuffix&&(l.url.endsWith("/sparql")||l.url.endsWith("/sparql/")))?(0,u.failTest)(`Actor ${this.name} could not detect a SPARQL service description or URL ending on /sparql.`):(0,u.passTest)({filterFactor:1})}async run(l){this.logInfo(l.context,`Identified ${l.url} as sparql source with service URL: ${l.metadata.sparqlService||l.url}`);const s=l.context.getSafe(e.KeysInitQuery.dataFactory),c=new r.Factory(s),d=l.context.get(e.KeysQueryOperation.querySources)?.length===1;return{source:new t.QuerySourceSparql(l.forceSourceType??this.forceSourceType?l.url:l.metadata.sparqlService||l.url,l.context,this.mediatorHttp,this.bindMethod,s,c,await a.BindingsFactory.create(this.mediatorMergeBindingsContext,l.context,s),this.forceHttpGet,this.cacheSize,this.countTimeout,this.cardinalityCountQueries&&!d,this.cardinalityEstimateConstruction,this.forceGetIfUrlLengthBelow,l.metadata)}}};return Ux.ActorQuerySourceIdentifyHypermediaSparql=i,Ux}var bhe;function eH(){return bhe||(bhe=1,(function(n){var e=$y&&$y.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=$y&&$y.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(L9e(),n),u(Y3e(),n)})($y)),$y}var Xy={},Vx={},Ky={},Hx={},kx={},ghe;function Z3e(){if(ghe)return kx;ghe=1,Object.defineProperty(kx,"__esModule",{value:!0}),kx.QuerySourceRdfJs=void 0;const n=aN(),e=lt(),u=xa(),a=Gt(),r=Yr(),t=Qt();let i=class di{constructor(l,s,c){this.source=l,this.referenceValue=l,this.dataFactory=s,this.bindingsFactory=c;const d=new t.Factory(this.dataFactory);this.selectorShape={type:"operation",operation:{operationType:"pattern",pattern:d.createPattern(this.dataFactory.variable("s"),this.dataFactory.variable("p"),this.dataFactory.variable("o"))},variablesOptional:[this.dataFactory.variable("s"),this.dataFactory.variable("p"),this.dataFactory.variable("o")]},this.dummyDefaultGraph=this.dataFactory.variable("__comunica:defaultGraph")}static nullifyVariables(l,s){return!l||l.termType==="Variable"||!s&&l.termType==="Quad"&&(0,r.someTermsNested)(l,c=>c.termType==="Variable")?void 0:l}static hasDuplicateVariables(l){const s=(0,r.filterTermsNested)(l,c=>c.termType==="Variable");return s.length>1&&(0,r.uniqTerms)(s).length<s.length}async getSelectorShape(){return this.selectorShape}queryBindings(l,s){if(l.type!=="pattern")throw new Error(`Attempted to pass non-pattern operation '${l.type}' to QuerySourceRdfJs`);const c=!!s.get(e.KeysQueryOperation.unionDefaultGraph);if(l.graph.termType==="DefaultGraph"&&c&&(l.graph=this.dummyDefaultGraph),"matchBindings"in this.source&&this.source.matchBindings){const h=this.source.matchBindings(this.bindingsFactory,l.subject,l.predicate,l.object,l.graph);let g=h instanceof a.AsyncIterator?h:(0,a.wrap)(h,{autoStart:!1}),_=!1;if(l.graph.termType==="Variable"&&!c){_=!0;const w=l.graph;g=g.filter(T=>T.get(w).termType!=="DefaultGraph")}l.graph.equals(this.dummyDefaultGraph)&&(g=g.map(w=>w.delete(this.dummyDefaultGraph)),l.graph=this.dataFactory.defaultGraph());const m=(0,n.getVariables)(l).map(w=>({variable:w,canBeUndef:!1}));return this.setMetadata(g,l,s,_,{variables:m}).catch(w=>g.destroy(w)),g}const d=!!("features"in this.source&&this.source.features?.quotedTripleFiltering),f=this.source.match(di.nullifyVariables(l.subject,d),di.nullifyVariables(l.predicate,d),di.nullifyVariables(l.object,d),di.nullifyVariables(l.graph,d));let p=f instanceof a.AsyncIterator?f:(0,a.wrap)(f,{autoStart:!1});return d||(p=(0,n.filterMatchingQuotedQuads)(l,p)),p.getProperty("metadata")||this.setMetadata(p,l,s).catch(h=>p.destroy(h)),l.graph.equals(this.dummyDefaultGraph)&&(l.graph=this.dataFactory.defaultGraph()),(0,n.quadsToBindings)(p,l,this.dataFactory,this.bindingsFactory,!!s.get(e.KeysQueryOperation.unionDefaultGraph))}async setMetadata(l,s,c,d=!1,f={}){const p=!!("features"in this.source&&this.source.features?.quotedTripleFiltering),h=!!c.get(e.KeysQueryOperation.unionDefaultGraph);s.graph.termType==="DefaultGraph"&&h&&(s.graph=this.dummyDefaultGraph);let g;if("countQuads"in this.source&&this.source.countQuads)g=await this.source.countQuads(di.nullifyVariables(s.subject,p),di.nullifyVariables(s.predicate,p),di.nullifyVariables(s.object,p),di.nullifyVariables(s.graph,p));else{let m=0;g=await new Promise((w,T)=>{let E=this.source.match(di.nullifyVariables(s.subject,p),di.nullifyVariables(s.predicate,p),di.nullifyVariables(s.object,p),di.nullifyVariables(s.graph,p));typeof E.on!="function"&&(E=new a.ArrayIterator(E)),E.on("error",T),E.on("end",()=>w(m)),E.on("data",()=>m++)})}const _=!p&&(0,r.someTerms)(s,m=>m.termType==="Quad")||di.hasDuplicateVariables(s);l.setProperty("metadata",{state:new u.MetadataValidationState,cardinality:{type:_||d?"estimate":"exact",value:g},requestTime:0,...f})}queryQuads(l,s){throw new Error("queryQuads is not implemented in QuerySourceRdfJs")}queryBoolean(l,s){throw new Error("queryBoolean is not implemented in QuerySourceRdfJs")}queryVoid(l,s){throw new Error("queryVoid is not implemented in QuerySourceRdfJs")}toString(){return`QuerySourceRdfJs(${this.source.constructor.name})`}};return kx.QuerySourceRdfJs=i,kx}var vhe;function q9e(){if(vhe)return Hx;vhe=1,Object.defineProperty(Hx,"__esModule",{value:!0}),Hx.ActorQuerySourceIdentifyRdfJs=void 0;const n=aN(),e=lt(),u=De(),a=pn(),r=Z3e();let t=class extends n.ActorQuerySourceIdentify{constructor(o){super(o)}async test(o){const l=o.querySourceUnidentified;return l.type!==void 0&&l.type!=="rdfjs"?(0,u.failTest)(`${this.name} requires a single query source with rdfjs type to be present in the context.`):typeof l.value=="string"||!("match"in l.value)?(0,u.failTest)(`${this.name} received an invalid rdfjs query source.`):(0,u.passTestVoid)()}async run(o){const l=o.context.getSafe(e.KeysInitQuery.dataFactory);return{querySource:{source:new r.QuerySourceRdfJs(o.querySourceUnidentified.value,l,await a.BindingsFactory.create(this.mediatorMergeBindingsContext,o.context,l)),context:o.querySourceUnidentified.context??new u.ActionContext}}}};return Hx.ActorQuerySourceIdentifyRdfJs=t,Hx}var YC={},_he;function B9e(){return _he||(_he=1,Object.defineProperty(YC,"__esModule",{value:!0})),YC}var The;function uN(){return The||(The=1,(function(n){var e=Ky&&Ky.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=Ky&&Ky.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(q9e(),n),u(B9e(),n),u(Z3e(),n)})(Ky)),Ky}var PD={},Jy={},zx={},Gx={},Wy={},$x={},whe;function ewe(){if(whe)return $x;whe=1,Object.defineProperty($x,"__esModule",{value:!0}),$x.BlankNode=void 0;class n{constructor(u){this.termType="BlankNode",this.value=u}equals(u){return!!u&&u.termType==="BlankNode"&&u.value===this.value}}return $x.BlankNode=n,$x}var Xx={},Kx={},She;function twe(){if(She)return Kx;She=1,Object.defineProperty(Kx,"__esModule",{value:!0}),Kx.DefaultGraph=void 0;class n{constructor(){this.termType="DefaultGraph",this.value=""}equals(u){return!!u&&u.termType==="DefaultGraph"}}return Kx.DefaultGraph=n,n.INSTANCE=new n,Kx}var Jx={},Wx={},Ehe;function tH(){if(Ehe)return Wx;Ehe=1,Object.defineProperty(Wx,"__esModule",{value:!0}),Wx.NamedNode=void 0;class n{constructor(u){this.termType="NamedNode",this.value=u}equals(u){return!!u&&u.termType==="NamedNode"&&u.value===this.value}}return Wx.NamedNode=n,Wx}var Ahe;function rwe(){if(Ahe)return Jx;Ahe=1,Object.defineProperty(Jx,"__esModule",{value:!0}),Jx.Literal=void 0;const n=tH();class e{constructor(a,r){this.termType="Literal",this.value=a,typeof r=="string"?(this.language=r,this.datatype=e.RDF_LANGUAGE_STRING,this.direction=""):r?"termType"in r?(this.language="",this.datatype=r,this.direction=""):(this.language=r.language,this.datatype=r.direction?e.RDF_DIRECTIONAL_LANGUAGE_STRING:e.RDF_LANGUAGE_STRING,this.direction=r.direction||""):(this.language="",this.datatype=e.XSD_STRING,this.direction="")}equals(a){return!!a&&a.termType==="Literal"&&a.value===this.value&&a.language===this.language&&(a.direction===this.direction||!a.direction&&this.direction==="")&&this.datatype.equals(a.datatype)}}return Jx.Literal=e,e.RDF_LANGUAGE_STRING=new n.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),e.RDF_DIRECTIONAL_LANGUAGE_STRING=new n.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#dirLangString"),e.XSD_STRING=new n.NamedNode("http://www.w3.org/2001/XMLSchema#string"),Jx}var Yx={},Ohe;function nwe(){if(Ohe)return Yx;Ohe=1,Object.defineProperty(Yx,"__esModule",{value:!0}),Yx.Quad=void 0;class n{constructor(u,a,r,t){this.termType="Quad",this.value="",this.subject=u,this.predicate=a,this.object=r,this.graph=t}equals(u){return!!u&&(u.termType==="Quad"||!u.termType)&&this.subject.equals(u.subject)&&this.predicate.equals(u.predicate)&&this.object.equals(u.object)&&this.graph.equals(u.graph)}}return Yx.Quad=n,Yx}var Zx={},xhe;function awe(){if(xhe)return Zx;xhe=1,Object.defineProperty(Zx,"__esModule",{value:!0}),Zx.Variable=void 0;class n{constructor(u){this.termType="Variable",this.value=u}equals(u){return!!u&&u.termType==="Variable"&&u.value===this.value}}return Zx.Variable=n,Zx}var Rhe;function U9e(){if(Rhe)return Xx;Rhe=1,Object.defineProperty(Xx,"__esModule",{value:!0}),Xx.DataFactory=void 0;const n=ewe(),e=twe(),u=rwe(),a=tH(),r=nwe(),t=awe();let i=0;class o{constructor(s){this.blankNodeCounter=0,s=s||{},this.blankNodePrefix=s.blankNodePrefix||`df_${i++}_`}namedNode(s){return new a.NamedNode(s)}blankNode(s){return new n.BlankNode(s||`${this.blankNodePrefix}${this.blankNodeCounter++}`)}literal(s,c){return new u.Literal(s,c)}variable(s){return new t.Variable(s)}defaultGraph(){return e.DefaultGraph.INSTANCE}quad(s,c,d,f){return new r.Quad(s,c,d,f||this.defaultGraph())}fromTerm(s){switch(s.termType){case"NamedNode":return this.namedNode(s.value);case"BlankNode":return this.blankNode(s.value);case"Literal":return s.language?this.literal(s.value,s.language):s.datatype.equals(u.Literal.XSD_STRING)?this.literal(s.value):this.literal(s.value,this.fromTerm(s.datatype));case"Variable":return this.variable(s.value);case"DefaultGraph":return this.defaultGraph();case"Quad":return this.quad(this.fromTerm(s.subject),this.fromTerm(s.predicate),this.fromTerm(s.object),this.fromTerm(s.graph))}}fromQuad(s){return this.fromTerm(s)}resetBlankNodeCounter(){this.blankNodeCounter=0}}return Xx.DataFactory=o,Xx}var Nhe;function Wo(){return Nhe||(Nhe=1,(function(n){var e=Wy&&Wy.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=Wy&&Wy.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(ewe(),n),u(U9e(),n),u(twe(),n),u(rwe(),n),u(tH(),n),u(nwe(),n),u(awe(),n)})(Wy)),Wy}var Yy={},jr={},Ihe;function Q9e(){if(Ihe)return jr;Ihe=1,Object.defineProperty(jr,"__esModule",{value:!0}),jr.TRIPLE_TERM_NAMES=jr.QUAD_TERM_NAMES=void 0,jr.getTerms=u,jr.getTermsNested=a,jr.getNamedTerms=r,jr.collectNamedTerms=t,jr.forEachTerms=i,jr.forEachTermsNested=o,jr.filterTerms=l,jr.filterTermsNested=s,jr.filterQuadTermNames=c,jr.filterQuadTermNamesNested=d,jr.mapTerms=f,jr.mapTermsNested=p,jr.reduceTerms=h,jr.reduceTermsNested=g,jr.everyTerms=_,jr.everyTermsNested=m,jr.someTerms=w,jr.someTermsNested=T,jr.getValueNestedPath=E,jr.matchTerm=S,jr.matchPattern=N,jr.matchPatternComplete=j,jr.matchPatternMappings=q;const n=Wo(),e=new n.DataFactory;jr.QUAD_TERM_NAMES=["subject","predicate","object","graph"],jr.TRIPLE_TERM_NAMES=["subject","predicate","object"];function u(O,I){return I&&O.graph.termType==="DefaultGraph"?[O.subject,O.predicate,O.object]:[O.subject,O.predicate,O.object,O.graph]}function a(O,I){const A=[];for(const P of u(O,I))P.termType==="Quad"?a(P,I).forEach(C=>A.push(C)):A.push(P);return A}function r(O){return[{key:"subject",value:O.subject},{key:"predicate",value:O.predicate},{key:"object",value:O.object},{key:"graph",value:O.graph}]}function t(O,I,A){const P={};return O.forEach(C=>P[C.key]=C.value),I&&(P.subject=P.subject||I("subject"),P.predicate=P.predicate||I("predicate"),P.object=P.object||I("object"),P.graph=P.graph||I("graph")),(A||e).quad(P.subject,P.predicate,P.object,P.graph)}function i(O,I){I(O.subject,"subject"),I(O.predicate,"predicate"),I(O.object,"object"),I(O.graph,"graph")}function o(O,I,A=[]){O.subject.termType==="Quad"?o(O.subject,I,[...A,"subject"]):I(O.subject,[...A,"subject"]),O.predicate.termType==="Quad"?o(O.predicate,I,[...A,"predicate"]):I(O.predicate,[...A,"predicate"]),O.object.termType==="Quad"?o(O.object,I,[...A,"object"]):I(O.object,[...A,"object"]),O.graph.termType==="Quad"?o(O.graph,I,[...A,"graph"]):I(O.graph,[...A,"graph"])}function l(O,I){const A=[];return I(O.subject,"subject")&&A.push(O.subject),I(O.predicate,"predicate")&&A.push(O.predicate),I(O.object,"object")&&A.push(O.object),I(O.graph,"graph")&&A.push(O.graph),A}function s(O,I,A=[]){let P=[];return O.subject.termType==="Quad"?P=[...P,...s(O.subject,I,[...A,"subject"])]:I(O.subject,[...A,"subject"])&&P.push(O.subject),O.predicate.termType==="Quad"?P=[...P,...s(O.predicate,I,[...A,"predicate"])]:I(O.predicate,[...A,"predicate"])&&P.push(O.predicate),O.object.termType==="Quad"?P=[...P,...s(O.object,I,[...A,"object"])]:I(O.object,[...A,"object"])&&P.push(O.object),O.graph.termType==="Quad"?P=[...P,...s(O.graph,I,[...A,"graph"])]:I(O.graph,[...A,"graph"])&&P.push(O.graph),P}function c(O,I){const A=[];return I(O.subject,"subject")&&A.push("subject"),I(O.predicate,"predicate")&&A.push("predicate"),I(O.object,"object")&&A.push("object"),I(O.graph,"graph")&&A.push("graph"),A}function d(O,I,A=[]){let P=[];const C=[...A,"subject"];O.subject.termType==="Quad"?P=[...P,...d(O.subject,I,C)]:I(O.subject,C)&&P.push(C);const B=[...A,"predicate"];O.predicate.termType==="Quad"?P=[...P,...d(O.predicate,I,B)]:I(O.predicate,B)&&P.push(B);const V=[...A,"object"];O.object.termType==="Quad"?P=[...P,...d(O.object,I,V)]:I(O.object,V)&&P.push(V);const U=[...A,"graph"];return O.graph.termType==="Quad"?P=[...P,...d(O.graph,I,U)]:I(O.graph,U)&&P.push(U),P}function f(O,I,A){return(A||e).quad(I(O.subject,"subject"),I(O.predicate,"predicate"),I(O.object,"object"),I(O.graph,"graph"))}function p(O,I,A,P=[]){return(A||e).quad(O.subject.termType==="Quad"?p(O.subject,I,A,[...P,"subject"]):I(O.subject,[...P,"subject"]),O.predicate.termType==="Quad"?p(O.predicate,I,A,[...P,"predicate"]):I(O.predicate,[...P,"predicate"]),O.object.termType==="Quad"?p(O.object,I,A,[...P,"object"]):I(O.object,[...P,"object"]),O.graph.termType==="Quad"?p(O.graph,I,A,[...P,"graph"]):I(O.graph,[...P,"graph"]))}function h(O,I,A){let P=A;return P=I(P,O.subject,"subject"),P=I(P,O.predicate,"predicate"),P=I(P,O.object,"object"),I(P,O.graph,"graph")}function g(O,I,A,P=[]){let C=A;return O.subject.termType==="Quad"?C=g(O.subject,I,C,[...P,"subject"]):C=I(C,O.subject,[...P,"subject"]),O.predicate.termType==="Quad"?C=g(O.predicate,I,C,[...P,"predicate"]):C=I(C,O.predicate,[...P,"predicate"]),O.object.termType==="Quad"?C=g(O.object,I,C,[...P,"object"]):C=I(C,O.object,[...P,"object"]),O.graph.termType==="Quad"?C=g(O.graph,I,C,[...P,"graph"]):C=I(C,O.graph,[...P,"graph"]),C}function _(O,I){return I(O.subject,"subject")&&I(O.predicate,"predicate")&&I(O.object,"object")&&I(O.graph,"graph")}function m(O,I,A=[]){return(O.subject.termType==="Quad"?m(O.subject,I,[...A,"subject"]):I(O.subject,[...A,"subject"]))&&(O.predicate.termType==="Quad"?m(O.predicate,I,[...A,"predicate"]):I(O.predicate,[...A,"predicate"]))&&(O.object.termType==="Quad"?m(O.object,I,[...A,"object"]):I(O.object,[...A,"object"]))&&(O.graph.termType==="Quad"?m(O.graph,I,[...A,"graph"]):I(O.graph,[...A,"graph"]))}function w(O,I){return I(O.subject,"subject")||I(O.predicate,"predicate")||I(O.object,"object")||I(O.graph,"graph")}function T(O,I,A=[]){return(O.subject.termType==="Quad"?T(O.subject,I,[...A,"subject"]):I(O.subject,[...A,"subject"]))||(O.predicate.termType==="Quad"?T(O.predicate,I,[...A,"predicate"]):I(O.predicate,[...A,"predicate"]))||(O.object.termType==="Quad"?T(O.object,I,[...A,"object"]):I(O.object,[...A,"object"]))||(O.graph.termType==="Quad"?T(O.graph,I,[...A,"graph"]):I(O.graph,[...A,"graph"]))}function E(O,I){if(I.length===0)return O;if(O.termType==="Quad")return E(O[I[0]],I.slice(1));throw new Error(`Tried to get ${I[0]} from term of type ${O.termType}`)}function S(O,I){return!I||I.termType==="Variable"||I.termType==="Quad"&&O.termType==="Quad"&&j(O,I)||I.equals(O)}function N(O,I,A,P,C){return S(O.subject,I)&&S(O.predicate,A)&&S(O.object,P)&&S(O.graph,C)}function j(O,I){return N(O,I.subject,I.predicate,I.object,I.graph)}function q(O,I,A={}){const P={};function C(B,V){return _(B,(U,G)=>{var J,ne;const W=V[G];switch(U.termType){case"Variable":return A.skipVarMapping&&W.termType==="Variable"||((ne=(J=P[U.value])===null||J===void 0?void 0:J.equals(W))!==null&&ne!==void 0?ne:(P[U.value]=W,!0));case"Quad":return W.termType==="Quad"&&C(U,W);default:return U.equals(W)}})}return C(I,O)&&(A.returnMappings?P:!0)}return jr}var ji={},ZC={},ro={},Dhe;function V9e(){if(Dhe)return ro;Dhe=1,Object.defineProperty(ro,"__esModule",{value:!0}),ro.termToString=u,ro.getLiteralValue=a,ro.getLiteralType=r,ro.getLiteralLanguage=t,ro.getLiteralDirection=i,ro.stringToTerm=o,ro.quadToStringQuad=l,ro.stringQuadToQuad=s;const n=Wo(),e=new n.DataFactory;function u(c){if(c)switch(c.termType){case"NamedNode":return c.value;case"BlankNode":return"_:"+c.value;case"Literal":const d=c;return'"'+d.value+'"'+(d.datatype&&d.datatype.value!=="http://www.w3.org/2001/XMLSchema#string"&&d.datatype.value!=="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"&&d.datatype.value!=="http://www.w3.org/1999/02/22-rdf-syntax-ns#dirLangString"?"^^"+d.datatype.value:"")+(d.language?"@"+d.language:"")+(d.direction?"--"+d.direction:"");case"Quad":return`<<${u(c.subject)} ${u(c.predicate)} ${u(c.object)}${c.graph.termType==="DefaultGraph"?"":" "+u(c.graph)}>>`;case"Variable":return"?"+c.value;case"DefaultGraph":return c.value}}function a(c){const d=/^"([^]*)"/.exec(c);if(!d)throw new Error(c+" is not a literal");return d[1]}function r(c){const d=/^"[^]*"(?:\^\^([^"]+)|(@)[^@"]+)?$/.exec(c);if(!d)throw new Error(c+" is not a literal");return d[1]||(d[2]?"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString":"http://www.w3.org/2001/XMLSchema#string")}function t(c){const d=/^"[^]*"(?:@([^@"]+)|\^\^[^"]+)?$/.exec(c);if(!d)throw new Error(c+" is not a literal");if(d[1]){let f=d[1].toLowerCase();const p=f.indexOf("--");return p>=0&&(f=f.slice(0,p)),f}return""}function i(c){const d=c.indexOf("--",c.lastIndexOf('"'));if(d>=0){const f=c.slice(d+2,c.length);if(f==="ltr"||f==="rtl")return f;throw new Error(c+" is not a literal with a valid direction")}return""}function o(c,d){if(d=d||e,!c||!c.length)return d.defaultGraph();switch(c[0]){case"_":return d.blankNode(c.substr(2));case"?":if(!d.variable)throw new Error("Missing 'variable()' method on the given DataFactory");return d.variable(c.substr(1));case'"':const f=t(c),p=i(c),h=d.namedNode(r(c));return d.literal(a(c),f?{language:f,direction:p}:h);default:if(c[0]==="<"&&c.length>4&&c[1]==="<"&&c[c.length-1]===">"&&c[c.length-2]===">"){const g=c.slice(2,-2).trim();let _=[],m=0,w=0,T=!1;for(let E=0;E<g.length;E++){const S=g[E];if(S==="<"&&m++,S===">"){if(m===0)throw new Error("Found closing tag without opening tag in "+c);m--}if(S==='"'){let N=!1,j=E;for(;j-- >0&&g[j]==="\\";)N=!N;N||(T=!T)}if(S===" "&&!T&&m===0){for(_.push(g.slice(w,E));g[E+1]===" ";)E+=1;w=E+1}}if(m!==0)throw new Error("Found opening tag without closing tag in "+c);if(_.push(g.slice(w,g.length)),_.length!==3&&_.length!==4)throw new Error("Nested quad syntax error "+c);return _=_.map(E=>E.startsWith("<")&&!E.includes(" ")?E.slice(1,-1):E),d.quad(o(_[0]),o(_[1]),o(_[2]),_[3]?o(_[3]):void 0)}return d.namedNode(c)}}function l(c){return{subject:u(c.subject),predicate:u(c.predicate),object:u(c.object),graph:u(c.graph)}}function s(c,d){return d=d||e,d.quad(o(c.subject,d),o(c.predicate,d),o(c.object,d),o(c.graph,d))}return ro}var Fhe;function oN(){return Fhe||(Fhe=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.termToString=n.stringToTerm=n.stringQuadToQuad=n.quadToStringQuad=n.getLiteralValue=n.getLiteralType=n.getLiteralDirection=n.getLiteralLanguage=void 0;const e=V9e();Object.defineProperty(n,"getLiteralLanguage",{enumerable:!0,get:function(){return e.getLiteralLanguage}}),Object.defineProperty(n,"getLiteralDirection",{enumerable:!0,get:function(){return e.getLiteralDirection}}),Object.defineProperty(n,"getLiteralType",{enumerable:!0,get:function(){return e.getLiteralType}}),Object.defineProperty(n,"getLiteralValue",{enumerable:!0,get:function(){return e.getLiteralValue}}),Object.defineProperty(n,"quadToStringQuad",{enumerable:!0,get:function(){return e.quadToStringQuad}}),Object.defineProperty(n,"stringQuadToQuad",{enumerable:!0,get:function(){return e.stringQuadToQuad}}),Object.defineProperty(n,"stringToTerm",{enumerable:!0,get:function(){return e.stringToTerm}}),Object.defineProperty(n,"termToString",{enumerable:!0,get:function(){return e.termToString}})})(ZC)),ZC}var Phe;function H9e(){if(Phe)return ji;Phe=1,Object.defineProperty(ji,"__esModule",{value:!0}),ji.TERM_TYPES=void 0,ji.uniqTerms=e,ji.getTermsOfType=u,ji.getNamedNodes=a,ji.getBlankNodes=r,ji.getLiterals=t,ji.getVariables=i,ji.getDefaultGraphs=o,ji.getQuads=l;const n=oN();ji.TERM_TYPES=["NamedNode","BlankNode","Literal","Variable","DefaultGraph","Quad"];function e(s){const c={};return s.filter(d=>{const f=(0,n.termToString)(d);return!(f in c)&&(c[f]=!0)})}function u(s,c){return s.filter(d=>d.termType===c)}function a(s){return u(s,"NamedNode")}function r(s){return u(s,"BlankNode")}function t(s){return u(s,"Literal")}function i(s){return u(s,"Variable")}function o(s){return u(s,"DefaultGraph")}function l(s){return u(s,"Quad")}return ji}var jhe;function FP(){return jhe||(jhe=1,(function(n){var e=Yy&&Yy.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=Yy&&Yy.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(Q9e(),n),u(H9e(),n)})(Yy)),Yy}var eR={},Mhe;function iwe(){if(Mhe)return eR;Mhe=1,Object.defineProperty(eR,"__esModule",{value:!0}),eR.TermDictionaryNumberRecordFullTerms=void 0;const n=Wo(),e=oN();class u{constructor(r=new n.DataFactory){this.lastId=0,this.dictionary={},this.reverseDictionary={},this.features={quotedTriples:!1},this.dataFactory=r}encode(r){const t=(0,e.termToString)(r);let i=this.dictionary[t];return i===void 0&&(i=this.lastId++,this.dictionary[t]=i,this.reverseDictionary[i]=r),i}encodeOptional(r){const t=(0,e.termToString)(r);return this.dictionary[t]}decode(r){const t=this.reverseDictionary[r];if(t===void 0)throw new Error(`The value ${r} is not present in this dictionary`);return t}*encodings(){for(const r of Object.keys(this.reverseDictionary))yield Number.parseInt(r,10)}findQuotedTriples(r){throw new Error("findQuotedTriples is not supported")}findQuotedTriplesEncoded(r){throw new Error("findQuotedTriplesEncoded is not supported")}}return eR.TermDictionaryNumberRecordFullTerms=u,eR}var tR={},rR={},e9={},Che;function Yo(){return Che||(Che=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.QUAD_TERM_NAMES_INVERSE=void 0,n.getBestIndex=u,n.getComponentOrderScore=a,n.orderQuadComponents=r,n.encodeOptionalTerms=t,n.quadToPattern=i,n.quadHasVariables=o,n.arePatternsQuoted=l;const e=FP();n.QUAD_TERM_NAMES_INVERSE=Object.fromEntries(e.QUAD_TERM_NAMES.map((s,c)=>[s,c]));function u(s,c){if(s.length===1||c.every(p=>p!==void 0))return 0;const d=[];for(let p=0;p<e.QUAD_TERM_NAMES.length;p++)c[p]&&d.push(e.QUAD_TERM_NAMES[p]);return s.map((p,h)=>({score:a(p,d),index:h})).sort((p,h)=>h.score-p.score)[0].index}function a(s,c){return s.map((d,f)=>c.includes(d)?s.length-f:0).reduce((d,f)=>d+f,0)}function r(s,c){return s.map(d=>{const f=n.QUAD_TERM_NAMES_INVERSE[d];return c[f]})}function t(s,c){const d=s.map(f=>{if(f){if(f.termType==="Quad"&&o(f))return;const p=c.encodeOptional(f);return p===void 0?"none":p}return f});if(!d.includes("none"))return d}function i(s,c,d,f,p){let h=!1;return[[s||void 0,c||void 0,d||void 0,f||void 0].map(_=>{if(_){if(_.termType==="Variable")return;if(_.termType==="Quad"){if(p)return _;h=!0;return}}return _}),h]}function o(s){for(const c of e.QUAD_TERM_NAMES){const d=s[c];if(d.termType==="Variable"||d.termType==="Quad"&&o(d))return!0}return!1}function l(s){return s.map(c=>c?.termType==="Quad"&&o(c))}})(e9)),e9}var Lhe;function rH(){if(Lhe)return rR;Lhe=1,Object.defineProperty(rR,"__esModule",{value:!0}),rR.RdfStoreIndexNestedMap=void 0;const n=Yo();class e{constructor(a){this.features={quotedTripleFiltering:!1},this.dictionary=a.dictionary,this.nestedMap=new Map}set(a,r){const t=this.nestedMap;let i=t.get(a[0]);i||(i=new Map,t.set(a[0],i));let o=i.get(a[1]);o||(o=new Map,i.set(a[1],o));let l=o.get(a[2]);l||(l=new Map,o.set(a[2],l));const s=l.has(a[3]);return s||l.set(a[3],r),!s}remove(a){const r=this.nestedMap,t=r.get(a[0]);if(!t)return!1;const i=t.get(a[1]);if(!i)return!1;const o=i.get(a[2]);if(!o)return!1;const l=o.delete(a[3]);return l&&o.size===0&&(i.delete(a[2]),i.size===0&&(t.delete(a[1]),t.size===0&&r.delete(a[0]))),l}get(a){const r=(0,n.encodeOptionalTerms)(a,this.dictionary);if(!(!r||r.includes(void 0)))return this.getEncoded(r)}getEncoded(a){const r=this.nestedMap.get(a[0]);if(!r)return;const t=r.get(a[1]);if(!t)return;const i=t.get(a[2]);if(i)return i.get(a[3])}*find(a){const r=(0,n.encodeOptionalTerms)(a,this.dictionary);if(!r)return;const[t,i,o,l]=r,[s,c,d,f]=a;let p,h,g,_,m,w,T;const E=this.nestedMap,S=t!==void 0?E.has(t)?[t]:[]:E.keys();for(const N of S){m=E.get(N),p=s||this.dictionary.decode(N);const j=i!==void 0?m.has(i)?[i]:[]:m.keys();for(const q of j){w=m.get(q),h=c||this.dictionary.decode(q);const O=o!==void 0?w.has(o)?[o]:[]:w.keys();for(const I of O){T=w.get(I),g=d||this.dictionary.decode(I);const A=l!==void 0?T.has(l)?[l]:[]:T.keys();for(const P of A)_=f||this.dictionary.decode(P),yield[p,h,g,_]}}}}*findEncoded(a,r){const[t,i,o,l]=a;let s,c,d;const f=this.nestedMap,p=t!==void 0?f.has(t)?[t]:[]:f.keys();for(const h of p){s=f.get(h);const g=i!==void 0?s.has(i)?[i]:[]:s.keys();for(const _ of g){c=s.get(_);const m=o!==void 0?c.has(o)?[o]:[]:c.keys();for(const w of m){d=c.get(w);const T=l!==void 0?d.has(l)?[l]:[]:d.keys();for(const E of T)yield[h,_,w,E]}}}}count(a){let r=0;const t=(0,n.encodeOptionalTerms)(a,this.dictionary);if(!t)return 0;const i=t[0],o=t[1],l=t[2],s=t[3];let c,d,f;const p=this.nestedMap,h=i!==void 0?p.has(i)?[i]:[]:p.keys();for(const g of h){c=p.get(g);const _=o!==void 0?c.has(o)?[o]:[]:c.keys();for(const m of _){d=c.get(m);const w=l!==void 0?d.has(l)?[l]:[]:d.keys();for(const T of w)f=d.get(T),s!==void 0?f.has(s)&&r++:r+=f.size}}return r}}return rR.RdfStoreIndexNestedMap=e,rR}var qhe;function uwe(){if(qhe)return tR;qhe=1,Object.defineProperty(tR,"__esModule",{value:!0}),tR.TermDictionaryQuotedIndexed=void 0;const n=Wo(),e=rH(),u=Yo();class a{constructor(t,i=new n.DataFactory){this.quotedTriplesDictionary=[],this.features={quotedTriples:!0},this.plainTermDictionary=t;const o={indexCombinations:[],indexConstructor:void 0,dictionary:this,dataFactory:i};this.quotedTriplesReverseDictionaries=[new e.RdfStoreIndexNestedMap(o),new e.RdfStoreIndexNestedMap(o),new e.RdfStoreIndexNestedMap(o)],this.dataFactory=i}encode(t){return t.termType==="Quad"?this.encodeQuotedTriple(t,!1):this.plainTermDictionary.encode(t)}encodeQuotedTriple(t,i){if(t.graph.termType!=="DefaultGraph")throw new Error("Encoding of quoted quads outside of the default graph is not allowed");const o=(0,u.encodeOptionalTerms)([t.subject,t.predicate,t.object,t.graph],this),l=o&&o.every(f=>f!==void 0)?this.quotedTriplesReverseDictionaries[0].getEncoded(o):void 0;if(l!==void 0||i)return l===void 0?void 0:a.BITMASK|l;const s=[this.encode(t.subject),this.encode(t.predicate),this.encode(t.object)],c=this.quotedTriplesDictionary.length+1;this.quotedTriplesDictionary.push(s);const d=this.encode(this.dataFactory.defaultGraph());return this.quotedTriplesReverseDictionaries[0].set([s[0],s[1],s[2],d],c),this.quotedTriplesReverseDictionaries[1].set([s[1],s[2],s[0],d],c),this.quotedTriplesReverseDictionaries[2].set([s[2],s[0],s[1],d],c),a.BITMASK|c}encodeOptional(t){return t.termType==="Quad"?this.encodeQuotedTriple(t,!0):this.plainTermDictionary.encodeOptional(t)}decode(t){if(a.BITMASK&t){const i=(~a.BITMASK&t)-1;if(i>=this.quotedTriplesDictionary.length)throw new Error(`The value ${t} is not present in the quoted triples range of the dictionary`);const o=this.quotedTriplesDictionary[i];return this.dataFactory.quad(this.decode(o[0]),this.decode(o[1]),this.decode(o[2]))}return this.plainTermDictionary.decode(t)}*encodings(){for(const t of this.plainTermDictionary.encodings())yield t;for(const t of this.quotedTriplesDictionary.keys())yield a.BITMASK|1+t}*findQuotedTriples(t){for(const i of this.findQuotedTriplesEncoded(t))yield this.decode(i)}*findQuotedTriplesEncoded(t){const[i,o]=(0,u.quadToPattern)(t.subject,t.predicate,t.object,t.graph,!0);for(const l of this.patternToIterable(i[0]))for(const s of this.patternToIterable(i[1]))for(const c of this.patternToIterable(i[2]))for(const d of this.patternToIterable(i[3]))if(l&&s||!s&&!c){const f=[l,s,c,d];for(const p of this.quotedTriplesReverseDictionaries[0].findEncoded(f,i))yield a.BITMASK|this.quotedTriplesReverseDictionaries[0].getEncoded(p)}else if(!l&&s){const f=[s,c,l,d];for(const p of this.quotedTriplesReverseDictionaries[1].findEncoded(f,i))yield a.BITMASK|this.quotedTriplesReverseDictionaries[1].getEncoded(p)}else{const f=[c,l,s,d];for(const p of this.quotedTriplesReverseDictionaries[2].findEncoded(f,i))yield a.BITMASK|this.quotedTriplesReverseDictionaries[2].getEncoded(p)}}*patternToIterable(t){if(t?.termType==="Quad"){yield*this.findQuotedTriplesEncoded(t);return}if(t===void 0){yield void 0;return}const i=this.encodeOptional(t);i!==void 0&&(yield i)}}return tR.TermDictionaryQuotedIndexed=a,a.BITMASK=1<<31,tR}var nR={},Bhe;function owe(){if(Bhe)return nR;Bhe=1,Object.defineProperty(nR,"__esModule",{value:!0}),nR.RdfStoreIndexNestedMapQuoted=void 0;const n=Yo(),e=rH();class u extends e.RdfStoreIndexNestedMap{constructor(r){super(r),this.features={quotedTripleFiltering:!0}}*getQuotedPatternKeys(r,t){for(const i of this.dictionary.findQuotedTriplesEncoded(t))r.has(i)&&(yield i)}*find(r){const t=(0,n.encodeOptionalTerms)(r,this.dictionary);if(!t)return;const[i,o,l,s]=t,[c,d,f,p]=r,[h,g,_,m]=(0,n.arePatternsQuoted)(r);let w,T,E,S,N,j,q;const O=this.nestedMap,I=c!==void 0?h?this.getQuotedPatternKeys(O,c):O.has(i)?[i]:[]:O.keys();for(const A of I){N=O.get(A),w=!h&&c?c:this.dictionary.decode(A);const P=d!==void 0?g?this.getQuotedPatternKeys(N,d):N.has(o)?[o]:[]:N.keys();for(const C of P){j=N.get(C),T=!g&&d?d:this.dictionary.decode(C);const B=f!==void 0?_?this.getQuotedPatternKeys(j,f):j.has(l)?[l]:[]:j.keys();for(const V of B){q=j.get(V),E=!_&&f?f:this.dictionary.decode(V);const U=p!==void 0?m?this.getQuotedPatternKeys(q,p):q.has(s)?[s]:[]:q.keys();for(const G of U)S=!m&&p?p:this.dictionary.decode(G),yield[w,T,E,S]}}}}*findEncoded(r,t){const[i,o,l,s]=r,[c,d,f,p]=t,[h,g,_,m]=(0,n.arePatternsQuoted)(t);let w,T,E;const S=this.nestedMap,N=c!==void 0?h?this.getQuotedPatternKeys(S,c):S.has(i)?[i]:[]:S.keys();for(const j of N){w=S.get(j);const q=d!==void 0?g?this.getQuotedPatternKeys(w,d):w.has(o)?[o]:[]:w.keys();for(const O of q){T=w.get(O);const I=f!==void 0?_?this.getQuotedPatternKeys(T,f):T.has(l)?[l]:[]:T.keys();for(const A of I){E=T.get(A);const P=p!==void 0?m?this.getQuotedPatternKeys(E,p):E.has(s)?[s]:[]:E.keys();for(const C of P)yield[Number.parseInt(j,10),Number.parseInt(O,10),Number.parseInt(A,10),Number.parseInt(C,10)]}}}}count(r){let t=0;const i=(0,n.encodeOptionalTerms)(r,this.dictionary);if(!i)return 0;const[o,l,s,c]=i,[d,f,p,h]=r,[g,_,m,w]=(0,n.arePatternsQuoted)(r);let T,E,S;const N=this.nestedMap,j=d!==void 0?g?this.getQuotedPatternKeys(N,d):N.has(o)?[o]:[]:N.keys();for(const q of j){T=N.get(q);const O=f!==void 0?_?this.getQuotedPatternKeys(T,f):T.has(l)?[l]:[]:T.keys();for(const I of O){E=T.get(I);const A=p!==void 0?m?this.getQuotedPatternKeys(E,p):E.has(s)?[s]:[]:E.keys();for(const P of A)S=E.get(P),h!==void 0?w?t+=[...this.getQuotedPatternKeys(S,h)].length:S.has(c)&&t++:t+=S.size}}return t}}return nR.RdfStoreIndexNestedMapQuoted=u,nR}var Uhe;function swe(){if(Uhe)return Gx;Uhe=1,Object.defineProperty(Gx,"__esModule",{value:!0}),Gx.RdfStore=void 0;const n=Gt(),e=Wo(),u=FP(),a=cwe(),r=iwe(),t=uwe(),i=owe(),o=Yo();class l{constructor(c){this.features={quotedTripleFiltering:!0},this._size=0,this.options=c,this.dataFactory=c.dataFactory,this.dictionary=c.dictionary,this.indexesWrapped=l.constructIndexesWrapped(c),this.indexesWrappedComponentOrders=this.indexesWrapped.map(d=>d.componentOrder)}static createDefault(){return new l({indexCombinations:l.DEFAULT_INDEX_COMBINATIONS,indexConstructor:c=>new i.RdfStoreIndexNestedMapQuoted(c),dictionary:new t.TermDictionaryQuotedIndexed(new r.TermDictionaryNumberRecordFullTerms),dataFactory:new e.DataFactory})}static constructIndexesWrapped(c){const d=[];if(c.indexCombinations.length===0)throw new Error("At least one index combination is required");for(const f of c.indexCombinations){if(!l.isCombinationValid(f))throw new Error(`Invalid index combination: ${f}`);d.push({index:c.indexConstructor(c),componentOrder:f,componentOrderInverse:Object.fromEntries(f.map((p,h)=>[p,h]))})}return d}static isCombinationValid(c){for(const d of u.QUAD_TERM_NAMES)if(!c.includes(d))return!1;return c.length===4}get size(){return this._size}addQuad(c){const d=[this.dictionary.encode(c.subject),this.dictionary.encode(c.predicate),this.dictionary.encode(c.object),this.dictionary.encode(c.graph)];let f=!1;for(const p of this.indexesWrapped)f=p.index.set((0,o.orderQuadComponents)(p.componentOrder,d),!0);return f?(this._size++,!0):!1}removeQuad(c){const d=[this.dictionary.encodeOptional(c.subject),this.dictionary.encodeOptional(c.predicate),this.dictionary.encodeOptional(c.object),this.dictionary.encodeOptional(c.graph)];if(d.includes(void 0))return!1;let f=!1;for(const p of this.indexesWrapped)if(f=p.index.remove((0,o.orderQuadComponents)(p.componentOrder,d)),!f)break;return f?(this._size--,!0):!1}remove(c){return c.on("data",d=>this.removeQuad(d)),c}removeMatches(c,d,f,p){return this.remove(this.match(c,d,f,p))}deleteGraph(c){return typeof c=="string"&&(c=this.dataFactory.namedNode(c)),this.removeMatches(void 0,void 0,void 0,c)}import(c){return c.on("data",d=>this.addQuad(d)),c}*readQuads(c,d,f,p){const h=!!this.dictionary.features.quotedTriples&&Object.values(this.indexesWrapped).every(T=>T.index.features.quotedTripleFiltering),[g,_]=(0,o.quadToPattern)(c,d,f,p,h),m=this.indexesWrapped[(0,o.getBestIndex)(this.indexesWrappedComponentOrders,g)],w=(0,o.orderQuadComponents)(m.componentOrder,g);for(const T of m.index.find(w)){const E=this.dataFactory.quad(T[m.componentOrderInverse.subject],T[m.componentOrderInverse.predicate],T[m.componentOrderInverse.object],T[m.componentOrderInverse.graph]);_?(0,u.matchPattern)(E,c,d,f,p)&&(yield E):yield E}}getQuads(c,d,f,p){return[...this.readQuads(c,d,f,p)]}match(c,d,f,p){return(0,n.wrap)(this.readQuads(c,d,f,p))}*readBindings(c,d,f,p,h){const g=!!this.dictionary.features.quotedTriples&&Object.values(this.indexesWrapped).every(O=>O.index.features.quotedTripleFiltering),[_,m]=(0,o.quadToPattern)(d,f,p,h,g),w=this.indexesWrapped[(0,o.getBestIndex)(this.indexesWrappedComponentOrders,_)],T=(0,o.orderQuadComponents)(w.componentOrder,_),E=(0,o.encodeOptionalTerms)(T,this.dictionary);if(!E)return;const S=(0,o.orderQuadComponents)(w.componentOrder,[d,f,p,h]),N=[];for(let O=0;O<S.length;O++)(S[O].termType==="Variable"||S[O].termType==="Quad")&&N.push(O);let j=!1;const q=S.map((O,I)=>{const A=[];for(let P=I+1;P<S.length;P++)O.equals(S[P])&&(A.push(P),j=!0);return A});for(const O of w.index.findEncoded(E,T)){let I=!1,A=!1;const P=[];for(const C of N){if(j){const V=q[C];if(V){for(const U of V)if(O[C]!==O[U]){I=!0;break}}if(I)break}const B=this.dictionary.decode(O[C]);if(S[C].termType==="Quad"){if(B.termType==="Quad"){const V=(0,u.matchPatternMappings)(B,S[C],{returnMappings:!0});if(V){A=!0;for(const[U,G]of Object.entries(V)){const J=this.dataFactory.variable(U);if(P.some(ne=>ne[0].equals(J)&&!ne[1].equals(G))){I=!0;break}P.push([J,G])}continue}}I=!0;break}if(A&&P.some(V=>V[0].equals(S[C])&&!V[1].equals(B))){I=!0;break}P.push([S[C],B])}I||(yield c.bindings(P))}}getBindings(c,d,f,p,h){return[...this.readBindings(c,d,f,p,h)]}matchBindings(c,d,f,p,h){return(0,n.wrap)(this.readBindings(c,d,f,p,h))}countQuads(c,d,f,p){const h=!!this.dictionary.features.quotedTriples&&Object.values(this.indexesWrapped).every(w=>w.index.features.quotedTripleFiltering),[g]=(0,o.quadToPattern)(c,d,f,p,h);if(g.every(w=>w===void 0))return this.size;const _=this.indexesWrapped[(0,o.getBestIndex)(this.indexesWrappedComponentOrders,g)],m=(0,o.orderQuadComponents)(_.componentOrder,g);return _.index.count(m)}asDataset(){return new a.DatasetCoreWrapper(this)}}return Gx.RdfStore=l,l.DEFAULT_INDEX_COMBINATIONS=[["graph","subject","predicate","object"],["graph","predicate","object","subject"],["graph","object","subject","predicate"]],Gx}var Qhe;function cwe(){if(Qhe)return zx;Qhe=1,Object.defineProperty(zx,"__esModule",{value:!0}),zx.DatasetCoreWrapper=void 0;const n=swe();class e{constructor(a){this.store=a}get size(){return this.store.size}add(a){return this.store.addQuad(a),this}delete(a){return this.store.removeQuad(a),this}has(a){for(const r of this.store.readQuads(a.subject,a.predicate,a.object,a.graph))return!0;return!1}match(a,r,t,i){const o=new n.RdfStore(this.store.options);for(const l of this.store.readQuads(a,r,t,i))o.addQuad(l);return new e(o)}[Symbol.iterator](){return this.store.readQuads()}}return zx.DatasetCoreWrapper=e,zx}var t9={},Vhe;function k9e(){return Vhe||(Vhe=1,Object.defineProperty(t9,"__esModule",{value:!0})),t9}var aR={},Hhe;function z9e(){if(Hhe)return aR;Hhe=1,Object.defineProperty(aR,"__esModule",{value:!0}),aR.TermDictionaryNumberMap=void 0;const n=Wo(),e=oN();class u{constructor(r=new n.DataFactory){this.lastId=0,this.dictionary=new Map,this.reverseDictionary=new Map,this.features={quotedTriples:!1},this.dataFactory=r}encode(r){const t=(0,e.termToString)(r);let i=this.dictionary.get(t);return i===void 0&&(i=this.lastId++,this.dictionary.set(t,i),this.reverseDictionary.set(i,t)),i}encodeOptional(r){const t=(0,e.termToString)(r);return this.dictionary.get(t)}decode(r){const t=this.reverseDictionary.get(r);if(t===void 0)throw new Error(`The value ${r} is not present in this dictionary`);return(0,e.stringToTerm)(t,this.dataFactory)}encodings(){return this.reverseDictionary.keys()}findQuotedTriples(r){throw new Error("findQuotedTriples is not supported")}findQuotedTriplesEncoded(r){throw new Error("findQuotedTriplesEncoded is not supported")}}return aR.TermDictionaryNumberMap=u,aR}var iR={},khe;function G9e(){if(khe)return iR;khe=1,Object.defineProperty(iR,"__esModule",{value:!0}),iR.TermDictionaryNumberRecord=void 0;const n=Wo(),e=oN();class u{constructor(r=new n.DataFactory){this.lastId=0,this.dictionary={},this.reverseDictionary={},this.features={quotedTriples:!1},this.dataFactory=r}encode(r){const t=(0,e.termToString)(r);let i=this.dictionary[t];return i===void 0&&(i=this.lastId++,this.dictionary[t]=i,this.reverseDictionary[i]=t),i}encodeOptional(r){const t=(0,e.termToString)(r);return this.dictionary[t]}decode(r){const t=this.reverseDictionary[r];if(t===void 0)throw new Error(`The value ${r} is not present in this dictionary`);return(0,e.stringToTerm)(t,this.dataFactory)}*encodings(){for(const r of Object.keys(this.reverseDictionary))yield Number.parseInt(r,10)}findQuotedTriples(r){throw new Error("findQuotedTriples is not supported")}findQuotedTriplesEncoded(r){throw new Error("findQuotedTriplesEncoded is not supported")}}return iR.TermDictionaryNumberRecord=u,iR}var uR={},zhe;function $9e(){if(zhe)return uR;zhe=1,Object.defineProperty(uR,"__esModule",{value:!0}),uR.TermDictionaryQuoted=void 0;const n=Wo(),e=FP();class u{constructor(r,t,i=new n.DataFactory){this.features={quotedTriples:!0},this.plainTermDictionary=r,this.quotedTriplesDictionary=t,this.dataFactory=i}encode(r){return r.termType==="Quad"?u.BITMASK|1+this.quotedTriplesDictionary.encode(r):this.plainTermDictionary.encode(r)}encodeOptional(r){if(r.termType==="Quad"){const t=this.quotedTriplesDictionary.encodeOptional(r);return t===void 0?t:u.BITMASK|1+t}return this.plainTermDictionary.encodeOptional(r)}decode(r){if(u.BITMASK&r){const t=(~u.BITMASK&r)-1;return this.quotedTriplesDictionary.decode(t)}return this.plainTermDictionary.decode(r)}*encodings(){for(const r of this.plainTermDictionary.encodings())yield r;for(const r of this.quotedTriplesDictionary.encodings())yield u.BITMASK|1+r}*findQuotedTriples(r){for(const t of this.findQuotedTriplesEncoded(r))yield this.decode(t)}*findQuotedTriplesEncoded(r){for(let t of this.quotedTriplesDictionary.encodings()){t=u.BITMASK|1+t;const i=this.decode(t);(0,e.matchPattern)(i,r.subject,r.predicate,r.object,r.graph)&&(yield t)}}}return uR.TermDictionaryQuoted=u,u.BITMASK=1<<31,uR}var oR={},Ghe;function X9e(){if(Ghe)return oR;Ghe=1,Object.defineProperty(oR,"__esModule",{value:!0}),oR.TermDictionaryQuotedReferential=void 0;const n=Wo(),e=FP(),u=Yo();class a{constructor(t,i=new n.DataFactory){this.quotedTriplesDictionary=[],this.quotedTriplesReverseDictionary={},this.features={quotedTriples:!0},this.plainTermDictionary=t,this.dataFactory=i}encode(t){return t.termType==="Quad"?this.encodeQuotedTriple(t,!1):this.plainTermDictionary.encode(t)}encodeQuotedTriple(t,i){if(t.graph.termType!=="DefaultGraph")throw new Error("Encoding of quoted quads outside of the default graph is not allowed");const o=(0,u.encodeOptionalTerms)([t.subject,t.predicate,t.object,void 0],this)?.slice(0,3),l=o&&o.every(d=>d!==void 0)?this.quotedTriplesReverseDictionary[o.join(a.SEPARATOR)]:void 0;if(l!==void 0||i)return l===void 0?void 0:a.BITMASK|l;const s=[this.encode(t.subject),this.encode(t.predicate),this.encode(t.object)],c=this.quotedTriplesDictionary.length+1;return this.quotedTriplesDictionary.push(s),this.quotedTriplesReverseDictionary[s.join(a.SEPARATOR)]=c,a.BITMASK|c}encodeOptional(t){return t.termType==="Quad"?this.encodeQuotedTriple(t,!0):this.plainTermDictionary.encodeOptional(t)}decode(t){if(a.BITMASK&t){const i=(~a.BITMASK&t)-1;if(i>=this.quotedTriplesDictionary.length)throw new Error(`The value ${t} is not present in the quoted triples range of the dictionary`);const o=this.quotedTriplesDictionary[i];return this.dataFactory.quad(this.decode(o[0]),this.decode(o[1]),this.decode(o[2]))}return this.plainTermDictionary.decode(t)}*encodings(){for(const t of this.plainTermDictionary.encodings())yield t;for(const t of this.quotedTriplesDictionary.keys())yield a.BITMASK|1+t}*findQuotedTriples(t){for(const i of this.findQuotedTriplesEncoded(t))yield this.decode(i)}*findQuotedTriplesEncoded(t){for(let i of this.quotedTriplesDictionary.keys()){i=a.BITMASK|1+i;const o=this.decode(i);(0,e.matchPattern)(o,t.subject,t.predicate,t.object,t.graph)&&(yield i)}}}return oR.TermDictionaryQuotedReferential=a,a.BITMASK=1<<31,a.SEPARATOR="_",oR}var sR={},$he;function K9e(){if($he)return sR;$he=1,Object.defineProperty(sR,"__esModule",{value:!0}),sR.TermDictionarySymbol=void 0;const n=Wo(),e=oN();class u{constructor(r=new n.DataFactory){this.features={quotedTriples:!1},this.dataFactory=r}encode(r){return Symbol.for(`rdf::${(0,e.termToString)(r)}`)}encodeOptional(r){return this.encode(r)}decode(r){const t=Symbol.keyFor(r);if(t===void 0)throw new Error(`The value ${String(r)} is not present in this dictionary`);return(0,e.stringToTerm)(t.slice(5),this.dataFactory)}encodings(){throw new Error("encodings is not supported")}findQuotedTriples(r){throw new Error("findQuotedTriples is not supported")}findQuotedTriplesEncoded(r){throw new Error("findQuotedTriplesEncoded is not supported")}}return sR.TermDictionarySymbol=u,sR}var r9={},Xhe;function J9e(){return Xhe||(Xhe=1,Object.defineProperty(r9,"__esModule",{value:!0})),r9}var cR={},Khe;function lwe(){if(Khe)return cR;Khe=1,Object.defineProperty(cR,"__esModule",{value:!0}),cR.RdfStoreIndexNestedMapRecursive=void 0;const n=Yo();class e{constructor(a){this.features={quotedTripleFiltering:!1},this.dictionary=a.dictionary,this.nestedMap=new Map}set(a,r){let t=this.nestedMap,i=!1;for(const[o,l]of a.entries()){const s=t;let c=s.get(l);c?o===a.length-1&&(i=!0):(c=o===a.length-1?r:new Map,s.set(l,c)),t=c}return!i}remove(a){const r=this.nestedMap,t=r.get(a[0]);if(!t)return!1;const i=t.get(a[1]);if(!i)return!1;const o=i.get(a[2]);if(!o)return!1;const l=o.delete(a[3]);return l&&o.size===0&&(i.delete(a[2]),i.size===0&&(t.delete(a[1]),t.size===0&&r.delete(a[0]))),l}get(a){const r=(0,n.encodeOptionalTerms)(a,this.dictionary);if(!(!r||r.includes(void 0)))return this.getEncoded(r)}getEncoded(a){const r=this.nestedMap.get(a[0]);if(!r)return;const t=r.get(a[1]);if(!t)return;const i=t.get(a[2]);if(i)return i.get(a[3])}*find(a){const r=(0,n.encodeOptionalTerms)(a,this.dictionary);if(r)for(const t of this.findEncoded(r,a))yield[r[0]!==void 0?a[0]:this.dictionary.decode(t[0]),r[1]!==void 0?a[1]:this.dictionary.decode(t[1]),r[2]!==void 0?a[2]:this.dictionary.decode(t[2]),r[3]!==void 0?a[3]:this.dictionary.decode(t[3])]}*findEncoded(a,r){return yield*this.findEncodedInner(0,a,r,this.nestedMap,[])}*findEncodedInner(a,r,t,i,o){if(a===r.length)yield[...o];else{const l=r[a];if(t[a]){const c=l;if(c!==void 0){const d=i.get(c);d&&(o[a]=l,yield*this.findEncodedInner(a+1,r,t,d,o))}}else for(const[c,d]of i.entries())o[a]=c,yield*this.findEncodedInner(a+1,r,t,d,o)}}count(a){return this.countInner(0,a,this.nestedMap)}countInner(a,r,t){const i=r[a];let o=0;if(i){const l=this.dictionary.encodeOptional(i);if(l!==void 0){if(a===r.length-1)return t.has(l)?1:0;const s=t.get(l);s&&(o+=this.countInner(a+1,r,s))}}else{if(a===r.length-1)return t.size;for(const l of t.values())o+=this.countInner(a+1,r,l)}return o}}return cR.RdfStoreIndexNestedMapRecursive=e,cR}var lR={},Jhe;function W9e(){if(Jhe)return lR;Jhe=1,Object.defineProperty(lR,"__esModule",{value:!0}),lR.RdfStoreIndexNestedMapRecursiveQuoted=void 0;const n=Yo(),e=lwe();class u extends e.RdfStoreIndexNestedMapRecursive{constructor(r){super(r),this.features={quotedTripleFiltering:!0}}*findEncoded(r,t){return yield*this.findEncodedInnerQuoted(0,r,t,(0,n.arePatternsQuoted)(t),this.nestedMap,[])}*findEncodedInnerQuoted(r,t,i,o,l,s){if(r===t.length)yield[...s];else{const c=t[r],d=i[r];if(d)if(o[r]){const f=this.dictionary.findQuotedTriplesEncoded(d);for(const p of f){const h=l.get(p);h&&(s[r]=p,yield*this.findEncodedInnerQuoted(r+1,t,i,o,h,s))}}else{const f=c;if(f!==void 0){const p=l.get(f);p&&(s[r]=c,yield*this.findEncodedInnerQuoted(r+1,t,i,o,p,s))}}else for(const[f,p]of l.entries())s[r]=f,yield*this.findEncodedInnerQuoted(r+1,t,i,o,p,s)}}countInner(r,t,i){const o=t[r];let l=0;if(o)if(o.termType==="Quad"&&(0,n.quadHasVariables)(o)){const s=this.dictionary.findQuotedTriplesEncoded(o);for(const c of s)if(r===t.length-1)i.has(c)&&l++;else{const d=i.get(c);d&&(l+=this.countInner(r+1,t,d))}}else{const s=this.dictionary.encodeOptional(o);if(s!==void 0){if(r===t.length-1)return i.has(s)?1:0;const c=i.get(s);c&&(l+=this.countInner(r+1,t,c))}}else{if(r===t.length-1)return i.size;for(const s of i.values())l+=this.countInner(r+1,t,s)}return l}}return lR.RdfStoreIndexNestedMapRecursiveQuoted=u,lR}var dR={},Whe;function dwe(){if(Whe)return dR;Whe=1,Object.defineProperty(dR,"__esModule",{value:!0}),dR.RdfStoreIndexNestedRecord=void 0;const n=Yo();class e{constructor(a){this.features={quotedTripleFiltering:!1},this.dictionary=a.dictionary,this.nestedRecords={}}set(a,r){const t=this.nestedRecords,i=t[a[0]]||(t[a[0]]={}),o=i[a[1]]||(i[a[1]]={}),l=o[a[2]]||(o[a[2]]={});return l[a[3]]?!1:(l[a[3]]=r,!0)}remove(a){const r=this.nestedRecords,t=r[a[0]];if(!t)return!1;const i=t[a[1]];if(!i)return!1;const o=i[a[2]];return!o||!o[a[3]]?!1:(delete o[a[3]],Object.keys(o).length===0&&(delete i[a[2]],Object.keys(i).length===0&&(delete t[a[1]],Object.keys(t).length===0&&delete r[a[0]])),!0)}get(a){const r=(0,n.encodeOptionalTerms)(a,this.dictionary);if(!(!r||r.includes(void 0)))return this.getEncoded(r)}getEncoded(a){return this.nestedRecords[a[0]]?.[a[1]]?.[a[2]]?.[a[3]]}*find(a){const r=(0,n.encodeOptionalTerms)(a,this.dictionary);if(!r)return;const[t,i,o,l]=r,[s,c,d,f]=a;let p,h,g,_,m,w,T;const E=this.nestedRecords,S=t!==void 0?t in E?[t]:[]:Object.keys(E);for(const N of S){m=E[N],p=s||this.dictionary.decode(Number.parseInt(N,10));const j=i!==void 0?i in m?[i]:[]:Object.keys(m);for(const q of j){w=m[q],h=c||this.dictionary.decode(Number.parseInt(q,10));const O=o!==void 0?o in w?[o]:[]:Object.keys(w);for(const I of O){T=w[I],g=d||this.dictionary.decode(Number.parseInt(I,10));const A=l!==void 0?l in T?[l]:[]:Object.keys(T);for(const P of A)_=f||this.dictionary.decode(Number.parseInt(P,10)),yield[p,h,g,_]}}}}*findEncoded(a,r){const[t,i,o,l]=a;let s,c,d;const f=this.nestedRecords,p=t!==void 0?t in f?[t]:[]:Object.keys(f);for(const h of p){s=f[h];const g=i!==void 0?i in s?[i]:[]:Object.keys(s);for(const _ of g){c=s[_];const m=o!==void 0?o in c?[o]:[]:Object.keys(c);for(const w of m){d=c[w];const T=l!==void 0?l in d?[l]:[]:Object.keys(d);for(const E of T)yield[Number.parseInt(h,10),Number.parseInt(_,10),Number.parseInt(w,10),Number.parseInt(E,10)]}}}}count(a){let r=0;const t=(0,n.encodeOptionalTerms)(a,this.dictionary);if(!t)return 0;const i=t[0],o=t[1],l=t[2],s=t[3];let c,d,f;const p=this.nestedRecords,h=i!==void 0?i in p?[i]:[]:Object.keys(p);for(const g of h){c=p[g];const _=o!==void 0?o in c?[o]:[]:Object.keys(c);for(const m of _){d=c[m];const w=l!==void 0?l in d?[l]:[]:Object.keys(d);for(const T of w)f=d[T],s!==void 0?s in f&&r++:r+=Object.keys(f).length}}return r}}return dR.RdfStoreIndexNestedRecord=e,dR}var fR={},Yhe;function Y9e(){if(Yhe)return fR;Yhe=1,Object.defineProperty(fR,"__esModule",{value:!0}),fR.RdfStoreIndexNestedRecordQuoted=void 0;const n=Yo(),e=dwe();class u extends e.RdfStoreIndexNestedRecord{constructor(r){super(r),this.features={quotedTripleFiltering:!0}}*getQuotedPatternKeys(r,t){for(const i of this.dictionary.findQuotedTriplesEncoded(t))i in r&&(yield i)}*find(r){const t=(0,n.encodeOptionalTerms)(r,this.dictionary);if(!t)return;const[i,o,l,s]=t,[c,d,f,p]=r,[h,g,_,m]=(0,n.arePatternsQuoted)(r);let w,T,E,S,N,j,q;const O=this.nestedRecords,I=c!==void 0?h?this.getQuotedPatternKeys(O,c):i in O?[i]:[]:Object.keys(O);for(const A of I){N=O[A],w=!h&&c?c:this.dictionary.decode(Number.parseInt(A,10));const P=d!==void 0?g?this.getQuotedPatternKeys(N,d):o in N?[o]:[]:Object.keys(N);for(const C of P){j=N[C],T=!g&&d?d:this.dictionary.decode(Number.parseInt(C,10));const B=f!==void 0?_?this.getQuotedPatternKeys(j,f):l in j?[l]:[]:Object.keys(j);for(const V of B){q=j[V],E=!_&&f?f:this.dictionary.decode(Number.parseInt(V,10));const U=p!==void 0?m?this.getQuotedPatternKeys(q,p):s in q?[s]:[]:Object.keys(q);for(const G of U)S=!m&&p?p:this.dictionary.decode(Number.parseInt(G,10)),yield[w,T,E,S]}}}}*findEncoded(r,t){const[i,o,l,s]=r,[c,d,f,p]=t,[h,g,_,m]=(0,n.arePatternsQuoted)(t);let w,T,E;const S=this.nestedRecords,N=c!==void 0?h?this.getQuotedPatternKeys(S,c):i in S?[i]:[]:Object.keys(S);for(const j of N){w=S[j];const q=d!==void 0?g?this.getQuotedPatternKeys(w,d):o in w?[o]:[]:Object.keys(w);for(const O of q){T=w[O];const I=f!==void 0?_?this.getQuotedPatternKeys(T,f):l in T?[l]:[]:Object.keys(T);for(const A of I){E=T[A];const P=p!==void 0?m?this.getQuotedPatternKeys(E,p):s in E?[s]:[]:Object.keys(E);for(const C of P)yield[Number.parseInt(j,10),Number.parseInt(O,10),Number.parseInt(A,10),Number.parseInt(C,10)]}}}}count(r){let t=0;const i=(0,n.encodeOptionalTerms)(r,this.dictionary);if(!i)return 0;const[o,l,s,c]=i,[d,f,p,h]=r,[g,_,m,w]=(0,n.arePatternsQuoted)(r);let T,E,S;const N=this.nestedRecords,j=d!==void 0?g?this.getQuotedPatternKeys(N,d):o in N?[o]:[]:Object.keys(N);for(const q of j){T=N[q];const O=f!==void 0?_?this.getQuotedPatternKeys(T,f):l in T?[l]:[]:Object.keys(T);for(const I of O){E=T[I];const A=p!==void 0?m?this.getQuotedPatternKeys(E,p):s in E?[s]:[]:Object.keys(E);for(const P of A)S=E[P],h!==void 0?w?t+=[...this.getQuotedPatternKeys(S,h)].length:c in S&&t++:t+=Object.keys(S).length}}return t}}return fR.RdfStoreIndexNestedRecordQuoted=u,fR}var n9={},Zhe;function Z9e(){return Zhe||(Zhe=1,Object.defineProperty(n9,"__esModule",{value:!0})),n9}var a9={},eye;function eLe(){return eye||(eye=1,Object.defineProperty(a9,"__esModule",{value:!0})),a9}var tye;function tLe(){return tye||(tye=1,(function(n){var e=Jy&&Jy.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=Jy&&Jy.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(cwe(),n),u(k9e(),n),u(z9e(),n),u(G9e(),n),u(iwe(),n),u($9e(),n),u(uwe(),n),u(X9e(),n),u(K9e(),n),u(J9e(),n),u(rH(),n),u(owe(),n),u(lwe(),n),u(W9e(),n),u(dwe(),n),u(Y9e(),n),u(Z9e(),n),u(Yo(),n),u(eLe(),n),u(swe(),n)})(Jy)),Jy}var rye;function rLe(){if(rye)return PD;rye=1,Object.defineProperty(PD,"__esModule",{value:!0}),PD.storeStream=e;const n=tLe();function e(u){const a=n.RdfStore.createDefault();return new Promise((r,t)=>a.import(u).on("error",t).once("end",()=>r(a)))}return PD}var nye;function nLe(){if(nye)return Vx;nye=1,Object.defineProperty(Vx,"__esModule",{value:!0}),Vx.ActorQuerySourceIdentifyHypermediaNone=void 0;const n=uN(),e=YV(),u=lt(),a=De(),r=pn(),t=rLe();let i=class extends e.ActorQuerySourceIdentifyHypermedia{constructor(l){super(l,"file")}async testMetadata(l){return(0,a.passTest)({filterFactor:0})}async run(l){this.logInfo(l.context,`Identified as file source: ${l.url}`);const s=l.context.getSafe(u.KeysInitQuery.dataFactory),c=new n.QuerySourceRdfJs(await(0,t.storeStream)(l.quads),s,await r.BindingsFactory.create(this.mediatorMergeBindingsContext,l.context,s));return c.toString=()=>`QuerySourceRdfJs(${l.url})`,c.referenceValue=l.url,{source:c}}};return Vx.ActorQuerySourceIdentifyHypermediaNone=i,Vx}var aye;function nH(){return aye||(aye=1,(function(n){var e=Xy&&Xy.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=Xy&&Xy.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(nLe(),n)})(Xy)),Xy}var Zy={},pR={},em={},hR={},iye;function aLe(){if(iye)return hR;iye=1,Object.defineProperty(hR,"__esModule",{value:!0}),hR.ActorExpressionEvaluatorFactory=void 0;const n=De();let e=class extends n.Actor{constructor(a){super(a),this.mediatorQueryOperation=a.mediatorQueryOperation,this.mediatorFunctionFactory=a.mediatorFunctionFactory,this.mediatorMergeBindingsContext=a.mediatorMergeBindingsContext}};return hR.ActorExpressionEvaluatorFactory=e,hR}var uye;function iLe(){return uye||(uye=1,(function(n){var e=em&&em.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=em&&em.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(aLe(),n)})(em)),em}var yR={},oye;function fwe(){if(oye)return yR;oye=1,Object.defineProperty(yR,"__esModule",{value:!0}),yR.AlgebraTransformer=void 0;const n=lt(),e=Xe(),u=Qt();let a=class cF extends e.TermTransformer{constructor(t,i){super(t.getSafe(n.KeysExpressionEvaluator.superTypeProvider)),this.context=t,this.mediatorFunctionFactory=i}async transformAlgebra(t){const i=u.Algebra.expressionTypes;switch(t.expressionType){case i.TERM:return this.transformTerm(t);case i.OPERATOR:return await this.transformOperator(t);case i.NAMED:return await this.transformNamed(t);case i.EXISTENCE:return cF.transformExistence(t);case i.AGGREGATE:return cF.transformAggregate(t);case i.WILDCARD:return cF.transformWildcard(t)}}static transformWildcard(t){return new e.NamedNode(t.wildcard.value)}async getOperator(t,i){const o=await this.mediatorFunctionFactory.mediate({functionName:t,arguments:i.args,context:this.context}),l=await Promise.all(i.args.map(s=>this.transformAlgebra(s)));if(!o.checkArity(l))throw new e.InvalidArity(l,t);return new e.Operator(t,l,o.apply)}async transformOperator(t){return this.getOperator(t.operator.toLowerCase(),t)}async transformNamed(t){return this.getOperator(t.name.value,t)}static transformAggregate(t){const i=t.aggregator;return new e.Aggregate(i,t)}static transformExistence(t){return new e.Existence(t)}};return yR.AlgebraTransformer=a,yR}var mR={},bR={},sye;function pwe(){if(sye)return bR;sye=1,Object.defineProperty(bR,"__esModule",{value:!0}),bR.InternalEvaluator=void 0;const n=lt(),e=ac(),u=Xe(),a=er(),r=Qt(),t=fwe();let i=class{constructor(l,s,c,d){this.context=l,this.mediatorQueryOperation=c,this.bindingsFactory=d,this.subEvaluators={[e.ExpressionType.Term]:(f,p)=>this.term(f),[e.ExpressionType.Variable]:(f,p)=>this.variable(f,p),[e.ExpressionType.Operator]:(f,p)=>this.evalFunction(f,p),[e.ExpressionType.Existence]:(f,p)=>this.evalExistence(f,p),[e.ExpressionType.Aggregate]:(f,p)=>this.evalAggregate()},this.transformer=new t.AlgebraTransformer(l,s)}async evaluatorExpressionEvaluation(l,s){return this.subEvaluators[l.expressionType].bind(this)(l,s)}term(l){return l}variable(l,s){const c=s.get(u.expressionToVar(this.context.getSafe(n.KeysInitQuery.dataFactory),l));if(!c)throw new u.UnboundVariableError(l.name,s);return this.transformer.transformRDFTermUnsafe(c)}async evalFunction(l,s){return l.apply({args:l.args,mapping:s,exprEval:this})}async evalExistence(l,s){const c=this.context.getSafe(n.KeysInitQuery.dataFactory),d=new r.Factory(c),f=(0,a.materializeOperation)(l.expression.input,s,d,this.bindingsFactory),p=await this.mediatorQueryOperation.mediate({operation:f,context:this.context}),h=(0,a.getSafeBindings)(p);return await new Promise((g,_)=>{h.bindingsStream.on("end",()=>{g(!1)}),h.bindingsStream.on("error",_),h.bindingsStream.on("data",()=>{h.bindingsStream.close(),g(!0)})}).then(g=>l.expression.not?!g:g).then(g=>new u.BooleanLiteral(g))}evalAggregate(){throw new u.NoAggregator}};return bR.InternalEvaluator=i,bR}var cye;function uLe(){if(cye)return mR;cye=1,Object.defineProperty(mR,"__esModule",{value:!0}),mR.ExpressionEvaluator=void 0;const n=lt(),e=pwe();let u=class{constructor(r,t,i,o,l){this.context=r,this.expr=t,this.mediatorFunctionFactory=i,this.mediatorQueryOperation=o,this.bindingsFactory=l,this.internalEvaluator=new e.InternalEvaluator(r,i,o,l)}async evaluate(r){return(await this.internalEvaluator.evaluatorExpressionEvaluation(this.expr,r)).toRDF(this.context.getSafe(n.KeysInitQuery.dataFactory))}async evaluateAsEBV(r){return(await this.internalEvaluator.evaluatorExpressionEvaluation(this.expr,r)).coerceEBV()}evaluateAsEvaluatorExpression(r){return this.evaluatorExpressionEvaluation(this.expr,r)}evaluatorExpressionEvaluation(r,t){return this.internalEvaluator.evaluatorExpressionEvaluation(r,t)}};return mR.ExpressionEvaluator=u,mR}var lye;function oLe(){if(lye)return pR;lye=1,Object.defineProperty(pR,"__esModule",{value:!0}),pR.ActorExpressionEvaluatorFactoryDefault=void 0;const n=iLe(),e=lt(),u=De(),a=pn(),r=Xe(),t=fwe(),i=uLe();let o=class extends n.ActorExpressionEvaluatorFactory{constructor(s){super(s)}async test(s){return(0,u.passTestVoid)()}async run(s){const c=(0,r.prepareEvaluatorActionContext)(s.context);return new i.ExpressionEvaluator(c,await new t.AlgebraTransformer(c,this.mediatorFunctionFactory).transformAlgebra(s.algExpr),this.mediatorFunctionFactory,this.mediatorQueryOperation,await a.BindingsFactory.create(this.mediatorMergeBindingsContext,s.context,s.context.getSafe(e.KeysInitQuery.dataFactory)))}};return pR.ActorExpressionEvaluatorFactoryDefault=o,pR}var dye;function aH(){return dye||(dye=1,(function(n){var e=Zy&&Zy.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=Zy&&Zy.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(oLe(),n)})(Zy)),Zy}var tm={},gR={},vR={},fye;function sLe(){if(fye)return vR;fye=1,Object.defineProperty(vR,"__esModule",{value:!0}),vR.GroupsState=void 0;const n=lt(),e=pn();let u=class{constructor(r,t,i,o,l){this.pattern=r,this.mediatorBindingsAggregatorFactory=t,this.context=i,this.bindingsFactory=o,this.variables=l,this.groups=new Map,this.groupsInitializer=new Map,this.groupVariables=new Set(this.pattern.variables.map(s=>s.value)),this.waitCounter=1,this.resultHasBeenCalled=!1}consumeBindings(r){const t=this.resultCheck();if(t)return t;this.waitCounter++;const i=r.filter((c,d)=>this.groupVariables.has(d.value)),o=this.hashBindings(i);let l=this.groupsInitializer.get(o),s;if(l){const c=l;s=(async()=>{const d=await c;await Promise.all(this.pattern.aggregates.map(async f=>{const p=f.variable.value;await d.aggregators[p].putBindings(r)}))})().then(async()=>{await this.subtractWaitCounterAndCollect()})}else l=(async()=>{const c={};await Promise.all(this.pattern.aggregates.map(async f=>{const p=f.variable.value;c[p]=await this.mediatorBindingsAggregatorFactory.mediate({expr:f,context:this.context}),await c[p].putBindings(r)}));const d={aggregators:c,bindings:i};return this.groups.set(o,d),await this.subtractWaitCounterAndCollect(),d})(),this.groupsInitializer.set(o,l),s=l;return s}async subtractWaitCounterAndCollect(){--this.waitCounter===0&&await this.handleResultCollection()}async handleResultCollection(){const r=this.context.getSafe(n.KeysInitQuery.dataFactory);let t=await Promise.all([...this.groups].map(async([i,o])=>{const{bindings:l,aggregators:s}=o;let c=l;for(const d in s){const f=await s[d].result();f&&(c=c.set(r.variable(d),f))}return c}));if(t.length===0&&this.groupVariables.size===0){const i=[];await Promise.all(this.pattern.aggregates.map(async o=>{const l=o.variable,c=await(await this.mediatorBindingsAggregatorFactory.mediate({expr:o,context:this.context})).result();c!==void 0&&i.push([l,c])})),t=[this.bindingsFactory.bindings(i)]}this.waitResolver(t)}resultCheck(){if(this.resultHasBeenCalled)return Promise.reject(new Error("Calling any function after calling collectResult is invalid."))}async collectResults(){const r=this.resultCheck();if(r)return r;this.resultHasBeenCalled=!0;const t=new Promise(i=>{this.waitResolver=i});return await this.subtractWaitCounterAndCollect(),t}hashBindings(r){return(0,e.bindingsToCompactString)(r,this.variables)}};return vR.GroupsState=u,vR}var pye;function cLe(){if(pye)return gR;pye=1,Object.defineProperty(gR,"__esModule",{value:!0}),gR.ActorQueryOperationGroup=void 0;const n=qr(),e=lt(),u=De(),a=pn(),r=er(),t=Gt(),i=sLe();let o=class extends n.ActorQueryOperationTypedMediated{constructor(s){super(s,"group"),this.mediatorBindingsAggregatorFactory=s.mediatorBindingsAggregatorFactory}async testOperation(){return(0,u.passTestVoid)()}async runOperation(s,c){const d=c.getSafe(e.KeysInitQuery.dataFactory),f=await a.BindingsFactory.create(this.mediatorMergeBindingsContext,c,d),{input:p,aggregates:h}=s,g=await this.mediatorQueryOperation.mediate({operation:p,context:c}),_=(0,r.getSafeBindings)(g),m=[...s.variables,...h.map(E=>E.variable)].map(E=>({variable:E,canBeUndef:!1})),w=(await _.metadata()).variables.map(E=>E.variable);return{type:"bindings",bindingsStream:new t.TransformIterator(()=>new Promise((E,S)=>{const N=new i.GroupsState(s,this.mediatorBindingsAggregatorFactory,c,f,w);_.bindingsStream.on("end",async()=>{try{const j=new t.ArrayIterator(await N.collectResults(),{autoStart:!1});E(j)}catch(j){S(j)}}),_.bindingsStream.on("error",S),_.bindingsStream.on("data",j=>{N.consumeBindings(j).catch(S)})}),{autoStart:!1}),metadata:async()=>({...await _.metadata(),variables:m})}}};return gR.ActorQueryOperationGroup=o,gR}var hye;function iH(){return hye||(hye=1,(function(n){var e=tm&&tm.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=tm&&tm.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(cLe(),n)})(tm)),tm}var rm={},_R={},yye;function lLe(){if(yye)return _R;yye=1,Object.defineProperty(_R,"__esModule",{value:!0}),_R.ActorQueryOperationNop=void 0;const n=qr(),e=lt(),u=De(),a=pn(),r=xa(),t=Gt();let i=class extends n.ActorQueryOperationTypedMediated{constructor(l){super(l,"nop")}async testOperation(l,s){return(0,u.passTestVoid)()}async runOperation(l,s){const c=s.getSafe(e.KeysInitQuery.dataFactory),d=await a.BindingsFactory.create(this.mediatorMergeBindingsContext,s,c);return{bindingsStream:new t.SingletonIterator(d.bindings()),metadata:()=>Promise.resolve({state:new r.MetadataValidationState,cardinality:{type:"exact",value:1},variables:[]}),type:"bindings"}}};return _R.ActorQueryOperationNop=i,_R}var mye;function uH(){return mye||(mye=1,(function(n){var e=rm&&rm.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=rm&&rm.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(lLe(),n)})(rm)),rm}var nm={},TR={},bye;function dLe(){if(bye)return TR;bye=1,Object.defineProperty(TR,"__esModule",{value:!0}),TR.ActorQueryOperationService=void 0;const n=qr(),e=lt(),u=De(),a=pn(),r=xa(),t=er(),i=Gt(),o=wb();let l=class extends n.ActorQueryOperationTypedMediated{constructor(c){super(c,"service"),c.cacheSize&&c.httpInvalidator&&c.cacheSize>0&&(this.cache=new o.LRUCache({max:c.cacheSize}),c.httpInvalidator.addInvalidateListener(d=>this.handleHttpInvalidateEvent(d)))}async testOperation(c,d){return c.name.termType!=="NamedNode"?(0,u.failTest)(`${this.name} can only query services by IRI, while a ${c.name.termType} was given.`):(0,u.passTestVoid)()}async runOperation(c,d){let f=this.cache?.get(c.name.value);f||(f=(await this.mediatorQuerySourceIdentify.mediate({querySourceUnidentified:{value:c.name.value,type:this.forceSparqlEndpoint?"sparql":void 0},context:d})).querySource,this.cache?.set(c.name.value,f));let p;try{p=(0,t.getSafeBindings)(await this.mediatorQueryOperation.mediate({operation:(0,t.assignOperationSource)(c.input,f),context:d}))}catch(h){if(c.silent){const g=d.getSafe(e.KeysInitQuery.dataFactory),_=await a.BindingsFactory.create(this.mediatorMergeBindingsContext,d,g);p={bindingsStream:new i.SingletonIterator(_.bindings()),type:"bindings",metadata:async()=>({state:new r.MetadataValidationState,cardinality:{type:"exact",value:1},variables:[]})},this.logWarn(d,`An error occurred when executing a SERVICE clause: ${h.message}`)}else throw h}return p}handleHttpInvalidateEvent(c){c.url?this.cache?.delete(c.url):this.cache?.clear()}};return TR.ActorQueryOperationService=l,TR}var gye;function oH(){return gye||(gye=1,(function(n){var e=nm&&nm.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=nm&&nm.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(dLe(),n)})(nm)),nm}var am={},wR={},vye;function fLe(){if(vye)return wR;vye=1,Object.defineProperty(wR,"__esModule",{value:!0}),wR.ActorQueryOperationValues=void 0;const n=qr(),e=lt(),u=De(),a=pn(),r=xa(),t=Gt();let i=class extends n.ActorQueryOperationTyped{constructor(l){super(l,"values")}async testOperation(l,s){return(0,u.passTestVoid)()}async runOperation(l,s){const c=s.getSafe(e.KeysInitQuery.dataFactory),d=await a.BindingsFactory.create(this.mediatorMergeBindingsContext,s,c);return{type:"bindings",bindingsStream:new t.ArrayIterator(l.bindings.map(h=>d.bindings(Object.entries(h).map(([g,_])=>[c.variable(g.slice(1)),_])))),metadata:()=>Promise.resolve({state:new r.MetadataValidationState,cardinality:{type:"exact",value:l.bindings.length},variables:l.variables.map(h=>({variable:h,canBeUndef:l.bindings.some(g=>!(`?${h.value}`in g))}))})}}};return wR.ActorQueryOperationValues=i,wR}var _ye;function sH(){return _ye||(_ye=1,(function(n){var e=am&&am.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=am&&am.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(fLe(),n)})(am)),am}var im={},SR={},Tye;function pLe(){if(Tye)return SR;Tye=1,Object.defineProperty(SR,"__esModule",{value:!0}),SR.ActorQueryOperationPathOneOrMore=void 0;const n=Al(),e=lt(),u=pn(),a=er(),r=Gt(),t=Qt();let i=class extends n.ActorAbstractPath{constructor(l){super(l,t.Algebra.types.ONE_OR_MORE_PATH)}async runOperation(l,s){const c=s.getSafe(e.KeysInitQuery.dataFactory),d=new t.Factory(c),f=await u.BindingsFactory.create(this.mediatorMergeBindingsContext,s,c),p=await this.isPathArbitraryLengthDistinct(d,s,l);if(p.operation)return p.operation;s=p.context;const h=l.predicate;if(l.subject.termType!=="Variable"&&l.object.termType==="Variable"){const w=l.object,T=await this.getObjectsPredicateStarEval(l.subject,h.path,w,l.graph,s,!1,d,f),E=(l.graph.termType==="Variable"?[w,l.graph]:[w]).map(S=>({variable:S,canBeUndef:!1}));return{type:"bindings",bindingsStream:T.bindingsStream,metadata:async()=>({...await T.metadata(),variables:E})}}if(l.subject.termType==="Variable"&&l.object.termType==="Variable"){const w=d.createDistinct(d.createPath(l.subject,l.predicate.path,l.object,l.graph)),T=(0,a.getSafeBindings)(await this.mediatorQueryOperation.mediate({context:s,operation:w})),E=l.subject,S=l.object,N={},j=new r.MultiTransformIterator(T.bindingsStream,{multiTransform:O=>{const I=O.get(E),A=O.get(S),P=l.graph.termType==="Variable"?O.get(l.graph):l.graph;return new r.TransformIterator(async()=>{const C=new r.BufferedIterator;return await this.getSubjectAndObjectBindingsPredicateStar(E,S,I,A,h.path,P,s,N,{},C,{count:0},d,f),C.map(B=>(l.graph.termType==="Variable"&&(B=B.set(l.graph,P)),B))},{autoStart:!1,maxBufferSize:128})},autoStart:!1}),q=(l.graph.termType==="Variable"?[E,S,l.graph]:[E,S]).map(O=>({variable:O,canBeUndef:!1}));return{type:"bindings",bindingsStream:j,metadata:async()=>({...await T.metadata(),variables:q})}}if(l.subject.termType==="Variable"&&l.object.termType!=="Variable")return this.mediatorQueryOperation.mediate({context:s,operation:d.createPath(l.object,d.createOneOrMorePath(d.createInv(h.path)),l.subject,l.graph)});const g=this.generateVariable(c),_=(0,a.getSafeBindings)(await this.mediatorQueryOperation.mediate({context:s,operation:d.createPath(l.subject,h,g,l.graph)}));return{type:"bindings",bindingsStream:_.bindingsStream.map(w=>l.object.equals(w.get(g))?l.graph.termType==="Variable"?f.bindings([[l.graph,w.get(l.graph)]]):f.bindings():null),metadata:async()=>({...await _.metadata(),variables:(l.graph.termType==="Variable"?[l.graph]:[]).map(w=>({variable:w,canBeUndef:!1}))})}}};return SR.ActorQueryOperationPathOneOrMore=i,SR}var wye;function cH(){return wye||(wye=1,(function(n){var e=im&&im.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=im&&im.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(pLe(),n)})(im)),im}var um={},ER={},Sye;function hLe(){if(Sye)return ER;Sye=1,Object.defineProperty(ER,"__esModule",{value:!0}),ER.ActorQueryOperationPathZeroOrMore=void 0;const n=Al(),e=lt(),u=pn(),a=er(),r=Gt(),t=Xt(),i=Qt();let o=class extends n.ActorAbstractPath{constructor(s){super(s,i.Algebra.types.ZERO_OR_MORE_PATH)}async runOperation(s,c){const d=c.getSafe(e.KeysInitQuery.dataFactory),f=new i.Factory(d),p=await u.BindingsFactory.create(this.mediatorMergeBindingsContext,c,d),h=await this.isPathArbitraryLengthDistinct(f,c,s);if(h.operation)return h.operation;c=h.context;const g=s.predicate,_=this.getPathSources(g),m=s.subject.termType==="Variable",w=s.object.termType==="Variable";if(s.subject.termType==="Variable"&&s.object.termType==="Variable"){const q=this.generateVariable(d,s),O=this.assignPatternSources(f,f.createPattern(s.subject,q,s.object,s.graph),_),I=(0,a.getSafeBindings)(await this.mediatorQueryOperation.mediate({context:c,operation:O})),A=s.subject,P=s.object,C=new Set,B={},V=new r.MultiTransformIterator(I.bindingsStream,{multiTransform:G=>{const J=G.get(A),ne=G.get(P),W=s.graph.termType==="Variable"?G.get(s.graph):s.graph,ee=(0,t.termToString)(J)+(0,t.termToString)(W),se=(0,t.termToString)(ne)+(0,t.termToString)(W);return new r.TransformIterator(async()=>{if(C.has(ee)&&C.has(se))return new r.EmptyIterator;const pe=new r.BufferedIterator,le={count:0};return C.has(ee)||(C.add(ee),await this.getSubjectAndObjectBindingsPredicateStar(A,P,J,J,g.path,W,c,B,{},pe,le,f,p)),C.has(se)||(C.add(se),await this.getSubjectAndObjectBindingsPredicateStar(A,P,ne,ne,g.path,W,c,B,{},pe,le,f,p)),pe.map(Ee=>(s.graph.termType==="Variable"&&(Ee=Ee.set(s.graph,W)),Ee))},{autoStart:!1,maxBufferSize:128})},autoStart:!1}),U=(s.graph.termType==="Variable"?[A,s.object,s.graph]:[A,s.object]).map(G=>({variable:G,canBeUndef:!1}));return{type:"bindings",bindingsStream:V,metadata:async()=>({...await I.metadata(),variables:U})}}if(!m&&!w){const q=this.generateVariable(d),O=await this.getObjectsPredicateStarEval(s.subject,g.path,q,s.graph,c,!0,f,p);return{type:"bindings",bindingsStream:O.bindingsStream.map(A=>s.object.equals(A.get(q))?s.graph.termType==="Variable"?p.bindings([[s.graph,A.get(s.graph)]]):p.bindings():null),metadata:async()=>({...await O.metadata(),variables:(s.graph.termType==="Variable"?[s.graph]:[]).map(A=>({variable:A,canBeUndef:!1}))})}}const T=m?s.object:s.subject,E=m?s.subject:s.object,S=m?f.createInv(g.path):g.path,N=await this.getObjectsPredicateStarEval(T,S,E,s.graph,c,!0,f,p),j=(s.graph.termType==="Variable"?[E,s.graph]:[E]).map(q=>({variable:q,canBeUndef:!1}));return{type:"bindings",bindingsStream:N.bindingsStream,metadata:async()=>({...await N.metadata(),variables:j})}}};return ER.ActorQueryOperationPathZeroOrMore=o,ER}var Eye;function lH(){return Eye||(Eye=1,(function(n){var e=um&&um.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=um&&um.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(hLe(),n)})(um)),um}var om={},AR={},Aye;function yLe(){if(Aye)return AR;Aye=1,Object.defineProperty(AR,"__esModule",{value:!0}),AR.ActorQueryOperationPathZeroOrOne=void 0;const n=Al(),e=lt(),u=pn(),a=xa(),r=er(),t=Gt(),i=Qt();let o=class extends n.ActorAbstractPath{constructor(s){super(s,i.Algebra.types.ZERO_OR_ONE_PATH)}async runOperation(s,c){const d=c.getSafe(e.KeysInitQuery.dataFactory),f=new i.Factory(d),p=await u.BindingsFactory.create(this.mediatorMergeBindingsContext,c,d),h=s.predicate,g=this.getPathSources(h),_=[];if(s.subject.termType!=="Variable"&&s.object.termType!=="Variable"&&s.subject.equals(s.object))return{type:"bindings",bindingsStream:new t.SingletonIterator(p.bindings()),metadata:()=>Promise.resolve({state:new a.MetadataValidationState,cardinality:{type:"exact",value:1},variables:[]})};const m=await this.isPathArbitraryLengthDistinct(f,c,s);if(m.operation)return m.operation;c=m.context;const w=(0,r.getSafeBindings)(await this.mediatorQueryOperation.mediate({context:c,operation:f.createPath(s.subject,h.path,s.object,s.graph)}));let T;if(s.subject.termType==="Variable"&&s.object.termType==="Variable"){const S=this.generateVariable(d,s),N=(0,r.getSafeBindings)(await this.mediatorQueryOperation.mediate({context:c,operation:f.createFilter(this.assignPatternSources(f,f.createPattern(s.subject,S,s.object,s.graph),g),f.createOperatorExpression("=",[f.createTermExpression(s.subject),f.createTermExpression(s.object)]))})).bindingsStream.map(j=>j.delete(S));T=new t.UnionIterator([N,w.bindingsStream],{autoStart:!1})}else s.subject.termType==="Variable"&&_.push(p.bindings([[s.subject,s.object]])),s.object.termType==="Variable"&&_.push(p.bindings([[s.object,s.subject]])),T=w.bindingsStream.prepend(_);return{type:"bindings",bindingsStream:T,metadata:async()=>{const S=await w.metadata();return{...S,cardinality:{...S.cardinality,value:S.cardinality.value+1}}}}}};return AR.ActorQueryOperationPathZeroOrOne=o,AR}var Oye;function dH(){return Oye||(Oye=1,(function(n){var e=om&&om.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=om&&om.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(yLe(),n)})(om)),om}var sm={},OR={},xye;function mLe(){if(xye)return OR;xye=1,Object.defineProperty(OR,"__esModule",{value:!0}),OR.ActorQueryOperationUpdateDeleteInsert=void 0;const n=NP(),e=qr(),u=lt(),a=pn(),r=er(),t=Gt();let i=class extends e.ActorQueryOperationTypedMediated{constructor(l){super(l,"deleteinsert"),this.blankNodeCounter=0}async testOperation(l,s){return(0,r.testReadOnly)(s)}async runOperation(l,s){const c=s.getSafe(u.KeysInitQuery.dataFactory),d=await a.BindingsFactory.create(this.mediatorMergeBindingsContext,s,c),f=l.where?(0,r.getSafeBindings)(await this.mediatorQueryOperation.mediate({operation:l.where,context:s})).bindingsStream:new t.ArrayIterator([d.bindings()],{autoStart:!1});let p,h;l.insert&&(p=new n.BindingsToQuadsIterator(c,l.insert.map(n.BindingsToQuadsIterator.localizeQuad.bind(null,c,this.blankNodeCounter)),f.clone()),this.blankNodeCounter++),l.delete&&(h=new n.BindingsToQuadsIterator(c,l.delete.map(n.BindingsToQuadsIterator.localizeQuad.bind(null,c,this.blankNodeCounter)),f.clone()),this.blankNodeCounter++);const{execute:g}=await this.mediatorUpdateQuads.mediate({quadStreamInsert:p,quadStreamDelete:h,context:s});return{type:"void",execute:g}}};return OR.ActorQueryOperationUpdateDeleteInsert=i,OR}var Rye;function fH(){return Rye||(Rye=1,(function(n){var e=sm&&sm.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=sm&&sm.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(mLe(),n)})(sm)),sm}var cm={},xR={},lm={},RR={},Nye;function bLe(){if(Nye)return RR;Nye=1,Object.defineProperty(RR,"__esModule",{value:!0}),RR.ActorQueryProcess=void 0;const n=De();let e=class extends n.Actor{constructor(a){super(a)}};return RR.ActorQueryProcess=e,RR}var Iye;function PP(){return Iye||(Iye=1,(function(n){var e=lm&&lm.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=lm&&lm.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(bLe(),n)})(lm)),lm}var Dye;function gLe(){if(Dye)return xR;Dye=1,Object.defineProperty(xR,"__esModule",{value:!0}),xR.ActorQueryProcessSequential=void 0;const n=PP(),e=lt(),u=De(),a=pn(),r=er(),t=Qt();let i=class extends n.ActorQueryProcess{constructor(l){super(l)}async test(l){return l.context.get(e.KeysInitQuery.explain)??l.context.get(new u.ActionContextKey("explain"))?(0,u.failTest)(`${this.name} is not able to explain queries.`):(0,u.passTestVoid)()}async run(l){let{operation:s,context:c}=await this.parse(l.query,l.context);return{operation:s,context:c}=await this.optimize(s,c),{result:await this.evaluate(s,c)}}async parse(l,s){s=(await this.mediatorContextPreprocess.mediate({context:s,initialize:!0})).context;let c;if(typeof l=="string"){s=s.set(e.KeysInitQuery.queryString,l);const d=s.get(e.KeysInitQuery.baseIRI),f=s.get(e.KeysInitQuery.queryFormat),p=await this.mediatorQueryParse.mediate({context:s,query:l,queryFormat:f,baseIRI:d});c=p.operation,p.baseIRI&&(s=s.set(e.KeysInitQuery.baseIRI,p.baseIRI))}else c=l;if(s.has(e.KeysInitQuery.initialBindings)){const d=s.getSafe(e.KeysInitQuery.dataFactory),f=new t.Factory(d),p=await a.BindingsFactory.create(this.mediatorMergeBindingsContext,s,d);c=(0,r.materializeOperation)(c,s.get(e.KeysInitQuery.initialBindings),f,p,{strictTargetVariables:!0}),s=s.delete(e.KeysInitQuery.queryString)}return{operation:c,context:s}}async optimize(l,s){return s=s.set(e.KeysInitQuery.query,l),{operation:l,context:s}=await this.mediatorOptimizeQueryOperation.mediate({context:s,operation:l}),s=s.set(e.KeysInitQuery.query,l),{operation:l,context:s}}async evaluate(l,s){const c=await this.mediatorQueryOperation.mediate({context:s,operation:l});return c.context=s,c}};return xR.ActorQueryProcessSequential=i,xR}var Fye;function pH(){return Fye||(Fye=1,(function(n){var e=cm&&cm.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=cm&&cm.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(gLe(),n)})(cm)),cm}var dm={},NR={},IR={},DR={},FR={},Pye;function vLe(){if(Pye)return FR;Pye=1,Object.defineProperty(FR,"__esModule",{value:!0}),FR.LinkedRdfSourcesAsyncRdfIterator=void 0;const n=lt(),e=xa(),u=Gt();let a=class extends u.BufferedIterator{constructor(t,i,o,l,s,c,d,f){if(super({autoStart:!1,...f}),this.started=!1,this.currentIterators=[],this.iteratorsPendingCreation=0,this.iteratorsPendingTermination=0,this.accumulatedMetadata=Promise.resolve(void 0),this._reading=!1,this.cacheSize=t,this.operation=i,this.queryBindingsOptions=o,this.context=l,this.firstUrl=s,this.maxIterators=c,this.sourceStateGetter=d,this.maxIterators<=0)throw new Error(`LinkedRdfSourcesAsyncRdfIterator.maxIterators must be larger than zero, but got ${this.maxIterators}`)}kickstart(){this.started||this._fillBufferAsync()}getProperty(t,i){return t==="metadata"&&!this.started&&(this.preflightMetadata||(this.preflightMetadata=new Promise((o,l)=>{this.sourceStateGetter({url:this.firstUrl},{}).then(s=>{const c=s.source.queryBindings(this.operation,this.context);c.getProperty("metadata",d=>{d.state=new e.MetadataValidationState,c.destroy(),this.accumulateMetadata(s.metadata,d).then(f=>{const p={...s.metadata,...d,...f};o(p)}).catch(()=>{o({...s.metadata,state:new e.MetadataValidationState})})})}).catch(l)})),this.preflightMetadata.then(o=>this.setProperty("metadata",o)).catch(o=>this.emit("error",o))),super.getProperty(t,i)}_end(t){for(const i of this.currentIterators)i.destroy();super._end(t)}_read(t,i){if(this.started){for(const o of this.currentIterators){for(;t>0;){const l=o.read();if(l===null)break;t--,this._push(l)}if(t<=0)break}t>=0&&this.canStartNewIterator()?this.sourceStateGetter({url:this.firstUrl},{}).then(o=>{this.startIteratorsForNextUrls(o.handledDatasets,!1),i()}):i()}else this.started=!0,this.sourceStateGetter({url:this.firstUrl},{}).then(o=>{this.startIterator(o),i()}).catch(o=>setTimeout(()=>this.destroy(o)))}canStartNewIterator(){return this.currentIterators.length+this.iteratorsPendingCreation+this.iteratorsPendingTermination<this.maxIterators&&(!this.canStartNewIteratorConsiderReadable()||!this.readable)}canStartNewIteratorConsiderReadable(){return!0}areIteratorsRunning(){return this.currentIterators.length+this.iteratorsPendingCreation+this.iteratorsPendingTermination>0}startIterator(t){try{const i=t.source.queryBindings(this.operation,this.context,this.queryBindingsOptions);this.currentIterators.push(i);let o=!1,l=!1;i._destination=this,i.on("error",s=>this.destroy(s)),i.on("readable",()=>this._fillBuffer()),i.on("end",()=>{this.currentIterators.splice(this.currentIterators.indexOf(i),1),o=!0,l||this.iteratorsPendingTermination++,l&&this.startIteratorsForNextUrls(t.handledDatasets,!0)}),i.getProperty("metadata",s=>{this.accumulatedMetadata=this.accumulatedMetadata.then(c=>(async()=>(c||(c=t.metadata),this.accumulateMetadata(c,s)))().then(d=>{const f={...t.metadata,...s,...d};return f.state=new e.MetadataValidationState,this.updateMetadata(f),this.preflightMetadata&&this.preflightMetadata.then(p=>p.state.invalidate()).catch(()=>{}),this.getSourceLinks(f,t).then(p=>Promise.all(p)).then(async p=>{const h=await this.getLinkQueue();for(const g of p)h.push(g,t.link);l=!0,o&&this.iteratorsPendingTermination--,this.startIteratorsForNextUrls(t.handledDatasets,!0)}).catch(p=>this.destroy(p)),f})).catch(c=>(this.destroy(c),{}))})}catch(i){this.destroy(i)}}updateMetadata(t){const i=this.getProperty("metadata");this.setProperty("metadata",t),i?.state.invalidate()}isRunning(){return!this.done}startIteratorsForNextUrls(t,i){this.getLinkQueue().then(o=>{for(;this.canStartNewIterator()&&this.isRunning();){const l=o.pop();if(l)this.iteratorsPendingCreation++,this.sourceStateGetter(l,t).then(s=>{const c=this.context.get(n.KeysStatistics.dereferencedLinks);c&&c.updateStatistic({url:s.link.url,metadata:{...s.metadata,...s.link.metadata}},s.source),this.iteratorsPendingCreation--,this.startIterator(s)}).catch(s=>this.emit("error",s));else break}i&&this.isCloseable(o,!0)&&this.close()}).catch(o=>this.destroy(o))}isCloseable(t,i){return t.isEmpty()&&!this.areIteratorsRunning()}};return FR.LinkedRdfSourcesAsyncRdfIterator=a,FR}var jye;function _Le(){if(jye)return DR;jye=1,Object.defineProperty(DR,"__esModule",{value:!0}),DR.MediatedLinkedRdfSourcesAsyncRdfIterator=void 0;const n=lt(),e=vLe();let u=class extends e.LinkedRdfSourcesAsyncRdfIterator{constructor(r,t,i,o,l,s,c,d,f,p,h,g,_,m){super(r,t,i,o,s,c,d,f?{maxBufferSize:Number.POSITIVE_INFINITY}:void 0),this.wasForcefullyClosed=!1,this.forceSourceType=l,this.mediatorMetadataAccumulate=p,this.mediatorRdfResolveHypermediaLinks=h,this.mediatorRdfResolveHypermediaLinksQueue=g,this.handledUrls={[s]:!0},this.aggregatedStore=f,this.dataFactory=_,this.algebraFactory=m}close(){if(!this.aggregatedStore){super.close();return}this.getLinkQueue().then(r=>{this.isCloseable(r,!1)?(setTimeout(()=>this.aggregatedStore.end()),super.close()):this.wasForcefullyClosed=!0}).catch(r=>super.destroy(r))}destroy(r){if(!this.aggregatedStore){super.destroy(r);return}this.getLinkQueue().then(t=>{r??this.isCloseable(t,!1)?(setTimeout(()=>this.aggregatedStore.end()),super.destroy(r)):this.wasForcefullyClosed=!0}).catch(t=>super.destroy(t))}isCloseable(r,t){return(t?r.isEmpty():this.wasForcefullyClosed||r.isEmpty())&&!this.areIteratorsRunning()}canStartNewIterator(){return(!this.wasForcefullyClosed||this.aggregatedStore!==void 0&&this.aggregatedStore.hasRunningIterators())&&super.canStartNewIterator()}canStartNewIteratorConsiderReadable(){return!this.aggregatedStore}isRunning(){return this.aggregatedStore&&this.aggregatedStore.hasRunningIterators()||!this.done}getLinkQueue(){return this.linkQueue||(this.linkQueue=this.mediatorRdfResolveHypermediaLinksQueue.mediate({firstUrl:this.firstUrl,context:this.context}).then(r=>r.linkQueue)),this.linkQueue}async getSourceLinks(r,t){try{const{links:i}=await this.mediatorRdfResolveHypermediaLinks.mediate({context:this.context,metadata:r}),o=this.context.get(n.KeysStatistics.discoveredLinks);if(o)for(const l of i)o.updateStatistic({url:l.url,metadata:{...l.metadata}},t.link);return i.filter(l=>this.handledUrls[l.url]?!1:(this.handledUrls[l.url]=!0,!0))}catch{return[]}}startIterator(r){if(this.aggregatedStore&&!this.aggregatedStore.containedSources.has(r.link.url)){this.aggregatedStore?.containedSources.add(r.link.url);const t=r.source.queryBindings(this.algebraFactory.createPattern(this.dataFactory.variable("s"),this.dataFactory.variable("p"),this.dataFactory.variable("o"),this.dataFactory.variable("g")),this.context.set(n.KeysQueryOperation.unionDefaultGraph,!0)).map(i=>this.dataFactory.quad(i.get("s"),i.get("p"),i.get("o"),i.get("g")));this.aggregatedStore.import(t).on("end",()=>{super.startIterator(r)})}else super.startIterator(r)}async accumulateMetadata(r,t){return(await this.mediatorMetadataAccumulate.mediate({mode:"append",accumulatedMetadata:r,appendingMetadata:t,context:this.context})).metadata}updateMetadata(r){super.updateMetadata(r),this.aggregatedStore?.setBaseMetadata(r,!0)}};return DR.MediatedLinkedRdfSourcesAsyncRdfIterator=u,DR}var PR={},fm={},jR={},i9={},no={},pm={},MR={},Mye;function hwe(){if(Mye)return MR;Mye=1,Object.defineProperty(MR,"__esModule",{value:!0}),MR.BlankNode=void 0;let n=class{constructor(u){this.termType="BlankNode",this.value=u}equals(u){return!!u&&u.termType==="BlankNode"&&u.value===this.value}};return MR.BlankNode=n,MR}var CR={},LR={},Cye;function ywe(){if(Cye)return LR;Cye=1,Object.defineProperty(LR,"__esModule",{value:!0}),LR.DefaultGraph=void 0;let n=class{constructor(){this.termType="DefaultGraph",this.value=""}equals(u){return!!u&&u.termType==="DefaultGraph"}};return LR.DefaultGraph=n,n.INSTANCE=new n,LR}var qR={},BR={},Lye;function hH(){if(Lye)return BR;Lye=1,Object.defineProperty(BR,"__esModule",{value:!0}),BR.NamedNode=void 0;let n=class{constructor(u){this.termType="NamedNode",this.value=u}equals(u){return!!u&&u.termType==="NamedNode"&&u.value===this.value}};return BR.NamedNode=n,BR}var qye;function mwe(){if(qye)return qR;qye=1,Object.defineProperty(qR,"__esModule",{value:!0}),qR.Literal=void 0;const n=hH();let e=class K6{constructor(a,r){this.termType="Literal",this.value=a,typeof r=="string"?(this.language=r,this.datatype=K6.RDF_LANGUAGE_STRING,this.direction=""):r?"termType"in r?(this.language="",this.datatype=r,this.direction=""):(this.language=r.language,this.datatype=r.direction?K6.RDF_DIRECTIONAL_LANGUAGE_STRING:K6.RDF_LANGUAGE_STRING,this.direction=r.direction||""):(this.language="",this.datatype=K6.XSD_STRING,this.direction="")}equals(a){return!!a&&a.termType==="Literal"&&a.value===this.value&&a.language===this.language&&(a.direction===this.direction||!a.direction&&this.direction==="")&&this.datatype.equals(a.datatype)}};return qR.Literal=e,e.RDF_LANGUAGE_STRING=new n.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),e.RDF_DIRECTIONAL_LANGUAGE_STRING=new n.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#dirLangString"),e.XSD_STRING=new n.NamedNode("http://www.w3.org/2001/XMLSchema#string"),qR}var UR={},Bye;function bwe(){if(Bye)return UR;Bye=1,Object.defineProperty(UR,"__esModule",{value:!0}),UR.Quad=void 0;let n=class{constructor(u,a,r,t){this.termType="Quad",this.value="",this.subject=u,this.predicate=a,this.object=r,this.graph=t}equals(u){return!!u&&(u.termType==="Quad"||!u.termType)&&this.subject.equals(u.subject)&&this.predicate.equals(u.predicate)&&this.object.equals(u.object)&&this.graph.equals(u.graph)}};return UR.Quad=n,UR}var QR={},Uye;function gwe(){if(Uye)return QR;Uye=1,Object.defineProperty(QR,"__esModule",{value:!0}),QR.Variable=void 0;let n=class{constructor(u){this.termType="Variable",this.value=u}equals(u){return!!u&&u.termType==="Variable"&&u.value===this.value}};return QR.Variable=n,QR}var Qye;function TLe(){if(Qye)return CR;Qye=1,Object.defineProperty(CR,"__esModule",{value:!0}),CR.DataFactory=void 0;const n=hwe(),e=ywe(),u=mwe(),a=hH(),r=bwe(),t=gwe();let i=0,o=class{constructor(s){this.blankNodeCounter=0,s=s||{},this.blankNodePrefix=s.blankNodePrefix||`df_${i++}_`}namedNode(s){return new a.NamedNode(s)}blankNode(s){return new n.BlankNode(s||`${this.blankNodePrefix}${this.blankNodeCounter++}`)}literal(s,c){return new u.Literal(s,c)}variable(s){return new t.Variable(s)}defaultGraph(){return e.DefaultGraph.INSTANCE}quad(s,c,d,f){return new r.Quad(s,c,d,f||this.defaultGraph())}fromTerm(s){switch(s.termType){case"NamedNode":return this.namedNode(s.value);case"BlankNode":return this.blankNode(s.value);case"Literal":return s.language?this.literal(s.value,s.language):s.datatype.equals(u.Literal.XSD_STRING)?this.literal(s.value):this.literal(s.value,this.fromTerm(s.datatype));case"Variable":return this.variable(s.value);case"DefaultGraph":return this.defaultGraph();case"Quad":return this.quad(this.fromTerm(s.subject),this.fromTerm(s.predicate),this.fromTerm(s.object),this.fromTerm(s.graph))}}fromQuad(s){return this.fromTerm(s)}resetBlankNodeCounter(){this.blankNodeCounter=0}};return CR.DataFactory=o,CR}var Vye;function vwe(){return Vye||(Vye=1,(function(n){var e=pm&&pm.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=pm&&pm.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(hwe(),n),u(TLe(),n),u(ywe(),n),u(mwe(),n),u(hH(),n),u(bwe(),n),u(gwe(),n)})(pm)),pm}var Hye;function wLe(){if(Hye)return no;Hye=1,Object.defineProperty(no,"__esModule",{value:!0}),no.termToString=u,no.getLiteralValue=a,no.getLiteralType=r,no.getLiteralLanguage=t,no.getLiteralDirection=i,no.stringToTerm=o,no.quadToStringQuad=l,no.stringQuadToQuad=s;const n=vwe(),e=new n.DataFactory;function u(c){if(c)switch(c.termType){case"NamedNode":return c.value;case"BlankNode":return"_:"+c.value;case"Literal":const d=c;return'"'+d.value+'"'+(d.datatype&&d.datatype.value!=="http://www.w3.org/2001/XMLSchema#string"&&d.datatype.value!=="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"&&d.datatype.value!=="http://www.w3.org/1999/02/22-rdf-syntax-ns#dirLangString"?"^^"+d.datatype.value:"")+(d.language?"@"+d.language:"")+(d.direction?"--"+d.direction:"");case"Quad":return`<<${u(c.subject)} ${u(c.predicate)} ${u(c.object)}${c.graph.termType==="DefaultGraph"?"":" "+u(c.graph)}>>`;case"Variable":return"?"+c.value;case"DefaultGraph":return c.value}}function a(c){const d=/^"([^]*)"/.exec(c);if(!d)throw new Error(c+" is not a literal");return d[1]}function r(c){const d=/^"[^]*"(?:\^\^([^"]+)|(@)[^@"]+)?$/.exec(c);if(!d)throw new Error(c+" is not a literal");return d[1]||(d[2]?"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString":"http://www.w3.org/2001/XMLSchema#string")}function t(c){const d=/^"[^]*"(?:@([^@"]+)|\^\^[^"]+)?$/.exec(c);if(!d)throw new Error(c+" is not a literal");if(d[1]){let f=d[1].toLowerCase();const p=f.indexOf("--");return p>=0&&(f=f.slice(0,p)),f}return""}function i(c){const d=c.indexOf("--",c.lastIndexOf('"'));if(d>=0){const f=c.slice(d+2,c.length);if(f==="ltr"||f==="rtl")return f;throw new Error(c+" is not a literal with a valid direction")}return""}function o(c,d){if(d=d||e,!c||!c.length)return d.defaultGraph();switch(c[0]){case"_":return d.blankNode(c.substr(2));case"?":if(!d.variable)throw new Error("Missing 'variable()' method on the given DataFactory");return d.variable(c.substr(1));case'"':const f=t(c),p=i(c),h=d.namedNode(r(c));return d.literal(a(c),f?{language:f,direction:p}:h);default:if(c[0]==="<"&&c.length>4&&c[1]==="<"&&c[c.length-1]===">"&&c[c.length-2]===">"){const g=c.slice(2,-2).trim();let _=[],m=0,w=0,T=!1;for(let E=0;E<g.length;E++){const S=g[E];if(S==="<"&&m++,S===">"){if(m===0)throw new Error("Found closing tag without opening tag in "+c);m--}if(S==='"'){let N=!1,j=E;for(;j-- >0&&g[j]==="\\";)N=!N;N||(T=!T)}if(S===" "&&!T&&m===0){for(_.push(g.slice(w,E));g[E+1]===" ";)E+=1;w=E+1}}if(m!==0)throw new Error("Found opening tag without closing tag in "+c);if(_.push(g.slice(w,g.length)),_.length!==3&&_.length!==4)throw new Error("Nested quad syntax error "+c);return _=_.map(E=>E.startsWith("<")&&!E.includes(" ")?E.slice(1,-1):E),d.quad(o(_[0]),o(_[1]),o(_[2]),_[3]?o(_[3]):void 0)}return d.namedNode(c)}}function l(c){return{subject:u(c.subject),predicate:u(c.predicate),object:u(c.object),graph:u(c.graph)}}function s(c,d){return d=d||e,d.quad(o(c.subject,d),o(c.predicate,d),o(c.object,d),o(c.graph,d))}return no}var kye;function _we(){return kye||(kye=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.termToString=n.stringToTerm=n.stringQuadToQuad=n.quadToStringQuad=n.getLiteralValue=n.getLiteralType=n.getLiteralDirection=n.getLiteralLanguage=void 0;const e=wLe();Object.defineProperty(n,"getLiteralLanguage",{enumerable:!0,get:function(){return e.getLiteralLanguage}}),Object.defineProperty(n,"getLiteralDirection",{enumerable:!0,get:function(){return e.getLiteralDirection}}),Object.defineProperty(n,"getLiteralType",{enumerable:!0,get:function(){return e.getLiteralType}}),Object.defineProperty(n,"getLiteralValue",{enumerable:!0,get:function(){return e.getLiteralValue}}),Object.defineProperty(n,"quadToStringQuad",{enumerable:!0,get:function(){return e.quadToStringQuad}}),Object.defineProperty(n,"stringQuadToQuad",{enumerable:!0,get:function(){return e.stringQuadToQuad}}),Object.defineProperty(n,"stringToTerm",{enumerable:!0,get:function(){return e.stringToTerm}}),Object.defineProperty(n,"termToString",{enumerable:!0,get:function(){return e.termToString}})})(i9)),i9}var hm={},Mr={},zye;function SLe(){if(zye)return Mr;zye=1,Object.defineProperty(Mr,"__esModule",{value:!0}),Mr.TRIPLE_TERM_NAMES=Mr.QUAD_TERM_NAMES=void 0,Mr.getTerms=u,Mr.getTermsNested=a,Mr.getNamedTerms=r,Mr.collectNamedTerms=t,Mr.forEachTerms=i,Mr.forEachTermsNested=o,Mr.filterTerms=l,Mr.filterTermsNested=s,Mr.filterQuadTermNames=c,Mr.filterQuadTermNamesNested=d,Mr.mapTerms=f,Mr.mapTermsNested=p,Mr.reduceTerms=h,Mr.reduceTermsNested=g,Mr.everyTerms=_,Mr.everyTermsNested=m,Mr.someTerms=w,Mr.someTermsNested=T,Mr.getValueNestedPath=E,Mr.matchTerm=S,Mr.matchPattern=N,Mr.matchPatternComplete=j,Mr.matchPatternMappings=q;const n=vwe(),e=new n.DataFactory;Mr.QUAD_TERM_NAMES=["subject","predicate","object","graph"],Mr.TRIPLE_TERM_NAMES=["subject","predicate","object"];function u(O,I){return I&&O.graph.termType==="DefaultGraph"?[O.subject,O.predicate,O.object]:[O.subject,O.predicate,O.object,O.graph]}function a(O,I){const A=[];for(const P of u(O,I))P.termType==="Quad"?a(P,I).forEach(C=>A.push(C)):A.push(P);return A}function r(O){return[{key:"subject",value:O.subject},{key:"predicate",value:O.predicate},{key:"object",value:O.object},{key:"graph",value:O.graph}]}function t(O,I,A){const P={};return O.forEach(C=>P[C.key]=C.value),I&&(P.subject=P.subject||I("subject"),P.predicate=P.predicate||I("predicate"),P.object=P.object||I("object"),P.graph=P.graph||I("graph")),(A||e).quad(P.subject,P.predicate,P.object,P.graph)}function i(O,I){I(O.subject,"subject"),I(O.predicate,"predicate"),I(O.object,"object"),I(O.graph,"graph")}function o(O,I,A=[]){O.subject.termType==="Quad"?o(O.subject,I,[...A,"subject"]):I(O.subject,[...A,"subject"]),O.predicate.termType==="Quad"?o(O.predicate,I,[...A,"predicate"]):I(O.predicate,[...A,"predicate"]),O.object.termType==="Quad"?o(O.object,I,[...A,"object"]):I(O.object,[...A,"object"]),O.graph.termType==="Quad"?o(O.graph,I,[...A,"graph"]):I(O.graph,[...A,"graph"])}function l(O,I){const A=[];return I(O.subject,"subject")&&A.push(O.subject),I(O.predicate,"predicate")&&A.push(O.predicate),I(O.object,"object")&&A.push(O.object),I(O.graph,"graph")&&A.push(O.graph),A}function s(O,I,A=[]){let P=[];return O.subject.termType==="Quad"?P=[...P,...s(O.subject,I,[...A,"subject"])]:I(O.subject,[...A,"subject"])&&P.push(O.subject),O.predicate.termType==="Quad"?P=[...P,...s(O.predicate,I,[...A,"predicate"])]:I(O.predicate,[...A,"predicate"])&&P.push(O.predicate),O.object.termType==="Quad"?P=[...P,...s(O.object,I,[...A,"object"])]:I(O.object,[...A,"object"])&&P.push(O.object),O.graph.termType==="Quad"?P=[...P,...s(O.graph,I,[...A,"graph"])]:I(O.graph,[...A,"graph"])&&P.push(O.graph),P}function c(O,I){const A=[];return I(O.subject,"subject")&&A.push("subject"),I(O.predicate,"predicate")&&A.push("predicate"),I(O.object,"object")&&A.push("object"),I(O.graph,"graph")&&A.push("graph"),A}function d(O,I,A=[]){let P=[];const C=[...A,"subject"];O.subject.termType==="Quad"?P=[...P,...d(O.subject,I,C)]:I(O.subject,C)&&P.push(C);const B=[...A,"predicate"];O.predicate.termType==="Quad"?P=[...P,...d(O.predicate,I,B)]:I(O.predicate,B)&&P.push(B);const V=[...A,"object"];O.object.termType==="Quad"?P=[...P,...d(O.object,I,V)]:I(O.object,V)&&P.push(V);const U=[...A,"graph"];return O.graph.termType==="Quad"?P=[...P,...d(O.graph,I,U)]:I(O.graph,U)&&P.push(U),P}function f(O,I,A){return(A||e).quad(I(O.subject,"subject"),I(O.predicate,"predicate"),I(O.object,"object"),I(O.graph,"graph"))}function p(O,I,A,P=[]){return(A||e).quad(O.subject.termType==="Quad"?p(O.subject,I,A,[...P,"subject"]):I(O.subject,[...P,"subject"]),O.predicate.termType==="Quad"?p(O.predicate,I,A,[...P,"predicate"]):I(O.predicate,[...P,"predicate"]),O.object.termType==="Quad"?p(O.object,I,A,[...P,"object"]):I(O.object,[...P,"object"]),O.graph.termType==="Quad"?p(O.graph,I,A,[...P,"graph"]):I(O.graph,[...P,"graph"]))}function h(O,I,A){let P=A;return P=I(P,O.subject,"subject"),P=I(P,O.predicate,"predicate"),P=I(P,O.object,"object"),I(P,O.graph,"graph")}function g(O,I,A,P=[]){let C=A;return O.subject.termType==="Quad"?C=g(O.subject,I,C,[...P,"subject"]):C=I(C,O.subject,[...P,"subject"]),O.predicate.termType==="Quad"?C=g(O.predicate,I,C,[...P,"predicate"]):C=I(C,O.predicate,[...P,"predicate"]),O.object.termType==="Quad"?C=g(O.object,I,C,[...P,"object"]):C=I(C,O.object,[...P,"object"]),O.graph.termType==="Quad"?C=g(O.graph,I,C,[...P,"graph"]):C=I(C,O.graph,[...P,"graph"]),C}function _(O,I){return I(O.subject,"subject")&&I(O.predicate,"predicate")&&I(O.object,"object")&&I(O.graph,"graph")}function m(O,I,A=[]){return(O.subject.termType==="Quad"?m(O.subject,I,[...A,"subject"]):I(O.subject,[...A,"subject"]))&&(O.predicate.termType==="Quad"?m(O.predicate,I,[...A,"predicate"]):I(O.predicate,[...A,"predicate"]))&&(O.object.termType==="Quad"?m(O.object,I,[...A,"object"]):I(O.object,[...A,"object"]))&&(O.graph.termType==="Quad"?m(O.graph,I,[...A,"graph"]):I(O.graph,[...A,"graph"]))}function w(O,I){return I(O.subject,"subject")||I(O.predicate,"predicate")||I(O.object,"object")||I(O.graph,"graph")}function T(O,I,A=[]){return(O.subject.termType==="Quad"?T(O.subject,I,[...A,"subject"]):I(O.subject,[...A,"subject"]))||(O.predicate.termType==="Quad"?T(O.predicate,I,[...A,"predicate"]):I(O.predicate,[...A,"predicate"]))||(O.object.termType==="Quad"?T(O.object,I,[...A,"object"]):I(O.object,[...A,"object"]))||(O.graph.termType==="Quad"?T(O.graph,I,[...A,"graph"]):I(O.graph,[...A,"graph"]))}function E(O,I){if(I.length===0)return O;if(O.termType==="Quad")return E(O[I[0]],I.slice(1));throw new Error(`Tried to get ${I[0]} from term of type ${O.termType}`)}function S(O,I){return!I||I.termType==="Variable"||I.termType==="Quad"&&O.termType==="Quad"&&j(O,I)||I.equals(O)}function N(O,I,A,P,C){return S(O.subject,I)&&S(O.predicate,A)&&S(O.object,P)&&S(O.graph,C)}function j(O,I){return N(O,I.subject,I.predicate,I.object,I.graph)}function q(O,I,A={}){const P={};function C(B,V){return _(B,(U,G)=>{var J,ne;const W=V[G];switch(U.termType){case"Variable":return A.skipVarMapping&&W.termType==="Variable"||((ne=(J=P[U.value])===null||J===void 0?void 0:J.equals(W))!==null&&ne!==void 0?ne:(P[U.value]=W,!0));case"Quad":return W.termType==="Quad"&&C(U,W);default:return U.equals(W)}})}return C(I,O)&&(A.returnMappings?P:!0)}return Mr}var Mi={},Gye;function ELe(){if(Gye)return Mi;Gye=1,Object.defineProperty(Mi,"__esModule",{value:!0}),Mi.TERM_TYPES=void 0,Mi.uniqTerms=e,Mi.getTermsOfType=u,Mi.getNamedNodes=a,Mi.getBlankNodes=r,Mi.getLiterals=t,Mi.getVariables=i,Mi.getDefaultGraphs=o,Mi.getQuads=l;const n=_we();Mi.TERM_TYPES=["NamedNode","BlankNode","Literal","Variable","DefaultGraph","Quad"];function e(s){const c={};return s.filter(d=>{const f=(0,n.termToString)(d);return!(f in c)&&(c[f]=!0)})}function u(s,c){return s.filter(d=>d.termType===c)}function a(s){return u(s,"NamedNode")}function r(s){return u(s,"BlankNode")}function t(s){return u(s,"Literal")}function i(s){return u(s,"Variable")}function o(s){return u(s,"DefaultGraph")}function l(s){return u(s,"Quad")}return Mi}var $ye;function ALe(){return $ye||($ye=1,(function(n){var e=hm&&hm.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=hm&&hm.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(SLe(),n),u(ELe(),n)})(hm)),hm}var Xye;function Twe(){if(Xye)return jR;Xye=1,Object.defineProperty(jR,"__esModule",{value:!0}),jR.PendingStreamsIndex=void 0;const n=_we(),e=ALe();let u=class Km{constructor(){this.indexedStreams=new Map,this.allStreams=[]}termToString(r){return r&&r.termType!=="Variable"?(0,n.termToString)(r):Km.ID_VARIABLE}addPatternListener(r,t,i,o,l){this.allStreams.push(r);const s=`${this.termToString(t)}${Km.ID_SEPARATOR}${this.termToString(i)}${Km.ID_SEPARATOR}${this.termToString(o)}${Km.ID_SEPARATOR}${this.termToString(l)}`;let c=this.indexedStreams.get(s);c||(c=[],this.indexedStreams.set(s,c)),c.push(r)}getPendingStreamsForQuad(r){let t=[(0,e.getTerms)(r).map(o=>(0,n.termToString)(o))];for(let o=0;o<e.QUAD_TERM_NAMES.length;o++){const l=t;t=[];for(const s of l){t.push(s);const c=[...s];c[o]=Km.ID_VARIABLE,t.push(c)}}const i=[];for(const o of t){const l=this.indexedStreams.get(o.join(Km.ID_SEPARATOR));l&&i.push(...l)}return i}};return u.ID_VARIABLE="?",u.ID_SEPARATOR=":",jR.PendingStreamsIndex=u,jR}var ao={},Kye;function OLe(){if(Kye)return ao;Kye=1;var n=ao&&ao.__asyncValues||function(o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var l=o[Symbol.asyncIterator],s;return l?l.call(o):(o=typeof __values=="function"?__values(o):o[Symbol.iterator](),s={},c("next"),c("throw"),c("return"),s[Symbol.asyncIterator]=function(){return this},s);function c(f){s[f]=o[f]&&function(p){return new Promise(function(h,g){p=o[f](p),d(h,g,p.done,p.value)})}}function d(f,p,h,g){Promise.resolve(g).then(function(_){f({value:_,done:h})},p)}},e=ao&&ao.__await||function(o){return this instanceof e?(this.v=o,this):new e(o)},u=ao&&ao.__asyncGenerator||function(o,l,s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var c=s.apply(o,l||[]),d,f=[];return d={},p("next"),p("throw"),p("return"),d[Symbol.asyncIterator]=function(){return this},d;function p(T){c[T]&&(d[T]=function(E){return new Promise(function(S,N){f.push([T,E,S,N])>1||h(T,E)})})}function h(T,E){try{g(c[T](E))}catch(S){w(f[0][3],S)}}function g(T){T.value instanceof e?Promise.resolve(T.value.v).then(_,m):w(f[0][2],T)}function _(T){h("next",T)}function m(T){h("throw",T)}function w(T,E){T(E),f.shift(),f.length&&h(f[0][0],f[0][1])}};Object.defineProperty(ao,"__esModule",{value:!0}),ao.StreamingStore=void 0;const a=wl,r=Nr(),t=Twe();let i=class wwe{constructor(l=new a.Store){this.pendingStreams=new t.PendingStreamsIndex,this.ended=!1,this.listeners=[],this.store=l}addEndListener(l){this.listeners.push(l)}emitEndEvent(){for(const l of this.listeners)l()}hasEnded(){return this.ended}end(){this.ended=!0;for(const l of this.pendingStreams.allStreams)l.push(null);this.emitEndEvent()}importToListeners(l){l.on("data",s=>{if(!this.ended&&!this.store.countQuads(s.subject,s.predicate,s.object,s.graph))for(const c of this.pendingStreams.getPendingStreamsForQuad(s))c.emit("quad",s),c.isInitialized&&c.push(s)})}static concatStreams(l){return u(this,arguments,function*(){var c,d,f,p;for(const m of l)try{for(var h=!0,g=(d=void 0,n(m)),_;_=yield e(g.next()),c=_.done,!c;){p=_.value,h=!1;try{yield yield e(p)}finally{h=!0}}}catch(w){d={error:w}}finally{try{!h&&!c&&(f=g.return)&&(yield e(f.call(g)))}finally{if(d)throw d.error}}})}import(l){if(this.ended)throw new Error("Attempted to import into an ended StreamingStore");return this.importToListeners(l),this.store.import(l)}match(l,s,c,d){const f=this.store.match(l,s,c,d);let p=f;if(!this.ended){const h=new r.PassThrough({objectMode:!0});this.pendingStreams.addPatternListener(h,l,s,c,d),p=r.Readable.from(wwe.concatStreams([f,h])),h.on("quad",_=>{p.emit("quad",_)}),p._pipeSource=f;const g=f._read;f._read=_=>{h.isInitialized=!0,g.call(f,_)}}return p}getStore(){return this.store}};return ao.StreamingStore=i,ao}var Jye;function xLe(){return Jye||(Jye=1,(function(n){var e=fm&&fm.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=fm&&fm.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(Twe(),n),u(OLe(),n)})(fm)),fm}var Wye;function RLe(){if(Wye)return PR;Wye=1,Object.defineProperty(PR,"__esModule",{value:!0}),PR.StreamingStoreMetadata=void 0;const n=Eb(),e=xa(),u=xLe();let a=class extends u.StreamingStore{constructor(t,i,o){super(t),this.started=!1,this.containedSources=new Set,this.runningIterators=new Set,this.iteratorCreatedListeners=new Set,this.baseMetadata={state:new e.MetadataValidationState,cardinality:{type:"exact",value:0},variables:[]},this.metadataAccumulator=i,this.emitPartialCardinalities=o}import(t){return this.ended||super.import(t),t}hasRunningIterators(){return this.runningIterators.size>0}match(t,i,o,l){const s=super.match(t,i,o,l),c=new n.ClosableTransformIterator(s,{autoStart:!1,onClose:()=>{this.runningIterators.delete(c)}});let d=this.getStore().countQuads(t,i,o,l);const f={state:new e.MetadataValidationState,cardinality:{type:"estimate",value:d}};c.setProperty("metadata",f),c.setProperty("lastCount",d),this.emitPartialCardinalities&&s.on("quad",()=>{c.setProperty("lastCount",++d),this.updateMetadataState(c,d)}),this.runningIterators.add(c);for(const p of this.iteratorCreatedListeners)p();return c}setBaseMetadata(t,i){if(this.baseMetadata={...t},this.baseMetadata.cardinality={type:"exact",value:0},i)for(const o of this.runningIterators){const l=o.getProperty("lastCount");this.updateMetadataState(o,l)}}updateMetadataState(t,i){const o={state:new e.MetadataValidationState,cardinality:{type:"estimate",value:i},variables:[]};this.metadataAccumulator(this.baseMetadata,o).then(l=>{l.state=new e.MetadataValidationState;const s=t.getProperty("metadata");t.setProperty("metadata",l),s?.state.invalidate()}).catch(()=>{})}addIteratorCreatedListener(t){this.iteratorCreatedListeners.add(t)}removeIteratorCreatedListener(t){this.iteratorCreatedListeners.delete(t)}};return PR.StreamingStoreMetadata=a,PR}var Yye;function Swe(){if(Yye)return IR;Yye=1,Object.defineProperty(IR,"__esModule",{value:!0}),IR.QuerySourceHypermedia=void 0;const n=uN(),e=lt(),u=Gt(),a=wb(),r=Nr(),t=Qt(),i=_Le(),o=RLe();let l=class{constructor(c,d,f,p,h,g,_,m,w,T){this.referenceValue=d,this.cacheSize=c,this.firstUrl=d,this.forceSourceType=f,this.maxIterators=p,this.mediators=_,this.aggregateStore=h,this.emitPartialCardinalities=g,this.logWarning=m,this.dataFactory=w,this.bindingsFactory=T,this.sourcesState=new a.LRUCache({max:this.cacheSize})}async getSelectorShape(c){return(await this.getSourceCached({url:this.firstUrl},{},c,this.getAggregateStore(c))).source.getSelectorShape(c)}queryBindings(c,d,f){const p=this.getAggregateStore(d);if(p&&c.type==="pattern"&&p.started)return new n.QuerySourceRdfJs(p,d.getSafe(e.KeysInitQuery.dataFactory),this.bindingsFactory).queryBindings(c,d);this.sourcesState.size===0&&this.getSourceCached({url:this.firstUrl},{},d,p).catch(m=>_.destroy(m));const h=d.getSafe(e.KeysInitQuery.dataFactory),g=new t.Factory(h),_=new i.MediatedLinkedRdfSourcesAsyncRdfIterator(this.cacheSize,c,f,d,this.forceSourceType,this.firstUrl,this.maxIterators,(m,w)=>this.getSourceCached(m,w,d,p),p,this.mediators.mediatorMetadataAccumulate,this.mediators.mediatorRdfResolveHypermediaLinks,this.mediators.mediatorRdfResolveHypermediaLinksQueue,h,g);if(p){p.started=!0;const m=()=>_.kickstart();p.addIteratorCreatedListener(m),_.on("end",()=>p.removeIteratorCreatedListener(m))}return _}queryQuads(c,d){return new u.TransformIterator(async()=>(await this.getSourceCached({url:this.firstUrl},{},d,this.getAggregateStore(d))).source.queryQuads(c,d))}async queryBoolean(c,d){return await(await this.getSourceCached({url:this.firstUrl},{},d,this.getAggregateStore(d))).source.queryBoolean(c,d)}async queryVoid(c,d){return await(await this.getSourceCached({url:this.firstUrl},{},d,this.getAggregateStore(d))).source.queryVoid(c,d)}async getSource(c,d,f,p){c.context&&(f=f.merge(c.context));let h=c.url,g,_;if(this.forceSourceType==="sparql"&&f.get(e.KeysQueryOperation.querySources)?.length===1)g=new r.Readable,g.read=()=>null,{metadata:_}=await this.mediators.mediatorMetadataAccumulate.mediate({context:f,mode:"initialize"});else try{const T=await this.mediators.mediatorDereferenceRdf.mediate({context:f,url:h});h=T.url;const E=await this.mediators.mediatorMetadata.mediate({context:f,url:h,quads:T.data,triples:T.metadata?.triples});E.data.on("error",()=>{}),_=(await this.mediators.mediatorMetadataExtract.mediate({context:f,url:h,metadata:E.metadata,headers:T.headers,requestTime:T.requestTime})).metadata,g=E.data,c.transform&&(g=await c.transform(g))}catch(T){g=new r.Readable,g.read=()=>(setTimeout(()=>g.emit("error",T)),null),{metadata:_}=await this.mediators.mediatorMetadataAccumulate.mediate({context:f,mode:"initialize"}),this.logWarning(`Metadata extraction for ${h} failed: ${T.message}`)}p?.setBaseMetadata(_,!1),p?.containedSources.add(c.url),p?.import(g);const{source:m,dataset:w}=await this.mediators.mediatorQuerySourceIdentifyHypermedia.mediate({context:f,forceSourceType:c.url===this.firstUrl?this.forceSourceType:void 0,handledDatasets:d,metadata:_,quads:g,url:h});return w&&(d[w]=!0),{link:c,source:m,metadata:_,handledDatasets:d}}getSourceCached(c,d,f,p){let h=this.sourcesState.get(c.url);return h||(h=this.getSource(c,d,f,p),(c.url===this.firstUrl||p===void 0)&&this.sourcesState.set(c.url,h),h)}getAggregateStore(c){let d;if(this.aggregateStore){const f=c.get(e.KeysQuerySourceIdentify.hypermediaSourcesAggregatedStores);if(f)return d=f.get(this.firstUrl),d||(d=new o.StreamingStoreMetadata(void 0,async(p,h)=>(await this.mediators.mediatorMetadataAccumulate.mediate({mode:"append",accumulatedMetadata:p,appendingMetadata:h,context:c})).metadata,this.emitPartialCardinalities),f.set(this.firstUrl,d)),d}}toString(){return`QuerySourceHypermedia(${this.firstUrl})`}};return IR.QuerySourceHypermedia=l,IR}var Zye;function NLe(){if(Zye)return NR;Zye=1,Object.defineProperty(NR,"__esModule",{value:!0}),NR.ActorQuerySourceIdentifyHypermedia=void 0;const n=aN(),e=lt(),u=De(),a=pn(),r=Swe();let t=class extends n.ActorQuerySourceIdentify{constructor(o){super(o)}async test(o){return typeof o.querySourceUnidentified.value!="string"?(0,u.failTest)(`${this.name} requires a single query source with a URL value to be present in the context.`):(0,u.passTestVoid)()}async run(o){const l=o.context.getSafe(e.KeysInitQuery.dataFactory);return{querySource:{source:new r.QuerySourceHypermedia(this.cacheSize,o.querySourceUnidentified.value,o.querySourceUnidentified.type,this.maxIterators,this.aggregateTraversalStore&&!!o.querySourceUnidentified.context?.get(e.KeysQuerySourceIdentify.traverse),this.emitPartialCardinalities,{mediatorMetadata:this.mediatorMetadata,mediatorMetadataExtract:this.mediatorMetadataExtract,mediatorMetadataAccumulate:this.mediatorMetadataAccumulate,mediatorDereferenceRdf:this.mediatorDereferenceRdf,mediatorQuerySourceIdentifyHypermedia:this.mediatorQuerySourceIdentifyHypermedia,mediatorRdfResolveHypermediaLinks:this.mediatorRdfResolveHypermediaLinks,mediatorRdfResolveHypermediaLinksQueue:this.mediatorRdfResolveHypermediaLinksQueue},s=>this.logWarn(o.context,s),l,await a.BindingsFactory.create(this.mediatorMergeBindingsContext,o.context,l)),context:o.querySourceUnidentified.context??new u.ActionContext}}}};return NR.ActorQuerySourceIdentifyHypermedia=t,NR}var eme;function yH(){return eme||(eme=1,(function(n){var e=dm&&dm.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=dm&&dm.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(NLe(),n),u(Swe(),n)})(dm)),dm}var ym={},VR={},tme;function ILe(){if(tme)return VR;tme=1,Object.defineProperty(VR,"__esModule",{value:!0}),VR.ActorRdfJoinNone=void 0;const n=ki(),e=lt(),u=De(),a=pn(),r=xa(),t=Gt();let i=class extends n.ActorRdfJoin{constructor(l){super(l,{logicalType:"inner",physicalName:"none",limitEntries:0})}async test(l){return l.entries.length>0?(0,u.failTest)(`Actor ${this.name} can only join zero entries`):await this.getJoinCoefficients(l,void 0)}async getOutput(l){const s=l.context.getSafe(e.KeysInitQuery.dataFactory),c=await a.BindingsFactory.create(this.mediatorMergeBindingsContext,l.context,s);return{result:{bindingsStream:new t.ArrayIterator([c.bindings()],{autoStart:!1}),metadata:()=>Promise.resolve({state:new r.MetadataValidationState,cardinality:{type:"exact",value:1},variables:[]}),type:"bindings"}}}async getJoinCoefficients(l,s){return(0,u.passTestWithSideData)({iterations:0,persistedItems:0,blockingItems:0,requestTime:0},s)}};return VR.ActorRdfJoinNone=i,VR}var rme;function mH(){return rme||(rme=1,(function(n){var e=ym&&ym.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=ym&&ym.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(ILe(),n)})(ym)),ym}var mm={},HR={},bm={},kR={},nme;function DLe(){if(nme)return kR;nme=1,Object.defineProperty(kR,"__esModule",{value:!0}),kR.ActorRdfJoinMultiBind=void 0;const n=ki(),e=lt(),u=De(),a=pn(),r=er(),t=Gt(),i=Qt();let o=class Ewe extends n.ActorRdfJoin{constructor(s){super(s,{logicalType:"inner",physicalName:"bind",canHandleUndefs:!0,isLeaf:!1})}static createBindStream(s,c,d,f,p,h,g){const _=s==="depth-first",m=w=>{const T=d.map(S=>(0,r.materializeOperation)(S,w,h,g,{bindFilter:!0})),E=S=>S.merge(w);return new t.TransformIterator(async()=>(await f(T,w)).transform({map:E}),{maxBufferSize:128,autoStart:_})};switch(s){case"depth-first":return new t.MultiTransformIterator(c,{autoStart:!1,multiTransform:m,optional:p});case"breadth-first":return new t.UnionIterator(c.transform({map:m,optional:p}),{autoStart:!1});default:throw new Error(`Received request for unknown bind order: ${s}`)}}async getOutput(s,c){const d=s.context.getSafe(e.KeysInitQuery.dataFactory),f=new i.Factory(d),p=await a.BindingsFactory.create(this.mediatorMergeBindingsContext,s.context,d),h=c.entriesSorted;this.logDebug(s.context,"First entry for Bind Join: ",()=>({entry:h[0].operation,cardinality:h[0].metadata.cardinality,order:h[0].metadata.order,availableOrders:h[0].metadata.availableOrders}));for(const[T,E]of h.entries())T!==0&&E.output.bindingsStream.close();const g=h[0].output,_=[...h];_.splice(0,1);const m=s.context.set(e.KeysQueryOperation.joinLeftMetadata,h[0].metadata).set(e.KeysQueryOperation.joinRightMetadatas,_.map(T=>T.metadata));return{result:{type:"bindings",bindingsStream:Ewe.createBindStream(this.bindOrder,g.bindingsStream,_.map(T=>T.operation),async(T,E)=>{const S=T.length===1?T[0]:f.createJoin(T,T.every(j=>!j.metadata));return(0,r.getSafeBindings)(await this.mediatorQueryOperation.mediate({operation:S,context:m?.set(e.KeysQueryOperation.joinBindings,E)})).bindingsStream},!1,f,p),metadata:()=>this.constructResultMetadata(h,h.map(T=>T.metadata),s.context)},physicalPlanMetadata:{bindIndex:c.entriesUnsorted.indexOf(h[0]),bindOperation:h[0].operation,bindOperationCardinality:h[0].metadata.cardinality,bindOrder:this.bindOrder}}}canBindWithOperation(s){let c=!0;return i.Util.recurseOperation(s,{[i.Algebra.types.EXTEND](){return c=!1,!1},[i.Algebra.types.GROUP](){return c=!1,!1}}),c}async getJoinCoefficients(s,c){let{metadatas:d}=c;const f=s.entries.map((O,I)=>({...O,metadata:d[I]})),p=await n.ActorRdfJoin.sortJoinEntries(this.mediatorJoinEntriesSort,f,s.context);if(p.isFailed())return p;const h=p.get();d=h.map(O=>O.metadata);const g=n.ActorRdfJoin.getRequestInitialTimes(d),_=n.ActorRdfJoin.getRequestItemTimes(d),m=[...h],w=[...g],T=[..._];if(m.splice(0,1),w.splice(0,1),T.splice(0,1),m.some(O=>!this.canBindWithOperation(O.operation)))return(0,u.failTest)(`Actor ${this.name} can not bind on Extend and Group operations`);if(m.some(O=>O.operationModified))return(0,u.failTest)(`Actor ${this.name} can not be used over remaining entries with modified operations`);const E=_.some(O=>O>0);if(d[0].cardinality.value*this.minMaxCardinalityRatio/(E?1:3)>Math.max(...d.map(O=>O.cardinality.value)))return(0,u.failTest)(`Actor ${this.name} can only run if the smallest stream is much smaller than largest stream`);const S=await Promise.all(m.map(async O=>(await this.mediatorJoinSelectivity.mediate({entries:[h[0],O],context:s.context})).selectivity*this.selectivityModifier)),N=m.map((O,I)=>O.metadata.cardinality.value*S[I]).reduce((O,I)=>O+I,0),j=w.reduce((O,I)=>O+I,0),q=T.reduce((O,I)=>O+I,0);return(0,u.passTestWithSideData)({iterations:d[0].cardinality.value*N,persistedItems:0,blockingItems:0,requestTime:g[0]+d[0].cardinality.value*(_[0]+j+N*q)},{...c,entriesUnsorted:f,entriesSorted:h})}};return kR.ActorRdfJoinMultiBind=o,kR}var ame;function jP(){return ame||(ame=1,(function(n){var e=bm&&bm.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=bm&&bm.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(DLe(),n)})(bm)),bm}var ime;function FLe(){if(ime)return HR;ime=1,Object.defineProperty(HR,"__esModule",{value:!0}),HR.ActorRdfJoinOptionalBind=void 0;const n=jP(),e=ki(),u=lt(),a=De(),r=pn(),t=er(),i=Qt();let o=class extends e.ActorRdfJoin{constructor(s){super(s,{logicalType:"optional",physicalName:"bind",limitEntries:2,canHandleUndefs:!0,isLeaf:!1,requiresVariableOverlap:!0,canHandleOperationRequired:!0})}async getOutput(s){const c=s.context.getSafe(u.KeysInitQuery.dataFactory),d=new i.Factory(c),f=await r.BindingsFactory.create(this.mediatorMergeBindingsContext,s.context,c);s.entries[1].output.bindingsStream.close();const p=s.context.set(u.KeysQueryOperation.joinLeftMetadata,await s.entries[0].output.metadata()).set(u.KeysQueryOperation.joinRightMetadatas,[await s.entries[1].output.metadata()]);return{result:{type:"bindings",bindingsStream:n.ActorRdfJoinMultiBind.createBindStream(this.bindOrder,s.entries[0].output.bindingsStream,[s.entries[1].operation],async(g,_)=>{const m=g[0];return(0,t.getSafeBindings)(await this.mediatorQueryOperation.mediate({operation:m,context:p?.set(u.KeysQueryOperation.joinBindings,_)})).bindingsStream},!0,d,f),metadata:async()=>await this.constructResultMetadata(s.entries,await e.ActorRdfJoin.getMetadatas(s.entries),s.context,{},!0)}}}async getJoinCoefficients(s,c){const{metadatas:d}=c,f=e.ActorRdfJoin.getRequestInitialTimes(d),p=e.ActorRdfJoin.getRequestItemTimes(d);if(s.entries[1].operation.type===i.Algebra.types.EXTEND||s.entries[1].operation.type===i.Algebra.types.GROUP)return(0,a.failTest)(`Actor ${this.name} can not bind on Extend and Group operations`);const h=(await this.mediatorJoinSelectivity.mediate({entries:s.entries,context:s.context})).selectivity*this.selectivityModifier;return(0,a.passTestWithSideData)({iterations:d[0].cardinality.value*d[1].cardinality.value*h,persistedItems:0,blockingItems:0,requestTime:f[0]+d[0].cardinality.value*(p[0]+f[1]+h*d[1].cardinality.value*p[1])},c)}};return HR.ActorRdfJoinOptionalBind=o,HR}var ume;function bH(){return ume||(ume=1,(function(n){var e=mm&&mm.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=mm&&mm.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(FLe(),n)})(mm)),mm}var gm={},zR={},vm={},GR={},ome;function PLe(){if(ome)return GR;ome=1,Object.defineProperty(GR,"__esModule",{value:!0}),GR.ActorTermComparatorFactory=void 0;const n=De();let e=class extends n.Actor{constructor(a){super(a),this.mediatorQueryOperation=a.mediatorQueryOperation,this.mediatorFunctionFactory=a.mediatorFunctionFactory,this.mediatorMergeBindingsContext=a.mediatorMergeBindingsContext}};return GR.ActorTermComparatorFactory=e,GR}var sme;function jLe(){return sme||(sme=1,(function(n){var e=vm&&vm.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=vm&&vm.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(PLe(),n)})(vm)),vm}var $R={},cme;function MLe(){if(cme)return $R;cme=1,Object.defineProperty($R,"__esModule",{value:!0}),$R.TermComparatorExpressionEvaluator=void 0;let n=class{constructor(u,a,r){this.internalEvaluator=u,this.equalityFunction=a,this.lessThanFunction=r,this._TERM_ORDERING_PRIORITY={Variable:0,BlankNode:1,NamedNode:2,Literal:3,Quad:4,DefaultGraph:5}}orderTypes(u,a){if(u===a)return 0;if(u===void 0)return-1;if(a===void 0)return 1;if(u.termType!==a.termType)return this._TERM_ORDERING_PRIORITY[u.termType]<this._TERM_ORDERING_PRIORITY[a.termType]?-1:1;if(u.equals(a))return 0;if(u.termType==="Quad"&&a.termType==="Quad"){const r=this.orderTypes(u.subject,a.subject);if(r!==0)return r;const t=this.orderTypes(u.predicate,a.predicate);if(t!==0)return t;const i=this.orderTypes(u.object,a.object);return i!==0?i:this.orderTypes(u.graph,a.graph)}return u.termType==="Literal"?this.orderLiteralTypes(u,a):this.comparePrimitives(u.value,a.value)}orderLiteralTypes(u,a){const r=this.internalEvaluator.transformer.transformLiteral(u),t=this.internalEvaluator.transformer.transformLiteral(a);try{return this.equalityFunction.applyOnTerms([r,t],this.internalEvaluator).typedValue?0:this.lessThanFunction.applyOnTerms([r,t],this.internalEvaluator).typedValue?-1:1}catch{const i=this.comparePrimitives(r.dataType,t.dataType);return i!==0?i:this.comparePrimitives(r.str(),t.str())}}comparePrimitives(u,a){return u===a?0:u<a?-1:1}};return $R.TermComparatorExpressionEvaluator=n,$R}var lme;function CLe(){if(lme)return zR;lme=1,Object.defineProperty(zR,"__esModule",{value:!0}),zR.ActorTermComparatorFactoryExpressionEvaluator=void 0;const n=pwe(),e=jLe(),u=lt(),a=De(),r=pn(),t=Xe(),i=MLe();let o=class extends e.ActorTermComparatorFactory{async test(s){return(0,a.passTestVoid)()}async run({context:s}){return s=t.prepareEvaluatorActionContext(s),new i.TermComparatorExpressionEvaluator(new n.InternalEvaluator(s,this.mediatorFunctionFactory,this.mediatorQueryOperation,await r.BindingsFactory.create(this.mediatorMergeBindingsContext,s,s.getSafe(u.KeysInitQuery.dataFactory))),await this.mediatorFunctionFactory.mediate({functionName:t.SparqlOperator.EQUAL,context:s,requireTermExpression:!0}),await this.mediatorFunctionFactory.mediate({functionName:t.SparqlOperator.LT,context:s,requireTermExpression:!0}))}};return zR.ActorTermComparatorFactoryExpressionEvaluator=o,zR}var dme;function gH(){return dme||(dme=1,(function(n){var e=gm&&gm.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=gm&&gm.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(CLe(),n)})(gm)),gm}var _m={},XR={},fme;function LLe(){if(fme)return XR;fme=1,Object.defineProperty(XR,"__esModule",{value:!0}),XR.ActorRdfJoinMultiSmallestFilterBindings=void 0;const n=ki(),e=lt(),u=De(),a=pn(),r=Eb(),t=er(),i=Gt(),o=Qt();let l=class extends n.ActorRdfJoin{constructor(c){super(c,{logicalType:"inner",physicalName:"multi-smallest-filter-bindings",limitEntries:2,limitEntriesMin:!0,isLeaf:!1})}async sortJoinEntries(c,d){let{entries:f}=await this.mediatorJoinEntriesSort.mediate({entries:c,context:d});f=f.sort((w,T)=>w.operationModified&&!T.operationModified?-1:0);const p=f.splice(0,1)[0];let h,g=-1,_=0;for(const[w,T]of f.entries()){const E=p.metadata.variables.filter(S=>T.metadata.variables.some(N=>S.variable.equals(N.variable))).length;(!h||E>_||E===_&&(T.metadata.variables.length<h.metadata.variables.length||T.metadata.variables.length===h.metadata.variables.length&&T.metadata.cardinality.value<h.metadata.cardinality.value))&&(h=T,g=w,_=E)}if(_===0)return(0,u.failTest)(`Actor ${this.name} can only join with common variables`);const m=f;return m.splice(g,1),(0,u.passTest)({first:p,second:h,remaining:m})}async getOutput(c){const d=c.context.getSafe(e.KeysInitQuery.dataFactory),f=new o.Factory(d),p=await n.ActorRdfJoin.getEntriesWithMetadatas([...c.entries]),{first:h,second:g,remaining:_}=(await this.sortJoinEntries(p,c.context)).getOrThrow(),m=h.output.bindingsStream;h.output.bindingsStream=m.clone();const w=h.metadata.variables.filter(A=>g.metadata.variables.some(P=>A.variable.equals(P.variable))),T={},E=m.clone().map(A=>A.filter((P,C)=>w.some(B=>B.variable.equals(C)))).filter(A=>{const P=(0,a.bindingsToString)(A);return!(P in T)&&(T[P]=!0)}),S=new r.ChunkedIterator(E,this.blockSize,{autoStart:!1}),N=(0,t.getOperationSource)(g.operation),q={output:{type:"bindings",bindingsStream:new i.UnionIterator(S.map(A=>N.source.queryBindings(g.operation,N.context?c.context.merge(N.context):c.context,{filterBindings:{bindings:A,metadata:h.metadata}}))),metadata:g.output.metadata},operation:g.operation,operationModified:!0};g.output.bindingsStream.destroy();const O={output:(0,t.getSafeBindings)(await this.mediatorJoin.mediate({type:c.type,entries:[h,q],context:c.context.set(e.KeysRdfJoin.lastPhysicalJoin,this.physicalName)})),operation:f.createJoin([h.operation,q.operation],!1),operationModified:!0},I=_;return I.unshift(O),{result:await this.mediatorJoin.mediate({type:c.type,entries:I,context:c.context}),physicalPlanMetadata:{firstIndex:p.indexOf(h),secondIndex:p.indexOf(g)}}}async getJoinCoefficients(c,d){let{metadatas:f}=d;if(c.context.get(e.KeysRdfJoin.lastPhysicalJoin)===this.physicalName)return(0,u.failTest)(`Actor ${this.name} can not be called recursively`);f=[...f];const p=await this.sortJoinEntries(c.entries.map((O,I)=>({...O,metadata:f[I]})),c.context);if(p.isFailed())return p;const{first:h,second:g,remaining:_}=p.get(),m=(0,t.getOperationSource)(g.operation);if(!m)return(0,u.failTest)(`Actor ${this.name} can only process if entries[1] has a source`);const w=g.operation,T=await m.source.getSelectorShape(c.context),E=c.context.get(e.KeysInitQuery.extensionFunctionsAlwaysPushdown);if(!(0,t.doesShapeAcceptOperation)(T,w,{filterBindings:!0,wildcardAcceptAllExtensionFunctions:E}))return(0,u.failTest)(`Actor ${this.name} can only process if entries[1] accept filterBindings`);f=[h.metadata,g.metadata,..._.map(O=>O.metadata)];const S=n.ActorRdfJoin.getRequestInitialTimes(f),N=n.ActorRdfJoin.getRequestItemTimes(f),{selectivity:j}=await this.mediatorJoinSelectivity.mediate({entries:[h,g],context:c.context}),q=_.reduce((O,I)=>O*I.metadata.cardinality.value*this.selectivityModifier,1);return(0,u.passTestWithSideData)({iterations:j*this.selectivityModifier*g.metadata.cardinality.value*q,persistedItems:h.metadata.cardinality.value,blockingItems:h.metadata.cardinality.value,requestTime:S[0]+f[0].cardinality.value*N[0]+S[1]+q*N[1]},d)}};return XR.ActorRdfJoinMultiSmallestFilterBindings=l,XR}var pme;function vH(){return pme||(pme=1,(function(n){var e=_m&&_m.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=_m&&_m.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(LLe(),n)})(_m)),_m}var Tm={},KR={},wm={},Qs={},hme;function qLe(){if(hme)return Qs;hme=1,Object.defineProperty(Qs,"__esModule",{value:!0}),Qs.KeysRdfJoin=Qs.KeysExtractLinksTree=Qs.KeysRdfResolveHypermediaLinks=void 0;const n=De();return Qs.KeysRdfResolveHypermediaLinks={annotateSources:new n.ActionContextKey("@comunica/bus-rdf-resolve-hypermedia-links:annotateSources"),linkFilters:new n.ActionContextKey("@comunica/bus-rdf-resolve-hypermedia-links:linkFilters")},Qs.KeysExtractLinksTree={strictTraversal:new n.ActionContextKey("@comunica/actor-extract-links-tree:strictTraversal")},Qs.KeysRdfJoin={skipAdaptiveJoin:new n.ActionContextKey("@comunica/bus-rdf-join:skipAdaptiveJoin")},Qs}var yme;function BLe(){return yme||(yme=1,(function(n){var e=wm&&wm.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=wm&&wm.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(qLe(),n)})(wm)),wm}var JR={},Sm={},WR={},YR={},ZR={},mme;function Awe(){if(mme)return ZR;mme=1,Object.defineProperty(ZR,"__esModule",{value:!0}),ZR.TermDictionaryNumberRecordFullTerms=void 0;const n=Rr(),e=Xt();let u=class{constructor(r=new n.DataFactory){this.lastId=0,this.dictionary={},this.reverseDictionary={},this.features={quotedTriples:!1},this.dataFactory=r}encode(r){const t=(0,e.termToString)(r);let i=this.dictionary[t];return i===void 0&&(i=this.lastId++,this.dictionary[t]=i,this.reverseDictionary[i]=r),i}encodeOptional(r){const t=(0,e.termToString)(r);return this.dictionary[t]}decode(r){const t=this.reverseDictionary[r];if(t===void 0)throw new Error(`The value ${r} is not present in this dictionary`);return t}*encodings(){for(const r of Object.keys(this.reverseDictionary))yield Number.parseInt(r,10)}findQuotedTriples(r){throw new Error("findQuotedTriples is not supported")}findQuotedTriplesEncoded(r){throw new Error("findQuotedTriplesEncoded is not supported")}};return ZR.TermDictionaryNumberRecordFullTerms=u,ZR}var e6={},t6={},u9={},bme;function Zo(){return bme||(bme=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.arePatternsQuoted=n.quadHasVariables=n.quadToPattern=n.encodeOptionalTerms=n.orderQuadComponents=n.getComponentOrderScore=n.getBestIndex=n.QUAD_TERM_NAMES_INVERSE=void 0;const e=Yr();n.QUAD_TERM_NAMES_INVERSE=Object.fromEntries(e.QUAD_TERM_NAMES.map((s,c)=>[s,c]));function u(s,c){if(s.length===1||c.every(p=>p!==void 0))return 0;const d=[];for(let p=0;p<e.QUAD_TERM_NAMES.length;p++)c[p]&&d.push(e.QUAD_TERM_NAMES[p]);return s.map((p,h)=>({score:a(p,d),index:h})).sort((p,h)=>h.score-p.score)[0].index}n.getBestIndex=u;function a(s,c){return s.map((d,f)=>c.includes(d)?s.length-f:0).reduce((d,f)=>d+f,0)}n.getComponentOrderScore=a;function r(s,c){return s.map(d=>{const f=n.QUAD_TERM_NAMES_INVERSE[d];return c[f]})}n.orderQuadComponents=r;function t(s,c){const d=s.map(f=>{if(f){if(f.termType==="Quad"&&o(f))return;const p=c.encodeOptional(f);return p===void 0?"none":p}return f});if(!d.includes("none"))return d}n.encodeOptionalTerms=t;function i(s,c,d,f,p){let h=!1;return[[s||void 0,c||void 0,d||void 0,f||void 0].map(_=>{if(_){if(_.termType==="Variable")return;if(_.termType==="Quad"){if(p)return _;h=!0;return}}return _}),h]}n.quadToPattern=i;function o(s){for(const c of e.QUAD_TERM_NAMES){const d=s[c];if(d.termType==="Variable"||d.termType==="Quad"&&o(d))return!0}return!1}n.quadHasVariables=o;function l(s){return s.map(c=>c?.termType==="Quad"&&o(c))}n.arePatternsQuoted=l})(u9)),u9}var gme;function _H(){if(gme)return t6;gme=1,Object.defineProperty(t6,"__esModule",{value:!0}),t6.RdfStoreIndexNestedMap=void 0;const n=Zo();let e=class{constructor(a){this.features={quotedTripleFiltering:!1},this.dictionary=a.dictionary,this.nestedMap=new Map}set(a,r){const t=this.nestedMap;let i=t.get(a[0]);i||(i=new Map,t.set(a[0],i));let o=i.get(a[1]);o||(o=new Map,i.set(a[1],o));let l=o.get(a[2]);l||(l=new Map,o.set(a[2],l));const s=l.has(a[3]);return s||l.set(a[3],r),!s}remove(a){const r=this.nestedMap,t=r.get(a[0]);if(!t)return!1;const i=t.get(a[1]);if(!i)return!1;const o=i.get(a[2]);if(!o)return!1;const l=o.delete(a[3]);return l&&o.size===0&&(i.delete(a[2]),i.size===0&&(t.delete(a[1]),t.size===0&&r.delete(a[0]))),l}get(a){const r=(0,n.encodeOptionalTerms)(a,this.dictionary);if(!(!r||r.includes(void 0)))return this.getEncoded(r)}getEncoded(a){const r=this.nestedMap.get(a[0]);if(!r)return;const t=r.get(a[1]);if(!t)return;const i=t.get(a[2]);if(i)return i.get(a[3])}*find(a){const r=(0,n.encodeOptionalTerms)(a,this.dictionary);if(!r)return;const[t,i,o,l]=r,[s,c,d,f]=a;let p,h,g,_,m,w,T;const E=this.nestedMap,S=t!==void 0?E.has(t)?[t]:[]:E.keys();for(const N of S){m=E.get(N),p=s||this.dictionary.decode(N);const j=i!==void 0?m.has(i)?[i]:[]:m.keys();for(const q of j){w=m.get(q),h=c||this.dictionary.decode(q);const O=o!==void 0?w.has(o)?[o]:[]:w.keys();for(const I of O){T=w.get(I),g=d||this.dictionary.decode(I);const A=l!==void 0?T.has(l)?[l]:[]:T.keys();for(const P of A)_=f||this.dictionary.decode(P),yield[p,h,g,_]}}}}*findEncoded(a,r){const[t,i,o,l]=a;let s,c,d;const f=this.nestedMap,p=t!==void 0?f.has(t)?[t]:[]:f.keys();for(const h of p){s=f.get(h);const g=i!==void 0?s.has(i)?[i]:[]:s.keys();for(const _ of g){c=s.get(_);const m=o!==void 0?c.has(o)?[o]:[]:c.keys();for(const w of m){d=c.get(w);const T=l!==void 0?d.has(l)?[l]:[]:d.keys();for(const E of T)yield[h,_,w,E]}}}}count(a){let r=0;const t=(0,n.encodeOptionalTerms)(a,this.dictionary);if(!t)return 0;const i=t[0],o=t[1],l=t[2],s=t[3];let c,d,f;const p=this.nestedMap,h=i!==void 0?p.has(i)?[i]:[]:p.keys();for(const g of h){c=p.get(g);const _=o!==void 0?c.has(o)?[o]:[]:c.keys();for(const m of _){d=c.get(m);const w=l!==void 0?d.has(l)?[l]:[]:d.keys();for(const T of w)f=d.get(T),s!==void 0?f.has(s)&&r++:r+=f.size}}return r}};return t6.RdfStoreIndexNestedMap=e,t6}var vme;function Owe(){if(vme)return e6;vme=1,Object.defineProperty(e6,"__esModule",{value:!0}),e6.TermDictionaryQuotedIndexed=void 0;const n=Rr(),e=_H(),u=Zo();let a=class zs{constructor(t,i=new n.DataFactory){this.quotedTriplesDictionary=[],this.features={quotedTriples:!0},this.plainTermDictionary=t;const o={indexCombinations:[],indexConstructor:void 0,dictionary:this,dataFactory:i};this.quotedTriplesReverseDictionaries=[new e.RdfStoreIndexNestedMap(o),new e.RdfStoreIndexNestedMap(o),new e.RdfStoreIndexNestedMap(o)],this.dataFactory=i}encode(t){return t.termType==="Quad"?this.encodeQuotedTriple(t,!1):this.plainTermDictionary.encode(t)}encodeQuotedTriple(t,i){if(t.graph.termType!=="DefaultGraph")throw new Error("Encoding of quoted quads outside of the default graph is not allowed");const o=(0,u.encodeOptionalTerms)([t.subject,t.predicate,t.object,t.graph],this),l=o&&o.every(f=>f!==void 0)?this.quotedTriplesReverseDictionaries[0].getEncoded(o):void 0;if(l!==void 0||i)return l===void 0?void 0:zs.BITMASK|l;const s=[this.encode(t.subject),this.encode(t.predicate),this.encode(t.object)],c=this.quotedTriplesDictionary.length+1;this.quotedTriplesDictionary.push(s);const d=this.encode(this.dataFactory.defaultGraph());return this.quotedTriplesReverseDictionaries[0].set([s[0],s[1],s[2],d],c),this.quotedTriplesReverseDictionaries[1].set([s[1],s[2],s[0],d],c),this.quotedTriplesReverseDictionaries[2].set([s[2],s[0],s[1],d],c),zs.BITMASK|c}encodeOptional(t){return t.termType==="Quad"?this.encodeQuotedTriple(t,!0):this.plainTermDictionary.encodeOptional(t)}decode(t){if(zs.BITMASK&t){const i=(~zs.BITMASK&t)-1;if(i>=this.quotedTriplesDictionary.length)throw new Error(`The value ${t} is not present in the quoted triples range of the dictionary`);const o=this.quotedTriplesDictionary[i];return this.dataFactory.quad(this.decode(o[0]),this.decode(o[1]),this.decode(o[2]))}return this.plainTermDictionary.decode(t)}*encodings(){for(const t of this.plainTermDictionary.encodings())yield t;for(const t of this.quotedTriplesDictionary.keys())yield zs.BITMASK|1+t}*findQuotedTriples(t){for(const i of this.findQuotedTriplesEncoded(t))yield this.decode(i)}*findQuotedTriplesEncoded(t){const[i,o]=(0,u.quadToPattern)(t.subject,t.predicate,t.object,t.graph,!0);for(const l of this.patternToIterable(i[0]))for(const s of this.patternToIterable(i[1]))for(const c of this.patternToIterable(i[2]))for(const d of this.patternToIterable(i[3]))if(l&&s||!s&&!c){const f=[l,s,c,d];for(const p of this.quotedTriplesReverseDictionaries[0].findEncoded(f,i))yield zs.BITMASK|this.quotedTriplesReverseDictionaries[0].getEncoded(p)}else if(!l&&s){const f=[s,c,l,d];for(const p of this.quotedTriplesReverseDictionaries[1].findEncoded(f,i))yield zs.BITMASK|this.quotedTriplesReverseDictionaries[1].getEncoded(p)}else{const f=[c,l,s,d];for(const p of this.quotedTriplesReverseDictionaries[2].findEncoded(f,i))yield zs.BITMASK|this.quotedTriplesReverseDictionaries[2].getEncoded(p)}}*patternToIterable(t){if(t?.termType==="Quad"){yield*this.findQuotedTriplesEncoded(t);return}if(t===void 0){yield void 0;return}const i=this.encodeOptional(t);i!==void 0&&(yield i)}};return a.BITMASK=1<<31,e6.TermDictionaryQuotedIndexed=a,e6}var r6={},_me;function xwe(){if(_me)return r6;_me=1,Object.defineProperty(r6,"__esModule",{value:!0}),r6.RdfStoreIndexNestedMapQuoted=void 0;const n=Zo(),e=_H();let u=class extends e.RdfStoreIndexNestedMap{constructor(r){super(r),this.features={quotedTripleFiltering:!0}}*getQuotedPatternKeys(r,t){for(const i of this.dictionary.findQuotedTriplesEncoded(t))r.has(i)&&(yield i)}*find(r){const t=(0,n.encodeOptionalTerms)(r,this.dictionary);if(!t)return;const[i,o,l,s]=t,[c,d,f,p]=r,[h,g,_,m]=(0,n.arePatternsQuoted)(r);let w,T,E,S,N,j,q;const O=this.nestedMap,I=c!==void 0?h?this.getQuotedPatternKeys(O,c):O.has(i)?[i]:[]:O.keys();for(const A of I){N=O.get(A),w=!h&&c?c:this.dictionary.decode(A);const P=d!==void 0?g?this.getQuotedPatternKeys(N,d):N.has(o)?[o]:[]:N.keys();for(const C of P){j=N.get(C),T=!g&&d?d:this.dictionary.decode(C);const B=f!==void 0?_?this.getQuotedPatternKeys(j,f):j.has(l)?[l]:[]:j.keys();for(const V of B){q=j.get(V),E=!_&&f?f:this.dictionary.decode(V);const U=p!==void 0?m?this.getQuotedPatternKeys(q,p):q.has(s)?[s]:[]:q.keys();for(const G of U)S=!m&&p?p:this.dictionary.decode(G),yield[w,T,E,S]}}}}*findEncoded(r,t){const[i,o,l,s]=r,[c,d,f,p]=t,[h,g,_,m]=(0,n.arePatternsQuoted)(t);let w,T,E;const S=this.nestedMap,N=c!==void 0?h?this.getQuotedPatternKeys(S,c):S.has(i)?[i]:[]:S.keys();for(const j of N){w=S.get(j);const q=d!==void 0?g?this.getQuotedPatternKeys(w,d):w.has(o)?[o]:[]:w.keys();for(const O of q){T=w.get(O);const I=f!==void 0?_?this.getQuotedPatternKeys(T,f):T.has(l)?[l]:[]:T.keys();for(const A of I){E=T.get(A);const P=p!==void 0?m?this.getQuotedPatternKeys(E,p):E.has(s)?[s]:[]:E.keys();for(const C of P)yield[Number.parseInt(j,10),Number.parseInt(O,10),Number.parseInt(A,10),Number.parseInt(C,10)]}}}}count(r){let t=0;const i=(0,n.encodeOptionalTerms)(r,this.dictionary);if(!i)return 0;const[o,l,s,c]=i,[d,f,p,h]=r,[g,_,m,w]=(0,n.arePatternsQuoted)(r);let T,E,S;const N=this.nestedMap,j=d!==void 0?g?this.getQuotedPatternKeys(N,d):N.has(o)?[o]:[]:N.keys();for(const q of j){T=N.get(q);const O=f!==void 0?_?this.getQuotedPatternKeys(T,f):T.has(l)?[l]:[]:T.keys();for(const I of O){E=T.get(I);const A=p!==void 0?m?this.getQuotedPatternKeys(E,p):E.has(s)?[s]:[]:E.keys();for(const P of A)S=E.get(P),h!==void 0?w?t+=[...this.getQuotedPatternKeys(S,h)].length:S.has(c)&&t++:t+=S.size}}return t}};return r6.RdfStoreIndexNestedMapQuoted=u,r6}var Tme;function Rwe(){if(Tme)return YR;Tme=1,Object.defineProperty(YR,"__esModule",{value:!0}),YR.RdfStore=void 0;const n=Gt(),e=Rr(),u=Yr(),a=Iwe(),r=Awe(),t=Owe(),i=xwe(),o=Zo();let l=class J6{constructor(c){this.features={quotedTripleFiltering:!0},this._size=0,this.options=c,this.dataFactory=c.dataFactory,this.dictionary=c.dictionary,this.indexesWrapped=J6.constructIndexesWrapped(c),this.indexesWrappedComponentOrders=this.indexesWrapped.map(d=>d.componentOrder)}static createDefault(){return new J6({indexCombinations:J6.DEFAULT_INDEX_COMBINATIONS,indexConstructor:c=>new i.RdfStoreIndexNestedMapQuoted(c),dictionary:new t.TermDictionaryQuotedIndexed(new r.TermDictionaryNumberRecordFullTerms),dataFactory:new e.DataFactory})}static constructIndexesWrapped(c){const d=[];if(c.indexCombinations.length===0)throw new Error("At least one index combination is required");for(const f of c.indexCombinations){if(!J6.isCombinationValid(f))throw new Error(`Invalid index combination: ${f}`);d.push({index:c.indexConstructor(c),componentOrder:f,componentOrderInverse:Object.fromEntries(f.map((p,h)=>[p,h]))})}return d}static isCombinationValid(c){for(const d of u.QUAD_TERM_NAMES)if(!c.includes(d))return!1;return c.length===4}get size(){return this._size}addQuad(c){const d=[this.dictionary.encode(c.subject),this.dictionary.encode(c.predicate),this.dictionary.encode(c.object),this.dictionary.encode(c.graph)];let f=!1;for(const p of this.indexesWrapped)f=p.index.set((0,o.orderQuadComponents)(p.componentOrder,d),!0);return f?(this._size++,!0):!1}removeQuad(c){const d=[this.dictionary.encodeOptional(c.subject),this.dictionary.encodeOptional(c.predicate),this.dictionary.encodeOptional(c.object),this.dictionary.encodeOptional(c.graph)];if(d.includes(void 0))return!1;let f=!1;for(const p of this.indexesWrapped)if(f=p.index.remove((0,o.orderQuadComponents)(p.componentOrder,d)),!f)break;return f?(this._size--,!0):!1}remove(c){return c.on("data",d=>this.removeQuad(d)),c}removeMatches(c,d,f,p){return this.remove(this.match(c,d,f,p))}deleteGraph(c){return typeof c=="string"&&(c=this.dataFactory.namedNode(c)),this.removeMatches(void 0,void 0,void 0,c)}import(c){return c.on("data",d=>this.addQuad(d)),c}*readQuads(c,d,f,p){const h=!!this.dictionary.features.quotedTriples&&Object.values(this.indexesWrapped).every(T=>T.index.features.quotedTripleFiltering),[g,_]=(0,o.quadToPattern)(c,d,f,p,h),m=this.indexesWrapped[(0,o.getBestIndex)(this.indexesWrappedComponentOrders,g)],w=(0,o.orderQuadComponents)(m.componentOrder,g);for(const T of m.index.find(w)){const E=this.dataFactory.quad(T[m.componentOrderInverse.subject],T[m.componentOrderInverse.predicate],T[m.componentOrderInverse.object],T[m.componentOrderInverse.graph]);_?(0,u.matchPattern)(E,c,d,f,p)&&(yield E):yield E}}getQuads(c,d,f,p){return[...this.readQuads(c,d,f,p)]}match(c,d,f,p){return(0,n.wrap)(this.readQuads(c,d,f,p))}countQuads(c,d,f,p){const h=!!this.dictionary.features.quotedTriples&&Object.values(this.indexesWrapped).every(w=>w.index.features.quotedTripleFiltering),[g]=(0,o.quadToPattern)(c,d,f,p,h);if(g.every(w=>w===void 0))return this.size;const _=this.indexesWrapped[(0,o.getBestIndex)(this.indexesWrappedComponentOrders,g)],m=(0,o.orderQuadComponents)(_.componentOrder,g);return _.index.count(m)}asDataset(){return new a.DatasetCoreWrapper(this)}};return l.DEFAULT_INDEX_COMBINATIONS=[["graph","subject","predicate","object"],["graph","predicate","object","subject"],["graph","object","subject","predicate"]],YR.RdfStore=l,YR}var wme;function Iwe(){if(wme)return WR;wme=1,Object.defineProperty(WR,"__esModule",{value:!0}),WR.DatasetCoreWrapper=void 0;const n=Rwe();let e=class Nwe{constructor(a){this.store=a}get size(){return this.store.size}add(a){return this.store.addQuad(a),this}delete(a){return this.store.removeQuad(a),this}has(a){for(const r of this.store.readQuads(a.subject,a.predicate,a.object,a.graph))return!0;return!1}match(a,r,t,i){const o=new n.RdfStore(this.store.options);for(const l of this.store.readQuads(a,r,t,i))o.addQuad(l);return new Nwe(o)}[Symbol.iterator](){return this.store.readQuads()}};return WR.DatasetCoreWrapper=e,WR}var o9={},Sme;function ULe(){return Sme||(Sme=1,Object.defineProperty(o9,"__esModule",{value:!0})),o9}var n6={},Eme;function QLe(){if(Eme)return n6;Eme=1,Object.defineProperty(n6,"__esModule",{value:!0}),n6.TermDictionaryNumberMap=void 0;const n=Rr(),e=Xt();let u=class{constructor(r=new n.DataFactory){this.lastId=0,this.dictionary=new Map,this.reverseDictionary=new Map,this.features={quotedTriples:!1},this.dataFactory=r}encode(r){const t=(0,e.termToString)(r);let i=this.dictionary.get(t);return i===void 0&&(i=this.lastId++,this.dictionary.set(t,i),this.reverseDictionary.set(i,t)),i}encodeOptional(r){const t=(0,e.termToString)(r);return this.dictionary.get(t)}decode(r){const t=this.reverseDictionary.get(r);if(t===void 0)throw new Error(`The value ${r} is not present in this dictionary`);return(0,e.stringToTerm)(t,this.dataFactory)}encodings(){return this.reverseDictionary.keys()}findQuotedTriples(r){throw new Error("findQuotedTriples is not supported")}findQuotedTriplesEncoded(r){throw new Error("findQuotedTriplesEncoded is not supported")}};return n6.TermDictionaryNumberMap=u,n6}var a6={},Ame;function VLe(){if(Ame)return a6;Ame=1,Object.defineProperty(a6,"__esModule",{value:!0}),a6.TermDictionaryNumberRecord=void 0;const n=Rr(),e=Xt();let u=class{constructor(r=new n.DataFactory){this.lastId=0,this.dictionary={},this.reverseDictionary={},this.features={quotedTriples:!1},this.dataFactory=r}encode(r){const t=(0,e.termToString)(r);let i=this.dictionary[t];return i===void 0&&(i=this.lastId++,this.dictionary[t]=i,this.reverseDictionary[i]=t),i}encodeOptional(r){const t=(0,e.termToString)(r);return this.dictionary[t]}decode(r){const t=this.reverseDictionary[r];if(t===void 0)throw new Error(`The value ${r} is not present in this dictionary`);return(0,e.stringToTerm)(t,this.dataFactory)}*encodings(){for(const r of Object.keys(this.reverseDictionary))yield Number.parseInt(r,10)}findQuotedTriples(r){throw new Error("findQuotedTriples is not supported")}findQuotedTriplesEncoded(r){throw new Error("findQuotedTriplesEncoded is not supported")}};return a6.TermDictionaryNumberRecord=u,a6}var i6={},Ome;function HLe(){if(Ome)return i6;Ome=1,Object.defineProperty(i6,"__esModule",{value:!0}),i6.TermDictionaryQuoted=void 0;const n=Rr(),e=Yr();let u=class Jm{constructor(r,t,i=new n.DataFactory){this.features={quotedTriples:!0},this.plainTermDictionary=r,this.quotedTriplesDictionary=t,this.dataFactory=i}encode(r){return r.termType==="Quad"?Jm.BITMASK|1+this.quotedTriplesDictionary.encode(r):this.plainTermDictionary.encode(r)}encodeOptional(r){if(r.termType==="Quad"){const t=this.quotedTriplesDictionary.encodeOptional(r);return t===void 0?t:Jm.BITMASK|1+t}return this.plainTermDictionary.encodeOptional(r)}decode(r){if(Jm.BITMASK&r){const t=(~Jm.BITMASK&r)-1;return this.quotedTriplesDictionary.decode(t)}return this.plainTermDictionary.decode(r)}*encodings(){for(const r of this.plainTermDictionary.encodings())yield r;for(const r of this.quotedTriplesDictionary.encodings())yield Jm.BITMASK|1+r}*findQuotedTriples(r){for(const t of this.findQuotedTriplesEncoded(r))yield this.decode(t)}*findQuotedTriplesEncoded(r){for(let t of this.quotedTriplesDictionary.encodings()){t=Jm.BITMASK|1+t;const i=this.decode(t);(0,e.matchPattern)(i,r.subject,r.predicate,r.object,r.graph)&&(yield t)}}};return u.BITMASK=1<<31,i6.TermDictionaryQuoted=u,i6}var u6={},xme;function kLe(){if(xme)return u6;xme=1,Object.defineProperty(u6,"__esModule",{value:!0}),u6.TermDictionaryQuotedReferential=void 0;const n=Rr(),e=Yr(),u=Zo();let a=class Gs{constructor(t,i=new n.DataFactory){this.quotedTriplesDictionary=[],this.quotedTriplesReverseDictionary={},this.features={quotedTriples:!0},this.plainTermDictionary=t,this.dataFactory=i}encode(t){return t.termType==="Quad"?this.encodeQuotedTriple(t,!1):this.plainTermDictionary.encode(t)}encodeQuotedTriple(t,i){var o;if(t.graph.termType!=="DefaultGraph")throw new Error("Encoding of quoted quads outside of the default graph is not allowed");const l=(o=(0,u.encodeOptionalTerms)([t.subject,t.predicate,t.object,void 0],this))===null||o===void 0?void 0:o.slice(0,3),s=l&&l.every(f=>f!==void 0)?this.quotedTriplesReverseDictionary[l.join(Gs.SEPARATOR)]:void 0;if(s!==void 0||i)return s===void 0?void 0:Gs.BITMASK|s;const c=[this.encode(t.subject),this.encode(t.predicate),this.encode(t.object)],d=this.quotedTriplesDictionary.length+1;return this.quotedTriplesDictionary.push(c),this.quotedTriplesReverseDictionary[c.join(Gs.SEPARATOR)]=d,Gs.BITMASK|d}encodeOptional(t){return t.termType==="Quad"?this.encodeQuotedTriple(t,!0):this.plainTermDictionary.encodeOptional(t)}decode(t){if(Gs.BITMASK&t){const i=(~Gs.BITMASK&t)-1;if(i>=this.quotedTriplesDictionary.length)throw new Error(`The value ${t} is not present in the quoted triples range of the dictionary`);const o=this.quotedTriplesDictionary[i];return this.dataFactory.quad(this.decode(o[0]),this.decode(o[1]),this.decode(o[2]))}return this.plainTermDictionary.decode(t)}*encodings(){for(const t of this.plainTermDictionary.encodings())yield t;for(const t of this.quotedTriplesDictionary.keys())yield Gs.BITMASK|1+t}*findQuotedTriples(t){for(const i of this.findQuotedTriplesEncoded(t))yield this.decode(i)}*findQuotedTriplesEncoded(t){for(let i of this.quotedTriplesDictionary.keys()){i=Gs.BITMASK|1+i;const o=this.decode(i);(0,e.matchPattern)(o,t.subject,t.predicate,t.object,t.graph)&&(yield i)}}};return a.BITMASK=1<<31,a.SEPARATOR="_",u6.TermDictionaryQuotedReferential=a,u6}var o6={},Rme;function zLe(){if(Rme)return o6;Rme=1,Object.defineProperty(o6,"__esModule",{value:!0}),o6.TermDictionarySymbol=void 0;const n=Rr(),e=Xt();let u=class{constructor(r=new n.DataFactory){this.features={quotedTriples:!1},this.dataFactory=r}encode(r){return Symbol.for(`rdf::${(0,e.termToString)(r)}`)}encodeOptional(r){return this.encode(r)}decode(r){const t=Symbol.keyFor(r);if(t===void 0)throw new Error(`The value ${String(r)} is not present in this dictionary`);return(0,e.stringToTerm)(t.slice(5),this.dataFactory)}encodings(){throw new Error("encodings is not supported")}findQuotedTriples(r){throw new Error("findQuotedTriples is not supported")}findQuotedTriplesEncoded(r){throw new Error("findQuotedTriplesEncoded is not supported")}};return o6.TermDictionarySymbol=u,o6}var s9={},Nme;function GLe(){return Nme||(Nme=1,Object.defineProperty(s9,"__esModule",{value:!0})),s9}var s6={},Ime;function Dwe(){if(Ime)return s6;Ime=1,Object.defineProperty(s6,"__esModule",{value:!0}),s6.RdfStoreIndexNestedMapRecursive=void 0;const n=Zo();let e=class{constructor(a){this.features={quotedTripleFiltering:!1},this.dictionary=a.dictionary,this.nestedMap=new Map}set(a,r){let t=this.nestedMap,i=!1;for(const[o,l]of a.entries()){const s=t;let c=s.get(l);c?o===a.length-1&&(i=!0):(c=o===a.length-1?r:new Map,s.set(l,c)),t=c}return!i}remove(a){const r=this.nestedMap,t=r.get(a[0]);if(!t)return!1;const i=t.get(a[1]);if(!i)return!1;const o=i.get(a[2]);if(!o)return!1;const l=o.delete(a[3]);return l&&o.size===0&&(i.delete(a[2]),i.size===0&&(t.delete(a[1]),t.size===0&&r.delete(a[0]))),l}get(a){const r=(0,n.encodeOptionalTerms)(a,this.dictionary);if(!(!r||r.includes(void 0)))return this.getEncoded(r)}getEncoded(a){const r=this.nestedMap.get(a[0]);if(!r)return;const t=r.get(a[1]);if(!t)return;const i=t.get(a[2]);if(i)return i.get(a[3])}*find(a){const r=(0,n.encodeOptionalTerms)(a,this.dictionary);if(r)for(const t of this.findEncoded(r,a))yield[r[0]!==void 0?a[0]:this.dictionary.decode(t[0]),r[1]!==void 0?a[1]:this.dictionary.decode(t[1]),r[2]!==void 0?a[2]:this.dictionary.decode(t[2]),r[3]!==void 0?a[3]:this.dictionary.decode(t[3])]}*findEncoded(a,r){return yield*this.findEncodedInner(0,a,r,this.nestedMap,[])}*findEncodedInner(a,r,t,i,o){if(a===r.length)yield[...o];else{const l=r[a];if(t[a]){const c=l;if(c!==void 0){const d=i.get(c);d&&(o[a]=l,yield*this.findEncodedInner(a+1,r,t,d,o))}}else for(const[c,d]of i.entries())o[a]=c,yield*this.findEncodedInner(a+1,r,t,d,o)}}count(a){return this.countInner(0,a,this.nestedMap)}countInner(a,r,t){const i=r[a];let o=0;if(i){const l=this.dictionary.encodeOptional(i);if(l!==void 0){if(a===r.length-1)return t.has(l)?1:0;const s=t.get(l);s&&(o+=this.countInner(a+1,r,s))}}else{if(a===r.length-1)return t.size;for(const l of t.values())o+=this.countInner(a+1,r,l)}return o}};return s6.RdfStoreIndexNestedMapRecursive=e,s6}var c6={},Dme;function $Le(){if(Dme)return c6;Dme=1,Object.defineProperty(c6,"__esModule",{value:!0}),c6.RdfStoreIndexNestedMapRecursiveQuoted=void 0;const n=Zo(),e=Dwe();let u=class extends e.RdfStoreIndexNestedMapRecursive{constructor(r){super(r),this.features={quotedTripleFiltering:!0}}*findEncoded(r,t){return yield*this.findEncodedInnerQuoted(0,r,t,(0,n.arePatternsQuoted)(t),this.nestedMap,[])}*findEncodedInnerQuoted(r,t,i,o,l,s){if(r===t.length)yield[...s];else{const c=t[r],d=i[r];if(d)if(o[r]){const f=this.dictionary.findQuotedTriplesEncoded(d);for(const p of f){const h=l.get(p);h&&(s[r]=p,yield*this.findEncodedInnerQuoted(r+1,t,i,o,h,s))}}else{const f=c;if(f!==void 0){const p=l.get(f);p&&(s[r]=c,yield*this.findEncodedInnerQuoted(r+1,t,i,o,p,s))}}else for(const[f,p]of l.entries())s[r]=f,yield*this.findEncodedInnerQuoted(r+1,t,i,o,p,s)}}countInner(r,t,i){const o=t[r];let l=0;if(o)if(o.termType==="Quad"&&(0,n.quadHasVariables)(o)){const s=this.dictionary.findQuotedTriplesEncoded(o);for(const c of s)if(r===t.length-1)i.has(c)&&l++;else{const d=i.get(c);d&&(l+=this.countInner(r+1,t,d))}}else{const s=this.dictionary.encodeOptional(o);if(s!==void 0){if(r===t.length-1)return i.has(s)?1:0;const c=i.get(s);c&&(l+=this.countInner(r+1,t,c))}}else{if(r===t.length-1)return i.size;for(const s of i.values())l+=this.countInner(r+1,t,s)}return l}};return c6.RdfStoreIndexNestedMapRecursiveQuoted=u,c6}var l6={},Fme;function Fwe(){if(Fme)return l6;Fme=1,Object.defineProperty(l6,"__esModule",{value:!0}),l6.RdfStoreIndexNestedRecord=void 0;const n=Zo();let e=class{constructor(a){this.features={quotedTripleFiltering:!1},this.dictionary=a.dictionary,this.nestedRecords={}}set(a,r){const t=this.nestedRecords,i=t[a[0]]||(t[a[0]]={}),o=i[a[1]]||(i[a[1]]={}),l=o[a[2]]||(o[a[2]]={});return l[a[3]]?!1:(l[a[3]]=r,!0)}remove(a){const r=this.nestedRecords,t=r[a[0]];if(!t)return!1;const i=t[a[1]];if(!i)return!1;const o=i[a[2]];return!o||!o[a[3]]?!1:(delete o[a[3]],Object.keys(o).length===0&&(delete i[a[2]],Object.keys(i).length===0&&(delete t[a[1]],Object.keys(t).length===0&&delete r[a[0]])),!0)}get(a){const r=(0,n.encodeOptionalTerms)(a,this.dictionary);if(!(!r||r.includes(void 0)))return this.getEncoded(r)}getEncoded(a){var r,t,i;return(i=(t=(r=this.nestedRecords[a[0]])===null||r===void 0?void 0:r[a[1]])===null||t===void 0?void 0:t[a[2]])===null||i===void 0?void 0:i[a[3]]}*find(a){const r=(0,n.encodeOptionalTerms)(a,this.dictionary);if(!r)return;const[t,i,o,l]=r,[s,c,d,f]=a;let p,h,g,_,m,w,T;const E=this.nestedRecords,S=t!==void 0?t in E?[t]:[]:Object.keys(E);for(const N of S){m=E[N],p=s||this.dictionary.decode(Number.parseInt(N,10));const j=i!==void 0?i in m?[i]:[]:Object.keys(m);for(const q of j){w=m[q],h=c||this.dictionary.decode(Number.parseInt(q,10));const O=o!==void 0?o in w?[o]:[]:Object.keys(w);for(const I of O){T=w[I],g=d||this.dictionary.decode(Number.parseInt(I,10));const A=l!==void 0?l in T?[l]:[]:Object.keys(T);for(const P of A)_=f||this.dictionary.decode(Number.parseInt(P,10)),yield[p,h,g,_]}}}}*findEncoded(a,r){const[t,i,o,l]=a;let s,c,d;const f=this.nestedRecords,p=t!==void 0?t in f?[t]:[]:Object.keys(f);for(const h of p){s=f[h];const g=i!==void 0?i in s?[i]:[]:Object.keys(s);for(const _ of g){c=s[_];const m=o!==void 0?o in c?[o]:[]:Object.keys(c);for(const w of m){d=c[w];const T=l!==void 0?l in d?[l]:[]:Object.keys(d);for(const E of T)yield[Number.parseInt(h,10),Number.parseInt(_,10),Number.parseInt(w,10),Number.parseInt(E,10)]}}}}count(a){let r=0;const t=(0,n.encodeOptionalTerms)(a,this.dictionary);if(!t)return 0;const i=t[0],o=t[1],l=t[2],s=t[3];let c,d,f;const p=this.nestedRecords,h=i!==void 0?i in p?[i]:[]:Object.keys(p);for(const g of h){c=p[g];const _=o!==void 0?o in c?[o]:[]:Object.keys(c);for(const m of _){d=c[m];const w=l!==void 0?l in d?[l]:[]:Object.keys(d);for(const T of w)f=d[T],s!==void 0?s in f&&r++:r+=Object.keys(f).length}}return r}};return l6.RdfStoreIndexNestedRecord=e,l6}var d6={},Pme;function XLe(){if(Pme)return d6;Pme=1,Object.defineProperty(d6,"__esModule",{value:!0}),d6.RdfStoreIndexNestedRecordQuoted=void 0;const n=Zo(),e=Fwe();let u=class extends e.RdfStoreIndexNestedRecord{constructor(r){super(r),this.features={quotedTripleFiltering:!0}}*getQuotedPatternKeys(r,t){for(const i of this.dictionary.findQuotedTriplesEncoded(t))i in r&&(yield i)}*find(r){const t=(0,n.encodeOptionalTerms)(r,this.dictionary);if(!t)return;const[i,o,l,s]=t,[c,d,f,p]=r,[h,g,_,m]=(0,n.arePatternsQuoted)(r);let w,T,E,S,N,j,q;const O=this.nestedRecords,I=c!==void 0?h?this.getQuotedPatternKeys(O,c):i in O?[i]:[]:Object.keys(O);for(const A of I){N=O[A],w=!h&&c?c:this.dictionary.decode(Number.parseInt(A,10));const P=d!==void 0?g?this.getQuotedPatternKeys(N,d):o in N?[o]:[]:Object.keys(N);for(const C of P){j=N[C],T=!g&&d?d:this.dictionary.decode(Number.parseInt(C,10));const B=f!==void 0?_?this.getQuotedPatternKeys(j,f):l in j?[l]:[]:Object.keys(j);for(const V of B){q=j[V],E=!_&&f?f:this.dictionary.decode(Number.parseInt(V,10));const U=p!==void 0?m?this.getQuotedPatternKeys(q,p):s in q?[s]:[]:Object.keys(q);for(const G of U)S=!m&&p?p:this.dictionary.decode(Number.parseInt(G,10)),yield[w,T,E,S]}}}}*findEncoded(r,t){const[i,o,l,s]=r,[c,d,f,p]=t,[h,g,_,m]=(0,n.arePatternsQuoted)(t);let w,T,E;const S=this.nestedRecords,N=c!==void 0?h?this.getQuotedPatternKeys(S,c):i in S?[i]:[]:Object.keys(S);for(const j of N){w=S[j];const q=d!==void 0?g?this.getQuotedPatternKeys(w,d):o in w?[o]:[]:Object.keys(w);for(const O of q){T=w[O];const I=f!==void 0?_?this.getQuotedPatternKeys(T,f):l in T?[l]:[]:Object.keys(T);for(const A of I){E=T[A];const P=p!==void 0?m?this.getQuotedPatternKeys(E,p):s in E?[s]:[]:Object.keys(E);for(const C of P)yield[Number.parseInt(j,10),Number.parseInt(O,10),Number.parseInt(A,10),Number.parseInt(C,10)]}}}}count(r){let t=0;const i=(0,n.encodeOptionalTerms)(r,this.dictionary);if(!i)return 0;const[o,l,s,c]=i,[d,f,p,h]=r,[g,_,m,w]=(0,n.arePatternsQuoted)(r);let T,E,S;const N=this.nestedRecords,j=d!==void 0?g?this.getQuotedPatternKeys(N,d):o in N?[o]:[]:Object.keys(N);for(const q of j){T=N[q];const O=f!==void 0?_?this.getQuotedPatternKeys(T,f):l in T?[l]:[]:Object.keys(T);for(const I of O){E=T[I];const A=p!==void 0?m?this.getQuotedPatternKeys(E,p):s in E?[s]:[]:Object.keys(E);for(const P of A)S=E[P],h!==void 0?w?t+=[...this.getQuotedPatternKeys(S,h)].length:c in S&&t++:t+=Object.keys(S).length}}return t}};return d6.RdfStoreIndexNestedRecordQuoted=u,d6}var c9={},jme;function KLe(){return jme||(jme=1,Object.defineProperty(c9,"__esModule",{value:!0})),c9}var l9={},Mme;function JLe(){return Mme||(Mme=1,Object.defineProperty(l9,"__esModule",{value:!0})),l9}var Cme;function WLe(){return Cme||(Cme=1,(function(n){var e=Sm&&Sm.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=Sm&&Sm.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(Iwe(),n),u(ULe(),n),u(QLe(),n),u(VLe(),n),u(Awe(),n),u(HLe(),n),u(Owe(),n),u(kLe(),n),u(zLe(),n),u(GLe(),n),u(_H(),n),u(xwe(),n),u(Dwe(),n),u($Le(),n),u(Fwe(),n),u(XLe(),n),u(KLe(),n),u(Zo(),n),u(JLe(),n),u(Rwe(),n)})(Sm)),Sm}var Lme;function YLe(){if(Lme)return JR;Lme=1,Object.defineProperty(JR,"__esModule",{value:!0}),JR.storeStream=void 0;const n=WLe();function e(u){const a=n.RdfStore.createDefault();return new Promise((r,t)=>a.import(u).on("error",t).once("end",()=>r(a)))}return JR.storeStream=e,JR}var io={},pu={},d9={},qme;function sN(){return qme||(qme=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.expressionTypes=n.types=void 0,(function(e){e.ALT="alt",e.ASK="ask",e.BGP="bgp",e.CONSTRUCT="construct",e.DESCRIBE="describe",e.DISTINCT="distinct",e.EXPRESSION="expression",e.EXTEND="extend",e.FILTER="filter",e.FROM="from",e.GRAPH="graph",e.GROUP="group",e.INV="inv",e.JOIN="join",e.LEFT_JOIN="leftjoin",e.LINK="link",e.MINUS="minus",e.NOP="nop",e.NPS="nps",e.ONE_OR_MORE_PATH="OneOrMorePath",e.ORDER_BY="orderby",e.PATH="path",e.PATTERN="pattern",e.PROJECT="project",e.REDUCED="reduced",e.SEQ="seq",e.SERVICE="service",e.SLICE="slice",e.UNION="union",e.VALUES="values",e.ZERO_OR_MORE_PATH="ZeroOrMorePath",e.ZERO_OR_ONE_PATH="ZeroOrOnePath",e.COMPOSITE_UPDATE="compositeupdate",e.DELETE_INSERT="deleteinsert",e.LOAD="load",e.CLEAR="clear",e.CREATE="create",e.DROP="drop",e.ADD="add",e.MOVE="move",e.COPY="copy"})(n.types||(n.types={})),(function(e){e.AGGREGATE="aggregate",e.EXISTENCE="existence",e.NAMED="named",e.OPERATOR="operator",e.TERM="term",e.WILDCARD="wildcard"})(n.expressionTypes||(n.expressionTypes={}))})(d9)),d9}var Fo={},Bme;function MP(){if(Bme)return Fo;Bme=1;var n=Fo&&Fo.__createBinding||(Object.create?(function(l,s,c,d){d===void 0&&(d=c);var f=Object.getOwnPropertyDescriptor(s,c);(!f||("get"in f?!s.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return s[c]}}),Object.defineProperty(l,d,f)}):(function(l,s,c,d){d===void 0&&(d=c),l[d]=s[c]})),e=Fo&&Fo.__setModuleDefault||(Object.create?(function(l,s){Object.defineProperty(l,"default",{enumerable:!0,value:s})}):function(l,s){l.default=s}),u=Fo&&Fo.__importStar||function(l){if(l&&l.__esModule)return l;var s={};if(l!=null)for(var c in l)c!=="default"&&Object.prototype.hasOwnProperty.call(l,c)&&n(s,l,c);return e(s,l),s};Object.defineProperty(Fo,"__esModule",{value:!0});const a=u(sN()),r=Rr(),t=Xt(),i=$n();class o{constructor(s){this.dataFactory=s||new r.DataFactory,this.stringType=this.createTerm("http://www.w3.org/2001/XMLSchema#string")}createAlt(s,c=!0){return this.flattenMulti({type:a.types.ALT,input:s},c)}createAsk(s){return{type:a.types.ASK,input:s}}createBoundAggregate(s,c,d,f,p){const h=this.createAggregateExpression(c,d,f,p);return h.variable=s,h}createBgp(s){return{type:a.types.BGP,patterns:s}}createConstruct(s,c){return{type:a.types.CONSTRUCT,input:s,template:c}}createDescribe(s,c){return{type:a.types.DESCRIBE,input:s,terms:c}}createDistinct(s){return{type:a.types.DISTINCT,input:s}}createExtend(s,c,d){return{type:a.types.EXTEND,input:s,variable:c,expression:d}}createFrom(s,c,d){return{type:a.types.FROM,input:s,default:c,named:d}}createFilter(s,c){return{type:a.types.FILTER,input:s,expression:c}}createGraph(s,c){return{type:a.types.GRAPH,input:s,name:c}}createGroup(s,c,d){return{type:a.types.GROUP,input:s,variables:c,aggregates:d}}createInv(s){return{type:a.types.INV,path:s}}createJoin(s,c=!0){return this.flattenMulti({type:a.types.JOIN,input:s},c)}createLeftJoin(s,c,d){return d?{type:a.types.LEFT_JOIN,input:[s,c],expression:d}:{type:a.types.LEFT_JOIN,input:[s,c]}}createLink(s){return{type:a.types.LINK,iri:s}}createMinus(s,c){return{type:a.types.MINUS,input:[s,c]}}createNop(){return{type:a.types.NOP}}createNps(s){return{type:a.types.NPS,iris:s}}createOneOrMorePath(s){return{type:a.types.ONE_OR_MORE_PATH,path:s}}createOrderBy(s,c){return{type:a.types.ORDER_BY,input:s,expressions:c}}createPath(s,c,d,f){return f?{type:a.types.PATH,subject:s,predicate:c,object:d,graph:f}:{type:a.types.PATH,subject:s,predicate:c,object:d,graph:this.dataFactory.defaultGraph()}}createPattern(s,c,d,f){const p=this.dataFactory.quad(s,c,d,f);return p.type=a.types.PATTERN,p}createProject(s,c){return{type:a.types.PROJECT,input:s,variables:c}}createReduced(s){return{type:a.types.REDUCED,input:s}}createSeq(s,c=!0){return this.flattenMulti({type:a.types.SEQ,input:s},c)}createService(s,c,d){return{type:a.types.SERVICE,input:s,name:c,silent:!!d}}createSlice(s,c,d){return c=c||0,d!==void 0?{type:a.types.SLICE,input:s,start:c,length:d}:{type:a.types.SLICE,input:s,start:c}}createUnion(s,c=!0){return this.flattenMulti({type:a.types.UNION,input:s},c)}createValues(s,c){return{type:a.types.VALUES,variables:s,bindings:c}}createZeroOrMorePath(s){return{type:a.types.ZERO_OR_MORE_PATH,path:s}}createZeroOrOnePath(s){return{type:a.types.ZERO_OR_ONE_PATH,path:s}}createAggregateExpression(s,c,d,f){return f?{type:a.types.EXPRESSION,expressionType:a.expressionTypes.AGGREGATE,aggregator:s,expression:c,separator:f,distinct:d}:{type:a.types.EXPRESSION,expressionType:a.expressionTypes.AGGREGATE,aggregator:s,expression:c,distinct:d}}createExistenceExpression(s,c){return{type:a.types.EXPRESSION,expressionType:a.expressionTypes.EXISTENCE,not:s,input:c}}createNamedExpression(s,c){return{type:a.types.EXPRESSION,expressionType:a.expressionTypes.NAMED,name:s,args:c}}createOperatorExpression(s,c){return{type:a.types.EXPRESSION,expressionType:a.expressionTypes.OPERATOR,operator:s,args:c}}createTermExpression(s){return{type:a.types.EXPRESSION,expressionType:a.expressionTypes.TERM,term:s}}createWildcardExpression(){return{type:a.types.EXPRESSION,expressionType:a.expressionTypes.WILDCARD,wildcard:new i.Wildcard}}createTerm(s){return s[0]==="$"&&(s=s.replace("$","?")),(0,t.stringToTerm)(s,this.dataFactory)}createCompositeUpdate(s){return{type:a.types.COMPOSITE_UPDATE,updates:s}}createDeleteInsert(s,c,d){const f={type:a.types.DELETE_INSERT};return s&&(f.delete=s),c&&(f.insert=c),d&&(f.where=d),f}createLoad(s,c,d){const f={type:a.types.LOAD,source:s};return c&&(f.destination=c),this.addSilent(f,!!d)}createClear(s,c){return this.addSilent({type:a.types.CLEAR,source:s},!!c)}createCreate(s,c){return this.addSilent({type:a.types.CREATE,source:s},!!c)}createDrop(s,c){return this.addSilent({type:a.types.DROP,source:s},!!c)}createAdd(s,c,d){return this.addSilent({type:a.types.ADD,source:s,destination:c},!!d)}createMove(s,c,d){return this.addSilent({type:a.types.MOVE,source:s,destination:c},!!d)}createCopy(s,c,d){return this.addSilent({type:a.types.COPY,source:s,destination:c},!!d)}addSilent(s,c){return c&&(s.silent=c),s}flattenMulti(s,c){if(!c)return s;const d=s.type,f=s.input;let p=[];for(const h of f)h.type===d?p.push(...h.input):p.push(h);return s.input=p,s}}return Fo.default=o,Fo}var Tg={},Ume;function TH(){if(Ume)return Tg;Ume=1;var n=Tg&&Tg.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Tg,"__esModule",{value:!0});const e=sN(),u=n(MP()),a=Yr();class r{static flatten(i){return Array.prototype.concat(...i).filter(o=>o)}static objectify(i){if(i.termType){if(i.termType==="Quad")return{type:"pattern",termType:"Quad",subject:r.objectify(i.subject),predicate:r.objectify(i.predicate),object:r.objectify(i.object),graph:r.objectify(i.graph)};{let o={termType:i.termType,value:i.value};return i.language&&(o.language=i.language),i.datatype&&(o.datatype=r.objectify(i.datatype)),o}}if(Array.isArray(i))return i.map(o=>r.objectify(o));if(i===Object(i)){let o={};for(let l of Object.keys(i))o[l]=r.objectify(i[l]);return o}return i}static inScopeVariables(i){const o=[];function l(c){o.find(d=>c.value===d.value)||o.push(c)}function s(c){c.subject.termType==="Variable"&&l(c.subject),c.predicate.termType==="Variable"&&l(c.predicate),c.object.termType==="Variable"&&l(c.object),c.graph.termType==="Variable"&&l(c.graph),c.subject.termType==="Quad"&&s(c.subject),c.predicate.termType==="Quad"&&s(c.predicate),c.object.termType==="Quad"&&s(c.object),c.graph.termType==="Quad"&&s(c.graph)}return r.recurseOperation(i,{[e.types.EXPRESSION]:c=>(c.expressionType===e.expressionTypes.AGGREGATE&&c.variable&&l(c.variable),!0),[e.types.EXTEND]:c=>(l(c.variable),!0),[e.types.GRAPH]:c=>(c.name.termType==="Variable"&&l(c.name),!0),[e.types.GROUP]:c=>(c.variables.forEach(l),!0),[e.types.PATH]:c=>(c.subject.termType==="Variable"&&l(c.subject),c.object.termType==="Variable"&&l(c.object),c.graph.termType==="Variable"&&l(c.graph),c.subject.termType==="Quad"&&s(c.subject),c.object.termType==="Quad"&&s(c.object),c.graph.termType==="Quad"&&s(c.graph),!0),[e.types.PATTERN]:c=>(s(c),!0),[e.types.PROJECT]:c=>(c.variables.forEach(l),!1),[e.types.SERVICE]:c=>(c.name.termType==="Variable"&&l(c.name),!0),[e.types.VALUES]:c=>(c.variables.forEach(l),!0)}),o}static recurseOperation(i,o){let l=i,s=!0;const c=o[i.type];if(c&&(s=c(i)),!s)return;let d=f=>r.recurseOperation(f,o);switch(l.type){case e.types.ALT:l.input.map(d);break;case e.types.ASK:d(l.input);break;case e.types.BGP:l.patterns.forEach(d);break;case e.types.CONSTRUCT:d(l.input),l.template.map(d);break;case e.types.DESCRIBE:d(l.input);break;case e.types.DISTINCT:d(l.input);break;case e.types.EXPRESSION:l.expressionType===e.expressionTypes.EXISTENCE&&d(l.input);break;case e.types.EXTEND:d(l.input),d(l.expression);break;case e.types.FILTER:d(l.input),d(l.expression);break;case e.types.FROM:d(l.input);break;case e.types.GRAPH:d(l.input);break;case e.types.GROUP:d(l.input),l.aggregates.forEach(d);break;case e.types.INV:d(l.path);break;case e.types.JOIN:l.input.map(d);break;case e.types.LEFT_JOIN:l.input.map(d),l.expression&&d(l.expression);break;case e.types.LINK:break;case e.types.MINUS:l.input.map(d);break;case e.types.NOP:break;case e.types.NPS:break;case e.types.ONE_OR_MORE_PATH:d(l.path);break;case e.types.ORDER_BY:d(l.input),l.expressions.forEach(d);break;case e.types.PATH:d(l.predicate);break;case e.types.PATTERN:break;case e.types.PROJECT:d(l.input);break;case e.types.REDUCED:d(l.input);break;case e.types.SEQ:l.input.map(d);break;case e.types.SERVICE:d(l.input);break;case e.types.SLICE:d(l.input);break;case e.types.UNION:l.input.map(d);break;case e.types.VALUES:break;case e.types.ZERO_OR_MORE_PATH:d(l.path);break;case e.types.ZERO_OR_ONE_PATH:d(l.path);break;case e.types.COMPOSITE_UPDATE:l.updates.forEach(f=>d(f));break;case e.types.DELETE_INSERT:l.delete&&l.delete.forEach(f=>d(f)),l.insert&&l.insert.forEach(f=>d(f)),l.where&&d(l.where);break;case e.types.LOAD:break;case e.types.CLEAR:break;case e.types.CREATE:break;case e.types.DROP:break;case e.types.ADD:break;case e.types.MOVE:break;case e.types.COPY:break;default:throw new Error(`Unknown Operation type ${l.type}`)}}static mapOperation(i,o,l){let s=i,c=!0,d=!0;l=l||new u.default;const f=o[i.type];if(f){const g=f(i,l);s=g.result,c=g.recurse,d=g.copyMetadata!==!1}let p;if(d&&(s.metadata||i.metadata)&&(p={...s.metadata,...i.metadata}),!c)return p&&(s.metadata=p),s;let h=g=>r.mapOperation(g,o,l);switch(s.type){case e.types.ALT:s=l.createAlt(s.input.map(h));break;case e.types.ASK:s=l.createAsk(h(s.input));break;case e.types.BGP:s=l.createBgp(s.patterns.map(h));break;case e.types.CONSTRUCT:s=l.createConstruct(h(s.input),s.template.map(h));break;case e.types.DESCRIBE:s=l.createDescribe(h(s.input),s.terms);break;case e.types.DISTINCT:s=l.createDistinct(h(s.input));break;case e.types.EXPRESSION:s=r.mapExpression(s,o,l);break;case e.types.EXTEND:s=l.createExtend(h(s.input),s.variable,h(s.expression));break;case e.types.FILTER:s=l.createFilter(h(s.input),h(s.expression));break;case e.types.FROM:s=l.createFrom(h(s.input),[...s.default],[...s.named]);break;case e.types.GRAPH:s=l.createGraph(h(s.input),s.name);break;case e.types.GROUP:s=l.createGroup(h(s.input),[].concat(s.variables),s.aggregates.map(h));break;case e.types.INV:s=l.createInv(h(s.path));break;case e.types.JOIN:s=l.createJoin(s.input.map(h));break;case e.types.LEFT_JOIN:s=l.createLeftJoin(h(s.input[0]),h(s.input[1]),s.expression?h(s.expression):void 0);break;case e.types.LINK:s=l.createLink(s.iri);break;case e.types.MINUS:s=l.createMinus(h(s.input[0]),h(s.input[1]));break;case e.types.NOP:s=l.createNop();break;case e.types.NPS:s=l.createNps([].concat(s.iris));break;case e.types.ONE_OR_MORE_PATH:s=l.createOneOrMorePath(h(s.path));break;case e.types.ORDER_BY:s=l.createOrderBy(h(s.input),s.expressions.map(h));break;case e.types.PATH:s=l.createPath(s.subject,h(s.predicate),s.object,s.graph);break;case e.types.PATTERN:s=l.createPattern(s.subject,s.predicate,s.object,s.graph);break;case e.types.PROJECT:s=l.createProject(h(s.input),[...s.variables]);break;case e.types.REDUCED:s=l.createReduced(h(s.input));break;case e.types.SEQ:s=l.createSeq(s.input.map(h));break;case e.types.SERVICE:s=l.createService(h(s.input),s.name,s.silent);break;case e.types.SLICE:s=l.createSlice(h(s.input),s.start,s.length);break;case e.types.UNION:s=l.createUnion(s.input.map(h));break;case e.types.VALUES:s=l.createValues([].concat(s.variables),s.bindings.map(g=>Object.assign({},g)));break;case e.types.ZERO_OR_MORE_PATH:s=l.createZeroOrMorePath(h(s.path));break;case e.types.ZERO_OR_ONE_PATH:s=l.createZeroOrOnePath(h(s.path));break;case e.types.COMPOSITE_UPDATE:s=l.createCompositeUpdate(s.updates.map(h));break;case e.types.DELETE_INSERT:s=l.createDeleteInsert(s.delete?s.delete.map(h):void 0,s.insert?s.insert.map(h):void 0,s.where?h(s.where):void 0);break;case e.types.LOAD:s=l.createLoad(s.source,s.destination,s.silent);break;case e.types.CLEAR:s=l.createClear(s.source,s.silent);break;case e.types.CREATE:s=l.createCreate(s.source,s.silent);break;case e.types.DROP:s=l.createDrop(s.source,s.silent);break;case e.types.ADD:s=l.createAdd(s.source,s.destination);break;case e.types.MOVE:s=l.createMove(s.source,s.destination);break;case e.types.COPY:s=l.createCopy(s.source,s.destination);break;default:throw new Error(`Unknown Operation type ${s.type}`)}return p&&(s.metadata=p),s}static mapExpression(i,o,l){let s=i,c=!0;l=l||new u.default;const d=o[i.expressionType];if(d&&({result:s,recurse:c}=d(i,l)),!c)return s;let f=p=>r.mapOperation(p,o,l);switch(i.expressionType){case e.expressionTypes.AGGREGATE:return i.variable?l.createBoundAggregate(i.variable,i.aggregator,f(i.expression),i.distinct,i.separator):l.createAggregateExpression(i.aggregator,f(i.expression),i.distinct,i.separator);case e.expressionTypes.EXISTENCE:return l.createExistenceExpression(i.not,f(i.input));case e.expressionTypes.NAMED:return l.createNamedExpression(i.name,i.args.map(f));case e.expressionTypes.OPERATOR:return l.createOperatorExpression(i.operator,i.args.map(f));case e.expressionTypes.TERM:return l.createTermExpression(i.term);case e.expressionTypes.WILDCARD:return l.createWildcardExpression();default:throw new Error(`Unknown Expression type ${i.expressionType}`)}}static cloneOperation(i){return r.mapOperation(i,{})}static cloneExpression(i){return r.mapExpression(i,{})}static createUniqueVariable(i,o,l){let s=0,c=i;for(;o[c];)c=`${i}${s++}`;return l.variable(c)}static isSimpleTerm(i){return i.termType!==void 0&&i.termType!=="Quad"&&i.termType!=="Wildcard"}static isQuad(i){return i.termType==="Quad"}static hasQuadVariables(i){return(0,a.someTermsNested)(i,o=>o.termType==="Variable")}static isWildcard(i){return i.termType==="Wildcard"}}return Tg.default=r,Tg}var Qme;function ZLe(){if(Qme)return pu;Qme=1;var n=pu&&pu.__createBinding||(Object.create?(function(v,F,D,L){L===void 0&&(L=D);var H=Object.getOwnPropertyDescriptor(F,D);(!H||("get"in H?!F.__esModule:H.writable||H.configurable))&&(H={enumerable:!0,get:function(){return F[D]}}),Object.defineProperty(v,L,H)}):(function(v,F,D,L){L===void 0&&(L=D),v[L]=F[D]})),e=pu&&pu.__setModuleDefault||(Object.create?(function(v,F){Object.defineProperty(v,"default",{enumerable:!0,value:F})}):function(v,F){v.default=F}),u=pu&&pu.__importStar||function(v){if(v&&v.__esModule)return v;var F={};if(v!=null)for(var D in v)D!=="default"&&Object.prototype.hasOwnProperty.call(v,D)&&n(F,v,D);return e(F,v),F},a=pu&&pu.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(pu,"__esModule",{value:!0});const r=T1(),t=Xt(),i=u(sN()),o=a(MP()),l=a(TH()),s=$n().Parser,c=i.types;let d=new Set,f=0,p=!1,h;function g(v,F){F=F||{},h=new o.default(F.dataFactory);let D;if(m(v)){let L=new s(F);L._resetBlanks(),D=L.parse(v)}else D=v;return _(D,F.quads,F.blankToVariable)}pu.default=g;function _(v,F,D){if(d=new Set,f=0,p=!!F,!v.type)return h.createNop();if(v.type!=="query"&&v.type!=="update")throw new Error("Translate only works on complete query or update objects.");let L;if(S(v),v.type==="query"){const H={type:"group",patterns:v.where||[]};L=j(H),L=W(v,L)}else v.type==="update"&&(L=pe(v));return D&&(L=te(L)),L}function m(v){return typeof v=="string"}function w(v){return!!v?.termType}function T(v){return v.subject&&v.predicate&&v.object}function E(v){return v?.termType==="Variable"}function S(v){if(w(v))E(v)&&d.add(`?${v.value}`);else if(Array.isArray(v))for(const F of v)S(F);else if(v&&typeof v=="object")for(let F of Object.keys(v))F.startsWith("?")?d.add(F):F.startsWith("$")&&d.add(`?${F.slice(1)}`),S(v[F])}function N(v){let F={};if(T(v)){const D=[N(v.subject),N(v.predicate),N(v.object),v.graph?N(v.graph):{}];Object.assign(F,...D)}else if(w(v))E(v)&&(F[v.value]=v);else if(v.type==="bgp"){const D=v.triples;Object.assign(F,...D.map(N))}else if(v.type==="path")Object.assign(F,...v.items.map(N));else if(v.type==="group"||v.type==="union"||v.type==="optional")Object.assign(F,...v.patterns.map(N));else if(v.type==="service"||v.type==="graph")Object.assign(F,N(v.name)),Object.assign(F,...v.patterns.map(N));else if(v.type==="bind")Object.assign(F,N(v.variable));else if(v.type==="values"){if(v.values.length>0){const D=Object.keys(v.values[0]).map(L=>h.createTerm(L));Object.assign(F,...D.map(N))}}else if(v.type==="query"&&(v.queryType==="SELECT"||v.queryType==="DESCRIBE")){v.where&&v.variables.some(l.default.isWildcard)&&Object.assign(F,...v.where.map(N));for(const D of v.variables)E(D)?Object.assign(F,N(D)):D.variable&&Object.assign(F,N(D.variable));if(v.queryType==="SELECT"){if(v.group)for(const D of v.group)D.variable&&Object.assign(F,N(D.variable));if(v.values){const D={type:"values",values:v.values};Object.assign(F,N(D))}}}return F}function j(v){if(v.type==="bgp")return O(v);if(v.type==="union")return h.createUnion(v.patterns.map(F=>(F.type!=="group"&&(F={type:"group",patterns:[F]}),j(F))));if(v.type==="graph"){const F={type:"group",patterns:v.patterns};let D=j(F);return p?D=U(D,v.name):D=h.createGraph(D,v.name),D}if(v.type==="values")return ne(v);if(v.type==="query")return _(v,p,!1);if(v.type==="group"){let F=[],D=[];for(let Z of v.patterns)(Z.type==="filter"?F:D).push(Z);let L=D.reduce(G,h.createBgp([])),H=F.map(Z=>q(Z.expression));return H.length>0&&(L=h.createFilter(L,H.reduce((Z,$)=>h.createOperatorExpression("&&",[Z,$])))),L}throw new Error(`Unexpected type: ${v.type}`)}function q(v){if(l.default.isSimpleTerm(v))return h.createTermExpression(v);if(l.default.isQuad(v))return l.default.hasQuadVariables(v)?h.createOperatorExpression("triple",[q(v.subject),q(v.predicate),q(v.object)]):h.createTermExpression(v);if(l.default.isWildcard(v))return h.createWildcardExpression();if("aggregation"in v)return h.createAggregateExpression(v.aggregation,q(v.expression),!!v.distinct,v.separator);if("function"in v)return h.createNamedExpression(v.function,v.args.map(q));if("operator"in v)return v.operator==="exists"||v.operator==="notexists"?h.createExistenceExpression(v.operator==="notexists",j(v.args[0])):((v.operator==="in"||v.operator==="notin")&&(v.args=[v.args[0]].concat(v.args[1])),h.createOperatorExpression(v.operator,v.args.map(q)));throw new Error(`Unknown expression: ${JSON.stringify(v)}`)}function O(v){let F=[],D=[];for(let L of v.triples)if("pathType"in L.predicate){let H=I(L);for(let Z of H)Z.type===c.PATH?(F.length>0&&D.push(h.createBgp(F)),F=[],D.push(Z)):F.push(Z)}else F.push(B(L));return F.length>0&&D.push(h.createBgp(F)),D.length===1?D[0]:h.createJoin(D)}function I(v){let F=v.subject,D=A(v.predicate),L=v.object;return P(F,D,L)}function A(v){if(l.default.isSimpleTerm(v)){if(v.termType==="NamedNode")return h.createLink(v);throw new Error(`Path predicate should be a NamedNode, got ${JSON.stringify(v)}`)}if(v.pathType==="^")return h.createInv(A(v.items[0]));if(v.pathType==="!"){let F=[],D=[],L;"pathType"in v.items[0]&&v.items[0].pathType==="|"?L=v.items[0].items:L=v.items;for(let $ of L)if(l.default.isSimpleTerm($))F.push($);else if($.pathType==="^")D.push($.items[0]);else throw new Error(`Unexpected item: ${JSON.stringify($)}`);let H=h.createNps(F),Z=h.createInv(h.createNps(D));return D.length===0?H:F.length===0?Z:h.createAlt([H,Z])}if(v.pathType==="/")return h.createSeq(v.items.map(A));if(v.pathType==="|")return h.createAlt(v.items.map(A));if(v.pathType==="*")return h.createZeroOrMorePath(A(v.items[0]));if(v.pathType==="+")return h.createOneOrMorePath(A(v.items[0]));if(v.pathType==="?")return h.createZeroOrOnePath(A(v.items[0]));throw new Error(`Unable to translate path expression ${JSON.stringify(v)}`)}function P(v,F,D){if(F.type===c.LINK)return[h.createPattern(v,F.iri,D)];if(F.type===c.INV)return P(D,F.path,v);if(F.type===c.SEQ){let L=v;return l.default.flatten(F.input.map((H,Z)=>{const $=Z===F.input.length-1?D:C(),ue=P(L,H,$);return $.termType==="Variable"&&(L=$),ue}))}return[h.createPath(v,F,D)]}function C(){let v=`?var${f++}`;return d.has(v)?C():(d.add(v),h.createTerm(v))}function B(v){if("pathType"in v.predicate)throw new Error("Trying to translate property path to quad.");return h.createPattern(v.subject,v.predicate,v.object,v.graph)}let V=Object.values(c);function U(v,F,D){if(v.type===c.GRAPH){if(D)throw new Error("Recursing through nested GRAPH statements with a replacement is impossible.");v=U(v.input,v.name)}else if(v.type!==c.SERVICE)if(v.type===c.BGP)v.patterns=v.patterns.map(L=>(D&&(L.subject.equals(F)&&(L.subject=D),L.predicate.equals(F)&&(L.predicate=D),L.object.equals(F)&&(L.object=D)),L.graph.termType==="DefaultGraph"&&(L.graph=F),L));else if(v.type===c.PATH)D&&(v.subject.equals(F)&&(v.subject=D),v.object.equals(F)&&(v.object=D)),v.graph.termType==="DefaultGraph"&&(v.graph=F);else if(v.type===c.PROJECT&&!D)v.variables.some(L=>L.equals(F))||(D=C()),v.input=U(v.input,F,D);else if(v.type===c.EXTEND&&!D)v.variable.equals(F)&&(D=C()),v.input=U(v.input,F,D);else for(let L of Object.keys(v))Array.isArray(v[L])?v[L]=v[L].map(H=>U(H,F,D)):V.indexOf(v[L].type)>=0?v[L]=U(v[L],F,D):D&&E(v[L])&&v[L].equals(F)&&(v[L]=D);return v}function G(v,F){if(F.type==="optional"){const D=j({type:"group",patterns:F.patterns});D.type===c.FILTER?v=h.createLeftJoin(v,D.input,D.expression):v=h.createLeftJoin(v,D)}else if(F.type==="minus"){const D=j({type:"group",patterns:F.patterns});v=h.createMinus(v,D)}else if(F.type==="bind")v=h.createExtend(v,F.variable,q(F.expression));else if(F.type==="service"){const D={type:"group",patterns:F.patterns},L=h.createService(j(D),F.name,F.silent);v=J(v,L)}else{const D=j(F);v=J(v,D)}return v}function J(v,F){return v.type===c.BGP&&F.type===c.BGP?v=h.createBgp([...v.patterns,...F.patterns]):v.type===c.BGP&&v.patterns.length===0?v=F:F.type===c.BGP&&F.patterns.length===0||(v=h.createJoin([v,F])),v}function ne(v){let F=(v.values.length===0?[]:Object.keys(v.values[0])).map(h.createTerm.bind(h)),D=v.values.map(L=>{let H=Object.keys(L);H=H.filter($=>L[$]!==void 0);let Z={};for(let $ of H)Z[$]=L[$];return Z});return h.createValues(F,D)}function W(v,F){const D=v,L=[],H={};if(D.variables=D.variables&&D.variables.map($=>ee($,H)),D.having=D.having&&D.having.map($=>ee($,H)),D.order=D.order&&D.order.map($=>ee($,H)),D.group||Object.keys(H).length>0){const $=Object.keys(H).map(ae=>se(H[ae],h.createTerm(ae))),ue=[];if(D.group)for(const ae of D.group)if(l.default.isSimpleTerm(ae.expression))ue.push(ae.expression);else{const ce="variable"in ae?ae.variable:C();F=h.createExtend(F,ce,q(ae.expression)),ue.push(ce)}F=h.createGroup(F,ue,$)}if(D.having)for(let $ of D.having)F=h.createFilter(F,q($));v.values&&(F=h.createJoin([F,ne(v)]));let Z=[];if(v.queryType==="SELECT"||v.queryType==="DESCRIBE")if(v.variables.some($=>$&&l.default.isWildcard($)))Z=Object.values(N(v)).sort(($,ue)=>$.value.localeCompare(ue.value));else for(let $ of v.variables)E($)||!("variable"in $)?Z.push($):$.variable&&(Z.push($.variable),L.push($));for(let $ of L)F=h.createExtend(F,$.variable,q($.expression));return D.order&&(F=h.createOrderBy(F,D.order.map($=>{let ue=q($.expression);return $.descending&&(ue=h.createOperatorExpression("desc",[ue])),ue}))),v.queryType==="SELECT"&&(F=h.createProject(F,Z)),D.distinct&&(F=h.createDistinct(F)),D.reduced&&(F=h.createReduced(F)),v.queryType==="CONSTRUCT"?F=h.createConstruct(F,(v.template||[]).map(B)):v.queryType==="ASK"?F=h.createAsk(F):v.queryType==="DESCRIBE"&&(F=h.createDescribe(F,Z)),(D.offset||D.limit)&&(F=h.createSlice(F,D.offset||0,D.limit)),D.from&&(F=h.createFrom(F,D.from.default,D.from.named)),F}function ee(v,F){if("type"in v&&v.type==="aggregate"){let D=!1,L;for(let H of Object.keys(F))if(r(F[H],v)){L=h.createTerm(H),D=!0;break}return D||(L=C(),F[(0,t.termToString)(L)]=v),L}return"expression"in v&&v.expression?{...v,expression:ee(v.expression,F)}:"args"in v&&v.args?{...v,args:v.args.map(D=>ee(D,F))}:v}function se(v,F){if(v.type!=="aggregate"||!v.aggregation)throw new Error(`Unexpected input: ${JSON.stringify(v)}`);const D=q(v);return D.variable=F,D}function pe(v){return v.updates.length===1?le(v.updates[0]):h.createCompositeUpdate(v.updates.map(le))}function le(v){if("type"in v){if(v.type==="load")return Oe(v);if(v.type==="clear"||v.type==="create"||v.type==="drop")return Ne(v);if(v.type==="add"||v.type==="copy"||v.type==="move")return be(v)}else if(v.updateType==="insertdelete"||v.updateType==="deletewhere"||v.updateType==="delete"||v.updateType==="insert")return Ee(v);throw new Error(`Unknown update type ${JSON.stringify(v)}`)}function Ee(v){if(!p)throw new Error("INSERT/DELETE operations are only supported with quads option enabled");let F=[],D=[],L;if(v.delete&&(F=l.default.flatten(v.delete.map(H=>Ae(H,v.graph)))),v.insert&&(D=l.default.flatten(v.insert.map(H=>Ae(H,v.graph)))),v.where&&v.where.length>0){L=j({type:"group",patterns:v.where});const H=v.using;H?L=h.createFrom(L,H.default,H.named):v.graph&&(L=U(L,v.graph))}else v.updateType==="deletewhere"&&F.length>0&&(L=h.createBgp(F));return h.createDeleteInsert(F.length>0?F:void 0,D.length>0?D:void 0,L)}function Ae(v,F){let D=F;v.type==="graph"&&(D=v.name);let L=v.triples;return D&&(L=L.map(H=>Object.assign(H,{graph:D}))),L.map(B)}function Ne(v){let F;switch(l.default.isSimpleTerm(v.graph)?F=v.graph:v.graph.all?F="ALL":v.graph.default?F="DEFAULT":v.graph.named?F="NAMED":F=v.graph.name,v.type){case"clear":return h.createClear(F,v.silent);case"create":return h.createCreate(F,v.silent);case"drop":return h.createDrop(F,v.silent)}}function Oe(v){return h.createLoad(v.source,v.destination,v.silent)}function be(v){const F=v.source.default?"DEFAULT":v.source.name,D=v.destination.default?"DEFAULT":v.destination.name;switch(v.type){case"copy":return h.createCopy(F,D,v.silent);case"move":return h.createMove(F,D,v.silent);case"add":return h.createAdd(F,D,v.silent)}}function te(v){const F={},D=Array.from(d).reduce((H,Z)=>(H[Z]=!0,H),{});return l.default.mapOperation(v,{[i.types.DELETE_INSERT]:H=>({result:h.createDeleteInsert(H.delete,H.insert,H.where&&te(H.where)),recurse:!1}),[i.types.PATH]:(H,Z)=>({result:Z.createPath(L(H.subject),H.predicate,L(H.object),L(H.graph)),recurse:!1}),[i.types.PATTERN]:(H,Z)=>({result:Z.createPattern(L(H.subject),L(H.predicate),L(H.object),L(H.graph)),recurse:!1}),[i.types.CONSTRUCT]:H=>({result:h.createConstruct(te(H.input),H.template),recurse:!1})});function L(H){if(H.termType==="BlankNode"){let Z=F[H.value];return Z||(Z=l.default.createUniqueVariable(H.value,D,h.dataFactory),D[Z.value]=!0,F[H.value]=Z),Z}return H}}return pu}var Ka={},Em={},or={},Vme;function e7e(){if(Vme)return or;Vme=1,Object.defineProperty(or,"__esModule",{value:!0}),or.isTermGrounded=or.termToSignature=or.quadToSignature=or.sha1hex=or.hashTerm=or.hashTerms=or.getGraphBlankNodes=or.uniqGraph=or.deindexGraph=or.indexGraph=or.getQuadsWithoutBlankNodes=or.getQuadsWithBlankNodes=or.hasValue=or.hashValues=or.getBijectionInner=or.getBijection=or.isomorphic=void 0;const n=ic(),e=Xt(),u=Yr();function a(S,N){return!!r(S,N)}or.isomorphic=a;function r(S,N){const j=d(c(S)),q=d(c(N));if(Object.keys(j).length!==Object.keys(q).length)return null;for(const C in j)if(j[C]!==q[C])return null;const O=p(s(S)),I=p(s(N)),A=h(S),P=h(N);return t(O,I,A,P)}or.getBijection=r;function t(S,N,j,q,O,I){O||(O={}),I||(I={});const[A,P]=g(S,j,O),[C,B]=g(N,q,I);if(Object.keys(A).length!==Object.keys(C).length)return null;for(const U in A)if(!l(C,A[U]))return null;let V={};for(const U of j){const G=e.termToString(U),J=P[G];for(const ne in B)if(B[ne]===J){V[G]=ne,delete B[ne];break}}if(!i(Object.keys(V).sort(),j.map(e.termToString).sort())||!i(o(V).sort(),q.map(e.termToString).sort())){V=null;for(const U of j){const G=e.termToString(U);if(!A[G])for(const J of q){const ne=e.termToString(J);if(!C[ne]&&P[G]===B[ne]){const W=m(G);V=t(S,N,j,q,Object.assign(Object.assign({},A),{[G]:W}),Object.assign(Object.assign({},C),{[ne]:W}))}}}}return V}or.getBijectionInner=t;function i(S,N){if(S.length!==N.length)return!1;for(let j=S.length;j--;)if(S[j]!==N[j])return!1;return!0}function o(S){const N=[];for(const j in S)N.push(S[j]);return N}or.hashValues=o;function l(S,N){for(const j in S)if(S[j]===N)return!0;return!1}or.hasValue=l;function s(S){return S.filter(N=>u.someTerms(N,j=>j.termType==="BlankNode"||j.termType==="Quad"&&u.getTermsNested(j).some(q=>q.termType==="BlankNode")))}or.getQuadsWithBlankNodes=s;function c(S){return S.filter(N=>u.everyTerms(N,j=>j.termType!=="BlankNode"&&!(j.termType==="Quad"&&u.getTermsNested(j).some(q=>q.termType==="BlankNode"))))}or.getQuadsWithoutBlankNodes=c;function d(S){const N={};for(const j of S)N[JSON.stringify(e.quadToStringQuad(j))]=!0;return N}or.indexGraph=d;function f(S){return Object.keys(S).map(N=>e.stringQuadToQuad(JSON.parse(N)))}or.deindexGraph=f;function p(S){return f(d(S))}or.uniqGraph=p;function h(S){return u.uniqTerms(S.map(N=>u.getBlankNodes(u.getTermsNested(N))).reduce((N,j)=>N.concat(j),[]))}or.getGraphBlankNodes=h;function g(S,N,j){const q=Object.assign({},j),O={};let I=!0;for(;I;){const A=Object.keys(q).length;for(const C of N){const B=e.termToString(C);if(!q[B]){const[V,U]=_(C,S,q);V&&(q[B]=U),O[B]=U}}const P={};for(const C in O){const B=O[C];P[B]===void 0?P[B]=C:P[B]=!1}for(const C in P){const B=P[C];B&&(q[B]=C)}I=A!==Object.keys(q).length}return[q,O]}or.hashTerms=g;function _(S,N,j){const q=[];let O=!0;for(const A of N){const P=u.getTermsNested(A);if(P.some(C=>C.equals(S))){q.push(w(A,j,S));for(const C of P)!E(C,j)&&!C.equals(S)&&(O=!1)}}const I=m(q.sort().join(""));return[O,I]}or.hashTerm=_;function m(S){return n.sha1().update(S).digest("hex")}or.sha1hex=m;function w(S,N,j){return u.getTerms(S).map(q=>T(q,N,j)).join("|")}or.quadToSignature=w;function T(S,N,j){return S.equals(j)?"@self":S.termType==="BlankNode"?N[e.termToString(S)]||"@blank":S.termType==="Quad"?`<${w(S,N,j)}>`:e.termToString(S)}or.termToSignature=T;function E(S,N){return S.termType!=="BlankNode"&&!(S.termType==="Quad"&&u.getTermsNested(S).some(j=>!E(j,N)))||!!N[e.termToString(S)]}return or.isTermGrounded=E,or}var Hme;function t7e(){return Hme||(Hme=1,(function(n){var e=Em&&Em.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t),Object.defineProperty(a,i,{enumerable:!0,get:function(){return r[t]}})}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=Em&&Em.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(e7e(),n)})(Em)),Em}var kme;function r7e(){if(kme)return Ka;kme=1;var n=Ka&&Ka.__createBinding||(Object.create?(function(R,k,K,de){de===void 0&&(de=K);var ge=Object.getOwnPropertyDescriptor(k,K);(!ge||("get"in ge?!k.__esModule:ge.writable||ge.configurable))&&(ge={enumerable:!0,get:function(){return k[K]}}),Object.defineProperty(R,de,ge)}):(function(R,k,K,de){de===void 0&&(de=K),R[de]=k[K]})),e=Ka&&Ka.__setModuleDefault||(Object.create?(function(R,k){Object.defineProperty(R,"default",{enumerable:!0,value:k})}):function(R,k){R.default=k}),u=Ka&&Ka.__importStar||function(R){if(R&&R.__esModule)return R;var k={};if(R!=null)for(var K in R)K!=="default"&&Object.prototype.hasOwnProperty.call(R,K)&&n(k,R,K);return e(k,R),k},a=Ka&&Ka.__importDefault||function(R){return R&&R.__esModule?R:{default:R}};Object.defineProperty(Ka,"__esModule",{value:!0}),Ka.toSparqlJs=Ka.toSparql=void 0;const r=t7e(),t=Xt(),i=$n(),o=u(sN()),l=a(MP()),s=a(TH()),c=o.types,d=o.expressionTypes;let f;const p=new l.default;function h(R,k={}){return new i.Generator(k).stringify(g(R))}Ka.toSparql=h;function g(R){_(),R=Le(R);let k=m(R);return k.type==="group"?k.patterns[0]:k}Ka.toSparqlJs=g;function _(){f={project:!1,extend:[],group:[],aggregates:[],order:[]}}function m(R){switch(R.type!==c.EXTEND&&R.type!==c.ORDER_BY&&R.type!==c.GRAPH&&(f.project=!1),R.type){case c.EXPRESSION:return w(R);case c.ASK:return Oe(R,c.ASK);case c.BGP:return C(R);case c.CONSTRUCT:return B(R);case c.DESCRIBE:return Oe(R,c.DESCRIBE);case c.DISTINCT:return V(R);case c.EXTEND:return U(R);case c.FROM:return G(R);case c.FILTER:return J(R);case c.GRAPH:return ne(R);case c.GROUP:return W(R);case c.JOIN:return ee(R);case c.LEFT_JOIN:return se(R);case c.MINUS:return pe(R);case c.NOP:return{};case c.ORDER_BY:return le(R);case c.PATH:return Ee(R);case c.PATTERN:return Ae(R);case c.PROJECT:return Oe(R,c.PROJECT);case c.REDUCED:return te(R);case c.SERVICE:return v(R);case c.SLICE:return F(R);case c.UNION:return D(R);case c.VALUES:return L(R);case c.COMPOSITE_UPDATE:return Ce(R);case c.DELETE_INSERT:return He(R);case c.LOAD:return Je(R);case c.CLEAR:return Ye(R);case c.CREATE:return oe(R);case c.DROP:return X(R);case c.ADD:return he(R);case c.MOVE:return ve(R);case c.COPY:return ye(R)}throw new Error(`Unknown Operation type ${R.type}`)}function w(R){switch(R.expressionType){case d.AGGREGATE:return S(R);case d.EXISTENCE:return N(R);case d.NAMED:return j(R);case d.OPERATOR:return q(R);case d.TERM:return O(R);case d.WILDCARD:return I(R)}throw new Error(`Unknown Expression Operation type ${R.expressionType}`)}function T(R){switch(R.type){case c.ALT:return H(R);case c.INV:return Z(R);case c.LINK:return $(R);case c.NPS:return ue(R);case c.ONE_OR_MORE_PATH:return ae(R);case c.SEQ:return ce(R);case c.ZERO_OR_MORE_PATH:return Se(R);case c.ZERO_OR_ONE_PATH:return xe(R)}throw new Error(`Unknown Path type ${R.type}`)}function E(R){return(0,t.termToString)(R)}function S(R){const k={expression:w(R.expression),type:"aggregate",aggregation:R.aggregator,distinct:R.distinct};return R.separator&&(k.separator=R.separator),k}function N(R){return{type:"operation",operator:R.not?"notexists":"exists",args:[{type:"group",patterns:s.default.flatten([m(R.input)])}]}}function j(R){return{type:"functionCall",function:R.name,args:R.args.map(w)}}function q(R){if(R.operator==="desc"){const K={expression:w(R.args[0])};return K.descending=!0,K}const k={type:"operation",operator:R.operator,args:R.args.map(w)};return(k.operator==="in"||k.operator==="notin")&&(k.args=[k.args[0]].concat([k.args.slice(1)])),k}function O(R){return R.term}function I(R){return R.wildcard}function A(R){return Array.isArray(R)?R.length===1?R[0]:{type:"group",patterns:R}:R}function P(R){return R}function C(R){let k=R.patterns.map(Ae);return k.length===0?null:{type:"bgp",triples:k}}function B(R){return{type:"query",prefixes:{},queryType:"CONSTRUCT",template:R.template.map(Ae),where:s.default.flatten([m(R.input)])}}function V(R){let k=m(R.input);return k.patterns[0].distinct=!0,k}function U(R){return f.project?(f.extend.push(R),m(R.input)):s.default.flatten([m(R.input),{type:"bind",variable:R.variable,expression:w(R.expression)}])}function G(R){const k=m(R.input);let K=k;return k.type==="group"&&(K=k.patterns[0]),K.from={default:R.default,named:R.named},k}function J(R){return{type:"group",patterns:s.default.flatten([m(R.input),{type:"filter",expression:w(R.expression)}])}}function ne(R){return{type:"graph",patterns:s.default.flatten([m(R.input)]),name:R.name}}function W(R){const k=m(R.input),K=R.aggregates.map(P);return f.aggregates.push(...K),f.group.push(...R.variables),k}function ee(R){return s.default.flatten(R.input.map(m)).reduce((K,de)=>(de.type!=="bgp"||K.length==0||K[K.length-1].type!=="bgp"?K.push(de):K[K.length-1].triples.push(...de.triples),K),[])}function se(R){const k={type:"optional",patterns:[m(R.input[1])]};return R.expression&&k.patterns.push({type:"filter",expression:w(R.expression)}),k.patterns=s.default.flatten(k.patterns),s.default.flatten([m(R.input[0]),k])}function pe(R){let k=m(R.input[1]);return k.type==="group"&&(k=k.patterns),Array.isArray(k)||(k=[k]),s.default.flatten([m(R.input[0]),{type:"minus",patterns:k}])}function le(R){return f.order.push(...R.expressions),m(R.input)}function Ee(R){return{type:"bgp",triples:[{subject:R.subject,predicate:T(R.predicate),object:R.object}]}}function Ae(R){return{subject:R.subject,predicate:R.predicate,object:R.object}}function Ne(R,k){let K=s.default.isSimpleTerm(R)?E(R):R;if(typeof K=="string"){if(k[K])return k[K]}else if(Array.isArray(R))R=R.map(de=>Ne(de,k));else for(let de of Object.keys(R))R[de]=Ne(R[de],k);return R}function Oe(R,k){const K={type:"query",prefixes:{}},de=K;let ge;k===c.PROJECT?(K.queryType="SELECT",ge=R.variables):k===c.ASK?K.queryType="ASK":k===c.DESCRIBE&&(K.queryType="DESCRIBE",ge=R.terms);const Qe=f.extend,je=f.group,$e=f.aggregates,at=f.order;_(),f.project=!0;let fe=s.default.flatten([m(R.input)]);fe.length===1&&fe[0].type==="group"&&(fe=fe[0].patterns),K.where=fe;let Te={};for(let Me of f.aggregates)Te[E(Me.variable)]=w(Me);let qe={};for(let Me=f.extend.length-1;Me>=0;--Me){let st=f.extend[Me];qe[E(st.variable)]=Ne(w(st.expression),Te)}f.group.length>0&&(de.group=f.group.map(Me=>{let st=E(Me);if(qe[st]){let tt=qe[st];return delete qe[st],{variable:Me,expression:tt}}return{expression:Me}})),f.order.length>0&&(de.order=f.order.map(m).map(Me=>Me.descending?Me:{expression:Me})),ge&&(de.variables=ge.map(Me=>{let st=E(Me);if(qe[st]){let tt=qe[st];return delete qe[st],{variable:Me,expression:tt}}return Me}),de.variables.length===0&&(de.variables=[new i.Wildcard]));const it=Object.entries(qe);if(it.length>0){de.where=de.where||[];for(const[Me,st]of it)de.where.push({type:"bind",variable:(0,t.stringToTerm)(Me),expression:st})}if(K.where.length>0&&K.where[K.where.length-1].type==="filter"){const Me=K.where[K.where.length-1];be(Me,Object.keys(Te))&&(de.having=s.default.flatten([Ne(Me.expression,Te)]),K.where.splice(-1))}return f.extend=Qe,f.group=je,f.aggregates=$e,f.order=at,{type:"group",patterns:[de]}}function be(R,k){return s.default.isSimpleTerm(R)?k.indexOf(E(R))>=0:Array.isArray(R)?R.some(K=>be(K,k)):R===Object(R)?Object.keys(R).some(K=>be(R[K],k)):k.indexOf(R)>=0}function te(R){let k=m(R.input);return k.patterns[0].reduced=!0,k}function v(R){let k=m(R.input);return k.type==="group"&&(k=k.patterns),Array.isArray(k)||(k=[k]),{type:"service",name:R.name,silent:R.silent,patterns:k}}function F(R){let k=m(R.input),K=k;return k.type&&k.type==="group"&&(K=k.patterns[0]),R.start!==0&&(K.offset=R.start),R.length!==void 0&&(K.limit=R.length),k}function D(R){return{type:"union",patterns:R.input.map(m).map(A)}}function L(R){return{type:"values",values:R.bindings.map(k=>{let K={};for(let de of R.variables){let ge=`?${de.value}`;k[ge]?K[ge]=k[ge]:K[ge]=void 0}return K})}}function H(R){const k=R.input.map(T);return k.every(K=>"pathType"in K&&K.pathType==="!")?{type:"path",pathType:"!",items:[{type:"path",pathType:"|",items:s.default.flatten(k.map(K=>K.items))}]}:{type:"path",pathType:"|",items:k}}function Z(R){if(R.path.type===c.NPS){const k=R.path.iris.map(K=>({type:"path",pathType:"^",items:[K]}));return k.length<=1?{type:"path",pathType:"!",items:k}:{type:"path",pathType:"!",items:[{type:"path",pathType:"|",items:k}]}}return{type:"path",pathType:"^",items:[T(R.path)]}}function $(R){return R.iri}function ue(R){return R.iris.length<=1?{type:"path",pathType:"!",items:R.iris}:{type:"path",pathType:"!",items:[{type:"path",pathType:"|",items:R.iris}]}}function ae(R){return{type:"path",pathType:"+",items:[T(R.path)]}}function ce(R){return{type:"path",pathType:"/",items:R.input.map(T)}}function Se(R){return{type:"path",pathType:"*",items:[T(R.path)]}}function xe(R){return{type:"path",pathType:"?",items:[T(R.path)]}}function Ce(R){const k=R.updates.map(K=>m(K).updates[0]);return{prefixes:{},type:"update",updates:k}}function He(R){var k;let K=R.where,de;if(K&&K.type===c.FROM){let Qe=K;K=Qe.input,de={default:Qe.default,named:Qe.named}}const ge=[{updateType:"insertdelete",delete:Ie(R.delete||[]),insert:Ie(R.insert||[])}];if(de&&(ge[0].using=de),!K||K.type===c.BGP&&K.patterns.length===0)ge[0].where=[];else{const Qe=[];let je=m(Pe(K,Qe));if(je.type==="group"?ge[0].where=je.patterns:ge[0].where=[je],Qe.length>0){if(Qe.length!==1)throw new Error("This is unexpected and might indicate an error in graph handling for updates.");((k=Qe[0])===null||k===void 0?void 0:k.value)!==""&&(ge[0].where=[{type:"graph",patterns:ge[0].where,name:Qe[0]}])}}return!R.delete&&!R.where?(ge[0].updateType="insert",delete ge[0].delete,delete ge[0].where):!R.insert&&!R.where?(delete ge[0].insert,delete ge[0].where,R.delete.some(Qe=>Qe.subject.termType==="Variable"||Qe.predicate.termType==="Variable"||Qe.object.termType==="Variable")?ge[0].updateType="deletewhere":ge[0].updateType="delete"):!R.insert&&R.where&&R.where.type==="bgp"&&(0,r.isomorphic)(R.delete,R.where.patterns)&&(delete ge[0].where,ge[0].updateType="deletewhere"),{prefixes:{},type:"update",updates:ge}}function Je(R){const k=[{type:"load",silent:!!R.silent,source:R.source}];return R.destination&&(k[0].destination=R.destination),{prefixes:{},type:"update",updates:k}}function Ye(R){return Y(R,"clear")}function oe(R){return Y(R,"create")}function X(R){return Y(R,"drop")}function Y(R,k){const K=[{type:k,silent:!!R.silent}];return R.source==="DEFAULT"?K[0].graph={default:!0}:R.source==="NAMED"?K[0].graph={named:!0}:R.source==="ALL"?K[0].graph={all:!0}:K[0].graph={type:"graph",name:R.source},{prefixes:{},type:"update",updates:K}}function he(R){return re(R,"add")}function ve(R){return re(R,"move")}function ye(R){return re(R,"copy")}function re(R,k){const K=[{type:k,silent:!!R.silent}];return K[0].source=R.source==="DEFAULT"?{type:"graph",default:!0}:{type:"graph",name:R.source},K[0].destination=R.destination==="DEFAULT"?{type:"graph",default:!0}:{type:"graph",name:R.destination},{prefixes:{},type:"update",updates:K}}function Ie(R){if(!R)return[];const k={};return R.forEach(K=>{const de=K.graph.value;k[de]||(k[de]=[]),k[de].push(K)}),Object.keys(k).map(K=>K===""?{type:"bgp",triples:k[K].map(Ae)}:{type:"graph",triples:k[K].map(Ae),name:k[K][0].graph})}function Le(R){return Pe(R,[])}function Pe(R,k){if(Array.isArray(R))return R.map(je=>Pe(je,k));if(!R.type||R.type===c.DELETE_INSERT)return R;if((R.type===c.PATTERN||R.type===c.PATH)&&R.graph)return k.push(R.graph),R.graph.name!==""?R.type===c.PATTERN?p.createPattern(R.subject,R.predicate,R.object):p.createPath(R.subject,R.predicate,R.object):R;const K={},de={},ge={};for(let je of Object.keys(R)){const $e=[];if(K[je]=Pe(R[je],$e),$e.length>0){de[je]=$e;for(const at of $e)ge[at.value]=at}}const Qe=Object.keys(ge);if(Qe.length>0)if(Qe.length===1&&![c.PROJECT,c.SERVICE].includes(R.type))k.push(ge[Qe[0]]);else{if(R.type===c.BGP)return Fe(R,de.patterns);for(let je of Object.keys(de)){const $e=K[je];Array.isArray($e)?K[je]=$e.map((at,fe)=>de[je][0].value===""?at:p.createGraph(at,de[je][fe])):de[je][0].value!==""&&(K[je]=p.createGraph($e,de[je][0]))}}return K}function Fe(R,k){var K;const de={};for(let je=0;je<R.patterns.length;++je){const $e=R.patterns[je],at=k[je].value;de[at]=(K=de[at])!==null&&K!==void 0?K:{patterns:[],graph:k[je]},de[at].patterns.push($e)}let ge=[];for(const[je,{patterns:$e,graph:at}]of Object.entries(de)){const fe=p.createBgp($e);ge.push(je===""?fe:p.createGraph(fe,at))}let Qe=ge[0];for(let je=1;je<ge.length;++je)Qe=p.createJoin([Qe,ge[je]]);return Qe}return Ka}var zme;function n7e(){return zme||(zme=1,(function(n){var e=io&&io.__createBinding||(Object.create?(function(c,d,f,p){p===void 0&&(p=f);var h=Object.getOwnPropertyDescriptor(d,f);(!h||("get"in h?!d.__esModule:h.writable||h.configurable))&&(h={enumerable:!0,get:function(){return d[f]}}),Object.defineProperty(c,p,h)}):(function(c,d,f,p){p===void 0&&(p=f),c[p]=d[f]})),u=io&&io.__setModuleDefault||(Object.create?(function(c,d){Object.defineProperty(c,"default",{enumerable:!0,value:d})}):function(c,d){c.default=d}),a=io&&io.__importStar||function(c){if(c&&c.__esModule)return c;var d={};if(c!=null)for(var f in c)f!=="default"&&Object.prototype.hasOwnProperty.call(c,f)&&e(d,c,f);return u(d,c),d},r=io&&io.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(n,"__esModule",{value:!0}),n.Util=n.toSparqlJs=n.toSparql=n.Factory=n.Algebra=n.translate=void 0;const t=r(ZLe());n.translate=t.default;const i=a(sN());n.Algebra=i;const o=r(MP());n.Factory=o.default;const l=r7e();Object.defineProperty(n,"toSparql",{enumerable:!0,get:function(){return l.toSparql}}),Object.defineProperty(n,"toSparqlJs",{enumerable:!0,get:function(){return l.toSparqlJs}});const s=r(TH());n.Util=s.default})(io)),io}var Gme;function a7e(){if(Gme)return KR;Gme=1,Object.defineProperty(KR,"__esModule",{value:!0}),KR.ActorExtractLinksSolidTypeIndex=void 0;const n=Tb(),e=uP(),u=lt(),a=BLe(),r=De(),t=YLe(),i=Xt(),o=n7e();let l=class g7 extends e.ActorExtractLinks{constructor(c){super(c),this.queryEngine=new n.QueryEngineBase(c.actorInitQuery)}async test(c){return c.context.get(u.KeysInitQuery.query)?(0,r.passTestVoid)():(0,r.failTest)(`Actor ${this.name} can only work in the context of a query.`)}async run(c){const d=[...await this.extractTypeIndexLinks(c.metadata)],f=(await Promise.all(d.map(h=>this.dereferenceTypeIndex(h,c.context)))).reduce((h,g)=>{for(const[_,m]of Object.entries(g))h[_]||(h[_]=[]),h[_].push(...m);return h},{});if(Object.keys(f).length===0)return{links:[]};if(this.onlyMatchingTypes)return{links:await this.getLinksMatchingQuery(f,c.context.get(u.KeysInitQuery.query))};const p=[];for(const h of Object.values(f))p.push(...h);return{links:p}}extractTypeIndexLinks(c){return new Promise((d,f)=>{const p=new Set;c.on("error",f),c.on("data",h=>{this.typeIndexPredicates.includes(h.predicate.value)&&p.add(h.object.value)}),c.on("end",()=>{d(p)})})}async dereferenceTypeIndex(c,d){const f=await this.mediatorDereferenceRdf.mediate({url:c,context:d}),p=await(0,t.storeStream)(f.data),h=await(await this.queryEngine.queryBindings(`
        PREFIX solid: <http://www.w3.org/ns/solid/terms#>
        SELECT ?class ?instance WHERE {
          _:registration a solid:TypeRegistration;
            solid:forClass ?class;
            (solid:instance|solid:instanceContainer) ?instance.
        }`,{sources:[p],[u.KeysQuerySourceIdentify.traverse.name]:!1,[a.KeysRdfJoin.skipAdaptiveJoin.name]:!0,lenient:!0})).toArray(),g={};for(const _ of h){const m=_.get("class").value;g[m]||(g[m]=[]),g[m].push({url:_.get("instance").value,metadata:{producedByActor:{name:this.name,onlyMatchingTypes:this.onlyMatchingTypes,inference:this.inference}}})}return g}async linkPredicateDomains(c,d){if(Object.keys(c).length>0){const f=await Promise.all(Object.keys(c).map(async h=>[h,await this.fetchPredicateDomains(h)])),p=Object.fromEntries(f);for(const[h,g]of Object.entries(c)){const _=p[h];if(_)for(const m of _)d[m]||(d[m]=[]),d[m].push(g)}}}async fetchPredicateDomains(c){const f=await(await this.queryEngine.queryBindings(`
        PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
        SELECT * WHERE {
          <${c}> rdfs:domain ?domain.
        }`,{sources:[c],[u.KeysQuerySourceIdentify.traverse.name]:!1,[a.KeysRdfJoin.skipAdaptiveJoin.name]:!0,lenient:!0})).toArray(),p=[];for(const h of f)p.push(h.get("domain").value);return p}async getLinksMatchingQuery(c,d){const f=new Set,p={},h={};function g(m,w,T){if(["NamedNode","Literal","BlankNode"].includes(m.termType)&&f.add((0,i.termToString)(m)),w.value===g7.RDF_TYPE&&T.termType==="NamedNode"){const E=T.value;p[E]||(p[E]=[]),p[E].push(m)}w.value!==g7.RDF_TYPE&&(h[w.value]=m)}o.Util.recurseOperation(d,{pattern(m){return g(m.subject,m.predicate,m.object),!1},path(m){return o.Util.recurseOperation(m,{link(w){return g(m.subject,w.iri,m.object),!1},nps(w){for(const T of w.iris)g(m.subject,T,m.object);return!1}}),!1}}),this.inference&&await this.linkPredicateDomains(h,p);const _=[];for(const[m,w]of Object.entries(p)){const T=c[m];T&&_.push(...T);for(const E of w)f.delete((0,i.termToString)(E))}return f.size>0?Object.values(c).flat():_}};return KR.ActorExtractLinksSolidTypeIndex=l,l.RDF_TYPE="http://www.w3.org/1999/02/22-rdf-syntax-ns#type",KR}var $me;function wH(){return $me||($me=1,(function(n){var e=Tm&&Tm.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=Tm&&Tm.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(a7e(),n)})(Tm)),Tm}var Am={},f6={},Xme;function i7e(){if(Xme)return f6;Xme=1,Object.defineProperty(f6,"__esModule",{value:!0}),f6.ActorQueryProcessExplainParsed=void 0;const n=PP(),e=lt(),u=De();let a=class extends n.ActorQueryProcess{constructor(t){super(t)}async test(t){return(t.context.get(e.KeysInitQuery.explain)??t.context.get(new u.ActionContextKey("explain")))!=="parsed"?(0,u.failTest)(`${this.name} can only explain in 'parsed' mode.`):(0,u.passTestVoid)()}async run(t){const{operation:i}=await this.queryProcessor.parse(t.query,t.context);return{result:{explain:!0,type:"parsed",data:i}}}};return f6.ActorQueryProcessExplainParsed=a,f6}var Kme;function SH(){return Kme||(Kme=1,(function(n){var e=Am&&Am.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=Am&&Am.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(i7e(),n)})(Am)),Am}var Om={},p6={},Jme;function u7e(){if(Jme)return p6;Jme=1,Object.defineProperty(p6,"__esModule",{value:!0}),p6.ActorQueryProcessExplainLogical=void 0;const n=PP(),e=lt(),u=De();let a=class extends n.ActorQueryProcess{constructor(t){super(t)}async test(t){return(t.context.get(e.KeysInitQuery.explain)??t.context.get(new u.ActionContextKey("explain")))!=="logical"?(0,u.failTest)(`${this.name} can only explain in 'logical' mode.`):(0,u.passTestVoid)()}async run(t){let{operation:i,context:o}=await this.queryProcessor.parse(t.query,t.context);return{operation:i,context:o}=await this.queryProcessor.optimize(i,o),{result:{explain:!0,type:"logical",data:i}}}};return p6.ActorQueryProcessExplainLogical=a,p6}var Wme;function EH(){return Wme||(Wme=1,(function(n){var e=Om&&Om.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=Om&&Om.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(u7e(),n)})(Om)),Om}var xm={},h6={},Rm={},Yme;function Pwe(){if(Yme)return Rm;Yme=1,Object.defineProperty(Rm,"__esModule",{value:!0}),Rm.numberToString=Rm.MemoryPhysicalQueryPlanLogger=void 0;const n=Xt();let e=class{constructor(){this.planNodes=new Map}logOperation(r,t,i,o,l,s){const c={actor:l,logicalOperator:r,physicalOperator:t,rawNode:i,children:[],metadata:s};if(this.planNodes.set(i,c),this.rootNode){if(!o)throw new Error("Detected more than one parent-less node");const d=this.planNodes.get(o);if(!d)throw new Error("Could not find parent node");d.children.push(c)}else{if(o)throw new Error("No root node has been set yet, while a parent is being referenced");this.rootNode=c}}stashChildren(r,t){const i=this.planNodes.get(r);if(!i)throw new Error("Could not find plan node");i.children=t?i.children.filter(t):[]}unstashChild(r,t){const i=this.planNodes.get(r);if(i){const o=this.planNodes.get(t);if(!o)throw new Error("Could not find plan parent node");o.children.push(i)}}appendMetadata(r,t){const i=this.planNodes.get(r);i&&(i.metadata={...i.metadata,...t})}toJson(){return this.rootNode?this.planNodeToJson(this.rootNode):{}}planNodeToJson(r){const t={logical:r.logicalOperator,physical:r.physicalOperator,...this.getLogicalMetadata(r.rawNode),...this.compactMetadata(r.metadata)};if(r.children.length>0&&(t.children=r.children.map(i=>this.planNodeToJson(i))),t.physical==="bind"&&t.children){const i={};for(const l of t.children){const s=l.children?.at(-1)??l,c=this.getPlanHash(s).join(",");i[c]||(i[c]=[]),i[c].push(l)}const o=[];for(const l of Object.values(i))o.push({occurrences:l.length,firstOccurrence:l[0]});t.childrenCompact=o,delete t.children}return t}getPlanHash(r){let t=[`${r.logical}-${r.physical}`];return r.children?t=[...t,...r.children.flatMap(i=>this.getPlanHash(i))]:r.childrenCompact&&(t=[...t,...r.childrenCompact.flatMap(i=>this.getPlanHash(i.firstOccurrence))]),t}compactMetadata(r){return Object.fromEntries(Object.entries(r).map(([t,i])=>[t,this.compactMetadataValue(i)]))}compactMetadataValue(r){return r&&typeof r=="object"&&"termType"in r?this.getLogicalMetadata(r):r}getLogicalMetadata(r){const t={};if("type"in r){const i=r;switch(i.metadata?.scopedSource&&(t.source=i.metadata.scopedSource.source.toString()),i.type){case"pattern":t.pattern=this.quadToString(i);break;case"project":t.variables=i.variables.map(o=>o.value);break}}return t}quadToString(r){return`${(0,n.termToString)(r.subject)} ${(0,n.termToString)(r.predicate)} ${(0,n.termToString)(r.object)}${r.graph.termType==="DefaultGraph"?"":` ${(0,n.termToString)(r.graph)}`}`}toCompactString(){const r=this.toJson(),t=[],i=new Map;if("logical"in r?this.nodeToCompactString(t,i,"",r):t.push("Empty"),i.size>0){t.push(""),t.push("sources:");for(const[o,l]of i.entries())t.push(`  ${l}: ${o}`)}return t.join(`
`)}nodeToCompactString(r,t,i,o,l){let s;o.source&&(s=t.get(o.source),s===void 0&&(s=t.size,t.set(o.source,s))),r.push(`${i}${o.logical}${o.physical?`(${o.physical})`:""}${o.pattern?` (${o.pattern})`:""}${o.variables?` (${o.variables.join(",")})`:""}${o.bindOperation?` bindOperation:(${o.bindOperation.pattern}) bindCardEst:${o.bindOperationCardinality.type==="estimate"?"~":""}${u(o.bindOperationCardinality.value)}`:""}${o.cardinality?` cardEst:${o.cardinality.type==="estimate"?"~":""}${u(o.cardinality.value)}`:""}${o.source?` src:${s}`:""}${o.cardinalityReal?` cardReal:${o.cardinalityReal}`:""}${o.timeSelf?` timeSelf:${u(o.timeSelf)}ms`:""}${o.timeLife?` timeLife:${u(o.timeLife)}ms`:""}${l?` ${l}`:""}`);for(const c of o.children??[])this.nodeToCompactString(r,t,`${i}  `,c);for(const c of o.childrenCompact??[])this.nodeToCompactString(r,t,`${i}  `,c.firstOccurrence,`compacted-occurrences:${c.occurrences}`)}};Rm.MemoryPhysicalQueryPlanLogger=e;function u(a){return a.toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:3})}return Rm.numberToString=u,Rm}var Zme;function o7e(){if(Zme)return h6;Zme=1,Object.defineProperty(h6,"__esModule",{value:!0}),h6.ActorQueryProcessExplainPhysical=void 0;const n=PP(),e=lt(),u=De(),a=Pwe();let r=class extends n.ActorQueryProcess{constructor(i){super(i)}async test(i){const o=i.context.get(e.KeysInitQuery.explain)??i.context.get(new u.ActionContextKey("explain"));return o!=="physical"&&o!=="physical-json"?(0,u.failTest)(`${this.name} can only explain in 'physical' or 'physical-json' mode.`):(0,u.passTestVoid)()}async run(i){let{operation:o,context:l}=await this.queryProcessor.parse(i.query,i.context);({operation:o,context:l}=await this.queryProcessor.optimize(o,l));const s=new a.MemoryPhysicalQueryPlanLogger;l=l.set(e.KeysInitQuery.physicalQueryPlanLogger,s);const c=await this.queryProcessor.evaluate(o,l);switch(c.type){case"bindings":await c.bindingsStream.toArray();break;case"quads":await c.quadStream.toArray();break;case"boolean":await c.execute();break;case"void":await c.execute();break}const d=i.context.get(e.KeysInitQuery.explain)??i.context.getSafe(new u.ActionContextKey("explain"));return{result:{explain:!0,type:d,data:d==="physical"?s.toCompactString():s.toJson()}}}};return h6.ActorQueryProcessExplainPhysical=r,h6}var ebe;function AH(){return ebe||(ebe=1,(function(n){var e=xm&&xm.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=xm&&xm.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(o7e(),n),u(Pwe(),n)})(xm)),xm}var Nm={},y6={},tbe;function s7e(){if(tbe)return y6;tbe=1,Object.defineProperty(y6,"__esModule",{value:!0}),y6.ActorOptimizeQueryOperationPruneEmptySourceOperations=void 0;const n=Vi(),e=lt(),u=De(),a=er(),r=Qt();let t=class W6 extends n.ActorOptimizeQueryOperation{constructor(o){super(o)}async test(o){return(0,a.getOperationSource)(o.operation)?(0,u.failTest)(`Actor ${this.name} does not work with top-level operation sources.`):(0,u.passTestVoid)()}async run(o){const l=o.context.getSafe(e.KeysInitQuery.dataFactory),s=new r.Factory(l);let c=o.operation;const d=[],f=this;r.Util.recurseOperation(c,{[r.Algebra.types.UNION](h){return f.collectMultiOperationInputs(h.input,d,r.Algebra.types.PATTERN),!0},[r.Algebra.types.ALT](h){return f.collectMultiOperationInputs(h.input,d,r.Algebra.types.LINK),!1},[r.Algebra.types.SERVICE](){return!1}});const p=new Set;return await Promise.all(d.map(async h=>{const g=h.type==="link"?s.createPattern(l.variable("s"),h.iri,l.variable("o")):h;await this.hasSourceResults(s,(0,a.getOperationSource)(h),g,o.context)||p.add(h)})),p.size>0&&(this.logDebug(o.context,`Pruning ${p.size} source-specific operations`),c=r.Util.mapOperation(c,{[r.Algebra.types.UNION](h,g){return f.mapMultiOperation(h,p,_=>g.createUnion(_))},[r.Algebra.types.ALT](h,g){return f.mapMultiOperation(h,p,_=>g.createAlt(_))}},s),c=r.Util.mapOperation(c,{[r.Algebra.types.PROJECT](h,g){return W6.hasEmptyOperation(h)?{recurse:!1,result:g.createUnion([])}:{recurse:!0,result:h}},[r.Algebra.types.LEFT_JOIN](h){return W6.hasEmptyOperation(h.input[1])?{recurse:!0,result:h.input[0]}:{recurse:!0,result:h}}},s)),{operation:c,context:o.context}}static hasEmptyOperation(o){let l=!1;return r.Util.recurseOperation(o,{[r.Algebra.types.UNION](s){return s.input.every(c=>W6.hasEmptyOperation(c))&&(l=!0),!1},[r.Algebra.types.ALT](s){return s.input.length===0&&(l=!0),!1},[r.Algebra.types.LEFT_JOIN](s){return W6.hasEmptyOperation(s.input[0])&&(l=!0),!1}}),l}collectMultiOperationInputs(o,l,s){for(const c of o)(0,a.getOperationSource)(c)&&c.type===s&&l.push(c)}mapMultiOperation(o,l,s){const c=o.input.filter(d=>!l.has(d));return c.length===o.input.length?{result:o,recurse:!0}:c.length===0?{result:s([]),recurse:!1}:c.length===1?{result:c[0],recurse:!0}:{result:s(c),recurse:!0}}async hasSourceResults(o,l,s,c){const d=l.context?c.merge(l.context):c,f=d.get(e.KeysInitQuery.extensionFunctionsAlwaysPushdown);if(d.get(e.KeysQuerySourceIdentify.traverse))return!0;if(this.useAskIfSupported){const g=o.createAsk(s);if((0,a.doesShapeAcceptOperation)(await l.source.getSelectorShape(c),g,{wildcardAcceptAllExtensionFunctions:f}))return l.source.queryBoolean(g,d)}const p=l.source.queryBindings(s,d),h=await new Promise((g,_)=>{p.on("error",_),p.getProperty("metadata",m=>{p.destroy(),g(m.cardinality)})});if(h.type==="estimate"&&h.value>0){const g=o.createAsk(s);if((0,a.doesShapeAcceptOperation)(await l.source.getSelectorShape(c),g,{wildcardAcceptAllExtensionFunctions:f}))return l.source.queryBoolean(g,d)}return h.value>0}};return y6.ActorOptimizeQueryOperationPruneEmptySourceOperations=t,y6}var rbe;function OH(){return rbe||(rbe=1,(function(n){var e=Nm&&Nm.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=Nm&&Nm.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(s7e(),n)})(Nm)),Nm}var Im={},m6={},nbe;function c7e(){if(nbe)return m6;nbe=1,Object.defineProperty(m6,"__esModule",{value:!0}),m6.ActorHttpProxy=void 0;const n=sc(),e=lt(),u=De();let a=class extends n.ActorHttp{constructor(t){super(t)}async test(t){const i=t.context.get(e.KeysHttpProxy.httpProxyHandler);return i?await i.getProxy(t)?(0,u.passTest)({time:Number.POSITIVE_INFINITY}):(0,u.failTest)(`Actor ${this.name} could not determine a proxy for the given request.`):(0,u.failTest)(`Actor ${this.name} could not find a proxy handler in the context.`)}async run(t){const i=typeof t.input=="string"?t.input:t.input.url,o=t.context.get(e.KeysHttpProxy.httpProxyHandler),l=await this.mediatorHttp.mediate({...await o.getProxy(t),context:t.context.delete(e.KeysHttpProxy.httpProxyHandler)});return Object.defineProperty(l,"url",{configurable:!0,enumerable:!0,get:()=>l.headers.get("x-final-url")??i}),l}};return m6.ActorHttpProxy=a,m6}var b6={},abe;function l7e(){if(abe)return b6;abe=1,Object.defineProperty(b6,"__esModule",{value:!0}),b6.ProxyHandlerStatic=void 0;let n=class{constructor(u){this.prefixUrl=u}async getProxy(u){return{init:u.init,input:this.modifyInput(u.input)}}modifyInput(u){return typeof u=="string"?this.prefixUrl+u:new Request(this.prefixUrl+u.url,u)}};return b6.ProxyHandlerStatic=n,b6}var ibe;function xH(){return ibe||(ibe=1,(function(n){var e=Im&&Im.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=Im&&Im.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(c7e(),n),u(l7e(),n)})(Im)),Im}var Dm={},g6={},ube;function d7e(){if(ube)return g6;ube=1,Object.defineProperty(g6,"__esModule",{value:!0}),g6.ActorRdfJoinMultiBindSource=void 0;const n=ki(),e=lt(),u=De(),a=Eb(),r=er(),t=Gt(),i=Qt();let o=class extends n.ActorRdfJoin{constructor(s){super(s,{logicalType:"inner",physicalName:"bind-source",canHandleUndefs:!0})}async getOutput(s,c){const d=s.context.getSafe(e.KeysInitQuery.dataFactory),f=new i.Factory(d),p=c.entriesSorted;this.logDebug(s.context,"First entry for Bind Join Source: ",()=>({entry:p[0].operation,cardinality:p[0].metadata.cardinality,order:p[0].metadata.order,availableOrders:p[0].metadata.availableOrders}));for(const[S,N]of p.entries())S!==0&&N.output.bindingsStream.close();const h=p[0].output,g=p[0].metadata,_=[...p];_.splice(0,1);const m=(0,r.getOperationSource)(_[0].operation),w=this.createOperationFromEntries(f,_),T=new a.ChunkedIterator(h.bindingsStream,this.blockSize,{autoStart:!1});return{result:{type:"bindings",bindingsStream:new t.UnionIterator(T.map(S=>m.source.queryBindings(w,m.context?s.context.merge(m.context):s.context,{joinBindings:{bindings:S,metadata:g}}))),metadata:()=>this.constructResultMetadata(p,p.map(S=>S.metadata),s.context)},physicalPlanMetadata:{bindIndex:c.entriesUnsorted.indexOf(p[0])}}}async sortJoinEntries(s,c){const d=await n.ActorRdfJoin.sortJoinEntries(this.mediatorJoinEntriesSort,s,c);return d.isFailed()?d:(s=d.get(),s=s.sort((f,p)=>f.operationModified&&!p.operationModified?-1:0),(0,u.passTest)(s))}async getJoinCoefficients(s,c){let{metadatas:d}=c;const f=s.context.getSafe(e.KeysInitQuery.dataFactory),p=new i.Factory(f),h=s.entries.map((A,P)=>({...A,metadata:d[P]})),g=await this.sortJoinEntries(h,s.context);if(g.isFailed())return g;const _=g.get();d=_.map(A=>A.metadata);const m=n.ActorRdfJoin.getRequestInitialTimes(d),w=n.ActorRdfJoin.getRequestItemTimes(d),T=[..._];[...m],[...w],T.splice(0,1);const E=T.map(A=>(0,r.getOperationSource)(A.operation));if(E.some(A=>!A))return(0,u.failTest)(`Actor ${this.name} can not bind on remaining operations without source annotation`);if(E.some(A=>A!==E[0]))return(0,u.failTest)(`Actor ${this.name} can not bind on remaining operations with non-equal source annotation`);const S=E[0],N=this.createOperationFromEntries(p,T),j=await S.source.getSelectorShape(s.context),q=s.context.get(e.KeysInitQuery.extensionFunctionsAlwaysPushdown);if(!(0,r.doesShapeAcceptOperation)(j,N,{joinBindings:!0,wildcardAcceptAllExtensionFunctions:q}))return(0,u.failTest)(`Actor ${this.name} detected a source that can not handle passing down join bindings`);const O=await Promise.all(T.map(async A=>(await this.mediatorJoinSelectivity.mediate({entries:[_[0],A],context:s.context})).selectivity*this.selectivityModifier)),I=T.map((A,P)=>A.metadata.cardinality.value*O[P]).reduce((A,P)=>A+P,0);return(0,u.passTestWithSideData)({iterations:1,persistedItems:d[0].cardinality.value,blockingItems:d[0].cardinality.value,requestTime:m[0]+d[0].cardinality.value*w[0]+m[1]+I*w[1]},{...c,entriesUnsorted:h,entriesSorted:_})}createOperationFromEntries(s,c){return c.length===1?c[0].operation:s.createJoin(c.map(d=>d.operation),!0)}};return g6.ActorRdfJoinMultiBindSource=o,g6}var obe;function RH(){return obe||(obe=1,(function(n){var e=Dm&&Dm.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=Dm&&Dm.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(d7e(),n)})(Dm)),Dm}var Fm={},v6={},sbe;function f7e(){if(sbe)return v6;sbe=1,Object.defineProperty(v6,"__esModule",{value:!0}),v6.ActorOptimizeQueryOperationJoinConnected=void 0;const n=Vi(),e=lt(),u=De(),a=Qt();let r=class lF extends n.ActorOptimizeQueryOperation{async test(i){return(0,u.passTestVoid)()}async run(i){const o=i.context.getSafe(e.KeysInitQuery.dataFactory),l=new a.Factory(o);return{operation:a.Util.mapOperation(i.operation,{join(c,d){return{recurse:!1,result:lF.cluster(c,d)}}},l),context:i.context}}static cluster(i,o){const l=i.input.map(f=>({inScopeVariables:Object.fromEntries(a.Util.inScopeVariables(f).map(p=>[p.value,!0])),entries:[f]}));let s,c=l;do s=c,c=lF.clusterIteration(s);while(s.length!==c.length);const d=c.map(f=>f.entries.length===1?f.entries[0]:o.createJoin(f.entries));return d.length===1?d[0]:o.createJoin(d,!1)}static clusterIteration(i){const o=[];for(const l of i){let s=!1;for(const c of o)if(lF.haveOverlappingVariables(l.inScopeVariables,c.inScopeVariables)){c.entries=[...c.entries,...l.entries],c.inScopeVariables={...c.inScopeVariables,...l.inScopeVariables},s=!0;break}s||o.push({inScopeVariables:l.inScopeVariables,entries:l.entries})}return o}static haveOverlappingVariables(i,o){for(const l of Object.keys(i))if(o[l])return!0;return!1}};return v6.ActorOptimizeQueryOperationJoinConnected=r,v6}var cbe;function NH(){return cbe||(cbe=1,(function(n){var e=Fm&&Fm.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=Fm&&Fm.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(f7e(),n)})(Fm)),Fm}var Pm={},_6={},lbe;function p7e(){if(lbe)return _6;lbe=1,Object.defineProperty(_6,"__esModule",{value:!0}),_6.ActorHttpRetry=void 0;const n=sc(),e=lt(),u=De();let a=class Wm extends n.ActorHttp{constructor(t){super(t),this.activeDelays={},this.httpInvalidator=t.httpInvalidator,this.httpInvalidator.addInvalidateListener(i=>this.handleHttpInvalidateEvent(i)),this.mediatorHttp=t.mediatorHttp}async test(t){if(t.context.has(Wm.keyWrapped))return(0,u.failTest)(`${this.name} can only wrap a request once`);const i=t.context.get(e.KeysHttp.httpRetryCount);return!i||i<1?(0,u.failTest)(`${this.name} requires a retry count greater than zero to function`):(0,u.passTest)({time:0})}async run(t){const i=n.ActorHttp.getInputUrl(t.input),o=t.context.getSafe(e.KeysHttp.httpRetryCount)+1,l=t.context.get(e.KeysHttp.httpRetryDelayFallback)??0,s=t.context.get(e.KeysHttp.httpRetryDelayLimit),c=t.context.get(e.KeysHttp.httpRetryStatusCodes);for(let d=1;d<=o;d++){const f=i.host in this.activeDelays?this.activeDelays[i.host].date.getTime()-Date.now():l;if(s&&f>s){this.logWarn(t.context,"Requested delay exceeds the limit",()=>({url:i.href,delay:f,delayDate:this.activeDelays[i.host].date.toISOString(),delayLimit:s,currentAttempt:`${d} / ${o}`}));break}else f>0&&d>1&&(this.logDebug(t.context,"Delaying request",()=>({url:i.href,delay:f,currentAttempt:`${d} / ${o}`})),await Wm.sleep(f));const p=await this.mediatorHttp.mediate({...t,context:t.context.set(Wm.keyWrapped,!0)});if(p.ok)return p;if(c&&c.includes(p.status)){this.logDebug(t.context,"Status code in force retry list, forcing retry",()=>({url:i.href,status:p.status,statusText:p.statusText,currentAttempt:`${d} / ${o}`}));continue}if(p.status===504){this.logDebug(t.context,"Received proxy timeout",()=>({url:i.href,status:p.status,statusText:p.statusText,currentAttempt:`${d} / ${o}`}));continue}if(p.status===429||p.status===503||p.status===405&&p.headers.has("retry-after")){const h=p.headers.get("retry-after");if(h){const g=Wm.parseRetryAfterHeader(h);g?(i.host in this.activeDelays&&clearTimeout(this.activeDelays[i.host].timeout),this.activeDelays[i.host]={date:g,timeout:setTimeout(()=>delete this.activeDelays[i.host],g.getTime()-Date.now())}):this.logDebug(t.context,"Invalid Retry-After header value from server",()=>({url:i.href,status:p.status,statusText:p.statusText,retryAfterHeader:h,currentAttempt:`${d} / ${o}`}))}this.logDebug(t.context,"Server temporarily unavailable",()=>({url:i.href,status:p.status,statusText:p.statusText,currentAttempt:`${d} / ${o}`}));continue}if(p.status>=400&&p.status<500){this.logDebug(t.context,"Server reported client-side error",()=>({url:i.href,status:p.status,statusText:p.statusText,currentAttempt:`${d} / ${o}`}));break}if(p.status>=500&&p.status<600){this.logDebug(t.context,"Server-side error encountered, terminating",()=>({url:i.href,status:p.status,statusText:p.statusText,currentAttempt:`${d} / ${o}`}));break}this.logDebug(t.context,"Request failed",()=>({url:i.href,status:p.status,statusText:p.statusText,currentAttempt:`${d} / ${o}`}))}throw new Error(`Request failed: ${i.href}`)}static async sleep(t){t>0&&await new Promise(i=>setTimeout(i,t))}static parseRetryAfterHeader(t){if(Wm.numberRegex.test(t))return new Date(Date.now()+Number.parseInt(t,10)*1e3);if(Wm.dateRegex.test(t))return new Date(t)}handleHttpInvalidateEvent(t){const i=t.url?new URL(t.url).host:void 0;for(const o of Object.keys(this.activeDelays))(!i||o===i)&&(clearTimeout(this.activeDelays[o].timeout),delete this.activeDelays[o])}};return _6.ActorHttpRetry=a,a.dateRegex=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), [0-9]{2} (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) [0-9]{4} [0-9]{2}:[0-9]{2}:[0-9]{2} GMT$/u,a.numberRegex=/^[0-9]+$/u,a.keyWrapped=new u.ActionContextKey("urn:comunica:actor-http-retry#wrapped"),_6}var dbe;function IH(){return dbe||(dbe=1,(function(n){var e=Pm&&Pm.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=Pm&&Pm.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(p7e(),n)})(Pm)),Pm}var jm={},T6={},fbe;function h7e(){if(fbe)return T6;fbe=1,Object.defineProperty(T6,"__esModule",{value:!0}),T6.ActorOptimizeQueryOperationBgpToJoin=void 0;const n=Vi(),e=lt(),u=De(),a=Qt();let r=class extends n.ActorOptimizeQueryOperation{async test(i){return(0,u.passTestVoid)()}async run(i){const o=i.context.getSafe(e.KeysInitQuery.dataFactory),l=new a.Factory(o);return{operation:a.Util.mapOperation(i.operation,{bgp(c,d){return{recurse:!1,result:d.createJoin(c.patterns)}}},l),context:i.context}}};return T6.ActorOptimizeQueryOperationBgpToJoin=r,T6}var pbe;function DH(){return pbe||(pbe=1,(function(n){var e=jm&&jm.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=jm&&jm.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(h7e(),n)})(jm)),jm}var Mm={},w6={},hbe;function y7e(){if(hbe)return w6;hbe=1,Object.defineProperty(w6,"__esModule",{value:!0}),w6.ActorOptimizeQueryOperationJoinBgp=void 0;const n=Vi(),e=lt(),u=De(),a=Qt();let r=class extends n.ActorOptimizeQueryOperation{async test(i){return(0,u.passTestVoid)()}async run(i){const o=i.context.getSafe(e.KeysInitQuery.dataFactory),l=new a.Factory(o);return{operation:a.Util.mapOperation(i.operation,{join(c,d){return c.input.every(f=>f.type==="bgp")?{recurse:!1,result:d.createBgp(c.input.flatMap(f=>f.patterns))}:{recurse:!1,result:c}}},l),context:i.context}}};return w6.ActorOptimizeQueryOperationJoinBgp=r,w6}var ybe;function FH(){return ybe||(ybe=1,(function(n){var e=Mm&&Mm.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=Mm&&Mm.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(y7e(),n)})(Mm)),Mm}var Cm={},S6={},mbe;function m7e(){if(mbe)return S6;mbe=1,Object.defineProperty(S6,"__esModule",{value:!0}),S6.ActorOptimizeQueryOperationAssignSourcesExhaustive=void 0;const n=Vi(),e=lU(),u=lt(),a=De(),r=er(),t=Qt();let i=class extends n.ActorOptimizeQueryOperation{constructor(l){super(l)}async test(l){return(0,a.passTestVoid)()}async run(l){const s=l.context.getSafe(u.KeysInitQuery.dataFactory),c=new t.Factory(s),d=l.context.get(u.KeysQueryOperation.querySources)??[];if(d.length===0)return{operation:l.operation,context:l.context};if(d.length===1){const f=d[0],p=l.context.get(u.KeysRdfUpdateQuads.destination);if(!p||f.source.referenceValue===(0,e.getDataDestinationValue)(p))try{const h=await f.source.getSelectorShape(l.context);if((0,r.doesShapeAcceptOperation)(h,l.operation))return{operation:(0,r.assignOperationSource)(l.operation,f),context:l.context}}catch{}}return{operation:this.assignExhaustive(c,l.operation,d),context:l.context.delete(u.KeysInitQuery.queryString)}}assignExhaustive(l,s,c){const d=this;return t.Util.mapOperation(s,{[t.Algebra.types.PATTERN](f,p){return c.length===1?{result:(0,r.assignOperationSource)(f,c[0]),recurse:!1}:{result:p.createUnion(c.map(h=>(0,r.assignOperationSource)(f,h))),recurse:!1}},[t.Algebra.types.LINK](f,p){return c.length===1?{result:(0,r.assignOperationSource)(f,c[0]),recurse:!1}:{result:p.createAlt(c.map(h=>(0,r.assignOperationSource)(f,h))),recurse:!1}},[t.Algebra.types.NPS](f,p){return c.length===1?{result:(0,r.assignOperationSource)(f,c[0]),recurse:!1}:{result:p.createAlt(c.map(h=>(0,r.assignOperationSource)(f,h))),recurse:!1}},[t.Algebra.types.SERVICE](f){return{result:f,recurse:!1}},[t.Algebra.types.CONSTRUCT](f,p){return{result:p.createConstruct(d.assignExhaustive(l,f.input,c),f.template),recurse:!1}},[t.Algebra.types.DELETE_INSERT](f,p){return{result:p.createDeleteInsert(f.delete,f.insert,f.where?d.assignExhaustive(l,f.where,c):void 0),recurse:!1}}},l)}};return S6.ActorOptimizeQueryOperationAssignSourcesExhaustive=i,S6}var bbe;function PH(){return bbe||(bbe=1,(function(n){var e=Cm&&Cm.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=Cm&&Cm.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(m7e(),n)})(Cm)),Cm}var Lm={},E6={},uo={},hu={},f9={},gbe;function cN(){return gbe||(gbe=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.expressionTypes=n.types=void 0,(function(e){e.ALT="alt",e.ASK="ask",e.BGP="bgp",e.CONSTRUCT="construct",e.DESCRIBE="describe",e.DISTINCT="distinct",e.EXPRESSION="expression",e.EXTEND="extend",e.FILTER="filter",e.FROM="from",e.GRAPH="graph",e.GROUP="group",e.INV="inv",e.JOIN="join",e.LEFT_JOIN="leftjoin",e.LINK="link",e.MINUS="minus",e.NOP="nop",e.NPS="nps",e.ONE_OR_MORE_PATH="OneOrMorePath",e.ORDER_BY="orderby",e.PATH="path",e.PATTERN="pattern",e.PROJECT="project",e.REDUCED="reduced",e.SEQ="seq",e.SERVICE="service",e.SLICE="slice",e.UNION="union",e.VALUES="values",e.ZERO_OR_MORE_PATH="ZeroOrMorePath",e.ZERO_OR_ONE_PATH="ZeroOrOnePath",e.COMPOSITE_UPDATE="compositeupdate",e.DELETE_INSERT="deleteinsert",e.LOAD="load",e.CLEAR="clear",e.CREATE="create",e.DROP="drop",e.ADD="add",e.MOVE="move",e.COPY="copy"})(n.types||(n.types={})),(function(e){e.AGGREGATE="aggregate",e.EXISTENCE="existence",e.NAMED="named",e.OPERATOR="operator",e.TERM="term",e.WILDCARD="wildcard"})(n.expressionTypes||(n.expressionTypes={}))})(f9)),f9}var Po={},vbe;function CP(){if(vbe)return Po;vbe=1;var n=Po&&Po.__createBinding||(Object.create?(function(l,s,c,d){d===void 0&&(d=c);var f=Object.getOwnPropertyDescriptor(s,c);(!f||("get"in f?!s.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return s[c]}}),Object.defineProperty(l,d,f)}):(function(l,s,c,d){d===void 0&&(d=c),l[d]=s[c]})),e=Po&&Po.__setModuleDefault||(Object.create?(function(l,s){Object.defineProperty(l,"default",{enumerable:!0,value:s})}):function(l,s){l.default=s}),u=Po&&Po.__importStar||function(l){if(l&&l.__esModule)return l;var s={};if(l!=null)for(var c in l)c!=="default"&&Object.prototype.hasOwnProperty.call(l,c)&&n(s,l,c);return e(s,l),s};Object.defineProperty(Po,"__esModule",{value:!0});const a=u(cN()),r=Rr(),t=Xt(),i=$n();class o{constructor(s){this.dataFactory=s||new r.DataFactory,this.stringType=this.createTerm("http://www.w3.org/2001/XMLSchema#string")}createAlt(s,c=!0){return this.flattenMulti({type:a.types.ALT,input:s},c)}createAsk(s){return{type:a.types.ASK,input:s}}createBoundAggregate(s,c,d,f,p){const h=this.createAggregateExpression(c,d,f,p);return h.variable=s,h}createBgp(s){return{type:a.types.BGP,patterns:s}}createConstruct(s,c){return{type:a.types.CONSTRUCT,input:s,template:c}}createDescribe(s,c){return{type:a.types.DESCRIBE,input:s,terms:c}}createDistinct(s){return{type:a.types.DISTINCT,input:s}}createExtend(s,c,d){return{type:a.types.EXTEND,input:s,variable:c,expression:d}}createFrom(s,c,d){return{type:a.types.FROM,input:s,default:c,named:d}}createFilter(s,c){return{type:a.types.FILTER,input:s,expression:c}}createGraph(s,c){return{type:a.types.GRAPH,input:s,name:c}}createGroup(s,c,d){return{type:a.types.GROUP,input:s,variables:c,aggregates:d}}createInv(s){return{type:a.types.INV,path:s}}createJoin(s,c=!0){return this.flattenMulti({type:a.types.JOIN,input:s},c)}createLeftJoin(s,c,d){return d?{type:a.types.LEFT_JOIN,input:[s,c],expression:d}:{type:a.types.LEFT_JOIN,input:[s,c]}}createLink(s){return{type:a.types.LINK,iri:s}}createMinus(s,c){return{type:a.types.MINUS,input:[s,c]}}createNop(){return{type:a.types.NOP}}createNps(s){return{type:a.types.NPS,iris:s}}createOneOrMorePath(s){return{type:a.types.ONE_OR_MORE_PATH,path:s}}createOrderBy(s,c){return{type:a.types.ORDER_BY,input:s,expressions:c}}createPath(s,c,d,f){return f?{type:a.types.PATH,subject:s,predicate:c,object:d,graph:f}:{type:a.types.PATH,subject:s,predicate:c,object:d,graph:this.dataFactory.defaultGraph()}}createPattern(s,c,d,f){const p=this.dataFactory.quad(s,c,d,f);return p.type=a.types.PATTERN,p}createProject(s,c){return{type:a.types.PROJECT,input:s,variables:c}}createReduced(s){return{type:a.types.REDUCED,input:s}}createSeq(s,c=!0){return this.flattenMulti({type:a.types.SEQ,input:s},c)}createService(s,c,d){return{type:a.types.SERVICE,input:s,name:c,silent:!!d}}createSlice(s,c,d){return c=c||0,d!==void 0?{type:a.types.SLICE,input:s,start:c,length:d}:{type:a.types.SLICE,input:s,start:c}}createUnion(s,c=!0){return this.flattenMulti({type:a.types.UNION,input:s},c)}createValues(s,c){return{type:a.types.VALUES,variables:s,bindings:c}}createZeroOrMorePath(s){return{type:a.types.ZERO_OR_MORE_PATH,path:s}}createZeroOrOnePath(s){return{type:a.types.ZERO_OR_ONE_PATH,path:s}}createAggregateExpression(s,c,d,f){return f?{type:a.types.EXPRESSION,expressionType:a.expressionTypes.AGGREGATE,aggregator:s,expression:c,separator:f,distinct:d}:{type:a.types.EXPRESSION,expressionType:a.expressionTypes.AGGREGATE,aggregator:s,expression:c,distinct:d}}createExistenceExpression(s,c){return{type:a.types.EXPRESSION,expressionType:a.expressionTypes.EXISTENCE,not:s,input:c}}createNamedExpression(s,c){return{type:a.types.EXPRESSION,expressionType:a.expressionTypes.NAMED,name:s,args:c}}createOperatorExpression(s,c){return{type:a.types.EXPRESSION,expressionType:a.expressionTypes.OPERATOR,operator:s,args:c}}createTermExpression(s){return{type:a.types.EXPRESSION,expressionType:a.expressionTypes.TERM,term:s}}createWildcardExpression(){return{type:a.types.EXPRESSION,expressionType:a.expressionTypes.WILDCARD,wildcard:new i.Wildcard}}createTerm(s){return s[0]==="$"&&(s=s.replace("$","?")),(0,t.stringToTerm)(s,this.dataFactory)}createCompositeUpdate(s){return{type:a.types.COMPOSITE_UPDATE,updates:s}}createDeleteInsert(s,c,d){const f={type:a.types.DELETE_INSERT};return s&&(f.delete=s),c&&(f.insert=c),d&&(f.where=d),f}createLoad(s,c,d){const f={type:a.types.LOAD,source:s};return c&&(f.destination=c),this.addSilent(f,!!d)}createClear(s,c){return this.addSilent({type:a.types.CLEAR,source:s},!!c)}createCreate(s,c){return this.addSilent({type:a.types.CREATE,source:s},!!c)}createDrop(s,c){return this.addSilent({type:a.types.DROP,source:s},!!c)}createAdd(s,c,d){return this.addSilent({type:a.types.ADD,source:s,destination:c},!!d)}createMove(s,c,d){return this.addSilent({type:a.types.MOVE,source:s,destination:c},!!d)}createCopy(s,c,d){return this.addSilent({type:a.types.COPY,source:s,destination:c},!!d)}addSilent(s,c){return c&&(s.silent=c),s}flattenMulti(s,c){if(!c)return s;const d=s.type,f=s.input;let p=[];for(const h of f)h.type===d?p.push(...h.input):p.push(h);return s.input=p,s}}return Po.default=o,Po}var wg={},_be;function jH(){if(_be)return wg;_be=1;var n=wg&&wg.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(wg,"__esModule",{value:!0});const e=cN(),u=n(CP()),a=Yr();class r{static flatten(i){return Array.prototype.concat(...i).filter(o=>o)}static objectify(i){if(i.termType){if(i.termType==="Quad")return{type:"pattern",termType:"Quad",subject:r.objectify(i.subject),predicate:r.objectify(i.predicate),object:r.objectify(i.object),graph:r.objectify(i.graph)};{let o={termType:i.termType,value:i.value};return i.language&&(o.language=i.language),i.datatype&&(o.datatype=r.objectify(i.datatype)),o}}if(Array.isArray(i))return i.map(o=>r.objectify(o));if(i===Object(i)){let o={};for(let l of Object.keys(i))o[l]=r.objectify(i[l]);return o}return i}static inScopeVariables(i){const o=[];function l(c){o.find(d=>c.value===d.value)||o.push(c)}function s(c){c.subject.termType==="Variable"&&l(c.subject),c.predicate.termType==="Variable"&&l(c.predicate),c.object.termType==="Variable"&&l(c.object),c.graph.termType==="Variable"&&l(c.graph),c.subject.termType==="Quad"&&s(c.subject),c.predicate.termType==="Quad"&&s(c.predicate),c.object.termType==="Quad"&&s(c.object),c.graph.termType==="Quad"&&s(c.graph)}return r.recurseOperation(i,{[e.types.EXPRESSION]:c=>(c.expressionType===e.expressionTypes.AGGREGATE&&c.variable&&l(c.variable),!0),[e.types.EXTEND]:c=>(l(c.variable),!0),[e.types.GRAPH]:c=>(c.name.termType==="Variable"&&l(c.name),!0),[e.types.GROUP]:c=>(c.variables.forEach(l),!0),[e.types.PATH]:c=>(c.subject.termType==="Variable"&&l(c.subject),c.object.termType==="Variable"&&l(c.object),c.graph.termType==="Variable"&&l(c.graph),c.subject.termType==="Quad"&&s(c.subject),c.object.termType==="Quad"&&s(c.object),c.graph.termType==="Quad"&&s(c.graph),!0),[e.types.PATTERN]:c=>(s(c),!0),[e.types.PROJECT]:c=>(c.variables.forEach(l),!1),[e.types.SERVICE]:c=>(c.name.termType==="Variable"&&l(c.name),!0),[e.types.VALUES]:c=>(c.variables.forEach(l),!0)}),o}static recurseOperation(i,o){let l=i,s=!0;const c=o[i.type];if(c&&(s=c(i)),!s)return;let d=f=>r.recurseOperation(f,o);switch(l.type){case e.types.ALT:l.input.map(d);break;case e.types.ASK:d(l.input);break;case e.types.BGP:l.patterns.forEach(d);break;case e.types.CONSTRUCT:d(l.input),l.template.map(d);break;case e.types.DESCRIBE:d(l.input);break;case e.types.DISTINCT:d(l.input);break;case e.types.EXPRESSION:l.expressionType===e.expressionTypes.EXISTENCE&&d(l.input);break;case e.types.EXTEND:d(l.input),d(l.expression);break;case e.types.FILTER:d(l.input),d(l.expression);break;case e.types.FROM:d(l.input);break;case e.types.GRAPH:d(l.input);break;case e.types.GROUP:d(l.input),l.aggregates.forEach(d);break;case e.types.INV:d(l.path);break;case e.types.JOIN:l.input.map(d);break;case e.types.LEFT_JOIN:l.input.map(d),l.expression&&d(l.expression);break;case e.types.LINK:break;case e.types.MINUS:l.input.map(d);break;case e.types.NOP:break;case e.types.NPS:break;case e.types.ONE_OR_MORE_PATH:d(l.path);break;case e.types.ORDER_BY:d(l.input),l.expressions.forEach(d);break;case e.types.PATH:d(l.predicate);break;case e.types.PATTERN:break;case e.types.PROJECT:d(l.input);break;case e.types.REDUCED:d(l.input);break;case e.types.SEQ:l.input.map(d);break;case e.types.SERVICE:d(l.input);break;case e.types.SLICE:d(l.input);break;case e.types.UNION:l.input.map(d);break;case e.types.VALUES:break;case e.types.ZERO_OR_MORE_PATH:d(l.path);break;case e.types.ZERO_OR_ONE_PATH:d(l.path);break;case e.types.COMPOSITE_UPDATE:l.updates.forEach(f=>d(f));break;case e.types.DELETE_INSERT:l.delete&&l.delete.forEach(f=>d(f)),l.insert&&l.insert.forEach(f=>d(f)),l.where&&d(l.where);break;case e.types.LOAD:break;case e.types.CLEAR:break;case e.types.CREATE:break;case e.types.DROP:break;case e.types.ADD:break;case e.types.MOVE:break;case e.types.COPY:break;default:throw new Error(`Unknown Operation type ${l.type}`)}}static mapOperation(i,o,l){let s=i,c=!0,d=!0;l=l||new u.default;const f=o[i.type];if(f){const g=f(i,l);s=g.result,c=g.recurse,d=g.copyMetadata!==!1}let p;if(d&&(s.metadata||i.metadata)&&(p={...s.metadata,...i.metadata}),!c)return p&&(s.metadata=p),s;let h=g=>r.mapOperation(g,o,l);switch(s.type){case e.types.ALT:s=l.createAlt(s.input.map(h));break;case e.types.ASK:s=l.createAsk(h(s.input));break;case e.types.BGP:s=l.createBgp(s.patterns.map(h));break;case e.types.CONSTRUCT:s=l.createConstruct(h(s.input),s.template.map(h));break;case e.types.DESCRIBE:s=l.createDescribe(h(s.input),s.terms);break;case e.types.DISTINCT:s=l.createDistinct(h(s.input));break;case e.types.EXPRESSION:s=r.mapExpression(s,o,l);break;case e.types.EXTEND:s=l.createExtend(h(s.input),s.variable,h(s.expression));break;case e.types.FILTER:s=l.createFilter(h(s.input),h(s.expression));break;case e.types.FROM:s=l.createFrom(h(s.input),[...s.default],[...s.named]);break;case e.types.GRAPH:s=l.createGraph(h(s.input),s.name);break;case e.types.GROUP:s=l.createGroup(h(s.input),[].concat(s.variables),s.aggregates.map(h));break;case e.types.INV:s=l.createInv(h(s.path));break;case e.types.JOIN:s=l.createJoin(s.input.map(h));break;case e.types.LEFT_JOIN:s=l.createLeftJoin(h(s.input[0]),h(s.input[1]),s.expression?h(s.expression):void 0);break;case e.types.LINK:s=l.createLink(s.iri);break;case e.types.MINUS:s=l.createMinus(h(s.input[0]),h(s.input[1]));break;case e.types.NOP:s=l.createNop();break;case e.types.NPS:s=l.createNps([].concat(s.iris));break;case e.types.ONE_OR_MORE_PATH:s=l.createOneOrMorePath(h(s.path));break;case e.types.ORDER_BY:s=l.createOrderBy(h(s.input),s.expressions.map(h));break;case e.types.PATH:s=l.createPath(s.subject,h(s.predicate),s.object,s.graph);break;case e.types.PATTERN:s=l.createPattern(s.subject,s.predicate,s.object,s.graph);break;case e.types.PROJECT:s=l.createProject(h(s.input),[...s.variables]);break;case e.types.REDUCED:s=l.createReduced(h(s.input));break;case e.types.SEQ:s=l.createSeq(s.input.map(h));break;case e.types.SERVICE:s=l.createService(h(s.input),s.name,s.silent);break;case e.types.SLICE:s=l.createSlice(h(s.input),s.start,s.length);break;case e.types.UNION:s=l.createUnion(s.input.map(h));break;case e.types.VALUES:s=l.createValues([].concat(s.variables),s.bindings.map(g=>Object.assign({},g)));break;case e.types.ZERO_OR_MORE_PATH:s=l.createZeroOrMorePath(h(s.path));break;case e.types.ZERO_OR_ONE_PATH:s=l.createZeroOrOnePath(h(s.path));break;case e.types.COMPOSITE_UPDATE:s=l.createCompositeUpdate(s.updates.map(h));break;case e.types.DELETE_INSERT:s=l.createDeleteInsert(s.delete?s.delete.map(h):void 0,s.insert?s.insert.map(h):void 0,s.where?h(s.where):void 0);break;case e.types.LOAD:s=l.createLoad(s.source,s.destination,s.silent);break;case e.types.CLEAR:s=l.createClear(s.source,s.silent);break;case e.types.CREATE:s=l.createCreate(s.source,s.silent);break;case e.types.DROP:s=l.createDrop(s.source,s.silent);break;case e.types.ADD:s=l.createAdd(s.source,s.destination);break;case e.types.MOVE:s=l.createMove(s.source,s.destination);break;case e.types.COPY:s=l.createCopy(s.source,s.destination);break;default:throw new Error(`Unknown Operation type ${s.type}`)}return p&&(s.metadata=p),s}static mapExpression(i,o,l){let s=i,c=!0;l=l||new u.default;const d=o[i.expressionType];if(d&&({result:s,recurse:c}=d(i,l)),!c)return s;let f=p=>r.mapOperation(p,o,l);switch(i.expressionType){case e.expressionTypes.AGGREGATE:return i.variable?l.createBoundAggregate(i.variable,i.aggregator,f(i.expression),i.distinct,i.separator):l.createAggregateExpression(i.aggregator,f(i.expression),i.distinct,i.separator);case e.expressionTypes.EXISTENCE:return l.createExistenceExpression(i.not,f(i.input));case e.expressionTypes.NAMED:return l.createNamedExpression(i.name,i.args.map(f));case e.expressionTypes.OPERATOR:return l.createOperatorExpression(i.operator,i.args.map(f));case e.expressionTypes.TERM:return l.createTermExpression(i.term);case e.expressionTypes.WILDCARD:return l.createWildcardExpression();default:throw new Error(`Unknown Expression type ${i.expressionType}`)}}static cloneOperation(i){return r.mapOperation(i,{})}static cloneExpression(i){return r.mapExpression(i,{})}static createUniqueVariable(i,o,l){let s=0,c=i;for(;o[c];)c=`${i}${s++}`;return l.variable(c)}static isSimpleTerm(i){return i.termType!==void 0&&i.termType!=="Quad"&&i.termType!=="Wildcard"}static isQuad(i){return i.termType==="Quad"}static hasQuadVariables(i){return(0,a.someTermsNested)(i,o=>o.termType==="Variable")}static isWildcard(i){return i.termType==="Wildcard"}}return wg.default=r,wg}var Tbe;function b7e(){if(Tbe)return hu;Tbe=1;var n=hu&&hu.__createBinding||(Object.create?(function(v,F,D,L){L===void 0&&(L=D);var H=Object.getOwnPropertyDescriptor(F,D);(!H||("get"in H?!F.__esModule:H.writable||H.configurable))&&(H={enumerable:!0,get:function(){return F[D]}}),Object.defineProperty(v,L,H)}):(function(v,F,D,L){L===void 0&&(L=D),v[L]=F[D]})),e=hu&&hu.__setModuleDefault||(Object.create?(function(v,F){Object.defineProperty(v,"default",{enumerable:!0,value:F})}):function(v,F){v.default=F}),u=hu&&hu.__importStar||function(v){if(v&&v.__esModule)return v;var F={};if(v!=null)for(var D in v)D!=="default"&&Object.prototype.hasOwnProperty.call(v,D)&&n(F,v,D);return e(F,v),F},a=hu&&hu.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(hu,"__esModule",{value:!0});const r=T1(),t=Xt(),i=u(cN()),o=a(CP()),l=a(jH()),s=$n().Parser,c=i.types;let d=new Set,f=0,p=!1,h;function g(v,F){F=F||{},h=new o.default(F.dataFactory);let D;if(m(v)){let L=new s(F);L._resetBlanks(),D=L.parse(v)}else D=v;return _(D,F.quads,F.blankToVariable)}hu.default=g;function _(v,F,D){if(d=new Set,f=0,p=!!F,!v.type)return h.createNop();if(v.type!=="query"&&v.type!=="update")throw new Error("Translate only works on complete query or update objects.");let L;if(S(v),v.type==="query"){const H={type:"group",patterns:v.where||[]};L=j(H),L=W(v,L)}else v.type==="update"&&(L=pe(v));return D&&(L=te(L)),L}function m(v){return typeof v=="string"}function w(v){return!!v?.termType}function T(v){return v.subject&&v.predicate&&v.object}function E(v){return v?.termType==="Variable"}function S(v){if(w(v))E(v)&&d.add(`?${v.value}`);else if(Array.isArray(v))for(const F of v)S(F);else if(v&&typeof v=="object")for(let F of Object.keys(v))F.startsWith("?")?d.add(F):F.startsWith("$")&&d.add(`?${F.slice(1)}`),S(v[F])}function N(v){let F={};if(T(v)){const D=[N(v.subject),N(v.predicate),N(v.object),v.graph?N(v.graph):{}];Object.assign(F,...D)}else if(w(v))E(v)&&(F[v.value]=v);else if(v.type==="bgp"){const D=v.triples;Object.assign(F,...D.map(N))}else if(v.type==="path")Object.assign(F,...v.items.map(N));else if(v.type==="group"||v.type==="union"||v.type==="optional")Object.assign(F,...v.patterns.map(N));else if(v.type==="service"||v.type==="graph")Object.assign(F,N(v.name)),Object.assign(F,...v.patterns.map(N));else if(v.type==="bind")Object.assign(F,N(v.variable));else if(v.type==="values"){if(v.values.length>0){const D=Object.keys(v.values[0]).map(L=>h.createTerm(L));Object.assign(F,...D.map(N))}}else if(v.type==="query"&&(v.queryType==="SELECT"||v.queryType==="DESCRIBE")){v.where&&v.variables.some(l.default.isWildcard)&&Object.assign(F,...v.where.map(N));for(const D of v.variables)E(D)?Object.assign(F,N(D)):D.variable&&Object.assign(F,N(D.variable));if(v.queryType==="SELECT"){if(v.group)for(const D of v.group)D.variable&&Object.assign(F,N(D.variable));if(v.values){const D={type:"values",values:v.values};Object.assign(F,N(D))}}}return F}function j(v){if(v.type==="bgp")return O(v);if(v.type==="union")return h.createUnion(v.patterns.map(F=>(F.type!=="group"&&(F={type:"group",patterns:[F]}),j(F))));if(v.type==="graph"){const F={type:"group",patterns:v.patterns};let D=j(F);return p?D=U(D,v.name):D=h.createGraph(D,v.name),D}if(v.type==="values")return ne(v);if(v.type==="query")return _(v,p,!1);if(v.type==="group"){let F=[],D=[];for(let Z of v.patterns)(Z.type==="filter"?F:D).push(Z);let L=D.reduce(G,h.createBgp([])),H=F.map(Z=>q(Z.expression));return H.length>0&&(L=h.createFilter(L,H.reduce((Z,$)=>h.createOperatorExpression("&&",[Z,$])))),L}throw new Error(`Unexpected type: ${v.type}`)}function q(v){if(l.default.isSimpleTerm(v))return h.createTermExpression(v);if(l.default.isQuad(v))return l.default.hasQuadVariables(v)?h.createOperatorExpression("triple",[q(v.subject),q(v.predicate),q(v.object)]):h.createTermExpression(v);if(l.default.isWildcard(v))return h.createWildcardExpression();if("aggregation"in v)return h.createAggregateExpression(v.aggregation,q(v.expression),!!v.distinct,v.separator);if("function"in v)return h.createNamedExpression(v.function,v.args.map(q));if("operator"in v)return v.operator==="exists"||v.operator==="notexists"?h.createExistenceExpression(v.operator==="notexists",j(v.args[0])):((v.operator==="in"||v.operator==="notin")&&(v.args=[v.args[0]].concat(v.args[1])),h.createOperatorExpression(v.operator,v.args.map(q)));throw new Error(`Unknown expression: ${JSON.stringify(v)}`)}function O(v){let F=[],D=[];for(let L of v.triples)if("pathType"in L.predicate){let H=I(L);for(let Z of H)Z.type===c.PATH?(F.length>0&&D.push(h.createBgp(F)),F=[],D.push(Z)):F.push(Z)}else F.push(B(L));return F.length>0&&D.push(h.createBgp(F)),D.length===1?D[0]:h.createJoin(D)}function I(v){let F=v.subject,D=A(v.predicate),L=v.object;return P(F,D,L)}function A(v){if(l.default.isSimpleTerm(v)){if(v.termType==="NamedNode")return h.createLink(v);throw new Error(`Path predicate should be a NamedNode, got ${JSON.stringify(v)}`)}if(v.pathType==="^")return h.createInv(A(v.items[0]));if(v.pathType==="!"){let F=[],D=[],L;"pathType"in v.items[0]&&v.items[0].pathType==="|"?L=v.items[0].items:L=v.items;for(let $ of L)if(l.default.isSimpleTerm($))F.push($);else if($.pathType==="^")D.push($.items[0]);else throw new Error(`Unexpected item: ${JSON.stringify($)}`);let H=h.createNps(F),Z=h.createInv(h.createNps(D));return D.length===0?H:F.length===0?Z:h.createAlt([H,Z])}if(v.pathType==="/")return h.createSeq(v.items.map(A));if(v.pathType==="|")return h.createAlt(v.items.map(A));if(v.pathType==="*")return h.createZeroOrMorePath(A(v.items[0]));if(v.pathType==="+")return h.createOneOrMorePath(A(v.items[0]));if(v.pathType==="?")return h.createZeroOrOnePath(A(v.items[0]));throw new Error(`Unable to translate path expression ${JSON.stringify(v)}`)}function P(v,F,D){if(F.type===c.LINK)return[h.createPattern(v,F.iri,D)];if(F.type===c.INV)return P(D,F.path,v);if(F.type===c.SEQ){let L=v;return l.default.flatten(F.input.map((H,Z)=>{const $=Z===F.input.length-1?D:C(),ue=P(L,H,$);return $.termType==="Variable"&&(L=$),ue}))}return[h.createPath(v,F,D)]}function C(){let v=`?var${f++}`;return d.has(v)?C():(d.add(v),h.createTerm(v))}function B(v){if("pathType"in v.predicate)throw new Error("Trying to translate property path to quad.");return h.createPattern(v.subject,v.predicate,v.object,v.graph)}let V=Object.values(c);function U(v,F,D){if(v.type===c.GRAPH){if(D)throw new Error("Recursing through nested GRAPH statements with a replacement is impossible.");v=U(v.input,v.name)}else if(v.type!==c.SERVICE)if(v.type===c.BGP)v.patterns=v.patterns.map(L=>(D&&(L.subject.equals(F)&&(L.subject=D),L.predicate.equals(F)&&(L.predicate=D),L.object.equals(F)&&(L.object=D)),L.graph.termType==="DefaultGraph"&&(L.graph=F),L));else if(v.type===c.PATH)D&&(v.subject.equals(F)&&(v.subject=D),v.object.equals(F)&&(v.object=D)),v.graph.termType==="DefaultGraph"&&(v.graph=F);else if(v.type===c.PROJECT&&!D)v.variables.some(L=>L.equals(F))||(D=C()),v.input=U(v.input,F,D);else if(v.type===c.EXTEND&&!D)v.variable.equals(F)&&(D=C()),v.input=U(v.input,F,D);else for(let L of Object.keys(v))Array.isArray(v[L])?v[L]=v[L].map(H=>U(H,F,D)):V.indexOf(v[L].type)>=0?v[L]=U(v[L],F,D):D&&E(v[L])&&v[L].equals(F)&&(v[L]=D);return v}function G(v,F){if(F.type==="optional"){const D=j({type:"group",patterns:F.patterns});D.type===c.FILTER?v=h.createLeftJoin(v,D.input,D.expression):v=h.createLeftJoin(v,D)}else if(F.type==="minus"){const D=j({type:"group",patterns:F.patterns});v=h.createMinus(v,D)}else if(F.type==="bind")v=h.createExtend(v,F.variable,q(F.expression));else if(F.type==="service"){const D={type:"group",patterns:F.patterns},L=h.createService(j(D),F.name,F.silent);v=J(v,L)}else{const D=j(F);v=J(v,D)}return v}function J(v,F){return v.type===c.BGP&&F.type===c.BGP?v=h.createBgp([...v.patterns,...F.patterns]):v.type===c.BGP&&v.patterns.length===0?v=F:F.type===c.BGP&&F.patterns.length===0||(v=h.createJoin([v,F])),v}function ne(v){let F=(v.values.length===0?[]:Object.keys(v.values[0])).map(h.createTerm.bind(h)),D=v.values.map(L=>{let H=Object.keys(L);H=H.filter($=>L[$]!==void 0);let Z={};for(let $ of H)Z[$]=L[$];return Z});return h.createValues(F,D)}function W(v,F){const D=v,L=[],H={};if(D.variables=D.variables&&D.variables.map($=>ee($,H)),D.having=D.having&&D.having.map($=>ee($,H)),D.order=D.order&&D.order.map($=>ee($,H)),D.group||Object.keys(H).length>0){const $=Object.keys(H).map(ae=>se(H[ae],h.createTerm(ae))),ue=[];if(D.group)for(const ae of D.group)if(l.default.isSimpleTerm(ae.expression))ue.push(ae.expression);else{const ce="variable"in ae?ae.variable:C();F=h.createExtend(F,ce,q(ae.expression)),ue.push(ce)}F=h.createGroup(F,ue,$)}if(D.having)for(let $ of D.having)F=h.createFilter(F,q($));v.values&&(F=h.createJoin([F,ne(v)]));let Z=[];if(v.queryType==="SELECT"||v.queryType==="DESCRIBE")if(v.variables.some($=>$&&l.default.isWildcard($)))Z=Object.values(N(v)).sort(($,ue)=>$.value.localeCompare(ue.value));else for(let $ of v.variables)E($)||!("variable"in $)?Z.push($):$.variable&&(Z.push($.variable),L.push($));for(let $ of L)F=h.createExtend(F,$.variable,q($.expression));return D.order&&(F=h.createOrderBy(F,D.order.map($=>{let ue=q($.expression);return $.descending&&(ue=h.createOperatorExpression("desc",[ue])),ue}))),v.queryType==="SELECT"&&(F=h.createProject(F,Z)),D.distinct&&(F=h.createDistinct(F)),D.reduced&&(F=h.createReduced(F)),v.queryType==="CONSTRUCT"?F=h.createConstruct(F,(v.template||[]).map(B)):v.queryType==="ASK"?F=h.createAsk(F):v.queryType==="DESCRIBE"&&(F=h.createDescribe(F,Z)),(D.offset||D.limit)&&(F=h.createSlice(F,D.offset||0,D.limit)),D.from&&(F=h.createFrom(F,D.from.default,D.from.named)),F}function ee(v,F){if("type"in v&&v.type==="aggregate"){let D=!1,L;for(let H of Object.keys(F))if(r(F[H],v)){L=h.createTerm(H),D=!0;break}return D||(L=C(),F[(0,t.termToString)(L)]=v),L}return"expression"in v&&v.expression?{...v,expression:ee(v.expression,F)}:"args"in v&&v.args?{...v,args:v.args.map(D=>ee(D,F))}:v}function se(v,F){if(v.type!=="aggregate"||!v.aggregation)throw new Error(`Unexpected input: ${JSON.stringify(v)}`);const D=q(v);return D.variable=F,D}function pe(v){return v.updates.length===1?le(v.updates[0]):h.createCompositeUpdate(v.updates.map(le))}function le(v){if("type"in v){if(v.type==="load")return Oe(v);if(v.type==="clear"||v.type==="create"||v.type==="drop")return Ne(v);if(v.type==="add"||v.type==="copy"||v.type==="move")return be(v)}else if(v.updateType==="insertdelete"||v.updateType==="deletewhere"||v.updateType==="delete"||v.updateType==="insert")return Ee(v);throw new Error(`Unknown update type ${JSON.stringify(v)}`)}function Ee(v){if(!p)throw new Error("INSERT/DELETE operations are only supported with quads option enabled");let F=[],D=[],L;if(v.delete&&(F=l.default.flatten(v.delete.map(H=>Ae(H,v.graph)))),v.insert&&(D=l.default.flatten(v.insert.map(H=>Ae(H,v.graph)))),v.where&&v.where.length>0){L=j({type:"group",patterns:v.where});const H=v.using;H?L=h.createFrom(L,H.default,H.named):v.graph&&(L=U(L,v.graph))}else v.updateType==="deletewhere"&&F.length>0&&(L=h.createBgp(F));return h.createDeleteInsert(F.length>0?F:void 0,D.length>0?D:void 0,L)}function Ae(v,F){let D=F;v.type==="graph"&&(D=v.name);let L=v.triples;return D&&(L=L.map(H=>Object.assign(H,{graph:D}))),L.map(B)}function Ne(v){let F;switch(l.default.isSimpleTerm(v.graph)?F=v.graph:v.graph.all?F="ALL":v.graph.default?F="DEFAULT":v.graph.named?F="NAMED":F=v.graph.name,v.type){case"clear":return h.createClear(F,v.silent);case"create":return h.createCreate(F,v.silent);case"drop":return h.createDrop(F,v.silent)}}function Oe(v){return h.createLoad(v.source,v.destination,v.silent)}function be(v){const F=v.source.default?"DEFAULT":v.source.name,D=v.destination.default?"DEFAULT":v.destination.name;switch(v.type){case"copy":return h.createCopy(F,D,v.silent);case"move":return h.createMove(F,D,v.silent);case"add":return h.createAdd(F,D,v.silent)}}function te(v){const F={},D=Array.from(d).reduce((H,Z)=>(H[Z]=!0,H),{});return l.default.mapOperation(v,{[i.types.DELETE_INSERT]:H=>({result:h.createDeleteInsert(H.delete,H.insert,H.where&&te(H.where)),recurse:!1}),[i.types.PATH]:(H,Z)=>({result:Z.createPath(L(H.subject),H.predicate,L(H.object),L(H.graph)),recurse:!1}),[i.types.PATTERN]:(H,Z)=>({result:Z.createPattern(L(H.subject),L(H.predicate),L(H.object),L(H.graph)),recurse:!1}),[i.types.CONSTRUCT]:H=>({result:h.createConstruct(te(H.input),H.template),recurse:!1})});function L(H){if(H.termType==="BlankNode"){let Z=F[H.value];return Z||(Z=l.default.createUniqueVariable(H.value,D,h.dataFactory),D[Z.value]=!0,F[H.value]=Z),Z}return H}}return hu}var Ja={},qm={},sr={},wbe;function g7e(){if(wbe)return sr;wbe=1,Object.defineProperty(sr,"__esModule",{value:!0}),sr.isTermGrounded=sr.termToSignature=sr.quadToSignature=sr.sha1hex=sr.hashTerm=sr.hashTerms=sr.getGraphBlankNodes=sr.uniqGraph=sr.deindexGraph=sr.indexGraph=sr.getQuadsWithoutBlankNodes=sr.getQuadsWithBlankNodes=sr.hasValue=sr.hashValues=sr.getBijectionInner=sr.getBijection=sr.isomorphic=void 0;const n=ic(),e=Xt(),u=Yr();function a(S,N){return!!r(S,N)}sr.isomorphic=a;function r(S,N){const j=d(c(S)),q=d(c(N));if(Object.keys(j).length!==Object.keys(q).length)return null;for(const C in j)if(j[C]!==q[C])return null;const O=p(s(S)),I=p(s(N)),A=h(S),P=h(N);return t(O,I,A,P)}sr.getBijection=r;function t(S,N,j,q,O,I){O||(O={}),I||(I={});const[A,P]=g(S,j,O),[C,B]=g(N,q,I);if(Object.keys(A).length!==Object.keys(C).length)return null;for(const U in A)if(!l(C,A[U]))return null;let V={};for(const U of j){const G=e.termToString(U),J=P[G];for(const ne in B)if(B[ne]===J){V[G]=ne,delete B[ne];break}}if(!i(Object.keys(V).sort(),j.map(e.termToString).sort())||!i(o(V).sort(),q.map(e.termToString).sort())){V=null;for(const U of j){const G=e.termToString(U);if(!A[G])for(const J of q){const ne=e.termToString(J);if(!C[ne]&&P[G]===B[ne]){const W=m(G);V=t(S,N,j,q,Object.assign(Object.assign({},A),{[G]:W}),Object.assign(Object.assign({},C),{[ne]:W}))}}}}return V}sr.getBijectionInner=t;function i(S,N){if(S.length!==N.length)return!1;for(let j=S.length;j--;)if(S[j]!==N[j])return!1;return!0}function o(S){const N=[];for(const j in S)N.push(S[j]);return N}sr.hashValues=o;function l(S,N){for(const j in S)if(S[j]===N)return!0;return!1}sr.hasValue=l;function s(S){return S.filter(N=>u.someTerms(N,j=>j.termType==="BlankNode"||j.termType==="Quad"&&u.getTermsNested(j).some(q=>q.termType==="BlankNode")))}sr.getQuadsWithBlankNodes=s;function c(S){return S.filter(N=>u.everyTerms(N,j=>j.termType!=="BlankNode"&&!(j.termType==="Quad"&&u.getTermsNested(j).some(q=>q.termType==="BlankNode"))))}sr.getQuadsWithoutBlankNodes=c;function d(S){const N={};for(const j of S)N[JSON.stringify(e.quadToStringQuad(j))]=!0;return N}sr.indexGraph=d;function f(S){return Object.keys(S).map(N=>e.stringQuadToQuad(JSON.parse(N)))}sr.deindexGraph=f;function p(S){return f(d(S))}sr.uniqGraph=p;function h(S){return u.uniqTerms(S.map(N=>u.getBlankNodes(u.getTermsNested(N))).reduce((N,j)=>N.concat(j),[]))}sr.getGraphBlankNodes=h;function g(S,N,j){const q=Object.assign({},j),O={};let I=!0;for(;I;){const A=Object.keys(q).length;for(const C of N){const B=e.termToString(C);if(!q[B]){const[V,U]=_(C,S,q);V&&(q[B]=U),O[B]=U}}const P={};for(const C in O){const B=O[C];P[B]===void 0?P[B]=C:P[B]=!1}for(const C in P){const B=P[C];B&&(q[B]=C)}I=A!==Object.keys(q).length}return[q,O]}sr.hashTerms=g;function _(S,N,j){const q=[];let O=!0;for(const A of N){const P=u.getTermsNested(A);if(P.some(C=>C.equals(S))){q.push(w(A,j,S));for(const C of P)!E(C,j)&&!C.equals(S)&&(O=!1)}}const I=m(q.sort().join(""));return[O,I]}sr.hashTerm=_;function m(S){return n.sha1().update(S).digest("hex")}sr.sha1hex=m;function w(S,N,j){return u.getTerms(S).map(q=>T(q,N,j)).join("|")}sr.quadToSignature=w;function T(S,N,j){return S.equals(j)?"@self":S.termType==="BlankNode"?N[e.termToString(S)]||"@blank":S.termType==="Quad"?`<${w(S,N,j)}>`:e.termToString(S)}sr.termToSignature=T;function E(S,N){return S.termType!=="BlankNode"&&!(S.termType==="Quad"&&u.getTermsNested(S).some(j=>!E(j,N)))||!!N[e.termToString(S)]}return sr.isTermGrounded=E,sr}var Sbe;function v7e(){return Sbe||(Sbe=1,(function(n){var e=qm&&qm.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t),Object.defineProperty(a,i,{enumerable:!0,get:function(){return r[t]}})}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=qm&&qm.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(g7e(),n)})(qm)),qm}var Ebe;function _7e(){if(Ebe)return Ja;Ebe=1;var n=Ja&&Ja.__createBinding||(Object.create?(function(R,k,K,de){de===void 0&&(de=K);var ge=Object.getOwnPropertyDescriptor(k,K);(!ge||("get"in ge?!k.__esModule:ge.writable||ge.configurable))&&(ge={enumerable:!0,get:function(){return k[K]}}),Object.defineProperty(R,de,ge)}):(function(R,k,K,de){de===void 0&&(de=K),R[de]=k[K]})),e=Ja&&Ja.__setModuleDefault||(Object.create?(function(R,k){Object.defineProperty(R,"default",{enumerable:!0,value:k})}):function(R,k){R.default=k}),u=Ja&&Ja.__importStar||function(R){if(R&&R.__esModule)return R;var k={};if(R!=null)for(var K in R)K!=="default"&&Object.prototype.hasOwnProperty.call(R,K)&&n(k,R,K);return e(k,R),k},a=Ja&&Ja.__importDefault||function(R){return R&&R.__esModule?R:{default:R}};Object.defineProperty(Ja,"__esModule",{value:!0}),Ja.toSparqlJs=Ja.toSparql=void 0;const r=v7e(),t=Xt(),i=$n(),o=u(cN()),l=a(CP()),s=a(jH()),c=o.types,d=o.expressionTypes;let f;const p=new l.default;function h(R,k={}){return new i.Generator(k).stringify(g(R))}Ja.toSparql=h;function g(R){_(),R=Le(R);let k=m(R);return k.type==="group"?k.patterns[0]:k}Ja.toSparqlJs=g;function _(){f={project:!1,extend:[],group:[],aggregates:[],order:[]}}function m(R){switch(R.type!==c.EXTEND&&R.type!==c.ORDER_BY&&R.type!==c.GRAPH&&(f.project=!1),R.type){case c.EXPRESSION:return w(R);case c.ASK:return Oe(R,c.ASK);case c.BGP:return C(R);case c.CONSTRUCT:return B(R);case c.DESCRIBE:return Oe(R,c.DESCRIBE);case c.DISTINCT:return V(R);case c.EXTEND:return U(R);case c.FROM:return G(R);case c.FILTER:return J(R);case c.GRAPH:return ne(R);case c.GROUP:return W(R);case c.JOIN:return ee(R);case c.LEFT_JOIN:return se(R);case c.MINUS:return pe(R);case c.NOP:return{};case c.ORDER_BY:return le(R);case c.PATH:return Ee(R);case c.PATTERN:return Ae(R);case c.PROJECT:return Oe(R,c.PROJECT);case c.REDUCED:return te(R);case c.SERVICE:return v(R);case c.SLICE:return F(R);case c.UNION:return D(R);case c.VALUES:return L(R);case c.COMPOSITE_UPDATE:return Ce(R);case c.DELETE_INSERT:return He(R);case c.LOAD:return Je(R);case c.CLEAR:return Ye(R);case c.CREATE:return oe(R);case c.DROP:return X(R);case c.ADD:return he(R);case c.MOVE:return ve(R);case c.COPY:return ye(R)}throw new Error(`Unknown Operation type ${R.type}`)}function w(R){switch(R.expressionType){case d.AGGREGATE:return S(R);case d.EXISTENCE:return N(R);case d.NAMED:return j(R);case d.OPERATOR:return q(R);case d.TERM:return O(R);case d.WILDCARD:return I(R)}throw new Error(`Unknown Expression Operation type ${R.expressionType}`)}function T(R){switch(R.type){case c.ALT:return H(R);case c.INV:return Z(R);case c.LINK:return $(R);case c.NPS:return ue(R);case c.ONE_OR_MORE_PATH:return ae(R);case c.SEQ:return ce(R);case c.ZERO_OR_MORE_PATH:return Se(R);case c.ZERO_OR_ONE_PATH:return xe(R)}throw new Error(`Unknown Path type ${R.type}`)}function E(R){return(0,t.termToString)(R)}function S(R){const k={expression:w(R.expression),type:"aggregate",aggregation:R.aggregator,distinct:R.distinct};return R.separator&&(k.separator=R.separator),k}function N(R){return{type:"operation",operator:R.not?"notexists":"exists",args:[{type:"group",patterns:s.default.flatten([m(R.input)])}]}}function j(R){return{type:"functionCall",function:R.name,args:R.args.map(w)}}function q(R){if(R.operator==="desc"){const K={expression:w(R.args[0])};return K.descending=!0,K}const k={type:"operation",operator:R.operator,args:R.args.map(w)};return(k.operator==="in"||k.operator==="notin")&&(k.args=[k.args[0]].concat([k.args.slice(1)])),k}function O(R){return R.term}function I(R){return R.wildcard}function A(R){return Array.isArray(R)?R.length===1?R[0]:{type:"group",patterns:R}:R}function P(R){return R}function C(R){let k=R.patterns.map(Ae);return k.length===0?null:{type:"bgp",triples:k}}function B(R){return{type:"query",prefixes:{},queryType:"CONSTRUCT",template:R.template.map(Ae),where:s.default.flatten([m(R.input)])}}function V(R){let k=m(R.input);return k.patterns[0].distinct=!0,k}function U(R){return f.project?(f.extend.push(R),m(R.input)):s.default.flatten([m(R.input),{type:"bind",variable:R.variable,expression:w(R.expression)}])}function G(R){const k=m(R.input);let K=k;return k.type==="group"&&(K=k.patterns[0]),K.from={default:R.default,named:R.named},k}function J(R){return{type:"group",patterns:s.default.flatten([m(R.input),{type:"filter",expression:w(R.expression)}])}}function ne(R){return{type:"graph",patterns:s.default.flatten([m(R.input)]),name:R.name}}function W(R){const k=m(R.input),K=R.aggregates.map(P);return f.aggregates.push(...K),f.group.push(...R.variables),k}function ee(R){return s.default.flatten(R.input.map(m)).reduce((K,de)=>(de.type!=="bgp"||K.length==0||K[K.length-1].type!=="bgp"?K.push(de):K[K.length-1].triples.push(...de.triples),K),[])}function se(R){const k={type:"optional",patterns:[m(R.input[1])]};return R.expression&&k.patterns.push({type:"filter",expression:w(R.expression)}),k.patterns=s.default.flatten(k.patterns),s.default.flatten([m(R.input[0]),k])}function pe(R){let k=m(R.input[1]);return k.type==="group"&&(k=k.patterns),Array.isArray(k)||(k=[k]),s.default.flatten([m(R.input[0]),{type:"minus",patterns:k}])}function le(R){return f.order.push(...R.expressions),m(R.input)}function Ee(R){return{type:"bgp",triples:[{subject:R.subject,predicate:T(R.predicate),object:R.object}]}}function Ae(R){return{subject:R.subject,predicate:R.predicate,object:R.object}}function Ne(R,k){let K=s.default.isSimpleTerm(R)?E(R):R;if(typeof K=="string"){if(k[K])return k[K]}else if(Array.isArray(R))R=R.map(de=>Ne(de,k));else for(let de of Object.keys(R))R[de]=Ne(R[de],k);return R}function Oe(R,k){const K={type:"query",prefixes:{}},de=K;let ge;k===c.PROJECT?(K.queryType="SELECT",ge=R.variables):k===c.ASK?K.queryType="ASK":k===c.DESCRIBE&&(K.queryType="DESCRIBE",ge=R.terms);const Qe=f.extend,je=f.group,$e=f.aggregates,at=f.order;_(),f.project=!0;let fe=s.default.flatten([m(R.input)]);fe.length===1&&fe[0].type==="group"&&(fe=fe[0].patterns),K.where=fe;let Te={};for(let Me of f.aggregates)Te[E(Me.variable)]=w(Me);let qe={};for(let Me=f.extend.length-1;Me>=0;--Me){let st=f.extend[Me];qe[E(st.variable)]=Ne(w(st.expression),Te)}f.group.length>0&&(de.group=f.group.map(Me=>{let st=E(Me);if(qe[st]){let tt=qe[st];return delete qe[st],{variable:Me,expression:tt}}return{expression:Me}})),f.order.length>0&&(de.order=f.order.map(m).map(Me=>Me.descending?Me:{expression:Me})),ge&&(de.variables=ge.map(Me=>{let st=E(Me);if(qe[st]){let tt=qe[st];return delete qe[st],{variable:Me,expression:tt}}return Me}),de.variables.length===0&&(de.variables=[new i.Wildcard]));const it=Object.entries(qe);if(it.length>0){de.where=de.where||[];for(const[Me,st]of it)de.where.push({type:"bind",variable:(0,t.stringToTerm)(Me),expression:st})}if(K.where.length>0&&K.where[K.where.length-1].type==="filter"){const Me=K.where[K.where.length-1];be(Me,Object.keys(Te))&&(de.having=s.default.flatten([Ne(Me.expression,Te)]),K.where.splice(-1))}return f.extend=Qe,f.group=je,f.aggregates=$e,f.order=at,{type:"group",patterns:[de]}}function be(R,k){return s.default.isSimpleTerm(R)?k.indexOf(E(R))>=0:Array.isArray(R)?R.some(K=>be(K,k)):R===Object(R)?Object.keys(R).some(K=>be(R[K],k)):k.indexOf(R)>=0}function te(R){let k=m(R.input);return k.patterns[0].reduced=!0,k}function v(R){let k=m(R.input);return k.type==="group"&&(k=k.patterns),Array.isArray(k)||(k=[k]),{type:"service",name:R.name,silent:R.silent,patterns:k}}function F(R){let k=m(R.input),K=k;return k.type&&k.type==="group"&&(K=k.patterns[0]),R.start!==0&&(K.offset=R.start),R.length!==void 0&&(K.limit=R.length),k}function D(R){return{type:"union",patterns:R.input.map(m).map(A)}}function L(R){return{type:"values",values:R.bindings.map(k=>{let K={};for(let de of R.variables){let ge=`?${de.value}`;k[ge]?K[ge]=k[ge]:K[ge]=void 0}return K})}}function H(R){const k=R.input.map(T);return k.every(K=>"pathType"in K&&K.pathType==="!")?{type:"path",pathType:"!",items:[{type:"path",pathType:"|",items:s.default.flatten(k.map(K=>K.items))}]}:{type:"path",pathType:"|",items:k}}function Z(R){if(R.path.type===c.NPS){const k=R.path.iris.map(K=>({type:"path",pathType:"^",items:[K]}));return k.length<=1?{type:"path",pathType:"!",items:k}:{type:"path",pathType:"!",items:[{type:"path",pathType:"|",items:k}]}}return{type:"path",pathType:"^",items:[T(R.path)]}}function $(R){return R.iri}function ue(R){return R.iris.length<=1?{type:"path",pathType:"!",items:R.iris}:{type:"path",pathType:"!",items:[{type:"path",pathType:"|",items:R.iris}]}}function ae(R){return{type:"path",pathType:"+",items:[T(R.path)]}}function ce(R){return{type:"path",pathType:"/",items:R.input.map(T)}}function Se(R){return{type:"path",pathType:"*",items:[T(R.path)]}}function xe(R){return{type:"path",pathType:"?",items:[T(R.path)]}}function Ce(R){const k=R.updates.map(K=>m(K).updates[0]);return{prefixes:{},type:"update",updates:k}}function He(R){var k;let K=R.where,de;if(K&&K.type===c.FROM){let Qe=K;K=Qe.input,de={default:Qe.default,named:Qe.named}}const ge=[{updateType:"insertdelete",delete:Ie(R.delete||[]),insert:Ie(R.insert||[])}];if(de&&(ge[0].using=de),!K||K.type===c.BGP&&K.patterns.length===0)ge[0].where=[];else{const Qe=[];let je=m(Pe(K,Qe));if(je.type==="group"?ge[0].where=je.patterns:ge[0].where=[je],Qe.length>0){if(Qe.length!==1)throw new Error("This is unexpected and might indicate an error in graph handling for updates.");((k=Qe[0])===null||k===void 0?void 0:k.value)!==""&&(ge[0].where=[{type:"graph",patterns:ge[0].where,name:Qe[0]}])}}return!R.delete&&!R.where?(ge[0].updateType="insert",delete ge[0].delete,delete ge[0].where):!R.insert&&!R.where?(delete ge[0].insert,delete ge[0].where,R.delete.some(Qe=>Qe.subject.termType==="Variable"||Qe.predicate.termType==="Variable"||Qe.object.termType==="Variable")?ge[0].updateType="deletewhere":ge[0].updateType="delete"):!R.insert&&R.where&&R.where.type==="bgp"&&(0,r.isomorphic)(R.delete,R.where.patterns)&&(delete ge[0].where,ge[0].updateType="deletewhere"),{prefixes:{},type:"update",updates:ge}}function Je(R){const k=[{type:"load",silent:!!R.silent,source:R.source}];return R.destination&&(k[0].destination=R.destination),{prefixes:{},type:"update",updates:k}}function Ye(R){return Y(R,"clear")}function oe(R){return Y(R,"create")}function X(R){return Y(R,"drop")}function Y(R,k){const K=[{type:k,silent:!!R.silent}];return R.source==="DEFAULT"?K[0].graph={default:!0}:R.source==="NAMED"?K[0].graph={named:!0}:R.source==="ALL"?K[0].graph={all:!0}:K[0].graph={type:"graph",name:R.source},{prefixes:{},type:"update",updates:K}}function he(R){return re(R,"add")}function ve(R){return re(R,"move")}function ye(R){return re(R,"copy")}function re(R,k){const K=[{type:k,silent:!!R.silent}];return K[0].source=R.source==="DEFAULT"?{type:"graph",default:!0}:{type:"graph",name:R.source},K[0].destination=R.destination==="DEFAULT"?{type:"graph",default:!0}:{type:"graph",name:R.destination},{prefixes:{},type:"update",updates:K}}function Ie(R){if(!R)return[];const k={};return R.forEach(K=>{const de=K.graph.value;k[de]||(k[de]=[]),k[de].push(K)}),Object.keys(k).map(K=>K===""?{type:"bgp",triples:k[K].map(Ae)}:{type:"graph",triples:k[K].map(Ae),name:k[K][0].graph})}function Le(R){return Pe(R,[])}function Pe(R,k){if(Array.isArray(R))return R.map(je=>Pe(je,k));if(!R.type||R.type===c.DELETE_INSERT)return R;if((R.type===c.PATTERN||R.type===c.PATH)&&R.graph)return k.push(R.graph),R.graph.name!==""?R.type===c.PATTERN?p.createPattern(R.subject,R.predicate,R.object):p.createPath(R.subject,R.predicate,R.object):R;const K={},de={},ge={};for(let je of Object.keys(R)){const $e=[];if(K[je]=Pe(R[je],$e),$e.length>0){de[je]=$e;for(const at of $e)ge[at.value]=at}}const Qe=Object.keys(ge);if(Qe.length>0)if(Qe.length===1&&![c.PROJECT,c.SERVICE].includes(R.type))k.push(ge[Qe[0]]);else{if(R.type===c.BGP)return Fe(R,de.patterns);for(let je of Object.keys(de)){const $e=K[je];Array.isArray($e)?K[je]=$e.map((at,fe)=>de[je][0].value===""?at:p.createGraph(at,de[je][fe])):de[je][0].value!==""&&(K[je]=p.createGraph($e,de[je][0]))}}return K}function Fe(R,k){var K;const de={};for(let je=0;je<R.patterns.length;++je){const $e=R.patterns[je],at=k[je].value;de[at]=(K=de[at])!==null&&K!==void 0?K:{patterns:[],graph:k[je]},de[at].patterns.push($e)}let ge=[];for(const[je,{patterns:$e,graph:at}]of Object.entries(de)){const fe=p.createBgp($e);ge.push(je===""?fe:p.createGraph(fe,at))}let Qe=ge[0];for(let je=1;je<ge.length;++je)Qe=p.createJoin([Qe,ge[je]]);return Qe}return Ja}var Abe;function T7e(){return Abe||(Abe=1,(function(n){var e=uo&&uo.__createBinding||(Object.create?(function(c,d,f,p){p===void 0&&(p=f);var h=Object.getOwnPropertyDescriptor(d,f);(!h||("get"in h?!d.__esModule:h.writable||h.configurable))&&(h={enumerable:!0,get:function(){return d[f]}}),Object.defineProperty(c,p,h)}):(function(c,d,f,p){p===void 0&&(p=f),c[p]=d[f]})),u=uo&&uo.__setModuleDefault||(Object.create?(function(c,d){Object.defineProperty(c,"default",{enumerable:!0,value:d})}):function(c,d){c.default=d}),a=uo&&uo.__importStar||function(c){if(c&&c.__esModule)return c;var d={};if(c!=null)for(var f in c)f!=="default"&&Object.prototype.hasOwnProperty.call(c,f)&&e(d,c,f);return u(d,c),d},r=uo&&uo.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(n,"__esModule",{value:!0}),n.Util=n.toSparqlJs=n.toSparql=n.Factory=n.Algebra=n.translate=void 0;const t=r(b7e());n.translate=t.default;const i=a(cN());n.Algebra=i;const o=r(CP());n.Factory=o.default;const l=_7e();Object.defineProperty(n,"toSparql",{enumerable:!0,get:function(){return l.toSparql}}),Object.defineProperty(n,"toSparqlJs",{enumerable:!0,get:function(){return l.toSparqlJs}});const s=r(jH());n.Util=s.default})(uo)),uo}var Obe;function w7e(){if(Obe)return E6;Obe=1,Object.defineProperty(E6,"__esModule",{value:!0}),E6.ActorOptimizeQueryOperationSetSeedSourcesQuadpatternIris=void 0;const n=Vi(),e=lt(),u=De(),a=T7e();let r=class extends n.ActorOptimizeQueryOperation{constructor(i){super(i)}async test(i){return(0,u.passTestVoid)()}async run(i){let o=i.context.get(e.KeysQueryOperation.querySources);return(!o||o.length===0)&&(o=await Promise.all([...new Set(this.extractIrisFromOperation(i.operation))].map(async l=>{const s=l.indexOf("#");s>=0&&(l=l.slice(0,s));const c=i.context.get(e.KeysStatistics.discoveredLinks);return c&&c.updateStatistic({url:l,metadata:{seed:!0}},{url:"root"}),(await this.mediatorQuerySourceIdentify.mediate({querySourceUnidentified:{value:l,context:new u.ActionContext().set(e.KeysQuerySourceIdentify.traverse,!0)},context:i.context})).querySource})),i.context=i.context.set(e.KeysQueryOperation.querySources,o)),{...i,context:i.context}}extractIrisFromOperation(i){const o=[];return a.Util.recurseOperation(i,{[a.Algebra.types.PATH]:l=>(this.extractSubjects&&l.subject.termType==="NamedNode"&&o.push(l.subject.value),this.extractObjects&&l.object.termType==="NamedNode"&&o.push(l.object.value),this.extractGraphs&&l.graph.termType==="NamedNode"&&o.push(l.graph.value),!1),[a.Algebra.types.PATTERN]:l=>(this.extractSubjects&&l.subject.termType==="NamedNode"&&o.push(l.subject.value),this.extractPredicates&&l.predicate.termType==="NamedNode"&&o.push(l.predicate.value),this.extractObjects&&l.object.termType==="NamedNode"&&(this.extractVocabIris||l.predicate.value!=="http://www.w3.org/1999/02/22-rdf-syntax-ns#type")&&o.push(l.object.value),this.extractGraphs&&l.graph.termType==="NamedNode"&&o.push(l.graph.value),!1)}),o}};return E6.ActorOptimizeQueryOperationSetSeedSourcesQuadpatternIris=r,E6}var xbe;function MH(){return xbe||(xbe=1,(function(n){var e=Lm&&Lm.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=Lm&&Lm.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(w7e(),n)})(Lm)),Lm}var Bm={},A6={},Rbe;function S7e(){if(Rbe)return A6;Rbe=1,Object.defineProperty(A6,"__esModule",{value:!0}),A6.ActorOptimizeQueryOperationDescribeToConstructsSubject=void 0;const n=Vi(),e=lt(),u=De(),a=Qt();let r=class extends n.ActorOptimizeQueryOperation{constructor(i){super(i)}async test(i){return i.operation.type!==a.Algebra.types.DESCRIBE?(0,u.failTest)(`Actor ${this.name} only supports describe operations, but got ${i.operation.type}`):(0,u.passTest)(!0)}async run(i){const o=i.context.getSafe(e.KeysInitQuery.dataFactory),l=new a.Factory(o),s=i.operation,c=s.terms.filter(f=>f.termType!=="Variable").map(f=>{const p=[o.quad(f,o.variable("__predicate"),o.variable("__object"))];return p.forEach(g=>g.type="pattern"),{input:{type:a.Algebra.types.BGP,patterns:p},template:p,type:"construct"}});if(c.length!==s.terms.length){let f=[];s.terms.filter(p=>p.termType==="Variable").forEach((p,h)=>{const g=[o.quad(p,o.variable(`__predicate${h}`),o.variable(`__object${h}`))];g.forEach(_=>_.type="pattern"),f=[...f,...g]}),c.push({input:{type:a.Algebra.types.JOIN,input:[s.input,{type:a.Algebra.types.BGP,patterns:f}]},template:f,type:a.Algebra.types.CONSTRUCT})}return{operation:l.createUnion(c,!1),context:i.context}}};return A6.ActorOptimizeQueryOperationDescribeToConstructsSubject=r,A6}var Nbe;function CH(){return Nbe||(Nbe=1,(function(n){var e=Bm&&Bm.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=Bm&&Bm.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(S7e(),n)})(Bm)),Bm}var p9,Ibe;function E7e(){return Ibe||(Ibe=1,p9=function(n){const e=new(Aq()).LoggerVoid,u=new(De()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-init/^4.0.0/components/ActorInit.jsonld#ActorInit_default_bus"}),a=new(De()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-resolve-hypermedia-links-queue/^4.0.0/components/ActorRdfResolveHypermediaLinksQueue.jsonld#ActorRdfResolveHypermediaLinksQueue_default_bus"}),r=new(De()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-extract-links/^0.0.0/components/ActorExtractLinks.jsonld#ActorExtractLinks_default_bus"}),t=new(De()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-context-preprocess/^4.0.0/components/ActorContextPreprocess.jsonld#ActorContextPreprocess_default_bus"}),i=new(De()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-hash-bindings/^4.0.0/components/ActorHashBindings.jsonld#ActorHashBindings_default_bus"}),o=new(De()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-hash-quads/^4.0.0/components/ActorHashQuads.jsonld#ActorHashQuads_default_bus"}),l=new(De()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-optimize-query-operation/^4.0.0/components/ActorOptimizeQueryOperation.jsonld#ActorOptimizeQueryOperation_default_bus"}),s=new(De()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-query-parse/^4.0.0/components/ActorQueryParse.jsonld#ActorQueryParse_default_bus"}),c=new(De()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-query-result-serialize/^4.0.0/components/ActorQueryResultSerialize.jsonld#ActorQueryResultSerialize_default_bus"}),d=new(De()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-query-source-identify-hypermedia/^4.0.0/components/ActorQuerySourceIdentifyHypermedia.jsonld#ActorQuerySourceIdentifyHypermedia_default_bus"}),f=new(De()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-dereference/^4.0.0/components/ActorDereference.jsonld#ActorDereference_default_bus"}),p=new(De()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-dereference-rdf/^4.0.0/components/ActorDereferenceRdf.jsonld#ActorDereferenceRdf_default_bus"}),h=new(De()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-join-entries-sort/^4.0.0/components/ActorRdfJoinEntriesSort.jsonld#ActorRdfJoinEntriesSort_default_bus"}),g=new(De()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-join-selectivity/^4.0.0/components/ActorRdfJoinSelectivity.jsonld#ActorRdfJoinSelectivity_default_bus"}),_=new(De()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-metadata/^4.0.0/components/ActorRdfMetadata.jsonld#ActorRdfMetadata_default_bus"}),m=new(De()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-metadata-accumulate/^4.0.0/components/ActorRdfMetadataAccumulate.jsonld#ActorRdfMetadataAccumulate_default_bus"}),w=new(De()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-metadata-extract/^4.0.0/components/ActorRdfMetadataExtract.jsonld#ActorRdfMetadataExtract_default_bus"}),T=new(De()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-parse/^4.0.0/components/ActorRdfParse.jsonld#ActorRdfParse_default_bus"}),E=new(De()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-parse-html/^4.0.0/components/ActorRdfParseHtml.jsonld#ActorRdfParseHtml_default_bus"}),S=new(De()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-resolve-hypermedia-links/^4.0.0/components/ActorRdfResolveHypermediaLinks.jsonld#ActorRdfResolveHypermediaLinks_default_bus"}),N=new(De()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-serialize/^4.0.0/components/ActorRdfSerialize.jsonld#ActorRdfSerialize_default_bus"}),j=new(De()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-update-hypermedia/^4.0.0/components/ActorRdfUpdateHypermedia.jsonld#ActorRdfUpdateHypermedia_default_bus"}),q=new(De()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-update-quads/^4.0.0/components/ActorRdfUpdateQuads.jsonld#ActorRdfUpdateQuads_default_bus"}),O=new(De()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-bindings-aggregator-factory/^4.0.0/components/ActorBindingsAggregatorFactory.jsonld#ActorBindingsAggregatorFactory_default_bus"}),I=new(De()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-expression-evaluator-factory/^4.0.0/components/ActorExpressionEvaluatorFactory.jsonld#ActorExpressionEvaluatorFactory_default_bus"}),A=new(We()).BusFunctionFactory({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-function-factory/^4.0.0/components/ActorFunctionFactory.jsonld#ActorFunctionFactory_default_bus"}),P=new(De()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-http/^4.0.0/components/ActorHttp.jsonld#ActorHttp_default_bus"}),C=new(De()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-http/^4.0.0/components/ActorHttp.jsonld#ActorHttp_fallback_bus"}),B=new(qr()).BusQueryOperation({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-query-operation/^4.0.0/components/ActorQueryOperation.jsonld#ActorQueryOperation_default_bus"}),V=new(De()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-query-process/^4.0.0/components/ActorQueryProcess.jsonld#ActorQueryProcess_default_bus"}),U=new(De()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-query-source-identify/^4.0.0/components/ActorQuerySourceIdentify.jsonld#ActorQuerySourceIdentify_default_bus"}),G=new(De()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-join/^4.0.0/components/ActorRdfJoin.jsonld#ActorRdfJoin_default_bus"}),J=new(De()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-term-comparator-factory/^4.0.0/components/ActorTermComparatorFactory.jsonld#ActorTermComparatorFactory_default_bus"}),ne=new(De()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-http-invalidate/^4.0.0/components/ActorHttpInvalidate.jsonld#ActorHttpInvalidate_default_bus"}),W=new(De()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-merge-bindings-context/^4.0.0/components/ActorMergeBindingsContext.jsonld#ActorMergeBindingsContext_default_bus"}),ee=new(Pq()).ActorRdfResolveHypermediaLinksQueueFifo({name:"urn:comunica:default:rdf-resolve-hypermedia-links-queue/actors#fifo",bus:a,busFailMessage:"Link queue creation failed: none of the configured actors were able to create a link queue starting from ${action.firstUrl}"}),se=new(Mt()).MediatorRace({name:"urn:comunica:default:rdf-resolve-hypermedia-links-queue/mediators#main",bus:a});new(Js()).ActorExtractLinksPredicates({checkSubject:!1,predicateRegexes:["http://www.w3.org/2000/01/rdf-schema#seeAlso","http://www.w3.org/2002/07/owl##sameAs","http://xmlns.com/foaf/0.1/isPrimaryTopicOf"],name:"urn:comunica:default:extract-links/actors#predicates-common",bus:r}),new(Js()).ActorExtractLinksPredicates({checkSubject:!0,predicateRegexes:["http://www.w3.org/ns/ldp#contains"],name:"urn:comunica:default:extract-links/actors#predicates-ldp",bus:r}),new(jq()).ActorExtractLinksHeaders({headersRegexes:['rel="describedby"'],name:"urn:comunica:default:extract-links/actors#links-describedby",bus:r}),new(Js()).ActorExtractLinksPredicates({checkSubject:!0,predicateRegexes:["http://www.w3.org/ns/pim/space#storage"],name:"urn:comunica:default:extract-links/actors#predicates-solid",bus:r}),new(Cq()).ActorExtractLinksQuadPatternQuery({onlyVariables:!0,name:"urn:comunica:default:extract-links/actors#quad-pattern-query",bus:r});const pe=new(Lq()).MediatorCombineArray({filterErrors:!0,fields:["links","linksConditional"],name:"urn:comunica:default:extract-links/mediators#main",bus:r});new(qq()).ActorContextPreprocessConvertShortcuts({contextKeyShortcuts:{baseIRI:"@comunica/actor-init-query:baseIRI",dataFactory:"@comunica/actor-init-query:dataFactory",datetime:"@comunica/actor-http-memento:datetime",destination:"@comunica/bus-rdf-update-quads:destination",distinctConstruct:"@comunica/actor-init-query:distinctConstruct",explain:"@comunica/actor-init-query:explain",extensionFunctionCreator:"@comunica/actor-init-query:extensionFunctionCreator",extensionFunctions:"@comunica/actor-init-query:extensionFunctions",fetch:"@comunica/bus-http:fetch",fileBaseIRI:"@comunica/actor-init-query:fileBaseIRI",functionArgumentsCache:"@comunica/actor-init-query:functionArgumentsCache",httpAuth:"@comunica/bus-http:auth",httpBodyTimeout:"@comunica/bus-http:http-body-timeout",httpIncludeCredentials:"@comunica/bus-http:include-credentials",httpProxyHandler:"@comunica/actor-http-proxy:httpProxyHandler",httpRetryCount:"@comunica/bus-http:http-retry-count",httpRetryDelayFallback:"@comunica/bus-http:http-retry-delay-fallback",httpRetryDelayLimit:"@comunica/bus-http:http-retry-delay-limit",httpTimeout:"@comunica/bus-http:http-timeout",initialBindings:"@comunica/actor-init-query:initialBindings",invalidateCache:"@comunica/actor-init-query:invalidateCache",lenient:"@comunica/actor-init-query:lenient",log:"@comunica/core:log",queryFormat:"@comunica/actor-init-query:queryFormat",queryTimestamp:"@comunica/actor-init-query:queryTimestamp",queryTimestampHighResolution:"@comunica/actor-init-query:queryTimestampHighResolution",readOnly:"@comunica/bus-query-operation:readOnly",recoverBrokenLinks:"@comunica/bus-http-wayback:recover-broken-links",sources:"@comunica/actor-init-query:querySourcesUnidentified",traverse:"@comunica/bus-query-source-identify:traverse",unionDefaultGraph:"@comunica/bus-query-operation:unionDefaultGraph"},name:"urn:comunica:default:context-preprocess/actors#convert-shortcuts",bus:t,busFailMessage:"Context preprocessing failed"}),new(Bq()).ActorContextPreprocessSetDefaults({logger:e,name:"urn:comunica:default:context-preprocess/actors#set-defaults",bus:t,busFailMessage:"Context preprocessing failed"}),new(Uq()).ActorContextPreprocessSourceToDestination({name:"urn:comunica:default:context-preprocess/actors#source-to-destination",bus:t,busFailMessage:"Context preprocessing failed"});const le=new(sP()).ActorContextPreprocessQuerySourceSkolemize({name:"urn:comunica:default:context-preprocess/actors#query-source-skolemize",bus:t,busFailMessage:"Context preprocessing failed"});new($q()).ActorContextPreprocessSetDefaultsLinkTraversal({name:"urn:comunica:default:context-preprocess/actors#set-defaults-link-traversal",bus:t,busFailMessage:"Context preprocessing failed"});const Ee=new(i1()).MediatorCombinePipeline({name:"urn:comunica:default:context-preprocess/mediators#main",bus:t});new(Xq()).ActorHashBindingsMurmur({name:"urn:comunica:default:hash-bindings/actors#murmur",bus:i,busFailMessage:"Failed to obtaining hash functions for bindings"});const Ae=new(Mt()).MediatorRace({name:"urn:comunica:default:hash-bindings/mediators#main",bus:i});new(Kq()).ActorHashQuadsMurmur({name:"urn:comunica:default:hash-quads/actors#murmur",bus:o,busFailMessage:"Failed to obtaining hash functions for quads"});const Ne=new(Mt()).MediatorRace({name:"urn:comunica:default:hash-quads/mediators#main",bus:o});new(Jq()).ActorOptimizeQueryOperationRewriteCopy({name:"urn:comunica:default:optimize-query-operation/actors#rewrite-copy",bus:l,busFailMessage:"Query optimization failed: none of the configured actors were able to optimize"}),new(Wq()).ActorOptimizeQueryOperationRewriteMove({name:"urn:comunica:default:optimize-query-operation/actors#rewrite-move",bus:l,busFailMessage:"Query optimization failed: none of the configured actors were able to optimize"}),new(Yq()).ActorOptimizeQueryOperationRewriteAdd({name:"urn:comunica:default:optimize-query-operation/actors#rewrite-add",bus:l,busFailMessage:"Query optimization failed: none of the configured actors were able to optimize"});const Oe=new(Zq()).ActorOptimizeQueryOperationGroupSources({name:"urn:comunica:default:optimize-query-operation/actors#group-sources",bus:l,busFailMessage:"Query optimization failed: none of the configured actors were able to optimize"});new(eB()).ActorOptimizeQueryOperationConstructDistinct({name:"urn:comunica:default:optimize-query-operation/actors#construct-distinct",bus:l,busFailMessage:"Query optimization failed: none of the configured actors were able to optimize"});const be=new(i1()).MediatorCombinePipeline({filterFailures:!0,name:"urn:comunica:default:optimize-query-operation/mediators#main",bus:l});new(tB()).ActorQueryParseSparql({prefixes:{dbpedia:"http://dbpedia.org/resource/","dbpedia-owl":"http://dbpedia.org/ontology/",dbpprop:"http://dbpedia.org/property/",dc:"http://purl.org/dc/terms/",dc11:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",foaf:"http://xmlns.com/foaf/0.1/",geo:"http://www.w3.org/2003/01/geo/wgs84_pos#",owl:"http://www.w3.org/2002/07/owl#",rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",schema:"http://schema.org/",skos:"http://www.w3.org/2008/05/skos#",xsd:"http://www.w3.org/2001/XMLSchema#"},name:"urn:comunica:default:query-parse/actors#sparql",bus:s,busFailMessage:'Query parsing failed: none of the configured parsers were able to the query "${action.query}"'}),new(lB()).ActorQueryParseGraphql({name:"urn:comunica:default:query-parse/actors#graphql",bus:s,busFailMessage:'Query parsing failed: none of the configured parsers were able to the query "${action.query}"'});const te=new(Mt()).MediatorRace({name:"urn:comunica:default:query-parse/mediators#main",bus:s});new(hB()).ActorQueryResultSerializeJson({mediaTypePriorities:{"application/json":1},mediaTypeFormats:{"application/json":"https://comunica.linkeddatafragments.org/#results_JSON"},name:"urn:comunica:default:query-result-serialize/actors#json",bus:c,busFailMessage:"Query result serialization failed: none of the configured actors were able to serialize for type ${action.handle.type}"}),new(yB()).ActorQueryResultSerializeSimple({mediaTypePriorities:{simple:.9},mediaTypeFormats:{simple:"https://comunica.linkeddatafragments.org/#results_simple"},name:"urn:comunica:default:query-result-serialize/actors#simple",bus:c,busFailMessage:"Query result serialization failed: none of the configured actors were able to serialize for type ${action.handle.type}"}),new(mB()).ActorQueryResultSerializeSparqlCsv({mediaTypePriorities:{"text/csv":.75},mediaTypeFormats:{"text/csv":"http://www.w3.org/ns/formats/SPARQL_Results_CSV"},name:"urn:comunica:default:query-result-serialize/actors#csv",bus:c,busFailMessage:"Query result serialization failed: none of the configured actors were able to serialize for type ${action.handle.type}"}),new(bB()).ActorQueryResultSerializeSparqlTsv({mediaTypePriorities:{"text/tab-separated-values":.75},mediaTypeFormats:{"text/tab-separated-values":"http://www.w3.org/ns/formats/SPARQL_Results_TSV"},name:"urn:comunica:default:query-result-serialize/actors#sparql-tsv",bus:c,busFailMessage:"Query result serialization failed: none of the configured actors were able to serialize for type ${action.handle.type}"}),new(gB()).ActorQueryResultSerializeSparqlXml({mediaTypePriorities:{"application/sparql-results+xml":.8},mediaTypeFormats:{"application/sparql-results+xml":"http://www.w3.org/ns/formats/SPARQL_Results_XML"},name:"urn:comunica:default:query-result-serialize/actors#sparql-xml",bus:c,busFailMessage:"Query result serialization failed: none of the configured actors were able to serialize for type ${action.handle.type}"}),new(vB()).ActorQueryResultSerializeTable({columnWidth:50,mediaTypePriorities:{table:.6},mediaTypeFormats:{table:"https://comunica.linkeddatafragments.org/#results_table"},name:"urn:comunica:default:query-result-serialize/actors#table",bus:c,busFailMessage:"Query result serialization failed: none of the configured actors were able to serialize for type ${action.handle.type}"}),new(TB()).ActorQueryResultSerializeTree({mediaTypePriorities:{tree:.5},mediaTypeFormats:{tree:"https://comunica.linkeddatafragments.org/#results_tree"},name:"urn:comunica:default:query-result-serialize/actors#tree",bus:c,busFailMessage:"Query result serialization failed: none of the configured actors were able to serialize for type ${action.handle.type}"});const v=new(Mt()).MediatorRace({name:"urn:comunica:default:query-result-serialize/mediators#serialize",bus:c}),F=new(vn()).MediatorCombineUnion({field:"mediaTypes",name:"urn:comunica:default:query-result-serialize/mediators#mediaType",bus:c}),D=new(vn()).MediatorCombineUnion({field:"mediaTypeFormats",name:"urn:comunica:default:query-result-serialize/mediators#mediaTypeFormat",bus:c}),L=new(oa()).MediatorNumber({field:"filterFactor",type:"max",ignoreFailures:!0,name:"urn:comunica:default:query-source-identify-hypermedia/mediators#main",bus:d}),H=new(EB()).ActorDereferenceFallback({name:"urn:comunica:default:dereference/actors#fallback",bus:f,busFailMessage:"Dereferencing failed: none of the configured actors were able to handle ${action.url}"}),Z=new(Mt()).MediatorRace({name:"urn:comunica:default:dereference/mediators#main",bus:f}),$=new(Mt()).MediatorRace({name:"urn:comunica:default:dereference-rdf/mediators#main",bus:p});new(OB()).ActorRdfJoinEntriesSortTraversalZeroKnowledge({name:"urn:comunica:default:rdf-join-entries-sort/actors#traversal-zero-knowledge",bus:h,busFailMessage:"Sorting join entries failed: none of the configured actors were able to sort"});const ue=new(oa()).MediatorNumber({field:"accuracy",type:"max",ignoreFailures:!0,name:"urn:comunica:default:rdf-join-entries-sort/mediators#main",bus:h});new(xB()).ActorRdfJoinSelectivityVariableCounting({name:"urn:comunica:default:rdf-join-selectivity/actors#variable-counting",bus:g,busFailMessage:"Determining join selectivity failed: none of the configured actors were able to calculate selectivities"});const ae=new(oa()).MediatorNumber({field:"accuracy",type:"max",ignoreFailures:!0,name:"urn:comunica:default:rdf-join-selectivity/mediators#main",bus:g});new(RB()).ActorRdfMetadataPrimaryTopic({metadataToData:!1,dataToMetadataOnInvalidMetadataGraph:!0,name:"urn:comunica:default:rdf-metadata/actors#primary-topic",bus:_,busFailMessage:"Metadata splicing failed: none of the configured actors were able to splice metadata from ${action.url}"}),new(NB()).ActorRdfMetadataAll({name:"urn:comunica:default:rdf-metadata/actors#all",bus:_,busFailMessage:"Metadata splicing failed: none of the configured actors were able to splice metadata from ${action.url}"});const ce=new(Mt()).MediatorRace({name:"urn:comunica:default:rdf-metadata/mediators#main",bus:_});new(DB()).ActorRdfMetadataAccumulateCardinality({name:"urn:comunica:default:rdf-metadata-accumulate/actors#cardinality",bus:m,busFailMessage:"Metadata accumulation failed: none of the configured actors were able to accumulate metadata in mode ${action.mode}"}),new(FB()).ActorRdfMetadataAccumulatePageSize({name:"urn:comunica:default:rdf-metadata-accumulate/actors#pagesize",bus:m,busFailMessage:"Metadata accumulation failed: none of the configured actors were able to accumulate metadata in mode ${action.mode}"}),new(PB()).ActorRdfMetadataAccumulateRequestTime({name:"urn:comunica:default:rdf-metadata-accumulate/actors#requesttime",bus:m,busFailMessage:"Metadata accumulation failed: none of the configured actors were able to accumulate metadata in mode ${action.mode}"});const Se=new(vn()).MediatorCombineUnion({field:"metadata",name:"urn:comunica:default:rdf-metadata-accumulate/mediators#main",bus:m});new(jB()).ActorRdfMetadataExtractHydraControls({name:"urn:comunica:default:rdf-metadata-extract/actors#hydra-controls",bus:w,busFailMessage:"Metadata extraction failed: none of the configured actors were able to extract metadata from ${action.url}"}),new(MB()).ActorRdfMetadataExtractHydraCount({predicates:["http://www.w3.org/ns/hydra/core#totalItems","http://rdfs.org/ns/void#triples"],name:"urn:comunica:default:rdf-metadata-extract/actors#hydra-count",bus:w,busFailMessage:"Metadata extraction failed: none of the configured actors were able to extract metadata from ${action.url}"}),new(CB()).ActorRdfMetadataExtractHydraPagesize({predicates:["http://www.w3.org/ns/hydra/core#itemsPerPage"],name:"urn:comunica:default:rdf-metadata-extract/actors#hydra-pagesize",bus:w,busFailMessage:"Metadata extraction failed: none of the configured actors were able to extract metadata from ${action.url}"}),new(LB()).ActorRdfMetadataExtractRequestTime({name:"urn:comunica:default:rdf-metadata-extract/actors#request-time",bus:w,busFailMessage:"Metadata extraction failed: none of the configured actors were able to extract metadata from ${action.url}"}),new(qB()).ActorRdfMetadataExtractAllowHttpMethods({name:"urn:comunica:default:rdf-metadata-extract/actors#allow-http-methods",bus:w,busFailMessage:"Metadata extraction failed: none of the configured actors were able to extract metadata from ${action.url}"}),new(BB()).ActorRdfMetadataExtractPutAccepted({name:"urn:comunica:default:rdf-metadata-extract/actors#put-accepted",bus:w,busFailMessage:"Metadata extraction failed: none of the configured actors were able to extract metadata from ${action.url}"}),new(UB()).ActorRdfMetadataExtractPatchSparqlUpdate({name:"urn:comunica:default:rdf-metadata-extract/actors#patch-sparql-update",bus:w,busFailMessage:"Metadata extraction failed: none of the configured actors were able to extract metadata from ${action.url}"}),new(QB()).ActorRdfMetadataExtractSparqlService({inferHttpsEndpoint:!0,name:"urn:comunica:default:rdf-metadata-extract/actors#sparql-service",bus:w,busFailMessage:"Metadata extraction failed: none of the configured actors were able to extract metadata from ${action.url}"});const xe=new(vn()).MediatorCombineUnion({filterFailures:!0,field:"metadata",name:"urn:comunica:default:rdf-metadata-extract/mediators#main",bus:w});new($B()).ActorRdfParseN3({mediaTypePriorities:{"application/n-quads":1,"application/n-triples":.8,"application/trig":.95,"text/n3":.35,"text/turtle":.6},mediaTypeFormats:{"application/n-quads":"http://www.w3.org/ns/formats/N-Quads","application/n-triples":"http://www.w3.org/ns/formats/N-Triples","application/trig":"http://www.w3.org/ns/formats/TriG","text/n3":"http://www.w3.org/ns/formats/N3","text/turtle":"http://www.w3.org/ns/formats/Turtle"},priorityScale:1,name:"urn:comunica:default:rdf-parse/actors#n3",bus:T,busFailMessage:"RDF parsing failed: none of the configured parsers were able to handle the media type ${action.handle.mediaType} for ${action.handle.url}"}),new(XB()).ActorRdfParseRdfXml({mediaTypePriorities:{"application/rdf+xml":1},mediaTypeFormats:{"application/rdf+xml":"http://www.w3.org/ns/formats/RDF_XML"},priorityScale:.5,name:"urn:comunica:default:rdf-parse/actors#rdfxml",bus:T,busFailMessage:"RDF parsing failed: none of the configured parsers were able to handle the media type ${action.handle.mediaType} for ${action.handle.url}"}),new(JB()).ActorRdfParseXmlRdfa({mediaTypePriorities:{"application/xml":1,"image/svg+xml":1,"text/xml":1},mediaTypeFormats:{"application/xml":"http://www.w3.org/ns/formats/RDFa","image/svg+xml":"http://www.w3.org/ns/formats/RDFa","text/xml":"http://www.w3.org/ns/formats/RDFa"},priorityScale:.3,name:"urn:comunica:default:rdf-parse/actors#xmlrdfa",bus:T,busFailMessage:"RDF parsing failed: none of the configured parsers were able to handle the media type ${action.handle.mediaType} for ${action.handle.url}"}),new(WB()).ActorRdfParseShaclc({mediaTypePriorities:{"text/shaclc":1,"text/shaclc-ext":.5},mediaTypeFormats:{"text/shaclc":"http://www.w3.org/ns/formats/Shaclc","text/shaclc-ext":"http://www.w3.org/ns/formats/ShaclcExtended"},priorityScale:.1,name:"urn:comunica:default:rdf-parse/actors#shaclc",bus:T,busFailMessage:"RDF parsing failed: none of the configured parsers were able to handle the media type ${action.handle.mediaType} for ${action.handle.url}"});const Ce=new(Mt()).MediatorRace({name:"urn:comunica:default:rdf-parse/mediators#parse",bus:T}),He=new(vn()).MediatorCombineUnion({field:"mediaTypes",name:"urn:comunica:default:rdf-parse/mediators#mediaType",bus:T});new(YB()).ActorRdfParseHtml({busRdfParseHtml:E,mediaTypePriorities:{"application/xhtml+xml":.9,"text/html":1},mediaTypeFormats:{"application/xhtml+xml":"http://www.w3.org/ns/formats/HTML","text/html":"http://www.w3.org/ns/formats/HTML"},priorityScale:.2,name:"urn:comunica:default:rdf-parse/actors#html",bus:T,busFailMessage:"RDF parsing failed: none of the configured parsers were able to handle the media type ${action.handle.mediaType} for ${action.handle.url}"}),new(eU()).ActorRdfParseHtmlMicrodata({name:"urn:comunica:default:rdf-parse-html/actors#microdata",bus:E,busFailMessage:"RDF HTML parsing failed: none of the configured parsers were able to parse RDF in HTML"}),new(tU()).ActorRdfParseHtmlRdfa({name:"urn:comunica:default:rdf-parse-html/actors#rdfa",bus:E,busFailMessage:"RDF HTML parsing failed: none of the configured parsers were able to parse RDF in HTML"}),new(rU()).ActorRdfResolveHypermediaLinksNext({name:"urn:comunica:default:rdf-resolve-hypermedia-links/actors#next",bus:S,busFailMessage:"Hypermedia link resolution failed: none of the configured actors were able to resolve links from metadata"}),new(nU()).ActorRdfResolveHypermediaLinksTraverse({name:"urn:comunica:default:rdf-resolve-hypermedia-links/actors#traverse",bus:S,busFailMessage:"Hypermedia link resolution failed: none of the configured actors were able to resolve links from metadata"});const Je=new(Mt()).MediatorRace({name:"urn:comunica:default:rdf-resolve-hypermedia-links/mediators#main",bus:S});new(iU()).ActorRdfSerializeN3({mediaTypePriorities:{"application/n-quads":1,"application/n-triples":.8,"application/trig":.95,"text/n3":.35,"text/turtle":.6},mediaTypeFormats:{"application/n-quads":"http://www.w3.org/ns/formats/N-Quads","application/n-triples":"http://www.w3.org/ns/formats/N-Triples","application/trig":"http://www.w3.org/ns/formats/TriG","text/n3":"http://www.w3.org/ns/formats/N3","text/turtle":"http://www.w3.org/ns/formats/Turtle"},name:"urn:comunica:default:rdf-serialize/actors#n3",bus:N,busFailMessage:"RDF serialization failed: none of the configured serializers were able to handle media type ${action.handleMediaType}"}),new(oU()).ActorRdfSerializeJsonLd({jsonStringifyIndentSpaces:2,mediaTypePriorities:{"application/ld+json":1},mediaTypeFormats:{"application/ld+json":"http://www.w3.org/ns/formats/JSON-LD"},priorityScale:.9,name:"urn:comunica:default:rdf-serialize/actors#jsonld",bus:N,busFailMessage:"RDF serialization failed: none of the configured serializers were able to handle media type ${action.handleMediaType}"}),new(cU()).ActorRdfSerializeShaclc({mediaTypePriorities:{"text/shaclc":1,"text/shaclc-ext":.5},mediaTypeFormats:{"text/shaclc":"http://www.w3.org/ns/formats/Shaclc","text/shaclc-ext":"http://www.w3.org/ns/formats/ShaclcExtended"},priorityScale:.1,name:"urn:comunica:default:rdf-serialize/actors#shaclc",bus:N,busFailMessage:"RDF serialization failed: none of the configured serializers were able to handle media type ${action.handleMediaType}"});const Ye=new(Mt()).MediatorRace({name:"urn:comunica:default:rdf-serialize/mediators#serialize",bus:N}),oe=new(vn()).MediatorCombineUnion({field:"mediaTypes",name:"urn:comunica:default:rdf-serialize/mediators#mediaType",bus:N}),X=new(vn()).MediatorCombineUnion({field:"mediaTypeFormats",name:"urn:comunica:default:rdf-serialize/mediators#mediaTypeFormat",bus:N}),Y=new(Mt()).MediatorRace({name:"urn:comunica:default:rdf-update-hypermedia/mediators#main",bus:j});new(dU()).ActorRdfUpdateQuadsRdfJsStore({name:"urn:comunica:default:rdf-update-quads/actors#rdfjs-store",bus:q,busFailMessage:"RDF updating failed: none of the configured actors were able to handle an update"});const he=new(Mt()).MediatorRace({name:"urn:comunica:default:rdf-update-quads/mediators#main",bus:q}),ve=new(Mt()).MediatorRace({name:"urn:comunica:default:bindings-aggregator-factory/mediators#main",bus:O}),ye=new(Mt()).MediatorRace({name:"urn:comunica:default:expression-evaluator-factory/mediators#main",bus:I});new(fU()).ActorFunctionFactoryExpressionBnode({name:"urn:comunica:default:function-factory/actors#expression-function-bnode",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(pU()).ActorFunctionFactoryExpressionBound({name:"urn:comunica:default:function-factory/actors#expression-function-bound",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(hU()).ActorFunctionFactoryExpressionCoalesce({name:"urn:comunica:default:function-factory/actors#expression-function-coalesce",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(yU()).ActorFunctionFactoryExpressionConcat({name:"urn:comunica:default:function-factory/actors#expression-function-concat",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(mU()).ActorFunctionFactoryExpressionExtensions({name:"urn:comunica:default:function-factory/actors#expression-function-extensions",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(bU()).ActorFunctionFactoryExpressionIf({name:"urn:comunica:default:function-factory/actors#expression-function-if",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(gU()).ActorFunctionFactoryExpressionLogicalAnd({name:"urn:comunica:default:function-factory/actors#expression-function-logical-and",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(vU()).ActorFunctionFactoryExpressionLogicalOr({name:"urn:comunica:default:function-factory/actors#expression-function-logical-or",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(_U()).ActorFunctionFactoryExpressionSameTerm({name:"urn:comunica:default:function-factory/actors#expression-function-same-term",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(TU()).ActorFunctionFactoryTermAbs({name:"urn:comunica:default:function-factory/actors#term-function-abs",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(wU()).ActorFunctionFactoryTermAddition({name:"urn:comunica:default:function-factory/actors#term-function-addition",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(SU()).ActorFunctionFactoryTermCeil({name:"urn:comunica:default:function-factory/actors#term-function-ceil",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(EU()).ActorFunctionFactoryTermContains({name:"urn:comunica:default:function-factory/actors#term-function-contains",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(AU()).ActorFunctionFactoryTermDatatype({name:"urn:comunica:default:function-factory/actors#term-function-datatype",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(OU()).ActorFunctionFactoryTermDay({name:"urn:comunica:default:function-factory/actors#term-function-day",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(xU()).ActorFunctionFactoryTermDivision({name:"urn:comunica:default:function-factory/actors#term-function-division",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(RU()).ActorFunctionFactoryTermEncodeForUri({name:"urn:comunica:default:function-factory/actors#term-function-encode-for-uri",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(NU()).ActorFunctionFactoryTermEquality({name:"urn:comunica:default:function-factory/actors#term-function-equality",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(IU()).ActorFunctionFactoryTermFloor({name:"urn:comunica:default:function-factory/actors#term-function-floor",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(DU()).ActorFunctionFactoryTermHours({name:"urn:comunica:default:function-factory/actors#term-function-hours",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(FU()).ActorFunctionFactoryTermIri({name:"urn:comunica:default:function-factory/actors#term-function-iri",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(PU()).ActorFunctionFactoryTermIsBlank({name:"urn:comunica:default:function-factory/actors#term-function-is-blank",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(jU()).ActorFunctionFactoryTermIsIri({name:"urn:comunica:default:function-factory/actors#term-function-is-iri",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(MU()).ActorFunctionFactoryTermIsLiteral({name:"urn:comunica:default:function-factory/actors#term-function-is-literal",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(CU()).ActorFunctionFactoryTermIsNumeric({name:"urn:comunica:default:function-factory/actors#term-function-is-numeric",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(LU()).ActorFunctionFactoryTermIsTriple({name:"urn:comunica:default:function-factory/actors#term-function-is-triple",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(qU()).ActorFunctionFactoryTermLang({name:"urn:comunica:default:function-factory/actors#term-function-lang",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(BU()).ActorFunctionFactoryTermLangmatches({name:"urn:comunica:default:function-factory/actors#term-function-langmatches",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(UU()).ActorFunctionFactoryTermLcase({name:"urn:comunica:default:function-factory/actors#term-function-lcase",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(QU()).ActorFunctionFactoryTermMd5({name:"urn:comunica:default:function-factory/actors#term-function-md5",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(VU()).ActorFunctionFactoryTermMinutes({name:"urn:comunica:default:function-factory/actors#term-function-minutes",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(HU()).ActorFunctionFactoryTermMonth({name:"urn:comunica:default:function-factory/actors#term-function-month",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(kU()).ActorFunctionFactoryTermMultiplication({name:"urn:comunica:default:function-factory/actors#term-function-multiplication",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(zU()).ActorFunctionFactoryTermNot({name:"urn:comunica:default:function-factory/actors#term-function-not",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(GU()).ActorFunctionFactoryTermNow({name:"urn:comunica:default:function-factory/actors#term-function-now",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new($U()).ActorFunctionFactoryTermObject({name:"urn:comunica:default:function-factory/actors#term-function-object",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(XU()).ActorFunctionFactoryTermPredicate({name:"urn:comunica:default:function-factory/actors#term-function-predicate",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(KU()).ActorFunctionFactoryTermRand({name:"urn:comunica:default:function-factory/actors#term-function-rand",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(EP()).ActorFunctionFactoryTermRegex({name:"urn:comunica:default:function-factory/actors#term-function-regex",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(JU()).ActorFunctionFactoryTermReplace({name:"urn:comunica:default:function-factory/actors#term-function-replace",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(WU()).ActorFunctionFactoryTermRound({name:"urn:comunica:default:function-factory/actors#term-function-round",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(YU()).ActorFunctionFactoryTermSeconds({name:"urn:comunica:default:function-factory/actors#term-function-seconds",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(ZU()).ActorFunctionFactoryTermSha1({name:"urn:comunica:default:function-factory/actors#term-function-sha1",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(eQ()).ActorFunctionFactoryTermSha256({name:"urn:comunica:default:function-factory/actors#term-function-sha256",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(tQ()).ActorFunctionFactoryTermSha384({name:"urn:comunica:default:function-factory/actors#term-function-sha384",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(rQ()).ActorFunctionFactoryTermSha512({name:"urn:comunica:default:function-factory/actors#term-function-sha512",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(nQ()).ActorFunctionFactoryTermStrAfter({name:"urn:comunica:default:function-factory/actors#term-function-str-after",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(aQ()).ActorFunctionFactoryTermStrBefore({name:"urn:comunica:default:function-factory/actors#term-function-str-before",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(iQ()).ActorFunctionFactoryTermStrDt({name:"urn:comunica:default:function-factory/actors#term-function-str-dt",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(uQ()).ActorFunctionFactoryTermStrEnds({name:"urn:comunica:default:function-factory/actors#term-function-str-ends",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(oQ()).ActorFunctionFactoryTermStrLang({name:"urn:comunica:default:function-factory/actors#term-function-str-lang",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(sQ()).ActorFunctionFactoryTermStrLen({name:"urn:comunica:default:function-factory/actors#term-function-str-len",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(cQ()).ActorFunctionFactoryTermStrStarts({name:"urn:comunica:default:function-factory/actors#term-function-str-starts",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(dQ()).ActorFunctionFactoryTermStrUuid({name:"urn:comunica:default:function-factory/actors#term-function-str-uuid",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(fQ()).ActorFunctionFactoryTermStr({name:"urn:comunica:default:function-factory/actors#term-function-str",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(pQ()).ActorFunctionFactoryTermSubStr({name:"urn:comunica:default:function-factory/actors#term-function-sub-str",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(hQ()).ActorFunctionFactoryTermSubject({name:"urn:comunica:default:function-factory/actors#term-function-subject",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(yQ()).ActorFunctionFactoryTermSubtraction({name:"urn:comunica:default:function-factory/actors#term-function-subtraction",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(mQ()).ActorFunctionFactoryTermTimezone({name:"urn:comunica:default:function-factory/actors#term-function-timezone",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(bQ()).ActorFunctionFactoryTermTriple({name:"urn:comunica:default:function-factory/actors#term-function-triple",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(gQ()).ActorFunctionFactoryTermTz({name:"urn:comunica:default:function-factory/actors#term-function-tz",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(vQ()).ActorFunctionFactoryTermUcase({name:"urn:comunica:default:function-factory/actors#term-function-ucase",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(_Q()).ActorFunctionFactoryTermUnaryMinus({name:"urn:comunica:default:function-factory/actors#term-function-unary-minus",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(TQ()).ActorFunctionFactoryTermUnaryPlus({name:"urn:comunica:default:function-factory/actors#term-function-unary-plus",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(wQ()).ActorFunctionFactoryTermUuid({name:"urn:comunica:default:function-factory/actors#term-function-uuid",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(SQ()).ActorFunctionFactoryTermXsdToBoolean({name:"urn:comunica:default:function-factory/actors#term-function-xsd-to-boolean",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(EQ()).ActorFunctionFactoryTermXsdToDate({name:"urn:comunica:default:function-factory/actors#term-function-xsd-to-date",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(AQ()).ActorFunctionFactoryTermXsdToDatetime({name:"urn:comunica:default:function-factory/actors#term-function-xsd-to-datetime",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(OQ()).ActorFunctionFactoryTermXsdToDayTimeDuration({name:"urn:comunica:default:function-factory/actors#term-function-xsd-to-day-time-duration",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(xQ()).ActorFunctionFactoryTermXsdToDecimal({name:"urn:comunica:default:function-factory/actors#term-function-xsd-to-decimal",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(RQ()).ActorFunctionFactoryTermXsdToDouble({name:"urn:comunica:default:function-factory/actors#term-function-xsd-to-double",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(NQ()).ActorFunctionFactoryTermXsdToDuration({name:"urn:comunica:default:function-factory/actors#term-function-xsd-to-duration",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(IQ()).ActorFunctionFactoryTermXsdToFloat({name:"urn:comunica:default:function-factory/actors#term-function-xsd-to-float",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(DQ()).ActorFunctionFactoryTermXsdToInteger({name:"urn:comunica:default:function-factory/actors#term-function-xsd-to-integer",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(FQ()).ActorFunctionFactoryTermXsdToString({name:"urn:comunica:default:function-factory/actors#term-function-xsd-to-string",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(PQ()).ActorFunctionFactoryTermXsdToTime({name:"urn:comunica:default:function-factory/actors#term-function-xsd-to-time",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(jQ()).ActorFunctionFactoryTermXsdToYearMonthDuration({name:"urn:comunica:default:function-factory/actors#term-function-xsd-to-year-month-duration",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(MQ()).ActorFunctionFactoryTermYear({name:"urn:comunica:default:function-factory/actors#term-function-year",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"});const re=new(Mt()).MediatorRace({name:"urn:comunica:default:function-factory/mediators#main",bus:A}),Ie=new(CQ()).ActorHttpFetch({agentOptions:{keepAlive:!0,maxSockets:5},name:"urn:comunica:default:http/actors#fetch",bus:P,busFailMessage:"HTTP request failed: none of the configured actors were able to handle ${action.input}"}),Le=new(oa()).MediatorNumber({field:"time",type:"min",ignoreFailures:!0,name:"urn:comunica:default:http/mediators#no-fallback",bus:P}),Pe=new(oa()).MediatorNumber({field:"time",type:"min",ignoreFailures:!0,name:"urn:comunica:default:http/mediators#main",bus:C});new(LQ()).ActorQueryOperationSource({name:"urn:comunica:default:query-operation/actors#source",bus:B,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"});const Fe=new(oa()).MediatorNumber({field:"httpRequests",type:"min",ignoreFailures:!0,name:"urn:comunica:default:query-operation/mediators#main",bus:B}),R=new(Mt()).MediatorRace({name:"urn:comunica:default:query-process/mediators#main",bus:V}),k=new(Mt()).MediatorRace({name:"urn:comunica:default:query-source-identify/mediators#main",bus:U}),K=new(qQ()).MediatorJoinCoefficientsFixed({cpuWeight:10,memoryWeight:1,timeWeight:2,ioWeight:10,name:"urn:comunica:default:rdf-join/mediators#main",bus:G}),de=new(Mt()).MediatorRace({name:"urn:comunica:default:term-comparator-factory/mediators#main",bus:J}),ge=new(Sa()).ActorHttpInvalidateListenable({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-context-preprocess-query-source-identify/^4.0.0/components/ActorContextPreprocessQuerySourceIdentify.jsonld#IActorContextPreprocessQuerySourceIdentifyArgs_default_invalidator",bus:ne,busFailMessage:"HTTP invalidation failed: none of the configured actors were able to invalidate ${action.url}"}),Qe=new(BQ()).MediatorAll({name:"urn:comunica:default:http-invalidate/mediators#main",bus:ne}),je=new(Sa()).ActorHttpInvalidateListenable({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-rdf-update-quads-hypermedia/^4.0.0/components/ActorRdfUpdateQuadsHypermedia.jsonld#IActorRdfUpdateQuadsHypermediaArgs_default_invalidator",bus:ne,busFailMessage:"HTTP invalidation failed: none of the configured actors were able to invalidate ${action.url}"}),$e=new(Sa()).ActorHttpInvalidateListenable({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-http-retry/^4.0.0/components/ActorHttpRetry.jsonld#IActorHttpQueueArgs_default_invalidator",bus:ne,busFailMessage:"HTTP invalidation failed: none of the configured actors were able to invalidate ${action.url}"}),at=new(Sa()).ActorHttpInvalidateListenable({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-query-operation-service/^4.0.0/components/ActorQueryOperationService.jsonld#IActorQueryOperationServiceArgs_default_invalidator",bus:ne,busFailMessage:"HTTP invalidation failed: none of the configured actors were able to invalidate ${action.url}"}),fe=new(Sa()).ActorHttpInvalidateListenable({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-query-result-serialize-sparql-json/^4.0.0/components/ActionObserverHttp.jsonld#IActionObserverHttpArgs_default_invalidator",bus:ne,busFailMessage:"HTTP invalidation failed: none of the configured actors were able to invalidate ${action.url}"}),Te=new(Sa()).ActorHttpInvalidateListenable({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-query-result-serialize-stats/^4.0.0/components/ActionObserverHttp.jsonld#IActionObserverHttpArgs_default_invalidator",bus:ne,busFailMessage:"HTTP invalidation failed: none of the configured actors were able to invalidate ${action.url}"}),qe=new(vn()).MediatorCombineUnion({field:"mergeHandlers",name:"urn:comunica:default:merge-bindings-context/mediators#main",bus:W});new(UQ()).ActorRdfMetadataExtractTraverse({mediatorExtractLinks:pe,name:"urn:comunica:default:rdf-metadata-extract/actors#traverse",bus:w,busFailMessage:"Metadata extraction failed: none of the configured actors were able to extract metadata from ${action.url}"}),new(QQ()).ActorRdfJoinSingle({mediatorJoinSelectivity:ae,name:"urn:comunica:default:rdf-join/actors#inner-single",bus:G,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}"});const it=new(HQ()).ActorRdfJoinSymmetricHash({mediatorHashBindings:Ae,mediatorJoinSelectivity:ae,name:"urn:comunica:default:rdf-join/actors#inner-symmetric-hash",bus:G,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}"}),Me=new(kQ()).ActorRdfJoinNestedLoop({mediatorJoinSelectivity:ae,name:"urn:comunica:default:rdf-join/actors#inner-nested-loop",bus:G,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}"});new(s1()).ActorRdfJoinMinusHash({canHandleUndefs:!1,mediatorJoinSelectivity:ae,name:"urn:comunica:default:rdf-join/actors#minus-hash-def",bus:G,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}"}),new(s1()).ActorRdfJoinMinusHash({canHandleUndefs:!0,mediatorJoinSelectivity:ae,name:"urn:comunica:default:rdf-join/actors#minus-hash-undef",bus:G,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}"}),new(_u()).ActorRdfJoinOptionalHash({canHandleUndefs:!1,blocking:!1,mediatorJoinSelectivity:ae,name:"urn:comunica:default:rdf-join/actors#optional-hash-def-nonblocking",bus:G,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}"}),new(_u()).ActorRdfJoinOptionalHash({canHandleUndefs:!1,blocking:!0,mediatorJoinSelectivity:ae,name:"urn:comunica:default:rdf-join/actors#optional-hash-def-blocking",bus:G,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}"}),new(_u()).ActorRdfJoinOptionalHash({canHandleUndefs:!0,blocking:!1,mediatorJoinSelectivity:ae,name:"urn:comunica:default:rdf-join/actors#optional-hash-undef-nonblocking",bus:G,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}"}),new(_u()).ActorRdfJoinOptionalHash({canHandleUndefs:!0,blocking:!0,mediatorJoinSelectivity:ae,name:"urn:comunica:default:rdf-join/actors#optional-hash-undef-blocking",bus:G,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}"}),new(zQ()).ActorRdfJoinOptionalNestedLoop({mediatorJoinSelectivity:ae,name:"urn:comunica:default:rdf-join/actors#optional-nested-loop",bus:G,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}"}),new(GQ()).ActorDereferenceRdfParse({mediatorDereference:Z,mediatorParse:Ce,mediatorParseMediatypes:He,mediaMappings:{htm:"text/html",html:"text/html",json:"application/json",jsonld:"application/ld+json",n3:"text/n3",nq:"application/n-quads",nquads:"application/n-quads",nt:"application/n-triples",ntriples:"application/n-triples",owl:"application/rdf+xml",rdf:"application/rdf+xml",rdfxml:"application/rdf+xml",shaclc:"text/shaclc",shaclce:"text/shaclc-ext",shc:"text/shaclc",shce:"text/shaclc-ext",svg:"image/svg+xml",svgz:"image/svg+xml",trig:"application/trig",ttl:"text/turtle",turtle:"text/turtle",xht:"application/xhtml+xml",xhtml:"application/xhtml+xml",xml:"application/xml"},name:"urn:comunica:default:dereference-rdf/actors#parse",bus:p,busFailMessage:"RDF dereferencing failed: none of the configured parsers were able to handle the media type ${action.handle.mediaType} for ${action.handle.url}"}),new($Q()).ActorRdfParseHtmlScript({mediatorRdfParseMediatypes:He,mediatorRdfParseHandle:Ce,name:"urn:comunica:default:rdf-parse-html/actors#script",bus:E,busFailMessage:"RDF HTML parsing failed: none of the configured parsers were able to parse RDF in HTML"}),new(XQ()).ActorQueryResultSerializeRdf({mediatorRdfSerialize:Ye,mediatorMediaTypeCombiner:oe,mediatorMediaTypeFormatCombiner:X,name:"urn:comunica:default:query-result-serialize/actors#rdf",bus:c,busFailMessage:"Query result serialization failed: none of the configured actors were able to serialize for type ${action.handle.type}"}),new(KQ()).ActorBindingsAggregatorFactoryCount({mediatorExpressionEvaluatorFactory:ye,name:"urn:comunica:default:bindings-aggregator-factory/actors#count",bus:O,busFailMessage:"Creation of Aggregator failed: none of the configured actors were able to handle ${action.expr.aggregator}"}),new(JQ()).ActorBindingsAggregatorFactoryGroupConcat({mediatorExpressionEvaluatorFactory:ye,name:"urn:comunica:default:bindings-aggregator-factory/actors#group-concat",bus:O,busFailMessage:"Creation of Aggregator failed: none of the configured actors were able to handle ${action.expr.aggregator}"}),new(WQ()).ActorBindingsAggregatorFactorySample({mediatorExpressionEvaluatorFactory:ye,name:"urn:comunica:default:bindings-aggregator-factory/actors#sample",bus:O,busFailMessage:"Creation of Aggregator failed: none of the configured actors were able to handle ${action.expr.aggregator}"}),new(YQ()).ActorBindingsAggregatorFactoryWildcardCount({mediatorExpressionEvaluatorFactory:ye,name:"urn:comunica:default:bindings-aggregator-factory/actors#wildcard-count",bus:O,busFailMessage:"Creation of Aggregator failed: none of the configured actors were able to handle ${action.expr.aggregator}"}),new(ZQ()).ActorBindingsAggregatorFactoryAverage({mediatorFunctionFactory:re,mediatorExpressionEvaluatorFactory:ye,name:"urn:comunica:default:bindings-aggregator-factory/actors#average",bus:O,busFailMessage:"Creation of Aggregator failed: none of the configured actors were able to handle ${action.expr.aggregator}"}),new(eV()).ActorBindingsAggregatorFactorySum({mediatorFunctionFactory:re,mediatorExpressionEvaluatorFactory:ye,name:"urn:comunica:default:bindings-aggregator-factory/actors#sum",bus:O,busFailMessage:"Creation of Aggregator failed: none of the configured actors were able to handle ${action.expr.aggregator}"}),new(tV()).ActorFunctionFactoryExpressionIn({mediatorFunctionFactory:re,name:"urn:comunica:default:function-factory/actors#expression-function-in",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(rV()).ActorFunctionFactoryExpressionNotIn({mediatorFunctionFactory:re,name:"urn:comunica:default:function-factory/actors#expression-function-not-in",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(nV()).ActorFunctionFactoryTermGreaterThanEqual({mediatorFunctionFactory:re,name:"urn:comunica:default:function-factory/actors#term-function-greater-than-equal",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(aV()).ActorFunctionFactoryTermGreaterThan({mediatorFunctionFactory:re,name:"urn:comunica:default:function-factory/actors#term-function-greater-than",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(iV()).ActorFunctionFactoryTermInequality({mediatorFunctionFactory:re,name:"urn:comunica:default:function-factory/actors#term-function-inequality",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(uV()).ActorFunctionFactoryTermLesserThan({mediatorFunctionFactory:re,name:"urn:comunica:default:function-factory/actors#term-function-lesser-than",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(oV()).ActorFunctionFactoryTermLesserThanEqual({mediatorFunctionFactory:re,name:"urn:comunica:default:function-factory/actors#term-function-lesser-than-equal",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(sV()).ActorHttpWayback({mediatorHttp:Le,name:"urn:comunica:default:http/actors#wayback",bus:C,busFailMessage:"HTTP request failed: none of the configured actors were able to handle ${action.input}"}),new(dV()).ActorRdfParseJsonLd({mediatorHttp:Pe,mediaTypePriorities:{"application/json":.15,"application/ld+json":1},mediaTypeFormats:{"application/json":"http://www.w3.org/ns/formats/JSON-LD","application/ld+json":"http://www.w3.org/ns/formats/JSON-LD"},priorityScale:.9,name:"urn:comunica:default:rdf-parse/actors#jsonld",bus:T,busFailMessage:"RDF parsing failed: none of the configured parsers were able to handle the media type ${action.handle.mediaType} for ${action.handle.url}"}),new(pV()).ActorRdfUpdateHypermediaPatchSparqlUpdate({mediatorHttp:Pe,name:"urn:comunica:default:rdf-update-hypermedia/actors#patch-sparql-update",bus:j,busFailMessage:"RDF hypermedia updating failed: none of the configured actors were able to handle an update for ${action.url}"}),new(hV()).ActorRdfUpdateHypermediaPutLdp({mediatorHttp:Pe,mediatorRdfSerializeMediatypes:oe,mediatorRdfSerialize:Ye,name:"urn:comunica:default:rdf-update-hypermedia/actors#put-ldp",bus:j,busFailMessage:"RDF hypermedia updating failed: none of the configured actors were able to handle an update for ${action.url}"}),new(bV()).ActorRdfUpdateHypermediaSparql({mediatorHttp:Pe,checkUrlSuffixSparql:!0,checkUrlSuffixUpdate:!0,name:"urn:comunica:default:rdf-update-hypermedia/actors#sparql",bus:j,busFailMessage:"RDF hypermedia updating failed: none of the configured actors were able to handle an update for ${action.url}"}),new(gV()).ActorQueryOperationAsk({mediatorQueryOperation:Fe,name:"urn:comunica:default:query-operation/actors#ask",bus:B,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(vV()).ActorQueryOperationBgpJoin({mediatorQueryOperation:Fe,name:"urn:comunica:default:query-operation/actors#bgp",bus:B,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(NP()).ActorQueryOperationConstruct({mediatorQueryOperation:Fe,name:"urn:comunica:default:query-operation/actors#construct",bus:B,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(_V()).ActorQueryOperationDistinctHash({mediatorHashBindings:Ae,mediatorHashQuads:Ne,mediatorQueryOperation:Fe,name:"urn:comunica:default:query-operation/actors#distinct",bus:B,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(TV()).ActorQueryOperationExtend({mediatorExpressionEvaluatorFactory:ye,mediatorQueryOperation:Fe,name:"urn:comunica:default:query-operation/actors#extend",bus:B,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(wV()).ActorQueryOperationFilter({mediatorExpressionEvaluatorFactory:ye,mediatorQueryOperation:Fe,name:"urn:comunica:default:query-operation/actors#filter",bus:B,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(SV()).ActorQueryOperationFromQuad({mediatorQueryOperation:Fe,name:"urn:comunica:default:query-operation/actors#from",bus:B,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(EV()).ActorQueryOperationProject({mediatorQueryOperation:Fe,name:"urn:comunica:default:query-operation/actors#project",bus:B,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(AV()).ActorQueryOperationReducedHash({mediatorHashBindings:Ae,cacheSize:100,mediatorQueryOperation:Fe,name:"urn:comunica:default:query-operation/actors#reduced",bus:B,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(OV()).ActorQueryOperationSlice({mediatorQueryOperation:Fe,name:"urn:comunica:default:query-operation/actors#slice",bus:B,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(IP()).ActorQueryOperationUnion({mediatorRdfMetadataAccumulate:Se,mediatorQueryOperation:Fe,name:"urn:comunica:default:query-operation/actors#union",bus:B,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(xV()).ActorQueryOperationPathAlt({mediatorRdfMetadataAccumulate:Se,mediatorQueryOperation:Fe,name:"urn:comunica:default:query-operation/actors#path-alt",bus:B,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(RV()).ActorQueryOperationPathInv({mediatorQueryOperation:Fe,name:"urn:comunica:default:query-operation/actors#path-inv",bus:B,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(NV()).ActorQueryOperationPathLink({mediatorQueryOperation:Fe,name:"urn:comunica:default:query-operation/actors#path-link",bus:B,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(IV()).ActorQueryOperationPathNps({mediatorQueryOperation:Fe,name:"urn:comunica:default:query-operation/actors#path-nps",bus:B,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(DV()).ActorQueryOperationClear({mediatorUpdateQuads:he,mediatorQueryOperation:Fe,name:"urn:comunica:default:query-operation/actors#update-clear",bus:B,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(FV()).ActorQueryOperationUpdateCompositeUpdate({mediatorQueryOperation:Fe,name:"urn:comunica:default:query-operation/actors#update-composite",bus:B,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(PV()).ActorQueryOperationCreate({mediatorUpdateQuads:he,mediatorQueryOperation:Fe,name:"urn:comunica:default:query-operation/actors#update-create",bus:B,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(jV()).ActorQueryOperationDrop({mediatorUpdateQuads:he,mediatorQueryOperation:Fe,name:"urn:comunica:default:query-operation/actors#update-drop",bus:B,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(MV()).ActorQueryOperationLoad({mediatorUpdateQuads:he,mediatorQuerySourceIdentify:k,mediatorQueryOperation:Fe,name:"urn:comunica:default:query-operation/actors#update-load",bus:B,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(qV()).ActorQuerySourceIdentifySerialized({mediatorRdfParse:Ce,mediatorQuerySourceIdentify:k,name:"urn:comunica:default:query-source-identify/actors#serialized",bus:U,busFailMessage:"Query source identification failed: none of the configured actors were able to identify ${action.querySourceUnidentified.value}"}),new(BV()).ActorQueryOperationJoin({mediatorJoin:K,mediatorQueryOperation:Fe,name:"urn:comunica:default:query-operation/actors#join",bus:B,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(UV()).ActorQueryOperationLeftJoin({mediatorJoin:K,mediatorQueryOperation:Fe,name:"urn:comunica:default:query-operation/actors#leftjoin",bus:B,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(QV()).ActorQueryOperationMinus({mediatorJoin:K,mediatorQueryOperation:Fe,name:"urn:comunica:default:query-operation/actors#minus",bus:B,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(VV()).ActorQueryOperationPathSeq({mediatorJoin:K,mediatorQueryOperation:Fe,name:"urn:comunica:default:query-operation/actors#path-seq",bus:B,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"});const st=new(HV()).ActorRdfJoinMultiSmallest({mediatorJoinEntriesSort:ue,mediatorJoin:K,mediatorJoinSelectivity:ae,name:"urn:comunica:default:rdf-join/actors#inner-multi-smallest",bus:G,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}"});new(kV()).ActorBindingsAggregatorFactoryMax({mediatorTermComparatorFactory:de,mediatorExpressionEvaluatorFactory:ye,name:"urn:comunica:default:bindings-aggregator-factory/actors#max",bus:O,busFailMessage:"Creation of Aggregator failed: none of the configured actors were able to handle ${action.expr.aggregator}"}),new(zV()).ActorBindingsAggregatorFactoryMin({mediatorTermComparatorFactory:de,mediatorExpressionEvaluatorFactory:ye,name:"urn:comunica:default:bindings-aggregator-factory/actors#min",bus:O,busFailMessage:"Creation of Aggregator failed: none of the configured actors were able to handle ${action.expr.aggregator}"}),new(GV()).ActorQueryOperationOrderBy({mediatorExpressionEvaluatorFactory:ye,mediatorTermComparatorFactory:de,mediatorQueryOperation:Fe,name:"urn:comunica:default:query-operation/actors#orderby",bus:B,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(K3e()).ActorRdfResolveHypermediaLinksQueueWrapperLimitDepth({limit:3,mediatorRdfResolveHypermediaLinksQueue:se,name:"urn:comunica:default:rdf-resolve-hypermedia-links-queue/actors#wrapper-limit-depth",bus:a,busFailMessage:"Link queue creation failed: none of the configured actors were able to create a link queue starting from ${action.firstUrl}",beforeActors:[ee]});const tt=new($V()).ActorOptimizeQueryOperationFilterPushdown({aggressivePushdown:!1,maxIterations:10,splitConjunctive:!0,mergeConjunctive:!0,pushIntoLeftJoins:!0,pushEqualityIntoPatterns:!0,name:"urn:comunica:default:optimize-query-operation/actors#filter-pushdown",bus:l,busFailMessage:"Query optimization failed: none of the configured actors were able to optimize",beforeActors:[Oe]});new(XV()).ActorDereferenceHttp({mediatorHttp:Pe,maxAcceptHeaderLength:1024,maxAcceptHeaderLengthBrowser:128,name:"urn:comunica:default:dereference/actors#http",bus:f,busFailMessage:"Dereferencing failed: none of the configured actors were able to handle ${action.url}",beforeActors:[H]});const Ot=new(KV()).ActorHttpInruptSolidClientAuthn({mediatorHttp:Pe,name:"urn:comunica:default:http/actors#inrupt-solid-client-authn",bus:P,busFailMessage:"HTTP request failed: none of the configured actors were able to handle ${action.input}",beforeActors:[Ie]});new(JV()).ActorContextPreprocessQuerySourceIdentify({cacheSize:100,httpInvalidator:ge,mediatorQuerySourceIdentify:k,mediatorContextPreprocess:Ee,name:"urn:comunica:default:context-preprocess/actors#query-source-identify",bus:t,busFailMessage:"Context preprocessing failed",beforeActors:[le]});const yt=new(Tb()).ActorInitQuery({mediatorQueryProcess:R,mediatorQueryResultSerialize:v,mediatorQueryResultSerializeMediaTypeCombiner:F,mediatorQueryResultSerializeMediaTypeFormatCombiner:D,mediatorHttpInvalidate:Qe,defaultQueryInputFormat:"sparql",allowNoSources:!0,name:"urn:comunica:default:init/actors#query",bus:u,busFailMessage:"Initialization failed: none of the configured actors were to initialize"});new(WV()).ActorRdfUpdateQuadsHypermedia({cacheSize:100,httpInvalidator:je,mediatorDereferenceRdf:$,mediatorMetadata:ce,mediatorMetadataExtract:xe,mediatorRdfUpdateHypermedia:Y,name:"urn:comunica:default:rdf-update-quads/actors#hypermedia",bus:q,busFailMessage:"RDF updating failed: none of the configured actors were able to handle an update"});const bt=new(c1()).ActionObserverHttp({httpInvalidator:fe,observedActors:["urn:comunica:default:http/actors#fetch"],name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-query-result-serialize-sparql-json/^4.0.0/components/ActorQueryResultSerializeSparqlJson.jsonld#ActorQueryResultSerializeSparqlJson_default_observer",bus:P}),Tt=new(l1()).ActionObserverHttp({httpInvalidator:Te,observedActors:["urn:comunica:default:http/actors#fetch"],name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-query-result-serialize-stats/^4.0.0/components/ActorQueryResultSerializeStats.jsonld#ActorQueryResultSerializeStats_default_observer",bus:P});new(ZV()).ActorQuerySourceIdentifyHypermediaQpf({mediatorMetadata:ce,mediatorMetadataExtract:xe,mediatorDereferenceRdf:$,mediatorMergeBindingsContext:qe,subjectUri:"http://www.w3.org/1999/02/22-rdf-syntax-ns#subject",predicateUri:"http://www.w3.org/1999/02/22-rdf-syntax-ns#predicate",objectUri:"http://www.w3.org/1999/02/22-rdf-syntax-ns#object",graphUri:"http://www.w3.org/ns/sparql-service-description#graph",name:"urn:comunica:default:query-source-identify-hypermedia/actors#qpf",bus:d,busFailMessage:"Query source hypermedia identification failed: none of the configured actors were able to identify ${action.url}"}),new(eH()).ActorQuerySourceIdentifyHypermediaSparql({mediatorHttp:Pe,mediatorMergeBindingsContext:qe,checkUrlSuffix:!0,forceHttpGet:!1,cacheSize:1024,forceSourceType:!1,bindMethod:"values",countTimeout:3e3,cardinalityCountQueries:!0,cardinalityEstimateConstruction:!1,forceGetIfUrlLengthBelow:600,name:"urn:comunica:default:query-source-identify-hypermedia/actors#sparql",bus:d,busFailMessage:"Query source hypermedia identification failed: none of the configured actors were able to identify ${action.url}"}),new(nH()).ActorQuerySourceIdentifyHypermediaNone({mediatorMergeBindingsContext:qe,name:"urn:comunica:default:query-source-identify-hypermedia/actors#none",bus:d,busFailMessage:"Query source hypermedia identification failed: none of the configured actors were able to identify ${action.url}"}),new(aH()).ActorExpressionEvaluatorFactoryDefault({mediatorQueryOperation:Fe,mediatorFunctionFactory:re,mediatorMergeBindingsContext:qe,name:"urn:comunica:default:expression-evaluator-factory/actors#default",bus:I,busFailMessage:"Creation of Expression Evaluator failed"}),new(iH()).ActorQueryOperationGroup({mediatorMergeBindingsContext:qe,mediatorBindingsAggregatorFactory:ve,mediatorQueryOperation:Fe,name:"urn:comunica:default:query-operation/actors#group",bus:B,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(uH()).ActorQueryOperationNop({mediatorMergeBindingsContext:qe,mediatorQueryOperation:Fe,name:"urn:comunica:default:query-operation/actors#nop",bus:B,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(oH()).ActorQueryOperationService({forceSparqlEndpoint:!1,mediatorMergeBindingsContext:qe,mediatorQuerySourceIdentify:k,httpInvalidator:at,cacheSize:32,mediatorQueryOperation:Fe,name:"urn:comunica:default:query-operation/actors#service",bus:B,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(sH()).ActorQueryOperationValues({mediatorMergeBindingsContext:qe,name:"urn:comunica:default:query-operation/actors#values",bus:B,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(cH()).ActorQueryOperationPathOneOrMore({mediatorMergeBindingsContext:qe,mediatorQueryOperation:Fe,name:"urn:comunica:default:query-operation/actors#path-one-or-more",bus:B,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(lH()).ActorQueryOperationPathZeroOrMore({mediatorMergeBindingsContext:qe,mediatorQueryOperation:Fe,name:"urn:comunica:default:query-operation/actors#path-zero-or-more",bus:B,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(dH()).ActorQueryOperationPathZeroOrOne({mediatorMergeBindingsContext:qe,mediatorQueryOperation:Fe,name:"urn:comunica:default:query-operation/actors#path-zero-or-one",bus:B,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(fH()).ActorQueryOperationUpdateDeleteInsert({mediatorUpdateQuads:he,mediatorMergeBindingsContext:qe,mediatorQueryOperation:Fe,name:"urn:comunica:default:query-operation/actors#update-delete-insert",bus:B,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"});const xt=new(pH()).ActorQueryProcessSequential({mediatorContextPreprocess:Ee,mediatorQueryParse:te,mediatorOptimizeQueryOperation:be,mediatorQueryOperation:Fe,mediatorMergeBindingsContext:qe,name:"urn:comunica:default:query-process/actors#sequential",bus:V,busFailMessage:'Query processing failed: none of the configured actor were process to the query "${action.query}"'});new(yH()).ActorQuerySourceIdentifyHypermedia({cacheSize:2048,maxIterators:64,aggregateTraversalStore:!0,emitPartialCardinalities:!1,mediatorDereferenceRdf:$,mediatorMetadata:ce,mediatorMetadataExtract:xe,mediatorMetadataAccumulate:Se,mediatorQuerySourceIdentifyHypermedia:L,mediatorRdfResolveHypermediaLinks:Je,mediatorRdfResolveHypermediaLinksQueue:se,mediatorMergeBindingsContext:qe,name:"urn:comunica:default:query-source-identify/actors#hypermedia",bus:U,busFailMessage:"Query source identification failed: none of the configured actors were able to identify ${action.querySourceUnidentified.value}"}),new(uN()).ActorQuerySourceIdentifyRdfJs({mediatorMergeBindingsContext:qe,name:"urn:comunica:default:query-source-identify/actors#rdfjs",bus:U,busFailMessage:"Query source identification failed: none of the configured actors were able to identify ${action.querySourceUnidentified.value}"}),new(mH()).ActorRdfJoinNone({mediatorMergeBindingsContext:qe,mediatorJoinSelectivity:ae,name:"urn:comunica:default:rdf-join/actors#inner-none",bus:G,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}"}),new(bH()).ActorRdfJoinOptionalBind({bindOrder:"depth-first",selectivityModifier:1e-6,mediatorQueryOperation:Fe,mediatorMergeBindingsContext:qe,mediatorJoinSelectivity:ae,name:"urn:comunica:default:rdf-join/actors#optional-bind",bus:G,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}"}),new(gH()).ActorTermComparatorFactoryExpressionEvaluator({mediatorQueryOperation:Fe,mediatorFunctionFactory:re,mediatorMergeBindingsContext:qe,name:"urn:comunica:default:term-comparator-factory/actors#expression-evaluator",bus:J,busFailMessage:"Creation of term comparator failed"});const wt=new(jP()).ActorRdfJoinMultiBind({bindOrder:"breadth-first",selectivityModifier:1e-4,minMaxCardinalityRatio:60,mediatorJoinEntriesSort:ue,mediatorQueryOperation:Fe,mediatorMergeBindingsContext:qe,mediatorJoinSelectivity:ae,name:"urn:comunica:default:rdf-join/actors#inner-multi-bind",bus:G,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}",beforeActors:[st,it,Me]});new(vH()).ActorRdfJoinMultiSmallestFilterBindings({selectivityModifier:1e-4,blockSize:64,mediatorJoinEntriesSort:ue,mediatorJoin:K,mediatorJoinSelectivity:ae,name:"urn:comunica:default:rdf-join/actors#inner-multi-smallest-filter-bindings",bus:G,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}",beforeActors:[st,it,Me]}),new(wH()).ActorExtractLinksSolidTypeIndex({typeIndexPredicates:["http://www.w3.org/ns/solid/terms#publicTypeIndex","http://www.w3.org/ns/solid/terms#privateTypeIndex"],onlyMatchingTypes:!0,inference:!1,actorInitQuery:yt,mediatorDereferenceRdf:$,name:"urn:comunica:default:extract-links/actors#solid-type-index",bus:r}),new(c1()).ActorQueryResultSerializeSparqlJson({emitMetadata:!0,httpObserver:bt,mediaTypePriorities:{"application/sparql-results+json":.8},mediaTypeFormats:{"application/sparql-results+json":"http://www.w3.org/ns/formats/SPARQL_Results_JSON"},name:"urn:comunica:default:query-result-serialize/actors#sparql-json",bus:c,busFailMessage:"Query result serialization failed: none of the configured actors were able to serialize for type ${action.handle.type}"}),new(l1()).ActorQueryResultSerializeStats({httpObserver:Tt,mediaTypePriorities:{stats:.5},mediaTypeFormats:{stats:"https://comunica.linkeddatafragments.org/#results_stats"},name:"urn:comunica:default:query-result-serialize/actors#stats",bus:c,busFailMessage:"Query result serialization failed: none of the configured actors were able to serialize for type ${action.handle.type}"}),new(SH()).ActorQueryProcessExplainParsed({queryProcessor:xt,name:"urn:comunica:default:query-process/actors#explain-parsed",bus:V,busFailMessage:'Query processing failed: none of the configured actor were process to the query "${action.query}"'}),new(EH()).ActorQueryProcessExplainLogical({queryProcessor:xt,name:"urn:comunica:default:query-process/actors#explain-logical",bus:V,busFailMessage:'Query processing failed: none of the configured actor were process to the query "${action.query}"'}),new(AH()).ActorQueryProcessExplainPhysical({queryProcessor:xt,name:"urn:comunica:default:query-process/actors#explain-physical",bus:V,busFailMessage:'Query processing failed: none of the configured actor were process to the query "${action.query}"'});const gt=new(OH()).ActorOptimizeQueryOperationPruneEmptySourceOperations({useAskIfSupported:!1,name:"urn:comunica:default:optimize-query-operation/actors#prune-empty-source-operations",bus:l,busFailMessage:"Query optimization failed: none of the configured actors were able to optimize",beforeActors:[tt]}),dr=new(xH()).ActorHttpProxy({mediatorHttp:Pe,name:"urn:comunica:default:http/actors#proxy",bus:P,busFailMessage:"HTTP request failed: none of the configured actors were able to handle ${action.input}",beforeActors:[Ie,Ot]});new(RH()).ActorRdfJoinMultiBindSource({selectivityModifier:1e-4,blockSize:16,mediatorJoinEntriesSort:ue,mediatorJoinSelectivity:ae,name:"urn:comunica:default:rdf-join/actors#inner-multi-bind-source",bus:G,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}",beforeActors:[st,wt,it,Me]});const ht=new(NH()).ActorOptimizeQueryOperationJoinConnected({name:"urn:comunica:default:optimize-query-operation/actors#join-connected",bus:l,busFailMessage:"Query optimization failed: none of the configured actors were able to optimize",beforeActors:[gt]});new(IH()).ActorHttpRetry({mediatorHttp:Pe,httpInvalidator:$e,name:"urn:comunica:default:http/actors#retry",bus:P,busFailMessage:"HTTP request failed: none of the configured actors were able to handle ${action.input}",beforeActors:[dr]});const Re=new(DH()).ActorOptimizeQueryOperationBgpToJoin({name:"urn:comunica:default:optimize-query-operation/actors#bgp-to-join",bus:l,busFailMessage:"Query optimization failed: none of the configured actors were able to optimize",beforeActors:[ht]}),Ve=new(FH()).ActorOptimizeQueryOperationJoinBgp({name:"urn:comunica:default:optimize-query-operation/actors#join-bgp",bus:l,busFailMessage:"Query optimization failed: none of the configured actors were able to optimize",beforeActors:[Re]}),Ge=new(PH()).ActorOptimizeQueryOperationAssignSourcesExhaustive({name:"urn:comunica:default:optimize-query-operation/actors#assign-sources-exhaustive",bus:l,busFailMessage:"Query optimization failed: none of the configured actors were able to optimize",beforeActors:[Ve]});return new(MH()).ActorOptimizeQueryOperationSetSeedSourcesQuadpatternIris({mediatorQuerySourceIdentify:k,extractSubjects:!0,extractPredicates:!1,extractObjects:!0,extractGraphs:!0,extractVocabIris:!1,name:"urn:comunica:default:optimize-query-operation/actors#set-seed-sources-quadpattern-iris",bus:l,busFailMessage:"Query optimization failed: none of the configured actors were able to optimize",beforeActors:[Ge]}),new(CH()).ActorOptimizeQueryOperationDescribeToConstructsSubject({name:"urn:comunica:default:optimize-query-operation/actors#describe-to-constructs-subject",bus:l,busFailMessage:"Query optimization failed: none of the configured actors were able to optimize",beforeActors:[Ge]}),yt}),p9}var Dbe;function A7e(){if(Dbe)return Qv;Dbe=1,Object.defineProperty(Qv,"__esModule",{value:!0}),Qv.QueryEngine=void 0;const n=Tb(),e=E7e();class u extends n.QueryEngineBase{constructor(r=e()){super(r)}}return Qv.QueryEngine=u,Qv}var Fbe;function O7e(){return Fbe||(Fbe=1,(function(n){var e=sd&&sd.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=sd&&sd.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(A7e(),n)})(sd)),sd}var x7e=O7e(),Um={},O6={},h9,Pbe;function R7e(){return Pbe||(Pbe=1,h9=function(n){const e=new(Aq()).LoggerVoid,u=new(De()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-init/^4.0.0/components/ActorInit.jsonld#ActorInit_default_bus"}),a=new(De()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-resolve-hypermedia-links-queue/^4.0.0/components/ActorRdfResolveHypermediaLinksQueue.jsonld#ActorRdfResolveHypermediaLinksQueue_default_bus"}),r=new(De()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-extract-links/^0.0.0/components/ActorExtractLinks.jsonld#ActorExtractLinks_default_bus"}),t=new(De()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-context-preprocess/^4.0.0/components/ActorContextPreprocess.jsonld#ActorContextPreprocess_default_bus"}),i=new(De()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-hash-bindings/^4.0.0/components/ActorHashBindings.jsonld#ActorHashBindings_default_bus"}),o=new(De()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-hash-quads/^4.0.0/components/ActorHashQuads.jsonld#ActorHashQuads_default_bus"}),l=new(De()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-optimize-query-operation/^4.0.0/components/ActorOptimizeQueryOperation.jsonld#ActorOptimizeQueryOperation_default_bus"}),s=new(De()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-query-parse/^4.0.0/components/ActorQueryParse.jsonld#ActorQueryParse_default_bus"}),c=new(De()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-query-result-serialize/^4.0.0/components/ActorQueryResultSerialize.jsonld#ActorQueryResultSerialize_default_bus"}),d=new(De()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-query-source-identify-hypermedia/^4.0.0/components/ActorQuerySourceIdentifyHypermedia.jsonld#ActorQuerySourceIdentifyHypermedia_default_bus"}),f=new(De()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-dereference/^4.0.0/components/ActorDereference.jsonld#ActorDereference_default_bus"}),p=new(De()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-dereference-rdf/^4.0.0/components/ActorDereferenceRdf.jsonld#ActorDereferenceRdf_default_bus"}),h=new(De()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-join-entries-sort/^4.0.0/components/ActorRdfJoinEntriesSort.jsonld#ActorRdfJoinEntriesSort_default_bus"}),g=new(De()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-join-selectivity/^4.0.0/components/ActorRdfJoinSelectivity.jsonld#ActorRdfJoinSelectivity_default_bus"}),_=new(De()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-metadata/^4.0.0/components/ActorRdfMetadata.jsonld#ActorRdfMetadata_default_bus"}),m=new(De()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-metadata-accumulate/^4.0.0/components/ActorRdfMetadataAccumulate.jsonld#ActorRdfMetadataAccumulate_default_bus"}),w=new(De()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-metadata-extract/^4.0.0/components/ActorRdfMetadataExtract.jsonld#ActorRdfMetadataExtract_default_bus"}),T=new(De()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-parse/^4.0.0/components/ActorRdfParse.jsonld#ActorRdfParse_default_bus"}),E=new(De()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-parse-html/^4.0.0/components/ActorRdfParseHtml.jsonld#ActorRdfParseHtml_default_bus"}),S=new(De()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-resolve-hypermedia-links/^4.0.0/components/ActorRdfResolveHypermediaLinks.jsonld#ActorRdfResolveHypermediaLinks_default_bus"}),N=new(De()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-serialize/^4.0.0/components/ActorRdfSerialize.jsonld#ActorRdfSerialize_default_bus"}),j=new(De()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-update-hypermedia/^4.0.0/components/ActorRdfUpdateHypermedia.jsonld#ActorRdfUpdateHypermedia_default_bus"}),q=new(De()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-update-quads/^4.0.0/components/ActorRdfUpdateQuads.jsonld#ActorRdfUpdateQuads_default_bus"}),O=new(De()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-bindings-aggregator-factory/^4.0.0/components/ActorBindingsAggregatorFactory.jsonld#ActorBindingsAggregatorFactory_default_bus"}),I=new(De()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-expression-evaluator-factory/^4.0.0/components/ActorExpressionEvaluatorFactory.jsonld#ActorExpressionEvaluatorFactory_default_bus"}),A=new(We()).BusFunctionFactory({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-function-factory/^4.0.0/components/ActorFunctionFactory.jsonld#ActorFunctionFactory_default_bus"}),P=new(De()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-http/^4.0.0/components/ActorHttp.jsonld#ActorHttp_default_bus"}),C=new(De()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-http/^4.0.0/components/ActorHttp.jsonld#ActorHttp_fallback_bus"}),B=new(qr()).BusQueryOperation({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-query-operation/^4.0.0/components/ActorQueryOperation.jsonld#ActorQueryOperation_default_bus"}),V=new(De()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-query-process/^4.0.0/components/ActorQueryProcess.jsonld#ActorQueryProcess_default_bus"}),U=new(De()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-query-source-identify/^4.0.0/components/ActorQuerySourceIdentify.jsonld#ActorQuerySourceIdentify_default_bus"}),G=new(De()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-join/^4.0.0/components/ActorRdfJoin.jsonld#ActorRdfJoin_default_bus"}),J=new(De()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-term-comparator-factory/^4.0.0/components/ActorTermComparatorFactory.jsonld#ActorTermComparatorFactory_default_bus"}),ne=new(De()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-http-invalidate/^4.0.0/components/ActorHttpInvalidate.jsonld#ActorHttpInvalidate_default_bus"}),W=new(De()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-merge-bindings-context/^4.0.0/components/ActorMergeBindingsContext.jsonld#ActorMergeBindingsContext_default_bus"}),ee=new(Pq()).ActorRdfResolveHypermediaLinksQueueFifo({name:"urn:comunica:default:rdf-resolve-hypermedia-links-queue/actors#fifo",bus:a,busFailMessage:"Link queue creation failed: none of the configured actors were able to create a link queue starting from ${action.firstUrl}"}),se=new(Mt()).MediatorRace({name:"urn:comunica:default:rdf-resolve-hypermedia-links-queue/mediators#main",bus:a});new(Js()).ActorExtractLinksPredicates({checkSubject:!1,predicateRegexes:["http://www.w3.org/2000/01/rdf-schema#seeAlso","http://www.w3.org/2002/07/owl##sameAs","http://xmlns.com/foaf/0.1/isPrimaryTopicOf"],name:"urn:comunica:default:extract-links/actors#predicates-common",bus:r}),new(Js()).ActorExtractLinksPredicates({checkSubject:!0,predicateRegexes:["http://www.w3.org/ns/ldp#contains"],name:"urn:comunica:default:extract-links/actors#predicates-ldp",bus:r}),new(jq()).ActorExtractLinksHeaders({headersRegexes:['rel="describedby"'],name:"urn:comunica:default:extract-links/actors#links-describedby",bus:r}),new(Js()).ActorExtractLinksPredicates({checkSubject:!0,predicateRegexes:["http://www.w3.org/ns/pim/space#storage"],name:"urn:comunica:default:extract-links/actors#predicates-solid",bus:r}),new(Cq()).ActorExtractLinksQuadPatternQuery({onlyVariables:!0,name:"urn:comunica:default:extract-links/actors#quad-pattern-query",bus:r});const pe=new(Lq()).MediatorCombineArray({filterErrors:!0,fields:["links","linksConditional"],name:"urn:comunica:default:extract-links/mediators#main",bus:r});new(qq()).ActorContextPreprocessConvertShortcuts({contextKeyShortcuts:{baseIRI:"@comunica/actor-init-query:baseIRI",dataFactory:"@comunica/actor-init-query:dataFactory",datetime:"@comunica/actor-http-memento:datetime",destination:"@comunica/bus-rdf-update-quads:destination",distinctConstruct:"@comunica/actor-init-query:distinctConstruct",explain:"@comunica/actor-init-query:explain",extensionFunctionCreator:"@comunica/actor-init-query:extensionFunctionCreator",extensionFunctions:"@comunica/actor-init-query:extensionFunctions",fetch:"@comunica/bus-http:fetch",fileBaseIRI:"@comunica/actor-init-query:fileBaseIRI",functionArgumentsCache:"@comunica/actor-init-query:functionArgumentsCache",httpAuth:"@comunica/bus-http:auth",httpBodyTimeout:"@comunica/bus-http:http-body-timeout",httpIncludeCredentials:"@comunica/bus-http:include-credentials",httpProxyHandler:"@comunica/actor-http-proxy:httpProxyHandler",httpRetryCount:"@comunica/bus-http:http-retry-count",httpRetryDelayFallback:"@comunica/bus-http:http-retry-delay-fallback",httpRetryDelayLimit:"@comunica/bus-http:http-retry-delay-limit",httpTimeout:"@comunica/bus-http:http-timeout",initialBindings:"@comunica/actor-init-query:initialBindings",invalidateCache:"@comunica/actor-init-query:invalidateCache",lenient:"@comunica/actor-init-query:lenient",log:"@comunica/core:log",queryFormat:"@comunica/actor-init-query:queryFormat",queryTimestamp:"@comunica/actor-init-query:queryTimestamp",queryTimestampHighResolution:"@comunica/actor-init-query:queryTimestampHighResolution",readOnly:"@comunica/bus-query-operation:readOnly",recoverBrokenLinks:"@comunica/bus-http-wayback:recover-broken-links",sources:"@comunica/actor-init-query:querySourcesUnidentified",traverse:"@comunica/bus-query-source-identify:traverse",unionDefaultGraph:"@comunica/bus-query-operation:unionDefaultGraph"},name:"urn:comunica:default:context-preprocess/actors#convert-shortcuts",bus:t,busFailMessage:"Context preprocessing failed"}),new(Bq()).ActorContextPreprocessSetDefaults({logger:e,name:"urn:comunica:default:context-preprocess/actors#set-defaults",bus:t,busFailMessage:"Context preprocessing failed"}),new(Uq()).ActorContextPreprocessSourceToDestination({name:"urn:comunica:default:context-preprocess/actors#source-to-destination",bus:t,busFailMessage:"Context preprocessing failed"});const le=new(sP()).ActorContextPreprocessQuerySourceSkolemize({name:"urn:comunica:default:context-preprocess/actors#query-source-skolemize",bus:t,busFailMessage:"Context preprocessing failed"});new($q()).ActorContextPreprocessSetDefaultsLinkTraversal({name:"urn:comunica:default:context-preprocess/actors#set-defaults-link-traversal",bus:t,busFailMessage:"Context preprocessing failed"});const Ee=new(i1()).MediatorCombinePipeline({name:"urn:comunica:default:context-preprocess/mediators#main",bus:t});new(Xq()).ActorHashBindingsMurmur({name:"urn:comunica:default:hash-bindings/actors#murmur",bus:i,busFailMessage:"Failed to obtaining hash functions for bindings"});const Ae=new(Mt()).MediatorRace({name:"urn:comunica:default:hash-bindings/mediators#main",bus:i});new(Kq()).ActorHashQuadsMurmur({name:"urn:comunica:default:hash-quads/actors#murmur",bus:o,busFailMessage:"Failed to obtaining hash functions for quads"});const Ne=new(Mt()).MediatorRace({name:"urn:comunica:default:hash-quads/mediators#main",bus:o});new(Jq()).ActorOptimizeQueryOperationRewriteCopy({name:"urn:comunica:default:optimize-query-operation/actors#rewrite-copy",bus:l,busFailMessage:"Query optimization failed: none of the configured actors were able to optimize"}),new(Wq()).ActorOptimizeQueryOperationRewriteMove({name:"urn:comunica:default:optimize-query-operation/actors#rewrite-move",bus:l,busFailMessage:"Query optimization failed: none of the configured actors were able to optimize"}),new(Yq()).ActorOptimizeQueryOperationRewriteAdd({name:"urn:comunica:default:optimize-query-operation/actors#rewrite-add",bus:l,busFailMessage:"Query optimization failed: none of the configured actors were able to optimize"});const Oe=new(Zq()).ActorOptimizeQueryOperationGroupSources({name:"urn:comunica:default:optimize-query-operation/actors#group-sources",bus:l,busFailMessage:"Query optimization failed: none of the configured actors were able to optimize"});new(eB()).ActorOptimizeQueryOperationConstructDistinct({name:"urn:comunica:default:optimize-query-operation/actors#construct-distinct",bus:l,busFailMessage:"Query optimization failed: none of the configured actors were able to optimize"});const be=new(i1()).MediatorCombinePipeline({filterFailures:!0,name:"urn:comunica:default:optimize-query-operation/mediators#main",bus:l});new(tB()).ActorQueryParseSparql({prefixes:{dbpedia:"http://dbpedia.org/resource/","dbpedia-owl":"http://dbpedia.org/ontology/",dbpprop:"http://dbpedia.org/property/",dc:"http://purl.org/dc/terms/",dc11:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",foaf:"http://xmlns.com/foaf/0.1/",geo:"http://www.w3.org/2003/01/geo/wgs84_pos#",owl:"http://www.w3.org/2002/07/owl#",rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",schema:"http://schema.org/",skos:"http://www.w3.org/2008/05/skos#",xsd:"http://www.w3.org/2001/XMLSchema#"},name:"urn:comunica:default:query-parse/actors#sparql",bus:s,busFailMessage:'Query parsing failed: none of the configured parsers were able to the query "${action.query}"'}),new(lB()).ActorQueryParseGraphql({name:"urn:comunica:default:query-parse/actors#graphql",bus:s,busFailMessage:'Query parsing failed: none of the configured parsers were able to the query "${action.query}"'});const te=new(Mt()).MediatorRace({name:"urn:comunica:default:query-parse/mediators#main",bus:s});new(hB()).ActorQueryResultSerializeJson({mediaTypePriorities:{"application/json":1},mediaTypeFormats:{"application/json":"https://comunica.linkeddatafragments.org/#results_JSON"},name:"urn:comunica:default:query-result-serialize/actors#json",bus:c,busFailMessage:"Query result serialization failed: none of the configured actors were able to serialize for type ${action.handle.type}"}),new(yB()).ActorQueryResultSerializeSimple({mediaTypePriorities:{simple:.9},mediaTypeFormats:{simple:"https://comunica.linkeddatafragments.org/#results_simple"},name:"urn:comunica:default:query-result-serialize/actors#simple",bus:c,busFailMessage:"Query result serialization failed: none of the configured actors were able to serialize for type ${action.handle.type}"}),new(mB()).ActorQueryResultSerializeSparqlCsv({mediaTypePriorities:{"text/csv":.75},mediaTypeFormats:{"text/csv":"http://www.w3.org/ns/formats/SPARQL_Results_CSV"},name:"urn:comunica:default:query-result-serialize/actors#csv",bus:c,busFailMessage:"Query result serialization failed: none of the configured actors were able to serialize for type ${action.handle.type}"}),new(bB()).ActorQueryResultSerializeSparqlTsv({mediaTypePriorities:{"text/tab-separated-values":.75},mediaTypeFormats:{"text/tab-separated-values":"http://www.w3.org/ns/formats/SPARQL_Results_TSV"},name:"urn:comunica:default:query-result-serialize/actors#sparql-tsv",bus:c,busFailMessage:"Query result serialization failed: none of the configured actors were able to serialize for type ${action.handle.type}"}),new(gB()).ActorQueryResultSerializeSparqlXml({mediaTypePriorities:{"application/sparql-results+xml":.8},mediaTypeFormats:{"application/sparql-results+xml":"http://www.w3.org/ns/formats/SPARQL_Results_XML"},name:"urn:comunica:default:query-result-serialize/actors#sparql-xml",bus:c,busFailMessage:"Query result serialization failed: none of the configured actors were able to serialize for type ${action.handle.type}"}),new(vB()).ActorQueryResultSerializeTable({columnWidth:50,mediaTypePriorities:{table:.6},mediaTypeFormats:{table:"https://comunica.linkeddatafragments.org/#results_table"},name:"urn:comunica:default:query-result-serialize/actors#table",bus:c,busFailMessage:"Query result serialization failed: none of the configured actors were able to serialize for type ${action.handle.type}"}),new(TB()).ActorQueryResultSerializeTree({mediaTypePriorities:{tree:.5},mediaTypeFormats:{tree:"https://comunica.linkeddatafragments.org/#results_tree"},name:"urn:comunica:default:query-result-serialize/actors#tree",bus:c,busFailMessage:"Query result serialization failed: none of the configured actors were able to serialize for type ${action.handle.type}"});const v=new(Mt()).MediatorRace({name:"urn:comunica:default:query-result-serialize/mediators#serialize",bus:c}),F=new(vn()).MediatorCombineUnion({field:"mediaTypes",name:"urn:comunica:default:query-result-serialize/mediators#mediaType",bus:c}),D=new(vn()).MediatorCombineUnion({field:"mediaTypeFormats",name:"urn:comunica:default:query-result-serialize/mediators#mediaTypeFormat",bus:c}),L=new(oa()).MediatorNumber({field:"filterFactor",type:"max",ignoreFailures:!0,name:"urn:comunica:default:query-source-identify-hypermedia/mediators#main",bus:d}),H=new(EB()).ActorDereferenceFallback({name:"urn:comunica:default:dereference/actors#fallback",bus:f,busFailMessage:"Dereferencing failed: none of the configured actors were able to handle ${action.url}"}),Z=new(Mt()).MediatorRace({name:"urn:comunica:default:dereference/mediators#main",bus:f}),$=new(Mt()).MediatorRace({name:"urn:comunica:default:dereference-rdf/mediators#main",bus:p});new(OB()).ActorRdfJoinEntriesSortTraversalZeroKnowledge({name:"urn:comunica:default:rdf-join-entries-sort/actors#traversal-zero-knowledge",bus:h,busFailMessage:"Sorting join entries failed: none of the configured actors were able to sort"});const ue=new(oa()).MediatorNumber({field:"accuracy",type:"max",ignoreFailures:!0,name:"urn:comunica:default:rdf-join-entries-sort/mediators#main",bus:h});new(xB()).ActorRdfJoinSelectivityVariableCounting({name:"urn:comunica:default:rdf-join-selectivity/actors#variable-counting",bus:g,busFailMessage:"Determining join selectivity failed: none of the configured actors were able to calculate selectivities"});const ae=new(oa()).MediatorNumber({field:"accuracy",type:"max",ignoreFailures:!0,name:"urn:comunica:default:rdf-join-selectivity/mediators#main",bus:g});new(RB()).ActorRdfMetadataPrimaryTopic({metadataToData:!1,dataToMetadataOnInvalidMetadataGraph:!0,name:"urn:comunica:default:rdf-metadata/actors#primary-topic",bus:_,busFailMessage:"Metadata splicing failed: none of the configured actors were able to splice metadata from ${action.url}"}),new(NB()).ActorRdfMetadataAll({name:"urn:comunica:default:rdf-metadata/actors#all",bus:_,busFailMessage:"Metadata splicing failed: none of the configured actors were able to splice metadata from ${action.url}"});const ce=new(Mt()).MediatorRace({name:"urn:comunica:default:rdf-metadata/mediators#main",bus:_});new(DB()).ActorRdfMetadataAccumulateCardinality({name:"urn:comunica:default:rdf-metadata-accumulate/actors#cardinality",bus:m,busFailMessage:"Metadata accumulation failed: none of the configured actors were able to accumulate metadata in mode ${action.mode}"}),new(FB()).ActorRdfMetadataAccumulatePageSize({name:"urn:comunica:default:rdf-metadata-accumulate/actors#pagesize",bus:m,busFailMessage:"Metadata accumulation failed: none of the configured actors were able to accumulate metadata in mode ${action.mode}"}),new(PB()).ActorRdfMetadataAccumulateRequestTime({name:"urn:comunica:default:rdf-metadata-accumulate/actors#requesttime",bus:m,busFailMessage:"Metadata accumulation failed: none of the configured actors were able to accumulate metadata in mode ${action.mode}"});const Se=new(vn()).MediatorCombineUnion({field:"metadata",name:"urn:comunica:default:rdf-metadata-accumulate/mediators#main",bus:m});new(jB()).ActorRdfMetadataExtractHydraControls({name:"urn:comunica:default:rdf-metadata-extract/actors#hydra-controls",bus:w,busFailMessage:"Metadata extraction failed: none of the configured actors were able to extract metadata from ${action.url}"}),new(MB()).ActorRdfMetadataExtractHydraCount({predicates:["http://www.w3.org/ns/hydra/core#totalItems","http://rdfs.org/ns/void#triples"],name:"urn:comunica:default:rdf-metadata-extract/actors#hydra-count",bus:w,busFailMessage:"Metadata extraction failed: none of the configured actors were able to extract metadata from ${action.url}"}),new(CB()).ActorRdfMetadataExtractHydraPagesize({predicates:["http://www.w3.org/ns/hydra/core#itemsPerPage"],name:"urn:comunica:default:rdf-metadata-extract/actors#hydra-pagesize",bus:w,busFailMessage:"Metadata extraction failed: none of the configured actors were able to extract metadata from ${action.url}"}),new(LB()).ActorRdfMetadataExtractRequestTime({name:"urn:comunica:default:rdf-metadata-extract/actors#request-time",bus:w,busFailMessage:"Metadata extraction failed: none of the configured actors were able to extract metadata from ${action.url}"}),new(qB()).ActorRdfMetadataExtractAllowHttpMethods({name:"urn:comunica:default:rdf-metadata-extract/actors#allow-http-methods",bus:w,busFailMessage:"Metadata extraction failed: none of the configured actors were able to extract metadata from ${action.url}"}),new(BB()).ActorRdfMetadataExtractPutAccepted({name:"urn:comunica:default:rdf-metadata-extract/actors#put-accepted",bus:w,busFailMessage:"Metadata extraction failed: none of the configured actors were able to extract metadata from ${action.url}"}),new(UB()).ActorRdfMetadataExtractPatchSparqlUpdate({name:"urn:comunica:default:rdf-metadata-extract/actors#patch-sparql-update",bus:w,busFailMessage:"Metadata extraction failed: none of the configured actors were able to extract metadata from ${action.url}"}),new(QB()).ActorRdfMetadataExtractSparqlService({inferHttpsEndpoint:!0,name:"urn:comunica:default:rdf-metadata-extract/actors#sparql-service",bus:w,busFailMessage:"Metadata extraction failed: none of the configured actors were able to extract metadata from ${action.url}"});const xe=new(vn()).MediatorCombineUnion({filterFailures:!0,field:"metadata",name:"urn:comunica:default:rdf-metadata-extract/mediators#main",bus:w});new($B()).ActorRdfParseN3({mediaTypePriorities:{"application/n-quads":1,"application/n-triples":.8,"application/trig":.95,"text/n3":.35,"text/turtle":.6},mediaTypeFormats:{"application/n-quads":"http://www.w3.org/ns/formats/N-Quads","application/n-triples":"http://www.w3.org/ns/formats/N-Triples","application/trig":"http://www.w3.org/ns/formats/TriG","text/n3":"http://www.w3.org/ns/formats/N3","text/turtle":"http://www.w3.org/ns/formats/Turtle"},priorityScale:1,name:"urn:comunica:default:rdf-parse/actors#n3",bus:T,busFailMessage:"RDF parsing failed: none of the configured parsers were able to handle the media type ${action.handle.mediaType} for ${action.handle.url}"}),new(XB()).ActorRdfParseRdfXml({mediaTypePriorities:{"application/rdf+xml":1},mediaTypeFormats:{"application/rdf+xml":"http://www.w3.org/ns/formats/RDF_XML"},priorityScale:.5,name:"urn:comunica:default:rdf-parse/actors#rdfxml",bus:T,busFailMessage:"RDF parsing failed: none of the configured parsers were able to handle the media type ${action.handle.mediaType} for ${action.handle.url}"}),new(JB()).ActorRdfParseXmlRdfa({mediaTypePriorities:{"application/xml":1,"image/svg+xml":1,"text/xml":1},mediaTypeFormats:{"application/xml":"http://www.w3.org/ns/formats/RDFa","image/svg+xml":"http://www.w3.org/ns/formats/RDFa","text/xml":"http://www.w3.org/ns/formats/RDFa"},priorityScale:.3,name:"urn:comunica:default:rdf-parse/actors#xmlrdfa",bus:T,busFailMessage:"RDF parsing failed: none of the configured parsers were able to handle the media type ${action.handle.mediaType} for ${action.handle.url}"}),new(WB()).ActorRdfParseShaclc({mediaTypePriorities:{"text/shaclc":1,"text/shaclc-ext":.5},mediaTypeFormats:{"text/shaclc":"http://www.w3.org/ns/formats/Shaclc","text/shaclc-ext":"http://www.w3.org/ns/formats/ShaclcExtended"},priorityScale:.1,name:"urn:comunica:default:rdf-parse/actors#shaclc",bus:T,busFailMessage:"RDF parsing failed: none of the configured parsers were able to handle the media type ${action.handle.mediaType} for ${action.handle.url}"});const Ce=new(Mt()).MediatorRace({name:"urn:comunica:default:rdf-parse/mediators#parse",bus:T}),He=new(vn()).MediatorCombineUnion({field:"mediaTypes",name:"urn:comunica:default:rdf-parse/mediators#mediaType",bus:T});new(YB()).ActorRdfParseHtml({busRdfParseHtml:E,mediaTypePriorities:{"application/xhtml+xml":.9,"text/html":1},mediaTypeFormats:{"application/xhtml+xml":"http://www.w3.org/ns/formats/HTML","text/html":"http://www.w3.org/ns/formats/HTML"},priorityScale:.2,name:"urn:comunica:default:rdf-parse/actors#html",bus:T,busFailMessage:"RDF parsing failed: none of the configured parsers were able to handle the media type ${action.handle.mediaType} for ${action.handle.url}"}),new(eU()).ActorRdfParseHtmlMicrodata({name:"urn:comunica:default:rdf-parse-html/actors#microdata",bus:E,busFailMessage:"RDF HTML parsing failed: none of the configured parsers were able to parse RDF in HTML"}),new(tU()).ActorRdfParseHtmlRdfa({name:"urn:comunica:default:rdf-parse-html/actors#rdfa",bus:E,busFailMessage:"RDF HTML parsing failed: none of the configured parsers were able to parse RDF in HTML"}),new(rU()).ActorRdfResolveHypermediaLinksNext({name:"urn:comunica:default:rdf-resolve-hypermedia-links/actors#next",bus:S,busFailMessage:"Hypermedia link resolution failed: none of the configured actors were able to resolve links from metadata"}),new(nU()).ActorRdfResolveHypermediaLinksTraverse({name:"urn:comunica:default:rdf-resolve-hypermedia-links/actors#traverse",bus:S,busFailMessage:"Hypermedia link resolution failed: none of the configured actors were able to resolve links from metadata"});const Je=new(Mt()).MediatorRace({name:"urn:comunica:default:rdf-resolve-hypermedia-links/mediators#main",bus:S});new(iU()).ActorRdfSerializeN3({mediaTypePriorities:{"application/n-quads":1,"application/n-triples":.8,"application/trig":.95,"text/n3":.35,"text/turtle":.6},mediaTypeFormats:{"application/n-quads":"http://www.w3.org/ns/formats/N-Quads","application/n-triples":"http://www.w3.org/ns/formats/N-Triples","application/trig":"http://www.w3.org/ns/formats/TriG","text/n3":"http://www.w3.org/ns/formats/N3","text/turtle":"http://www.w3.org/ns/formats/Turtle"},name:"urn:comunica:default:rdf-serialize/actors#n3",bus:N,busFailMessage:"RDF serialization failed: none of the configured serializers were able to handle media type ${action.handleMediaType}"}),new(oU()).ActorRdfSerializeJsonLd({jsonStringifyIndentSpaces:2,mediaTypePriorities:{"application/ld+json":1},mediaTypeFormats:{"application/ld+json":"http://www.w3.org/ns/formats/JSON-LD"},priorityScale:.9,name:"urn:comunica:default:rdf-serialize/actors#jsonld",bus:N,busFailMessage:"RDF serialization failed: none of the configured serializers were able to handle media type ${action.handleMediaType}"}),new(cU()).ActorRdfSerializeShaclc({mediaTypePriorities:{"text/shaclc":1,"text/shaclc-ext":.5},mediaTypeFormats:{"text/shaclc":"http://www.w3.org/ns/formats/Shaclc","text/shaclc-ext":"http://www.w3.org/ns/formats/ShaclcExtended"},priorityScale:.1,name:"urn:comunica:default:rdf-serialize/actors#shaclc",bus:N,busFailMessage:"RDF serialization failed: none of the configured serializers were able to handle media type ${action.handleMediaType}"});const Ye=new(Mt()).MediatorRace({name:"urn:comunica:default:rdf-serialize/mediators#serialize",bus:N}),oe=new(vn()).MediatorCombineUnion({field:"mediaTypes",name:"urn:comunica:default:rdf-serialize/mediators#mediaType",bus:N}),X=new(vn()).MediatorCombineUnion({field:"mediaTypeFormats",name:"urn:comunica:default:rdf-serialize/mediators#mediaTypeFormat",bus:N}),Y=new(Mt()).MediatorRace({name:"urn:comunica:default:rdf-update-hypermedia/mediators#main",bus:j});new(dU()).ActorRdfUpdateQuadsRdfJsStore({name:"urn:comunica:default:rdf-update-quads/actors#rdfjs-store",bus:q,busFailMessage:"RDF updating failed: none of the configured actors were able to handle an update"});const he=new(Mt()).MediatorRace({name:"urn:comunica:default:rdf-update-quads/mediators#main",bus:q}),ve=new(Mt()).MediatorRace({name:"urn:comunica:default:bindings-aggregator-factory/mediators#main",bus:O}),ye=new(Mt()).MediatorRace({name:"urn:comunica:default:expression-evaluator-factory/mediators#main",bus:I});new(fU()).ActorFunctionFactoryExpressionBnode({name:"urn:comunica:default:function-factory/actors#expression-function-bnode",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(pU()).ActorFunctionFactoryExpressionBound({name:"urn:comunica:default:function-factory/actors#expression-function-bound",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(hU()).ActorFunctionFactoryExpressionCoalesce({name:"urn:comunica:default:function-factory/actors#expression-function-coalesce",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(yU()).ActorFunctionFactoryExpressionConcat({name:"urn:comunica:default:function-factory/actors#expression-function-concat",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(mU()).ActorFunctionFactoryExpressionExtensions({name:"urn:comunica:default:function-factory/actors#expression-function-extensions",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(bU()).ActorFunctionFactoryExpressionIf({name:"urn:comunica:default:function-factory/actors#expression-function-if",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(gU()).ActorFunctionFactoryExpressionLogicalAnd({name:"urn:comunica:default:function-factory/actors#expression-function-logical-and",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(vU()).ActorFunctionFactoryExpressionLogicalOr({name:"urn:comunica:default:function-factory/actors#expression-function-logical-or",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(_U()).ActorFunctionFactoryExpressionSameTerm({name:"urn:comunica:default:function-factory/actors#expression-function-same-term",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(TU()).ActorFunctionFactoryTermAbs({name:"urn:comunica:default:function-factory/actors#term-function-abs",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(wU()).ActorFunctionFactoryTermAddition({name:"urn:comunica:default:function-factory/actors#term-function-addition",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(SU()).ActorFunctionFactoryTermCeil({name:"urn:comunica:default:function-factory/actors#term-function-ceil",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(EU()).ActorFunctionFactoryTermContains({name:"urn:comunica:default:function-factory/actors#term-function-contains",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(AU()).ActorFunctionFactoryTermDatatype({name:"urn:comunica:default:function-factory/actors#term-function-datatype",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(OU()).ActorFunctionFactoryTermDay({name:"urn:comunica:default:function-factory/actors#term-function-day",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(xU()).ActorFunctionFactoryTermDivision({name:"urn:comunica:default:function-factory/actors#term-function-division",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(RU()).ActorFunctionFactoryTermEncodeForUri({name:"urn:comunica:default:function-factory/actors#term-function-encode-for-uri",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(NU()).ActorFunctionFactoryTermEquality({name:"urn:comunica:default:function-factory/actors#term-function-equality",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(IU()).ActorFunctionFactoryTermFloor({name:"urn:comunica:default:function-factory/actors#term-function-floor",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(DU()).ActorFunctionFactoryTermHours({name:"urn:comunica:default:function-factory/actors#term-function-hours",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(FU()).ActorFunctionFactoryTermIri({name:"urn:comunica:default:function-factory/actors#term-function-iri",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(PU()).ActorFunctionFactoryTermIsBlank({name:"urn:comunica:default:function-factory/actors#term-function-is-blank",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(jU()).ActorFunctionFactoryTermIsIri({name:"urn:comunica:default:function-factory/actors#term-function-is-iri",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(MU()).ActorFunctionFactoryTermIsLiteral({name:"urn:comunica:default:function-factory/actors#term-function-is-literal",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(CU()).ActorFunctionFactoryTermIsNumeric({name:"urn:comunica:default:function-factory/actors#term-function-is-numeric",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(LU()).ActorFunctionFactoryTermIsTriple({name:"urn:comunica:default:function-factory/actors#term-function-is-triple",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(qU()).ActorFunctionFactoryTermLang({name:"urn:comunica:default:function-factory/actors#term-function-lang",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(BU()).ActorFunctionFactoryTermLangmatches({name:"urn:comunica:default:function-factory/actors#term-function-langmatches",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(UU()).ActorFunctionFactoryTermLcase({name:"urn:comunica:default:function-factory/actors#term-function-lcase",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(QU()).ActorFunctionFactoryTermMd5({name:"urn:comunica:default:function-factory/actors#term-function-md5",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(VU()).ActorFunctionFactoryTermMinutes({name:"urn:comunica:default:function-factory/actors#term-function-minutes",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(HU()).ActorFunctionFactoryTermMonth({name:"urn:comunica:default:function-factory/actors#term-function-month",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(kU()).ActorFunctionFactoryTermMultiplication({name:"urn:comunica:default:function-factory/actors#term-function-multiplication",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(zU()).ActorFunctionFactoryTermNot({name:"urn:comunica:default:function-factory/actors#term-function-not",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(GU()).ActorFunctionFactoryTermNow({name:"urn:comunica:default:function-factory/actors#term-function-now",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new($U()).ActorFunctionFactoryTermObject({name:"urn:comunica:default:function-factory/actors#term-function-object",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(XU()).ActorFunctionFactoryTermPredicate({name:"urn:comunica:default:function-factory/actors#term-function-predicate",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(KU()).ActorFunctionFactoryTermRand({name:"urn:comunica:default:function-factory/actors#term-function-rand",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(EP()).ActorFunctionFactoryTermRegex({name:"urn:comunica:default:function-factory/actors#term-function-regex",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(JU()).ActorFunctionFactoryTermReplace({name:"urn:comunica:default:function-factory/actors#term-function-replace",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(WU()).ActorFunctionFactoryTermRound({name:"urn:comunica:default:function-factory/actors#term-function-round",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(YU()).ActorFunctionFactoryTermSeconds({name:"urn:comunica:default:function-factory/actors#term-function-seconds",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(ZU()).ActorFunctionFactoryTermSha1({name:"urn:comunica:default:function-factory/actors#term-function-sha1",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(eQ()).ActorFunctionFactoryTermSha256({name:"urn:comunica:default:function-factory/actors#term-function-sha256",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(tQ()).ActorFunctionFactoryTermSha384({name:"urn:comunica:default:function-factory/actors#term-function-sha384",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(rQ()).ActorFunctionFactoryTermSha512({name:"urn:comunica:default:function-factory/actors#term-function-sha512",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(nQ()).ActorFunctionFactoryTermStrAfter({name:"urn:comunica:default:function-factory/actors#term-function-str-after",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(aQ()).ActorFunctionFactoryTermStrBefore({name:"urn:comunica:default:function-factory/actors#term-function-str-before",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(iQ()).ActorFunctionFactoryTermStrDt({name:"urn:comunica:default:function-factory/actors#term-function-str-dt",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(uQ()).ActorFunctionFactoryTermStrEnds({name:"urn:comunica:default:function-factory/actors#term-function-str-ends",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(oQ()).ActorFunctionFactoryTermStrLang({name:"urn:comunica:default:function-factory/actors#term-function-str-lang",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(sQ()).ActorFunctionFactoryTermStrLen({name:"urn:comunica:default:function-factory/actors#term-function-str-len",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(cQ()).ActorFunctionFactoryTermStrStarts({name:"urn:comunica:default:function-factory/actors#term-function-str-starts",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(dQ()).ActorFunctionFactoryTermStrUuid({name:"urn:comunica:default:function-factory/actors#term-function-str-uuid",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(fQ()).ActorFunctionFactoryTermStr({name:"urn:comunica:default:function-factory/actors#term-function-str",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(pQ()).ActorFunctionFactoryTermSubStr({name:"urn:comunica:default:function-factory/actors#term-function-sub-str",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(hQ()).ActorFunctionFactoryTermSubject({name:"urn:comunica:default:function-factory/actors#term-function-subject",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(yQ()).ActorFunctionFactoryTermSubtraction({name:"urn:comunica:default:function-factory/actors#term-function-subtraction",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(mQ()).ActorFunctionFactoryTermTimezone({name:"urn:comunica:default:function-factory/actors#term-function-timezone",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(bQ()).ActorFunctionFactoryTermTriple({name:"urn:comunica:default:function-factory/actors#term-function-triple",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(gQ()).ActorFunctionFactoryTermTz({name:"urn:comunica:default:function-factory/actors#term-function-tz",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(vQ()).ActorFunctionFactoryTermUcase({name:"urn:comunica:default:function-factory/actors#term-function-ucase",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(_Q()).ActorFunctionFactoryTermUnaryMinus({name:"urn:comunica:default:function-factory/actors#term-function-unary-minus",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(TQ()).ActorFunctionFactoryTermUnaryPlus({name:"urn:comunica:default:function-factory/actors#term-function-unary-plus",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(wQ()).ActorFunctionFactoryTermUuid({name:"urn:comunica:default:function-factory/actors#term-function-uuid",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(SQ()).ActorFunctionFactoryTermXsdToBoolean({name:"urn:comunica:default:function-factory/actors#term-function-xsd-to-boolean",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(EQ()).ActorFunctionFactoryTermXsdToDate({name:"urn:comunica:default:function-factory/actors#term-function-xsd-to-date",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(AQ()).ActorFunctionFactoryTermXsdToDatetime({name:"urn:comunica:default:function-factory/actors#term-function-xsd-to-datetime",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(OQ()).ActorFunctionFactoryTermXsdToDayTimeDuration({name:"urn:comunica:default:function-factory/actors#term-function-xsd-to-day-time-duration",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(xQ()).ActorFunctionFactoryTermXsdToDecimal({name:"urn:comunica:default:function-factory/actors#term-function-xsd-to-decimal",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(RQ()).ActorFunctionFactoryTermXsdToDouble({name:"urn:comunica:default:function-factory/actors#term-function-xsd-to-double",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(NQ()).ActorFunctionFactoryTermXsdToDuration({name:"urn:comunica:default:function-factory/actors#term-function-xsd-to-duration",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(IQ()).ActorFunctionFactoryTermXsdToFloat({name:"urn:comunica:default:function-factory/actors#term-function-xsd-to-float",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(DQ()).ActorFunctionFactoryTermXsdToInteger({name:"urn:comunica:default:function-factory/actors#term-function-xsd-to-integer",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(FQ()).ActorFunctionFactoryTermXsdToString({name:"urn:comunica:default:function-factory/actors#term-function-xsd-to-string",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(PQ()).ActorFunctionFactoryTermXsdToTime({name:"urn:comunica:default:function-factory/actors#term-function-xsd-to-time",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(jQ()).ActorFunctionFactoryTermXsdToYearMonthDuration({name:"urn:comunica:default:function-factory/actors#term-function-xsd-to-year-month-duration",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(MQ()).ActorFunctionFactoryTermYear({name:"urn:comunica:default:function-factory/actors#term-function-year",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"});const re=new(Mt()).MediatorRace({name:"urn:comunica:default:function-factory/mediators#main",bus:A}),Ie=new(CQ()).ActorHttpFetch({agentOptions:{keepAlive:!0,maxSockets:5},name:"urn:comunica:default:http/actors#fetch",bus:P,busFailMessage:"HTTP request failed: none of the configured actors were able to handle ${action.input}"}),Le=new(oa()).MediatorNumber({field:"time",type:"min",ignoreFailures:!0,name:"urn:comunica:default:http/mediators#no-fallback",bus:P}),Pe=new(oa()).MediatorNumber({field:"time",type:"min",ignoreFailures:!0,name:"urn:comunica:default:http/mediators#main",bus:C});new(LQ()).ActorQueryOperationSource({name:"urn:comunica:default:query-operation/actors#source",bus:B,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"});const Fe=new(oa()).MediatorNumber({field:"httpRequests",type:"min",ignoreFailures:!0,name:"urn:comunica:default:query-operation/mediators#main",bus:B}),R=new(Mt()).MediatorRace({name:"urn:comunica:default:query-process/mediators#main",bus:V}),k=new(Mt()).MediatorRace({name:"urn:comunica:default:query-source-identify/mediators#main",bus:U}),K=new(qQ()).MediatorJoinCoefficientsFixed({cpuWeight:10,memoryWeight:1,timeWeight:2,ioWeight:10,name:"urn:comunica:default:rdf-join/mediators#main",bus:G}),de=new(Mt()).MediatorRace({name:"urn:comunica:default:term-comparator-factory/mediators#main",bus:J}),ge=new(Sa()).ActorHttpInvalidateListenable({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-context-preprocess-query-source-identify/^4.0.0/components/ActorContextPreprocessQuerySourceIdentify.jsonld#IActorContextPreprocessQuerySourceIdentifyArgs_default_invalidator",bus:ne,busFailMessage:"HTTP invalidation failed: none of the configured actors were able to invalidate ${action.url}"}),Qe=new(BQ()).MediatorAll({name:"urn:comunica:default:http-invalidate/mediators#main",bus:ne}),je=new(Sa()).ActorHttpInvalidateListenable({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-rdf-update-quads-hypermedia/^4.0.0/components/ActorRdfUpdateQuadsHypermedia.jsonld#IActorRdfUpdateQuadsHypermediaArgs_default_invalidator",bus:ne,busFailMessage:"HTTP invalidation failed: none of the configured actors were able to invalidate ${action.url}"}),$e=new(Sa()).ActorHttpInvalidateListenable({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-http-retry/^4.0.0/components/ActorHttpRetry.jsonld#IActorHttpQueueArgs_default_invalidator",bus:ne,busFailMessage:"HTTP invalidation failed: none of the configured actors were able to invalidate ${action.url}"}),at=new(Sa()).ActorHttpInvalidateListenable({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-query-operation-service/^4.0.0/components/ActorQueryOperationService.jsonld#IActorQueryOperationServiceArgs_default_invalidator",bus:ne,busFailMessage:"HTTP invalidation failed: none of the configured actors were able to invalidate ${action.url}"}),fe=new(Sa()).ActorHttpInvalidateListenable({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-query-result-serialize-sparql-json/^4.0.0/components/ActionObserverHttp.jsonld#IActionObserverHttpArgs_default_invalidator",bus:ne,busFailMessage:"HTTP invalidation failed: none of the configured actors were able to invalidate ${action.url}"}),Te=new(Sa()).ActorHttpInvalidateListenable({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-query-result-serialize-stats/^4.0.0/components/ActionObserverHttp.jsonld#IActionObserverHttpArgs_default_invalidator",bus:ne,busFailMessage:"HTTP invalidation failed: none of the configured actors were able to invalidate ${action.url}"}),qe=new(vn()).MediatorCombineUnion({field:"mergeHandlers",name:"urn:comunica:default:merge-bindings-context/mediators#main",bus:W});new(UQ()).ActorRdfMetadataExtractTraverse({mediatorExtractLinks:pe,name:"urn:comunica:default:rdf-metadata-extract/actors#traverse",bus:w,busFailMessage:"Metadata extraction failed: none of the configured actors were able to extract metadata from ${action.url}"}),new(QQ()).ActorRdfJoinSingle({mediatorJoinSelectivity:ae,name:"urn:comunica:default:rdf-join/actors#inner-single",bus:G,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}"});const it=new(HQ()).ActorRdfJoinSymmetricHash({mediatorHashBindings:Ae,mediatorJoinSelectivity:ae,name:"urn:comunica:default:rdf-join/actors#inner-symmetric-hash",bus:G,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}"}),Me=new(kQ()).ActorRdfJoinNestedLoop({mediatorJoinSelectivity:ae,name:"urn:comunica:default:rdf-join/actors#inner-nested-loop",bus:G,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}"});new(s1()).ActorRdfJoinMinusHash({canHandleUndefs:!1,mediatorJoinSelectivity:ae,name:"urn:comunica:default:rdf-join/actors#minus-hash-def",bus:G,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}"}),new(s1()).ActorRdfJoinMinusHash({canHandleUndefs:!0,mediatorJoinSelectivity:ae,name:"urn:comunica:default:rdf-join/actors#minus-hash-undef",bus:G,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}"}),new(_u()).ActorRdfJoinOptionalHash({canHandleUndefs:!1,blocking:!1,mediatorJoinSelectivity:ae,name:"urn:comunica:default:rdf-join/actors#optional-hash-def-nonblocking",bus:G,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}"}),new(_u()).ActorRdfJoinOptionalHash({canHandleUndefs:!1,blocking:!0,mediatorJoinSelectivity:ae,name:"urn:comunica:default:rdf-join/actors#optional-hash-def-blocking",bus:G,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}"}),new(_u()).ActorRdfJoinOptionalHash({canHandleUndefs:!0,blocking:!1,mediatorJoinSelectivity:ae,name:"urn:comunica:default:rdf-join/actors#optional-hash-undef-nonblocking",bus:G,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}"}),new(_u()).ActorRdfJoinOptionalHash({canHandleUndefs:!0,blocking:!0,mediatorJoinSelectivity:ae,name:"urn:comunica:default:rdf-join/actors#optional-hash-undef-blocking",bus:G,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}"}),new(zQ()).ActorRdfJoinOptionalNestedLoop({mediatorJoinSelectivity:ae,name:"urn:comunica:default:rdf-join/actors#optional-nested-loop",bus:G,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}"}),new(GQ()).ActorDereferenceRdfParse({mediatorDereference:Z,mediatorParse:Ce,mediatorParseMediatypes:He,mediaMappings:{htm:"text/html",html:"text/html",json:"application/json",jsonld:"application/ld+json",n3:"text/n3",nq:"application/n-quads",nquads:"application/n-quads",nt:"application/n-triples",ntriples:"application/n-triples",owl:"application/rdf+xml",rdf:"application/rdf+xml",rdfxml:"application/rdf+xml",shaclc:"text/shaclc",shaclce:"text/shaclc-ext",shc:"text/shaclc",shce:"text/shaclc-ext",svg:"image/svg+xml",svgz:"image/svg+xml",trig:"application/trig",ttl:"text/turtle",turtle:"text/turtle",xht:"application/xhtml+xml",xhtml:"application/xhtml+xml",xml:"application/xml"},name:"urn:comunica:default:dereference-rdf/actors#parse",bus:p,busFailMessage:"RDF dereferencing failed: none of the configured parsers were able to handle the media type ${action.handle.mediaType} for ${action.handle.url}"}),new($Q()).ActorRdfParseHtmlScript({mediatorRdfParseMediatypes:He,mediatorRdfParseHandle:Ce,name:"urn:comunica:default:rdf-parse-html/actors#script",bus:E,busFailMessage:"RDF HTML parsing failed: none of the configured parsers were able to parse RDF in HTML"}),new(XQ()).ActorQueryResultSerializeRdf({mediatorRdfSerialize:Ye,mediatorMediaTypeCombiner:oe,mediatorMediaTypeFormatCombiner:X,name:"urn:comunica:default:query-result-serialize/actors#rdf",bus:c,busFailMessage:"Query result serialization failed: none of the configured actors were able to serialize for type ${action.handle.type}"}),new(KQ()).ActorBindingsAggregatorFactoryCount({mediatorExpressionEvaluatorFactory:ye,name:"urn:comunica:default:bindings-aggregator-factory/actors#count",bus:O,busFailMessage:"Creation of Aggregator failed: none of the configured actors were able to handle ${action.expr.aggregator}"}),new(JQ()).ActorBindingsAggregatorFactoryGroupConcat({mediatorExpressionEvaluatorFactory:ye,name:"urn:comunica:default:bindings-aggregator-factory/actors#group-concat",bus:O,busFailMessage:"Creation of Aggregator failed: none of the configured actors were able to handle ${action.expr.aggregator}"}),new(WQ()).ActorBindingsAggregatorFactorySample({mediatorExpressionEvaluatorFactory:ye,name:"urn:comunica:default:bindings-aggregator-factory/actors#sample",bus:O,busFailMessage:"Creation of Aggregator failed: none of the configured actors were able to handle ${action.expr.aggregator}"}),new(YQ()).ActorBindingsAggregatorFactoryWildcardCount({mediatorExpressionEvaluatorFactory:ye,name:"urn:comunica:default:bindings-aggregator-factory/actors#wildcard-count",bus:O,busFailMessage:"Creation of Aggregator failed: none of the configured actors were able to handle ${action.expr.aggregator}"}),new(ZQ()).ActorBindingsAggregatorFactoryAverage({mediatorFunctionFactory:re,mediatorExpressionEvaluatorFactory:ye,name:"urn:comunica:default:bindings-aggregator-factory/actors#average",bus:O,busFailMessage:"Creation of Aggregator failed: none of the configured actors were able to handle ${action.expr.aggregator}"}),new(eV()).ActorBindingsAggregatorFactorySum({mediatorFunctionFactory:re,mediatorExpressionEvaluatorFactory:ye,name:"urn:comunica:default:bindings-aggregator-factory/actors#sum",bus:O,busFailMessage:"Creation of Aggregator failed: none of the configured actors were able to handle ${action.expr.aggregator}"}),new(tV()).ActorFunctionFactoryExpressionIn({mediatorFunctionFactory:re,name:"urn:comunica:default:function-factory/actors#expression-function-in",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(rV()).ActorFunctionFactoryExpressionNotIn({mediatorFunctionFactory:re,name:"urn:comunica:default:function-factory/actors#expression-function-not-in",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(nV()).ActorFunctionFactoryTermGreaterThanEqual({mediatorFunctionFactory:re,name:"urn:comunica:default:function-factory/actors#term-function-greater-than-equal",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(aV()).ActorFunctionFactoryTermGreaterThan({mediatorFunctionFactory:re,name:"urn:comunica:default:function-factory/actors#term-function-greater-than",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(iV()).ActorFunctionFactoryTermInequality({mediatorFunctionFactory:re,name:"urn:comunica:default:function-factory/actors#term-function-inequality",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(oV()).ActorFunctionFactoryTermLesserThanEqual({mediatorFunctionFactory:re,name:"urn:comunica:default:function-factory/actors#term-function-lesser-than-equal",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(uV()).ActorFunctionFactoryTermLesserThan({mediatorFunctionFactory:re,name:"urn:comunica:default:function-factory/actors#term-function-lesser-than",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(sV()).ActorHttpWayback({mediatorHttp:Le,name:"urn:comunica:default:http/actors#wayback",bus:C,busFailMessage:"HTTP request failed: none of the configured actors were able to handle ${action.input}"}),new(dV()).ActorRdfParseJsonLd({mediatorHttp:Pe,mediaTypePriorities:{"application/json":.15,"application/ld+json":1},mediaTypeFormats:{"application/json":"http://www.w3.org/ns/formats/JSON-LD","application/ld+json":"http://www.w3.org/ns/formats/JSON-LD"},priorityScale:.9,name:"urn:comunica:default:rdf-parse/actors#jsonld",bus:T,busFailMessage:"RDF parsing failed: none of the configured parsers were able to handle the media type ${action.handle.mediaType} for ${action.handle.url}"}),new(pV()).ActorRdfUpdateHypermediaPatchSparqlUpdate({mediatorHttp:Pe,name:"urn:comunica:default:rdf-update-hypermedia/actors#patch-sparql-update",bus:j,busFailMessage:"RDF hypermedia updating failed: none of the configured actors were able to handle an update for ${action.url}"}),new(hV()).ActorRdfUpdateHypermediaPutLdp({mediatorHttp:Pe,mediatorRdfSerializeMediatypes:oe,mediatorRdfSerialize:Ye,name:"urn:comunica:default:rdf-update-hypermedia/actors#put-ldp",bus:j,busFailMessage:"RDF hypermedia updating failed: none of the configured actors were able to handle an update for ${action.url}"}),new(bV()).ActorRdfUpdateHypermediaSparql({mediatorHttp:Pe,checkUrlSuffixSparql:!0,checkUrlSuffixUpdate:!0,name:"urn:comunica:default:rdf-update-hypermedia/actors#sparql",bus:j,busFailMessage:"RDF hypermedia updating failed: none of the configured actors were able to handle an update for ${action.url}"}),new(gV()).ActorQueryOperationAsk({mediatorQueryOperation:Fe,name:"urn:comunica:default:query-operation/actors#ask",bus:B,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(vV()).ActorQueryOperationBgpJoin({mediatorQueryOperation:Fe,name:"urn:comunica:default:query-operation/actors#bgp",bus:B,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(NP()).ActorQueryOperationConstruct({mediatorQueryOperation:Fe,name:"urn:comunica:default:query-operation/actors#construct",bus:B,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(_V()).ActorQueryOperationDistinctHash({mediatorHashBindings:Ae,mediatorHashQuads:Ne,mediatorQueryOperation:Fe,name:"urn:comunica:default:query-operation/actors#distinct",bus:B,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(TV()).ActorQueryOperationExtend({mediatorExpressionEvaluatorFactory:ye,mediatorQueryOperation:Fe,name:"urn:comunica:default:query-operation/actors#extend",bus:B,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(wV()).ActorQueryOperationFilter({mediatorExpressionEvaluatorFactory:ye,mediatorQueryOperation:Fe,name:"urn:comunica:default:query-operation/actors#filter",bus:B,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(SV()).ActorQueryOperationFromQuad({mediatorQueryOperation:Fe,name:"urn:comunica:default:query-operation/actors#from",bus:B,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(EV()).ActorQueryOperationProject({mediatorQueryOperation:Fe,name:"urn:comunica:default:query-operation/actors#project",bus:B,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(AV()).ActorQueryOperationReducedHash({mediatorHashBindings:Ae,cacheSize:100,mediatorQueryOperation:Fe,name:"urn:comunica:default:query-operation/actors#reduced",bus:B,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(OV()).ActorQueryOperationSlice({mediatorQueryOperation:Fe,name:"urn:comunica:default:query-operation/actors#slice",bus:B,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(IP()).ActorQueryOperationUnion({mediatorRdfMetadataAccumulate:Se,mediatorQueryOperation:Fe,name:"urn:comunica:default:query-operation/actors#union",bus:B,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(xV()).ActorQueryOperationPathAlt({mediatorRdfMetadataAccumulate:Se,mediatorQueryOperation:Fe,name:"urn:comunica:default:query-operation/actors#path-alt",bus:B,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(RV()).ActorQueryOperationPathInv({mediatorQueryOperation:Fe,name:"urn:comunica:default:query-operation/actors#path-inv",bus:B,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(NV()).ActorQueryOperationPathLink({mediatorQueryOperation:Fe,name:"urn:comunica:default:query-operation/actors#path-link",bus:B,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(IV()).ActorQueryOperationPathNps({mediatorQueryOperation:Fe,name:"urn:comunica:default:query-operation/actors#path-nps",bus:B,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(DV()).ActorQueryOperationClear({mediatorUpdateQuads:he,mediatorQueryOperation:Fe,name:"urn:comunica:default:query-operation/actors#update-clear",bus:B,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(FV()).ActorQueryOperationUpdateCompositeUpdate({mediatorQueryOperation:Fe,name:"urn:comunica:default:query-operation/actors#update-composite",bus:B,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(PV()).ActorQueryOperationCreate({mediatorUpdateQuads:he,mediatorQueryOperation:Fe,name:"urn:comunica:default:query-operation/actors#update-create",bus:B,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(jV()).ActorQueryOperationDrop({mediatorUpdateQuads:he,mediatorQueryOperation:Fe,name:"urn:comunica:default:query-operation/actors#update-drop",bus:B,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(MV()).ActorQueryOperationLoad({mediatorUpdateQuads:he,mediatorQuerySourceIdentify:k,mediatorQueryOperation:Fe,name:"urn:comunica:default:query-operation/actors#update-load",bus:B,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(qV()).ActorQuerySourceIdentifySerialized({mediatorRdfParse:Ce,mediatorQuerySourceIdentify:k,name:"urn:comunica:default:query-source-identify/actors#serialized",bus:U,busFailMessage:"Query source identification failed: none of the configured actors were able to identify ${action.querySourceUnidentified.value}"}),new(BV()).ActorQueryOperationJoin({mediatorJoin:K,mediatorQueryOperation:Fe,name:"urn:comunica:default:query-operation/actors#join",bus:B,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(UV()).ActorQueryOperationLeftJoin({mediatorJoin:K,mediatorQueryOperation:Fe,name:"urn:comunica:default:query-operation/actors#leftjoin",bus:B,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(QV()).ActorQueryOperationMinus({mediatorJoin:K,mediatorQueryOperation:Fe,name:"urn:comunica:default:query-operation/actors#minus",bus:B,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(VV()).ActorQueryOperationPathSeq({mediatorJoin:K,mediatorQueryOperation:Fe,name:"urn:comunica:default:query-operation/actors#path-seq",bus:B,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"});const st=new(HV()).ActorRdfJoinMultiSmallest({mediatorJoinEntriesSort:ue,mediatorJoin:K,mediatorJoinSelectivity:ae,name:"urn:comunica:default:rdf-join/actors#inner-multi-smallest",bus:G,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}"});new(kV()).ActorBindingsAggregatorFactoryMax({mediatorTermComparatorFactory:de,mediatorExpressionEvaluatorFactory:ye,name:"urn:comunica:default:bindings-aggregator-factory/actors#max",bus:O,busFailMessage:"Creation of Aggregator failed: none of the configured actors were able to handle ${action.expr.aggregator}"}),new(zV()).ActorBindingsAggregatorFactoryMin({mediatorTermComparatorFactory:de,mediatorExpressionEvaluatorFactory:ye,name:"urn:comunica:default:bindings-aggregator-factory/actors#min",bus:O,busFailMessage:"Creation of Aggregator failed: none of the configured actors were able to handle ${action.expr.aggregator}"}),new(GV()).ActorQueryOperationOrderBy({mediatorExpressionEvaluatorFactory:ye,mediatorTermComparatorFactory:de,mediatorQueryOperation:Fe,name:"urn:comunica:default:query-operation/actors#orderby",bus:B,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(K3e()).ActorRdfResolveHypermediaLinksQueueWrapperLimitDepth({limit:3,mediatorRdfResolveHypermediaLinksQueue:se,name:"urn:comunica:default:rdf-resolve-hypermedia-links-queue/actors#wrapper-limit-depth",bus:a,busFailMessage:"Link queue creation failed: none of the configured actors were able to create a link queue starting from ${action.firstUrl}",beforeActors:[ee]});const tt=new($V()).ActorOptimizeQueryOperationFilterPushdown({aggressivePushdown:!1,maxIterations:10,splitConjunctive:!0,mergeConjunctive:!0,pushIntoLeftJoins:!0,pushEqualityIntoPatterns:!0,name:"urn:comunica:default:optimize-query-operation/actors#filter-pushdown",bus:l,busFailMessage:"Query optimization failed: none of the configured actors were able to optimize",beforeActors:[Oe]});new(XV()).ActorDereferenceHttp({mediatorHttp:Pe,maxAcceptHeaderLength:1024,maxAcceptHeaderLengthBrowser:128,name:"urn:comunica:default:dereference/actors#http",bus:f,busFailMessage:"Dereferencing failed: none of the configured actors were able to handle ${action.url}",beforeActors:[H]});const Ot=new(KV()).ActorHttpInruptSolidClientAuthn({mediatorHttp:Pe,name:"urn:comunica:default:http/actors#inrupt-solid-client-authn",bus:P,busFailMessage:"HTTP request failed: none of the configured actors were able to handle ${action.input}",beforeActors:[Ie]});new(JV()).ActorContextPreprocessQuerySourceIdentify({cacheSize:100,httpInvalidator:ge,mediatorQuerySourceIdentify:k,mediatorContextPreprocess:Ee,name:"urn:comunica:default:context-preprocess/actors#query-source-identify",bus:t,busFailMessage:"Context preprocessing failed",beforeActors:[le]});const yt=new(Tb()).ActorInitQuery({mediatorQueryProcess:R,mediatorQueryResultSerialize:v,mediatorQueryResultSerializeMediaTypeCombiner:F,mediatorQueryResultSerializeMediaTypeFormatCombiner:D,mediatorHttpInvalidate:Qe,defaultQueryInputFormat:"sparql",allowNoSources:!0,name:"urn:comunica:default:init/actors#query",bus:u,busFailMessage:"Initialization failed: none of the configured actors were to initialize"});new(WV()).ActorRdfUpdateQuadsHypermedia({cacheSize:100,httpInvalidator:je,mediatorDereferenceRdf:$,mediatorMetadata:ce,mediatorMetadataExtract:xe,mediatorRdfUpdateHypermedia:Y,name:"urn:comunica:default:rdf-update-quads/actors#hypermedia",bus:q,busFailMessage:"RDF updating failed: none of the configured actors were able to handle an update"});const bt=new(c1()).ActionObserverHttp({httpInvalidator:fe,observedActors:["urn:comunica:default:http/actors#fetch"],name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-query-result-serialize-sparql-json/^4.0.0/components/ActorQueryResultSerializeSparqlJson.jsonld#ActorQueryResultSerializeSparqlJson_default_observer",bus:P}),Tt=new(l1()).ActionObserverHttp({httpInvalidator:Te,observedActors:["urn:comunica:default:http/actors#fetch"],name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-query-result-serialize-stats/^4.0.0/components/ActorQueryResultSerializeStats.jsonld#ActorQueryResultSerializeStats_default_observer",bus:P});new(ZV()).ActorQuerySourceIdentifyHypermediaQpf({mediatorMetadata:ce,mediatorMetadataExtract:xe,mediatorDereferenceRdf:$,mediatorMergeBindingsContext:qe,subjectUri:"http://www.w3.org/1999/02/22-rdf-syntax-ns#subject",predicateUri:"http://www.w3.org/1999/02/22-rdf-syntax-ns#predicate",objectUri:"http://www.w3.org/1999/02/22-rdf-syntax-ns#object",graphUri:"http://www.w3.org/ns/sparql-service-description#graph",name:"urn:comunica:default:query-source-identify-hypermedia/actors#qpf",bus:d,busFailMessage:"Query source hypermedia identification failed: none of the configured actors were able to identify ${action.url}"}),new(eH()).ActorQuerySourceIdentifyHypermediaSparql({mediatorHttp:Pe,mediatorMergeBindingsContext:qe,checkUrlSuffix:!0,forceHttpGet:!1,cacheSize:1024,forceSourceType:!1,bindMethod:"values",countTimeout:3e3,cardinalityCountQueries:!0,cardinalityEstimateConstruction:!1,forceGetIfUrlLengthBelow:600,name:"urn:comunica:default:query-source-identify-hypermedia/actors#sparql",bus:d,busFailMessage:"Query source hypermedia identification failed: none of the configured actors were able to identify ${action.url}"}),new(nH()).ActorQuerySourceIdentifyHypermediaNone({mediatorMergeBindingsContext:qe,name:"urn:comunica:default:query-source-identify-hypermedia/actors#none",bus:d,busFailMessage:"Query source hypermedia identification failed: none of the configured actors were able to identify ${action.url}"}),new(aH()).ActorExpressionEvaluatorFactoryDefault({mediatorQueryOperation:Fe,mediatorFunctionFactory:re,mediatorMergeBindingsContext:qe,name:"urn:comunica:default:expression-evaluator-factory/actors#default",bus:I,busFailMessage:"Creation of Expression Evaluator failed"}),new(iH()).ActorQueryOperationGroup({mediatorMergeBindingsContext:qe,mediatorBindingsAggregatorFactory:ve,mediatorQueryOperation:Fe,name:"urn:comunica:default:query-operation/actors#group",bus:B,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(uH()).ActorQueryOperationNop({mediatorMergeBindingsContext:qe,mediatorQueryOperation:Fe,name:"urn:comunica:default:query-operation/actors#nop",bus:B,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(oH()).ActorQueryOperationService({forceSparqlEndpoint:!1,mediatorMergeBindingsContext:qe,mediatorQuerySourceIdentify:k,httpInvalidator:at,cacheSize:32,mediatorQueryOperation:Fe,name:"urn:comunica:default:query-operation/actors#service",bus:B,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(sH()).ActorQueryOperationValues({mediatorMergeBindingsContext:qe,name:"urn:comunica:default:query-operation/actors#values",bus:B,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(cH()).ActorQueryOperationPathOneOrMore({mediatorMergeBindingsContext:qe,mediatorQueryOperation:Fe,name:"urn:comunica:default:query-operation/actors#path-one-or-more",bus:B,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(lH()).ActorQueryOperationPathZeroOrMore({mediatorMergeBindingsContext:qe,mediatorQueryOperation:Fe,name:"urn:comunica:default:query-operation/actors#path-zero-or-more",bus:B,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(dH()).ActorQueryOperationPathZeroOrOne({mediatorMergeBindingsContext:qe,mediatorQueryOperation:Fe,name:"urn:comunica:default:query-operation/actors#path-zero-or-one",bus:B,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(fH()).ActorQueryOperationUpdateDeleteInsert({mediatorUpdateQuads:he,mediatorMergeBindingsContext:qe,mediatorQueryOperation:Fe,name:"urn:comunica:default:query-operation/actors#update-delete-insert",bus:B,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"});const xt=new(pH()).ActorQueryProcessSequential({mediatorContextPreprocess:Ee,mediatorQueryParse:te,mediatorOptimizeQueryOperation:be,mediatorQueryOperation:Fe,mediatorMergeBindingsContext:qe,name:"urn:comunica:default:query-process/actors#sequential",bus:V,busFailMessage:'Query processing failed: none of the configured actor were process to the query "${action.query}"'});new(yH()).ActorQuerySourceIdentifyHypermedia({cacheSize:2048,maxIterators:64,aggregateTraversalStore:!0,emitPartialCardinalities:!1,mediatorDereferenceRdf:$,mediatorMetadata:ce,mediatorMetadataExtract:xe,mediatorMetadataAccumulate:Se,mediatorQuerySourceIdentifyHypermedia:L,mediatorRdfResolveHypermediaLinks:Je,mediatorRdfResolveHypermediaLinksQueue:se,mediatorMergeBindingsContext:qe,name:"urn:comunica:default:query-source-identify/actors#hypermedia",bus:U,busFailMessage:"Query source identification failed: none of the configured actors were able to identify ${action.querySourceUnidentified.value}"}),new(uN()).ActorQuerySourceIdentifyRdfJs({mediatorMergeBindingsContext:qe,name:"urn:comunica:default:query-source-identify/actors#rdfjs",bus:U,busFailMessage:"Query source identification failed: none of the configured actors were able to identify ${action.querySourceUnidentified.value}"}),new(mH()).ActorRdfJoinNone({mediatorMergeBindingsContext:qe,mediatorJoinSelectivity:ae,name:"urn:comunica:default:rdf-join/actors#inner-none",bus:G,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}"}),new(bH()).ActorRdfJoinOptionalBind({bindOrder:"depth-first",selectivityModifier:1e-6,mediatorQueryOperation:Fe,mediatorMergeBindingsContext:qe,mediatorJoinSelectivity:ae,name:"urn:comunica:default:rdf-join/actors#optional-bind",bus:G,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}"}),new(gH()).ActorTermComparatorFactoryExpressionEvaluator({mediatorQueryOperation:Fe,mediatorFunctionFactory:re,mediatorMergeBindingsContext:qe,name:"urn:comunica:default:term-comparator-factory/actors#expression-evaluator",bus:J,busFailMessage:"Creation of term comparator failed"});const wt=new(jP()).ActorRdfJoinMultiBind({bindOrder:"breadth-first",selectivityModifier:1e-4,minMaxCardinalityRatio:60,mediatorJoinEntriesSort:ue,mediatorQueryOperation:Fe,mediatorMergeBindingsContext:qe,mediatorJoinSelectivity:ae,name:"urn:comunica:default:rdf-join/actors#inner-multi-bind",bus:G,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}",beforeActors:[st,it,Me]});new(vH()).ActorRdfJoinMultiSmallestFilterBindings({selectivityModifier:1e-4,blockSize:64,mediatorJoinEntriesSort:ue,mediatorJoin:K,mediatorJoinSelectivity:ae,name:"urn:comunica:default:rdf-join/actors#inner-multi-smallest-filter-bindings",bus:G,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}",beforeActors:[st,it,Me]}),new(wH()).ActorExtractLinksSolidTypeIndex({typeIndexPredicates:["http://www.w3.org/ns/solid/terms#publicTypeIndex","http://www.w3.org/ns/solid/terms#privateTypeIndex"],onlyMatchingTypes:!0,inference:!1,actorInitQuery:yt,mediatorDereferenceRdf:$,name:"urn:comunica:default:extract-links/actors#solid-type-index",bus:r}),new(c1()).ActorQueryResultSerializeSparqlJson({emitMetadata:!0,httpObserver:bt,mediaTypePriorities:{"application/sparql-results+json":.8},mediaTypeFormats:{"application/sparql-results+json":"http://www.w3.org/ns/formats/SPARQL_Results_JSON"},name:"urn:comunica:default:query-result-serialize/actors#sparql-json",bus:c,busFailMessage:"Query result serialization failed: none of the configured actors were able to serialize for type ${action.handle.type}"}),new(l1()).ActorQueryResultSerializeStats({httpObserver:Tt,mediaTypePriorities:{stats:.5},mediaTypeFormats:{stats:"https://comunica.linkeddatafragments.org/#results_stats"},name:"urn:comunica:default:query-result-serialize/actors#stats",bus:c,busFailMessage:"Query result serialization failed: none of the configured actors were able to serialize for type ${action.handle.type}"}),new(SH()).ActorQueryProcessExplainParsed({queryProcessor:xt,name:"urn:comunica:default:query-process/actors#explain-parsed",bus:V,busFailMessage:'Query processing failed: none of the configured actor were process to the query "${action.query}"'}),new(EH()).ActorQueryProcessExplainLogical({queryProcessor:xt,name:"urn:comunica:default:query-process/actors#explain-logical",bus:V,busFailMessage:'Query processing failed: none of the configured actor were process to the query "${action.query}"'}),new(AH()).ActorQueryProcessExplainPhysical({queryProcessor:xt,name:"urn:comunica:default:query-process/actors#explain-physical",bus:V,busFailMessage:'Query processing failed: none of the configured actor were process to the query "${action.query}"'});const gt=new(OH()).ActorOptimizeQueryOperationPruneEmptySourceOperations({useAskIfSupported:!1,name:"urn:comunica:default:optimize-query-operation/actors#prune-empty-source-operations",bus:l,busFailMessage:"Query optimization failed: none of the configured actors were able to optimize",beforeActors:[tt]}),dr=new(xH()).ActorHttpProxy({mediatorHttp:Pe,name:"urn:comunica:default:http/actors#proxy",bus:P,busFailMessage:"HTTP request failed: none of the configured actors were able to handle ${action.input}",beforeActors:[Ie,Ot]});new(RH()).ActorRdfJoinMultiBindSource({selectivityModifier:1e-4,blockSize:16,mediatorJoinEntriesSort:ue,mediatorJoinSelectivity:ae,name:"urn:comunica:default:rdf-join/actors#inner-multi-bind-source",bus:G,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}",beforeActors:[st,wt,it,Me]});const ht=new(NH()).ActorOptimizeQueryOperationJoinConnected({name:"urn:comunica:default:optimize-query-operation/actors#join-connected",bus:l,busFailMessage:"Query optimization failed: none of the configured actors were able to optimize",beforeActors:[gt]});new(IH()).ActorHttpRetry({mediatorHttp:Pe,httpInvalidator:$e,name:"urn:comunica:default:http/actors#retry",bus:P,busFailMessage:"HTTP request failed: none of the configured actors were able to handle ${action.input}",beforeActors:[dr]});const Re=new(DH()).ActorOptimizeQueryOperationBgpToJoin({name:"urn:comunica:default:optimize-query-operation/actors#bgp-to-join",bus:l,busFailMessage:"Query optimization failed: none of the configured actors were able to optimize",beforeActors:[ht]}),Ve=new(FH()).ActorOptimizeQueryOperationJoinBgp({name:"urn:comunica:default:optimize-query-operation/actors#join-bgp",bus:l,busFailMessage:"Query optimization failed: none of the configured actors were able to optimize",beforeActors:[Re]}),Ge=new(PH()).ActorOptimizeQueryOperationAssignSourcesExhaustive({name:"urn:comunica:default:optimize-query-operation/actors#assign-sources-exhaustive",bus:l,busFailMessage:"Query optimization failed: none of the configured actors were able to optimize",beforeActors:[Ve]});return new(MH()).ActorOptimizeQueryOperationSetSeedSourcesQuadpatternIris({mediatorQuerySourceIdentify:k,extractSubjects:!0,extractPredicates:!1,extractObjects:!0,extractGraphs:!0,extractVocabIris:!1,name:"urn:comunica:default:optimize-query-operation/actors#set-seed-sources-quadpattern-iris",bus:l,busFailMessage:"Query optimization failed: none of the configured actors were able to optimize",beforeActors:[Ge]}),new(CH()).ActorOptimizeQueryOperationDescribeToConstructsSubject({name:"urn:comunica:default:optimize-query-operation/actors#describe-to-constructs-subject",bus:l,busFailMessage:"Query optimization failed: none of the configured actors were able to optimize",beforeActors:[Ge]}),yt}),h9}var jbe;function N7e(){if(jbe)return O6;jbe=1,Object.defineProperty(O6,"__esModule",{value:!0}),O6.QueryEngine=void 0;const n=Tb(),e=R7e();class u extends n.QueryEngineBase{constructor(r=e()){super(r)}}return O6.QueryEngine=u,O6}var Mbe;function I7e(){return Mbe||(Mbe=1,(function(n){var e=Um&&Um.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=Um&&Um.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(N7e(),n)})(Um)),Um}var D7e=I7e(),Qm={},x6={},y9,Cbe;function F7e(){return Cbe||(Cbe=1,y9=function(n){const e=new(Aq()).LoggerVoid,u=new(De()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-init/^4.0.0/components/ActorInit.jsonld#ActorInit_default_bus"}),a=new(De()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-extract-links/^0.0.0/components/ActorExtractLinks.jsonld#ActorExtractLinks_default_bus"}),r=new(De()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-context-preprocess/^4.0.0/components/ActorContextPreprocess.jsonld#ActorContextPreprocess_default_bus"}),t=new(De()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-hash-bindings/^4.0.0/components/ActorHashBindings.jsonld#ActorHashBindings_default_bus"}),i=new(De()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-hash-quads/^4.0.0/components/ActorHashQuads.jsonld#ActorHashQuads_default_bus"}),o=new(De()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-optimize-query-operation/^4.0.0/components/ActorOptimizeQueryOperation.jsonld#ActorOptimizeQueryOperation_default_bus"}),l=new(De()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-query-parse/^4.0.0/components/ActorQueryParse.jsonld#ActorQueryParse_default_bus"}),s=new(De()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-query-result-serialize/^4.0.0/components/ActorQueryResultSerialize.jsonld#ActorQueryResultSerialize_default_bus"}),c=new(De()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-query-source-identify-hypermedia/^4.0.0/components/ActorQuerySourceIdentifyHypermedia.jsonld#ActorQuerySourceIdentifyHypermedia_default_bus"}),d=new(De()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-dereference/^4.0.0/components/ActorDereference.jsonld#ActorDereference_default_bus"}),f=new(De()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-dereference-rdf/^4.0.0/components/ActorDereferenceRdf.jsonld#ActorDereferenceRdf_default_bus"}),p=new(De()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-join-entries-sort/^4.0.0/components/ActorRdfJoinEntriesSort.jsonld#ActorRdfJoinEntriesSort_default_bus"}),h=new(De()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-join-selectivity/^4.0.0/components/ActorRdfJoinSelectivity.jsonld#ActorRdfJoinSelectivity_default_bus"}),g=new(De()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-metadata/^4.0.0/components/ActorRdfMetadata.jsonld#ActorRdfMetadata_default_bus"}),_=new(De()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-metadata-accumulate/^4.0.0/components/ActorRdfMetadataAccumulate.jsonld#ActorRdfMetadataAccumulate_default_bus"}),m=new(De()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-metadata-extract/^4.0.0/components/ActorRdfMetadataExtract.jsonld#ActorRdfMetadataExtract_default_bus"}),w=new(De()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-parse/^4.0.0/components/ActorRdfParse.jsonld#ActorRdfParse_default_bus"}),T=new(De()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-parse-html/^4.0.0/components/ActorRdfParseHtml.jsonld#ActorRdfParseHtml_default_bus"}),E=new(De()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-resolve-hypermedia-links/^4.0.0/components/ActorRdfResolveHypermediaLinks.jsonld#ActorRdfResolveHypermediaLinks_default_bus"}),S=new(De()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-resolve-hypermedia-links-queue/^4.0.0/components/ActorRdfResolveHypermediaLinksQueue.jsonld#ActorRdfResolveHypermediaLinksQueue_default_bus"}),N=new(De()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-serialize/^4.0.0/components/ActorRdfSerialize.jsonld#ActorRdfSerialize_default_bus"}),j=new(De()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-update-hypermedia/^4.0.0/components/ActorRdfUpdateHypermedia.jsonld#ActorRdfUpdateHypermedia_default_bus"}),q=new(De()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-update-quads/^4.0.0/components/ActorRdfUpdateQuads.jsonld#ActorRdfUpdateQuads_default_bus"}),O=new(De()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-bindings-aggregator-factory/^4.0.0/components/ActorBindingsAggregatorFactory.jsonld#ActorBindingsAggregatorFactory_default_bus"}),I=new(De()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-expression-evaluator-factory/^4.0.0/components/ActorExpressionEvaluatorFactory.jsonld#ActorExpressionEvaluatorFactory_default_bus"}),A=new(We()).BusFunctionFactory({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-function-factory/^4.0.0/components/ActorFunctionFactory.jsonld#ActorFunctionFactory_default_bus"}),P=new(qr()).BusQueryOperation({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-query-operation/^4.0.0/components/ActorQueryOperation.jsonld#ActorQueryOperation_default_bus"}),C=new(De()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-query-process/^4.0.0/components/ActorQueryProcess.jsonld#ActorQueryProcess_default_bus"}),B=new(De()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-query-source-identify/^4.0.0/components/ActorQuerySourceIdentify.jsonld#ActorQuerySourceIdentify_default_bus"}),V=new(De()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-join/^4.0.0/components/ActorRdfJoin.jsonld#ActorRdfJoin_default_bus"}),U=new(De()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-term-comparator-factory/^4.0.0/components/ActorTermComparatorFactory.jsonld#ActorTermComparatorFactory_default_bus"}),G=new(De()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-http/^4.0.0/components/ActorHttp.jsonld#ActorHttp_fallback_bus"}),J=new(De()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-http/^4.0.0/components/ActorHttp.jsonld#ActorHttp_default_bus"}),ne=new(De()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-http-invalidate/^4.0.0/components/ActorHttpInvalidate.jsonld#ActorHttpInvalidate_default_bus"}),W=new(De()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-merge-bindings-context/^4.0.0/components/ActorMergeBindingsContext.jsonld#ActorMergeBindingsContext_default_bus"});new(Js()).ActorExtractLinksPredicates({checkSubject:!1,predicateRegexes:["http://www.w3.org/2000/01/rdf-schema#seeAlso","http://www.w3.org/2002/07/owl##sameAs","http://xmlns.com/foaf/0.1/isPrimaryTopicOf"],name:"urn:comunica:default:extract-links/actors#predicates-common",bus:a}),new(Js()).ActorExtractLinksPredicates({checkSubject:!0,predicateRegexes:["http://www.w3.org/ns/ldp#contains"],name:"urn:comunica:default:extract-links/actors#predicates-ldp",bus:a}),new(Js()).ActorExtractLinksPredicates({checkSubject:!0,predicateRegexes:["http://www.w3.org/ns/pim/space#storage"],name:"urn:comunica:default:extract-links/actors#predicates-solid",bus:a}),new(jq()).ActorExtractLinksHeaders({headersRegexes:['rel="describedby"'],name:"urn:comunica:default:extract-links/actors#links-describedby",bus:a}),new(Cq()).ActorExtractLinksQuadPatternQuery({onlyVariables:!0,name:"urn:comunica:default:extract-links/actors#quad-pattern-query",bus:a});const ee=new(Lq()).MediatorCombineArray({filterErrors:!0,fields:["links","linksConditional"],name:"urn:comunica:default:extract-links/mediators#main",bus:a});new(qq()).ActorContextPreprocessConvertShortcuts({contextKeyShortcuts:{baseIRI:"@comunica/actor-init-query:baseIRI",dataFactory:"@comunica/actor-init-query:dataFactory",datetime:"@comunica/actor-http-memento:datetime",destination:"@comunica/bus-rdf-update-quads:destination",distinctConstruct:"@comunica/actor-init-query:distinctConstruct",explain:"@comunica/actor-init-query:explain",extensionFunctionCreator:"@comunica/actor-init-query:extensionFunctionCreator",extensionFunctions:"@comunica/actor-init-query:extensionFunctions",fetch:"@comunica/bus-http:fetch",functionArgumentsCache:"@comunica/actor-init-query:functionArgumentsCache",httpAuth:"@comunica/bus-http:auth",httpBodyTimeout:"@comunica/bus-http:http-body-timeout",httpIncludeCredentials:"@comunica/bus-http:include-credentials",httpProxyHandler:"@comunica/actor-http-proxy:httpProxyHandler",httpRetryCount:"@comunica/bus-http:http-retry-count",httpRetryDelayFallback:"@comunica/bus-http:http-retry-delay-fallback",httpRetryDelayLimit:"@comunica/bus-http:http-retry-delay-limit",httpTimeout:"@comunica/bus-http:http-timeout",initialBindings:"@comunica/actor-init-query:initialBindings",invalidateCache:"@comunica/actor-init-query:invalidateCache",lenient:"@comunica/actor-init-query:lenient",log:"@comunica/core:log",queryFormat:"@comunica/actor-init-query:queryFormat",queryTimestamp:"@comunica/actor-init-query:queryTimestamp",queryTimestampHighResolution:"@comunica/actor-init-query:queryTimestampHighResolution",readOnly:"@comunica/bus-query-operation:readOnly",recoverBrokenLinks:"@comunica/bus-http-wayback:recover-broken-links",sources:"@comunica/actor-init-query:querySourcesUnidentified",traverse:"@comunica/bus-query-source-identify:traverse",unionDefaultGraph:"@comunica/bus-query-operation:unionDefaultGraph"},name:"urn:comunica:default:context-preprocess/actors#convert-shortcuts",bus:r,busFailMessage:"Context preprocessing failed"}),new(Bq()).ActorContextPreprocessSetDefaults({logger:e,name:"urn:comunica:default:context-preprocess/actors#set-defaults",bus:r,busFailMessage:"Context preprocessing failed"}),new(Uq()).ActorContextPreprocessSourceToDestination({name:"urn:comunica:default:context-preprocess/actors#source-to-destination",bus:r,busFailMessage:"Context preprocessing failed"});const se=new(sP()).ActorContextPreprocessQuerySourceSkolemize({name:"urn:comunica:default:context-preprocess/actors#query-source-skolemize",bus:r,busFailMessage:"Context preprocessing failed"});new($q()).ActorContextPreprocessSetDefaultsLinkTraversal({name:"urn:comunica:default:context-preprocess/actors#set-defaults-link-traversal",bus:r,busFailMessage:"Context preprocessing failed"});const pe=new(i1()).MediatorCombinePipeline({name:"urn:comunica:default:context-preprocess/mediators#main",bus:r});new(Xq()).ActorHashBindingsMurmur({name:"urn:comunica:default:hash-bindings/actors#murmur",bus:t,busFailMessage:"Failed to obtaining hash functions for bindings"});const le=new(Mt()).MediatorRace({name:"urn:comunica:default:hash-bindings/mediators#main",bus:t});new(Kq()).ActorHashQuadsMurmur({name:"urn:comunica:default:hash-quads/actors#murmur",bus:i,busFailMessage:"Failed to obtaining hash functions for quads"});const Ee=new(Mt()).MediatorRace({name:"urn:comunica:default:hash-quads/mediators#main",bus:i});new(Jq()).ActorOptimizeQueryOperationRewriteCopy({name:"urn:comunica:default:optimize-query-operation/actors#rewrite-copy",bus:o,busFailMessage:"Query optimization failed: none of the configured actors were able to optimize"}),new(Wq()).ActorOptimizeQueryOperationRewriteMove({name:"urn:comunica:default:optimize-query-operation/actors#rewrite-move",bus:o,busFailMessage:"Query optimization failed: none of the configured actors were able to optimize"}),new(Yq()).ActorOptimizeQueryOperationRewriteAdd({name:"urn:comunica:default:optimize-query-operation/actors#rewrite-add",bus:o,busFailMessage:"Query optimization failed: none of the configured actors were able to optimize"});const Ae=new(Zq()).ActorOptimizeQueryOperationGroupSources({name:"urn:comunica:default:optimize-query-operation/actors#group-sources",bus:o,busFailMessage:"Query optimization failed: none of the configured actors were able to optimize"});new(eB()).ActorOptimizeQueryOperationConstructDistinct({name:"urn:comunica:default:optimize-query-operation/actors#construct-distinct",bus:o,busFailMessage:"Query optimization failed: none of the configured actors were able to optimize"});const Ne=new(i1()).MediatorCombinePipeline({filterFailures:!0,name:"urn:comunica:default:optimize-query-operation/mediators#main",bus:o});new(tB()).ActorQueryParseSparql({prefixes:{dbpedia:"http://dbpedia.org/resource/","dbpedia-owl":"http://dbpedia.org/ontology/",dbpprop:"http://dbpedia.org/property/",dc:"http://purl.org/dc/terms/",dc11:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",foaf:"http://xmlns.com/foaf/0.1/",geo:"http://www.w3.org/2003/01/geo/wgs84_pos#",owl:"http://www.w3.org/2002/07/owl#",rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",schema:"http://schema.org/",skos:"http://www.w3.org/2008/05/skos#",xsd:"http://www.w3.org/2001/XMLSchema#"},name:"urn:comunica:default:query-parse/actors#sparql",bus:l,busFailMessage:'Query parsing failed: none of the configured parsers were able to the query "${action.query}"'}),new(lB()).ActorQueryParseGraphql({name:"urn:comunica:default:query-parse/actors#graphql",bus:l,busFailMessage:'Query parsing failed: none of the configured parsers were able to the query "${action.query}"'});const Oe=new(Mt()).MediatorRace({name:"urn:comunica:default:query-parse/mediators#main",bus:l});new(hB()).ActorQueryResultSerializeJson({mediaTypePriorities:{"application/json":1},mediaTypeFormats:{"application/json":"https://comunica.linkeddatafragments.org/#results_JSON"},name:"urn:comunica:default:query-result-serialize/actors#json",bus:s,busFailMessage:"Query result serialization failed: none of the configured actors were able to serialize for type ${action.handle.type}"}),new(yB()).ActorQueryResultSerializeSimple({mediaTypePriorities:{simple:.9},mediaTypeFormats:{simple:"https://comunica.linkeddatafragments.org/#results_simple"},name:"urn:comunica:default:query-result-serialize/actors#simple",bus:s,busFailMessage:"Query result serialization failed: none of the configured actors were able to serialize for type ${action.handle.type}"}),new(mB()).ActorQueryResultSerializeSparqlCsv({mediaTypePriorities:{"text/csv":.75},mediaTypeFormats:{"text/csv":"http://www.w3.org/ns/formats/SPARQL_Results_CSV"},name:"urn:comunica:default:query-result-serialize/actors#csv",bus:s,busFailMessage:"Query result serialization failed: none of the configured actors were able to serialize for type ${action.handle.type}"}),new(bB()).ActorQueryResultSerializeSparqlTsv({mediaTypePriorities:{"text/tab-separated-values":.75},mediaTypeFormats:{"text/tab-separated-values":"http://www.w3.org/ns/formats/SPARQL_Results_TSV"},name:"urn:comunica:default:query-result-serialize/actors#sparql-tsv",bus:s,busFailMessage:"Query result serialization failed: none of the configured actors were able to serialize for type ${action.handle.type}"}),new(gB()).ActorQueryResultSerializeSparqlXml({mediaTypePriorities:{"application/sparql-results+xml":.8},mediaTypeFormats:{"application/sparql-results+xml":"http://www.w3.org/ns/formats/SPARQL_Results_XML"},name:"urn:comunica:default:query-result-serialize/actors#sparql-xml",bus:s,busFailMessage:"Query result serialization failed: none of the configured actors were able to serialize for type ${action.handle.type}"}),new(vB()).ActorQueryResultSerializeTable({columnWidth:50,mediaTypePriorities:{table:.6},mediaTypeFormats:{table:"https://comunica.linkeddatafragments.org/#results_table"},name:"urn:comunica:default:query-result-serialize/actors#table",bus:s,busFailMessage:"Query result serialization failed: none of the configured actors were able to serialize for type ${action.handle.type}"}),new(TB()).ActorQueryResultSerializeTree({mediaTypePriorities:{tree:.5},mediaTypeFormats:{tree:"https://comunica.linkeddatafragments.org/#results_tree"},name:"urn:comunica:default:query-result-serialize/actors#tree",bus:s,busFailMessage:"Query result serialization failed: none of the configured actors were able to serialize for type ${action.handle.type}"});const be=new(Mt()).MediatorRace({name:"urn:comunica:default:query-result-serialize/mediators#serialize",bus:s}),te=new(vn()).MediatorCombineUnion({field:"mediaTypes",name:"urn:comunica:default:query-result-serialize/mediators#mediaType",bus:s}),v=new(vn()).MediatorCombineUnion({field:"mediaTypeFormats",name:"urn:comunica:default:query-result-serialize/mediators#mediaTypeFormat",bus:s}),F=new(oa()).MediatorNumber({field:"filterFactor",type:"max",ignoreFailures:!0,name:"urn:comunica:default:query-source-identify-hypermedia/mediators#main",bus:c}),D=new(EB()).ActorDereferenceFallback({name:"urn:comunica:default:dereference/actors#fallback",bus:d,busFailMessage:"Dereferencing failed: none of the configured actors were able to handle ${action.url}"}),L=new(Mt()).MediatorRace({name:"urn:comunica:default:dereference/mediators#main",bus:d}),H=new(Mt()).MediatorRace({name:"urn:comunica:default:dereference-rdf/mediators#main",bus:f});new(OB()).ActorRdfJoinEntriesSortTraversalZeroKnowledge({name:"urn:comunica:default:rdf-join-entries-sort/actors#traversal-zero-knowledge",bus:p,busFailMessage:"Sorting join entries failed: none of the configured actors were able to sort"});const Z=new(oa()).MediatorNumber({field:"accuracy",type:"max",ignoreFailures:!0,name:"urn:comunica:default:rdf-join-entries-sort/mediators#main",bus:p});new(xB()).ActorRdfJoinSelectivityVariableCounting({name:"urn:comunica:default:rdf-join-selectivity/actors#variable-counting",bus:h,busFailMessage:"Determining join selectivity failed: none of the configured actors were able to calculate selectivities"});const $=new(oa()).MediatorNumber({field:"accuracy",type:"max",ignoreFailures:!0,name:"urn:comunica:default:rdf-join-selectivity/mediators#main",bus:h});new(RB()).ActorRdfMetadataPrimaryTopic({metadataToData:!1,dataToMetadataOnInvalidMetadataGraph:!0,name:"urn:comunica:default:rdf-metadata/actors#primary-topic",bus:g,busFailMessage:"Metadata splicing failed: none of the configured actors were able to splice metadata from ${action.url}"}),new(NB()).ActorRdfMetadataAll({name:"urn:comunica:default:rdf-metadata/actors#all",bus:g,busFailMessage:"Metadata splicing failed: none of the configured actors were able to splice metadata from ${action.url}"});const ue=new(Mt()).MediatorRace({name:"urn:comunica:default:rdf-metadata/mediators#main",bus:g});new(DB()).ActorRdfMetadataAccumulateCardinality({name:"urn:comunica:default:rdf-metadata-accumulate/actors#cardinality",bus:_,busFailMessage:"Metadata accumulation failed: none of the configured actors were able to accumulate metadata in mode ${action.mode}"}),new(FB()).ActorRdfMetadataAccumulatePageSize({name:"urn:comunica:default:rdf-metadata-accumulate/actors#pagesize",bus:_,busFailMessage:"Metadata accumulation failed: none of the configured actors were able to accumulate metadata in mode ${action.mode}"}),new(PB()).ActorRdfMetadataAccumulateRequestTime({name:"urn:comunica:default:rdf-metadata-accumulate/actors#requesttime",bus:_,busFailMessage:"Metadata accumulation failed: none of the configured actors were able to accumulate metadata in mode ${action.mode}"});const ae=new(vn()).MediatorCombineUnion({field:"metadata",name:"urn:comunica:default:rdf-metadata-accumulate/mediators#main",bus:_});new(jB()).ActorRdfMetadataExtractHydraControls({name:"urn:comunica:default:rdf-metadata-extract/actors#hydra-controls",bus:m,busFailMessage:"Metadata extraction failed: none of the configured actors were able to extract metadata from ${action.url}"}),new(MB()).ActorRdfMetadataExtractHydraCount({predicates:["http://www.w3.org/ns/hydra/core#totalItems","http://rdfs.org/ns/void#triples"],name:"urn:comunica:default:rdf-metadata-extract/actors#hydra-count",bus:m,busFailMessage:"Metadata extraction failed: none of the configured actors were able to extract metadata from ${action.url}"}),new(CB()).ActorRdfMetadataExtractHydraPagesize({predicates:["http://www.w3.org/ns/hydra/core#itemsPerPage"],name:"urn:comunica:default:rdf-metadata-extract/actors#hydra-pagesize",bus:m,busFailMessage:"Metadata extraction failed: none of the configured actors were able to extract metadata from ${action.url}"}),new(LB()).ActorRdfMetadataExtractRequestTime({name:"urn:comunica:default:rdf-metadata-extract/actors#request-time",bus:m,busFailMessage:"Metadata extraction failed: none of the configured actors were able to extract metadata from ${action.url}"}),new(qB()).ActorRdfMetadataExtractAllowHttpMethods({name:"urn:comunica:default:rdf-metadata-extract/actors#allow-http-methods",bus:m,busFailMessage:"Metadata extraction failed: none of the configured actors were able to extract metadata from ${action.url}"}),new(BB()).ActorRdfMetadataExtractPutAccepted({name:"urn:comunica:default:rdf-metadata-extract/actors#put-accepted",bus:m,busFailMessage:"Metadata extraction failed: none of the configured actors were able to extract metadata from ${action.url}"}),new(UB()).ActorRdfMetadataExtractPatchSparqlUpdate({name:"urn:comunica:default:rdf-metadata-extract/actors#patch-sparql-update",bus:m,busFailMessage:"Metadata extraction failed: none of the configured actors were able to extract metadata from ${action.url}"}),new(QB()).ActorRdfMetadataExtractSparqlService({inferHttpsEndpoint:!0,name:"urn:comunica:default:rdf-metadata-extract/actors#sparql-service",bus:m,busFailMessage:"Metadata extraction failed: none of the configured actors were able to extract metadata from ${action.url}"});const ce=new(vn()).MediatorCombineUnion({filterFailures:!0,field:"metadata",name:"urn:comunica:default:rdf-metadata-extract/mediators#main",bus:m});new($B()).ActorRdfParseN3({mediaTypePriorities:{"application/n-quads":1,"application/n-triples":.8,"application/trig":.95,"text/n3":.35,"text/turtle":.6},mediaTypeFormats:{"application/n-quads":"http://www.w3.org/ns/formats/N-Quads","application/n-triples":"http://www.w3.org/ns/formats/N-Triples","application/trig":"http://www.w3.org/ns/formats/TriG","text/n3":"http://www.w3.org/ns/formats/N3","text/turtle":"http://www.w3.org/ns/formats/Turtle"},priorityScale:1,name:"urn:comunica:default:rdf-parse/actors#n3",bus:w,busFailMessage:"RDF parsing failed: none of the configured parsers were able to handle the media type ${action.handle.mediaType} for ${action.handle.url}"}),new(XB()).ActorRdfParseRdfXml({mediaTypePriorities:{"application/rdf+xml":1},mediaTypeFormats:{"application/rdf+xml":"http://www.w3.org/ns/formats/RDF_XML"},priorityScale:.5,name:"urn:comunica:default:rdf-parse/actors#rdfxml",bus:w,busFailMessage:"RDF parsing failed: none of the configured parsers were able to handle the media type ${action.handle.mediaType} for ${action.handle.url}"}),new(JB()).ActorRdfParseXmlRdfa({mediaTypePriorities:{"application/xml":1,"image/svg+xml":1,"text/xml":1},mediaTypeFormats:{"application/xml":"http://www.w3.org/ns/formats/RDFa","image/svg+xml":"http://www.w3.org/ns/formats/RDFa","text/xml":"http://www.w3.org/ns/formats/RDFa"},priorityScale:.3,name:"urn:comunica:default:rdf-parse/actors#xmlrdfa",bus:w,busFailMessage:"RDF parsing failed: none of the configured parsers were able to handle the media type ${action.handle.mediaType} for ${action.handle.url}"}),new(WB()).ActorRdfParseShaclc({mediaTypePriorities:{"text/shaclc":1,"text/shaclc-ext":.5},mediaTypeFormats:{"text/shaclc":"http://www.w3.org/ns/formats/Shaclc","text/shaclc-ext":"http://www.w3.org/ns/formats/ShaclcExtended"},priorityScale:.1,name:"urn:comunica:default:rdf-parse/actors#shaclc",bus:w,busFailMessage:"RDF parsing failed: none of the configured parsers were able to handle the media type ${action.handle.mediaType} for ${action.handle.url}"});const Se=new(Mt()).MediatorRace({name:"urn:comunica:default:rdf-parse/mediators#parse",bus:w}),xe=new(vn()).MediatorCombineUnion({field:"mediaTypes",name:"urn:comunica:default:rdf-parse/mediators#mediaType",bus:w});new(YB()).ActorRdfParseHtml({busRdfParseHtml:T,mediaTypePriorities:{"application/xhtml+xml":.9,"text/html":1},mediaTypeFormats:{"application/xhtml+xml":"http://www.w3.org/ns/formats/HTML","text/html":"http://www.w3.org/ns/formats/HTML"},priorityScale:.2,name:"urn:comunica:default:rdf-parse/actors#html",bus:w,busFailMessage:"RDF parsing failed: none of the configured parsers were able to handle the media type ${action.handle.mediaType} for ${action.handle.url}"}),new(eU()).ActorRdfParseHtmlMicrodata({name:"urn:comunica:default:rdf-parse-html/actors#microdata",bus:T,busFailMessage:"RDF HTML parsing failed: none of the configured parsers were able to parse RDF in HTML"}),new(tU()).ActorRdfParseHtmlRdfa({name:"urn:comunica:default:rdf-parse-html/actors#rdfa",bus:T,busFailMessage:"RDF HTML parsing failed: none of the configured parsers were able to parse RDF in HTML"}),new(rU()).ActorRdfResolveHypermediaLinksNext({name:"urn:comunica:default:rdf-resolve-hypermedia-links/actors#next",bus:E,busFailMessage:"Hypermedia link resolution failed: none of the configured actors were able to resolve links from metadata"}),new(nU()).ActorRdfResolveHypermediaLinksTraverse({name:"urn:comunica:default:rdf-resolve-hypermedia-links/actors#traverse",bus:E,busFailMessage:"Hypermedia link resolution failed: none of the configured actors were able to resolve links from metadata"});const Ce=new(Mt()).MediatorRace({name:"urn:comunica:default:rdf-resolve-hypermedia-links/mediators#main",bus:E});new(Pq()).ActorRdfResolveHypermediaLinksQueueFifo({name:"urn:comunica:default:rdf-resolve-hypermedia-links-queue/actors#fifo",bus:S,busFailMessage:"Link queue creation failed: none of the configured actors were able to create a link queue starting from ${action.firstUrl}"});const He=new(Mt()).MediatorRace({name:"urn:comunica:default:rdf-resolve-hypermedia-links-queue/mediators#main",bus:S});new(iU()).ActorRdfSerializeN3({mediaTypePriorities:{"application/n-quads":1,"application/n-triples":.8,"application/trig":.95,"text/n3":.35,"text/turtle":.6},mediaTypeFormats:{"application/n-quads":"http://www.w3.org/ns/formats/N-Quads","application/n-triples":"http://www.w3.org/ns/formats/N-Triples","application/trig":"http://www.w3.org/ns/formats/TriG","text/n3":"http://www.w3.org/ns/formats/N3","text/turtle":"http://www.w3.org/ns/formats/Turtle"},name:"urn:comunica:default:rdf-serialize/actors#n3",bus:N,busFailMessage:"RDF serialization failed: none of the configured serializers were able to handle media type ${action.handleMediaType}"}),new(oU()).ActorRdfSerializeJsonLd({jsonStringifyIndentSpaces:2,mediaTypePriorities:{"application/ld+json":1},mediaTypeFormats:{"application/ld+json":"http://www.w3.org/ns/formats/JSON-LD"},priorityScale:.9,name:"urn:comunica:default:rdf-serialize/actors#jsonld",bus:N,busFailMessage:"RDF serialization failed: none of the configured serializers were able to handle media type ${action.handleMediaType}"}),new(cU()).ActorRdfSerializeShaclc({mediaTypePriorities:{"text/shaclc":1,"text/shaclc-ext":.5},mediaTypeFormats:{"text/shaclc":"http://www.w3.org/ns/formats/Shaclc","text/shaclc-ext":"http://www.w3.org/ns/formats/ShaclcExtended"},priorityScale:.1,name:"urn:comunica:default:rdf-serialize/actors#shaclc",bus:N,busFailMessage:"RDF serialization failed: none of the configured serializers were able to handle media type ${action.handleMediaType}"});const Je=new(Mt()).MediatorRace({name:"urn:comunica:default:rdf-serialize/mediators#serialize",bus:N}),Ye=new(vn()).MediatorCombineUnion({field:"mediaTypes",name:"urn:comunica:default:rdf-serialize/mediators#mediaType",bus:N}),oe=new(vn()).MediatorCombineUnion({field:"mediaTypeFormats",name:"urn:comunica:default:rdf-serialize/mediators#mediaTypeFormat",bus:N}),X=new(Mt()).MediatorRace({name:"urn:comunica:default:rdf-update-hypermedia/mediators#main",bus:j});new(dU()).ActorRdfUpdateQuadsRdfJsStore({name:"urn:comunica:default:rdf-update-quads/actors#rdfjs-store",bus:q,busFailMessage:"RDF updating failed: none of the configured actors were able to handle an update"});const Y=new(Mt()).MediatorRace({name:"urn:comunica:default:rdf-update-quads/mediators#main",bus:q}),he=new(Mt()).MediatorRace({name:"urn:comunica:default:bindings-aggregator-factory/mediators#main",bus:O}),ve=new(Mt()).MediatorRace({name:"urn:comunica:default:expression-evaluator-factory/mediators#main",bus:I});new(fU()).ActorFunctionFactoryExpressionBnode({name:"urn:comunica:default:function-factory/actors#expression-function-bnode",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(pU()).ActorFunctionFactoryExpressionBound({name:"urn:comunica:default:function-factory/actors#expression-function-bound",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(hU()).ActorFunctionFactoryExpressionCoalesce({name:"urn:comunica:default:function-factory/actors#expression-function-coalesce",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(yU()).ActorFunctionFactoryExpressionConcat({name:"urn:comunica:default:function-factory/actors#expression-function-concat",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(mU()).ActorFunctionFactoryExpressionExtensions({name:"urn:comunica:default:function-factory/actors#expression-function-extensions",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(bU()).ActorFunctionFactoryExpressionIf({name:"urn:comunica:default:function-factory/actors#expression-function-if",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(gU()).ActorFunctionFactoryExpressionLogicalAnd({name:"urn:comunica:default:function-factory/actors#expression-function-logical-and",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(vU()).ActorFunctionFactoryExpressionLogicalOr({name:"urn:comunica:default:function-factory/actors#expression-function-logical-or",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(_U()).ActorFunctionFactoryExpressionSameTerm({name:"urn:comunica:default:function-factory/actors#expression-function-same-term",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(TU()).ActorFunctionFactoryTermAbs({name:"urn:comunica:default:function-factory/actors#term-function-abs",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(wU()).ActorFunctionFactoryTermAddition({name:"urn:comunica:default:function-factory/actors#term-function-addition",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(SU()).ActorFunctionFactoryTermCeil({name:"urn:comunica:default:function-factory/actors#term-function-ceil",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(EU()).ActorFunctionFactoryTermContains({name:"urn:comunica:default:function-factory/actors#term-function-contains",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(AU()).ActorFunctionFactoryTermDatatype({name:"urn:comunica:default:function-factory/actors#term-function-datatype",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(OU()).ActorFunctionFactoryTermDay({name:"urn:comunica:default:function-factory/actors#term-function-day",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(xU()).ActorFunctionFactoryTermDivision({name:"urn:comunica:default:function-factory/actors#term-function-division",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(RU()).ActorFunctionFactoryTermEncodeForUri({name:"urn:comunica:default:function-factory/actors#term-function-encode-for-uri",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(NU()).ActorFunctionFactoryTermEquality({name:"urn:comunica:default:function-factory/actors#term-function-equality",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(IU()).ActorFunctionFactoryTermFloor({name:"urn:comunica:default:function-factory/actors#term-function-floor",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(DU()).ActorFunctionFactoryTermHours({name:"urn:comunica:default:function-factory/actors#term-function-hours",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(FU()).ActorFunctionFactoryTermIri({name:"urn:comunica:default:function-factory/actors#term-function-iri",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(PU()).ActorFunctionFactoryTermIsBlank({name:"urn:comunica:default:function-factory/actors#term-function-is-blank",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(jU()).ActorFunctionFactoryTermIsIri({name:"urn:comunica:default:function-factory/actors#term-function-is-iri",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(MU()).ActorFunctionFactoryTermIsLiteral({name:"urn:comunica:default:function-factory/actors#term-function-is-literal",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(CU()).ActorFunctionFactoryTermIsNumeric({name:"urn:comunica:default:function-factory/actors#term-function-is-numeric",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(LU()).ActorFunctionFactoryTermIsTriple({name:"urn:comunica:default:function-factory/actors#term-function-is-triple",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(qU()).ActorFunctionFactoryTermLang({name:"urn:comunica:default:function-factory/actors#term-function-lang",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(BU()).ActorFunctionFactoryTermLangmatches({name:"urn:comunica:default:function-factory/actors#term-function-langmatches",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(UU()).ActorFunctionFactoryTermLcase({name:"urn:comunica:default:function-factory/actors#term-function-lcase",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(QU()).ActorFunctionFactoryTermMd5({name:"urn:comunica:default:function-factory/actors#term-function-md5",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(VU()).ActorFunctionFactoryTermMinutes({name:"urn:comunica:default:function-factory/actors#term-function-minutes",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(HU()).ActorFunctionFactoryTermMonth({name:"urn:comunica:default:function-factory/actors#term-function-month",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(kU()).ActorFunctionFactoryTermMultiplication({name:"urn:comunica:default:function-factory/actors#term-function-multiplication",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(zU()).ActorFunctionFactoryTermNot({name:"urn:comunica:default:function-factory/actors#term-function-not",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(GU()).ActorFunctionFactoryTermNow({name:"urn:comunica:default:function-factory/actors#term-function-now",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new($U()).ActorFunctionFactoryTermObject({name:"urn:comunica:default:function-factory/actors#term-function-object",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(XU()).ActorFunctionFactoryTermPredicate({name:"urn:comunica:default:function-factory/actors#term-function-predicate",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(EP()).ActorFunctionFactoryTermRegex({name:"urn:comunica:default:function-factory/actors#term-function-regex",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(JU()).ActorFunctionFactoryTermReplace({name:"urn:comunica:default:function-factory/actors#term-function-replace",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(KU()).ActorFunctionFactoryTermRand({name:"urn:comunica:default:function-factory/actors#term-function-rand",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(WU()).ActorFunctionFactoryTermRound({name:"urn:comunica:default:function-factory/actors#term-function-round",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(YU()).ActorFunctionFactoryTermSeconds({name:"urn:comunica:default:function-factory/actors#term-function-seconds",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(ZU()).ActorFunctionFactoryTermSha1({name:"urn:comunica:default:function-factory/actors#term-function-sha1",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(eQ()).ActorFunctionFactoryTermSha256({name:"urn:comunica:default:function-factory/actors#term-function-sha256",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(tQ()).ActorFunctionFactoryTermSha384({name:"urn:comunica:default:function-factory/actors#term-function-sha384",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(rQ()).ActorFunctionFactoryTermSha512({name:"urn:comunica:default:function-factory/actors#term-function-sha512",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(nQ()).ActorFunctionFactoryTermStrAfter({name:"urn:comunica:default:function-factory/actors#term-function-str-after",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(aQ()).ActorFunctionFactoryTermStrBefore({name:"urn:comunica:default:function-factory/actors#term-function-str-before",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(iQ()).ActorFunctionFactoryTermStrDt({name:"urn:comunica:default:function-factory/actors#term-function-str-dt",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(uQ()).ActorFunctionFactoryTermStrEnds({name:"urn:comunica:default:function-factory/actors#term-function-str-ends",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(oQ()).ActorFunctionFactoryTermStrLang({name:"urn:comunica:default:function-factory/actors#term-function-str-lang",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(sQ()).ActorFunctionFactoryTermStrLen({name:"urn:comunica:default:function-factory/actors#term-function-str-len",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(cQ()).ActorFunctionFactoryTermStrStarts({name:"urn:comunica:default:function-factory/actors#term-function-str-starts",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(dQ()).ActorFunctionFactoryTermStrUuid({name:"urn:comunica:default:function-factory/actors#term-function-str-uuid",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(fQ()).ActorFunctionFactoryTermStr({name:"urn:comunica:default:function-factory/actors#term-function-str",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(pQ()).ActorFunctionFactoryTermSubStr({name:"urn:comunica:default:function-factory/actors#term-function-sub-str",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(hQ()).ActorFunctionFactoryTermSubject({name:"urn:comunica:default:function-factory/actors#term-function-subject",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(yQ()).ActorFunctionFactoryTermSubtraction({name:"urn:comunica:default:function-factory/actors#term-function-subtraction",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(mQ()).ActorFunctionFactoryTermTimezone({name:"urn:comunica:default:function-factory/actors#term-function-timezone",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(bQ()).ActorFunctionFactoryTermTriple({name:"urn:comunica:default:function-factory/actors#term-function-triple",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(gQ()).ActorFunctionFactoryTermTz({name:"urn:comunica:default:function-factory/actors#term-function-tz",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(vQ()).ActorFunctionFactoryTermUcase({name:"urn:comunica:default:function-factory/actors#term-function-ucase",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(_Q()).ActorFunctionFactoryTermUnaryMinus({name:"urn:comunica:default:function-factory/actors#term-function-unary-minus",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(TQ()).ActorFunctionFactoryTermUnaryPlus({name:"urn:comunica:default:function-factory/actors#term-function-unary-plus",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(wQ()).ActorFunctionFactoryTermUuid({name:"urn:comunica:default:function-factory/actors#term-function-uuid",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(SQ()).ActorFunctionFactoryTermXsdToBoolean({name:"urn:comunica:default:function-factory/actors#term-function-xsd-to-boolean",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(EQ()).ActorFunctionFactoryTermXsdToDate({name:"urn:comunica:default:function-factory/actors#term-function-xsd-to-date",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(AQ()).ActorFunctionFactoryTermXsdToDatetime({name:"urn:comunica:default:function-factory/actors#term-function-xsd-to-datetime",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(OQ()).ActorFunctionFactoryTermXsdToDayTimeDuration({name:"urn:comunica:default:function-factory/actors#term-function-xsd-to-day-time-duration",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(xQ()).ActorFunctionFactoryTermXsdToDecimal({name:"urn:comunica:default:function-factory/actors#term-function-xsd-to-decimal",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(RQ()).ActorFunctionFactoryTermXsdToDouble({name:"urn:comunica:default:function-factory/actors#term-function-xsd-to-double",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(NQ()).ActorFunctionFactoryTermXsdToDuration({name:"urn:comunica:default:function-factory/actors#term-function-xsd-to-duration",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(IQ()).ActorFunctionFactoryTermXsdToFloat({name:"urn:comunica:default:function-factory/actors#term-function-xsd-to-float",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(DQ()).ActorFunctionFactoryTermXsdToInteger({name:"urn:comunica:default:function-factory/actors#term-function-xsd-to-integer",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(FQ()).ActorFunctionFactoryTermXsdToString({name:"urn:comunica:default:function-factory/actors#term-function-xsd-to-string",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(PQ()).ActorFunctionFactoryTermXsdToTime({name:"urn:comunica:default:function-factory/actors#term-function-xsd-to-time",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(jQ()).ActorFunctionFactoryTermXsdToYearMonthDuration({name:"urn:comunica:default:function-factory/actors#term-function-xsd-to-year-month-duration",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(MQ()).ActorFunctionFactoryTermYear({name:"urn:comunica:default:function-factory/actors#term-function-year",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"});const ye=new(Mt()).MediatorRace({name:"urn:comunica:default:function-factory/mediators#main",bus:A});new(LQ()).ActorQueryOperationSource({name:"urn:comunica:default:query-operation/actors#source",bus:P,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"});const re=new(oa()).MediatorNumber({field:"httpRequests",type:"min",ignoreFailures:!0,name:"urn:comunica:default:query-operation/mediators#main",bus:P}),Ie=new(Mt()).MediatorRace({name:"urn:comunica:default:query-process/mediators#main",bus:C}),Le=new(Mt()).MediatorRace({name:"urn:comunica:default:query-source-identify/mediators#main",bus:B}),Pe=new(qQ()).MediatorJoinCoefficientsFixed({cpuWeight:10,memoryWeight:1,timeWeight:2,ioWeight:10,name:"urn:comunica:default:rdf-join/mediators#main",bus:V}),Fe=new(Mt()).MediatorRace({name:"urn:comunica:default:term-comparator-factory/mediators#main",bus:U}),R=new(oa()).MediatorNumber({field:"time",type:"min",ignoreFailures:!0,name:"urn:comunica:default:http/mediators#main",bus:G}),k=new(CQ()).ActorHttpFetch({agentOptions:{keepAlive:!0,maxSockets:5},name:"urn:comunica:default:http/actors#fetch",bus:J,busFailMessage:"HTTP request failed: none of the configured actors were able to handle ${action.input}"}),K=new(oa()).MediatorNumber({field:"time",type:"min",ignoreFailures:!0,name:"urn:comunica:default:http/mediators#no-fallback",bus:J}),de=new(Sa()).ActorHttpInvalidateListenable({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-context-preprocess-query-source-identify/^4.0.0/components/ActorContextPreprocessQuerySourceIdentify.jsonld#IActorContextPreprocessQuerySourceIdentifyArgs_default_invalidator",bus:ne,busFailMessage:"HTTP invalidation failed: none of the configured actors were able to invalidate ${action.url}"}),ge=new(BQ()).MediatorAll({name:"urn:comunica:default:http-invalidate/mediators#main",bus:ne}),Qe=new(Sa()).ActorHttpInvalidateListenable({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-rdf-update-quads-hypermedia/^4.0.0/components/ActorRdfUpdateQuadsHypermedia.jsonld#IActorRdfUpdateQuadsHypermediaArgs_default_invalidator",bus:ne,busFailMessage:"HTTP invalidation failed: none of the configured actors were able to invalidate ${action.url}"}),je=new(Sa()).ActorHttpInvalidateListenable({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-http-retry/^4.0.0/components/ActorHttpRetry.jsonld#IActorHttpQueueArgs_default_invalidator",bus:ne,busFailMessage:"HTTP invalidation failed: none of the configured actors were able to invalidate ${action.url}"}),$e=new(Sa()).ActorHttpInvalidateListenable({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-query-result-serialize-sparql-json/^4.0.0/components/ActionObserverHttp.jsonld#IActionObserverHttpArgs_default_invalidator",bus:ne,busFailMessage:"HTTP invalidation failed: none of the configured actors were able to invalidate ${action.url}"}),at=new(Sa()).ActorHttpInvalidateListenable({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-query-result-serialize-stats/^4.0.0/components/ActionObserverHttp.jsonld#IActionObserverHttpArgs_default_invalidator",bus:ne,busFailMessage:"HTTP invalidation failed: none of the configured actors were able to invalidate ${action.url}"}),fe=new(vn()).MediatorCombineUnion({field:"mergeHandlers",name:"urn:comunica:default:merge-bindings-context/mediators#main",bus:W});new(UQ()).ActorRdfMetadataExtractTraverse({mediatorExtractLinks:ee,name:"urn:comunica:default:rdf-metadata-extract/actors#traverse",bus:m,busFailMessage:"Metadata extraction failed: none of the configured actors were able to extract metadata from ${action.url}"}),new(QQ()).ActorRdfJoinSingle({mediatorJoinSelectivity:$,name:"urn:comunica:default:rdf-join/actors#inner-single",bus:V,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}"});const Te=new(HQ()).ActorRdfJoinSymmetricHash({mediatorHashBindings:le,mediatorJoinSelectivity:$,name:"urn:comunica:default:rdf-join/actors#inner-symmetric-hash",bus:V,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}"}),qe=new(kQ()).ActorRdfJoinNestedLoop({mediatorJoinSelectivity:$,name:"urn:comunica:default:rdf-join/actors#inner-nested-loop",bus:V,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}"});new(s1()).ActorRdfJoinMinusHash({canHandleUndefs:!1,mediatorJoinSelectivity:$,name:"urn:comunica:default:rdf-join/actors#minus-hash-def",bus:V,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}"}),new(s1()).ActorRdfJoinMinusHash({canHandleUndefs:!0,mediatorJoinSelectivity:$,name:"urn:comunica:default:rdf-join/actors#minus-hash-undef",bus:V,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}"}),new(_u()).ActorRdfJoinOptionalHash({canHandleUndefs:!1,blocking:!1,mediatorJoinSelectivity:$,name:"urn:comunica:default:rdf-join/actors#optional-hash-def-nonblocking",bus:V,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}"}),new(_u()).ActorRdfJoinOptionalHash({canHandleUndefs:!1,blocking:!0,mediatorJoinSelectivity:$,name:"urn:comunica:default:rdf-join/actors#optional-hash-def-blocking",bus:V,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}"}),new(_u()).ActorRdfJoinOptionalHash({canHandleUndefs:!0,blocking:!1,mediatorJoinSelectivity:$,name:"urn:comunica:default:rdf-join/actors#optional-hash-undef-nonblocking",bus:V,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}"}),new(_u()).ActorRdfJoinOptionalHash({canHandleUndefs:!0,blocking:!0,mediatorJoinSelectivity:$,name:"urn:comunica:default:rdf-join/actors#optional-hash-undef-blocking",bus:V,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}"}),new(zQ()).ActorRdfJoinOptionalNestedLoop({mediatorJoinSelectivity:$,name:"urn:comunica:default:rdf-join/actors#optional-nested-loop",bus:V,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}"}),new(GQ()).ActorDereferenceRdfParse({mediatorDereference:L,mediatorParse:Se,mediatorParseMediatypes:xe,mediaMappings:{htm:"text/html",html:"text/html",json:"application/json",jsonld:"application/ld+json",n3:"text/n3",nq:"application/n-quads",nquads:"application/n-quads",nt:"application/n-triples",ntriples:"application/n-triples",owl:"application/rdf+xml",rdf:"application/rdf+xml",rdfxml:"application/rdf+xml",shaclc:"text/shaclc",shaclce:"text/shaclc-ext",shc:"text/shaclc",shce:"text/shaclc-ext",svg:"image/svg+xml",svgz:"image/svg+xml",trig:"application/trig",ttl:"text/turtle",turtle:"text/turtle",xht:"application/xhtml+xml",xhtml:"application/xhtml+xml",xml:"application/xml"},name:"urn:comunica:default:dereference-rdf/actors#parse",bus:f,busFailMessage:"RDF dereferencing failed: none of the configured parsers were able to handle the media type ${action.handle.mediaType} for ${action.handle.url}"}),new($Q()).ActorRdfParseHtmlScript({mediatorRdfParseMediatypes:xe,mediatorRdfParseHandle:Se,name:"urn:comunica:default:rdf-parse-html/actors#script",bus:T,busFailMessage:"RDF HTML parsing failed: none of the configured parsers were able to parse RDF in HTML"}),new(XQ()).ActorQueryResultSerializeRdf({mediatorRdfSerialize:Je,mediatorMediaTypeCombiner:Ye,mediatorMediaTypeFormatCombiner:oe,name:"urn:comunica:default:query-result-serialize/actors#rdf",bus:s,busFailMessage:"Query result serialization failed: none of the configured actors were able to serialize for type ${action.handle.type}"}),new(KQ()).ActorBindingsAggregatorFactoryCount({mediatorExpressionEvaluatorFactory:ve,name:"urn:comunica:default:bindings-aggregator-factory/actors#count",bus:O,busFailMessage:"Creation of Aggregator failed: none of the configured actors were able to handle ${action.expr.aggregator}"}),new(JQ()).ActorBindingsAggregatorFactoryGroupConcat({mediatorExpressionEvaluatorFactory:ve,name:"urn:comunica:default:bindings-aggregator-factory/actors#group-concat",bus:O,busFailMessage:"Creation of Aggregator failed: none of the configured actors were able to handle ${action.expr.aggregator}"}),new(WQ()).ActorBindingsAggregatorFactorySample({mediatorExpressionEvaluatorFactory:ve,name:"urn:comunica:default:bindings-aggregator-factory/actors#sample",bus:O,busFailMessage:"Creation of Aggregator failed: none of the configured actors were able to handle ${action.expr.aggregator}"}),new(YQ()).ActorBindingsAggregatorFactoryWildcardCount({mediatorExpressionEvaluatorFactory:ve,name:"urn:comunica:default:bindings-aggregator-factory/actors#wildcard-count",bus:O,busFailMessage:"Creation of Aggregator failed: none of the configured actors were able to handle ${action.expr.aggregator}"}),new(ZQ()).ActorBindingsAggregatorFactoryAverage({mediatorFunctionFactory:ye,mediatorExpressionEvaluatorFactory:ve,name:"urn:comunica:default:bindings-aggregator-factory/actors#average",bus:O,busFailMessage:"Creation of Aggregator failed: none of the configured actors were able to handle ${action.expr.aggregator}"}),new(eV()).ActorBindingsAggregatorFactorySum({mediatorFunctionFactory:ye,mediatorExpressionEvaluatorFactory:ve,name:"urn:comunica:default:bindings-aggregator-factory/actors#sum",bus:O,busFailMessage:"Creation of Aggregator failed: none of the configured actors were able to handle ${action.expr.aggregator}"}),new(tV()).ActorFunctionFactoryExpressionIn({mediatorFunctionFactory:ye,name:"urn:comunica:default:function-factory/actors#expression-function-in",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(rV()).ActorFunctionFactoryExpressionNotIn({mediatorFunctionFactory:ye,name:"urn:comunica:default:function-factory/actors#expression-function-not-in",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(nV()).ActorFunctionFactoryTermGreaterThanEqual({mediatorFunctionFactory:ye,name:"urn:comunica:default:function-factory/actors#term-function-greater-than-equal",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(aV()).ActorFunctionFactoryTermGreaterThan({mediatorFunctionFactory:ye,name:"urn:comunica:default:function-factory/actors#term-function-greater-than",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(iV()).ActorFunctionFactoryTermInequality({mediatorFunctionFactory:ye,name:"urn:comunica:default:function-factory/actors#term-function-inequality",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(oV()).ActorFunctionFactoryTermLesserThanEqual({mediatorFunctionFactory:ye,name:"urn:comunica:default:function-factory/actors#term-function-lesser-than-equal",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(uV()).ActorFunctionFactoryTermLesserThan({mediatorFunctionFactory:ye,name:"urn:comunica:default:function-factory/actors#term-function-lesser-than",bus:A,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(gV()).ActorQueryOperationAsk({mediatorQueryOperation:re,name:"urn:comunica:default:query-operation/actors#ask",bus:P,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(vV()).ActorQueryOperationBgpJoin({mediatorQueryOperation:re,name:"urn:comunica:default:query-operation/actors#bgp",bus:P,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(NP()).ActorQueryOperationConstruct({mediatorQueryOperation:re,name:"urn:comunica:default:query-operation/actors#construct",bus:P,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(_V()).ActorQueryOperationDistinctHash({mediatorHashBindings:le,mediatorHashQuads:Ee,mediatorQueryOperation:re,name:"urn:comunica:default:query-operation/actors#distinct",bus:P,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(TV()).ActorQueryOperationExtend({mediatorExpressionEvaluatorFactory:ve,mediatorQueryOperation:re,name:"urn:comunica:default:query-operation/actors#extend",bus:P,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(wV()).ActorQueryOperationFilter({mediatorExpressionEvaluatorFactory:ve,mediatorQueryOperation:re,name:"urn:comunica:default:query-operation/actors#filter",bus:P,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(SV()).ActorQueryOperationFromQuad({mediatorQueryOperation:re,name:"urn:comunica:default:query-operation/actors#from",bus:P,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(EV()).ActorQueryOperationProject({mediatorQueryOperation:re,name:"urn:comunica:default:query-operation/actors#project",bus:P,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(AV()).ActorQueryOperationReducedHash({mediatorHashBindings:le,cacheSize:100,mediatorQueryOperation:re,name:"urn:comunica:default:query-operation/actors#reduced",bus:P,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(OV()).ActorQueryOperationSlice({mediatorQueryOperation:re,name:"urn:comunica:default:query-operation/actors#slice",bus:P,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(IP()).ActorQueryOperationUnion({mediatorRdfMetadataAccumulate:ae,mediatorQueryOperation:re,name:"urn:comunica:default:query-operation/actors#union",bus:P,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(xV()).ActorQueryOperationPathAlt({mediatorRdfMetadataAccumulate:ae,mediatorQueryOperation:re,name:"urn:comunica:default:query-operation/actors#path-alt",bus:P,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(RV()).ActorQueryOperationPathInv({mediatorQueryOperation:re,name:"urn:comunica:default:query-operation/actors#path-inv",bus:P,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(NV()).ActorQueryOperationPathLink({mediatorQueryOperation:re,name:"urn:comunica:default:query-operation/actors#path-link",bus:P,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(IV()).ActorQueryOperationPathNps({mediatorQueryOperation:re,name:"urn:comunica:default:query-operation/actors#path-nps",bus:P,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(DV()).ActorQueryOperationClear({mediatorUpdateQuads:Y,mediatorQueryOperation:re,name:"urn:comunica:default:query-operation/actors#update-clear",bus:P,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(FV()).ActorQueryOperationUpdateCompositeUpdate({mediatorQueryOperation:re,name:"urn:comunica:default:query-operation/actors#update-composite",bus:P,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(PV()).ActorQueryOperationCreate({mediatorUpdateQuads:Y,mediatorQueryOperation:re,name:"urn:comunica:default:query-operation/actors#update-create",bus:P,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(jV()).ActorQueryOperationDrop({mediatorUpdateQuads:Y,mediatorQueryOperation:re,name:"urn:comunica:default:query-operation/actors#update-drop",bus:P,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(MV()).ActorQueryOperationLoad({mediatorUpdateQuads:Y,mediatorQuerySourceIdentify:Le,mediatorQueryOperation:re,name:"urn:comunica:default:query-operation/actors#update-load",bus:P,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(qV()).ActorQuerySourceIdentifySerialized({mediatorRdfParse:Se,mediatorQuerySourceIdentify:Le,name:"urn:comunica:default:query-source-identify/actors#serialized",bus:B,busFailMessage:"Query source identification failed: none of the configured actors were able to identify ${action.querySourceUnidentified.value}"}),new(BV()).ActorQueryOperationJoin({mediatorJoin:Pe,mediatorQueryOperation:re,name:"urn:comunica:default:query-operation/actors#join",bus:P,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(UV()).ActorQueryOperationLeftJoin({mediatorJoin:Pe,mediatorExpressionEvaluatorFactory:ve,mediatorQueryOperation:re,name:"urn:comunica:default:query-operation/actors#leftjoin",bus:P,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(QV()).ActorQueryOperationMinus({mediatorJoin:Pe,mediatorQueryOperation:re,name:"urn:comunica:default:query-operation/actors#minus",bus:P,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(VV()).ActorQueryOperationPathSeq({mediatorJoin:Pe,mediatorQueryOperation:re,name:"urn:comunica:default:query-operation/actors#path-seq",bus:P,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"});const it=new(HV()).ActorRdfJoinMultiSmallest({mediatorJoinEntriesSort:Z,mediatorJoin:Pe,mediatorJoinSelectivity:$,name:"urn:comunica:default:rdf-join/actors#inner-multi-smallest",bus:V,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}"});new(kV()).ActorBindingsAggregatorFactoryMax({mediatorTermComparatorFactory:Fe,mediatorExpressionEvaluatorFactory:ve,name:"urn:comunica:default:bindings-aggregator-factory/actors#max",bus:O,busFailMessage:"Creation of Aggregator failed: none of the configured actors were able to handle ${action.expr.aggregator}"}),new(zV()).ActorBindingsAggregatorFactoryMin({mediatorTermComparatorFactory:Fe,mediatorExpressionEvaluatorFactory:ve,name:"urn:comunica:default:bindings-aggregator-factory/actors#min",bus:O,busFailMessage:"Creation of Aggregator failed: none of the configured actors were able to handle ${action.expr.aggregator}"}),new(GV()).ActorQueryOperationOrderBy({mediatorExpressionEvaluatorFactory:ve,mediatorTermComparatorFactory:Fe,mediatorQueryOperation:re,name:"urn:comunica:default:query-operation/actors#orderby",bus:P,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(dV()).ActorRdfParseJsonLd({mediatorHttp:R,mediaTypePriorities:{"application/json":.15,"application/ld+json":1},mediaTypeFormats:{"application/json":"http://www.w3.org/ns/formats/JSON-LD","application/ld+json":"http://www.w3.org/ns/formats/JSON-LD"},priorityScale:.9,name:"urn:comunica:default:rdf-parse/actors#jsonld",bus:w,busFailMessage:"RDF parsing failed: none of the configured parsers were able to handle the media type ${action.handle.mediaType} for ${action.handle.url}"}),new(pV()).ActorRdfUpdateHypermediaPatchSparqlUpdate({mediatorHttp:R,name:"urn:comunica:default:rdf-update-hypermedia/actors#patch-sparql-update",bus:j,busFailMessage:"RDF hypermedia updating failed: none of the configured actors were able to handle an update for ${action.url}"}),new(hV()).ActorRdfUpdateHypermediaPutLdp({mediatorHttp:R,mediatorRdfSerializeMediatypes:Ye,mediatorRdfSerialize:Je,name:"urn:comunica:default:rdf-update-hypermedia/actors#put-ldp",bus:j,busFailMessage:"RDF hypermedia updating failed: none of the configured actors were able to handle an update for ${action.url}"}),new(bV()).ActorRdfUpdateHypermediaSparql({mediatorHttp:R,checkUrlSuffixSparql:!0,checkUrlSuffixUpdate:!0,name:"urn:comunica:default:rdf-update-hypermedia/actors#sparql",bus:j,busFailMessage:"RDF hypermedia updating failed: none of the configured actors were able to handle an update for ${action.url}"}),new(sV()).ActorHttpWayback({mediatorHttp:K,name:"urn:comunica:default:http/actors#wayback",bus:G,busFailMessage:"HTTP request failed: none of the configured actors were able to handle ${action.input}"});const Me=new($V()).ActorOptimizeQueryOperationFilterPushdown({aggressivePushdown:!1,maxIterations:10,splitConjunctive:!0,mergeConjunctive:!0,pushIntoLeftJoins:!0,pushEqualityIntoPatterns:!0,name:"urn:comunica:default:optimize-query-operation/actors#filter-pushdown",bus:o,busFailMessage:"Query optimization failed: none of the configured actors were able to optimize",beforeActors:[Ae]});new(XV()).ActorDereferenceHttp({mediatorHttp:R,maxAcceptHeaderLength:1024,maxAcceptHeaderLengthBrowser:128,name:"urn:comunica:default:dereference/actors#http",bus:d,busFailMessage:"Dereferencing failed: none of the configured actors were able to handle ${action.url}",beforeActors:[D]});const st=new(KV()).ActorHttpInruptSolidClientAuthn({mediatorHttp:R,name:"urn:comunica:default:http/actors#inrupt-solid-client-authn",bus:J,busFailMessage:"HTTP request failed: none of the configured actors were able to handle ${action.input}",beforeActors:[k]});new(JV()).ActorContextPreprocessQuerySourceIdentify({cacheSize:100,httpInvalidator:de,mediatorQuerySourceIdentify:Le,mediatorContextPreprocess:pe,name:"urn:comunica:default:context-preprocess/actors#query-source-identify",bus:r,busFailMessage:"Context preprocessing failed",beforeActors:[se]});const tt=new(Tb()).ActorInitQuery({mediatorQueryProcess:Ie,mediatorQueryResultSerialize:be,mediatorQueryResultSerializeMediaTypeCombiner:te,mediatorQueryResultSerializeMediaTypeFormatCombiner:v,mediatorHttpInvalidate:ge,defaultQueryInputFormat:"sparql",allowNoSources:!0,name:"urn:comunica:default:init/actors#query",bus:u,busFailMessage:"Initialization failed: none of the configured actors were to initialize"});new(WV()).ActorRdfUpdateQuadsHypermedia({cacheSize:100,httpInvalidator:Qe,mediatorDereferenceRdf:H,mediatorMetadata:ue,mediatorMetadataExtract:ce,mediatorRdfUpdateHypermedia:X,name:"urn:comunica:default:rdf-update-quads/actors#hypermedia",bus:q,busFailMessage:"RDF updating failed: none of the configured actors were able to handle an update"});const Ot=new(c1()).ActionObserverHttp({httpInvalidator:$e,observedActors:["urn:comunica:default:http/actors#fetch"],name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-query-result-serialize-sparql-json/^4.0.0/components/ActorQueryResultSerializeSparqlJson.jsonld#ActorQueryResultSerializeSparqlJson_default_observer",bus:J}),yt=new(l1()).ActionObserverHttp({httpInvalidator:at,observedActors:["urn:comunica:default:http/actors#fetch"],name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-query-result-serialize-stats/^4.0.0/components/ActorQueryResultSerializeStats.jsonld#ActorQueryResultSerializeStats_default_observer",bus:J});new(ZV()).ActorQuerySourceIdentifyHypermediaQpf({mediatorMetadata:ue,mediatorMetadataExtract:ce,mediatorDereferenceRdf:H,mediatorMergeBindingsContext:fe,subjectUri:"http://www.w3.org/1999/02/22-rdf-syntax-ns#subject",predicateUri:"http://www.w3.org/1999/02/22-rdf-syntax-ns#predicate",objectUri:"http://www.w3.org/1999/02/22-rdf-syntax-ns#object",graphUri:"http://www.w3.org/ns/sparql-service-description#graph",name:"urn:comunica:default:query-source-identify-hypermedia/actors#qpf",bus:c,busFailMessage:"Query source hypermedia identification failed: none of the configured actors were able to identify ${action.url}"}),new(eH()).ActorQuerySourceIdentifyHypermediaSparql({mediatorHttp:R,mediatorMergeBindingsContext:fe,checkUrlSuffix:!0,forceHttpGet:!1,cacheSize:1024,forceSourceType:!1,bindMethod:"values",countTimeout:3e3,cardinalityCountQueries:!0,cardinalityEstimateConstruction:!1,name:"urn:comunica:default:query-source-identify-hypermedia/actors#sparql",bus:c,busFailMessage:"Query source hypermedia identification failed: none of the configured actors were able to identify ${action.url}"}),new(nH()).ActorQuerySourceIdentifyHypermediaNone({mediatorMergeBindingsContext:fe,name:"urn:comunica:default:query-source-identify-hypermedia/actors#none",bus:c,busFailMessage:"Query source hypermedia identification failed: none of the configured actors were able to identify ${action.url}"}),new(aH()).ActorExpressionEvaluatorFactoryDefault({mediatorQueryOperation:re,mediatorFunctionFactory:ye,mediatorMergeBindingsContext:fe,name:"urn:comunica:default:expression-evaluator-factory/actors#default",bus:I,busFailMessage:"Creation of Expression Evaluator failed"}),new(iH()).ActorQueryOperationGroup({mediatorMergeBindingsContext:fe,mediatorBindingsAggregatorFactory:he,mediatorQueryOperation:re,name:"urn:comunica:default:query-operation/actors#group",bus:P,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(uH()).ActorQueryOperationNop({mediatorMergeBindingsContext:fe,mediatorQueryOperation:re,name:"urn:comunica:default:query-operation/actors#nop",bus:P,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(oH()).ActorQueryOperationService({forceSparqlEndpoint:!1,mediatorMergeBindingsContext:fe,mediatorQuerySourceIdentify:Le,mediatorQueryOperation:re,name:"urn:comunica:default:query-operation/actors#service",bus:P,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(sH()).ActorQueryOperationValues({mediatorMergeBindingsContext:fe,name:"urn:comunica:default:query-operation/actors#values",bus:P,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(cH()).ActorQueryOperationPathOneOrMore({mediatorMergeBindingsContext:fe,mediatorQueryOperation:re,name:"urn:comunica:default:query-operation/actors#path-one-or-more",bus:P,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(lH()).ActorQueryOperationPathZeroOrMore({mediatorMergeBindingsContext:fe,mediatorQueryOperation:re,name:"urn:comunica:default:query-operation/actors#path-zero-or-more",bus:P,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(dH()).ActorQueryOperationPathZeroOrOne({mediatorMergeBindingsContext:fe,mediatorQueryOperation:re,name:"urn:comunica:default:query-operation/actors#path-zero-or-one",bus:P,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(fH()).ActorQueryOperationUpdateDeleteInsert({mediatorUpdateQuads:Y,mediatorMergeBindingsContext:fe,mediatorQueryOperation:re,name:"urn:comunica:default:query-operation/actors#update-delete-insert",bus:P,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"});const bt=new(pH()).ActorQueryProcessSequential({mediatorContextPreprocess:pe,mediatorQueryParse:Oe,mediatorOptimizeQueryOperation:Ne,mediatorQueryOperation:re,mediatorMergeBindingsContext:fe,name:"urn:comunica:default:query-process/actors#sequential",bus:C,busFailMessage:'Query processing failed: none of the configured actor were process to the query "${action.query}"'});new(yH()).ActorQuerySourceIdentifyHypermedia({cacheSize:2048,maxIterators:64,aggregateTraversalStore:!0,mediatorDereferenceRdf:H,mediatorMetadata:ue,mediatorMetadataExtract:ce,mediatorMetadataAccumulate:ae,mediatorQuerySourceIdentifyHypermedia:F,mediatorRdfResolveHypermediaLinks:Ce,mediatorRdfResolveHypermediaLinksQueue:He,mediatorMergeBindingsContext:fe,name:"urn:comunica:default:query-source-identify/actors#hypermedia",bus:B,busFailMessage:"Query source identification failed: none of the configured actors were able to identify ${action.querySourceUnidentified.value}"}),new(uN()).ActorQuerySourceIdentifyRdfJs({mediatorMergeBindingsContext:fe,name:"urn:comunica:default:query-source-identify/actors#rdfjs",bus:B,busFailMessage:"Query source identification failed: none of the configured actors were able to identify ${action.querySourceUnidentified.value}"}),new(mH()).ActorRdfJoinNone({mediatorMergeBindingsContext:fe,mediatorJoinSelectivity:$,name:"urn:comunica:default:rdf-join/actors#inner-none",bus:V,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}"}),new(bH()).ActorRdfJoinOptionalBind({bindOrder:"depth-first",selectivityModifier:1e-6,mediatorQueryOperation:re,mediatorMergeBindingsContext:fe,mediatorJoinSelectivity:$,name:"urn:comunica:default:rdf-join/actors#optional-bind",bus:V,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}"}),new(gH()).ActorTermComparatorFactoryExpressionEvaluator({mediatorQueryOperation:re,mediatorFunctionFactory:ye,mediatorMergeBindingsContext:fe,name:"urn:comunica:default:term-comparator-factory/actors#expression-evaluator",bus:U,busFailMessage:"Creation of term comparator failed"});const Tt=new(jP()).ActorRdfJoinMultiBind({bindOrder:"breadth-first",selectivityModifier:1e-4,minMaxCardinalityRatio:60,mediatorJoinEntriesSort:Z,mediatorQueryOperation:re,mediatorMergeBindingsContext:fe,mediatorJoinSelectivity:$,name:"urn:comunica:default:rdf-join/actors#inner-multi-bind",bus:V,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}",beforeActors:[it,Te,qe]});new(vH()).ActorRdfJoinMultiSmallestFilterBindings({selectivityModifier:1e-4,blockSize:64,mediatorJoinEntriesSort:Z,mediatorJoin:Pe,mediatorJoinSelectivity:$,name:"urn:comunica:default:rdf-join/actors#inner-multi-smallest-filter-bindings",bus:V,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}",beforeActors:[it,Te,qe]}),new(wH()).ActorExtractLinksSolidTypeIndex({typeIndexPredicates:["http://www.w3.org/ns/solid/terms#publicTypeIndex","http://www.w3.org/ns/solid/terms#privateTypeIndex"],onlyMatchingTypes:!0,inference:!1,actorInitQuery:tt,mediatorDereferenceRdf:H,name:"urn:comunica:default:extract-links/actors#solid-type-index",bus:a}),new(c1()).ActorQueryResultSerializeSparqlJson({emitMetadata:!0,httpObserver:Ot,mediaTypePriorities:{"application/sparql-results+json":.8},mediaTypeFormats:{"application/sparql-results+json":"http://www.w3.org/ns/formats/SPARQL_Results_JSON"},name:"urn:comunica:default:query-result-serialize/actors#sparql-json",bus:s,busFailMessage:"Query result serialization failed: none of the configured actors were able to serialize for type ${action.handle.type}"}),new(l1()).ActorQueryResultSerializeStats({httpObserver:yt,mediaTypePriorities:{stats:.5},mediaTypeFormats:{stats:"https://comunica.linkeddatafragments.org/#results_stats"},name:"urn:comunica:default:query-result-serialize/actors#stats",bus:s,busFailMessage:"Query result serialization failed: none of the configured actors were able to serialize for type ${action.handle.type}"}),new(SH()).ActorQueryProcessExplainParsed({queryProcessor:bt,name:"urn:comunica:default:query-process/actors#explain-parsed",bus:C,busFailMessage:'Query processing failed: none of the configured actor were process to the query "${action.query}"'}),new(EH()).ActorQueryProcessExplainLogical({queryProcessor:bt,name:"urn:comunica:default:query-process/actors#explain-logical",bus:C,busFailMessage:'Query processing failed: none of the configured actor were process to the query "${action.query}"'}),new(AH()).ActorQueryProcessExplainPhysical({queryProcessor:bt,name:"urn:comunica:default:query-process/actors#explain-physical",bus:C,busFailMessage:'Query processing failed: none of the configured actor were process to the query "${action.query}"'});const xt=new(OH()).ActorOptimizeQueryOperationPruneEmptySourceOperations({useAskIfSupported:!1,name:"urn:comunica:default:optimize-query-operation/actors#prune-empty-source-operations",bus:o,busFailMessage:"Query optimization failed: none of the configured actors were able to optimize",beforeActors:[Me]}),wt=new(xH()).ActorHttpProxy({mediatorHttp:R,name:"urn:comunica:default:http/actors#proxy",bus:J,busFailMessage:"HTTP request failed: none of the configured actors were able to handle ${action.input}",beforeActors:[k,st]});new(RH()).ActorRdfJoinMultiBindSource({selectivityModifier:1e-4,blockSize:16,mediatorJoinEntriesSort:Z,mediatorJoinSelectivity:$,name:"urn:comunica:default:rdf-join/actors#inner-multi-bind-source",bus:V,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}",beforeActors:[it,Tt,Te,qe]});const gt=new(NH()).ActorOptimizeQueryOperationJoinConnected({name:"urn:comunica:default:optimize-query-operation/actors#join-connected",bus:o,busFailMessage:"Query optimization failed: none of the configured actors were able to optimize",beforeActors:[xt]});new(IH()).ActorHttpRetry({mediatorHttp:R,httpInvalidator:je,name:"urn:comunica:default:http/actors#retry",bus:J,busFailMessage:"HTTP request failed: none of the configured actors were able to handle ${action.input}",beforeActors:[wt]});const dr=new(DH()).ActorOptimizeQueryOperationBgpToJoin({name:"urn:comunica:default:optimize-query-operation/actors#bgp-to-join",bus:o,busFailMessage:"Query optimization failed: none of the configured actors were able to optimize",beforeActors:[gt]}),ht=new(FH()).ActorOptimizeQueryOperationJoinBgp({name:"urn:comunica:default:optimize-query-operation/actors#join-bgp",bus:o,busFailMessage:"Query optimization failed: none of the configured actors were able to optimize",beforeActors:[dr]}),Re=new(PH()).ActorOptimizeQueryOperationAssignSourcesExhaustive({name:"urn:comunica:default:optimize-query-operation/actors#assign-sources-exhaustive",bus:o,busFailMessage:"Query optimization failed: none of the configured actors were able to optimize",beforeActors:[ht]});return new(MH()).ActorOptimizeQueryOperationSetSeedSourcesQuadpatternIris({mediatorQuerySourceIdentify:Le,extractSubjects:!0,extractPredicates:!1,extractObjects:!0,extractGraphs:!0,extractVocabIris:!1,name:"urn:comunica:default:optimize-query-operation/actors#set-seed-sources-quadpattern-iris",bus:o,busFailMessage:"Query optimization failed: none of the configured actors were able to optimize",beforeActors:[Re]}),new(CH()).ActorOptimizeQueryOperationDescribeToConstructsSubject({name:"urn:comunica:default:optimize-query-operation/actors#describe-to-constructs-subject",bus:o,busFailMessage:"Query optimization failed: none of the configured actors were able to optimize",beforeActors:[Re]}),tt}),y9}var Lbe;function P7e(){if(Lbe)return x6;Lbe=1,Object.defineProperty(x6,"__esModule",{value:!0}),x6.QueryEngine=void 0;const n=Tb(),e=F7e();let u=class extends n.QueryEngineBase{constructor(r=e()){super(r)}};return x6.QueryEngine=u,x6}var qbe;function j7e(){return qbe||(qbe=1,(function(n){var e=Qm&&Qm.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=Qm&&Qm.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(P7e(),n)})(Qm)),Qm}var M7e=j7e();class C7e{engine;engineLimit2;engineLimit3;constructor(){this.engine=new M7e.QueryEngine,this.engineLimit2=new x7e.QueryEngine,this.engineLimit3=new D7e.QueryEngine}async query(e,u,a){if(!a)return await this.engine.queryBindings(e,u);if(a==2)return await this.engineLimit2.queryBindings(e,u);if(a==3)return await this.engineLimit3.queryBindings(e,u)}}class L7e extends ZRe.Logger{onLogCallback;constructor(e,u){super(),this.onLogCallback=u}trace(e,u){this.log("trace",e,u)}debug(e,u){this.log("info",e,u)}info(e,u){this.log("info",e,u)}warn(e,u){this.log("warn",e,u)}error(e,u){this.log("error",e,u)}fatal(e,u){this.log("fatal",e,u)}log(e,u,a){this.onLogCallback({id:Date.now()+Math.random(),timestamp:new Date().toLocaleTimeString(),message:u,level:e})}}const q7e=new C7e,Bg=async(n,e,u,a)=>{console.log(`Starting Link Traversal for query:
`,n);const r={idp:"void",lenient:!0,noCache:!0,invalidateCache:!0,...e};return q7e.query(n,r,u)},B7e=({setDebugQuery:n,logger:e,createTracker:u,onQueryStart:a,onQueryEnd:r,onResultArrived:t,registerQuery:i})=>{const o=nc(),l=D4(),{id:s}=Nve(),c=ze.useMemo(()=>{if(o.state?.forumUri)return o.state.forumUri;if(s)try{return decodeURIComponent(s)}catch(N){return console.error("Failed to decode Forum URI",N),""}return""},[s,o.state]),d=ze.useRef(null),[f,p]=ze.useState(""),[h,g]=ze.useState(""),[_,m]=ze.useState({}),[w,T]=ze.useState(!0),E=(N,j)=>{l(`/profiles/${N}`,{state:{personUri:j}})};ze.useEffect(()=>((async()=>{if(!c){T(!1);return}const j=`
        PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
        PREFIX snvoc: <https://solidbench.linkeddatafragments.org/www.ldbc.eu/ldbc_socialnet/1.0/vocabulary/>
        SELECT ?title ?fName ?lName ?mod  WHERE {
            <${c}> rdf:type snvoc:Forum;
                snvoc:title ?title;
            OPTIONAL {
                <${c}> snvoc:hasModerator ?mod.
                ?mod snvoc:firstName ?fName;
                    snvoc:lastName ?lName.
            }
        }`,q=`
        PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
        PREFIX snvoc: <https://solidbench.linkeddatafragments.org/www.ldbc.eu/ldbc_socialnet/1.0/vocabulary/>
        SELECT ?content ?file ?msg ?date ?person ?authorName ?authorLastName ?id WHERE {
          <${c}>  snvoc:containerOf ?msg.
          { ?msg snvoc:content ?content }
          UNION
          { ?msg snvoc:imageFile ?file }
          ?msg snvoc:creationDate ?date;
               snvoc:hasCreator ?person.
          ?person snvoc:firstName ?authorName;
                  snvoc:lastName ?authorLastName;
                  snvoc:id ?id.
        }`;n(j+`


`+q),a();try{const O=await Bg(j,{traverse:"false",log:e},void 0);O.on("data",C=>{t(),C.has("title")&&p(C.get("title").value),C.has("fName")&&C.has("lName")&&g(`${C.get("fName").value} ${C.get("lName").value}`)});const I=u();let A={log:e};I&&(A={...A,[I.trackerDiscovery.key.name]:I.trackerDiscovery,[I.trackerDereference.key.name]:I.trackerDereference});const P=await Bg(q,A,2);d.current=P,i([O,P],T),P.on("data",C=>{t();const B=C.get("msg").value,V=C.has("content")?C.get("content").value:"",U=C.has("file")?C.get("file").value:"",G=new Date(C.get("date").value),J=C.get("person").value,ne=`${C.get("authorName").value} ${C.get("authorLastName").value}`,W=`${C.get("id").value}`;m(ee=>{const se=ee[B]||{uri:B,content:"",imageFile:"",date:G,authorUri:J,authorName:ne,authorid:W};return{...ee,[B]:{...se,content:V||se.content,imageFile:U||se.imageFile}}}),T(!1)}),P.on("end",()=>{T(!1),r()})}catch(O){console.error("Forum query failed",O),T(!1)}})(),()=>{d.current&&d.current.destroy()}),[c,n]);const S=Object.values(_).sort((N,j)=>j.date.getTime()-N.date.getTime());return Ue.jsxs("div",{className:"container",style:{maxWidth:"800px",margin:"20px auto",padding:"0 20px"},children:[Ue.jsx("button",{className:"btn-primary",onClick:()=>l(-1),style:{marginBottom:"20px"},children:" Back"}),c?w&&S.length===0?Ue.jsxs("div",{className:"card loading-pulse",children:[Ue.jsx("div",{className:"spinner"}),"Searching for forum messages..."]}):Ue.jsxs(Ue.Fragment,{children:[Ue.jsxs("div",{className:"card forum-header-card",children:[Ue.jsx("h1",{children:f||"Untitled Forum"}),Ue.jsxs("p",{className:"forum-mod",children:[" Moderator: ",Ue.jsx("strong",{children:h||"None"})]}),Ue.jsxs("div",{style:{fontSize:"0.75rem",color:"#999",marginTop:"5px",wordBreak:"break-all"},children:["Source: ",c]})]}),Ue.jsxs("div",{className:"message-list",children:[Ue.jsxs("h3",{children:["Recent Activity (",S.length,")"]}),S.map(N=>Ue.jsxs("div",{className:"card message-card",style:{marginBottom:"15px",padding:"20px"},children:[Ue.jsxs("div",{className:"author-link",style:{fontWeight:"bold",color:"#2563eb",marginBottom:"8px",display:"inline-block",cursor:"pointer"},onClick:()=>E(N.authorid,N.authorUri),children:[" ",N.authorName]}),N.content&&Ue.jsx("div",{style:{marginBottom:"10px"},children:Ue.jsx("p",{style:{margin:0,fontSize:"1.1rem",color:"#1e293b"},children:N.content})}),N.imageFile&&Ue.jsxs("div",{className:"image-attachment-preview",children:[Ue.jsx("small",{children:" Image Attachment:"}),Ue.jsx("code",{children:N.imageFile})]}),Ue.jsx("div",{className:"message-footer",children:Ue.jsxs("small",{children:["Posted: ",N.date.toLocaleString()]})})]},N.uri))]})]}):Ue.jsx("div",{className:"card",children:" Error: Invalid Forum Link"})]})};function v7(n,e){(e==null||e>n.length)&&(e=n.length);for(var u=0,a=Array(e);u<e;u++)a[u]=n[u];return a}function U7e(n){if(Array.isArray(n))return n}function Q7e(n){if(Array.isArray(n))return v7(n)}function Ol(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function V7e(n,e){for(var u=0;u<e.length;u++){var a=e[u];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(n,Mwe(a.key),a)}}function xl(n,e,u){return e&&V7e(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function yi(n,e){var u=typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(!u){if(Array.isArray(n)||(u=LH(n))||e){u&&(n=u);var a=0,r=function(){};return{s:r,n:function(){return a>=n.length?{done:!0}:{done:!1,value:n[a++]}},e:function(l){throw l},f:r}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var t,i=!0,o=!1;return{s:function(){u=u.call(n)},n:function(){var l=u.next();return i=l.done,l},e:function(l){o=!0,t=l},f:function(){try{i||u.return==null||u.return()}finally{if(o)throw t}}}}function jwe(n,e,u){return(e=Mwe(e))in n?Object.defineProperty(n,e,{value:u,enumerable:!0,configurable:!0,writable:!0}):n[e]=u,n}function H7e(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function k7e(n,e){var u=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(u!=null){var a,r,t,i,o=[],l=!0,s=!1;try{if(t=(u=u.call(n)).next,e===0){if(Object(u)!==u)return;l=!1}else for(;!(l=(a=t.call(u)).done)&&(o.push(a.value),o.length!==e);l=!0);}catch(c){s=!0,r=c}finally{try{if(!l&&u.return!=null&&(i=u.return(),Object(i)!==i))return}finally{if(s)throw r}}return o}}function z7e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function G7e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zn(n,e){return U7e(n)||k7e(n,e)||LH(n,e)||z7e()}function DF(n){return Q7e(n)||H7e(n)||LH(n)||G7e()}function $7e(n,e){if(typeof n!="object"||!n)return n;var u=n[Symbol.toPrimitive];if(u!==void 0){var a=u.call(n,e);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function Mwe(n){var e=$7e(n,"string");return typeof e=="symbol"?e:e+""}function ta(n){"@babel/helpers - typeof";return ta=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ta(n)}function LH(n,e){if(n){if(typeof n=="string")return v7(n,e);var u={}.toString.call(n).slice(8,-1);return u==="Object"&&n.constructor&&(u=n.constructor.name),u==="Map"||u==="Set"?Array.from(n):u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u)?v7(n,e):void 0}}var Zn=typeof window>"u"?null:window,Bbe=Zn?Zn.navigator:null;Zn&&Zn.document;var X7e=ta(""),Cwe=ta({}),K7e=ta(function(){}),J7e=typeof HTMLElement>"u"?"undefined":ta(HTMLElement),lN=function(e){return e&&e.instanceString&&On(e.instanceString)?e.instanceString():null},Ct=function(e){return e!=null&&ta(e)==X7e},On=function(e){return e!=null&&ta(e)===K7e},Wr=function(e){return!Bi(e)&&(Array.isArray?Array.isArray(e):e!=null&&e instanceof Array)},Tr=function(e){return e!=null&&ta(e)===Cwe&&!Wr(e)&&e.constructor===Object},W7e=function(e){return e!=null&&ta(e)===Cwe},At=function(e){return e!=null&&ta(e)===ta(1)&&!isNaN(e)},Y7e=function(e){return At(e)&&Math.floor(e)===e},FF=function(e){if(J7e!=="undefined")return e!=null&&e instanceof HTMLElement},Bi=function(e){return dN(e)||Lwe(e)},dN=function(e){return lN(e)==="collection"&&e._private.single},Lwe=function(e){return lN(e)==="collection"&&!e._private.single},qH=function(e){return lN(e)==="core"},qwe=function(e){return lN(e)==="stylesheet"},Z7e=function(e){return lN(e)==="event"},fl=function(e){return e==null?!0:!!(e===""||e.match(/^\s+$/))},eqe=function(e){return typeof HTMLElement>"u"?!1:e instanceof HTMLElement},tqe=function(e){return Tr(e)&&At(e.x1)&&At(e.x2)&&At(e.y1)&&At(e.y2)},rqe=function(e){return W7e(e)&&On(e.then)},nqe=function(){return Bbe&&Bbe.userAgent.match(/msie|trident|edge/i)},d1=function(e,u){u||(u=function(){if(arguments.length===1)return arguments[0];if(arguments.length===0)return"undefined";for(var t=[],i=0;i<arguments.length;i++)t.push(arguments[i]);return t.join("$")});var a=function(){var t=this,i=arguments,o,l=u.apply(t,i),s=a.cache;return(o=s[l])||(o=s[l]=e.apply(t,i)),o};return a.cache={},a},BH=d1(function(n){return n.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}),LP=d1(function(n){return n.replace(/(-\w)/g,function(e){return e[1].toUpperCase()})}),Bwe=d1(function(n,e){return n+e[0].toUpperCase()+e.substring(1)},function(n,e){return n+"$"+e}),Ube=function(e){return fl(e)?e:e.charAt(0).toUpperCase()+e.substring(1)},nl=function(e,u){return e.slice(-1*u.length)===u},ea="(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))",aqe="rgb[a]?\\(("+ea+"[%]?)\\s*,\\s*("+ea+"[%]?)\\s*,\\s*("+ea+"[%]?)(?:\\s*,\\s*("+ea+"))?\\)",iqe="rgb[a]?\\((?:"+ea+"[%]?)\\s*,\\s*(?:"+ea+"[%]?)\\s*,\\s*(?:"+ea+"[%]?)(?:\\s*,\\s*(?:"+ea+"))?\\)",uqe="hsl[a]?\\(("+ea+")\\s*,\\s*("+ea+"[%])\\s*,\\s*("+ea+"[%])(?:\\s*,\\s*("+ea+"))?\\)",oqe="hsl[a]?\\((?:"+ea+")\\s*,\\s*(?:"+ea+"[%])\\s*,\\s*(?:"+ea+"[%])(?:\\s*,\\s*(?:"+ea+"))?\\)",sqe="\\#[0-9a-fA-F]{3}",cqe="\\#[0-9a-fA-F]{6}",Uwe=function(e,u){return e<u?-1:e>u?1:0},lqe=function(e,u){return-1*Uwe(e,u)},Bt=Object.assign!=null?Object.assign.bind(Object):function(n){for(var e=arguments,u=1;u<e.length;u++){var a=e[u];if(a!=null)for(var r=Object.keys(a),t=0;t<r.length;t++){var i=r[t];n[i]=a[i]}}return n},dqe=function(e){if(!(!(e.length===4||e.length===7)||e[0]!=="#")){var u=e.length===4,a,r,t,i=16;return u?(a=parseInt(e[1]+e[1],i),r=parseInt(e[2]+e[2],i),t=parseInt(e[3]+e[3],i)):(a=parseInt(e[1]+e[2],i),r=parseInt(e[3]+e[4],i),t=parseInt(e[5]+e[6],i)),[a,r,t]}},fqe=function(e){var u,a,r,t,i,o,l,s;function c(h,g,_){return _<0&&(_+=1),_>1&&(_-=1),_<1/6?h+(g-h)*6*_:_<1/2?g:_<2/3?h+(g-h)*(2/3-_)*6:h}var d=new RegExp("^"+uqe+"$").exec(e);if(d){if(a=parseInt(d[1]),a<0?a=(360- -1*a%360)%360:a>360&&(a=a%360),a/=360,r=parseFloat(d[2]),r<0||r>100||(r=r/100,t=parseFloat(d[3]),t<0||t>100)||(t=t/100,i=d[4],i!==void 0&&(i=parseFloat(i),i<0||i>1)))return;if(r===0)o=l=s=Math.round(t*255);else{var f=t<.5?t*(1+r):t+r-t*r,p=2*t-f;o=Math.round(255*c(p,f,a+1/3)),l=Math.round(255*c(p,f,a)),s=Math.round(255*c(p,f,a-1/3))}u=[o,l,s,i]}return u},pqe=function(e){var u,a=new RegExp("^"+aqe+"$").exec(e);if(a){u=[];for(var r=[],t=1;t<=3;t++){var i=a[t];if(i[i.length-1]==="%"&&(r[t]=!0),i=parseFloat(i),r[t]&&(i=i/100*255),i<0||i>255)return;u.push(Math.floor(i))}var o=r[1]||r[2]||r[3],l=r[1]&&r[2]&&r[3];if(o&&!l)return;var s=a[4];if(s!==void 0){if(s=parseFloat(s),s<0||s>1)return;u.push(s)}}return u},hqe=function(e){return yqe[e.toLowerCase()]},Qwe=function(e){return(Wr(e)?e:null)||hqe(e)||dqe(e)||pqe(e)||fqe(e)},yqe={transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},Vwe=function(e){for(var u=e.map,a=e.keys,r=a.length,t=0;t<r;t++){var i=a[t];if(Tr(i))throw Error("Tried to set map with object key");t<a.length-1?(u[i]==null&&(u[i]={}),u=u[i]):u[i]=e.value}},Hwe=function(e){for(var u=e.map,a=e.keys,r=a.length,t=0;t<r;t++){var i=a[t];if(Tr(i))throw Error("Tried to get map with object key");if(u=u[i],u==null)return u}return u},jD=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function fN(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var m9,Qbe;function pN(){if(Qbe)return m9;Qbe=1;function n(e){var u=typeof e;return e!=null&&(u=="object"||u=="function")}return m9=n,m9}var b9,Vbe;function mqe(){if(Vbe)return b9;Vbe=1;var n=typeof jD=="object"&&jD&&jD.Object===Object&&jD;return b9=n,b9}var g9,Hbe;function qP(){if(Hbe)return g9;Hbe=1;var n=mqe(),e=typeof self=="object"&&self&&self.Object===Object&&self,u=n||e||Function("return this")();return g9=u,g9}var v9,kbe;function bqe(){if(kbe)return v9;kbe=1;var n=qP(),e=function(){return n.Date.now()};return v9=e,v9}var _9,zbe;function gqe(){if(zbe)return _9;zbe=1;var n=/\s/;function e(u){for(var a=u.length;a--&&n.test(u.charAt(a)););return a}return _9=e,_9}var T9,Gbe;function vqe(){if(Gbe)return T9;Gbe=1;var n=gqe(),e=/^\s+/;function u(a){return a&&a.slice(0,n(a)+1).replace(e,"")}return T9=u,T9}var w9,$be;function UH(){if($be)return w9;$be=1;var n=qP(),e=n.Symbol;return w9=e,w9}var S9,Xbe;function _qe(){if(Xbe)return S9;Xbe=1;var n=UH(),e=Object.prototype,u=e.hasOwnProperty,a=e.toString,r=n?n.toStringTag:void 0;function t(i){var o=u.call(i,r),l=i[r];try{i[r]=void 0;var s=!0}catch{}var c=a.call(i);return s&&(o?i[r]=l:delete i[r]),c}return S9=t,S9}var E9,Kbe;function Tqe(){if(Kbe)return E9;Kbe=1;var n=Object.prototype,e=n.toString;function u(a){return e.call(a)}return E9=u,E9}var A9,Jbe;function kwe(){if(Jbe)return A9;Jbe=1;var n=UH(),e=_qe(),u=Tqe(),a="[object Null]",r="[object Undefined]",t=n?n.toStringTag:void 0;function i(o){return o==null?o===void 0?r:a:t&&t in Object(o)?e(o):u(o)}return A9=i,A9}var O9,Wbe;function wqe(){if(Wbe)return O9;Wbe=1;function n(e){return e!=null&&typeof e=="object"}return O9=n,O9}var x9,Ybe;function hN(){if(Ybe)return x9;Ybe=1;var n=kwe(),e=wqe(),u="[object Symbol]";function a(r){return typeof r=="symbol"||e(r)&&n(r)==u}return x9=a,x9}var R9,Zbe;function Sqe(){if(Zbe)return R9;Zbe=1;var n=vqe(),e=pN(),u=hN(),a=NaN,r=/^[-+]0x[0-9a-f]+$/i,t=/^0b[01]+$/i,i=/^0o[0-7]+$/i,o=parseInt;function l(s){if(typeof s=="number")return s;if(u(s))return a;if(e(s)){var c=typeof s.valueOf=="function"?s.valueOf():s;s=e(c)?c+"":c}if(typeof s!="string")return s===0?s:+s;s=n(s);var d=t.test(s);return d||i.test(s)?o(s.slice(2),d?2:8):r.test(s)?a:+s}return R9=l,R9}var N9,ege;function Eqe(){if(ege)return N9;ege=1;var n=pN(),e=bqe(),u=Sqe(),a="Expected a function",r=Math.max,t=Math.min;function i(o,l,s){var c,d,f,p,h,g,_=0,m=!1,w=!1,T=!0;if(typeof o!="function")throw new TypeError(a);l=u(l)||0,n(s)&&(m=!!s.leading,w="maxWait"in s,f=w?r(u(s.maxWait)||0,l):f,T="trailing"in s?!!s.trailing:T);function E(C){var B=c,V=d;return c=d=void 0,_=C,p=o.apply(V,B),p}function S(C){return _=C,h=setTimeout(q,l),m?E(C):p}function N(C){var B=C-g,V=C-_,U=l-B;return w?t(U,f-V):U}function j(C){var B=C-g,V=C-_;return g===void 0||B>=l||B<0||w&&V>=f}function q(){var C=e();if(j(C))return O(C);h=setTimeout(q,N(C))}function O(C){return h=void 0,T&&c?E(C):(c=d=void 0,p)}function I(){h!==void 0&&clearTimeout(h),_=0,c=g=d=h=void 0}function A(){return h===void 0?p:O(e())}function P(){var C=e(),B=j(C);if(c=arguments,d=this,g=C,B){if(h===void 0)return S(g);if(w)return clearTimeout(h),h=setTimeout(q,l),E(g)}return h===void 0&&(h=setTimeout(q,l)),p}return P.cancel=I,P.flush=A,P}return N9=i,N9}var Aqe=Eqe(),yN=fN(Aqe),I9=Zn?Zn.performance:null,zwe=I9&&I9.now?function(){return I9.now()}:function(){return Date.now()},Oqe=(function(){if(Zn){if(Zn.requestAnimationFrame)return function(n){Zn.requestAnimationFrame(n)};if(Zn.mozRequestAnimationFrame)return function(n){Zn.mozRequestAnimationFrame(n)};if(Zn.webkitRequestAnimationFrame)return function(n){Zn.webkitRequestAnimationFrame(n)};if(Zn.msRequestAnimationFrame)return function(n){Zn.msRequestAnimationFrame(n)}}return function(n){n&&setTimeout(function(){n(zwe())},1e3/60)}})(),PF=function(e){return Oqe(e)},tc=zwe,rb=9261,Gwe=65599,Lg=5381,$we=function(e){for(var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:rb,a=u,r;r=e.next(),!r.done;)a=a*Gwe+r.value|0;return a},v4=function(e){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:rb;return u*Gwe+e|0},_4=function(e){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Lg;return(u<<5)+u+e|0},xqe=function(e,u){return e*2097152+u},Gc=function(e){return e[0]*2097152+e[1]},MD=function(e,u){return[v4(e[0],u[0]),_4(e[1],u[1])]},tge=function(e,u){var a={value:0,done:!1},r=0,t=e.length,i={next:function(){return r<t?a.value=e[r++]:a.done=!0,a}};return $we(i,u)},cb=function(e,u){var a={value:0,done:!1},r=0,t=e.length,i={next:function(){return r<t?a.value=e.charCodeAt(r++):a.done=!0,a}};return $we(i,u)},Xwe=function(){return Rqe(arguments)},Rqe=function(e){for(var u,a=0;a<e.length;a++){var r=e[a];a===0?u=cb(r):u=cb(r,u)}return u};function Nqe(n,e,u,a,r){var t=r*Math.PI/180,i=Math.cos(t)*(n-u)-Math.sin(t)*(e-a)+u,o=Math.sin(t)*(n-u)+Math.cos(t)*(e-a)+a;return{x:i,y:o}}var Iqe=function(e,u,a,r,t,i){return{x:(e-a)*t+a,y:(u-r)*i+r}};function Dqe(n,e,u){if(u===0)return n;var a=(e.x1+e.x2)/2,r=(e.y1+e.y2)/2,t=e.w/e.h,i=1/t,o=Nqe(n.x,n.y,a,r,u),l=Iqe(o.x,o.y,a,r,t,i);return{x:l.x,y:l.y}}var rge=!0,Fqe=console.warn!=null,Pqe=console.trace!=null,QH=Number.MAX_SAFE_INTEGER||9007199254740991,Kwe=function(){return!0},jF=function(){return!1},nge=function(){return 0},VH=function(){},_n=function(e){throw new Error(e)},Jwe=function(e){if(e!==void 0)rge=!!e;else return rge},Lr=function(e){Jwe()&&(Fqe?console.warn(e):(console.log(e),Pqe&&console.trace()))},jqe=function(e){return Bt({},e)},Uo=function(e){return e==null?e:Wr(e)?e.slice():Tr(e)?jqe(e):e},Mqe=function(e){return e.slice()},Wwe=function(e,u){for(u=e="";e++<36;u+=e*51&52?(e^15?8^Math.random()*(e^20?16:4):4).toString(16):"-");return u},Cqe={},Ywe=function(){return Cqe},Ra=function(e){var u=Object.keys(e);return function(a){for(var r={},t=0;t<u.length;t++){var i=u[t],o=a?.[i];r[i]=o===void 0?e[i]:o}return r}},pl=function(e,u,a){for(var r=e.length-1;r>=0;r--)e[r]===u&&e.splice(r,1)},HH=function(e){e.splice(0,e.length)},Lqe=function(e,u){for(var a=0;a<u.length;a++){var r=u[a];e.push(r)}},pi=function(e,u,a){return a&&(u=Bwe(a,u)),e[u]},$s=function(e,u,a,r){a&&(u=Bwe(a,u)),e[u]=r},qqe=(function(){function n(){Ol(this,n),this._obj={}}return xl(n,[{key:"set",value:function(u,a){return this._obj[u]=a,this}},{key:"delete",value:function(u){return this._obj[u]=void 0,this}},{key:"clear",value:function(){this._obj={}}},{key:"has",value:function(u){return this._obj[u]!==void 0}},{key:"get",value:function(u){return this._obj[u]}}])})(),Xs=typeof Map<"u"?Map:qqe,Bqe="undefined",Uqe=(function(){function n(e){if(Ol(this,n),this._obj=Object.create(null),this.size=0,e!=null){var u;e.instanceString!=null&&e.instanceString()===this.instanceString()?u=e.toArray():u=e;for(var a=0;a<u.length;a++)this.add(u[a])}}return xl(n,[{key:"instanceString",value:function(){return"set"}},{key:"add",value:function(u){var a=this._obj;a[u]!==1&&(a[u]=1,this.size++)}},{key:"delete",value:function(u){var a=this._obj;a[u]===1&&(a[u]=0,this.size--)}},{key:"clear",value:function(){this._obj=Object.create(null)}},{key:"has",value:function(u){return this._obj[u]===1}},{key:"toArray",value:function(){var u=this;return Object.keys(this._obj).filter(function(a){return u.has(a)})}},{key:"forEach",value:function(u,a){return this.toArray().forEach(u,a)}}])})(),N1=(typeof Set>"u"?"undefined":ta(Set))!==Bqe?Set:Uqe,BP=function(e,u){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e===void 0||u===void 0||!qH(e)){_n("An element must have a core reference and parameters set");return}var r=u.group;if(r==null&&(u.data&&u.data.source!=null&&u.data.target!=null?r="edges":r="nodes"),r!=="nodes"&&r!=="edges"){_n("An element must be of type `nodes` or `edges`; you specified `"+r+"`");return}this.length=1,this[0]=this;var t=this._private={cy:e,single:!0,data:u.data||{},position:u.position||{x:0,y:0},autoWidth:void 0,autoHeight:void 0,autoPadding:void 0,compoundBoundsClean:!1,listeners:[],group:r,style:{},rstyle:{},styleCxts:[],styleKeys:{},removed:!0,selected:!!u.selected,selectable:u.selectable===void 0?!0:!!u.selectable,locked:!!u.locked,grabbed:!1,grabbable:u.grabbable===void 0?!0:!!u.grabbable,pannable:u.pannable===void 0?r==="edges":!!u.pannable,active:!1,classes:new N1,animation:{current:[],queue:[]},rscratch:{},scratch:u.scratch||{},edges:[],children:[],parent:u.parent&&u.parent.isNode()?u.parent:null,traversalCache:{},backgrounding:!1,bbCache:null,bbCacheShift:{x:0,y:0},bodyBounds:null,overlayBounds:null,labelBounds:{all:null,source:null,target:null,main:null},arrowBounds:{source:null,target:null,"mid-source":null,"mid-target":null}};if(t.position.x==null&&(t.position.x=0),t.position.y==null&&(t.position.y=0),u.renderedPosition){var i=u.renderedPosition,o=e.pan(),l=e.zoom();t.position={x:(i.x-o.x)/l,y:(i.y-o.y)/l}}var s=[];Wr(u.classes)?s=u.classes:Ct(u.classes)&&(s=u.classes.split(/\s+/));for(var c=0,d=s.length;c<d;c++){var f=s[c];!f||f===""||t.classes.add(f)}this.createEmitter(),(a===void 0||a)&&this.restore();var p=u.style||u.css;p&&(Lr("Setting a `style` bypass at element creation should be done only when absolutely necessary.  Try to use the stylesheet instead."),this.style(p))},age=function(e){return e={bfs:e.bfs||!e.dfs,dfs:e.dfs||!e.bfs},function(a,r,t){var i;Tr(a)&&!Bi(a)&&(i=a,a=i.roots||i.root,r=i.visit,t=i.directed),t=arguments.length===2&&!On(r)?r:t,r=On(r)?r:function(){};for(var o=this._private.cy,l=a=Ct(a)?this.filter(a):a,s=[],c=[],d={},f={},p={},h=0,g,_=this.byGroup(),m=_.nodes,w=_.edges,T=0;T<l.length;T++){var E=l[T],S=E.id();E.isNode()&&(s.unshift(E),e.bfs&&(p[S]=!0,c.push(E)),f[S]=0)}for(var N=function(){var C=e.bfs?s.shift():s.pop(),B=C.id();if(e.dfs){if(p[B])return 0;p[B]=!0,c.push(C)}var V=f[B],U=d[B],G=U!=null?U.source():null,J=U!=null?U.target():null,ne=U==null?void 0:C.same(G)?J[0]:G[0],W;if(W=r(C,U,ne,h++,V),W===!0)return g=C,1;if(W===!1)return 1;for(var ee=C.connectedEdges().filter(function(Ae){return(!t||Ae.source().same(C))&&w.has(Ae)}),se=0;se<ee.length;se++){var pe=ee[se],le=pe.connectedNodes().filter(function(Ae){return!Ae.same(C)&&m.has(Ae)}),Ee=le.id();le.length!==0&&!p[Ee]&&(le=le[0],s.push(le),e.bfs&&(p[Ee]=!0,c.push(le)),d[Ee]=pe,f[Ee]=f[B]+1)}},j;s.length!==0&&(j=N(),!(j!==0&&j===1)););for(var q=o.collection(),O=0;O<c.length;O++){var I=c[O],A=d[I.id()];A!=null&&q.push(A),q.push(I)}return{path:o.collection(q),found:o.collection(g)}}},T4={breadthFirstSearch:age({bfs:!0}),depthFirstSearch:age({dfs:!0})};T4.bfs=T4.breadthFirstSearch;T4.dfs=T4.depthFirstSearch;var dF={exports:{}},Qqe=dF.exports,ige;function Vqe(){return ige||(ige=1,(function(n,e){(function(){var u,a,r,t,i,o,l,s,c,d,f,p,h,g,_;r=Math.floor,d=Math.min,a=function(m,w){return m<w?-1:m>w?1:0},c=function(m,w,T,E,S){var N;if(T==null&&(T=0),S==null&&(S=a),T<0)throw new Error("lo must be non-negative");for(E==null&&(E=m.length);T<E;)N=r((T+E)/2),S(w,m[N])<0?E=N:T=N+1;return[].splice.apply(m,[T,T-T].concat(w)),w},o=function(m,w,T){return T==null&&(T=a),m.push(w),g(m,0,m.length-1,T)},i=function(m,w){var T,E;return w==null&&(w=a),T=m.pop(),m.length?(E=m[0],m[0]=T,_(m,0,w)):E=T,E},s=function(m,w,T){var E;return T==null&&(T=a),E=m[0],m[0]=w,_(m,0,T),E},l=function(m,w,T){var E;return T==null&&(T=a),m.length&&T(m[0],w)<0&&(E=[m[0],w],w=E[0],m[0]=E[1],_(m,0,T)),w},t=function(m,w){var T,E,S,N,j,q;for(w==null&&(w=a),N=(function(){q=[];for(var O=0,I=r(m.length/2);0<=I?O<I:O>I;0<=I?O++:O--)q.push(O);return q}).apply(this).reverse(),j=[],E=0,S=N.length;E<S;E++)T=N[E],j.push(_(m,T,w));return j},h=function(m,w,T){var E;if(T==null&&(T=a),E=m.indexOf(w),E!==-1)return g(m,0,E,T),_(m,E,T)},f=function(m,w,T){var E,S,N,j,q;if(T==null&&(T=a),S=m.slice(0,w),!S.length)return S;for(t(S,T),q=m.slice(w),N=0,j=q.length;N<j;N++)E=q[N],l(S,E,T);return S.sort(T).reverse()},p=function(m,w,T){var E,S,N,j,q,O,I,A,P;if(T==null&&(T=a),w*10<=m.length){if(N=m.slice(0,w).sort(T),!N.length)return N;for(S=N[N.length-1],I=m.slice(w),j=0,O=I.length;j<O;j++)E=I[j],T(E,S)<0&&(c(N,E,0,null,T),N.pop(),S=N[N.length-1]);return N}for(t(m,T),P=[],q=0,A=d(w,m.length);0<=A?q<A:q>A;0<=A?++q:--q)P.push(i(m,T));return P},g=function(m,w,T,E){var S,N,j;for(E==null&&(E=a),S=m[T];T>w;){if(j=T-1>>1,N=m[j],E(S,N)<0){m[T]=N,T=j;continue}break}return m[T]=S},_=function(m,w,T){var E,S,N,j,q;for(T==null&&(T=a),S=m.length,q=w,N=m[w],E=2*w+1;E<S;)j=E+1,j<S&&!(T(m[E],m[j])<0)&&(E=j),m[w]=m[E],w=E,E=2*w+1;return m[w]=N,g(m,q,w,T)},u=(function(){m.push=o,m.pop=i,m.replace=s,m.pushpop=l,m.heapify=t,m.updateItem=h,m.nlargest=f,m.nsmallest=p;function m(w){this.cmp=w??a,this.nodes=[]}return m.prototype.push=function(w){return o(this.nodes,w,this.cmp)},m.prototype.pop=function(){return i(this.nodes,this.cmp)},m.prototype.peek=function(){return this.nodes[0]},m.prototype.contains=function(w){return this.nodes.indexOf(w)!==-1},m.prototype.replace=function(w){return s(this.nodes,w,this.cmp)},m.prototype.pushpop=function(w){return l(this.nodes,w,this.cmp)},m.prototype.heapify=function(){return t(this.nodes,this.cmp)},m.prototype.updateItem=function(w){return h(this.nodes,w,this.cmp)},m.prototype.clear=function(){return this.nodes=[]},m.prototype.empty=function(){return this.nodes.length===0},m.prototype.size=function(){return this.nodes.length},m.prototype.clone=function(){var w;return w=new m,w.nodes=this.nodes.slice(0),w},m.prototype.toArray=function(){return this.nodes.slice(0)},m.prototype.insert=m.prototype.push,m.prototype.top=m.prototype.peek,m.prototype.front=m.prototype.peek,m.prototype.has=m.prototype.contains,m.prototype.copy=m.prototype.clone,m})(),(function(m,w){return n.exports=w()})(this,function(){return u})}).call(Qqe)})(dF)),dF.exports}var D9,uge;function Hqe(){return uge||(uge=1,D9=Vqe()),D9}var kqe=Hqe(),mN=fN(kqe),zqe=Ra({root:null,weight:function(e){return 1},directed:!1}),Gqe={dijkstra:function(e){if(!Tr(e)){var u=arguments;e={root:u[0],weight:u[1],directed:u[2]}}var a=zqe(e),r=a.root,t=a.weight,i=a.directed,o=this,l=t,s=Ct(r)?this.filter(r)[0]:r[0],c={},d={},f={},p=this.byGroup(),h=p.nodes,g=p.edges;g.unmergeBy(function(V){return V.isLoop()});for(var _=function(U){return c[U.id()]},m=function(U,G){c[U.id()]=G,w.updateItem(U)},w=new mN(function(V,U){return _(V)-_(U)}),T=0;T<h.length;T++){var E=h[T];c[E.id()]=E.same(s)?0:1/0,w.push(E)}for(var S=function(U,G){for(var J=(i?U.edgesTo(G):U.edgesWith(G)).intersect(g),ne=1/0,W,ee=0;ee<J.length;ee++){var se=J[ee],pe=l(se);(pe<ne||!W)&&(ne=pe,W=se)}return{edge:W,dist:ne}};w.size()>0;){var N=w.pop(),j=_(N),q=N.id();if(f[q]=j,j!==1/0)for(var O=N.neighborhood().intersect(h),I=0;I<O.length;I++){var A=O[I],P=A.id(),C=S(N,A),B=j+C.dist;B<_(A)&&(m(A,B),d[P]={node:N,edge:C.edge})}}return{distanceTo:function(U){var G=Ct(U)?h.filter(U)[0]:U[0];return f[G.id()]},pathTo:function(U){var G=Ct(U)?h.filter(U)[0]:U[0],J=[],ne=G,W=ne.id();if(G.length>0)for(J.unshift(G);d[W];){var ee=d[W];J.unshift(ee.edge),J.unshift(ee.node),ne=ee.node,W=ne.id()}return o.spawn(J)}}}},$qe={kruskal:function(e){e=e||function(T){return 1};for(var u=this.byGroup(),a=u.nodes,r=u.edges,t=a.length,i=new Array(t),o=a,l=function(E){for(var S=0;S<i.length;S++){var N=i[S];if(N.has(E))return S}},s=0;s<t;s++)i[s]=this.spawn(a[s]);for(var c=r.sort(function(T,E){return e(T)-e(E)}),d=0;d<c.length;d++){var f=c[d],p=f.source()[0],h=f.target()[0],g=l(p),_=l(h),m=i[g],w=i[_];g!==_&&(o.merge(f),m.merge(w),i.splice(_,1))}return o}},Xqe=Ra({root:null,goal:null,weight:function(e){return 1},heuristic:function(e){return 0},directed:!1}),Kqe={aStar:function(e){var u=this.cy(),a=Xqe(e),r=a.root,t=a.goal,i=a.heuristic,o=a.directed,l=a.weight;r=u.collection(r)[0],t=u.collection(t)[0];var s=r.id(),c=t.id(),d={},f={},p={},h=new mN(function(W,ee){return f[W.id()]-f[ee.id()]}),g=new N1,_={},m={},w=function(ee,se){h.push(ee),g.add(se)},T,E,S=function(){T=h.pop(),E=T.id(),g.delete(E)},N=function(ee){return g.has(ee)};w(r,s),d[s]=0,f[s]=i(r);for(var j=0;h.size()>0;){if(S(),j++,E===c){for(var q=[],O=t,I=c,A=m[I];q.unshift(O),A!=null&&q.unshift(A),O=_[I],O!=null;)I=O.id(),A=m[I];return{found:!0,distance:d[E],path:this.spawn(q),steps:j}}p[E]=!0;for(var P=T._private.edges,C=0;C<P.length;C++){var B=P[C];if(this.hasElementWithId(B.id())&&!(o&&B.data("source")!==E)){var V=B.source(),U=B.target(),G=V.id()!==E?V:U,J=G.id();if(this.hasElementWithId(J)&&!p[J]){var ne=d[E]+l(B);if(!N(J)){d[J]=ne,f[J]=ne+i(G),w(G,J),_[J]=T,m[J]=B;continue}ne<d[J]&&(d[J]=ne,f[J]=ne+i(G),_[J]=T,m[J]=B)}}}}return{found:!1,distance:void 0,path:void 0,steps:j}}},Jqe=Ra({weight:function(e){return 1},directed:!1}),Wqe={floydWarshall:function(e){for(var u=this.cy(),a=Jqe(e),r=a.weight,t=a.directed,i=r,o=this.byGroup(),l=o.nodes,s=o.edges,c=l.length,d=c*c,f=function(pe){return l.indexOf(pe)},p=function(pe){return l[pe]},h=new Array(d),g=0;g<d;g++){var _=g%c,m=(g-_)/c;m===_?h[g]=0:h[g]=1/0}for(var w=new Array(d),T=new Array(d),E=0;E<s.length;E++){var S=s[E],N=S.source()[0],j=S.target()[0];if(N!==j){var q=f(N),O=f(j),I=q*c+O,A=i(S);if(h[I]>A&&(h[I]=A,w[I]=O,T[I]=S),!t){var P=O*c+q;!t&&h[P]>A&&(h[P]=A,w[P]=q,T[P]=S)}}}for(var C=0;C<c;C++)for(var B=0;B<c;B++)for(var V=B*c+C,U=0;U<c;U++){var G=B*c+U,J=C*c+U;h[V]+h[J]<h[G]&&(h[G]=h[V]+h[J],w[G]=w[V])}var ne=function(pe){return(Ct(pe)?u.filter(pe):pe)[0]},W=function(pe){return f(ne(pe))},ee={distance:function(pe,le){var Ee=W(pe),Ae=W(le);return h[Ee*c+Ae]},path:function(pe,le){var Ee=W(pe),Ae=W(le),Ne=p(Ee);if(Ee===Ae)return Ne.collection();if(w[Ee*c+Ae]==null)return u.collection();var Oe=u.collection(),be=Ee,te;for(Oe.merge(Ne);Ee!==Ae;)be=Ee,Ee=w[Ee*c+Ae],te=T[be*c+Ee],Oe.merge(te),Oe.merge(p(Ee));return Oe}};return ee}},Yqe=Ra({weight:function(e){return 1},directed:!1,root:null}),Zqe={bellmanFord:function(e){var u=this,a=Yqe(e),r=a.weight,t=a.directed,i=a.root,o=r,l=this,s=this.cy(),c=this.byGroup(),d=c.edges,f=c.nodes,p=f.length,h=new Xs,g=!1,_=[];i=s.collection(i)[0],d.unmergeBy(function($){return $.isLoop()});for(var m=d.length,w=function(ue){var ae=h.get(ue.id());return ae||(ae={},h.set(ue.id(),ae)),ae},T=function(ue){return(Ct(ue)?s.$(ue):ue)[0]},E=function(ue){return w(T(ue)).dist},S=function(ue){for(var ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:i,ce=T(ue),Se=[],xe=ce;;){if(xe==null)return u.spawn();var Ce=w(xe),He=Ce.edge,Je=Ce.pred;if(Se.unshift(xe[0]),xe.same(ae)&&Se.length>0)break;He!=null&&Se.unshift(He),xe=Je}return l.spawn(Se)},N=0;N<p;N++){var j=f[N],q=w(j);j.same(i)?q.dist=0:q.dist=1/0,q.pred=null,q.edge=null}for(var O=!1,I=function(ue,ae,ce,Se,xe,Ce){var He=Se.dist+Ce;He<xe.dist&&!ce.same(Se.edge)&&(xe.dist=He,xe.pred=ue,xe.edge=ce,O=!0)},A=1;A<p;A++){O=!1;for(var P=0;P<m;P++){var C=d[P],B=C.source(),V=C.target(),U=o(C),G=w(B),J=w(V);I(B,V,C,G,J,U),t||I(V,B,C,J,G,U)}if(!O)break}if(O)for(var ne=[],W=0;W<m;W++){var ee=d[W],se=ee.source(),pe=ee.target(),le=o(ee),Ee=w(se).dist,Ae=w(pe).dist;if(Ee+le<Ae||!t&&Ae+le<Ee)if(g||(Lr("Graph contains a negative weight cycle for Bellman-Ford"),g=!0),e.findNegativeWeightCycles!==!1){var Ne=[];Ee+le<Ae&&Ne.push(se),!t&&Ae+le<Ee&&Ne.push(pe);for(var Oe=Ne.length,be=0;be<Oe;be++){var te=Ne[be],v=[te];v.push(w(te).edge);for(var F=w(te).pred;v.indexOf(F)===-1;)v.push(F),v.push(w(F).edge),F=w(F).pred;v=v.slice(v.indexOf(F));for(var D=v[0].id(),L=0,H=2;H<v.length;H+=2)v[H].id()<D&&(D=v[H].id(),L=H);v=v.slice(L).concat(v.slice(0,L)),v.push(v[0]);var Z=v.map(function($){return $.id()}).join(",");ne.indexOf(Z)===-1&&(_.push(l.spawn(v)),ne.push(Z))}}else break}return{distanceTo:E,pathTo:S,hasNegativeWeightCycle:g,negativeWeightCycles:_}}},eBe=Math.sqrt(2),tBe=function(e,u,a){a.length===0&&_n("Karger-Stein must be run on a connected (sub)graph");for(var r=a[e],t=r[1],i=r[2],o=u[t],l=u[i],s=a,c=s.length-1;c>=0;c--){var d=s[c],f=d[1],p=d[2];(u[f]===o&&u[p]===l||u[f]===l&&u[p]===o)&&s.splice(c,1)}for(var h=0;h<s.length;h++){var g=s[h];g[1]===l?(s[h]=g.slice(),s[h][1]=o):g[2]===l&&(s[h]=g.slice(),s[h][2]=o)}for(var _=0;_<u.length;_++)u[_]===l&&(u[_]=o);return s},F9=function(e,u,a,r){for(;a>r;){var t=Math.floor(Math.random()*u.length);u=tBe(t,e,u),a--}return u},rBe={kargerStein:function(){var e=this,u=this.byGroup(),a=u.nodes,r=u.edges;r.unmergeBy(function(J){return J.isLoop()});var t=a.length,i=r.length,o=Math.ceil(Math.pow(Math.log(t)/Math.LN2,2)),l=Math.floor(t/eBe);if(t<2){_n("At least 2 nodes are required for Karger-Stein algorithm");return}for(var s=[],c=0;c<i;c++){var d=r[c];s.push([c,a.indexOf(d.source()),a.indexOf(d.target())])}for(var f=1/0,p=[],h=new Array(t),g=new Array(t),_=new Array(t),m=function(ne,W){for(var ee=0;ee<t;ee++)W[ee]=ne[ee]},w=0;w<=o;w++){for(var T=0;T<t;T++)g[T]=T;var E=F9(g,s.slice(),t,l),S=E.slice();m(g,_);var N=F9(g,E,l,2),j=F9(_,S,l,2);N.length<=j.length&&N.length<f?(f=N.length,p=N,m(g,h)):j.length<=N.length&&j.length<f&&(f=j.length,p=j,m(_,h))}for(var q=this.spawn(p.map(function(J){return r[J[0]]})),O=this.spawn(),I=this.spawn(),A=h[0],P=0;P<h.length;P++){var C=h[P],B=a[P];C===A?O.merge(B):I.merge(B)}var V=function(ne){var W=e.spawn();return ne.forEach(function(ee){W.merge(ee),ee.connectedEdges().forEach(function(se){e.contains(se)&&!q.contains(se)&&W.merge(se)})}),W},U=[V(O),V(I)],G={cut:q,components:U,partition1:O,partition2:I};return G}},P9,nBe=function(e){return{x:e.x,y:e.y}},UP=function(e,u,a){return{x:e.x*u+a.x,y:e.y*u+a.y}},Zwe=function(e,u,a){return{x:(e.x-a.x)/u,y:(e.y-a.y)/u}},Ug=function(e){return{x:e[0],y:e[1]}},aBe=function(e){for(var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,r=1/0,t=u;t<a;t++){var i=e[t];isFinite(i)&&(r=Math.min(i,r))}return r},iBe=function(e){for(var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,r=-1/0,t=u;t<a;t++){var i=e[t];isFinite(i)&&(r=Math.max(i,r))}return r},uBe=function(e){for(var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,r=0,t=0,i=u;i<a;i++){var o=e[i];isFinite(o)&&(r+=o,t++)}return r/t},oBe=function(e){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,t=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0;r?e=e.slice(u,a):(a<e.length&&e.splice(a,e.length-a),u>0&&e.splice(0,u));for(var o=0,l=e.length-1;l>=0;l--){var s=e[l];i?isFinite(s)||(e[l]=-1/0,o++):e.splice(l,1)}t&&e.sort(function(f,p){return f-p});var c=e.length,d=Math.floor(c/2);return c%2!==0?e[d+1+o]:(e[d-1+o]+e[d+o])/2},sBe=function(e){return Math.PI*e/180},CD=function(e,u){return Math.atan2(u,e)-Math.PI/2},kH=Math.log2||function(n){return Math.log(n)/Math.log(2)},zH=function(e){return e>0?1:e<0?-1:0},lb=function(e,u){return Math.sqrt(Ym(e,u))},Ym=function(e,u){var a=u.x-e.x,r=u.y-e.y;return a*a+r*r},cBe=function(e){for(var u=e.length,a=0,r=0;r<u;r++)a+=e[r];for(var t=0;t<u;t++)e[t]=e[t]/a;return e},ua=function(e,u,a,r){return(1-r)*(1-r)*e+2*(1-r)*r*u+r*r*a},kg=function(e,u,a,r){return{x:ua(e.x,u.x,a.x,r),y:ua(e.y,u.y,a.y,r)}},lBe=function(e,u,a,r){var t={x:u.x-e.x,y:u.y-e.y},i=lb(e,u),o={x:t.x/i,y:t.y/i};return a=a??0,r=r??a*i,{x:e.x+o.x*r,y:e.y+o.y*r}},w4=function(e,u,a){return Math.max(e,Math.min(a,u))},ei=function(e){if(e==null)return{x1:1/0,y1:1/0,x2:-1/0,y2:-1/0,w:0,h:0};if(e.x1!=null&&e.y1!=null){if(e.x2!=null&&e.y2!=null&&e.x2>=e.x1&&e.y2>=e.y1)return{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,w:e.x2-e.x1,h:e.y2-e.y1};if(e.w!=null&&e.h!=null&&e.w>=0&&e.h>=0)return{x1:e.x1,y1:e.y1,x2:e.x1+e.w,y2:e.y1+e.h,w:e.w,h:e.h}}},dBe=function(e){return{x1:e.x1,x2:e.x2,w:e.w,y1:e.y1,y2:e.y2,h:e.h}},fBe=function(e){e.x1=1/0,e.y1=1/0,e.x2=-1/0,e.y2=-1/0,e.w=0,e.h=0},pBe=function(e,u){e.x1=Math.min(e.x1,u.x1),e.x2=Math.max(e.x2,u.x2),e.w=e.x2-e.x1,e.y1=Math.min(e.y1,u.y1),e.y2=Math.max(e.y2,u.y2),e.h=e.y2-e.y1},eSe=function(e,u,a){e.x1=Math.min(e.x1,u),e.x2=Math.max(e.x2,u),e.w=e.x2-e.x1,e.y1=Math.min(e.y1,a),e.y2=Math.max(e.y2,a),e.h=e.y2-e.y1},fF=function(e){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.x1-=u,e.x2+=u,e.y1-=u,e.y2+=u,e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},pF=function(e){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[0],a,r,t,i;if(u.length===1)a=r=t=i=u[0];else if(u.length===2)a=t=u[0],i=r=u[1];else if(u.length===4){var o=zn(u,4);a=o[0],r=o[1],t=o[2],i=o[3]}return e.x1-=i,e.x2+=r,e.y1-=a,e.y2+=t,e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},oge=function(e,u){e.x1=u.x1,e.y1=u.y1,e.x2=u.x2,e.y2=u.y2,e.w=e.x2-e.x1,e.h=e.y2-e.y1},GH=function(e,u){return!(e.x1>u.x2||u.x1>e.x2||e.x2<u.x1||u.x2<e.x1||e.y2<u.y1||u.y2<e.y1||e.y1>u.y2||u.y1>e.y2)},al=function(e,u,a){return e.x1<=u&&u<=e.x2&&e.y1<=a&&a<=e.y2},sge=function(e,u){return al(e,u.x,u.y)},tSe=function(e,u){return al(e,u.x1,u.y1)&&al(e,u.x2,u.y2)},hBe=(P9=Math.hypot)!==null&&P9!==void 0?P9:function(n,e){return Math.sqrt(n*n+e*e)};function yBe(n,e){if(n.length<3)throw new Error("Need at least 3 vertices");var u=function(q,O){return{x:q.x+O.x,y:q.y+O.y}},a=function(q,O){return{x:q.x-O.x,y:q.y-O.y}},r=function(q,O){return{x:q.x*O,y:q.y*O}},t=function(q,O){return q.x*O.y-q.y*O.x},i=function(q){var O=hBe(q.x,q.y);return O===0?{x:0,y:0}:{x:q.x/O,y:q.y/O}},o=function(q){for(var O=0,I=0;I<q.length;I++){var A=q[I],P=q[(I+1)%q.length];O+=A.x*P.y-P.x*A.y}return O/2},l=function(q,O,I,A){var P=a(O,q),C=a(A,I),B=t(P,C);if(Math.abs(B)<1e-9)return u(q,r(P,.5));var V=t(a(I,q),C)/B;return u(q,r(P,V))},s=n.map(function(j){return{x:j.x,y:j.y}});o(s)<0&&s.reverse();for(var c=s.length,d=[],f=0;f<c;f++){var p=s[f],h=s[(f+1)%c],g=a(h,p),_=i({x:g.y,y:-g.x});d.push(_)}for(var m=d.map(function(j,q){var O=u(s[q],r(j,e)),I=u(s[(q+1)%c],r(j,e));return{p1:O,p2:I}}),w=[],T=0;T<c;T++){var E=m[(T-1+c)%c],S=m[T],N=l(E.p1,E.p2,S.p1,S.p2);w.push(N)}return w}function mBe(n,e,u,a,r,t){var i=ABe(n,e,u,a,r),o=yBe(i,t),l=ei();return o.forEach(function(s){return eSe(l,s.x,s.y)}),l}var rSe=function(e,u,a,r,t,i,o){var l=arguments.length>7&&arguments[7]!==void 0?arguments[7]:"auto",s=l==="auto"?hl(t,i):l,c=t/2,d=i/2;s=Math.min(s,c,d);var f=s!==c,p=s!==d,h;if(f){var g=a-c+s-o,_=r-d-o,m=a+c-s+o,w=_;if(h=il(e,u,a,r,g,_,m,w,!1),h.length>0)return h}if(p){var T=a+c+o,E=r-d+s-o,S=T,N=r+d-s+o;if(h=il(e,u,a,r,T,E,S,N,!1),h.length>0)return h}if(f){var j=a-c+s-o,q=r+d+o,O=a+c-s+o,I=q;if(h=il(e,u,a,r,j,q,O,I,!1),h.length>0)return h}if(p){var A=a-c-o,P=r-d+s-o,C=A,B=r+d-s+o;if(h=il(e,u,a,r,A,P,C,B,!1),h.length>0)return h}var V;{var U=a-c+s,G=r-d+s;if(V=Y6(e,u,a,r,U,G,s+o),V.length>0&&V[0]<=U&&V[1]<=G)return[V[0],V[1]]}{var J=a+c-s,ne=r-d+s;if(V=Y6(e,u,a,r,J,ne,s+o),V.length>0&&V[0]>=J&&V[1]<=ne)return[V[0],V[1]]}{var W=a+c-s,ee=r+d-s;if(V=Y6(e,u,a,r,W,ee,s+o),V.length>0&&V[0]>=W&&V[1]>=ee)return[V[0],V[1]]}{var se=a-c+s,pe=r+d-s;if(V=Y6(e,u,a,r,se,pe,s+o),V.length>0&&V[0]<=se&&V[1]>=pe)return[V[0],V[1]]}return[]},bBe=function(e,u,a,r,t,i,o){var l=o,s=Math.min(a,t),c=Math.max(a,t),d=Math.min(r,i),f=Math.max(r,i);return s-l<=e&&e<=c+l&&d-l<=u&&u<=f+l},gBe=function(e,u,a,r,t,i,o,l,s){var c={x1:Math.min(a,o,t)-s,x2:Math.max(a,o,t)+s,y1:Math.min(r,l,i)-s,y2:Math.max(r,l,i)+s};return!(e<c.x1||e>c.x2||u<c.y1||u>c.y2)},vBe=function(e,u,a,r){a-=r;var t=u*u-4*e*a;if(t<0)return[];var i=Math.sqrt(t),o=2*e,l=(-u+i)/o,s=(-u-i)/o;return[l,s]},_Be=function(e,u,a,r,t){var i=1e-5;e===0&&(e=i),u/=e,a/=e,r/=e;var o,l,s,c,d,f,p,h;if(l=(3*a-u*u)/9,s=-(27*r)+u*(9*a-2*(u*u)),s/=54,o=l*l*l+s*s,t[1]=0,p=u/3,o>0){d=s+Math.sqrt(o),d=d<0?-Math.pow(-d,1/3):Math.pow(d,1/3),f=s-Math.sqrt(o),f=f<0?-Math.pow(-f,1/3):Math.pow(f,1/3),t[0]=-p+d+f,p+=(d+f)/2,t[4]=t[2]=-p,p=Math.sqrt(3)*(-f+d)/2,t[3]=p,t[5]=-p;return}if(t[5]=t[3]=0,o===0){h=s<0?-Math.pow(-s,1/3):Math.pow(s,1/3),t[0]=-p+2*h,t[4]=t[2]=-(h+p);return}l=-l,c=l*l*l,c=Math.acos(s/Math.sqrt(c)),h=2*Math.sqrt(l),t[0]=-p+h*Math.cos(c/3),t[2]=-p+h*Math.cos((c+2*Math.PI)/3),t[4]=-p+h*Math.cos((c+4*Math.PI)/3)},TBe=function(e,u,a,r,t,i,o,l){var s=1*a*a-4*a*t+2*a*o+4*t*t-4*t*o+o*o+r*r-4*r*i+2*r*l+4*i*i-4*i*l+l*l,c=9*a*t-3*a*a-3*a*o-6*t*t+3*t*o+9*r*i-3*r*r-3*r*l-6*i*i+3*i*l,d=3*a*a-6*a*t+a*o-a*e+2*t*t+2*t*e-o*e+3*r*r-6*r*i+r*l-r*u+2*i*i+2*i*u-l*u,f=1*a*t-a*a+a*e-t*e+r*i-r*r+r*u-i*u,p=[];_Be(s,c,d,f,p);for(var h=1e-7,g=[],_=0;_<6;_+=2)Math.abs(p[_+1])<h&&p[_]>=0&&p[_]<=1&&g.push(p[_]);g.push(1),g.push(0);for(var m=-1,w,T,E,S=0;S<g.length;S++)w=Math.pow(1-g[S],2)*a+2*(1-g[S])*g[S]*t+g[S]*g[S]*o,T=Math.pow(1-g[S],2)*r+2*(1-g[S])*g[S]*i+g[S]*g[S]*l,E=Math.pow(w-e,2)+Math.pow(T-u,2),m>=0?E<m&&(m=E):m=E;return m},wBe=function(e,u,a,r,t,i){var o=[e-a,u-r],l=[t-a,i-r],s=l[0]*l[0]+l[1]*l[1],c=o[0]*o[0]+o[1]*o[1],d=o[0]*l[0]+o[1]*l[1],f=d*d/s;return d<0?c:f>s?(e-t)*(e-t)+(u-i)*(u-i):c-f},hi=function(e,u,a){for(var r,t,i,o,l,s=0,c=0;c<a.length/2;c++)if(r=a[c*2],t=a[c*2+1],c+1<a.length/2?(i=a[(c+1)*2],o=a[(c+1)*2+1]):(i=a[(c+1-a.length/2)*2],o=a[(c+1-a.length/2)*2+1]),!(r==e&&i==e))if(r>=e&&e>=i||r<=e&&e<=i)l=(e-r)/(i-r)*(o-t)+t,l>u&&s++;else continue;return s%2!==0},rc=function(e,u,a,r,t,i,o,l,s){var c=new Array(a.length),d;l[0]!=null?(d=Math.atan(l[1]/l[0]),l[0]<0?d=d+Math.PI/2:d=-d-Math.PI/2):d=l;for(var f=Math.cos(-d),p=Math.sin(-d),h=0;h<c.length/2;h++)c[h*2]=i/2*(a[h*2]*f-a[h*2+1]*p),c[h*2+1]=o/2*(a[h*2+1]*f+a[h*2]*p),c[h*2]+=r,c[h*2+1]+=t;var g;if(s>0){var _=CF(c,-s);g=MF(_)}else g=c;return hi(e,u,g)},SBe=function(e,u,a,r,t,i,o,l){for(var s=new Array(a.length*2),c=0;c<l.length;c++){var d=l[c];s[c*4+0]=d.startX,s[c*4+1]=d.startY,s[c*4+2]=d.stopX,s[c*4+3]=d.stopY;var f=Math.pow(d.cx-e,2)+Math.pow(d.cy-u,2);if(f<=Math.pow(d.radius,2))return!0}return hi(e,u,s)},MF=function(e){for(var u=new Array(e.length/2),a,r,t,i,o,l,s,c,d=0;d<e.length/4;d++){a=e[d*4],r=e[d*4+1],t=e[d*4+2],i=e[d*4+3],d<e.length/4-1?(o=e[(d+1)*4],l=e[(d+1)*4+1],s=e[(d+1)*4+2],c=e[(d+1)*4+3]):(o=e[0],l=e[1],s=e[2],c=e[3]);var f=il(a,r,t,i,o,l,s,c,!0);u[d*2]=f[0],u[d*2+1]=f[1]}return u},CF=function(e,u){for(var a=new Array(e.length*2),r,t,i,o,l=0;l<e.length/2;l++){r=e[l*2],t=e[l*2+1],l<e.length/2-1?(i=e[(l+1)*2],o=e[(l+1)*2+1]):(i=e[0],o=e[1]);var s=o-t,c=-(i-r),d=Math.sqrt(s*s+c*c),f=s/d,p=c/d;a[l*4]=r+f*u,a[l*4+1]=t+p*u,a[l*4+2]=i+f*u,a[l*4+3]=o+p*u}return a},EBe=function(e,u,a,r,t,i){var o=a-e,l=r-u;o/=t,l/=i;var s=Math.sqrt(o*o+l*l),c=s-1;if(c<0)return[];var d=c/s;return[(a-e)*d+e,(r-u)*d+u]},ub=function(e,u,a,r,t,i,o){return e-=t,u-=i,e/=a/2+o,u/=r/2+o,e*e+u*u<=1},Y6=function(e,u,a,r,t,i,o){var l=[a-e,r-u],s=[e-t,u-i],c=l[0]*l[0]+l[1]*l[1],d=2*(s[0]*l[0]+s[1]*l[1]),f=s[0]*s[0]+s[1]*s[1]-o*o,p=d*d-4*c*f;if(p<0)return[];var h=(-d+Math.sqrt(p))/(2*c),g=(-d-Math.sqrt(p))/(2*c),_=Math.min(h,g),m=Math.max(h,g),w=[];if(_>=0&&_<=1&&w.push(_),m>=0&&m<=1&&w.push(m),w.length===0)return[];var T=w[0]*l[0]+e,E=w[0]*l[1]+u;if(w.length>1){if(w[0]==w[1])return[T,E];var S=w[1]*l[0]+e,N=w[1]*l[1]+u;return[T,E,S,N]}else return[T,E]},j9=function(e,u,a){return u<=e&&e<=a||a<=e&&e<=u?e:e<=u&&u<=a||a<=u&&u<=e?u:a},il=function(e,u,a,r,t,i,o,l,s){var c=e-t,d=a-e,f=o-t,p=u-i,h=r-u,g=l-i,_=f*p-g*c,m=d*p-h*c,w=g*d-f*h;if(w!==0){var T=_/w,E=m/w,S=.001,N=0-S,j=1+S;return N<=T&&T<=j&&N<=E&&E<=j?[e+T*d,u+T*h]:s?[e+T*d,u+T*h]:[]}else return _===0||m===0?j9(e,a,o)===o?[o,l]:j9(e,a,t)===t?[t,i]:j9(t,o,a)===a?[a,r]:[]:[]},ABe=function(e,u,a,r,t){var i=[],o=r/2,l=t/2,s=u,c=a;i.push({x:s+o*e[0],y:c+l*e[1]});for(var d=1;d<e.length/2;d++)i.push({x:s+o*e[d*2],y:c+l*e[d*2+1]});return i},S4=function(e,u,a,r,t,i,o,l){var s=[],c,d=new Array(a.length),f=!0;i==null&&(f=!1);var p;if(f){for(var h=0;h<d.length/2;h++)d[h*2]=a[h*2]*i+r,d[h*2+1]=a[h*2+1]*o+t;if(l>0){var g=CF(d,-l);p=MF(g)}else p=d}else p=a;for(var _,m,w,T,E=0;E<p.length/2;E++)_=p[E*2],m=p[E*2+1],E<p.length/2-1?(w=p[(E+1)*2],T=p[(E+1)*2+1]):(w=p[0],T=p[1]),c=il(e,u,r,t,_,m,w,T),c.length!==0&&s.push(c[0],c[1]);return s},OBe=function(e,u,a,r,t,i,o,l,s){var c=[],d,f=new Array(a.length*2);s.forEach(function(w,T){T===0?(f[f.length-2]=w.startX,f[f.length-1]=w.startY):(f[T*4-2]=w.startX,f[T*4-1]=w.startY),f[T*4]=w.stopX,f[T*4+1]=w.stopY,d=Y6(e,u,r,t,w.cx,w.cy,w.radius),d.length!==0&&c.push(d[0],d[1])});for(var p=0;p<f.length/4;p++)d=il(e,u,r,t,f[p*4],f[p*4+1],f[p*4+2],f[p*4+3],!1),d.length!==0&&c.push(d[0],d[1]);if(c.length>2){for(var h=[c[0],c[1]],g=Math.pow(h[0]-e,2)+Math.pow(h[1]-u,2),_=1;_<c.length/2;_++){var m=Math.pow(c[_*2]-e,2)+Math.pow(c[_*2+1]-u,2);m<=g&&(h[0]=c[_*2],h[1]=c[_*2+1],g=m)}return h}return c},LD=function(e,u,a){var r=[e[0]-u[0],e[1]-u[1]],t=Math.sqrt(r[0]*r[0]+r[1]*r[1]),i=(t-a)/t;return i<0&&(i=1e-5),[u[0]+i*r[0],u[1]+i*r[1]]},Wa=function(e,u){var a=_7(e,u);return a=nSe(a),a},nSe=function(e){for(var u,a,r=e.length/2,t=1/0,i=1/0,o=-1/0,l=-1/0,s=0;s<r;s++)u=e[2*s],a=e[2*s+1],t=Math.min(t,u),o=Math.max(o,u),i=Math.min(i,a),l=Math.max(l,a);for(var c=2/(o-t),d=2/(l-i),f=0;f<r;f++)u=e[2*f]=e[2*f]*c,a=e[2*f+1]=e[2*f+1]*d,t=Math.min(t,u),o=Math.max(o,u),i=Math.min(i,a),l=Math.max(l,a);if(i<-1)for(var p=0;p<r;p++)a=e[2*p+1]=e[2*p+1]+(-1-i);return e},_7=function(e,u){var a=1/e*2*Math.PI,r=e%2===0?Math.PI/2+a/2:Math.PI/2;r+=u;for(var t=new Array(e*2),i,o=0;o<e;o++)i=o*a+r,t[2*o]=Math.cos(i),t[2*o+1]=Math.sin(-i);return t},hl=function(e,u){return Math.min(e/4,u/4,8)},aSe=function(e,u){return Math.min(e/10,u/10,8)},$H=function(){return 8},xBe=function(e,u,a){return[e-2*u+a,2*(u-e),e]},T7=function(e,u){return{heightOffset:Math.min(15,.05*u),widthOffset:Math.min(100,.25*e),ctrlPtOffsetPct:.05}};function M9(n,e){function u(d){for(var f=[],p=0;p<d.length;p++){var h=d[p],g=d[(p+1)%d.length],_={x:g.x-h.x,y:g.y-h.y},m={x:-_.y,y:_.x},w=Math.sqrt(m.x*m.x+m.y*m.y);f.push({x:m.x/w,y:m.y/w})}return f}function a(d,f){var p=1/0,h=-1/0,g=yi(d),_;try{for(g.s();!(_=g.n()).done;){var m=_.value,w=m.x*f.x+m.y*f.y;p=Math.min(p,w),h=Math.max(h,w)}}catch(T){g.e(T)}finally{g.f()}return{min:p,max:h}}function r(d,f){return!(d.max<f.min||f.max<d.min)}var t=[].concat(DF(u(n)),DF(u(e))),i=yi(t),o;try{for(i.s();!(o=i.n()).done;){var l=o.value,s=a(n,l),c=a(e,l);if(!r(s,c))return!1}}catch(d){i.e(d)}finally{i.f()}return!0}var RBe=Ra({dampingFactor:.8,precision:1e-6,iterations:200,weight:function(e){return 1}}),NBe={pageRank:function(e){for(var u=RBe(e),a=u.dampingFactor,r=u.precision,t=u.iterations,i=u.weight,o=this._private.cy,l=this.byGroup(),s=l.nodes,c=l.edges,d=s.length,f=d*d,p=c.length,h=new Array(f),g=new Array(d),_=(1-a)/d,m=0;m<d;m++){for(var w=0;w<d;w++){var T=m*d+w;h[T]=0}g[m]=0}for(var E=0;E<p;E++){var S=c[E],N=S.data("source"),j=S.data("target");if(N!==j){var q=s.indexOfId(N),O=s.indexOfId(j),I=i(S),A=O*d+q;h[A]+=I,g[q]+=I}}for(var P=1/d+_,C=0;C<d;C++)if(g[C]===0)for(var B=0;B<d;B++){var V=B*d+C;h[V]=P}else for(var U=0;U<d;U++){var G=U*d+C;h[G]=h[G]/g[C]+_}for(var J=new Array(d),ne=new Array(d),W,ee=0;ee<d;ee++)J[ee]=1;for(var se=0;se<t;se++){for(var pe=0;pe<d;pe++)ne[pe]=0;for(var le=0;le<d;le++)for(var Ee=0;Ee<d;Ee++){var Ae=le*d+Ee;ne[le]+=h[Ae]*J[Ee]}cBe(ne),W=J,J=ne,ne=W;for(var Ne=0,Oe=0;Oe<d;Oe++){var be=W[Oe]-J[Oe];Ne+=be*be}if(Ne<r)break}var te={rank:function(F){return F=o.collection(F)[0],J[s.indexOf(F)]}};return te}},cge=Ra({root:null,weight:function(e){return 1},directed:!1,alpha:0}),zg={degreeCentralityNormalized:function(e){e=cge(e);var u=this.cy(),a=this.nodes(),r=a.length;if(e.directed){for(var c={},d={},f=0,p=0,h=0;h<r;h++){var g=a[h],_=g.id();e.root=g;var m=this.degreeCentrality(e);f<m.indegree&&(f=m.indegree),p<m.outdegree&&(p=m.outdegree),c[_]=m.indegree,d[_]=m.outdegree}return{indegree:function(T){return f==0?0:(Ct(T)&&(T=u.filter(T)),c[T.id()]/f)},outdegree:function(T){return p===0?0:(Ct(T)&&(T=u.filter(T)),d[T.id()]/p)}}}else{for(var t={},i=0,o=0;o<r;o++){var l=a[o];e.root=l;var s=this.degreeCentrality(e);i<s.degree&&(i=s.degree),t[l.id()]=s.degree}return{degree:function(T){return i===0?0:(Ct(T)&&(T=u.filter(T)),t[T.id()]/i)}}}},degreeCentrality:function(e){e=cge(e);var u=this.cy(),a=this,r=e,t=r.root,i=r.weight,o=r.directed,l=r.alpha;if(t=u.collection(t)[0],o){for(var p=t.connectedEdges(),h=p.filter(function(N){return N.target().same(t)&&a.has(N)}),g=p.filter(function(N){return N.source().same(t)&&a.has(N)}),_=h.length,m=g.length,w=0,T=0,E=0;E<h.length;E++)w+=i(h[E]);for(var S=0;S<g.length;S++)T+=i(g[S]);return{indegree:Math.pow(_,1-l)*Math.pow(w,l),outdegree:Math.pow(m,1-l)*Math.pow(T,l)}}else{for(var s=t.connectedEdges().intersection(a),c=s.length,d=0,f=0;f<s.length;f++)d+=i(s[f]);return{degree:Math.pow(c,1-l)*Math.pow(d,l)}}}};zg.dc=zg.degreeCentrality;zg.dcn=zg.degreeCentralityNormalised=zg.degreeCentralityNormalized;var lge=Ra({harmonic:!0,weight:function(){return 1},directed:!1,root:null}),Gg={closenessCentralityNormalized:function(e){for(var u=lge(e),a=u.harmonic,r=u.weight,t=u.directed,i=this.cy(),o={},l=0,s=this.nodes(),c=this.floydWarshall({weight:r,directed:t}),d=0;d<s.length;d++){for(var f=0,p=s[d],h=0;h<s.length;h++)if(d!==h){var g=c.distance(p,s[h]);a?f+=1/g:f+=g}a||(f=1/f),l<f&&(l=f),o[p.id()]=f}return{closeness:function(m){return l==0?0:(Ct(m)?m=i.filter(m)[0].id():m=m.id(),o[m]/l)}}},closenessCentrality:function(e){var u=lge(e),a=u.root,r=u.weight,t=u.directed,i=u.harmonic;a=this.filter(a)[0];for(var o=this.dijkstra({root:a,weight:r,directed:t}),l=0,s=this.nodes(),c=0;c<s.length;c++){var d=s[c];if(!d.same(a)){var f=o.distanceTo(d);i?l+=1/f:l+=f}}return i?l:1/l}};Gg.cc=Gg.closenessCentrality;Gg.ccn=Gg.closenessCentralityNormalised=Gg.closenessCentralityNormalized;var IBe=Ra({weight:null,directed:!1}),w7={betweennessCentrality:function(e){for(var u=IBe(e),a=u.directed,r=u.weight,t=r!=null,i=this.cy(),o=this.nodes(),l={},s={},c=0,d={set:function(T,E){s[T]=E,E>c&&(c=E)},get:function(T){return s[T]}},f=0;f<o.length;f++){var p=o[f],h=p.id();a?l[h]=p.outgoers().nodes():l[h]=p.openNeighborhood().nodes(),d.set(h,0)}for(var g=function(){for(var T=o[_].id(),E=[],S={},N={},j={},q=new mN(function(le,Ee){return j[le]-j[Ee]}),O=0;O<o.length;O++){var I=o[O].id();S[I]=[],N[I]=0,j[I]=1/0}for(N[T]=1,j[T]=0,q.push(T);!q.empty();){var A=q.pop();if(E.push(A),t)for(var P=0;P<l[A].length;P++){var C=l[A][P],B=i.getElementById(A),V=void 0;B.edgesTo(C).length>0?V=B.edgesTo(C)[0]:V=C.edgesTo(B)[0];var U=r(V);C=C.id(),j[C]>j[A]+U&&(j[C]=j[A]+U,q.nodes.indexOf(C)<0?q.push(C):q.updateItem(C),N[C]=0,S[C]=[]),j[C]==j[A]+U&&(N[C]=N[C]+N[A],S[C].push(A))}else for(var G=0;G<l[A].length;G++){var J=l[A][G].id();j[J]==1/0&&(q.push(J),j[J]=j[A]+1),j[J]==j[A]+1&&(N[J]=N[J]+N[A],S[J].push(A))}}for(var ne={},W=0;W<o.length;W++)ne[o[W].id()]=0;for(;E.length>0;){for(var ee=E.pop(),se=0;se<S[ee].length;se++){var pe=S[ee][se];ne[pe]=ne[pe]+N[pe]/N[ee]*(1+ne[ee])}ee!=o[_].id()&&d.set(ee,d.get(ee)+ne[ee])}},_=0;_<o.length;_++)g();var m={betweenness:function(T){var E=i.collection(T).id();return d.get(E)},betweennessNormalized:function(T){if(c==0)return 0;var E=i.collection(T).id();return d.get(E)/c}};return m.betweennessNormalised=m.betweennessNormalized,m}};w7.bc=w7.betweennessCentrality;var DBe=Ra({expandFactor:2,inflateFactor:2,multFactor:1,maxIterations:20,attributes:[function(n){return 1}]}),FBe=function(e){return DBe(e)},PBe=function(e,u){for(var a=0,r=0;r<u.length;r++)a+=u[r](e);return a},jBe=function(e,u,a){for(var r=0;r<u;r++)e[r*u+r]=a},iSe=function(e,u){for(var a,r=0;r<u;r++){a=0;for(var t=0;t<u;t++)a+=e[t*u+r];for(var i=0;i<u;i++)e[i*u+r]=e[i*u+r]/a}},MBe=function(e,u,a){for(var r=new Array(a*a),t=0;t<a;t++){for(var i=0;i<a;i++)r[t*a+i]=0;for(var o=0;o<a;o++)for(var l=0;l<a;l++)r[t*a+l]+=e[t*a+o]*u[o*a+l]}return r},CBe=function(e,u,a){for(var r=e.slice(0),t=1;t<a;t++)e=MBe(e,r,u);return e},LBe=function(e,u,a){for(var r=new Array(u*u),t=0;t<u*u;t++)r[t]=Math.pow(e[t],a);return iSe(r,u),r},qBe=function(e,u,a,r){for(var t=0;t<a;t++){var i=Math.round(e[t]*Math.pow(10,r))/Math.pow(10,r),o=Math.round(u[t]*Math.pow(10,r))/Math.pow(10,r);if(i!==o)return!1}return!0},BBe=function(e,u,a,r){for(var t=[],i=0;i<u;i++){for(var o=[],l=0;l<u;l++)Math.round(e[i*u+l]*1e3)/1e3>0&&o.push(a[l]);o.length!==0&&t.push(r.collection(o))}return t},UBe=function(e,u){for(var a=0;a<e.length;a++)if(!u[a]||e[a].id()!==u[a].id())return!1;return!0},QBe=function(e){for(var u=0;u<e.length;u++)for(var a=0;a<e.length;a++)u!=a&&UBe(e[u],e[a])&&e.splice(a,1);return e},dge=function(e){for(var u=this.nodes(),a=this.edges(),r=this.cy(),t=FBe(e),i={},o=0;o<u.length;o++)i[u[o].id()]=o;for(var l=u.length,s=l*l,c=new Array(s),d,f=0;f<s;f++)c[f]=0;for(var p=0;p<a.length;p++){var h=a[p],g=i[h.source().id()],_=i[h.target().id()],m=PBe(h,t.attributes);c[g*l+_]+=m,c[_*l+g]+=m}jBe(c,l,t.multFactor),iSe(c,l);for(var w=!0,T=0;w&&T<t.maxIterations;)w=!1,d=CBe(c,l,t.expandFactor),c=LBe(d,l,t.inflateFactor),qBe(c,d,s,4)||(w=!0),T++;var E=BBe(c,l,u,r);return E=QBe(E),E},VBe={markovClustering:dge,mcl:dge},HBe=function(e){return e},uSe=function(e,u){return Math.abs(u-e)},fge=function(e,u,a){return e+uSe(u,a)},pge=function(e,u,a){return e+Math.pow(a-u,2)},kBe=function(e){return Math.sqrt(e)},zBe=function(e,u,a){return Math.max(e,uSe(u,a))},R6=function(e,u,a,r,t){for(var i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:HBe,o=r,l,s,c=0;c<e;c++)l=u(c),s=a(c),o=t(o,l,s);return i(o)},f1={euclidean:function(e,u,a){return e>=2?R6(e,u,a,0,pge,kBe):R6(e,u,a,0,fge)},squaredEuclidean:function(e,u,a){return R6(e,u,a,0,pge)},manhattan:function(e,u,a){return R6(e,u,a,0,fge)},max:function(e,u,a){return R6(e,u,a,-1/0,zBe)}};f1["squared-euclidean"]=f1.squaredEuclidean;f1.squaredeuclidean=f1.squaredEuclidean;function QP(n,e,u,a,r,t){var i;return On(n)?i=n:i=f1[n]||f1.euclidean,e===0&&On(n)?i(r,t):i(e,u,a,r,t)}var GBe=Ra({k:2,m:2,sensitivityThreshold:1e-4,distance:"euclidean",maxIterations:10,attributes:[],testMode:!1,testCentroids:null}),XH=function(e){return GBe(e)},LF=function(e,u,a,r,t){var i=t!=="kMedoids",o=i?function(d){return a[d]}:function(d){return r[d](a)},l=function(f){return r[f](u)},s=a,c=u;return QP(e,r.length,o,l,s,c)},C9=function(e,u,a){for(var r=a.length,t=new Array(r),i=new Array(r),o=new Array(u),l=null,s=0;s<r;s++)t[s]=e.min(a[s]).value,i[s]=e.max(a[s]).value;for(var c=0;c<u;c++){l=[];for(var d=0;d<r;d++)l[d]=Math.random()*(i[d]-t[d])+t[d];o[c]=l}return o},oSe=function(e,u,a,r,t){for(var i=1/0,o=0,l=0;l<u.length;l++){var s=LF(a,e,u[l],r,t);s<i&&(i=s,o=l)}return o},sSe=function(e,u,a){for(var r=[],t=null,i=0;i<u.length;i++)t=u[i],a[t.id()]===e&&r.push(t);return r},$Be=function(e,u,a){return Math.abs(u-e)<=a},XBe=function(e,u,a){for(var r=0;r<e.length;r++)for(var t=0;t<e[r].length;t++){var i=Math.abs(e[r][t]-u[r][t]);if(i>a)return!1}return!0},KBe=function(e,u,a){for(var r=0;r<a;r++)if(e===u[r])return!0;return!1},hge=function(e,u){var a=new Array(u);if(e.length<50)for(var r=0;r<u;r++){for(var t=e[Math.floor(Math.random()*e.length)];KBe(t,a,r);)t=e[Math.floor(Math.random()*e.length)];a[r]=t}else for(var i=0;i<u;i++)a[i]=e[Math.floor(Math.random()*e.length)];return a},yge=function(e,u,a){for(var r=0,t=0;t<u.length;t++)r+=LF("manhattan",u[t],e,a,"kMedoids");return r},JBe=function(e){var u=this.cy(),a=this.nodes(),r=null,t=XH(e),i=new Array(t.k),o={},l;t.testMode?typeof t.testCentroids=="number"?(t.testCentroids,l=C9(a,t.k,t.attributes)):ta(t.testCentroids)==="object"?l=t.testCentroids:l=C9(a,t.k,t.attributes):l=C9(a,t.k,t.attributes);for(var s=!0,c=0;s&&c<t.maxIterations;){for(var d=0;d<a.length;d++)r=a[d],o[r.id()]=oSe(r,l,t.distance,t.attributes,"kMeans");s=!1;for(var f=0;f<t.k;f++){var p=sSe(f,a,o);if(p.length!==0){for(var h=t.attributes.length,g=l[f],_=new Array(h),m=new Array(h),w=0;w<h;w++){m[w]=0;for(var T=0;T<p.length;T++)r=p[T],m[w]+=t.attributes[w](r);_[w]=m[w]/p.length,$Be(_[w],g[w],t.sensitivityThreshold)||(s=!0)}l[f]=_,i[f]=u.collection(p)}}c++}return i},WBe=function(e){var u=this.cy(),a=this.nodes(),r=null,t=XH(e),i=new Array(t.k),o,l={},s,c=new Array(t.k);t.testMode?typeof t.testCentroids=="number"||(ta(t.testCentroids)==="object"?o=t.testCentroids:o=hge(a,t.k)):o=hge(a,t.k);for(var d=!0,f=0;d&&f<t.maxIterations;){for(var p=0;p<a.length;p++)r=a[p],l[r.id()]=oSe(r,o,t.distance,t.attributes,"kMedoids");d=!1;for(var h=0;h<o.length;h++){var g=sSe(h,a,l);if(g.length!==0){c[h]=yge(o[h],g,t.attributes);for(var _=0;_<g.length;_++)s=yge(g[_],g,t.attributes),s<c[h]&&(c[h]=s,o[h]=g[_],d=!0);i[h]=u.collection(g)}}f++}return i},YBe=function(e,u,a,r,t){for(var i,o,l=0;l<u.length;l++)for(var s=0;s<e.length;s++)r[l][s]=Math.pow(a[l][s],t.m);for(var c=0;c<e.length;c++)for(var d=0;d<t.attributes.length;d++){i=0,o=0;for(var f=0;f<u.length;f++)i+=r[f][c]*t.attributes[d](u[f]),o+=r[f][c];e[c][d]=i/o}},ZBe=function(e,u,a,r,t){for(var i=0;i<e.length;i++)u[i]=e[i].slice();for(var o,l,s,c=2/(t.m-1),d=0;d<a.length;d++)for(var f=0;f<r.length;f++){o=0;for(var p=0;p<a.length;p++)l=LF(t.distance,r[f],a[d],t.attributes,"cmeans"),s=LF(t.distance,r[f],a[p],t.attributes,"cmeans"),o+=Math.pow(l/s,c);e[f][d]=1/o}},eUe=function(e,u,a,r){for(var t=new Array(a.k),i=0;i<t.length;i++)t[i]=[];for(var o,l,s=0;s<u.length;s++){o=-1/0,l=-1;for(var c=0;c<u[0].length;c++)u[s][c]>o&&(o=u[s][c],l=c);t[l].push(e[s])}for(var d=0;d<t.length;d++)t[d]=r.collection(t[d]);return t},mge=function(e){var u=this.cy(),a=this.nodes(),r=XH(e),t,i,o,l,s;l=new Array(a.length);for(var c=0;c<a.length;c++)l[c]=new Array(r.k);o=new Array(a.length);for(var d=0;d<a.length;d++)o[d]=new Array(r.k);for(var f=0;f<a.length;f++){for(var p=0,h=0;h<r.k;h++)o[f][h]=Math.random(),p+=o[f][h];for(var g=0;g<r.k;g++)o[f][g]=o[f][g]/p}i=new Array(r.k);for(var _=0;_<r.k;_++)i[_]=new Array(r.attributes.length);s=new Array(a.length);for(var m=0;m<a.length;m++)s[m]=new Array(r.k);for(var w=!0,T=0;w&&T<r.maxIterations;)w=!1,YBe(i,a,o,s,r),ZBe(o,l,i,a,r),XBe(o,l,r.sensitivityThreshold)||(w=!0),T++;return t=eUe(a,o,r,u),{clusters:t,degreeOfMembership:o}},tUe={kMeans:JBe,kMedoids:WBe,fuzzyCMeans:mge,fcm:mge},rUe=Ra({distance:"euclidean",linkage:"min",mode:"threshold",threshold:1/0,addDendrogram:!1,dendrogramDepth:0,attributes:[]}),nUe={single:"min",complete:"max"},aUe=function(e){var u=rUe(e),a=nUe[u.linkage];return a!=null&&(u.linkage=a),u},bge=function(e,u,a,r,t){for(var i=0,o=1/0,l,s=t.attributes,c=function(O,I){return QP(t.distance,s.length,function(A){return s[A](O)},function(A){return s[A](I)},O,I)},d=0;d<e.length;d++){var f=e[d].key,p=a[f][r[f]];p<o&&(i=f,o=p)}if(t.mode==="threshold"&&o>=t.threshold||t.mode==="dendrogram"&&e.length===1)return!1;var h=u[i],g=u[r[i]],_;t.mode==="dendrogram"?_={left:h,right:g,key:h.key}:_={value:h.value.concat(g.value),key:h.key},e[h.index]=_,e.splice(g.index,1),u[h.key]=_;for(var m=0;m<e.length;m++){var w=e[m];h.key===w.key?l=1/0:t.linkage==="min"?(l=a[h.key][w.key],a[h.key][w.key]>a[g.key][w.key]&&(l=a[g.key][w.key])):t.linkage==="max"?(l=a[h.key][w.key],a[h.key][w.key]<a[g.key][w.key]&&(l=a[g.key][w.key])):t.linkage==="mean"?l=(a[h.key][w.key]*h.size+a[g.key][w.key]*g.size)/(h.size+g.size):t.mode==="dendrogram"?l=c(w.value,h.value):l=c(w.value[0],h.value[0]),a[h.key][w.key]=a[w.key][h.key]=l}for(var T=0;T<e.length;T++){var E=e[T].key;if(r[E]===h.key||r[E]===g.key){for(var S=E,N=0;N<e.length;N++){var j=e[N].key;a[E][j]<a[E][S]&&(S=j)}r[E]=S}e[T].index=T}return h.key=g.key=h.index=g.index=null,!0},Qg=function(e,u,a){e&&(e.value?u.push(e.value):(e.left&&Qg(e.left,u),e.right&&Qg(e.right,u)))},S7=function(e,u){if(!e)return"";if(e.left&&e.right){var a=S7(e.left,u),r=S7(e.right,u),t=u.add({group:"nodes",data:{id:a+","+r}});return u.add({group:"edges",data:{source:a,target:t.id()}}),u.add({group:"edges",data:{source:r,target:t.id()}}),t.id()}else if(e.value)return e.value.id()},E7=function(e,u,a){if(!e)return[];var r=[],t=[],i=[];return u===0?(e.left&&Qg(e.left,r),e.right&&Qg(e.right,t),i=r.concat(t),[a.collection(i)]):u===1?e.value?[a.collection(e.value)]:(e.left&&Qg(e.left,r),e.right&&Qg(e.right,t),[a.collection(r),a.collection(t)]):e.value?[a.collection(e.value)]:(e.left&&(r=E7(e.left,u-1,a)),e.right&&(t=E7(e.right,u-1,a)),r.concat(t))},gge=function(e){for(var u=this.cy(),a=this.nodes(),r=aUe(e),t=r.attributes,i=function(T,E){return QP(r.distance,t.length,function(S){return t[S](T)},function(S){return t[S](E)},T,E)},o=[],l=[],s=[],c=[],d=0;d<a.length;d++){var f={value:r.mode==="dendrogram"?a[d]:[a[d]],key:d,index:d};o[d]=f,c[d]=f,l[d]=[],s[d]=0}for(var p=0;p<o.length;p++)for(var h=0;h<=p;h++){var g=void 0;r.mode==="dendrogram"?g=p===h?1/0:i(o[p].value,o[h].value):g=p===h?1/0:i(o[p].value[0],o[h].value[0]),l[p][h]=g,l[h][p]=g,g<l[p][s[p]]&&(s[p]=h)}for(var _=bge(o,c,l,s,r);_;)_=bge(o,c,l,s,r);var m;return r.mode==="dendrogram"?(m=E7(o[0],r.dendrogramDepth,u),r.addDendrogram&&S7(o[0],u)):(m=new Array(o.length),o.forEach(function(w,T){w.key=w.index=null,m[T]=u.collection(w.value)})),m},iUe={hierarchicalClustering:gge,hca:gge},uUe=Ra({distance:"euclidean",preference:"median",damping:.8,maxIterations:1e3,minIterations:100,attributes:[]}),oUe=function(e){var u=e.damping,a=e.preference;.5<=u&&u<1||_n("Damping must range on [0.5, 1).  Got: ".concat(u));var r=["median","mean","min","max"];return r.some(function(t){return t===a})||At(a)||_n("Preference must be one of [".concat(r.map(function(t){return"'".concat(t,"'")}).join(", "),"] or a number.  Got: ").concat(a)),uUe(e)},sUe=function(e,u,a,r){var t=function(o,l){return r[l](o)};return-QP(e,r.length,function(i){return t(u,i)},function(i){return t(a,i)},u,a)},cUe=function(e,u){var a=null;return u==="median"?a=oBe(e):u==="mean"?a=uBe(e):u==="min"?a=aBe(e):u==="max"?a=iBe(e):a=u,a},lUe=function(e,u,a){for(var r=[],t=0;t<e;t++)u[t*e+t]+a[t*e+t]>0&&r.push(t);return r},vge=function(e,u,a){for(var r=[],t=0;t<e;t++){for(var i=-1,o=-1/0,l=0;l<a.length;l++){var s=a[l];u[t*e+s]>o&&(i=s,o=u[t*e+s])}i>0&&r.push(i)}for(var c=0;c<a.length;c++)r[a[c]]=a[c];return r},dUe=function(e,u,a){for(var r=vge(e,u,a),t=0;t<a.length;t++){for(var i=[],o=0;o<r.length;o++)r[o]===a[t]&&i.push(o);for(var l=-1,s=-1/0,c=0;c<i.length;c++){for(var d=0,f=0;f<i.length;f++)d+=u[i[f]*e+i[c]];d>s&&(l=c,s=d)}a[t]=i[l]}return r=vge(e,u,a),r},_ge=function(e){for(var u=this.cy(),a=this.nodes(),r=oUe(e),t={},i=0;i<a.length;i++)t[a[i].id()]=i;var o,l,s,c,d,f;o=a.length,l=o*o,s=new Array(l);for(var p=0;p<l;p++)s[p]=-1/0;for(var h=0;h<o;h++)for(var g=0;g<o;g++)h!==g&&(s[h*o+g]=sUe(r.distance,a[h],a[g],r.attributes));c=cUe(s,r.preference);for(var _=0;_<o;_++)s[_*o+_]=c;d=new Array(l);for(var m=0;m<l;m++)d[m]=0;f=new Array(l);for(var w=0;w<l;w++)f[w]=0;for(var T=new Array(o),E=new Array(o),S=new Array(o),N=0;N<o;N++)T[N]=0,E[N]=0,S[N]=0;for(var j=new Array(o*r.minIterations),q=0;q<j.length;q++)j[q]=0;var O;for(O=0;O<r.maxIterations;O++){for(var I=0;I<o;I++){for(var A=-1/0,P=-1/0,C=-1,B=0,V=0;V<o;V++)T[V]=d[I*o+V],B=f[I*o+V]+s[I*o+V],B>=A?(P=A,A=B,C=V):B>P&&(P=B);for(var U=0;U<o;U++)d[I*o+U]=(1-r.damping)*(s[I*o+U]-A)+r.damping*T[U];d[I*o+C]=(1-r.damping)*(s[I*o+C]-P)+r.damping*T[C]}for(var G=0;G<o;G++){for(var J=0,ne=0;ne<o;ne++)T[ne]=f[ne*o+G],E[ne]=Math.max(0,d[ne*o+G]),J+=E[ne];J-=E[G],E[G]=d[G*o+G],J+=E[G];for(var W=0;W<o;W++)f[W*o+G]=(1-r.damping)*Math.min(0,J-E[W])+r.damping*T[W];f[G*o+G]=(1-r.damping)*(J-E[G])+r.damping*T[G]}for(var ee=0,se=0;se<o;se++){var pe=f[se*o+se]+d[se*o+se]>0?1:0;j[O%r.minIterations*o+se]=pe,ee+=pe}if(ee>0&&(O>=r.minIterations-1||O==r.maxIterations-1)){for(var le=0,Ee=0;Ee<o;Ee++){S[Ee]=0;for(var Ae=0;Ae<r.minIterations;Ae++)S[Ee]+=j[Ae*o+Ee];(S[Ee]===0||S[Ee]===r.minIterations)&&le++}if(le===o)break}}for(var Ne=lUe(o,d,f),Oe=dUe(o,s,Ne),be={},te=0;te<Ne.length;te++)be[Ne[te]]=[];for(var v=0;v<a.length;v++){var F=t[a[v].id()],D=Oe[F];D!=null&&be[D].push(a[v])}for(var L=new Array(Ne.length),H=0;H<Ne.length;H++)L[H]=u.collection(be[Ne[H]]);return L},fUe={affinityPropagation:_ge,ap:_ge},pUe=Ra({root:void 0,directed:!1}),hUe={hierholzer:function(e){if(!Tr(e)){var u=arguments;e={root:u[0],directed:u[1]}}var a=pUe(e),r=a.root,t=a.directed,i=this,o=!1,l,s,c;r&&(c=Ct(r)?this.filter(r)[0].id():r[0].id());var d={},f={};t?i.forEach(function(w){var T=w.id();if(w.isNode()){var E=w.indegree(!0),S=w.outdegree(!0),N=E-S,j=S-E;N==1?l?o=!0:l=T:j==1?s?o=!0:s=T:(j>1||N>1)&&(o=!0),d[T]=[],w.outgoers().forEach(function(q){q.isEdge()&&d[T].push(q.id())})}else f[T]=[void 0,w.target().id()]}):i.forEach(function(w){var T=w.id();if(w.isNode()){var E=w.degree(!0);E%2&&(l?s?o=!0:s=T:l=T),d[T]=[],w.connectedEdges().forEach(function(S){return d[T].push(S.id())})}else f[T]=[w.source().id(),w.target().id()]});var p={found:!1,trail:void 0};if(o)return p;if(s&&l)if(t){if(c&&s!=c)return p;c=s}else{if(c&&s!=c&&l!=c)return p;c||(c=s)}else c||(c=i[0].id());var h=function(T){for(var E=T,S=[T],N,j,q;d[E].length;)N=d[E].shift(),j=f[N][0],q=f[N][1],E!=q?(d[q]=d[q].filter(function(O){return O!=N}),E=q):!t&&E!=j&&(d[j]=d[j].filter(function(O){return O!=N}),E=j),S.unshift(N),S.unshift(E);return S},g=[],_=[];for(_=h(c);_.length!=1;)d[_[0]].length==0?(g.unshift(i.getElementById(_.shift())),g.unshift(i.getElementById(_.shift()))):_=h(_.shift()).concat(_);g.unshift(i.getElementById(_.shift()));for(var m in d)if(d[m].length)return p;return p.found=!0,p.trail=this.spawn(g,!0),p}},qD=function(){var e=this,u={},a=0,r=0,t=[],i=[],o={},l=function(f,p){for(var h=i.length-1,g=[],_=e.spawn();i[h].x!=f||i[h].y!=p;)g.push(i.pop().edge),h--;g.push(i.pop().edge),g.forEach(function(m){var w=m.connectedNodes().intersection(e);_.merge(m),w.forEach(function(T){var E=T.id(),S=T.connectedEdges().intersection(e);_.merge(T),u[E].cutVertex?_.merge(S.filter(function(N){return N.isLoop()})):_.merge(S)})}),t.push(_)},s=function(f,p,h){f===h&&(r+=1),u[p]={id:a,low:a++,cutVertex:!1};var g=e.getElementById(p).connectedEdges().intersection(e);if(g.size()===0)t.push(e.spawn(e.getElementById(p)));else{var _,m,w,T;g.forEach(function(E){_=E.source().id(),m=E.target().id(),w=_===p?m:_,w!==h&&(T=E.id(),o[T]||(o[T]=!0,i.push({x:p,y:w,edge:E})),w in u?u[p].low=Math.min(u[p].low,u[w].id):(s(f,w,p),u[p].low=Math.min(u[p].low,u[w].low),u[p].id<=u[w].low&&(u[p].cutVertex=!0,l(p,w))))})}};e.forEach(function(d){if(d.isNode()){var f=d.id();f in u||(r=0,s(f,f),u[f].cutVertex=r>1)}});var c=Object.keys(u).filter(function(d){return u[d].cutVertex}).map(function(d){return e.getElementById(d)});return{cut:e.spawn(c),components:t}},yUe={hopcroftTarjanBiconnected:qD,htbc:qD,htb:qD,hopcroftTarjanBiconnectedComponents:qD},BD=function(){var e=this,u={},a=0,r=[],t=[],i=e.spawn(e),o=function(s){t.push(s),u[s]={index:a,low:a++,explored:!1};var c=e.getElementById(s).connectedEdges().intersection(e);if(c.forEach(function(g){var _=g.target().id();_!==s&&(_ in u||o(_),u[_].explored||(u[s].low=Math.min(u[s].low,u[_].low)))}),u[s].index===u[s].low){for(var d=e.spawn();;){var f=t.pop();if(d.merge(e.getElementById(f)),u[f].low=u[s].index,u[f].explored=!0,f===s)break}var p=d.edgesWith(d),h=d.merge(p);r.push(h),i=i.difference(h)}};return e.forEach(function(l){if(l.isNode()){var s=l.id();s in u||o(s)}}),{cut:i,components:r}},mUe={tarjanStronglyConnected:BD,tsc:BD,tscc:BD,tarjanStronglyConnectedComponents:BD},cSe={};[T4,Gqe,$qe,Kqe,Wqe,Zqe,rBe,NBe,zg,Gg,w7,VBe,tUe,iUe,fUe,hUe,yUe,mUe].forEach(function(n){Bt(cSe,n)});var lSe=0,dSe=1,fSe=2,po=function(e){if(!(this instanceof po))return new po(e);this.id="Thenable/1.0.7",this.state=lSe,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},typeof e=="function"&&e.call(this,this.fulfill.bind(this),this.reject.bind(this))};po.prototype={fulfill:function(e){return Tge(this,dSe,"fulfillValue",e)},reject:function(e){return Tge(this,fSe,"rejectReason",e)},then:function(e,u){var a=this,r=new po;return a.onFulfilled.push(Sge(e,r,"fulfill")),a.onRejected.push(Sge(u,r,"reject")),pSe(a),r.proxy}};var Tge=function(e,u,a,r){return e.state===lSe&&(e.state=u,e[a]=r,pSe(e)),e},pSe=function(e){e.state===dSe?wge(e,"onFulfilled",e.fulfillValue):e.state===fSe&&wge(e,"onRejected",e.rejectReason)},wge=function(e,u,a){if(e[u].length!==0){var r=e[u];e[u]=[];var t=function(){for(var o=0;o<r.length;o++)r[o](a)};typeof setImmediate=="function"?setImmediate(t):setTimeout(t,0)}},Sge=function(e,u,a){return function(r){if(typeof e!="function")u[a].call(u,r);else{var t;try{t=e(r)}catch(i){u.reject(i);return}hSe(u,t)}}},hSe=function(e,u){if(e===u||e.proxy===u){e.reject(new TypeError("cannot resolve promise with itself"));return}var a;if(ta(u)==="object"&&u!==null||typeof u=="function")try{a=u.then}catch(t){e.reject(t);return}if(typeof a=="function"){var r=!1;try{a.call(u,function(t){r||(r=!0,t===u?e.reject(new TypeError("circular thenable chain")):hSe(e,t))},function(t){r||(r=!0,e.reject(t))})}catch(t){r||e.reject(t)}return}e.fulfill(u)};po.all=function(n){return new po(function(e,u){for(var a=new Array(n.length),r=0,t=function(l,s){a[l]=s,r++,r===n.length&&e(a)},i=0;i<n.length;i++)(function(o){var l=n[o],s=l!=null&&l.then!=null;if(s)l.then(function(d){t(o,d)},function(d){u(d)});else{var c=l;t(o,c)}})(i)})};po.resolve=function(n){return new po(function(e,u){e(n)})};po.reject=function(n){return new po(function(e,u){u(n)})};var I1=typeof Promise<"u"?Promise:po,A7=function(e,u,a){var r=qH(e),t=!r,i=this._private=Bt({duration:1e3},u,a);if(i.target=e,i.style=i.style||i.css,i.started=!1,i.playing=!1,i.hooked=!1,i.applying=!1,i.progress=0,i.completes=[],i.frames=[],i.complete&&On(i.complete)&&i.completes.push(i.complete),t){var o=e.position();i.startPosition=i.startPosition||{x:o.x,y:o.y},i.startStyle=i.startStyle||e.cy().style().getAnimationStartStyle(e,i.style)}if(r){var l=e.pan();i.startPan={x:l.x,y:l.y},i.startZoom=e.zoom()}this.length=1,this[0]=this},db=A7.prototype;Bt(db,{instanceString:function(){return"animation"},hook:function(){var e=this._private;if(!e.hooked){var u,a=e.target._private.animation;e.queue?u=a.queue:u=a.current,u.push(this),Bi(e.target)&&e.target.cy().addToAnimationPool(e.target),e.hooked=!0}return this},play:function(){var e=this._private;return e.progress===1&&(e.progress=0),e.playing=!0,e.started=!1,e.stopped=!1,this.hook(),this},playing:function(){return this._private.playing},apply:function(){var e=this._private;return e.applying=!0,e.started=!1,e.stopped=!1,this.hook(),this},applying:function(){return this._private.applying},pause:function(){var e=this._private;return e.playing=!1,e.started=!1,this},stop:function(){var e=this._private;return e.playing=!1,e.started=!1,e.stopped=!0,this},rewind:function(){return this.progress(0)},fastforward:function(){return this.progress(1)},time:function(e){var u=this._private;return e===void 0?u.progress*u.duration:this.progress(e/u.duration)},progress:function(e){var u=this._private,a=u.playing;return e===void 0?u.progress:(a&&this.pause(),u.progress=e,u.started=!1,a&&this.play(),this)},completed:function(){return this._private.progress===1},reverse:function(){var e=this._private,u=e.playing;u&&this.pause(),e.progress=1-e.progress,e.started=!1;var a=function(s,c){var d=e[s];d!=null&&(e[s]=e[c],e[c]=d)};if(a("zoom","startZoom"),a("pan","startPan"),a("position","startPosition"),e.style)for(var r=0;r<e.style.length;r++){var t=e.style[r],i=t.name,o=e.startStyle[i];e.startStyle[i]=t,e.style[r]=o}return u&&this.play(),this},promise:function(e){var u=this._private,a;switch(e){case"frame":a=u.frames;break;default:case"complete":case"completed":a=u.completes}return new I1(function(r,t){a.push(function(){r()})})}});db.complete=db.completed;db.run=db.play;db.running=db.playing;var bUe={animated:function(){return function(){var u=this,a=u.length!==void 0,r=a?u:[u],t=this._private.cy||this;if(!t.styleEnabled())return!1;var i=r[0];if(i)return i._private.animation.current.length>0}},clearQueue:function(){return function(){var u=this,a=u.length!==void 0,r=a?u:[u],t=this._private.cy||this;if(!t.styleEnabled())return this;for(var i=0;i<r.length;i++){var o=r[i];o._private.animation.queue=[]}return this}},delay:function(){return function(u,a){var r=this._private.cy||this;return r.styleEnabled()?this.animate({delay:u,duration:u,complete:a}):this}},delayAnimation:function(){return function(u,a){var r=this._private.cy||this;return r.styleEnabled()?this.animation({delay:u,duration:u,complete:a}):this}},animation:function(){return function(u,a){var r=this,t=r.length!==void 0,i=t?r:[r],o=this._private.cy||this,l=!t,s=!l;if(!o.styleEnabled())return this;var c=o.style();u=Bt({},u,a);var d=Object.keys(u).length===0;if(d)return new A7(i[0],u);switch(u.duration===void 0&&(u.duration=400),u.duration){case"slow":u.duration=600;break;case"fast":u.duration=200;break}if(s&&(u.style=c.getPropsList(u.style||u.css),u.css=void 0),s&&u.renderedPosition!=null){var f=u.renderedPosition,p=o.pan(),h=o.zoom();u.position=Zwe(f,h,p)}if(l&&u.panBy!=null){var g=u.panBy,_=o.pan();u.pan={x:_.x+g.x,y:_.y+g.y}}var m=u.center||u.centre;if(l&&m!=null){var w=o.getCenterPan(m.eles,u.zoom);w!=null&&(u.pan=w)}if(l&&u.fit!=null){var T=u.fit,E=o.getFitViewport(T.eles||T.boundingBox,T.padding);E!=null&&(u.pan=E.pan,u.zoom=E.zoom)}if(l&&Tr(u.zoom)){var S=o.getZoomedViewport(u.zoom);S!=null?(S.zoomed&&(u.zoom=S.zoom),S.panned&&(u.pan=S.pan)):u.zoom=null}return new A7(i[0],u)}},animate:function(){return function(u,a){var r=this,t=r.length!==void 0,i=t?r:[r],o=this._private.cy||this;if(!o.styleEnabled())return this;a&&(u=Bt({},u,a));for(var l=0;l<i.length;l++){var s=i[l],c=s.animated()&&(u.queue===void 0||u.queue),d=s.animation(u,c?{queue:!0}:void 0);d.play()}return this}},stop:function(){return function(u,a){var r=this,t=r.length!==void 0,i=t?r:[r],o=this._private.cy||this;if(!o.styleEnabled())return this;for(var l=0;l<i.length;l++){for(var s=i[l],c=s._private,d=c.animation.current,f=0;f<d.length;f++){var p=d[f],h=p._private;a&&(h.duration=0)}u&&(c.animation.queue=[]),a||(c.animation.current=[])}return o.notify("draw"),this}}},L9,Ege;function VP(){if(Ege)return L9;Ege=1;var n=Array.isArray;return L9=n,L9}var q9,Age;function gUe(){if(Age)return q9;Age=1;var n=VP(),e=hN(),u=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;function r(t,i){if(n(t))return!1;var o=typeof t;return o=="number"||o=="symbol"||o=="boolean"||t==null||e(t)?!0:a.test(t)||!u.test(t)||i!=null&&t in Object(i)}return q9=r,q9}var B9,Oge;function vUe(){if(Oge)return B9;Oge=1;var n=kwe(),e=pN(),u="[object AsyncFunction]",a="[object Function]",r="[object GeneratorFunction]",t="[object Proxy]";function i(o){if(!e(o))return!1;var l=n(o);return l==a||l==r||l==u||l==t}return B9=i,B9}var U9,xge;function _Ue(){if(xge)return U9;xge=1;var n=qP(),e=n["__core-js_shared__"];return U9=e,U9}var Q9,Rge;function TUe(){if(Rge)return Q9;Rge=1;var n=_Ue(),e=(function(){var a=/[^.]+$/.exec(n&&n.keys&&n.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""})();function u(a){return!!e&&e in a}return Q9=u,Q9}var V9,Nge;function wUe(){if(Nge)return V9;Nge=1;var n=Function.prototype,e=n.toString;function u(a){if(a!=null){try{return e.call(a)}catch{}try{return a+""}catch{}}return""}return V9=u,V9}var H9,Ige;function SUe(){if(Ige)return H9;Ige=1;var n=vUe(),e=TUe(),u=pN(),a=wUe(),r=/[\\^$.*+?()[\]{}|]/g,t=/^\[object .+?Constructor\]$/,i=Function.prototype,o=Object.prototype,l=i.toString,s=o.hasOwnProperty,c=RegExp("^"+l.call(s).replace(r,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function d(f){if(!u(f)||e(f))return!1;var p=n(f)?c:t;return p.test(a(f))}return H9=d,H9}var k9,Dge;function EUe(){if(Dge)return k9;Dge=1;function n(e,u){return e?.[u]}return k9=n,k9}var z9,Fge;function KH(){if(Fge)return z9;Fge=1;var n=SUe(),e=EUe();function u(a,r){var t=e(a,r);return n(t)?t:void 0}return z9=u,z9}var G9,Pge;function HP(){if(Pge)return G9;Pge=1;var n=KH(),e=n(Object,"create");return G9=e,G9}var $9,jge;function AUe(){if(jge)return $9;jge=1;var n=HP();function e(){this.__data__=n?n(null):{},this.size=0}return $9=e,$9}var X9,Mge;function OUe(){if(Mge)return X9;Mge=1;function n(e){var u=this.has(e)&&delete this.__data__[e];return this.size-=u?1:0,u}return X9=n,X9}var K9,Cge;function xUe(){if(Cge)return K9;Cge=1;var n=HP(),e="__lodash_hash_undefined__",u=Object.prototype,a=u.hasOwnProperty;function r(t){var i=this.__data__;if(n){var o=i[t];return o===e?void 0:o}return a.call(i,t)?i[t]:void 0}return K9=r,K9}var J9,Lge;function RUe(){if(Lge)return J9;Lge=1;var n=HP(),e=Object.prototype,u=e.hasOwnProperty;function a(r){var t=this.__data__;return n?t[r]!==void 0:u.call(t,r)}return J9=a,J9}var W9,qge;function NUe(){if(qge)return W9;qge=1;var n=HP(),e="__lodash_hash_undefined__";function u(a,r){var t=this.__data__;return this.size+=this.has(a)?0:1,t[a]=n&&r===void 0?e:r,this}return W9=u,W9}var Y9,Bge;function IUe(){if(Bge)return Y9;Bge=1;var n=AUe(),e=OUe(),u=xUe(),a=RUe(),r=NUe();function t(i){var o=-1,l=i==null?0:i.length;for(this.clear();++o<l;){var s=i[o];this.set(s[0],s[1])}}return t.prototype.clear=n,t.prototype.delete=e,t.prototype.get=u,t.prototype.has=a,t.prototype.set=r,Y9=t,Y9}var Z9,Uge;function DUe(){if(Uge)return Z9;Uge=1;function n(){this.__data__=[],this.size=0}return Z9=n,Z9}var eL,Qge;function ySe(){if(Qge)return eL;Qge=1;function n(e,u){return e===u||e!==e&&u!==u}return eL=n,eL}var tL,Vge;function kP(){if(Vge)return tL;Vge=1;var n=ySe();function e(u,a){for(var r=u.length;r--;)if(n(u[r][0],a))return r;return-1}return tL=e,tL}var rL,Hge;function FUe(){if(Hge)return rL;Hge=1;var n=kP(),e=Array.prototype,u=e.splice;function a(r){var t=this.__data__,i=n(t,r);if(i<0)return!1;var o=t.length-1;return i==o?t.pop():u.call(t,i,1),--this.size,!0}return rL=a,rL}var nL,kge;function PUe(){if(kge)return nL;kge=1;var n=kP();function e(u){var a=this.__data__,r=n(a,u);return r<0?void 0:a[r][1]}return nL=e,nL}var aL,zge;function jUe(){if(zge)return aL;zge=1;var n=kP();function e(u){return n(this.__data__,u)>-1}return aL=e,aL}var iL,Gge;function MUe(){if(Gge)return iL;Gge=1;var n=kP();function e(u,a){var r=this.__data__,t=n(r,u);return t<0?(++this.size,r.push([u,a])):r[t][1]=a,this}return iL=e,iL}var uL,$ge;function CUe(){if($ge)return uL;$ge=1;var n=DUe(),e=FUe(),u=PUe(),a=jUe(),r=MUe();function t(i){var o=-1,l=i==null?0:i.length;for(this.clear();++o<l;){var s=i[o];this.set(s[0],s[1])}}return t.prototype.clear=n,t.prototype.delete=e,t.prototype.get=u,t.prototype.has=a,t.prototype.set=r,uL=t,uL}var oL,Xge;function LUe(){if(Xge)return oL;Xge=1;var n=KH(),e=qP(),u=n(e,"Map");return oL=u,oL}var sL,Kge;function qUe(){if(Kge)return sL;Kge=1;var n=IUe(),e=CUe(),u=LUe();function a(){this.size=0,this.__data__={hash:new n,map:new(u||e),string:new n}}return sL=a,sL}var cL,Jge;function BUe(){if(Jge)return cL;Jge=1;function n(e){var u=typeof e;return u=="string"||u=="number"||u=="symbol"||u=="boolean"?e!=="__proto__":e===null}return cL=n,cL}var lL,Wge;function zP(){if(Wge)return lL;Wge=1;var n=BUe();function e(u,a){var r=u.__data__;return n(a)?r[typeof a=="string"?"string":"hash"]:r.map}return lL=e,lL}var dL,Yge;function UUe(){if(Yge)return dL;Yge=1;var n=zP();function e(u){var a=n(this,u).delete(u);return this.size-=a?1:0,a}return dL=e,dL}var fL,Zge;function QUe(){if(Zge)return fL;Zge=1;var n=zP();function e(u){return n(this,u).get(u)}return fL=e,fL}var pL,e1e;function VUe(){if(e1e)return pL;e1e=1;var n=zP();function e(u){return n(this,u).has(u)}return pL=e,pL}var hL,t1e;function HUe(){if(t1e)return hL;t1e=1;var n=zP();function e(u,a){var r=n(this,u),t=r.size;return r.set(u,a),this.size+=r.size==t?0:1,this}return hL=e,hL}var yL,r1e;function kUe(){if(r1e)return yL;r1e=1;var n=qUe(),e=UUe(),u=QUe(),a=VUe(),r=HUe();function t(i){var o=-1,l=i==null?0:i.length;for(this.clear();++o<l;){var s=i[o];this.set(s[0],s[1])}}return t.prototype.clear=n,t.prototype.delete=e,t.prototype.get=u,t.prototype.has=a,t.prototype.set=r,yL=t,yL}var mL,n1e;function zUe(){if(n1e)return mL;n1e=1;var n=kUe(),e="Expected a function";function u(a,r){if(typeof a!="function"||r!=null&&typeof r!="function")throw new TypeError(e);var t=function(){var i=arguments,o=r?r.apply(this,i):i[0],l=t.cache;if(l.has(o))return l.get(o);var s=a.apply(this,i);return t.cache=l.set(o,s)||l,s};return t.cache=new(u.Cache||n),t}return u.Cache=n,mL=u,mL}var bL,a1e;function GUe(){if(a1e)return bL;a1e=1;var n=zUe(),e=500;function u(a){var r=n(a,function(i){return t.size===e&&t.clear(),i}),t=r.cache;return r}return bL=u,bL}var gL,i1e;function mSe(){if(i1e)return gL;i1e=1;var n=GUe(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,u=/\\(\\)?/g,a=n(function(r){var t=[];return r.charCodeAt(0)===46&&t.push(""),r.replace(e,function(i,o,l,s){t.push(l?s.replace(u,"$1"):o||i)}),t});return gL=a,gL}var vL,u1e;function bSe(){if(u1e)return vL;u1e=1;function n(e,u){for(var a=-1,r=e==null?0:e.length,t=Array(r);++a<r;)t[a]=u(e[a],a,e);return t}return vL=n,vL}var _L,o1e;function $Ue(){if(o1e)return _L;o1e=1;var n=UH(),e=bSe(),u=VP(),a=hN(),r=n?n.prototype:void 0,t=r?r.toString:void 0;function i(o){if(typeof o=="string")return o;if(u(o))return e(o,i)+"";if(a(o))return t?t.call(o):"";var l=o+"";return l=="0"&&1/o==-1/0?"-0":l}return _L=i,_L}var TL,s1e;function gSe(){if(s1e)return TL;s1e=1;var n=$Ue();function e(u){return u==null?"":n(u)}return TL=e,TL}var wL,c1e;function vSe(){if(c1e)return wL;c1e=1;var n=VP(),e=gUe(),u=mSe(),a=gSe();function r(t,i){return n(t)?t:e(t,i)?[t]:u(a(t))}return wL=r,wL}var SL,l1e;function JH(){if(l1e)return SL;l1e=1;var n=hN();function e(u){if(typeof u=="string"||n(u))return u;var a=u+"";return a=="0"&&1/u==-1/0?"-0":a}return SL=e,SL}var EL,d1e;function XUe(){if(d1e)return EL;d1e=1;var n=vSe(),e=JH();function u(a,r){r=n(r,a);for(var t=0,i=r.length;a!=null&&t<i;)a=a[e(r[t++])];return t&&t==i?a:void 0}return EL=u,EL}var AL,f1e;function KUe(){if(f1e)return AL;f1e=1;var n=XUe();function e(u,a,r){var t=u==null?void 0:n(u,a);return t===void 0?r:t}return AL=e,AL}var JUe=KUe(),WUe=fN(JUe),OL,p1e;function YUe(){if(p1e)return OL;p1e=1;var n=KH(),e=(function(){try{var u=n(Object,"defineProperty");return u({},"",{}),u}catch{}})();return OL=e,OL}var xL,h1e;function ZUe(){if(h1e)return xL;h1e=1;var n=YUe();function e(u,a,r){a=="__proto__"&&n?n(u,a,{configurable:!0,enumerable:!0,value:r,writable:!0}):u[a]=r}return xL=e,xL}var RL,y1e;function eQe(){if(y1e)return RL;y1e=1;var n=ZUe(),e=ySe(),u=Object.prototype,a=u.hasOwnProperty;function r(t,i,o){var l=t[i];(!(a.call(t,i)&&e(l,o))||o===void 0&&!(i in t))&&n(t,i,o)}return RL=r,RL}var NL,m1e;function tQe(){if(m1e)return NL;m1e=1;var n=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function u(a,r){var t=typeof a;return r=r??n,!!r&&(t=="number"||t!="symbol"&&e.test(a))&&a>-1&&a%1==0&&a<r}return NL=u,NL}var IL,b1e;function rQe(){if(b1e)return IL;b1e=1;var n=eQe(),e=vSe(),u=tQe(),a=pN(),r=JH();function t(i,o,l,s){if(!a(i))return i;o=e(o,i);for(var c=-1,d=o.length,f=d-1,p=i;p!=null&&++c<d;){var h=r(o[c]),g=l;if(h==="__proto__"||h==="constructor"||h==="prototype")return i;if(c!=f){var _=p[h];g=s?s(_,h,p):void 0,g===void 0&&(g=a(_)?_:u(o[c+1])?[]:{})}n(p,h,g),p=p[h]}return i}return IL=t,IL}var DL,g1e;function nQe(){if(g1e)return DL;g1e=1;var n=rQe();function e(u,a,r){return u==null?u:n(u,a,r)}return DL=e,DL}var aQe=nQe(),iQe=fN(aQe),FL,v1e;function uQe(){if(v1e)return FL;v1e=1;function n(e,u){var a=-1,r=e.length;for(u||(u=Array(r));++a<r;)u[a]=e[a];return u}return FL=n,FL}var PL,_1e;function oQe(){if(_1e)return PL;_1e=1;var n=bSe(),e=uQe(),u=VP(),a=hN(),r=mSe(),t=JH(),i=gSe();function o(l){return u(l)?n(l,t):a(l)?[l]:e(r(i(l)))}return PL=o,PL}var sQe=oQe(),cQe=fN(sQe),lQe={data:function(e){var u={field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,beforeGet:function(r){},beforeSet:function(r,t){},onSet:function(r){},canSet:function(r){return!0}};return e=Bt({},u,e),function(r,t){var i=e,o=this,l=o.length!==void 0,s=l?o:[o],c=l?o[0]:o;if(Ct(r)){var d=r.indexOf(".")!==-1,f=d&&cQe(r);if(i.allowGetting&&t===void 0){var p;return c&&(i.beforeGet(c),f&&c._private[i.field][r]===void 0?p=WUe(c._private[i.field],f):p=c._private[i.field][r]),p}else if(i.allowSetting&&t!==void 0){var h=!i.immutableKeys[r];if(h){var g=jwe({},r,t);i.beforeSet(o,g);for(var _=0,m=s.length;_<m;_++){var w=s[_];i.canSet(w)&&(f&&c._private[i.field][r]===void 0?iQe(w._private[i.field],f,t):w._private[i.field][r]=t)}i.updateStyle&&o.updateStyle(),i.onSet(o),i.settingTriggersEvent&&o[i.triggerFnName](i.settingEvent)}}}else if(i.allowSetting&&Tr(r)){var T=r,E,S,N=Object.keys(T);i.beforeSet(o,T);for(var j=0;j<N.length;j++){E=N[j],S=T[E];var q=!i.immutableKeys[E];if(q)for(var O=0;O<s.length;O++){var I=s[O];i.canSet(I)&&(I._private[i.field][E]=S)}}i.updateStyle&&o.updateStyle(),i.onSet(o),i.settingTriggersEvent&&o[i.triggerFnName](i.settingEvent)}else if(i.allowBinding&&On(r)){var A=r;o.on(i.bindingEvent,A)}else if(i.allowGetting&&r===void 0){var P;return c&&(i.beforeGet(c),P=c._private[i.field]),P}return o}},removeData:function(e){var u={field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}};return e=Bt({},u,e),function(r){var t=e,i=this,o=i.length!==void 0,l=o?i:[i];if(Ct(r)){for(var s=r.split(/\s+/),c=s.length,d=0;d<c;d++){var f=s[d];if(!fl(f)){var p=!t.immutableKeys[f];if(p)for(var h=0,g=l.length;h<g;h++)l[h]._private[t.field][f]=void 0}}t.triggerEvent&&i[t.triggerFnName](t.event)}else if(r===void 0){for(var _=0,m=l.length;_<m;_++)for(var w=l[_]._private[t.field],T=Object.keys(w),E=0;E<T.length;E++){var S=T[E],N=!t.immutableKeys[S];N&&(w[S]=void 0)}t.triggerEvent&&i[t.triggerFnName](t.event)}return i}}},dQe={eventAliasesOn:function(e){var u=e;u.addListener=u.listen=u.bind=u.on,u.unlisten=u.unbind=u.off=u.removeListener,u.trigger=u.emit,u.pon=u.promiseOn=function(a,r){var t=this,i=Array.prototype.slice.call(arguments,0);return new I1(function(o,l){var s=function(p){t.off.apply(t,d),o(p)},c=i.concat([s]),d=c.concat([]);t.on.apply(t,c)})}}},Cr={};[bUe,lQe,dQe].forEach(function(n){Bt(Cr,n)});var fQe={animate:Cr.animate(),animation:Cr.animation(),animated:Cr.animated(),clearQueue:Cr.clearQueue(),delay:Cr.delay(),delayAnimation:Cr.delayAnimation(),stop:Cr.stop()},hF={classes:function(e){var u=this;if(e===void 0){var a=[];return u[0]._private.classes.forEach(function(h){return a.push(h)}),a}else Wr(e)||(e=(e||"").match(/\S+/g)||[]);for(var r=[],t=new N1(e),i=0;i<u.length;i++){for(var o=u[i],l=o._private,s=l.classes,c=!1,d=0;d<e.length;d++){var f=e[d],p=s.has(f);if(!p){c=!0;break}}c||(c=s.size!==e.length),c&&(l.classes=t,r.push(o))}return r.length>0&&this.spawn(r).updateStyle().emit("class"),u},addClass:function(e){return this.toggleClass(e,!0)},hasClass:function(e){var u=this[0];return u!=null&&u._private.classes.has(e)},toggleClass:function(e,u){Wr(e)||(e=e.match(/\S+/g)||[]);for(var a=this,r=u===void 0,t=[],i=0,o=a.length;i<o;i++)for(var l=a[i],s=l._private.classes,c=!1,d=0;d<e.length;d++){var f=e[d],p=s.has(f),h=!1;u||r&&!p?(s.add(f),h=!0):(!u||r&&p)&&(s.delete(f),h=!0),!c&&h&&(t.push(l),c=!0)}return t.length>0&&this.spawn(t).updateStyle().emit("class"),a},removeClass:function(e){return this.toggleClass(e,!1)},flashClass:function(e,u){var a=this;if(u==null)u=250;else if(u===0)return a;return a.addClass(e),setTimeout(function(){a.removeClass(e)},u),a}};hF.className=hF.classNames=hF.classes;var _r={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:`"(?:\\\\"|[^"])*"|'(?:\\\\'|[^'])*'`,number:ea,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$",group:"node|edge|\\*",directedEdge:"\\s+->\\s+",undirectedEdge:"\\s+<->\\s+"};_r.variable="(?:[\\w-.]|(?:\\\\"+_r.metaChar+"))+";_r.className="(?:[\\w-]|(?:\\\\"+_r.metaChar+"))+";_r.value=_r.string+"|"+_r.number;_r.id=_r.variable;(function(){var n,e,u;for(n=_r.comparatorOp.split("|"),u=0;u<n.length;u++)e=n[u],_r.comparatorOp+="|@"+e;for(n=_r.comparatorOp.split("|"),u=0;u<n.length;u++)e=n[u],!(e.indexOf("!")>=0)&&e!=="="&&(_r.comparatorOp+="|\\!"+e)})();var Gr=function(){return{checks:[]}},Rt={GROUP:0,COLLECTION:1,FILTER:2,DATA_COMPARE:3,DATA_EXIST:4,DATA_BOOL:5,META_COMPARE:6,STATE:7,ID:8,CLASS:9,UNDIRECTED_EDGE:10,DIRECTED_EDGE:11,NODE_SOURCE:12,NODE_TARGET:13,NODE_NEIGHBOR:14,CHILD:15,DESCENDANT:16,PARENT:17,ANCESTOR:18,COMPOUND_SPLIT:19,TRUE:20},O7=[{selector:":selected",matches:function(e){return e.selected()}},{selector:":unselected",matches:function(e){return!e.selected()}},{selector:":selectable",matches:function(e){return e.selectable()}},{selector:":unselectable",matches:function(e){return!e.selectable()}},{selector:":locked",matches:function(e){return e.locked()}},{selector:":unlocked",matches:function(e){return!e.locked()}},{selector:":visible",matches:function(e){return e.visible()}},{selector:":hidden",matches:function(e){return!e.visible()}},{selector:":transparent",matches:function(e){return e.transparent()}},{selector:":grabbed",matches:function(e){return e.grabbed()}},{selector:":free",matches:function(e){return!e.grabbed()}},{selector:":removed",matches:function(e){return e.removed()}},{selector:":inside",matches:function(e){return!e.removed()}},{selector:":grabbable",matches:function(e){return e.grabbable()}},{selector:":ungrabbable",matches:function(e){return!e.grabbable()}},{selector:":animated",matches:function(e){return e.animated()}},{selector:":unanimated",matches:function(e){return!e.animated()}},{selector:":parent",matches:function(e){return e.isParent()}},{selector:":childless",matches:function(e){return e.isChildless()}},{selector:":child",matches:function(e){return e.isChild()}},{selector:":orphan",matches:function(e){return e.isOrphan()}},{selector:":nonorphan",matches:function(e){return e.isChild()}},{selector:":compound",matches:function(e){return e.isNode()?e.isParent():e.source().isParent()||e.target().isParent()}},{selector:":loop",matches:function(e){return e.isLoop()}},{selector:":simple",matches:function(e){return e.isSimple()}},{selector:":active",matches:function(e){return e.active()}},{selector:":inactive",matches:function(e){return!e.active()}},{selector:":backgrounding",matches:function(e){return e.backgrounding()}},{selector:":nonbackgrounding",matches:function(e){return!e.backgrounding()}}].sort(function(n,e){return lqe(n.selector,e.selector)}),pQe=(function(){for(var n={},e,u=0;u<O7.length;u++)e=O7[u],n[e.selector]=e.matches;return n})(),hQe=function(e,u){return pQe[e](u)},yQe="("+O7.map(function(n){return n.selector}).join("|")+")",Sg=function(e){return e.replace(new RegExp("\\\\("+_r.metaChar+")","g"),function(u,a){return a})},$c=function(e,u,a){e[e.length-1]=a},x7=[{name:"group",query:!0,regex:"("+_r.group+")",populate:function(e,u,a){var r=zn(a,1),t=r[0];u.checks.push({type:Rt.GROUP,value:t==="*"?t:t+"s"})}},{name:"state",query:!0,regex:yQe,populate:function(e,u,a){var r=zn(a,1),t=r[0];u.checks.push({type:Rt.STATE,value:t})}},{name:"id",query:!0,regex:"\\#("+_r.id+")",populate:function(e,u,a){var r=zn(a,1),t=r[0];u.checks.push({type:Rt.ID,value:Sg(t)})}},{name:"className",query:!0,regex:"\\.("+_r.className+")",populate:function(e,u,a){var r=zn(a,1),t=r[0];u.checks.push({type:Rt.CLASS,value:Sg(t)})}},{name:"dataExists",query:!0,regex:"\\[\\s*("+_r.variable+")\\s*\\]",populate:function(e,u,a){var r=zn(a,1),t=r[0];u.checks.push({type:Rt.DATA_EXIST,field:Sg(t)})}},{name:"dataCompare",query:!0,regex:"\\[\\s*("+_r.variable+")\\s*("+_r.comparatorOp+")\\s*("+_r.value+")\\s*\\]",populate:function(e,u,a){var r=zn(a,3),t=r[0],i=r[1],o=r[2],l=new RegExp("^"+_r.string+"$").exec(o)!=null;l?o=o.substring(1,o.length-1):o=parseFloat(o),u.checks.push({type:Rt.DATA_COMPARE,field:Sg(t),operator:i,value:o})}},{name:"dataBool",query:!0,regex:"\\[\\s*("+_r.boolOp+")\\s*("+_r.variable+")\\s*\\]",populate:function(e,u,a){var r=zn(a,2),t=r[0],i=r[1];u.checks.push({type:Rt.DATA_BOOL,field:Sg(i),operator:t})}},{name:"metaCompare",query:!0,regex:"\\[\\[\\s*("+_r.meta+")\\s*("+_r.comparatorOp+")\\s*("+_r.number+")\\s*\\]\\]",populate:function(e,u,a){var r=zn(a,3),t=r[0],i=r[1],o=r[2];u.checks.push({type:Rt.META_COMPARE,field:Sg(t),operator:i,value:parseFloat(o)})}},{name:"nextQuery",separator:!0,regex:_r.separator,populate:function(e,u){var a=e.currentSubject,r=e.edgeCount,t=e.compoundCount,i=e[e.length-1];a!=null&&(i.subject=a,e.currentSubject=null),i.edgeCount=r,i.compoundCount=t,e.edgeCount=0,e.compoundCount=0;var o=e[e.length++]=Gr();return o}},{name:"directedEdge",separator:!0,regex:_r.directedEdge,populate:function(e,u){if(e.currentSubject==null){var a=Gr(),r=u,t=Gr();return a.checks.push({type:Rt.DIRECTED_EDGE,source:r,target:t}),$c(e,u,a),e.edgeCount++,t}else{var i=Gr(),o=u,l=Gr();return i.checks.push({type:Rt.NODE_SOURCE,source:o,target:l}),$c(e,u,i),e.edgeCount++,l}}},{name:"undirectedEdge",separator:!0,regex:_r.undirectedEdge,populate:function(e,u){if(e.currentSubject==null){var a=Gr(),r=u,t=Gr();return a.checks.push({type:Rt.UNDIRECTED_EDGE,nodes:[r,t]}),$c(e,u,a),e.edgeCount++,t}else{var i=Gr(),o=u,l=Gr();return i.checks.push({type:Rt.NODE_NEIGHBOR,node:o,neighbor:l}),$c(e,u,i),l}}},{name:"child",separator:!0,regex:_r.child,populate:function(e,u){if(e.currentSubject==null){var a=Gr(),r=Gr(),t=e[e.length-1];return a.checks.push({type:Rt.CHILD,parent:t,child:r}),$c(e,u,a),e.compoundCount++,r}else if(e.currentSubject===u){var i=Gr(),o=e[e.length-1],l=Gr(),s=Gr(),c=Gr(),d=Gr();return i.checks.push({type:Rt.COMPOUND_SPLIT,left:o,right:l,subject:s}),s.checks=u.checks,u.checks=[{type:Rt.TRUE}],d.checks.push({type:Rt.TRUE}),l.checks.push({type:Rt.PARENT,parent:d,child:c}),$c(e,o,i),e.currentSubject=s,e.compoundCount++,c}else{var f=Gr(),p=Gr(),h=[{type:Rt.PARENT,parent:f,child:p}];return f.checks=u.checks,u.checks=h,e.compoundCount++,p}}},{name:"descendant",separator:!0,regex:_r.descendant,populate:function(e,u){if(e.currentSubject==null){var a=Gr(),r=Gr(),t=e[e.length-1];return a.checks.push({type:Rt.DESCENDANT,ancestor:t,descendant:r}),$c(e,u,a),e.compoundCount++,r}else if(e.currentSubject===u){var i=Gr(),o=e[e.length-1],l=Gr(),s=Gr(),c=Gr(),d=Gr();return i.checks.push({type:Rt.COMPOUND_SPLIT,left:o,right:l,subject:s}),s.checks=u.checks,u.checks=[{type:Rt.TRUE}],d.checks.push({type:Rt.TRUE}),l.checks.push({type:Rt.ANCESTOR,ancestor:d,descendant:c}),$c(e,o,i),e.currentSubject=s,e.compoundCount++,c}else{var f=Gr(),p=Gr(),h=[{type:Rt.ANCESTOR,ancestor:f,descendant:p}];return f.checks=u.checks,u.checks=h,e.compoundCount++,p}}},{name:"subject",modifier:!0,regex:_r.subject,populate:function(e,u){if(e.currentSubject!=null&&e.currentSubject!==u)return Lr("Redefinition of subject in selector `"+e.toString()+"`"),!1;e.currentSubject=u;var a=e[e.length-1],r=a.checks[0],t=r==null?null:r.type;t===Rt.DIRECTED_EDGE?r.type=Rt.NODE_TARGET:t===Rt.UNDIRECTED_EDGE&&(r.type=Rt.NODE_NEIGHBOR,r.node=r.nodes[1],r.neighbor=r.nodes[0],r.nodes=null)}}];x7.forEach(function(n){return n.regexObj=new RegExp("^"+n.regex)});var mQe=function(e){for(var u,a,r,t=0;t<x7.length;t++){var i=x7[t],o=i.name,l=e.match(i.regexObj);if(l!=null){a=l,u=i,r=o;var s=l[0];e=e.substring(s.length);break}}return{expr:u,match:a,name:r,remaining:e}},bQe=function(e){var u=e.match(/^\s+/);if(u){var a=u[0];e=e.substring(a.length)}return e},gQe=function(e){var u=this,a=u.inputText=e,r=u[0]=Gr();for(u.length=1,a=bQe(a);;){var t=mQe(a);if(t.expr==null)return Lr("The selector `"+e+"`is invalid"),!1;var i=t.match.slice(1),o=t.expr.populate(u,r,i);if(o===!1)return!1;if(o!=null&&(r=o),a=t.remaining,a.match(/^\s*$/))break}var l=u[u.length-1];u.currentSubject!=null&&(l.subject=u.currentSubject),l.edgeCount=u.edgeCount,l.compoundCount=u.compoundCount;for(var s=0;s<u.length;s++){var c=u[s];if(c.compoundCount>0&&c.edgeCount>0)return Lr("The selector `"+e+"` is invalid because it uses both a compound selector and an edge selector"),!1;if(c.edgeCount>1)return Lr("The selector `"+e+"` is invalid because it uses multiple edge selectors"),!1;c.edgeCount===1&&Lr("The selector `"+e+"` is deprecated.  Edge selectors do not take effect on changes to source and target nodes after an edge is added, for performance reasons.  Use a class or data selector on edges instead, updating the class or data of an edge when your app detects a change in source or target nodes.")}return!0},vQe=function(){if(this.toStringCache!=null)return this.toStringCache;for(var e=function(c){return c??""},u=function(c){return Ct(c)?'"'+c+'"':e(c)},a=function(c){return" "+c+" "},r=function(c,d){var f=c.type,p=c.value;switch(f){case Rt.GROUP:{var h=e(p);return h.substring(0,h.length-1)}case Rt.DATA_COMPARE:{var g=c.field,_=c.operator;return"["+g+a(e(_))+u(p)+"]"}case Rt.DATA_BOOL:{var m=c.operator,w=c.field;return"["+e(m)+w+"]"}case Rt.DATA_EXIST:{var T=c.field;return"["+T+"]"}case Rt.META_COMPARE:{var E=c.operator,S=c.field;return"[["+S+a(e(E))+u(p)+"]]"}case Rt.STATE:return p;case Rt.ID:return"#"+p;case Rt.CLASS:return"."+p;case Rt.PARENT:case Rt.CHILD:return t(c.parent,d)+a(">")+t(c.child,d);case Rt.ANCESTOR:case Rt.DESCENDANT:return t(c.ancestor,d)+" "+t(c.descendant,d);case Rt.COMPOUND_SPLIT:{var N=t(c.left,d),j=t(c.subject,d),q=t(c.right,d);return N+(N.length>0?" ":"")+j+q}case Rt.TRUE:return""}},t=function(c,d){return c.checks.reduce(function(f,p,h){return f+(d===c&&h===0?"$":"")+r(p,d)},"")},i="",o=0;o<this.length;o++){var l=this[o];i+=t(l,l.subject),this.length>1&&o<this.length-1&&(i+=", ")}return this.toStringCache=i,i},_Qe={parse:gQe,toString:vQe},_Se=function(e,u,a){var r,t=Ct(e),i=At(e),o=Ct(a),l,s,c=!1,d=!1,f=!1;switch(u.indexOf("!")>=0&&(u=u.replace("!",""),d=!0),u.indexOf("@")>=0&&(u=u.replace("@",""),c=!0),(t||o||c)&&(l=!t&&!i?"":""+e,s=""+a),c&&(e=l=l.toLowerCase(),a=s=s.toLowerCase()),u){case"*=":r=l.indexOf(s)>=0;break;case"$=":r=l.indexOf(s,l.length-s.length)>=0;break;case"^=":r=l.indexOf(s)===0;break;case"=":r=e===a;break;case">":f=!0,r=e>a;break;case">=":f=!0,r=e>=a;break;case"<":f=!0,r=e<a;break;case"<=":f=!0,r=e<=a;break;default:r=!1;break}return d&&(e!=null||!f)&&(r=!r),r},TQe=function(e,u){switch(u){case"?":return!!e;case"!":return!e;case"^":return e===void 0}},wQe=function(e){return e!==void 0},WH=function(e,u){return e.data(u)},SQe=function(e,u){return e[u]()},Fn=[],ln=function(e,u){return e.checks.every(function(a){return Fn[a.type](a,u)})};Fn[Rt.GROUP]=function(n,e){var u=n.value;return u==="*"||u===e.group()};Fn[Rt.STATE]=function(n,e){var u=n.value;return hQe(u,e)};Fn[Rt.ID]=function(n,e){var u=n.value;return e.id()===u};Fn[Rt.CLASS]=function(n,e){var u=n.value;return e.hasClass(u)};Fn[Rt.META_COMPARE]=function(n,e){var u=n.field,a=n.operator,r=n.value;return _Se(SQe(e,u),a,r)};Fn[Rt.DATA_COMPARE]=function(n,e){var u=n.field,a=n.operator,r=n.value;return _Se(WH(e,u),a,r)};Fn[Rt.DATA_BOOL]=function(n,e){var u=n.field,a=n.operator;return TQe(WH(e,u),a)};Fn[Rt.DATA_EXIST]=function(n,e){var u=n.field;return n.operator,wQe(WH(e,u))};Fn[Rt.UNDIRECTED_EDGE]=function(n,e){var u=n.nodes[0],a=n.nodes[1],r=e.source(),t=e.target();return ln(u,r)&&ln(a,t)||ln(a,r)&&ln(u,t)};Fn[Rt.NODE_NEIGHBOR]=function(n,e){return ln(n.node,e)&&e.neighborhood().some(function(u){return u.isNode()&&ln(n.neighbor,u)})};Fn[Rt.DIRECTED_EDGE]=function(n,e){return ln(n.source,e.source())&&ln(n.target,e.target())};Fn[Rt.NODE_SOURCE]=function(n,e){return ln(n.source,e)&&e.outgoers().some(function(u){return u.isNode()&&ln(n.target,u)})};Fn[Rt.NODE_TARGET]=function(n,e){return ln(n.target,e)&&e.incomers().some(function(u){return u.isNode()&&ln(n.source,u)})};Fn[Rt.CHILD]=function(n,e){return ln(n.child,e)&&ln(n.parent,e.parent())};Fn[Rt.PARENT]=function(n,e){return ln(n.parent,e)&&e.children().some(function(u){return ln(n.child,u)})};Fn[Rt.DESCENDANT]=function(n,e){return ln(n.descendant,e)&&e.ancestors().some(function(u){return ln(n.ancestor,u)})};Fn[Rt.ANCESTOR]=function(n,e){return ln(n.ancestor,e)&&e.descendants().some(function(u){return ln(n.descendant,u)})};Fn[Rt.COMPOUND_SPLIT]=function(n,e){return ln(n.subject,e)&&ln(n.left,e)&&ln(n.right,e)};Fn[Rt.TRUE]=function(){return!0};Fn[Rt.COLLECTION]=function(n,e){var u=n.value;return u.has(e)};Fn[Rt.FILTER]=function(n,e){var u=n.value;return u(e)};var EQe=function(e){var u=this;if(u.length===1&&u[0].checks.length===1&&u[0].checks[0].type===Rt.ID)return e.getElementById(u[0].checks[0].value).collection();var a=function(t){for(var i=0;i<u.length;i++){var o=u[i];if(ln(o,t))return!0}return!1};return u.text()==null&&(a=function(){return!0}),e.filter(a)},AQe=function(e){for(var u=this,a=0;a<u.length;a++){var r=u[a];if(ln(r,e))return!0}return!1},OQe={matches:AQe,filter:EQe},yl=function(e){this.inputText=e,this.currentSubject=null,this.compoundCount=0,this.edgeCount=0,this.length=0,e==null||Ct(e)&&e.match(/^\s*$/)||(Bi(e)?this.addQuery({checks:[{type:Rt.COLLECTION,value:e.collection()}]}):On(e)?this.addQuery({checks:[{type:Rt.FILTER,value:e}]}):Ct(e)?this.parse(e)||(this.invalid=!0):_n("A selector must be created from a string; found "))},ml=yl.prototype;[_Qe,OQe].forEach(function(n){return Bt(ml,n)});ml.text=function(){return this.inputText};ml.size=function(){return this.length};ml.eq=function(n){return this[n]};ml.sameText=function(n){return!this.invalid&&!n.invalid&&this.text()===n.text()};ml.addQuery=function(n){this[this.length++]=n};ml.selector=ml.toString;var ol={allAre:function(e){var u=new yl(e);return this.every(function(a){return u.matches(a)})},is:function(e){var u=new yl(e);return this.some(function(a){return u.matches(a)})},some:function(e,u){for(var a=0;a<this.length;a++){var r=u?e.apply(u,[this[a],a,this]):e(this[a],a,this);if(r)return!0}return!1},every:function(e,u){for(var a=0;a<this.length;a++){var r=u?e.apply(u,[this[a],a,this]):e(this[a],a,this);if(!r)return!1}return!0},same:function(e){if(this===e)return!0;e=this.cy().collection(e);var u=this.length,a=e.length;return u!==a?!1:u===1?this[0]===e[0]:this.every(function(r){return e.hasElementWithId(r.id())})},anySame:function(e){return e=this.cy().collection(e),this.some(function(u){return e.hasElementWithId(u.id())})},allAreNeighbors:function(e){e=this.cy().collection(e);var u=this.neighborhood();return e.every(function(a){return u.hasElementWithId(a.id())})},contains:function(e){e=this.cy().collection(e);var u=this;return e.every(function(a){return u.hasElementWithId(a.id())})}};ol.allAreNeighbours=ol.allAreNeighbors;ol.has=ol.contains;ol.equal=ol.equals=ol.same;var Tu=function(e,u){return function(r,t,i,o){var l=r,s=this,c;if(l==null?c="":Bi(l)&&l.length===1&&(c=l.id()),s.length===1&&c){var d=s[0]._private,f=d.traversalCache=d.traversalCache||{},p=f[u]=f[u]||[],h=cb(c),g=p[h];return g||(p[h]=e.call(s,r,t,i,o))}else return e.call(s,r,t,i,o)}},p1={parent:function(e){var u=[];if(this.length===1){var a=this[0]._private.parent;if(a)return a}for(var r=0;r<this.length;r++){var t=this[r],i=t._private.parent;i&&u.push(i)}return this.spawn(u,!0).filter(e)},parents:function(e){for(var u=[],a=this.parent();a.nonempty();){for(var r=0;r<a.length;r++){var t=a[r];u.push(t)}a=a.parent()}return this.spawn(u,!0).filter(e)},commonAncestors:function(e){for(var u,a=0;a<this.length;a++){var r=this[a],t=r.parents();u=u||t,u=u.intersect(t)}return u.filter(e)},orphans:function(e){return this.stdFilter(function(u){return u.isOrphan()}).filter(e)},nonorphans:function(e){return this.stdFilter(function(u){return u.isChild()}).filter(e)},children:Tu(function(n){for(var e=[],u=0;u<this.length;u++)for(var a=this[u],r=a._private.children,t=0;t<r.length;t++)e.push(r[t]);return this.spawn(e,!0).filter(n)},"children"),siblings:function(e){return this.parent().children().not(this).filter(e)},isParent:function(){var e=this[0];if(e)return e.isNode()&&e._private.children.length!==0},isChildless:function(){var e=this[0];if(e)return e.isNode()&&e._private.children.length===0},isChild:function(){var e=this[0];if(e)return e.isNode()&&e._private.parent!=null},isOrphan:function(){var e=this[0];if(e)return e.isNode()&&e._private.parent==null},descendants:function(e){var u=[];function a(r){for(var t=0;t<r.length;t++){var i=r[t];u.push(i),i.children().nonempty()&&a(i.children())}}return a(this.children()),this.spawn(u,!0).filter(e)}};function YH(n,e,u,a){for(var r=[],t=new N1,i=n.cy(),o=i.hasCompoundNodes(),l=0;l<n.length;l++){var s=n[l];u?r.push(s):o&&a(r,t,s)}for(;r.length>0;){var c=r.shift();e(c),t.add(c.id()),o&&a(r,t,c)}return n}function TSe(n,e,u){if(u.isParent())for(var a=u._private.children,r=0;r<a.length;r++){var t=a[r];e.has(t.id())||n.push(t)}}p1.forEachDown=function(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return YH(this,n,e,TSe)};function wSe(n,e,u){if(u.isChild()){var a=u._private.parent;e.has(a.id())||n.push(a)}}p1.forEachUp=function(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return YH(this,n,e,wSe)};function xQe(n,e,u){wSe(n,e,u),TSe(n,e,u)}p1.forEachUpAndDown=function(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return YH(this,n,e,xQe)};p1.ancestors=p1.parents;var E4,SSe;E4=SSe={data:Cr.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:Cr.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:Cr.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:Cr.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:Cr.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:Cr.removeData({field:"rscratch",triggerEvent:!1}),id:function(){var e=this[0];if(e)return e._private.data.id}};E4.attr=E4.data;E4.removeAttr=E4.removeData;var RQe=SSe,GP={};function jL(n){return function(e){var u=this;if(e===void 0&&(e=!0),u.length!==0)if(u.isNode()&&!u.removed()){for(var a=0,r=u[0],t=r._private.edges,i=0;i<t.length;i++){var o=t[i];!e&&o.isLoop()||(a+=n(r,o))}return a}else return}}Bt(GP,{degree:jL(function(n,e){return e.source().same(e.target())?2:1}),indegree:jL(function(n,e){return e.target().same(n)?1:0}),outdegree:jL(function(n,e){return e.source().same(n)?1:0})});function Eg(n,e){return function(u){for(var a,r=this.nodes(),t=0;t<r.length;t++){var i=r[t],o=i[n](u);o!==void 0&&(a===void 0||e(o,a))&&(a=o)}return a}}Bt(GP,{minDegree:Eg("degree",function(n,e){return n<e}),maxDegree:Eg("degree",function(n,e){return n>e}),minIndegree:Eg("indegree",function(n,e){return n<e}),maxIndegree:Eg("indegree",function(n,e){return n>e}),minOutdegree:Eg("outdegree",function(n,e){return n<e}),maxOutdegree:Eg("outdegree",function(n,e){return n>e})});Bt(GP,{totalDegree:function(e){for(var u=0,a=this.nodes(),r=0;r<a.length;r++)u+=a[r].degree(e);return u}});var lo,ESe,ASe=function(e,u,a){for(var r=0;r<e.length;r++){var t=e[r];if(!t.locked()){var i=t._private.position,o={x:u.x!=null?u.x-i.x:0,y:u.y!=null?u.y-i.y:0};t.isParent()&&!(o.x===0&&o.y===0)&&t.children().shift(o,a),t.dirtyBoundingBoxCache()}}},T1e={field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"emitAndNotify",allowGetting:!0,validKeys:["x","y"],beforeGet:function(e){e.updateCompoundBounds()},beforeSet:function(e,u){ASe(e,u,!1)},onSet:function(e){e.dirtyCompoundBoundsCache()},canSet:function(e){return!e.locked()}};lo=ESe={position:Cr.data(T1e),silentPosition:Cr.data(Bt({},T1e,{allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!1,beforeSet:function(e,u){ASe(e,u,!0)},onSet:function(e){e.dirtyCompoundBoundsCache()}})),positions:function(e,u){if(Tr(e))u?this.silentPosition(e):this.position(e);else if(On(e)){var a=e,r=this.cy();r.startBatch();for(var t=0;t<this.length;t++){var i=this[t],o=void 0;(o=a(i,t))&&(u?i.silentPosition(o):i.position(o))}r.endBatch()}return this},silentPositions:function(e){return this.positions(e,!0)},shift:function(e,u,a){var r;if(Tr(e)?(r={x:At(e.x)?e.x:0,y:At(e.y)?e.y:0},a=u):Ct(e)&&At(u)&&(r={x:0,y:0},r[e]=u),r!=null){var t=this.cy();t.startBatch();for(var i=0;i<this.length;i++){var o=this[i];if(!(t.hasCompoundNodes()&&o.isChild()&&o.ancestors().anySame(this))){var l=o.position(),s={x:l.x+r.x,y:l.y+r.y};a?o.silentPosition(s):o.position(s)}}t.endBatch()}return this},silentShift:function(e,u){return Tr(e)?this.shift(e,!0):Ct(e)&&At(u)&&this.shift(e,u,!0),this},renderedPosition:function(e,u){var a=this[0],r=this.cy(),t=r.zoom(),i=r.pan(),o=Tr(e)?e:void 0,l=o!==void 0||u!==void 0&&Ct(e);if(a&&a.isNode())if(l)for(var s=0;s<this.length;s++){var c=this[s];u!==void 0?c.position(e,(u-i[e])/t):o!==void 0&&c.position(Zwe(o,t,i))}else{var d=a.position();return o=UP(d,t,i),e===void 0?o:o[e]}else if(!l)return;return this},relativePosition:function(e,u){var a=this[0],r=this.cy(),t=Tr(e)?e:void 0,i=t!==void 0||u!==void 0&&Ct(e),o=r.hasCompoundNodes();if(a&&a.isNode())if(i)for(var l=0;l<this.length;l++){var s=this[l],c=o?s.parent():null,d=c&&c.length>0,f=d;d&&(c=c[0]);var p=f?c.position():{x:0,y:0};u!==void 0?s.position(e,u+p[e]):t!==void 0&&s.position({x:t.x+p.x,y:t.y+p.y})}else{var h=a.position(),g=o?a.parent():null,_=g&&g.length>0,m=_;_&&(g=g[0]);var w=m?g.position():{x:0,y:0};return t={x:h.x-w.x,y:h.y-w.y},e===void 0?t:t[e]}else if(!i)return;return this}};lo.modelPosition=lo.point=lo.position;lo.modelPositions=lo.points=lo.positions;lo.renderedPoint=lo.renderedPosition;lo.relativePoint=lo.relativePosition;var NQe=ESe,$g,Rl;$g=Rl={};Rl.renderedBoundingBox=function(n){var e=this.boundingBox(n),u=this.cy(),a=u.zoom(),r=u.pan(),t=e.x1*a+r.x,i=e.x2*a+r.x,o=e.y1*a+r.y,l=e.y2*a+r.y;return{x1:t,x2:i,y1:o,y2:l,w:i-t,h:l-o}};Rl.dirtyCompoundBoundsCache=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=this.cy();return!e.styleEnabled()||!e.hasCompoundNodes()?this:(this.forEachUp(function(u){if(u.isParent()){var a=u._private;a.compoundBoundsClean=!1,a.bbCache=null,n||u.emitAndNotify("bounds")}}),this)};Rl.updateCompoundBounds=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=this.cy();if(!e.styleEnabled()||!e.hasCompoundNodes())return this;if(!n&&e.batching())return this;function u(i){if(!i.isParent())return;var o=i._private,l=i.children(),s=i.pstyle("compound-sizing-wrt-labels").value==="include",c={width:{val:i.pstyle("min-width").pfValue,left:i.pstyle("min-width-bias-left"),right:i.pstyle("min-width-bias-right")},height:{val:i.pstyle("min-height").pfValue,top:i.pstyle("min-height-bias-top"),bottom:i.pstyle("min-height-bias-bottom")}},d=l.boundingBox({includeLabels:s,includeOverlays:!1,useCache:!1}),f=o.position;(d.w===0||d.h===0)&&(d={w:i.pstyle("width").pfValue,h:i.pstyle("height").pfValue},d.x1=f.x-d.w/2,d.x2=f.x+d.w/2,d.y1=f.y-d.h/2,d.y2=f.y+d.h/2);function p(O,I,A){var P=0,C=0,B=I+A;return O>0&&B>0&&(P=I/B*O,C=A/B*O),{biasDiff:P,biasComplementDiff:C}}function h(O,I,A,P){if(A.units==="%")switch(P){case"width":return O>0?A.pfValue*O:0;case"height":return I>0?A.pfValue*I:0;case"average":return O>0&&I>0?A.pfValue*(O+I)/2:0;case"min":return O>0&&I>0?O>I?A.pfValue*I:A.pfValue*O:0;case"max":return O>0&&I>0?O>I?A.pfValue*O:A.pfValue*I:0;default:return 0}else return A.units==="px"?A.pfValue:0}var g=c.width.left.value;c.width.left.units==="px"&&c.width.val>0&&(g=g*100/c.width.val);var _=c.width.right.value;c.width.right.units==="px"&&c.width.val>0&&(_=_*100/c.width.val);var m=c.height.top.value;c.height.top.units==="px"&&c.height.val>0&&(m=m*100/c.height.val);var w=c.height.bottom.value;c.height.bottom.units==="px"&&c.height.val>0&&(w=w*100/c.height.val);var T=p(c.width.val-d.w,g,_),E=T.biasDiff,S=T.biasComplementDiff,N=p(c.height.val-d.h,m,w),j=N.biasDiff,q=N.biasComplementDiff;o.autoPadding=h(d.w,d.h,i.pstyle("padding"),i.pstyle("padding-relative-to").value),o.autoWidth=Math.max(d.w,c.width.val),f.x=(-E+d.x1+d.x2+S)/2,o.autoHeight=Math.max(d.h,c.height.val),f.y=(-j+d.y1+d.y2+q)/2}for(var a=0;a<this.length;a++){var r=this[a],t=r._private;(!t.compoundBoundsClean||n)&&(u(r),e.batching()||(t.compoundBoundsClean=!0))}return this};var gu=function(e){return e===1/0||e===-1/0?0:e},so=function(e,u,a,r,t){r-u===0||t-a===0||u==null||a==null||r==null||t==null||(e.x1=u<e.x1?u:e.x1,e.x2=r>e.x2?r:e.x2,e.y1=a<e.y1?a:e.y1,e.y2=t>e.y2?t:e.y2,e.w=e.x2-e.x1,e.h=e.y2-e.y1)},tl=function(e,u){return u==null?e:so(e,u.x1,u.y1,u.x2,u.y2)},N6=function(e,u,a){return pi(e,u,a)},UD=function(e,u,a){if(!u.cy().headless()){var r=u._private,t=r.rstyle,i=t.arrowWidth/2,o=u.pstyle(a+"-arrow-shape").value,l,s;if(o!=="none"){a==="source"?(l=t.srcX,s=t.srcY):a==="target"?(l=t.tgtX,s=t.tgtY):(l=t.midX,s=t.midY);var c=r.arrowBounds=r.arrowBounds||{},d=c[a]=c[a]||{};d.x1=l-i,d.y1=s-i,d.x2=l+i,d.y2=s+i,d.w=d.x2-d.x1,d.h=d.y2-d.y1,fF(d,1),so(e,d.x1,d.y1,d.x2,d.y2)}}},ML=function(e,u,a){if(!u.cy().headless()){var r;a?r=a+"-":r="";var t=u._private,i=t.rstyle,o=u.pstyle(r+"label").strValue;if(o){var l=u.pstyle("text-halign"),s=u.pstyle("text-valign"),c=N6(i,"labelWidth",a),d=N6(i,"labelHeight",a),f=N6(i,"labelX",a),p=N6(i,"labelY",a),h=u.pstyle(r+"text-margin-x").pfValue,g=u.pstyle(r+"text-margin-y").pfValue,_=u.isEdge(),m=u.pstyle(r+"text-rotation"),w=u.pstyle("text-outline-width").pfValue,T=u.pstyle("text-border-width").pfValue,E=T/2,S=u.pstyle("text-background-padding").pfValue,N=2,j=d,q=c,O=q/2,I=j/2,A,P,C,B;if(_)A=f-O,P=f+O,C=p-I,B=p+I;else{switch(l.value){case"left":A=f-q,P=f;break;case"center":A=f-O,P=f+O;break;case"right":A=f,P=f+q;break}switch(s.value){case"top":C=p-j,B=p;break;case"center":C=p-I,B=p+I;break;case"bottom":C=p,B=p+j;break}}var V=h-Math.max(w,E)-S-N,U=h+Math.max(w,E)+S+N,G=g-Math.max(w,E)-S-N,J=g+Math.max(w,E)+S+N;A+=V,P+=U,C+=G,B+=J;var ne=a||"main",W=t.labelBounds,ee=W[ne]=W[ne]||{};ee.x1=A,ee.y1=C,ee.x2=P,ee.y2=B,ee.w=P-A,ee.h=B-C,ee.leftPad=V,ee.rightPad=U,ee.topPad=G,ee.botPad=J;var se=_&&m.strValue==="autorotate",pe=m.pfValue!=null&&m.pfValue!==0;if(se||pe){var le=se?N6(t.rstyle,"labelAngle",a):m.pfValue,Ee=Math.cos(le),Ae=Math.sin(le),Ne=(A+P)/2,Oe=(C+B)/2;if(!_){switch(l.value){case"left":Ne=P;break;case"right":Ne=A;break}switch(s.value){case"top":Oe=B;break;case"bottom":Oe=C;break}}var be=function($,ue){return $=$-Ne,ue=ue-Oe,{x:$*Ee-ue*Ae+Ne,y:$*Ae+ue*Ee+Oe}},te=be(A,C),v=be(A,B),F=be(P,C),D=be(P,B);A=Math.min(te.x,v.x,F.x,D.x),P=Math.max(te.x,v.x,F.x,D.x),C=Math.min(te.y,v.y,F.y,D.y),B=Math.max(te.y,v.y,F.y,D.y)}var L=ne+"Rot",H=W[L]=W[L]||{};H.x1=A,H.y1=C,H.x2=P,H.y2=B,H.w=P-A,H.h=B-C,so(e,A,C,P,B),so(t.labelBounds.all,A,C,P,B)}return e}},w1e=function(e,u){if(!u.cy().headless()){var a=u.pstyle("outline-opacity").value,r=u.pstyle("outline-width").value,t=u.pstyle("outline-offset").value,i=r+t;OSe(e,u,a,i,"outside",i/2)}},OSe=function(e,u,a,r,t,i){if(!(a===0||r<=0||t==="inside")){var o=u.cy(),l=u.pstyle("shape").value,s=o.renderer().nodeShapes[l],c=u.position(),d=c.x,f=c.y,p=u.width(),h=u.height();if(s.hasMiterBounds){t==="center"&&(r/=2);var g=s.miterBounds(d,f,p,h,r);tl(e,g)}else i!=null&&i>0&&pF(e,[i,i,i,i])}},IQe=function(e,u){if(!u.cy().headless()){var a=u.pstyle("border-opacity").value,r=u.pstyle("border-width").pfValue,t=u.pstyle("border-position").value;OSe(e,u,a,r,t)}},DQe=function(e,u){var a=e._private.cy,r=a.styleEnabled(),t=a.headless(),i=ei(),o=e._private,l=e.isNode(),s=e.isEdge(),c,d,f,p,h,g,_=o.rstyle,m=l&&r?e.pstyle("bounds-expansion").pfValue:[0],w=function(Z){return Z.pstyle("display").value!=="none"},T=!r||w(e)&&(!s||w(e.source())&&w(e.target()));if(T){var E=0,S=0;r&&u.includeOverlays&&(E=e.pstyle("overlay-opacity").value,E!==0&&(S=e.pstyle("overlay-padding").value));var N=0,j=0;r&&u.includeUnderlays&&(N=e.pstyle("underlay-opacity").value,N!==0&&(j=e.pstyle("underlay-padding").value));var q=Math.max(S,j),O=0,I=0;if(r&&(O=e.pstyle("width").pfValue,I=O/2),l&&u.includeNodes){var A=e.position();h=A.x,g=A.y;var P=e.outerWidth(),C=P/2,B=e.outerHeight(),V=B/2;c=h-C,d=h+C,f=g-V,p=g+V,so(i,c,f,d,p),r&&w1e(i,e),r&&u.includeOutlines&&!t&&w1e(i,e),r&&IQe(i,e)}else if(s&&u.includeEdges)if(r&&!t){var U=e.pstyle("curve-style").strValue;if(c=Math.min(_.srcX,_.midX,_.tgtX),d=Math.max(_.srcX,_.midX,_.tgtX),f=Math.min(_.srcY,_.midY,_.tgtY),p=Math.max(_.srcY,_.midY,_.tgtY),c-=I,d+=I,f-=I,p+=I,so(i,c,f,d,p),U==="haystack"){var G=_.haystackPts;if(G&&G.length===2){if(c=G[0].x,f=G[0].y,d=G[1].x,p=G[1].y,c>d){var J=c;c=d,d=J}if(f>p){var ne=f;f=p,p=ne}so(i,c-I,f-I,d+I,p+I)}}else if(U==="bezier"||U==="unbundled-bezier"||nl(U,"segments")||nl(U,"taxi")){var W;switch(U){case"bezier":case"unbundled-bezier":W=_.bezierPts;break;case"segments":case"taxi":case"round-segments":case"round-taxi":W=_.linePts;break}if(W!=null)for(var ee=0;ee<W.length;ee++){var se=W[ee];c=se.x-I,d=se.x+I,f=se.y-I,p=se.y+I,so(i,c,f,d,p)}}}else{var pe=e.source(),le=pe.position(),Ee=e.target(),Ae=Ee.position();if(c=le.x,d=Ae.x,f=le.y,p=Ae.y,c>d){var Ne=c;c=d,d=Ne}if(f>p){var Oe=f;f=p,p=Oe}c-=I,d+=I,f-=I,p+=I,so(i,c,f,d,p)}if(r&&u.includeEdges&&s&&(UD(i,e,"mid-source"),UD(i,e,"mid-target"),UD(i,e,"source"),UD(i,e,"target")),r){var be=e.pstyle("ghost").value==="yes";if(be){var te=e.pstyle("ghost-offset-x").pfValue,v=e.pstyle("ghost-offset-y").pfValue;so(i,i.x1+te,i.y1+v,i.x2+te,i.y2+v)}}var F=o.bodyBounds=o.bodyBounds||{};oge(F,i),pF(F,m),fF(F,1),r&&(c=i.x1,d=i.x2,f=i.y1,p=i.y2,so(i,c-q,f-q,d+q,p+q));var D=o.overlayBounds=o.overlayBounds||{};oge(D,i),pF(D,m),fF(D,1);var L=o.labelBounds=o.labelBounds||{};L.all!=null?fBe(L.all):L.all=ei(),r&&u.includeLabels&&(u.includeMainLabels&&ML(i,e,null),s&&(u.includeSourceLabels&&ML(i,e,"source"),u.includeTargetLabels&&ML(i,e,"target")))}return i.x1=gu(i.x1),i.y1=gu(i.y1),i.x2=gu(i.x2),i.y2=gu(i.y2),i.w=gu(i.x2-i.x1),i.h=gu(i.y2-i.y1),i.w>0&&i.h>0&&T&&(pF(i,m),fF(i,1)),i},xSe=function(e){var u=0,a=function(i){return(i?1:0)<<u++},r=0;return r+=a(e.incudeNodes),r+=a(e.includeEdges),r+=a(e.includeLabels),r+=a(e.includeMainLabels),r+=a(e.includeSourceLabels),r+=a(e.includeTargetLabels),r+=a(e.includeOverlays),r+=a(e.includeOutlines),r},RSe=function(e){var u=function(o){return Math.round(o)};if(e.isEdge()){var a=e.source().position(),r=e.target().position();return tge([u(a.x),u(a.y),u(r.x),u(r.y)])}else{var t=e.position();return tge([u(t.x),u(t.y)])}},S1e=function(e,u){var a=e._private,r,t=e.isEdge(),i=u==null?E1e:xSe(u),o=i===E1e;if(a.bbCache==null?(r=DQe(e,A4),a.bbCache=r,a.bbCachePosKey=RSe(e)):r=a.bbCache,!o){var l=e.isNode();r=ei(),(u.includeNodes&&l||u.includeEdges&&!l)&&(u.includeOverlays?tl(r,a.overlayBounds):tl(r,a.bodyBounds)),u.includeLabels&&(u.includeMainLabels&&(!t||u.includeSourceLabels&&u.includeTargetLabels)?tl(r,a.labelBounds.all):(u.includeMainLabels&&tl(r,a.labelBounds.mainRot),u.includeSourceLabels&&tl(r,a.labelBounds.sourceRot),u.includeTargetLabels&&tl(r,a.labelBounds.targetRot))),r.w=r.x2-r.x1,r.h=r.y2-r.y1}return r},A4={includeNodes:!0,includeEdges:!0,includeLabels:!0,includeMainLabels:!0,includeSourceLabels:!0,includeTargetLabels:!0,includeOverlays:!0,includeUnderlays:!0,includeOutlines:!0,useCache:!0},E1e=xSe(A4),A1e=Ra(A4);Rl.boundingBox=function(n){var e,u=n===void 0||n.useCache===void 0||n.useCache===!0,a=d1(function(c){var d=c._private;return d.bbCache==null||d.styleDirty||d.bbCachePosKey!==RSe(c)},function(c){return c.id()});if(u&&this.length===1&&!a(this[0]))n===void 0?n=A4:n=A1e(n),e=S1e(this[0],n);else{e=ei(),n=n||A4;var r=A1e(n),t=this,i=t.cy(),o=i.styleEnabled();this.edges().forEach(a),this.nodes().forEach(a),o&&this.recalculateRenderedStyle(u),this.updateCompoundBounds(!u);for(var l=0;l<t.length;l++){var s=t[l];a(s)&&s.dirtyBoundingBoxCache(),tl(e,S1e(s,r))}}return e.x1=gu(e.x1),e.y1=gu(e.y1),e.x2=gu(e.x2),e.y2=gu(e.y2),e.w=gu(e.x2-e.x1),e.h=gu(e.y2-e.y1),e};Rl.dirtyBoundingBoxCache=function(){for(var n=0;n<this.length;n++){var e=this[n]._private;e.bbCache=null,e.bbCachePosKey=null,e.bodyBounds=null,e.overlayBounds=null,e.labelBounds.all=null,e.labelBounds.source=null,e.labelBounds.target=null,e.labelBounds.main=null,e.labelBounds.sourceRot=null,e.labelBounds.targetRot=null,e.labelBounds.mainRot=null,e.arrowBounds.source=null,e.arrowBounds.target=null,e.arrowBounds["mid-source"]=null,e.arrowBounds["mid-target"]=null}return this.emitAndNotify("bounds"),this};Rl.boundingBoxAt=function(n){var e=this.nodes(),u=this.cy(),a=u.hasCompoundNodes(),r=u.collection();if(a&&(r=e.filter(function(s){return s.isParent()}),e=e.not(r)),Tr(n)){var t=n;n=function(){return t}}var i=function(c,d){return c._private.bbAtOldPos=n(c,d)},o=function(c){return c._private.bbAtOldPos};u.startBatch(),e.forEach(i).silentPositions(n),a&&(r.dirtyCompoundBoundsCache(),r.dirtyBoundingBoxCache(),r.updateCompoundBounds(!0));var l=dBe(this.boundingBox({useCache:!1}));return e.silentPositions(o),a&&(r.dirtyCompoundBoundsCache(),r.dirtyBoundingBoxCache(),r.updateCompoundBounds(!0)),u.endBatch(),l};$g.boundingbox=$g.bb=$g.boundingBox;$g.renderedBoundingbox=$g.renderedBoundingBox;var FQe=Rl,Z6,bN;Z6=bN={};var NSe=function(e){e.uppercaseName=Ube(e.name),e.autoName="auto"+e.uppercaseName,e.labelName="label"+e.uppercaseName,e.outerName="outer"+e.uppercaseName,e.uppercaseOuterName=Ube(e.outerName),Z6[e.name]=function(){var a=this[0],r=a._private,t=r.cy,i=t._private.styleEnabled;if(a)if(i){if(a.isParent())return a.updateCompoundBounds(),r[e.autoName]||0;var o=a.pstyle(e.name);return o.strValue==="label"?(a.recalculateRenderedStyle(),r.rstyle[e.labelName]||0):o.pfValue}else return 1},Z6["outer"+e.uppercaseName]=function(){var a=this[0],r=a._private,t=r.cy,i=t._private.styleEnabled;if(a)if(i){var o=a[e.name](),l=a.pstyle("border-position").value,s;l==="center"?s=a.pstyle("border-width").pfValue:l==="outside"?s=2*a.pstyle("border-width").pfValue:s=0;var c=2*a.padding();return o+s+c}else return 1},Z6["rendered"+e.uppercaseName]=function(){var a=this[0];if(a){var r=a[e.name]();return r*this.cy().zoom()}},Z6["rendered"+e.uppercaseOuterName]=function(){var a=this[0];if(a){var r=a[e.outerName]();return r*this.cy().zoom()}}};NSe({name:"width"});NSe({name:"height"});bN.padding=function(){var n=this[0],e=n._private;return n.isParent()?(n.updateCompoundBounds(),e.autoPadding!==void 0?e.autoPadding:n.pstyle("padding").pfValue):n.pstyle("padding").pfValue};bN.paddedHeight=function(){var n=this[0];return n.height()+2*n.padding()};bN.paddedWidth=function(){var n=this[0];return n.width()+2*n.padding()};var PQe=bN,jQe=function(e,u){if(e.isEdge()&&e.takesUpSpace())return u(e)},MQe=function(e,u){if(e.isEdge()&&e.takesUpSpace()){var a=e.cy();return UP(u(e),a.zoom(),a.pan())}},CQe=function(e,u){if(e.isEdge()&&e.takesUpSpace()){var a=e.cy(),r=a.pan(),t=a.zoom();return u(e).map(function(i){return UP(i,t,r)})}},LQe=function(e){return e.renderer().getControlPoints(e)},qQe=function(e){return e.renderer().getSegmentPoints(e)},BQe=function(e){return e.renderer().getSourceEndpoint(e)},UQe=function(e){return e.renderer().getTargetEndpoint(e)},QQe=function(e){return e.renderer().getEdgeMidpoint(e)},O1e={controlPoints:{get:LQe,mult:!0},segmentPoints:{get:qQe,mult:!0},sourceEndpoint:{get:BQe},targetEndpoint:{get:UQe},midpoint:{get:QQe}},VQe=function(e){return"rendered"+e[0].toUpperCase()+e.substr(1)},HQe=Object.keys(O1e).reduce(function(n,e){var u=O1e[e],a=VQe(e);return n[e]=function(){return jQe(this,u.get)},u.mult?n[a]=function(){return CQe(this,u.get)}:n[a]=function(){return MQe(this,u.get)},n},{}),kQe=Bt({},NQe,FQe,PQe,HQe);var ISe=function(e,u){this.recycle(e,u)};function I6(){return!1}function QD(){return!0}ISe.prototype={instanceString:function(){return"event"},recycle:function(e,u){if(this.isImmediatePropagationStopped=this.isPropagationStopped=this.isDefaultPrevented=I6,e!=null&&e.preventDefault?(this.type=e.type,this.isDefaultPrevented=e.defaultPrevented?QD:I6):e!=null&&e.type?u=e:this.type=e,u!=null&&(this.originalEvent=u.originalEvent,this.type=u.type!=null?u.type:this.type,this.cy=u.cy,this.target=u.target,this.position=u.position,this.renderedPosition=u.renderedPosition,this.namespace=u.namespace,this.layout=u.layout),this.cy!=null&&this.position!=null&&this.renderedPosition==null){var a=this.position,r=this.cy.zoom(),t=this.cy.pan();this.renderedPosition={x:a.x*r+t.x,y:a.y*r+t.y}}this.timeStamp=e&&e.timeStamp||Date.now()},preventDefault:function(){this.isDefaultPrevented=QD;var e=this.originalEvent;e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){this.isPropagationStopped=QD;var e=this.originalEvent;e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=QD,this.stopPropagation()},isDefaultPrevented:I6,isPropagationStopped:I6,isImmediatePropagationStopped:I6};var DSe=/^([^.]+)(\.(?:[^.]+))?$/,zQe=".*",FSe={qualifierCompare:function(e,u){return e===u},eventMatches:function(){return!0},addEventFields:function(){},callbackContext:function(e){return e},beforeEmit:function(){},afterEmit:function(){},bubble:function(){return!1},parent:function(){return null},context:null},x1e=Object.keys(FSe),GQe={};function $P(){for(var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:GQe,e=arguments.length>1?arguments[1]:void 0,u=0;u<x1e.length;u++){var a=x1e[u];this[a]=n[a]||FSe[a]}this.context=e||this.context,this.listeners=[],this.emitting=0}var bl=$P.prototype,PSe=function(e,u,a,r,t,i,o){On(r)&&(t=r,r=null),o&&(i==null?i=o:i=Bt({},i,o));for(var l=Wr(a)?a:a.split(/\s+/),s=0;s<l.length;s++){var c=l[s];if(!fl(c)){var d=c.match(DSe);if(d){var f=d[1],p=d[2]?d[2]:null,h=u(e,c,f,p,r,t,i);if(h===!1)break}}}},R1e=function(e,u){return e.addEventFields(e.context,u),new ISe(u.type,u)},$Qe=function(e,u,a){if(Z7e(a)){u(e,a);return}else if(Tr(a)){u(e,R1e(e,a));return}for(var r=Wr(a)?a:a.split(/\s+/),t=0;t<r.length;t++){var i=r[t];if(!fl(i)){var o=i.match(DSe);if(o){var l=o[1],s=o[2]?o[2]:null,c=R1e(e,{type:l,namespace:s,target:e.context});u(e,c)}}}};bl.on=bl.addListener=function(n,e,u,a,r){return PSe(this,function(t,i,o,l,s,c,d){On(c)&&t.listeners.push({event:i,callback:c,type:o,namespace:l,qualifier:s,conf:d})},n,e,u,a,r),this};bl.one=function(n,e,u,a){return this.on(n,e,u,a,{one:!0})};bl.removeListener=bl.off=function(n,e,u,a){var r=this;this.emitting!==0&&(this.listeners=Mqe(this.listeners));for(var t=this.listeners,i=function(s){var c=t[s];PSe(r,function(d,f,p,h,g,_){if((c.type===p||n==="*")&&(!h&&c.namespace!==".*"||c.namespace===h)&&(!g||d.qualifierCompare(c.qualifier,g))&&(!_||c.callback===_))return t.splice(s,1),!1},n,e,u,a)},o=t.length-1;o>=0;o--)i(o);return this};bl.removeAllListeners=function(){return this.removeListener("*")};bl.emit=bl.trigger=function(n,e,u){var a=this.listeners,r=a.length;return this.emitting++,Wr(e)||(e=[e]),$Qe(this,function(t,i){u!=null&&(a=[{event:i.event,type:i.type,namespace:i.namespace,callback:u}],r=a.length);for(var o=function(){var c=a[l];if(c.type===i.type&&(!c.namespace||c.namespace===i.namespace||c.namespace===zQe)&&t.eventMatches(t.context,c,i)){var d=[i];e!=null&&Lqe(d,e),t.beforeEmit(t.context,c,i),c.conf&&c.conf.one&&(t.listeners=t.listeners.filter(function(h){return h!==c}));var f=t.callbackContext(t.context,c,i),p=c.callback.apply(f,d);t.afterEmit(t.context,c,i),p===!1&&(i.stopPropagation(),i.preventDefault())}},l=0;l<r;l++)o();t.bubble(t.context)&&!i.isPropagationStopped()&&t.parent(t.context).emit(i,e)},n),this.emitting--,this};var XQe={qualifierCompare:function(e,u){return e==null||u==null?e==null&&u==null:e.sameText(u)},eventMatches:function(e,u,a){var r=u.qualifier;return r!=null?e!==a.target&&dN(a.target)&&r.matches(a.target):!0},addEventFields:function(e,u){u.cy=e.cy(),u.target=e},callbackContext:function(e,u,a){return u.qualifier!=null?a.target:e},beforeEmit:function(e,u){u.conf&&u.conf.once&&u.conf.onceCollection.removeListener(u.event,u.qualifier,u.callback)},bubble:function(){return!0},parent:function(e){return e.isChild()?e.parent():e.cy()}},VD=function(e){return Ct(e)?new yl(e):e},jSe={createEmitter:function(){for(var e=0;e<this.length;e++){var u=this[e],a=u._private;a.emitter||(a.emitter=new $P(XQe,u))}return this},emitter:function(){return this._private.emitter},on:function(e,u,a){for(var r=VD(u),t=0;t<this.length;t++){var i=this[t];i.emitter().on(e,r,a)}return this},removeListener:function(e,u,a){for(var r=VD(u),t=0;t<this.length;t++){var i=this[t];i.emitter().removeListener(e,r,a)}return this},removeAllListeners:function(){for(var e=0;e<this.length;e++){var u=this[e];u.emitter().removeAllListeners()}return this},one:function(e,u,a){for(var r=VD(u),t=0;t<this.length;t++){var i=this[t];i.emitter().one(e,r,a)}return this},once:function(e,u,a){for(var r=VD(u),t=0;t<this.length;t++){var i=this[t];i.emitter().on(e,r,a,{once:!0,onceCollection:this})}},emit:function(e,u){for(var a=0;a<this.length;a++){var r=this[a];r.emitter().emit(e,u)}return this},emitAndNotify:function(e,u){if(this.length!==0)return this.cy().notify(e,this),this.emit(e,u),this}};Cr.eventAliasesOn(jSe);var MSe={nodes:function(e){return this.filter(function(u){return u.isNode()}).filter(e)},edges:function(e){return this.filter(function(u){return u.isEdge()}).filter(e)},byGroup:function(){for(var e=this.spawn(),u=this.spawn(),a=0;a<this.length;a++){var r=this[a];r.isNode()?e.push(r):u.push(r)}return{nodes:e,edges:u}},filter:function(e,u){if(e===void 0)return this;if(Ct(e)||Bi(e))return new yl(e).filter(this);if(On(e)){for(var a=this.spawn(),r=this,t=0;t<r.length;t++){var i=r[t],o=u?e.apply(u,[i,t,r]):e(i,t,r);o&&a.push(i)}return a}return this.spawn()},not:function(e){if(e){Ct(e)&&(e=this.filter(e));for(var u=this.spawn(),a=0;a<this.length;a++){var r=this[a],t=e.has(r);t||u.push(r)}return u}else return this},absoluteComplement:function(){var e=this.cy();return e.mutableElements().not(this)},intersect:function(e){if(Ct(e)){var u=e;return this.filter(u)}for(var a=this.spawn(),r=this,t=e,i=this.length<e.length,o=i?r:t,l=i?t:r,s=0;s<o.length;s++){var c=o[s];l.has(c)&&a.push(c)}return a},xor:function(e){var u=this._private.cy;Ct(e)&&(e=u.$(e));var a=this.spawn(),r=this,t=e,i=function(l,s){for(var c=0;c<l.length;c++){var d=l[c],f=d._private.data.id,p=s.hasElementWithId(f);p||a.push(d)}};return i(r,t),i(t,r),a},diff:function(e){var u=this._private.cy;Ct(e)&&(e=u.$(e));var a=this.spawn(),r=this.spawn(),t=this.spawn(),i=this,o=e,l=function(c,d,f){for(var p=0;p<c.length;p++){var h=c[p],g=h._private.data.id,_=d.hasElementWithId(g);_?t.merge(h):f.push(h)}};return l(i,o,a),l(o,i,r),{left:a,right:r,both:t}},add:function(e){var u=this._private.cy;if(!e)return this;if(Ct(e)){var a=e;e=u.mutableElements().filter(a)}for(var r=this.spawnSelf(),t=0;t<e.length;t++){var i=e[t],o=!this.has(i);o&&r.push(i)}return r},merge:function(e){var u=this._private,a=u.cy;if(!e)return this;if(e&&Ct(e)){var r=e;e=a.mutableElements().filter(r)}for(var t=u.map,i=0;i<e.length;i++){var o=e[i],l=o._private.data.id,s=!t.has(l);if(s){var c=this.length++;this[c]=o,t.set(l,{ele:o,index:c})}}return this},unmergeAt:function(e){var u=this[e],a=u.id(),r=this._private,t=r.map;this[e]=void 0,t.delete(a);var i=e===this.length-1;if(this.length>1&&!i){var o=this.length-1,l=this[o],s=l._private.data.id;this[o]=void 0,this[e]=l,t.set(s,{ele:l,index:e})}return this.length--,this},unmergeOne:function(e){e=e[0];var u=this._private,a=e._private.data.id,r=u.map,t=r.get(a);if(!t)return this;var i=t.index;return this.unmergeAt(i),this},unmerge:function(e){var u=this._private.cy;if(!e)return this;if(e&&Ct(e)){var a=e;e=u.mutableElements().filter(a)}for(var r=0;r<e.length;r++)this.unmergeOne(e[r]);return this},unmergeBy:function(e){for(var u=this.length-1;u>=0;u--){var a=this[u];e(a)&&this.unmergeAt(u)}return this},map:function(e,u){for(var a=[],r=this,t=0;t<r.length;t++){var i=r[t],o=u?e.apply(u,[i,t,r]):e(i,t,r);a.push(o)}return a},reduce:function(e,u){for(var a=u,r=this,t=0;t<r.length;t++)a=e(a,r[t],t,r);return a},max:function(e,u){for(var a=-1/0,r,t=this,i=0;i<t.length;i++){var o=t[i],l=u?e.apply(u,[o,i,t]):e(o,i,t);l>a&&(a=l,r=o)}return{value:a,ele:r}},min:function(e,u){for(var a=1/0,r,t=this,i=0;i<t.length;i++){var o=t[i],l=u?e.apply(u,[o,i,t]):e(o,i,t);l<a&&(a=l,r=o)}return{value:a,ele:r}}},Ar=MSe;Ar.u=Ar["|"]=Ar["+"]=Ar.union=Ar.or=Ar.add;Ar["\\"]=Ar["!"]=Ar["-"]=Ar.difference=Ar.relativeComplement=Ar.subtract=Ar.not;Ar.n=Ar["&"]=Ar["."]=Ar.and=Ar.intersection=Ar.intersect;Ar["^"]=Ar["(+)"]=Ar["(-)"]=Ar.symmetricDifference=Ar.symdiff=Ar.xor;Ar.fnFilter=Ar.filterFn=Ar.stdFilter=Ar.filter;Ar.complement=Ar.abscomp=Ar.absoluteComplement;var KQe={isNode:function(){return this.group()==="nodes"},isEdge:function(){return this.group()==="edges"},isLoop:function(){return this.isEdge()&&this.source()[0]===this.target()[0]},isSimple:function(){return this.isEdge()&&this.source()[0]!==this.target()[0]},group:function(){var e=this[0];if(e)return e._private.group}},CSe=function(e,u){var a=e.cy(),r=a.hasCompoundNodes();function t(c){var d=c.pstyle("z-compound-depth");return d.value==="auto"?r?c.zDepth():0:d.value==="bottom"?-1:d.value==="top"?QH:0}var i=t(e)-t(u);if(i!==0)return i;function o(c){var d=c.pstyle("z-index-compare");return d.value==="auto"&&c.isNode()?1:0}var l=o(e)-o(u);if(l!==0)return l;var s=e.pstyle("z-index").value-u.pstyle("z-index").value;return s!==0?s:e.poolIndex()-u.poolIndex()},qF={forEach:function(e,u){if(On(e))for(var a=this.length,r=0;r<a;r++){var t=this[r],i=u?e.apply(u,[t,r,this]):e(t,r,this);if(i===!1)break}return this},toArray:function(){for(var e=[],u=0;u<this.length;u++)e.push(this[u]);return e},slice:function(e,u){var a=[],r=this.length;u==null&&(u=r),e==null&&(e=0),e<0&&(e=r+e),u<0&&(u=r+u);for(var t=e;t>=0&&t<u&&t<r;t++)a.push(this[t]);return this.spawn(a)},size:function(){return this.length},eq:function(e){return this[e]||this.spawn()},first:function(){return this[0]||this.spawn()},last:function(){return this[this.length-1]||this.spawn()},empty:function(){return this.length===0},nonempty:function(){return!this.empty()},sort:function(e){if(!On(e))return this;var u=this.toArray().sort(e);return this.spawn(u)},sortByZIndex:function(){return this.sort(CSe)},zDepth:function(){var e=this[0];if(e){var u=e._private,a=u.group;if(a==="nodes"){var r=u.data.parent?e.parents().size():0;return e.isParent()?r:QH-1}else{var t=u.source,i=u.target,o=t.zDepth(),l=i.zDepth();return Math.max(o,l,0)}}}};qF.each=qF.forEach;var JQe=function(){var e="undefined",u=(typeof Symbol>"u"?"undefined":ta(Symbol))!=e&&ta(Symbol.iterator)!=e;u&&(qF[Symbol.iterator]=function(){var a=this,r={value:void 0,done:!1},t=0,i=this.length;return jwe({next:function(){return t<i?r.value=a[t++]:(r.value=void 0,r.done=!0),r}},Symbol.iterator,function(){return this})})};JQe();var WQe=Ra({nodeDimensionsIncludeLabels:!1}),yF={layoutDimensions:function(e){e=WQe(e);var u;if(!this.takesUpSpace())u={w:0,h:0};else if(e.nodeDimensionsIncludeLabels){var a=this.boundingBox();u={w:a.w,h:a.h}}else u={w:this.outerWidth(),h:this.outerHeight()};return(u.w===0||u.h===0)&&(u.w=u.h=1),u},layoutPositions:function(e,u,a){var r=this.nodes().filter(function(S){return!S.isParent()}),t=this.cy(),i=u.eles,o=function(N){return N.id()},l=d1(a,o);e.emit({type:"layoutstart",layout:e}),e.animations=[];var s=function(N,j,q){var O={x:j.x1+j.w/2,y:j.y1+j.h/2},I={x:(q.x-O.x)*N,y:(q.y-O.y)*N};return{x:O.x+I.x,y:O.y+I.y}},c=u.spacingFactor&&u.spacingFactor!==1,d=function(){if(!c)return null;for(var N=ei(),j=0;j<r.length;j++){var q=r[j],O=l(q,j);eSe(N,O.x,O.y)}return N},f=d(),p=d1(function(S,N){var j=l(S,N);if(c){var q=Math.abs(u.spacingFactor);j=s(q,f,j)}return u.transform!=null&&(j=u.transform(S,j)),j},o);if(u.animate){for(var h=0;h<r.length;h++){var g=r[h],_=p(g,h),m=u.animateFilter==null||u.animateFilter(g,h);if(m){var w=g.animation({position:_,duration:u.animationDuration,easing:u.animationEasing});e.animations.push(w)}else g.position(_)}if(u.fit){var T=t.animation({fit:{boundingBox:i.boundingBoxAt(p),padding:u.padding},duration:u.animationDuration,easing:u.animationEasing});e.animations.push(T)}else if(u.zoom!==void 0&&u.pan!==void 0){var E=t.animation({zoom:u.zoom,pan:u.pan,duration:u.animationDuration,easing:u.animationEasing});e.animations.push(E)}e.animations.forEach(function(S){return S.play()}),e.one("layoutready",u.ready),e.emit({type:"layoutready",layout:e}),I1.all(e.animations.map(function(S){return S.promise()})).then(function(){e.one("layoutstop",u.stop),e.emit({type:"layoutstop",layout:e})})}else r.positions(p),u.fit&&t.fit(u.eles,u.padding),u.zoom!=null&&t.zoom(u.zoom),u.pan&&t.pan(u.pan),e.one("layoutready",u.ready),e.emit({type:"layoutready",layout:e}),e.one("layoutstop",u.stop),e.emit({type:"layoutstop",layout:e});return this},layout:function(e){var u=this.cy();return u.makeLayout(Bt({},e,{eles:this}))}};yF.createLayout=yF.makeLayout=yF.layout;function LSe(n,e,u){var a=u._private,r=a.styleCache=a.styleCache||[],t;return(t=r[n])!=null||(t=r[n]=e(u)),t}function XP(n,e){return n=cb(n),function(a){return LSe(n,e,a)}}function KP(n,e){n=cb(n);var u=function(r){return e.call(r)};return function(){var r=this[0];if(r)return LSe(n,u,r)}}var Aa={recalculateRenderedStyle:function(e){var u=this.cy(),a=u.renderer(),r=u.styleEnabled();return a&&r&&a.recalculateRenderedStyle(this,e),this},dirtyStyleCache:function(){var e=this.cy(),u=function(t){return t._private.styleCache=null};if(e.hasCompoundNodes()){var a;a=this.spawnSelf().merge(this.descendants()).merge(this.parents()),a.merge(a.connectedEdges()),a.forEach(u)}else this.forEach(function(r){u(r),r.connectedEdges().forEach(u)});return this},updateStyle:function(e){var u=this._private.cy;if(!u.styleEnabled())return this;if(u.batching()){var a=u._private.batchStyleEles;return a.merge(this),this}var r=u.hasCompoundNodes(),t=this;e=!!(e||e===void 0),r&&(t=this.spawnSelf().merge(this.descendants()).merge(this.parents()));var i=t;return e?i.emitAndNotify("style"):i.emit("style"),t.forEach(function(o){return o._private.styleDirty=!0}),this},cleanStyle:function(){var e=this.cy();if(e.styleEnabled())for(var u=0;u<this.length;u++){var a=this[u];a._private.styleDirty&&(a._private.styleDirty=!1,e.style().apply(a))}},parsedStyle:function(e){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,a=this[0],r=a.cy();if(r.styleEnabled()&&a){a._private.styleDirty&&(a._private.styleDirty=!1,r.style().apply(a));var t=a._private.style[e];return t??(u?r.style().getDefaultProperty(e):null)}},numericStyle:function(e){var u=this[0];if(u.cy().styleEnabled()&&u){var a=u.pstyle(e);return a.pfValue!==void 0?a.pfValue:a.value}},numericStyleUnits:function(e){var u=this[0];if(u.cy().styleEnabled()&&u)return u.pstyle(e).units},renderedStyle:function(e){var u=this.cy();if(!u.styleEnabled())return this;var a=this[0];if(a)return u.style().getRenderedStyle(a,e)},style:function(e,u){var a=this.cy();if(!a.styleEnabled())return this;var r=!1,t=a.style();if(Tr(e)){var i=e;t.applyBypass(this,i,r),this.emitAndNotify("style")}else if(Ct(e))if(u===void 0){var o=this[0];return o?t.getStylePropertyValue(o,e):void 0}else t.applyBypass(this,e,u,r),this.emitAndNotify("style");else if(e===void 0){var l=this[0];return l?t.getRawStyle(l):void 0}return this},removeStyle:function(e){var u=this.cy();if(!u.styleEnabled())return this;var a=!1,r=u.style(),t=this;if(e===void 0)for(var i=0;i<t.length;i++){var o=t[i];r.removeAllBypasses(o,a)}else{e=e.split(/\s+/);for(var l=0;l<t.length;l++){var s=t[l];r.removeBypasses(s,e,a)}}return this.emitAndNotify("style"),this},show:function(){return this.css("display","element"),this},hide:function(){return this.css("display","none"),this},effectiveOpacity:function(){var e=this.cy();if(!e.styleEnabled())return 1;var u=e.hasCompoundNodes(),a=this[0];if(a){var r=a._private,t=a.pstyle("opacity").value;if(!u)return t;var i=r.data.parent?a.parents():null;if(i)for(var o=0;o<i.length;o++){var l=i[o],s=l.pstyle("opacity").value;t=s*t}return t}},transparent:function(){var e=this.cy();if(!e.styleEnabled())return!1;var u=this[0],a=u.cy().hasCompoundNodes();if(u)return a?u.effectiveOpacity()===0:u.pstyle("opacity").value===0},backgrounding:function(){var e=this.cy();if(!e.styleEnabled())return!1;var u=this[0];return!!u._private.backgrounding}};function CL(n,e){var u=n._private,a=u.data.parent?n.parents():null;if(a)for(var r=0;r<a.length;r++){var t=a[r];if(!e(t))return!1}return!0}function ZH(n){var e=n.ok,u=n.edgeOkViaNode||n.ok,a=n.parentOk||n.ok;return function(){var r=this.cy();if(!r.styleEnabled())return!0;var t=this[0],i=r.hasCompoundNodes();if(t){var o=t._private;if(!e(t))return!1;if(t.isNode())return!i||CL(t,a);var l=o.source,s=o.target;return u(l)&&(!i||CL(l,u))&&(l===s||u(s)&&(!i||CL(s,u)))}}}var D1=XP("eleTakesUpSpace",function(n){return n.pstyle("display").value==="element"&&n.width()!==0&&(n.isNode()?n.height()!==0:!0)});Aa.takesUpSpace=KP("takesUpSpace",ZH({ok:D1}));var YQe=XP("eleInteractive",function(n){return n.pstyle("events").value==="yes"&&n.pstyle("visibility").value==="visible"&&D1(n)}),ZQe=XP("parentInteractive",function(n){return n.pstyle("visibility").value==="visible"&&D1(n)});Aa.interactive=KP("interactive",ZH({ok:YQe,parentOk:ZQe,edgeOkViaNode:D1}));Aa.noninteractive=function(){var n=this[0];if(n)return!n.interactive()};var eVe=XP("eleVisible",function(n){return n.pstyle("visibility").value==="visible"&&n.pstyle("opacity").pfValue!==0&&D1(n)}),tVe=D1;Aa.visible=KP("visible",ZH({ok:eVe,edgeOkViaNode:tVe}));Aa.hidden=function(){var n=this[0];if(n)return!n.visible()};Aa.isBundledBezier=KP("isBundledBezier",function(){return this.cy().styleEnabled()?!this.removed()&&this.pstyle("curve-style").value==="bezier"&&this.takesUpSpace():!1});Aa.bypass=Aa.css=Aa.style;Aa.renderedCss=Aa.renderedStyle;Aa.removeBypass=Aa.removeCss=Aa.removeStyle;Aa.pstyle=Aa.parsedStyle;var sl={};function N1e(n){return function(){var e=arguments,u=[];if(e.length===2){var a=e[0],r=e[1];this.on(n.event,a,r)}else if(e.length===1&&On(e[0])){var t=e[0];this.on(n.event,t)}else if(e.length===0||e.length===1&&Wr(e[0])){for(var i=e.length===1?e[0]:null,o=0;o<this.length;o++){var l=this[o],s=!n.ableField||l._private[n.ableField],c=l._private[n.field]!=n.value;if(n.overrideAble){var d=n.overrideAble(l);if(d!==void 0&&(s=d,!d))return this}s&&(l._private[n.field]=n.value,c&&u.push(l))}var f=this.spawn(u);f.updateStyle(),f.emit(n.event),i&&f.emit(i)}return this}}function F1(n){sl[n.field]=function(){var e=this[0];if(e){if(n.overrideField){var u=n.overrideField(e);if(u!==void 0)return u}return e._private[n.field]}},sl[n.on]=N1e({event:n.on,field:n.field,ableField:n.ableField,overrideAble:n.overrideAble,value:!0}),sl[n.off]=N1e({event:n.off,field:n.field,ableField:n.ableField,overrideAble:n.overrideAble,value:!1})}F1({field:"locked",overrideField:function(e){return e.cy().autolock()?!0:void 0},on:"lock",off:"unlock"});F1({field:"grabbable",overrideField:function(e){return e.cy().autoungrabify()||e.pannable()?!1:void 0},on:"grabify",off:"ungrabify"});F1({field:"selected",ableField:"selectable",overrideAble:function(e){return e.cy().autounselectify()?!1:void 0},on:"select",off:"unselect"});F1({field:"selectable",overrideField:function(e){return e.cy().autounselectify()?!1:void 0},on:"selectify",off:"unselectify"});sl.deselect=sl.unselect;sl.grabbed=function(){var n=this[0];if(n)return n._private.grabbed};F1({field:"active",on:"activate",off:"unactivate"});F1({field:"pannable",on:"panify",off:"unpanify"});sl.inactive=function(){var n=this[0];if(n)return!n._private.active};var qa={},I1e=function(e){return function(a){for(var r=this,t=[],i=0;i<r.length;i++){var o=r[i];if(o.isNode()){for(var l=!1,s=o.connectedEdges(),c=0;c<s.length;c++){var d=s[c],f=d.source(),p=d.target();if(e.noIncomingEdges&&p===o&&f!==o||e.noOutgoingEdges&&f===o&&p!==o){l=!0;break}}l||t.push(o)}}return this.spawn(t,!0).filter(a)}},D1e=function(e){return function(u){for(var a=this,r=[],t=0;t<a.length;t++){var i=a[t];if(i.isNode())for(var o=i.connectedEdges(),l=0;l<o.length;l++){var s=o[l],c=s.source(),d=s.target();e.outgoing&&c===i?(r.push(s),r.push(d)):e.incoming&&d===i&&(r.push(s),r.push(c))}}return this.spawn(r,!0).filter(u)}},F1e=function(e){return function(u){for(var a=this,r=[],t={};;){var i=e.outgoing?a.outgoers():a.incomers();if(i.length===0)break;for(var o=!1,l=0;l<i.length;l++){var s=i[l],c=s.id();t[c]||(t[c]=!0,r.push(s),o=!0)}if(!o)break;a=i}return this.spawn(r,!0).filter(u)}};qa.clearTraversalCache=function(){for(var n=0;n<this.length;n++)this[n]._private.traversalCache=null};Bt(qa,{roots:I1e({noIncomingEdges:!0}),leaves:I1e({noOutgoingEdges:!0}),outgoers:Tu(D1e({outgoing:!0}),"outgoers"),successors:F1e({outgoing:!0}),incomers:Tu(D1e({incoming:!0}),"incomers"),predecessors:F1e({})});Bt(qa,{neighborhood:Tu(function(n){for(var e=[],u=this.nodes(),a=0;a<u.length;a++)for(var r=u[a],t=r.connectedEdges(),i=0;i<t.length;i++){var o=t[i],l=o.source(),s=o.target(),c=r===l?s:l;c.length>0&&e.push(c[0]),e.push(o[0])}return this.spawn(e,!0).filter(n)},"neighborhood"),closedNeighborhood:function(e){return this.neighborhood().add(this).filter(e)},openNeighborhood:function(e){return this.neighborhood(e)}});qa.neighbourhood=qa.neighborhood;qa.closedNeighbourhood=qa.closedNeighborhood;qa.openNeighbourhood=qa.openNeighborhood;Bt(qa,{source:Tu(function(e){var u=this[0],a;return u&&(a=u._private.source||u.cy().collection()),a&&e?a.filter(e):a},"source"),target:Tu(function(e){var u=this[0],a;return u&&(a=u._private.target||u.cy().collection()),a&&e?a.filter(e):a},"target"),sources:P1e({attr:"source"}),targets:P1e({attr:"target"})});function P1e(n){return function(u){for(var a=[],r=0;r<this.length;r++){var t=this[r],i=t._private[n.attr];i&&a.push(i)}return this.spawn(a,!0).filter(u)}}Bt(qa,{edgesWith:Tu(j1e(),"edgesWith"),edgesTo:Tu(j1e({thisIsSrc:!0}),"edgesTo")});function j1e(n){return function(u){var a=[],r=this._private.cy,t=n||{};Ct(u)&&(u=r.$(u));for(var i=0;i<u.length;i++)for(var o=u[i]._private.edges,l=0;l<o.length;l++){var s=o[l],c=s._private.data,d=this.hasElementWithId(c.source)&&u.hasElementWithId(c.target),f=u.hasElementWithId(c.source)&&this.hasElementWithId(c.target),p=d||f;p&&((t.thisIsSrc||t.thisIsTgt)&&(t.thisIsSrc&&!d||t.thisIsTgt&&!f)||a.push(s))}return this.spawn(a,!0)}}Bt(qa,{connectedEdges:Tu(function(n){for(var e=[],u=this,a=0;a<u.length;a++){var r=u[a];if(r.isNode())for(var t=r._private.edges,i=0;i<t.length;i++){var o=t[i];e.push(o)}}return this.spawn(e,!0).filter(n)},"connectedEdges"),connectedNodes:Tu(function(n){for(var e=[],u=this,a=0;a<u.length;a++){var r=u[a];r.isEdge()&&(e.push(r.source()[0]),e.push(r.target()[0]))}return this.spawn(e,!0).filter(n)},"connectedNodes"),parallelEdges:Tu(M1e(),"parallelEdges"),codirectedEdges:Tu(M1e({codirected:!0}),"codirectedEdges")});function M1e(n){var e={codirected:!1};return n=Bt({},e,n),function(a){for(var r=[],t=this.edges(),i=n,o=0;o<t.length;o++)for(var l=t[o],s=l._private,c=s.source,d=c._private.data.id,f=s.data.target,p=c._private.edges,h=0;h<p.length;h++){var g=p[h],_=g._private.data,m=_.target,w=_.source,T=m===f&&w===d,E=d===m&&f===w;(i.codirected&&T||!i.codirected&&(T||E))&&r.push(g)}return this.spawn(r,!0).filter(a)}}Bt(qa,{components:function(e){var u=this,a=u.cy(),r=a.collection(),t=e==null?u.nodes():e.nodes(),i=[];e!=null&&t.empty()&&(t=e.sources());var o=function(c,d){r.merge(c),t.unmerge(c),d.merge(c)};if(t.empty())return u.spawn();var l=function(){var c=a.collection();i.push(c);var d=t[0];o(d,c),u.bfs({directed:!1,roots:d,visit:function(p){return o(p,c)}}),c.forEach(function(f){f.connectedEdges().forEach(function(p){u.has(p)&&c.has(p.source())&&c.has(p.target())&&c.merge(p)})})};do l();while(t.length>0);return i},component:function(){var e=this[0];return e.cy().mutableElements().components(e)[0]}});qa.componentsOf=qa.components;var Oa=function(e,u){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(e===void 0){_n("A collection must have a reference to the core");return}var t=new Xs,i=!1;if(!u)u=[];else if(u.length>0&&Tr(u[0])&&!dN(u[0])){i=!0;for(var o=[],l=new N1,s=0,c=u.length;s<c;s++){var d=u[s];d.data==null&&(d.data={});var f=d.data;if(f.id==null)f.id=Wwe();else if(e.hasElementWithId(f.id)||l.has(f.id))continue;var p=new BP(e,d,!1);o.push(p),l.add(f.id)}u=o}this.length=0;for(var h=0,g=u.length;h<g;h++){var _=u[h][0];if(_!=null){var m=_._private.data.id;(!a||!t.has(m))&&(a&&t.set(m,{index:this.length,ele:_}),this[this.length]=_,this.length++)}}this._private={eles:this,cy:e,get map(){return this.lazyMap==null&&this.rebuildMap(),this.lazyMap},set map(w){this.lazyMap=w},rebuildMap:function(){for(var T=this.lazyMap=new Xs,E=this.eles,S=0;S<E.length;S++){var N=E[S];T.set(N.id(),{index:S,ele:N})}}},a&&(this._private.map=t),i&&!r&&this.restore()},rn=BP.prototype=Oa.prototype=Object.create(Array.prototype);rn.instanceString=function(){return"collection"};rn.spawn=function(n,e){return new Oa(this.cy(),n,e)};rn.spawnSelf=function(){return this.spawn(this)};rn.cy=function(){return this._private.cy};rn.renderer=function(){return this._private.cy.renderer()};rn.element=function(){return this[0]};rn.collection=function(){return Lwe(this)?this:new Oa(this._private.cy,[this])};rn.unique=function(){return new Oa(this._private.cy,this,!0)};rn.hasElementWithId=function(n){return n=""+n,this._private.map.has(n)};rn.getElementById=function(n){n=""+n;var e=this._private.cy,u=this._private.map.get(n);return u?u.ele:new Oa(e)};rn.$id=rn.getElementById;rn.poolIndex=function(){var n=this._private.cy,e=n._private.elements,u=this[0]._private.data.id;return e._private.map.get(u).index};rn.indexOf=function(n){var e=n[0]._private.data.id;return this._private.map.get(e).index};rn.indexOfId=function(n){return n=""+n,this._private.map.get(n).index};rn.json=function(n){var e=this.element(),u=this.cy();if(e==null&&n)return this;if(e!=null){var a=e._private;if(Tr(n)){if(u.startBatch(),n.data){e.data(n.data);var r=a.data;if(e.isEdge()){var t=!1,i={},o=n.data.source,l=n.data.target;o!=null&&o!=r.source&&(i.source=""+o,t=!0),l!=null&&l!=r.target&&(i.target=""+l,t=!0),t&&(e=e.move(i))}else{var s="parent"in n.data,c=n.data.parent;s&&(c!=null||r.parent!=null)&&c!=r.parent&&(c===void 0&&(c=null),c!=null&&(c=""+c),e=e.move({parent:c}))}}n.position&&e.position(n.position);var d=function(g,_,m){var w=n[g];w!=null&&w!==a[g]&&(w?e[_]():e[m]())};return d("removed","remove","restore"),d("selected","select","unselect"),d("selectable","selectify","unselectify"),d("locked","lock","unlock"),d("grabbable","grabify","ungrabify"),d("pannable","panify","unpanify"),n.classes!=null&&e.classes(n.classes),u.endBatch(),this}else if(n===void 0){var f={data:Uo(a.data),position:Uo(a.position),group:a.group,removed:a.removed,selected:a.selected,selectable:a.selectable,locked:a.locked,grabbable:a.grabbable,pannable:a.pannable,classes:null};f.classes="";var p=0;return a.classes.forEach(function(h){return f.classes+=p++===0?h:" "+h}),f}}};rn.jsons=function(){for(var n=[],e=0;e<this.length;e++){var u=this[e],a=u.json();n.push(a)}return n};rn.clone=function(){for(var n=this.cy(),e=[],u=0;u<this.length;u++){var a=this[u],r=a.json(),t=new BP(n,r,!1);e.push(t)}return new Oa(n,e)};rn.copy=rn.clone;rn.restore=function(){for(var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,u=this,a=u.cy(),r=a._private,t=[],i=[],o,l=0,s=u.length;l<s;l++){var c=u[l];e&&!c.removed()||(c.isNode()?t.push(c):i.push(c))}o=t.concat(i);var d,f=function(){o.splice(d,1),d--};for(d=0;d<o.length;d++){var p=o[d],h=p._private,g=h.data;if(p.clearTraversalCache(),!(!e&&!h.removed)){if(g.id===void 0)g.id=Wwe();else if(At(g.id))g.id=""+g.id;else if(fl(g.id)||!Ct(g.id)){_n("Can not create element with invalid string ID `"+g.id+"`"),f();continue}else if(a.hasElementWithId(g.id)){_n("Can not create second element with ID `"+g.id+"`"),f();continue}}var _=g.id;if(p.isNode()){var m=h.position;m.x==null&&(m.x=0),m.y==null&&(m.y=0)}if(p.isEdge()){for(var w=p,T=["source","target"],E=T.length,S=!1,N=0;N<E;N++){var j=T[N],q=g[j];At(q)&&(q=g[j]=""+g[j]),q==null||q===""?(_n("Can not create edge `"+_+"` with unspecified "+j),S=!0):a.hasElementWithId(q)||(_n("Can not create edge `"+_+"` with nonexistant "+j+" `"+q+"`"),S=!0)}if(S){f();continue}var O=a.getElementById(g.source),I=a.getElementById(g.target);O.same(I)?O._private.edges.push(w):(O._private.edges.push(w),I._private.edges.push(w)),w._private.source=O,w._private.target=I}h.map=new Xs,h.map.set(_,{ele:p,index:0}),h.removed=!1,e&&a.addToPool(p)}for(var A=0;A<t.length;A++){var P=t[A],C=P._private.data;At(C.parent)&&(C.parent=""+C.parent);var B=C.parent,V=B!=null;if(V||P._private.parent){var U=P._private.parent?a.collection().merge(P._private.parent):a.getElementById(B);if(U.empty())C.parent=void 0;else if(U[0].removed())Lr("Node added with missing parent, reference to parent removed"),C.parent=void 0,P._private.parent=null;else{for(var G=!1,J=U;!J.empty();){if(P.same(J)){G=!0,C.parent=void 0;break}J=J.parent()}G||(U[0]._private.children.push(P),P._private.parent=U[0],r.hasCompoundNodes=!0)}}}if(o.length>0){for(var ne=o.length===u.length?u:new Oa(a,o),W=0;W<ne.length;W++){var ee=ne[W];ee.isNode()||(ee.parallelEdges().clearTraversalCache(),ee.source().clearTraversalCache(),ee.target().clearTraversalCache())}var se;r.hasCompoundNodes?se=a.collection().merge(ne).merge(ne.connectedNodes()).merge(ne.parent()):se=ne,se.dirtyCompoundBoundsCache().dirtyBoundingBoxCache().updateStyle(n),n?ne.emitAndNotify("add"):e&&ne.emit("add")}return u};rn.removed=function(){var n=this[0];return n&&n._private.removed};rn.inside=function(){var n=this[0];return n&&!n._private.removed};rn.remove=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,u=this,a=[],r={},t=u._private.cy;function i(B){for(var V=B._private.edges,U=0;U<V.length;U++)l(V[U])}function o(B){for(var V=B._private.children,U=0;U<V.length;U++)l(V[U])}function l(B){var V=r[B.id()];e&&B.removed()||V||(r[B.id()]=!0,B.isNode()?(a.push(B),i(B),o(B)):a.unshift(B))}for(var s=0,c=u.length;s<c;s++){var d=u[s];l(d)}function f(B,V){var U=B._private.edges;pl(U,V),B.clearTraversalCache()}function p(B){B.clearTraversalCache()}var h=[];h.ids={};function g(B,V){V=V[0],B=B[0];var U=B._private.children,G=B.id();pl(U,V),V._private.parent=null,h.ids[G]||(h.ids[G]=!0,h.push(B))}u.dirtyCompoundBoundsCache(),e&&t.removeFromPool(a);for(var _=0;_<a.length;_++){var m=a[_];if(m.isEdge()){var w=m.source()[0],T=m.target()[0];f(w,m),f(T,m);for(var E=m.parallelEdges(),S=0;S<E.length;S++){var N=E[S];p(N),N.isBundledBezier()&&N.dirtyBoundingBoxCache()}}else{var j=m.parent();j.length!==0&&g(j,m)}e&&(m._private.removed=!0)}var q=t._private.elements;t._private.hasCompoundNodes=!1;for(var O=0;O<q.length;O++){var I=q[O];if(I.isParent()){t._private.hasCompoundNodes=!0;break}}var A=new Oa(this.cy(),a);A.size()>0&&(n?A.emitAndNotify("remove"):e&&A.emit("remove"));for(var P=0;P<h.length;P++){var C=h[P];(!e||!C.removed())&&C.updateStyle()}return A};rn.move=function(n){var e=this._private.cy,u=this,a=!1,r=!1,t=function(h){return h==null?h:""+h};if(n.source!==void 0||n.target!==void 0){var i=t(n.source),o=t(n.target),l=i!=null&&e.hasElementWithId(i),s=o!=null&&e.hasElementWithId(o);(l||s)&&(e.batch(function(){u.remove(a,r),u.emitAndNotify("moveout");for(var p=0;p<u.length;p++){var h=u[p],g=h._private.data;h.isEdge()&&(l&&(g.source=i),s&&(g.target=o))}u.restore(a,r)}),u.emitAndNotify("move"))}else if(n.parent!==void 0){var c=t(n.parent),d=c===null||e.hasElementWithId(c);if(d){var f=c===null?void 0:c;e.batch(function(){var p=u.remove(a,r);p.emitAndNotify("moveout");for(var h=0;h<u.length;h++){var g=u[h],_=g._private.data;g.isNode()&&(_.parent=f)}p.restore(a,r)}),u.emitAndNotify("move")}}return this};[cSe,fQe,hF,ol,p1,RQe,GP,kQe,jSe,MSe,KQe,qF,yF,Aa,sl,qa].forEach(function(n){Bt(rn,n)});var rVe={add:function(e){var u,a=this;if(Bi(e)){var r=e;if(r._private.cy===a)u=r.restore();else{for(var t=[],i=0;i<r.length;i++){var o=r[i];t.push(o.json())}u=new Oa(a,t)}}else if(Wr(e)){var l=e;u=new Oa(a,l)}else if(Tr(e)&&(Wr(e.nodes)||Wr(e.edges))){for(var s=e,c=[],d=["nodes","edges"],f=0,p=d.length;f<p;f++){var h=d[f],g=s[h];if(Wr(g))for(var _=0,m=g.length;_<m;_++){var w=Bt({group:h},g[_]);c.push(w)}}u=new Oa(a,c)}else{var T=e;u=new BP(a,T).collection()}return u},remove:function(e){if(!Bi(e)){if(Ct(e)){var u=e;e=this.$(u)}}return e.remove()}};function nVe(n,e,u,a){var r=4,t=.001,i=1e-7,o=10,l=11,s=1/(l-1),c=typeof Float32Array<"u";if(arguments.length!==4)return!1;for(var d=0;d<4;++d)if(typeof arguments[d]!="number"||isNaN(arguments[d])||!isFinite(arguments[d]))return!1;n=Math.min(n,1),u=Math.min(u,1),n=Math.max(n,0),u=Math.max(u,0);var f=c?new Float32Array(l):new Array(l);function p(I,A){return 1-3*A+3*I}function h(I,A){return 3*A-6*I}function g(I){return 3*I}function _(I,A,P){return((p(A,P)*I+h(A,P))*I+g(A))*I}function m(I,A,P){return 3*p(A,P)*I*I+2*h(A,P)*I+g(A)}function w(I,A){for(var P=0;P<r;++P){var C=m(A,n,u);if(C===0)return A;var B=_(A,n,u)-I;A-=B/C}return A}function T(){for(var I=0;I<l;++I)f[I]=_(I*s,n,u)}function E(I,A,P){var C,B,V=0;do B=A+(P-A)/2,C=_(B,n,u)-I,C>0?P=B:A=B;while(Math.abs(C)>i&&++V<o);return B}function S(I){for(var A=0,P=1,C=l-1;P!==C&&f[P]<=I;++P)A+=s;--P;var B=(I-f[P])/(f[P+1]-f[P]),V=A+B*s,U=m(V,n,u);return U>=t?w(I,V):U===0?V:E(I,A,A+s)}var N=!1;function j(){N=!0,(n!==e||u!==a)&&T()}var q=function(A){return N||j(),n===e&&u===a?A:A===0?0:A===1?1:_(S(A),e,a)};q.getControlPoints=function(){return[{x:n,y:e},{x:u,y:a}]};var O="generateBezier("+[n,e,u,a]+")";return q.toString=function(){return O},q}var aVe=(function(){function n(a){return-a.tension*a.x-a.friction*a.v}function e(a,r,t){var i={x:a.x+t.dx*r,v:a.v+t.dv*r,tension:a.tension,friction:a.friction};return{dx:i.v,dv:n(i)}}function u(a,r){var t={dx:a.v,dv:n(a)},i=e(a,r*.5,t),o=e(a,r*.5,i),l=e(a,r,o),s=1/6*(t.dx+2*(i.dx+o.dx)+l.dx),c=1/6*(t.dv+2*(i.dv+o.dv)+l.dv);return a.x=a.x+s*r,a.v=a.v+c*r,a}return function a(r,t,i){var o={x:-1,v:0,tension:null,friction:null},l=[0],s=0,c=1/1e4,d=16/1e3,f,p,h;for(r=parseFloat(r)||500,t=parseFloat(t)||20,i=i||null,o.tension=r,o.friction=t,f=i!==null,f?(s=a(r,t),p=s/i*d):p=d;h=u(h||o,p),l.push(1+h.x),s+=16,Math.abs(h.x)>c&&Math.abs(h.v)>c;);return f?function(g){return l[g*(l.length-1)|0]}:s}})(),Zr=function(e,u,a,r){var t=nVe(e,u,a,r);return function(i,o,l){return i+(o-i)*t(l)}},mF={linear:function(e,u,a){return e+(u-e)*a},ease:Zr(.25,.1,.25,1),"ease-in":Zr(.42,0,1,1),"ease-out":Zr(0,0,.58,1),"ease-in-out":Zr(.42,0,.58,1),"ease-in-sine":Zr(.47,0,.745,.715),"ease-out-sine":Zr(.39,.575,.565,1),"ease-in-out-sine":Zr(.445,.05,.55,.95),"ease-in-quad":Zr(.55,.085,.68,.53),"ease-out-quad":Zr(.25,.46,.45,.94),"ease-in-out-quad":Zr(.455,.03,.515,.955),"ease-in-cubic":Zr(.55,.055,.675,.19),"ease-out-cubic":Zr(.215,.61,.355,1),"ease-in-out-cubic":Zr(.645,.045,.355,1),"ease-in-quart":Zr(.895,.03,.685,.22),"ease-out-quart":Zr(.165,.84,.44,1),"ease-in-out-quart":Zr(.77,0,.175,1),"ease-in-quint":Zr(.755,.05,.855,.06),"ease-out-quint":Zr(.23,1,.32,1),"ease-in-out-quint":Zr(.86,0,.07,1),"ease-in-expo":Zr(.95,.05,.795,.035),"ease-out-expo":Zr(.19,1,.22,1),"ease-in-out-expo":Zr(1,0,0,1),"ease-in-circ":Zr(.6,.04,.98,.335),"ease-out-circ":Zr(.075,.82,.165,1),"ease-in-out-circ":Zr(.785,.135,.15,.86),spring:function(e,u,a){if(a===0)return mF.linear;var r=aVe(e,u,a);return function(t,i,o){return t+(i-t)*r(o)}},"cubic-bezier":Zr};function C1e(n,e,u,a,r){if(a===1||e===u)return u;var t=r(e,u,a);return n==null||((n.roundValue||n.color)&&(t=Math.round(t)),n.min!==void 0&&(t=Math.max(t,n.min)),n.max!==void 0&&(t=Math.min(t,n.max))),t}function L1e(n,e){return n.pfValue!=null||n.value!=null?n.pfValue!=null&&(e==null||e.type.units!=="%")?n.pfValue:n.value:n}function Ag(n,e,u,a,r){var t=r!=null?r.type:null;u<0?u=0:u>1&&(u=1);var i=L1e(n,r),o=L1e(e,r);if(At(i)&&At(o))return C1e(t,i,o,u,a);if(Wr(i)&&Wr(o)){for(var l=[],s=0;s<o.length;s++){var c=i[s],d=o[s];if(c!=null&&d!=null){var f=C1e(t,c,d,u,a);l.push(f)}else l.push(d)}return l}}function iVe(n,e,u,a){var r=!a,t=n._private,i=e._private,o=i.easing,l=i.startTime,s=a?n:n.cy(),c=s.style();if(!i.easingImpl)if(o==null)i.easingImpl=mF.linear;else{var d;if(Ct(o)){var f=c.parse("transition-timing-function",o);d=f.value}else d=o;var p,h;Ct(d)?(p=d,h=[]):(p=d[1],h=d.slice(2).map(function(ne){return+ne})),h.length>0?(p==="spring"&&h.push(i.duration),i.easingImpl=mF[p].apply(null,h)):i.easingImpl=mF[p]}var g=i.easingImpl,_;if(i.duration===0?_=1:_=(u-l)/i.duration,i.applying&&(_=i.progress),_<0?_=0:_>1&&(_=1),i.delay==null){var m=i.startPosition,w=i.position;if(w&&r&&!n.locked()){var T={};D6(m.x,w.x)&&(T.x=Ag(m.x,w.x,_,g)),D6(m.y,w.y)&&(T.y=Ag(m.y,w.y,_,g)),n.position(T)}var E=i.startPan,S=i.pan,N=t.pan,j=S!=null&&a;j&&(D6(E.x,S.x)&&(N.x=Ag(E.x,S.x,_,g)),D6(E.y,S.y)&&(N.y=Ag(E.y,S.y,_,g)),n.emit("pan"));var q=i.startZoom,O=i.zoom,I=O!=null&&a;I&&(D6(q,O)&&(t.zoom=w4(t.minZoom,Ag(q,O,_,g),t.maxZoom)),n.emit("zoom")),(j||I)&&n.emit("viewport");var A=i.style;if(A&&A.length>0&&r){for(var P=0;P<A.length;P++){var C=A[P],B=C.name,V=C,U=i.startStyle[B],G=c.properties[U.name],J=Ag(U,V,_,g,G);c.overrideBypass(n,B,J)}n.emit("style")}}return i.progress=_,_}function D6(n,e){return n==null||e==null?!1:At(n)&&At(e)?!0:!!(n&&e)}function uVe(n,e,u,a){var r=e._private;r.started=!0,r.startTime=u-r.progress*r.duration}function q1e(n,e){var u=e._private.aniEles,a=[];function r(c,d){var f=c._private,p=f.animation.current,h=f.animation.queue,g=!1;if(p.length===0){var _=h.shift();_&&p.push(_)}for(var m=function(N){for(var j=N.length-1;j>=0;j--){var q=N[j];q()}N.splice(0,N.length)},w=p.length-1;w>=0;w--){var T=p[w],E=T._private;if(E.stopped){p.splice(w,1),E.hooked=!1,E.playing=!1,E.started=!1,m(E.frames);continue}!E.playing&&!E.applying||(E.playing&&E.applying&&(E.applying=!1),E.started||uVe(c,T,n),iVe(c,T,n,d),E.applying&&(E.applying=!1),m(E.frames),E.step!=null&&E.step(n),T.completed()&&(p.splice(w,1),E.hooked=!1,E.playing=!1,E.started=!1,m(E.completes)),g=!0)}return!d&&p.length===0&&h.length===0&&a.push(c),g}for(var t=!1,i=0;i<u.length;i++){var o=u[i],l=r(o);t=t||l}var s=r(e,!0);(t||s)&&(u.length>0?e.notify("draw",u):e.notify("draw")),u.unmerge(a),e.emit("step")}var oVe={animate:Cr.animate(),animation:Cr.animation(),animated:Cr.animated(),clearQueue:Cr.clearQueue(),delay:Cr.delay(),delayAnimation:Cr.delayAnimation(),stop:Cr.stop(),addToAnimationPool:function(e){var u=this;u.styleEnabled()&&u._private.aniEles.merge(e)},stopAnimationLoop:function(){this._private.animationsRunning=!1},startAnimationLoop:function(){var e=this;if(e._private.animationsRunning=!0,!e.styleEnabled())return;function u(){e._private.animationsRunning&&PF(function(t){q1e(t,e),u()})}var a=e.renderer();a&&a.beforeRender?a.beforeRender(function(t,i){q1e(i,e)},a.beforeRenderPriorities.animations):u()}},sVe={qualifierCompare:function(e,u){return e==null||u==null?e==null&&u==null:e.sameText(u)},eventMatches:function(e,u,a){var r=u.qualifier;return r!=null?e!==a.target&&dN(a.target)&&r.matches(a.target):!0},addEventFields:function(e,u){u.cy=e,u.target=e},callbackContext:function(e,u,a){return u.qualifier!=null?a.target:e}},HD=function(e){return Ct(e)?new yl(e):e},qSe={createEmitter:function(){var e=this._private;return e.emitter||(e.emitter=new $P(sVe,this)),this},emitter:function(){return this._private.emitter},on:function(e,u,a){return this.emitter().on(e,HD(u),a),this},removeListener:function(e,u,a){return this.emitter().removeListener(e,HD(u),a),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},one:function(e,u,a){return this.emitter().one(e,HD(u),a),this},once:function(e,u,a){return this.emitter().one(e,HD(u),a),this},emit:function(e,u){return this.emitter().emit(e,u),this},emitAndNotify:function(e,u){return this.emit(e),this.notify(e,u),this}};Cr.eventAliasesOn(qSe);var R7={png:function(e){var u=this._private.renderer;return e=e||{},u.png(e)},jpg:function(e){var u=this._private.renderer;return e=e||{},e.bg=e.bg||"#fff",u.jpg(e)}};R7.jpeg=R7.jpg;var bF={layout:function(e){var u=this;if(e==null){_n("Layout options must be specified to make a layout");return}if(e.name==null){_n("A `name` must be specified to make a layout");return}var a=e.name,r=u.extension("layout",a);if(r==null){_n("No such layout `"+a+"` found.  Did you forget to import it and `cytoscape.use()` it?");return}var t;Ct(e.eles)?t=u.$(e.eles):t=e.eles!=null?e.eles:u.$();var i=new r(Bt({},e,{cy:u,eles:t}));return i}};bF.createLayout=bF.makeLayout=bF.layout;var cVe={notify:function(e,u){var a=this._private;if(this.batching()){a.batchNotifications=a.batchNotifications||{};var r=a.batchNotifications[e]=a.batchNotifications[e]||this.collection();u!=null&&r.merge(u);return}if(a.notificationsEnabled){var t=this.renderer();this.destroyed()||!t||t.notify(e,u)}},notifications:function(e){var u=this._private;return e===void 0?u.notificationsEnabled:(u.notificationsEnabled=!!e,this)},noNotifications:function(e){this.notifications(!1),e(),this.notifications(!0)},batching:function(){return this._private.batchCount>0},startBatch:function(){var e=this._private;return e.batchCount==null&&(e.batchCount=0),e.batchCount===0&&(e.batchStyleEles=this.collection(),e.batchNotifications={}),e.batchCount++,this},endBatch:function(){var e=this._private;if(e.batchCount===0)return this;if(e.batchCount--,e.batchCount===0){e.batchStyleEles.updateStyle();var u=this.renderer();Object.keys(e.batchNotifications).forEach(function(a){var r=e.batchNotifications[a];r.empty()?u.notify(a):u.notify(a,r)})}return this},batch:function(e){return this.startBatch(),e(),this.endBatch(),this},batchData:function(e){var u=this;return this.batch(function(){for(var a=Object.keys(e),r=0;r<a.length;r++){var t=a[r],i=e[t],o=u.getElementById(t);o.data(i)}})}},lVe=Ra({hideEdgesOnViewport:!1,textureOnViewport:!1,motionBlur:!1,motionBlurOpacity:.05,pixelRatio:void 0,desktopTapThreshold:4,touchTapThreshold:8,wheelSensitivity:1,debug:!1,showFps:!1,webgl:!1,webglDebug:!1,webglDebugShowAtlases:!1,webglTexSize:2048,webglTexRows:36,webglTexRowsNodes:18,webglBatchSize:2048,webglTexPerBatch:14,webglBgColor:[255,255,255]}),N7={renderTo:function(e,u,a,r){var t=this._private.renderer;return t.renderTo(e,u,a,r),this},renderer:function(){return this._private.renderer},forceRender:function(){return this.notify("draw"),this},resize:function(){return this.invalidateSize(),this.emitAndNotify("resize"),this},initRenderer:function(e){var u=this,a=u.extension("renderer",e.name);if(a==null){_n("Can not initialise: No such renderer `".concat(e.name,"` found. Did you forget to import it and `cytoscape.use()` it?"));return}e.wheelSensitivity!==void 0&&Lr("You have set a custom wheel sensitivity.  This will make your app zoom unnaturally when using mainstream mice.  You should change this value from the default only if you can guarantee that all your users will use the same hardware and OS configuration as your current machine.");var r=lVe(e);r.cy=u,u._private.renderer=new a(r),this.notify("init")},destroyRenderer:function(){var e=this;e.notify("destroy");var u=e.container();if(u)for(u._cyreg=null;u.childNodes.length>0;)u.removeChild(u.childNodes[0]);e._private.renderer=null,e.mutableElements().forEach(function(a){var r=a._private;r.rscratch={},r.rstyle={},r.animation.current=[],r.animation.queue=[]})},onRender:function(e){return this.on("render",e)},offRender:function(e){return this.off("render",e)}};N7.invalidateDimensions=N7.resize;var gF={collection:function(e,u){return Ct(e)?this.$(e):Bi(e)?e.collection():Wr(e)?(u||(u={}),new Oa(this,e,u.unique,u.removed)):new Oa(this)},nodes:function(e){var u=this.$(function(a){return a.isNode()});return e?u.filter(e):u},edges:function(e){var u=this.$(function(a){return a.isEdge()});return e?u.filter(e):u},$:function(e){var u=this._private.elements;return e?u.filter(e):u.spawnSelf()},mutableElements:function(){return this._private.elements}};gF.elements=gF.filter=gF.$;var da={},a4="t",dVe="f";da.apply=function(n){for(var e=this,u=e._private,a=u.cy,r=a.collection(),t=0;t<n.length;t++){var i=n[t],o=e.getContextMeta(i);if(!o.empty){var l=e.getContextStyle(o),s=e.applyContextStyle(o,l,i);i._private.appliedInitStyle?e.updateTransitions(i,s.diffProps):i._private.appliedInitStyle=!0;var c=e.updateStyleHints(i);c&&r.push(i)}}return r};da.getPropertiesDiff=function(n,e){var u=this,a=u._private.propDiffs=u._private.propDiffs||{},r=n+"-"+e,t=a[r];if(t)return t;for(var i=[],o={},l=0;l<u.length;l++){var s=u[l],c=n[l]===a4,d=e[l]===a4,f=c!==d,p=s.mappedProperties.length>0;if(f||d&&p){var h=void 0;f&&p||f?h=s.properties:p&&(h=s.mappedProperties);for(var g=0;g<h.length;g++){for(var _=h[g],m=_.name,w=!1,T=l+1;T<u.length;T++){var E=u[T],S=e[T]===a4;if(S&&(w=E.properties[_.name]!=null,w))break}!o[m]&&!w&&(o[m]=!0,i.push(m))}}}return a[r]=i,i};da.getContextMeta=function(n){for(var e=this,u="",a,r=n._private.styleCxtKey||"",t=0;t<e.length;t++){var i=e[t],o=i.selector&&i.selector.matches(n);o?u+=a4:u+=dVe}return a=e.getPropertiesDiff(r,u),n._private.styleCxtKey=u,{key:u,diffPropNames:a,empty:a.length===0}};da.getContextStyle=function(n){var e=n.key,u=this,a=this._private.contextStyles=this._private.contextStyles||{};if(a[e])return a[e];for(var r={_private:{key:e}},t=0;t<u.length;t++){var i=u[t],o=e[t]===a4;if(o)for(var l=0;l<i.properties.length;l++){var s=i.properties[l];r[s.name]=s}}return a[e]=r,r};da.applyContextStyle=function(n,e,u){for(var a=this,r=n.diffPropNames,t={},i=a.types,o=0;o<r.length;o++){var l=r[o],s=e[l],c=u.pstyle(l);if(!s)if(c)c.bypass?s={name:l,deleteBypassed:!0}:s={name:l,delete:!0};else continue;if(c!==s){if(s.mapped===i.fn&&c!=null&&c.mapping!=null&&c.mapping.value===s.value){var d=c.mapping,f=d.fnValue=s.value(u);if(f===d.prevFnValue)continue}var p=t[l]={prev:c};a.applyParsedProperty(u,s),p.next=u.pstyle(l),p.next&&p.next.bypass&&(p.next=p.next.bypassed)}}return{diffProps:t}};da.updateStyleHints=function(n){var e=n._private,u=this,a=u.propertyGroupNames,r=u.propertyGroupKeys,t=function(F,D,L){return u.getPropertiesHash(F,D,L)},i=e.styleKey;if(n.removed())return!1;var o=e.group==="nodes",l=n._private.style;a=Object.keys(l);for(var s=0;s<r.length;s++){var c=r[s];e.styleKeys[c]=[rb,Lg]}for(var d=function(F,D){return e.styleKeys[D][0]=v4(F,e.styleKeys[D][0])},f=function(F,D){return e.styleKeys[D][1]=_4(F,e.styleKeys[D][1])},p=function(F,D){d(F,D),f(F,D)},h=function(F,D){for(var L=0;L<F.length;L++){var H=F.charCodeAt(L);d(H,D),f(H,D)}},g=2e9,_=function(F){return-128<F&&F<128&&Math.floor(F)!==F?g-(F*1024|0):F},m=0;m<a.length;m++){var w=a[m],T=l[w];if(T!=null){var E=this.properties[w],S=E.type,N=E.groupKey,j=void 0;E.hashOverride!=null?j=E.hashOverride(n,T):T.pfValue!=null&&(j=T.pfValue);var q=E.enums==null?T.value:null,O=j!=null,I=q!=null,A=O||I,P=T.units;if(S.number&&A&&!S.multiple){var C=O?j:q;p(_(C),N),!O&&P!=null&&h(P,N)}else h(T.strValue,N)}}for(var B=[rb,Lg],V=0;V<r.length;V++){var U=r[V],G=e.styleKeys[U];B[0]=v4(G[0],B[0]),B[1]=_4(G[1],B[1])}e.styleKey=xqe(B[0],B[1]);var J=e.styleKeys;e.labelDimsKey=Gc(J.labelDimensions);var ne=t(n,["label"],J.labelDimensions);if(e.labelKey=Gc(ne),e.labelStyleKey=Gc(MD(J.commonLabel,ne)),!o){var W=t(n,["source-label"],J.labelDimensions);e.sourceLabelKey=Gc(W),e.sourceLabelStyleKey=Gc(MD(J.commonLabel,W));var ee=t(n,["target-label"],J.labelDimensions);e.targetLabelKey=Gc(ee),e.targetLabelStyleKey=Gc(MD(J.commonLabel,ee))}if(o){var se=e.styleKeys,pe=se.nodeBody,le=se.nodeBorder,Ee=se.nodeOutline,Ae=se.backgroundImage,Ne=se.compound,Oe=se.pie,be=se.stripe,te=[pe,le,Ee,Ae,Ne,Oe,be].filter(function(v){return v!=null}).reduce(MD,[rb,Lg]);e.nodeKey=Gc(te),e.hasPie=Oe!=null&&Oe[0]!==rb&&Oe[1]!==Lg,e.hasStripe=be!=null&&be[0]!==rb&&be[1]!==Lg}return i!==e.styleKey};da.clearStyleHints=function(n){var e=n._private;e.styleCxtKey="",e.styleKeys={},e.styleKey=null,e.labelKey=null,e.labelStyleKey=null,e.sourceLabelKey=null,e.sourceLabelStyleKey=null,e.targetLabelKey=null,e.targetLabelStyleKey=null,e.nodeKey=null,e.hasPie=null,e.hasStripe=null};da.applyParsedProperty=function(n,e){var u=this,a=e,r=n._private.style,t,i=u.types,o=u.properties[a.name].type,l=a.bypass,s=r[a.name],c=s&&s.bypass,d=n._private,f="mapping",p=function(pe){return pe==null?null:pe.pfValue!=null?pe.pfValue:pe.value},h=function(){var pe=p(s),le=p(a);u.checkTriggers(n,a.name,pe,le)};if(e.name==="curve-style"&&n.isEdge()&&(e.value!=="bezier"&&n.isLoop()||e.value==="haystack"&&(n.source().isParent()||n.target().isParent()))&&(a=e=this.parse(e.name,"bezier",l)),a.delete)return r[a.name]=void 0,h(),!0;if(a.deleteBypassed)return s?s.bypass?(s.bypassed=void 0,h(),!0):!1:(h(),!0);if(a.deleteBypass)return s?s.bypass?(r[a.name]=s.bypassed,h(),!0):!1:(h(),!0);var g=function(){Lr("Do not assign mappings to elements without corresponding data (i.e. ele `"+n.id()+"` has no mapping for property `"+a.name+"` with data field `"+a.field+"`); try a `["+a.field+"]` selector to limit scope to elements with `"+a.field+"` defined")};switch(a.mapped){case i.mapData:{for(var _=a.field.split("."),m=d.data,w=0;w<_.length&&m;w++){var T=_[w];m=m[T]}if(m==null)return g(),!1;var E;if(At(m)){var S=a.fieldMax-a.fieldMin;S===0?E=0:E=(m-a.fieldMin)/S}else return Lr("Do not use continuous mappers without specifying numeric data (i.e. `"+a.field+": "+m+"` for `"+n.id()+"` is non-numeric)"),!1;if(E<0?E=0:E>1&&(E=1),o.color){var N=a.valueMin[0],j=a.valueMax[0],q=a.valueMin[1],O=a.valueMax[1],I=a.valueMin[2],A=a.valueMax[2],P=a.valueMin[3]==null?1:a.valueMin[3],C=a.valueMax[3]==null?1:a.valueMax[3],B=[Math.round(N+(j-N)*E),Math.round(q+(O-q)*E),Math.round(I+(A-I)*E),Math.round(P+(C-P)*E)];t={bypass:a.bypass,name:a.name,value:B,strValue:"rgb("+B[0]+", "+B[1]+", "+B[2]+")"}}else if(o.number){var V=a.valueMin+(a.valueMax-a.valueMin)*E;t=this.parse(a.name,V,a.bypass,f)}else return!1;if(!t)return g(),!1;t.mapping=a,a=t;break}case i.data:{for(var U=a.field.split("."),G=d.data,J=0;J<U.length&&G;J++){var ne=U[J];G=G[ne]}if(G!=null&&(t=this.parse(a.name,G,a.bypass,f)),!t)return g(),!1;t.mapping=a,a=t;break}case i.fn:{var W=a.value,ee=a.fnValue!=null?a.fnValue:W(n);if(a.prevFnValue=ee,ee==null)return Lr("Custom function mappers may not return null (i.e. `"+a.name+"` for ele `"+n.id()+"` is null)"),!1;if(t=this.parse(a.name,ee,a.bypass,f),!t)return Lr("Custom function mappers may not return invalid values for the property type (i.e. `"+a.name+"` for ele `"+n.id()+"` is invalid)"),!1;t.mapping=Uo(a),a=t;break}case void 0:break;default:return!1}return l?(c?a.bypassed=s.bypassed:a.bypassed=s,r[a.name]=a):c?s.bypassed=a:r[a.name]=a,h(),!0};da.cleanElements=function(n,e){for(var u=0;u<n.length;u++){var a=n[u];if(this.clearStyleHints(a),a.dirtyCompoundBoundsCache(),a.dirtyBoundingBoxCache(),!e)a._private.style={};else for(var r=a._private.style,t=Object.keys(r),i=0;i<t.length;i++){var o=t[i],l=r[o];l!=null&&(l.bypass?l.bypassed=null:r[o]=null)}}};da.update=function(){var n=this._private.cy,e=n.mutableElements();e.updateStyle()};da.updateTransitions=function(n,e){var u=this,a=n._private,r=n.pstyle("transition-property").value,t=n.pstyle("transition-duration").pfValue,i=n.pstyle("transition-delay").pfValue;if(r.length>0&&t>0){for(var o={},l=!1,s=0;s<r.length;s++){var c=r[s],d=n.pstyle(c),f=e[c];if(f){var p=f.prev,h=p,g=f.next!=null?f.next:d,_=!1,m=void 0,w=1e-6;h&&(At(h.pfValue)&&At(g.pfValue)?(_=g.pfValue-h.pfValue,m=h.pfValue+w*_):At(h.value)&&At(g.value)?(_=g.value-h.value,m=h.value+w*_):Wr(h.value)&&Wr(g.value)&&(_=h.value[0]!==g.value[0]||h.value[1]!==g.value[1]||h.value[2]!==g.value[2],m=h.strValue),_&&(o[c]=g.strValue,this.applyBypass(n,c,m),l=!0))}}if(!l)return;a.transitioning=!0,new I1(function(T){i>0?n.delayAnimation(i).play().promise().then(T):T()}).then(function(){return n.animation({style:o,duration:t,easing:n.pstyle("transition-timing-function").value,queue:!1}).play().promise()}).then(function(){u.removeBypasses(n,r),n.emitAndNotify("style"),a.transitioning=!1})}else a.transitioning&&(this.removeBypasses(n,r),n.emitAndNotify("style"),a.transitioning=!1)};da.checkTrigger=function(n,e,u,a,r,t){var i=this.properties[e],o=r(i);n.removed()||o!=null&&o(u,a,n)&&t(i)};da.checkZOrderTrigger=function(n,e,u,a){var r=this;this.checkTrigger(n,e,u,a,function(t){return t.triggersZOrder},function(){r._private.cy.notify("zorder",n)})};da.checkBoundsTrigger=function(n,e,u,a){this.checkTrigger(n,e,u,a,function(r){return r.triggersBounds},function(r){n.dirtyCompoundBoundsCache(),n.dirtyBoundingBoxCache()})};da.checkConnectedEdgesBoundsTrigger=function(n,e,u,a){this.checkTrigger(n,e,u,a,function(r){return r.triggersBoundsOfConnectedEdges},function(r){n.connectedEdges().forEach(function(t){t.dirtyBoundingBoxCache()})})};da.checkParallelEdgesBoundsTrigger=function(n,e,u,a){this.checkTrigger(n,e,u,a,function(r){return r.triggersBoundsOfParallelEdges},function(r){n.parallelEdges().forEach(function(t){t.dirtyBoundingBoxCache()})})};da.checkTriggers=function(n,e,u,a){n.dirtyStyleCache(),this.checkZOrderTrigger(n,e,u,a),this.checkBoundsTrigger(n,e,u,a),this.checkConnectedEdgesBoundsTrigger(n,e,u,a),this.checkParallelEdgesBoundsTrigger(n,e,u,a)};var gN={};gN.applyBypass=function(n,e,u,a){var r=this,t=[],i=!0;if(e==="*"||e==="**"){if(u!==void 0)for(var o=0;o<r.properties.length;o++){var l=r.properties[o],s=l.name,c=this.parse(s,u,!0);c&&t.push(c)}}else if(Ct(e)){var d=this.parse(e,u,!0);d&&t.push(d)}else if(Tr(e)){var f=e;a=u;for(var p=Object.keys(f),h=0;h<p.length;h++){var g=p[h],_=f[g];if(_===void 0&&(_=f[LP(g)]),_!==void 0){var m=this.parse(g,_,!0);m&&t.push(m)}}}else return!1;if(t.length===0)return!1;for(var w=!1,T=0;T<n.length;T++){for(var E=n[T],S={},N=void 0,j=0;j<t.length;j++){var q=t[j];if(a){var O=E.pstyle(q.name);N=S[q.name]={prev:O}}w=this.applyParsedProperty(E,Uo(q))||w,a&&(N.next=E.pstyle(q.name))}w&&this.updateStyleHints(E),a&&this.updateTransitions(E,S,i)}return w};gN.overrideBypass=function(n,e,u){e=BH(e);for(var a=0;a<n.length;a++){var r=n[a],t=r._private.style[e],i=this.properties[e].type,o=i.color,l=i.mutiple,s=t?t.pfValue!=null?t.pfValue:t.value:null;!t||!t.bypass?this.applyBypass(r,e,u):(t.value=u,t.pfValue!=null&&(t.pfValue=u),o?t.strValue="rgb("+u.join(",")+")":l?t.strValue=u.join(" "):t.strValue=""+u,this.updateStyleHints(r)),this.checkTriggers(r,e,s,u)}};gN.removeAllBypasses=function(n,e){return this.removeBypasses(n,this.propertyNames,e)};gN.removeBypasses=function(n,e,u){for(var a=!0,r=0;r<n.length;r++){for(var t=n[r],i={},o=0;o<e.length;o++){var l=e[o],s=this.properties[l],c=t.pstyle(s.name);if(!(!c||!c.bypass)){var d="",f=this.parse(l,d,!0),p=i[s.name]={prev:c};this.applyParsedProperty(t,f),p.next=t.pstyle(s.name)}}this.updateStyleHints(t),u&&this.updateTransitions(t,i,a)}};var ek={};ek.getEmSizeInPixels=function(){var n=this.containerCss("font-size");return n!=null?parseFloat(n):1};ek.containerCss=function(n){var e=this._private.cy,u=e.container(),a=e.window();if(a&&u&&a.getComputedStyle)return a.getComputedStyle(u).getPropertyValue(n)};var Vo={};Vo.getRenderedStyle=function(n,e){return e?this.getStylePropertyValue(n,e,!0):this.getRawStyle(n,!0)};Vo.getRawStyle=function(n,e){var u=this;if(n=n[0],n){for(var a={},r=0;r<u.properties.length;r++){var t=u.properties[r],i=u.getStylePropertyValue(n,t.name,e);i!=null&&(a[t.name]=i,a[LP(t.name)]=i)}return a}};Vo.getIndexedStyle=function(n,e,u,a){var r=n.pstyle(e)[u][a];return r??n.cy().style().getDefaultProperty(e)[u][0]};Vo.getStylePropertyValue=function(n,e,u){var a=this;if(n=n[0],n){var r=a.properties[e];r.alias&&(r=r.pointsTo);var t=r.type,i=n.pstyle(r.name);if(i){var o=i.value,l=i.units,s=i.strValue;if(u&&t.number&&o!=null&&At(o)){var c=n.cy().zoom(),d=function(_){return _*c},f=function(_,m){return d(_)+m},p=Wr(o),h=p?l.every(function(g){return g!=null}):l!=null;return h?p?o.map(function(g,_){return f(g,l[_])}).join(" "):f(o,l):p?o.map(function(g){return Ct(g)?g:""+d(g)}).join(" "):""+d(o)}else if(s!=null)return s}return null}};Vo.getAnimationStartStyle=function(n,e){for(var u={},a=0;a<e.length;a++){var r=e[a],t=r.name,i=n.pstyle(t);i!==void 0&&(Tr(i)?i=this.parse(t,i.strValue):i=this.parse(t,i)),i&&(u[t]=i)}return u};Vo.getPropsList=function(n){var e=this,u=[],a=n,r=e.properties;if(a)for(var t=Object.keys(a),i=0;i<t.length;i++){var o=t[i],l=a[o],s=r[o]||r[BH(o)],c=this.parse(s.name,l);c&&u.push(c)}return u};Vo.getNonDefaultPropertiesHash=function(n,e,u){var a=u.slice(),r,t,i,o,l,s;for(l=0;l<e.length;l++)if(r=e[l],t=n.pstyle(r,!1),t!=null)if(t.pfValue!=null)a[0]=v4(o,a[0]),a[1]=_4(o,a[1]);else for(i=t.strValue,s=0;s<i.length;s++)o=i.charCodeAt(s),a[0]=v4(o,a[0]),a[1]=_4(o,a[1]);return a};Vo.getPropertiesHash=Vo.getNonDefaultPropertiesHash;var JP={};JP.appendFromJson=function(n){for(var e=this,u=0;u<n.length;u++){var a=n[u],r=a.selector,t=a.style||a.css,i=Object.keys(t);e.selector(r);for(var o=0;o<i.length;o++){var l=i[o],s=t[l];e.css(l,s)}}return e};JP.fromJson=function(n){var e=this;return e.resetToDefault(),e.appendFromJson(n),e};JP.json=function(){for(var n=[],e=this.defaultLength;e<this.length;e++){for(var u=this[e],a=u.selector,r=u.properties,t={},i=0;i<r.length;i++){var o=r[i];t[o.name]=o.strValue}n.push({selector:a?a.toString():"core",style:t})}return n};var tk={};tk.appendFromString=function(n){var e=this,u=this,a=""+n,r,t,i;a=a.replace(/[/][*](\s|.)+?[*][/]/g,"");function o(){a.length>r.length?a=a.substr(r.length):a=""}function l(){t.length>i.length?t=t.substr(i.length):t=""}for(;;){var s=a.match(/^\s*$/);if(s)break;var c=a.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!c){Lr("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+a);break}r=c[0];var d=c[1];if(d!=="core"){var f=new yl(d);if(f.invalid){Lr("Skipping parsing of block: Invalid selector found in string stylesheet: "+d),o();continue}}var p=c[2],h=!1;t=p;for(var g=[];;){var _=t.match(/^\s*$/);if(_)break;var m=t.match(/^\s*(.+?)\s*:\s*(.+?)(?:\s*;|\s*$)/);if(!m){Lr("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+p),h=!0;break}i=m[0];var w=m[1],T=m[2],E=e.properties[w];if(!E){Lr("Skipping property: Invalid property name in: "+i),l();continue}var S=u.parse(w,T);if(!S){Lr("Skipping property: Invalid property definition in: "+i),l();continue}g.push({name:w,val:T}),l()}if(h){o();break}u.selector(d);for(var N=0;N<g.length;N++){var j=g[N];u.css(j.name,j.val)}o()}return u};tk.fromString=function(n){var e=this;return e.resetToDefault(),e.appendFromString(n),e};var kn={};(function(){var n=ea,e=iqe,u=oqe,a=sqe,r=cqe,t=function(v){return"^"+v+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},i=function(v){var F=n+"|\\w+|"+e+"|"+u+"|"+a+"|"+r;return"^"+v+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+n+")\\s*\\,\\s*("+n+")\\s*,\\s*("+F+")\\s*\\,\\s*("+F+")\\)$"},o=[`^url\\s*\\(\\s*['"]?(.+?)['"]?\\s*\\)$`,"^(none)$","^(.+)$"];kn.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%",implicitUnits:"%"},percentages:{number:!0,min:0,max:100,units:"%",implicitUnits:"%",multiple:!0},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},zeroOneNumbers:{number:!0,min:0,max:1,unitless:!0,multiple:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},nonNegativeNumber:{number:!0,min:0,unitless:!0},position:{enums:["parent","origin"]},nodeSize:{number:!0,min:0,enums:["label"]},number:{number:!0,unitless:!0},numbers:{number:!0,unitless:!0,multiple:!0},positiveNumber:{number:!0,unitless:!0,min:0,strictMin:!0},size:{number:!0,min:0},bidirectionalSize:{number:!0},bidirectionalSizeMaybePercent:{number:!0,allowPercent:!0},bidirectionalSizes:{number:!0,multiple:!0},sizeMaybePercent:{number:!0,min:0,allowPercent:!0},axisDirection:{enums:["horizontal","leftward","rightward","vertical","upward","downward","auto"]},axisDirectionExplicit:{enums:["leftward","rightward","upward","downward"]},axisDirectionPrimary:{enums:["horizontal","vertical"]},paddingRelativeTo:{enums:["width","height","average","min","max"]},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"],multiple:!0},bgPos:{number:!0,allowPercent:!0,multiple:!0},bgRelativeTo:{enums:["inner","include-padding"],multiple:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"],multiple:!0},bgFit:{enums:["none","contain","cover"],multiple:!0},bgCrossOrigin:{enums:["anonymous","use-credentials","null"],multiple:!0},bgClip:{enums:["none","node"],multiple:!0},bgContainment:{enums:["inside","over"],multiple:!0},boxSelection:{enums:["contain","overlap","none"]},color:{color:!0},colors:{color:!0,multiple:!0},fill:{enums:["solid","linear-gradient","radial-gradient"]},bool:{enums:["yes","no"]},bools:{enums:["yes","no"],multiple:!0},lineStyle:{enums:["solid","dotted","dashed"]},lineCap:{enums:["butt","round","square"]},linePosition:{enums:["center","inside","outside"]},lineJoin:{enums:["round","bevel","miter"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack","segments","straight","straight-triangle","taxi","round-segments","round-taxi"]},radiusType:{enums:["arc-radius","influence-radius"],multiple:!0},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap","ellipsis"]},textOverflowWrap:{enums:["whitespace","anywhere"]},textBackgroundShape:{enums:["rectangle","roundrectangle","round-rectangle","circle"]},nodeShape:{enums:["rectangle","roundrectangle","round-rectangle","cutrectangle","cut-rectangle","bottomroundrectangle","bottom-round-rectangle","barrel","ellipse","triangle","round-triangle","square","pentagon","round-pentagon","hexagon","round-hexagon","concavehexagon","concave-hexagon","heptagon","round-heptagon","octagon","round-octagon","tag","round-tag","star","diamond","round-diamond","vee","rhomboid","right-rhomboid","polygon"]},overlayShape:{enums:["roundrectangle","round-rectangle","ellipse"]},cornerRadius:{number:!0,min:0,units:"px|em",implicitUnits:"px",enums:["auto"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","circle-triangle","triangle-cross","triangle-backcurve","vee","square","circle","diamond","chevron","none"]},arrowFill:{enums:["filled","hollow"]},arrowWidth:{number:!0,units:"%|px|em",implicitUnits:"px",enums:["match-line"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},zCompoundDepth:{enums:["bottom","orphan","auto","top"]},zIndexCompare:{enums:["auto","manual"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},justification:{enums:["left","center","right","auto"]},text:{string:!0},data:{mapping:!0,regex:t("data")},layoutData:{mapping:!0,regex:t("layoutData")},scratch:{mapping:!0,regex:t("scratch")},mapData:{mapping:!0,regex:i("mapData")},mapLayoutData:{mapping:!0,regex:i("mapLayoutData")},mapScratch:{mapping:!0,regex:i("mapScratch")},fn:{mapping:!0,fn:!0},url:{regexes:o,singleRegexMatchValue:!0},urls:{regexes:o,singleRegexMatchValue:!0,multiple:!0},propList:{propList:!0},angle:{number:!0,units:"deg|rad",implicitUnits:"rad"},textRotation:{number:!0,units:"deg|rad",implicitUnits:"rad",enums:["none","autorotate"]},polygonPointList:{number:!0,multiple:!0,evenMultiple:!0,min:-1,max:1,unitless:!0},edgeDistances:{enums:["intersection","node-position","endpoints"]},edgeEndpoint:{number:!0,multiple:!0,units:"%|px|em|deg|rad",implicitUnits:"px",enums:["inside-to-node","outside-to-node","outside-to-node-or-label","outside-to-line","outside-to-line-or-label"],singleEnum:!0,validate:function(v,F){switch(v.length){case 2:return F[0]!=="deg"&&F[0]!=="rad"&&F[1]!=="deg"&&F[1]!=="rad";case 1:return Ct(v[0])||F[0]==="deg"||F[0]==="rad";default:return!1}}},easing:{regexes:["^(spring)\\s*\\(\\s*("+n+")\\s*,\\s*("+n+")\\s*\\)$","^(cubic-bezier)\\s*\\(\\s*("+n+")\\s*,\\s*("+n+")\\s*,\\s*("+n+")\\s*,\\s*("+n+")\\s*\\)$"],enums:["linear","ease","ease-in","ease-out","ease-in-out","ease-in-sine","ease-out-sine","ease-in-out-sine","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-in-circ","ease-out-circ","ease-in-out-circ"]},gradientDirection:{enums:["to-bottom","to-top","to-left","to-right","to-bottom-right","to-bottom-left","to-top-right","to-top-left","to-right-bottom","to-left-bottom","to-right-top","to-left-top"]},boundsExpansion:{number:!0,multiple:!0,min:0,validate:function(v){var F=v.length;return F===1||F===2||F===4}}};var l={zeroNonZero:function(v,F){return(v==null||F==null)&&v!==F||v==0&&F!=0?!0:v!=0&&F==0},any:function(v,F){return v!=F},emptyNonEmpty:function(v,F){var D=fl(v),L=fl(F);return D&&!L||!D&&L}},s=kn.types,c=[{name:"label",type:s.text,triggersBounds:l.any,triggersZOrder:l.emptyNonEmpty},{name:"text-rotation",type:s.textRotation,triggersBounds:l.any},{name:"text-margin-x",type:s.bidirectionalSize,triggersBounds:l.any},{name:"text-margin-y",type:s.bidirectionalSize,triggersBounds:l.any}],d=[{name:"source-label",type:s.text,triggersBounds:l.any},{name:"source-text-rotation",type:s.textRotation,triggersBounds:l.any},{name:"source-text-margin-x",type:s.bidirectionalSize,triggersBounds:l.any},{name:"source-text-margin-y",type:s.bidirectionalSize,triggersBounds:l.any},{name:"source-text-offset",type:s.size,triggersBounds:l.any}],f=[{name:"target-label",type:s.text,triggersBounds:l.any},{name:"target-text-rotation",type:s.textRotation,triggersBounds:l.any},{name:"target-text-margin-x",type:s.bidirectionalSize,triggersBounds:l.any},{name:"target-text-margin-y",type:s.bidirectionalSize,triggersBounds:l.any},{name:"target-text-offset",type:s.size,triggersBounds:l.any}],p=[{name:"font-family",type:s.fontFamily,triggersBounds:l.any},{name:"font-style",type:s.fontStyle,triggersBounds:l.any},{name:"font-weight",type:s.fontWeight,triggersBounds:l.any},{name:"font-size",type:s.size,triggersBounds:l.any},{name:"text-transform",type:s.textTransform,triggersBounds:l.any},{name:"text-wrap",type:s.textWrap,triggersBounds:l.any},{name:"text-overflow-wrap",type:s.textOverflowWrap,triggersBounds:l.any},{name:"text-max-width",type:s.size,triggersBounds:l.any},{name:"text-outline-width",type:s.size,triggersBounds:l.any},{name:"line-height",type:s.positiveNumber,triggersBounds:l.any}],h=[{name:"text-valign",type:s.valign,triggersBounds:l.any},{name:"text-halign",type:s.halign,triggersBounds:l.any},{name:"color",type:s.color},{name:"text-outline-color",type:s.color},{name:"text-outline-opacity",type:s.zeroOneNumber},{name:"text-background-color",type:s.color},{name:"text-background-opacity",type:s.zeroOneNumber},{name:"text-background-padding",type:s.size,triggersBounds:l.any},{name:"text-border-opacity",type:s.zeroOneNumber},{name:"text-border-color",type:s.color},{name:"text-border-width",type:s.size,triggersBounds:l.any},{name:"text-border-style",type:s.borderStyle,triggersBounds:l.any},{name:"text-background-shape",type:s.textBackgroundShape,triggersBounds:l.any},{name:"text-justification",type:s.justification},{name:"box-select-labels",type:s.bool,triggersBounds:l.any}],g=[{name:"events",type:s.bool,triggersZOrder:l.any},{name:"text-events",type:s.bool,triggersZOrder:l.any},{name:"box-selection",type:s.boxSelection,triggersZOrder:l.any}],_=[{name:"display",type:s.display,triggersZOrder:l.any,triggersBounds:l.any,triggersBoundsOfConnectedEdges:l.any,triggersBoundsOfParallelEdges:function(v,F,D){return v===F?!1:D.pstyle("curve-style").value==="bezier"}},{name:"visibility",type:s.visibility,triggersZOrder:l.any},{name:"opacity",type:s.zeroOneNumber,triggersZOrder:l.zeroNonZero},{name:"text-opacity",type:s.zeroOneNumber},{name:"min-zoomed-font-size",type:s.size},{name:"z-compound-depth",type:s.zCompoundDepth,triggersZOrder:l.any},{name:"z-index-compare",type:s.zIndexCompare,triggersZOrder:l.any},{name:"z-index",type:s.number,triggersZOrder:l.any}],m=[{name:"overlay-padding",type:s.size,triggersBounds:l.any},{name:"overlay-color",type:s.color},{name:"overlay-opacity",type:s.zeroOneNumber,triggersBounds:l.zeroNonZero},{name:"overlay-shape",type:s.overlayShape,triggersBounds:l.any},{name:"overlay-corner-radius",type:s.cornerRadius}],w=[{name:"underlay-padding",type:s.size,triggersBounds:l.any},{name:"underlay-color",type:s.color},{name:"underlay-opacity",type:s.zeroOneNumber,triggersBounds:l.zeroNonZero},{name:"underlay-shape",type:s.overlayShape,triggersBounds:l.any},{name:"underlay-corner-radius",type:s.cornerRadius}],T=[{name:"transition-property",type:s.propList},{name:"transition-duration",type:s.time},{name:"transition-delay",type:s.time},{name:"transition-timing-function",type:s.easing}],E=function(v,F){return F.value==="label"?-v.poolIndex():F.pfValue},S=[{name:"height",type:s.nodeSize,triggersBounds:l.any,hashOverride:E},{name:"width",type:s.nodeSize,triggersBounds:l.any,hashOverride:E},{name:"shape",type:s.nodeShape,triggersBounds:l.any},{name:"shape-polygon-points",type:s.polygonPointList,triggersBounds:l.any},{name:"corner-radius",type:s.cornerRadius},{name:"background-color",type:s.color},{name:"background-fill",type:s.fill},{name:"background-opacity",type:s.zeroOneNumber},{name:"background-blacken",type:s.nOneOneNumber},{name:"background-gradient-stop-colors",type:s.colors},{name:"background-gradient-stop-positions",type:s.percentages},{name:"background-gradient-direction",type:s.gradientDirection},{name:"padding",type:s.sizeMaybePercent,triggersBounds:l.any},{name:"padding-relative-to",type:s.paddingRelativeTo,triggersBounds:l.any},{name:"bounds-expansion",type:s.boundsExpansion,triggersBounds:l.any}],N=[{name:"border-color",type:s.color},{name:"border-opacity",type:s.zeroOneNumber},{name:"border-width",type:s.size,triggersBounds:l.any},{name:"border-style",type:s.borderStyle},{name:"border-cap",type:s.lineCap},{name:"border-join",type:s.lineJoin},{name:"border-dash-pattern",type:s.numbers},{name:"border-dash-offset",type:s.number},{name:"border-position",type:s.linePosition}],j=[{name:"outline-color",type:s.color},{name:"outline-opacity",type:s.zeroOneNumber},{name:"outline-width",type:s.size,triggersBounds:l.any},{name:"outline-style",type:s.borderStyle},{name:"outline-offset",type:s.size,triggersBounds:l.any}],q=[{name:"background-image",type:s.urls},{name:"background-image-crossorigin",type:s.bgCrossOrigin},{name:"background-image-opacity",type:s.zeroOneNumbers},{name:"background-image-containment",type:s.bgContainment},{name:"background-image-smoothing",type:s.bools},{name:"background-position-x",type:s.bgPos},{name:"background-position-y",type:s.bgPos},{name:"background-width-relative-to",type:s.bgRelativeTo},{name:"background-height-relative-to",type:s.bgRelativeTo},{name:"background-repeat",type:s.bgRepeat},{name:"background-fit",type:s.bgFit},{name:"background-clip",type:s.bgClip},{name:"background-width",type:s.bgWH},{name:"background-height",type:s.bgWH},{name:"background-offset-x",type:s.bgPos},{name:"background-offset-y",type:s.bgPos}],O=[{name:"position",type:s.position,triggersBounds:l.any},{name:"compound-sizing-wrt-labels",type:s.compoundIncludeLabels,triggersBounds:l.any},{name:"min-width",type:s.size,triggersBounds:l.any},{name:"min-width-bias-left",type:s.sizeMaybePercent,triggersBounds:l.any},{name:"min-width-bias-right",type:s.sizeMaybePercent,triggersBounds:l.any},{name:"min-height",type:s.size,triggersBounds:l.any},{name:"min-height-bias-top",type:s.sizeMaybePercent,triggersBounds:l.any},{name:"min-height-bias-bottom",type:s.sizeMaybePercent,triggersBounds:l.any}],I=[{name:"line-style",type:s.lineStyle},{name:"line-color",type:s.color},{name:"line-fill",type:s.fill},{name:"line-cap",type:s.lineCap},{name:"line-opacity",type:s.zeroOneNumber},{name:"line-dash-pattern",type:s.numbers},{name:"line-dash-offset",type:s.number},{name:"line-outline-width",type:s.size},{name:"line-outline-color",type:s.color},{name:"line-gradient-stop-colors",type:s.colors},{name:"line-gradient-stop-positions",type:s.percentages},{name:"curve-style",type:s.curveStyle,triggersBounds:l.any,triggersBoundsOfParallelEdges:function(v,F){return v===F?!1:v==="bezier"||F==="bezier"}},{name:"haystack-radius",type:s.zeroOneNumber,triggersBounds:l.any},{name:"source-endpoint",type:s.edgeEndpoint,triggersBounds:l.any},{name:"target-endpoint",type:s.edgeEndpoint,triggersBounds:l.any},{name:"control-point-step-size",type:s.size,triggersBounds:l.any},{name:"control-point-distances",type:s.bidirectionalSizes,triggersBounds:l.any},{name:"control-point-weights",type:s.numbers,triggersBounds:l.any},{name:"segment-distances",type:s.bidirectionalSizes,triggersBounds:l.any},{name:"segment-weights",type:s.numbers,triggersBounds:l.any},{name:"segment-radii",type:s.numbers,triggersBounds:l.any},{name:"radius-type",type:s.radiusType,triggersBounds:l.any},{name:"taxi-turn",type:s.bidirectionalSizeMaybePercent,triggersBounds:l.any},{name:"taxi-turn-min-distance",type:s.size,triggersBounds:l.any},{name:"taxi-direction",type:s.axisDirection,triggersBounds:l.any},{name:"taxi-radius",type:s.number,triggersBounds:l.any},{name:"edge-distances",type:s.edgeDistances,triggersBounds:l.any},{name:"arrow-scale",type:s.positiveNumber,triggersBounds:l.any},{name:"loop-direction",type:s.angle,triggersBounds:l.any},{name:"loop-sweep",type:s.angle,triggersBounds:l.any},{name:"source-distance-from-node",type:s.size,triggersBounds:l.any},{name:"target-distance-from-node",type:s.size,triggersBounds:l.any}],A=[{name:"ghost",type:s.bool,triggersBounds:l.any},{name:"ghost-offset-x",type:s.bidirectionalSize,triggersBounds:l.any},{name:"ghost-offset-y",type:s.bidirectionalSize,triggersBounds:l.any},{name:"ghost-opacity",type:s.zeroOneNumber}],P=[{name:"selection-box-color",type:s.color},{name:"selection-box-opacity",type:s.zeroOneNumber},{name:"selection-box-border-color",type:s.color},{name:"selection-box-border-width",type:s.size},{name:"active-bg-color",type:s.color},{name:"active-bg-opacity",type:s.zeroOneNumber},{name:"active-bg-size",type:s.size},{name:"outside-texture-bg-color",type:s.color},{name:"outside-texture-bg-opacity",type:s.zeroOneNumber}],C=[];kn.pieBackgroundN=16,C.push({name:"pie-size",type:s.sizeMaybePercent}),C.push({name:"pie-hole",type:s.sizeMaybePercent}),C.push({name:"pie-start-angle",type:s.angle});for(var B=1;B<=kn.pieBackgroundN;B++)C.push({name:"pie-"+B+"-background-color",type:s.color}),C.push({name:"pie-"+B+"-background-size",type:s.percent}),C.push({name:"pie-"+B+"-background-opacity",type:s.zeroOneNumber});var V=[];kn.stripeBackgroundN=16,V.push({name:"stripe-size",type:s.sizeMaybePercent}),V.push({name:"stripe-direction",type:s.axisDirectionPrimary});for(var U=1;U<=kn.stripeBackgroundN;U++)V.push({name:"stripe-"+U+"-background-color",type:s.color}),V.push({name:"stripe-"+U+"-background-size",type:s.percent}),V.push({name:"stripe-"+U+"-background-opacity",type:s.zeroOneNumber});var G=[],J=kn.arrowPrefixes=["source","mid-source","target","mid-target"];[{name:"arrow-shape",type:s.arrowShape,triggersBounds:l.any},{name:"arrow-color",type:s.color},{name:"arrow-fill",type:s.arrowFill},{name:"arrow-width",type:s.arrowWidth}].forEach(function(te){J.forEach(function(v){var F=v+"-"+te.name,D=te.type,L=te.triggersBounds;G.push({name:F,type:D,triggersBounds:L})})},{});var ne=kn.properties=[].concat(g,T,_,m,w,A,h,p,c,d,f,S,N,j,q,C,V,O,I,G,P),W=kn.propertyGroups={behavior:g,transition:T,visibility:_,overlay:m,underlay:w,ghost:A,commonLabel:h,labelDimensions:p,mainLabel:c,sourceLabel:d,targetLabel:f,nodeBody:S,nodeBorder:N,nodeOutline:j,backgroundImage:q,pie:C,stripe:V,compound:O,edgeLine:I,edgeArrow:G,core:P},ee=kn.propertyGroupNames={},se=kn.propertyGroupKeys=Object.keys(W);se.forEach(function(te){ee[te]=W[te].map(function(v){return v.name}),W[te].forEach(function(v){return v.groupKey=te})});var pe=kn.aliases=[{name:"content",pointsTo:"label"},{name:"control-point-distance",pointsTo:"control-point-distances"},{name:"control-point-weight",pointsTo:"control-point-weights"},{name:"segment-distance",pointsTo:"segment-distances"},{name:"segment-weight",pointsTo:"segment-weights"},{name:"segment-radius",pointsTo:"segment-radii"},{name:"edge-text-rotation",pointsTo:"text-rotation"},{name:"padding-left",pointsTo:"padding"},{name:"padding-right",pointsTo:"padding"},{name:"padding-top",pointsTo:"padding"},{name:"padding-bottom",pointsTo:"padding"}];kn.propertyNames=ne.map(function(te){return te.name});for(var le=0;le<ne.length;le++){var Ee=ne[le];ne[Ee.name]=Ee}for(var Ae=0;Ae<pe.length;Ae++){var Ne=pe[Ae],Oe=ne[Ne.pointsTo],be={name:Ne.name,alias:!0,pointsTo:Oe};ne.push(be),ne[Ne.name]=be}})();kn.getDefaultProperty=function(n){return this.getDefaultProperties()[n]};kn.getDefaultProperties=function(){var n=this._private;if(n.defaultProperties!=null)return n.defaultProperties;for(var e=Bt({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125,events:"yes","text-events":"no","text-valign":"top","text-halign":"center","text-justification":"auto","line-height":1,color:"#000","box-selection":"contain","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-overflow-wrap":"whitespace","text-max-width":9999,"text-background-color":"#000","text-background-opacity":0,"text-background-shape":"rectangle","text-background-padding":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","font-family":"Helvetica Neue, Helvetica, sans-serif","font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"text-rotation":"none","source-text-rotation":"none","target-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-compound-depth":"auto","z-index-compare":"auto","z-index":0,label:"","text-margin-x":0,"text-margin-y":0,"source-label":"","source-text-offset":0,"source-text-margin-x":0,"source-text-margin-y":0,"target-label":"","target-text-offset":0,"target-text-margin-x":0,"target-text-margin-y":0,"overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"overlay-shape":"round-rectangle","overlay-corner-radius":"auto","underlay-opacity":0,"underlay-color":"#000","underlay-padding":10,"underlay-shape":"round-rectangle","underlay-corner-radius":"auto","transition-property":"none","transition-duration":0,"transition-delay":0,"transition-timing-function":"linear","box-select-labels":"no","background-blacken":0,"background-color":"#999","background-fill":"solid","background-opacity":1,"background-image":"none","background-image-crossorigin":"anonymous","background-image-opacity":1,"background-image-containment":"inside","background-image-smoothing":"yes","background-position-x":"50%","background-position-y":"50%","background-offset-x":0,"background-offset-y":0,"background-width-relative-to":"include-padding","background-height-relative-to":"include-padding","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid","border-dash-pattern":[4,2],"border-dash-offset":0,"border-cap":"butt","border-join":"miter","border-position":"center","outline-color":"#999","outline-opacity":1,"outline-width":0,"outline-offset":0,"outline-style":"solid",height:30,width:30,shape:"ellipse","shape-polygon-points":"-1, -1,   1, -1,   1, 1,   -1, 1","corner-radius":"auto","bounds-expansion":0,"background-gradient-direction":"to-bottom","background-gradient-stop-colors":"#999","background-gradient-stop-positions":"0%",ghost:"no","ghost-offset-y":0,"ghost-offset-x":0,"ghost-opacity":0,padding:0,"padding-relative-to":"width",position:"origin","compound-sizing-wrt-labels":"include","min-width":0,"min-width-bias-left":0,"min-width-bias-right":0,"min-height":0,"min-height-bias-top":0,"min-height-bias-bottom":0},{"pie-size":"100%","pie-hole":0,"pie-start-angle":"0deg"},[{name:"pie-{{i}}-background-color",value:"black"},{name:"pie-{{i}}-background-size",value:"0%"},{name:"pie-{{i}}-background-opacity",value:1}].reduce(function(l,s){for(var c=1;c<=kn.pieBackgroundN;c++){var d=s.name.replace("{{i}}",c),f=s.value;l[d]=f}return l},{}),{"stripe-size":"100%","stripe-direction":"horizontal"},[{name:"stripe-{{i}}-background-color",value:"black"},{name:"stripe-{{i}}-background-size",value:"0%"},{name:"stripe-{{i}}-background-opacity",value:1}].reduce(function(l,s){for(var c=1;c<=kn.stripeBackgroundN;c++){var d=s.name.replace("{{i}}",c),f=s.value;l[d]=f}return l},{}),{"line-style":"solid","line-color":"#999","line-fill":"solid","line-cap":"butt","line-opacity":1,"line-outline-width":0,"line-outline-color":"#000","line-gradient-stop-colors":"#999","line-gradient-stop-positions":"0%","control-point-step-size":40,"control-point-weights":.5,"segment-weights":.5,"segment-distances":20,"segment-radii":15,"radius-type":"arc-radius","taxi-turn":"50%","taxi-radius":15,"taxi-turn-min-distance":10,"taxi-direction":"auto","edge-distances":"intersection","curve-style":"haystack","haystack-radius":0,"arrow-scale":1,"loop-direction":"-45deg","loop-sweep":"-90deg","source-distance-from-node":0,"target-distance-from-node":0,"source-endpoint":"outside-to-node","target-endpoint":"outside-to-node","line-dash-pattern":[6,3],"line-dash-offset":0},[{name:"arrow-shape",value:"none"},{name:"arrow-color",value:"#999"},{name:"arrow-fill",value:"filled"},{name:"arrow-width",value:1}].reduce(function(l,s){return kn.arrowPrefixes.forEach(function(c){var d=c+"-"+s.name,f=s.value;l[d]=f}),l},{})),u={},a=0;a<this.properties.length;a++){var r=this.properties[a];if(!r.pointsTo){var t=r.name,i=e[t],o=this.parse(t,i);u[t]=o}}return n.defaultProperties=u,n.defaultProperties};kn.addDefaultStylesheet=function(){this.selector(":parent").css({shape:"rectangle",padding:10,"background-color":"#eee","border-color":"#ccc","border-width":1}).selector("edge").css({width:3}).selector(":loop").css({"curve-style":"bezier"}).selector("edge:compound").css({"curve-style":"bezier","source-endpoint":"outside-to-line","target-endpoint":"outside-to-line"}).selector(":selected").css({"background-color":"#0169D9","line-color":"#0169D9","source-arrow-color":"#0169D9","target-arrow-color":"#0169D9","mid-source-arrow-color":"#0169D9","mid-target-arrow-color":"#0169D9"}).selector(":parent:selected").css({"background-color":"#CCE1F9","border-color":"#aec8e5"}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}),this.defaultLength=this.length};var WP={};WP.parse=function(n,e,u,a){var r=this;if(On(e))return r.parseImplWarn(n,e,u,a);var t=a==="mapping"||a===!0||a===!1||a==null?"dontcare":a,i=u?"t":"f",o=""+e,l=Xwe(n,o,i,t),s=r.propCache=r.propCache||[],c;return(c=s[l])||(c=s[l]=r.parseImplWarn(n,e,u,a)),(u||a==="mapping")&&(c=Uo(c),c&&(c.value=Uo(c.value))),c};WP.parseImplWarn=function(n,e,u,a){var r=this.parseImpl(n,e,u,a);return!r&&e!=null&&Lr("The style property `".concat(n,": ").concat(e,"` is invalid")),r&&(r.name==="width"||r.name==="height")&&e==="label"&&Lr("The style value of `label` is deprecated for `"+r.name+"`"),r};WP.parseImpl=function(n,e,u,a){var r=this;n=BH(n);var t=r.properties[n],i=e,o=r.types;if(!t||e===void 0)return null;t.alias&&(t=t.pointsTo,n=t.name);var l=Ct(e);l&&(e=e.trim());var s=t.type;if(!s)return null;if(u&&(e===""||e===null))return{name:n,value:e,bypass:!0,deleteBypass:!0};if(On(e))return{name:n,value:e,strValue:"fn",mapped:o.fn,bypass:u};var c,d;if(!(!l||a||e.length<7||e[1]!=="a")){if(e.length>=7&&e[0]==="d"&&(c=new RegExp(o.data.regex).exec(e))){if(u)return!1;var f=o.data;return{name:n,value:c,strValue:""+e,mapped:f,field:c[1],bypass:u}}else if(e.length>=10&&e[0]==="m"&&(d=new RegExp(o.mapData.regex).exec(e))){if(u||s.multiple)return!1;var p=o.mapData;if(!(s.color||s.number))return!1;var h=this.parse(n,d[4]);if(!h||h.mapped)return!1;var g=this.parse(n,d[5]);if(!g||g.mapped)return!1;if(h.pfValue===g.pfValue||h.strValue===g.strValue)return Lr("`"+n+": "+e+"` is not a valid mapper because the output range is zero; converting to `"+n+": "+h.strValue+"`"),this.parse(n,h.strValue);if(s.color){var _=h.value,m=g.value,w=_[0]===m[0]&&_[1]===m[1]&&_[2]===m[2]&&(_[3]===m[3]||(_[3]==null||_[3]===1)&&(m[3]==null||m[3]===1));if(w)return!1}return{name:n,value:d,strValue:""+e,mapped:p,field:d[1],fieldMin:parseFloat(d[2]),fieldMax:parseFloat(d[3]),valueMin:h.value,valueMax:g.value,bypass:u}}}if(s.multiple&&a!=="multiple"){var T;if(l?T=e.split(/\s+/):Wr(e)?T=e:T=[e],s.evenMultiple&&T.length%2!==0)return null;for(var E=[],S=[],N=[],j="",q=!1,O=0;O<T.length;O++){var I=r.parse(n,T[O],u,"multiple");q=q||Ct(I.value),E.push(I.value),N.push(I.pfValue!=null?I.pfValue:I.value),S.push(I.units),j+=(O>0?" ":"")+I.strValue}return s.validate&&!s.validate(E,S)?null:s.singleEnum&&q?E.length===1&&Ct(E[0])?{name:n,value:E[0],strValue:E[0],bypass:u}:null:{name:n,value:E,pfValue:N,strValue:j,bypass:u,units:S}}var A=function(){for(var be=0;be<s.enums.length;be++){var te=s.enums[be];if(te===e)return{name:n,value:e,strValue:""+e,bypass:u}}return null};if(s.number){var P,C="px";if(s.units&&(P=s.units),s.implicitUnits&&(C=s.implicitUnits),!s.unitless)if(l){var B="px|em"+(s.allowPercent?"|\\%":"");P&&(B=P);var V=e.match("^("+ea+")("+B+")?$");V&&(e=V[1],P=V[2]||C)}else(!P||s.implicitUnits)&&(P=C);if(e=parseFloat(e),isNaN(e)&&s.enums===void 0)return null;if(isNaN(e)&&s.enums!==void 0)return e=i,A();if(s.integer&&!Y7e(e)||s.min!==void 0&&(e<s.min||s.strictMin&&e===s.min)||s.max!==void 0&&(e>s.max||s.strictMax&&e===s.max))return null;var U={name:n,value:e,strValue:""+e+(P||""),units:P,bypass:u};return s.unitless||P!=="px"&&P!=="em"?U.pfValue=e:U.pfValue=P==="px"||!P?e:this.getEmSizeInPixels()*e,(P==="ms"||P==="s")&&(U.pfValue=P==="ms"?e:1e3*e),(P==="deg"||P==="rad")&&(U.pfValue=P==="rad"?e:sBe(e)),P==="%"&&(U.pfValue=e/100),U}else if(s.propList){var G=[],J=""+e;if(J!=="none"){for(var ne=J.split(/\s*,\s*|\s+/),W=0;W<ne.length;W++){var ee=ne[W].trim();r.properties[ee]?G.push(ee):Lr("`"+ee+"` is not a valid property name")}if(G.length===0)return null}return{name:n,value:G,strValue:G.length===0?"none":G.join(" "),bypass:u}}else if(s.color){var se=Qwe(e);return se?{name:n,value:se,pfValue:se,strValue:"rgb("+se[0]+","+se[1]+","+se[2]+")",bypass:u}:null}else if(s.regex||s.regexes){if(s.enums){var pe=A();if(pe)return pe}for(var le=s.regexes?s.regexes:[s.regex],Ee=0;Ee<le.length;Ee++){var Ae=new RegExp(le[Ee]),Ne=Ae.exec(e);if(Ne)return{name:n,value:s.singleRegexMatchValue?Ne[1]:Ne,strValue:""+e,bypass:u}}return null}else return s.string?{name:n,value:""+e,strValue:""+e,bypass:u}:s.enums?A():null};var la=function(e){if(!(this instanceof la))return new la(e);if(!qH(e)){_n("A style must have a core reference");return}this._private={cy:e,coreStyle:{}},this.length=0,this.resetToDefault()},Ba=la.prototype;Ba.instanceString=function(){return"style"};Ba.clear=function(){for(var n=this._private,e=n.cy,u=e.elements(),a=0;a<this.length;a++)this[a]=void 0;return this.length=0,n.contextStyles={},n.propDiffs={},this.cleanElements(u,!0),u.forEach(function(r){var t=r[0]._private;t.styleDirty=!0,t.appliedInitStyle=!1}),this};Ba.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this};Ba.core=function(n){return this._private.coreStyle[n]||this.getDefaultProperty(n)};Ba.selector=function(n){var e=n==="core"?null:new yl(n),u=this.length++;return this[u]={selector:e,properties:[],mappedProperties:[],index:u},this};Ba.css=function(){var n=this,e=arguments;if(e.length===1)for(var u=e[0],a=0;a<n.properties.length;a++){var r=n.properties[a],t=u[r.name];t===void 0&&(t=u[LP(r.name)]),t!==void 0&&this.cssRule(r.name,t)}else e.length===2&&this.cssRule(e[0],e[1]);return this};Ba.style=Ba.css;Ba.cssRule=function(n,e){var u=this.parse(n,e);if(u){var a=this.length-1;this[a].properties.push(u),this[a].properties[u.name]=u,u.name.match(/pie-(\d+)-background-size/)&&u.value&&(this._private.hasPie=!0),u.name.match(/stripe-(\d+)-background-size/)&&u.value&&(this._private.hasStripe=!0),u.mapped&&this[a].mappedProperties.push(u);var r=!this[a].selector;r&&(this._private.coreStyle[u.name]=u)}return this};Ba.append=function(n){return qwe(n)?n.appendToStyle(this):Wr(n)?this.appendFromJson(n):Ct(n)&&this.appendFromString(n),this};la.fromJson=function(n,e){var u=new la(n);return u.fromJson(e),u};la.fromString=function(n,e){return new la(n).fromString(e)};[da,gN,ek,Vo,JP,tk,kn,WP].forEach(function(n){Bt(Ba,n)});la.types=Ba.types;la.properties=Ba.properties;la.propertyGroups=Ba.propertyGroups;la.propertyGroupNames=Ba.propertyGroupNames;la.propertyGroupKeys=Ba.propertyGroupKeys;var fVe={style:function(e){if(e){var u=this.setStyle(e);u.update()}return this._private.style},setStyle:function(e){var u=this._private;return qwe(e)?u.style=e.generateStyle(this):Wr(e)?u.style=la.fromJson(this,e):Ct(e)?u.style=la.fromString(this,e):u.style=la(this),u.style},updateStyle:function(){this.mutableElements().updateStyle()}},pVe="single",fb={autolock:function(e){if(e!==void 0)this._private.autolock=!!e;else return this._private.autolock;return this},autoungrabify:function(e){if(e!==void 0)this._private.autoungrabify=!!e;else return this._private.autoungrabify;return this},autounselectify:function(e){if(e!==void 0)this._private.autounselectify=!!e;else return this._private.autounselectify;return this},selectionType:function(e){var u=this._private;if(u.selectionType==null&&(u.selectionType=pVe),e!==void 0)(e==="additive"||e==="single")&&(u.selectionType=e);else return u.selectionType;return this},panningEnabled:function(e){if(e!==void 0)this._private.panningEnabled=!!e;else return this._private.panningEnabled;return this},userPanningEnabled:function(e){if(e!==void 0)this._private.userPanningEnabled=!!e;else return this._private.userPanningEnabled;return this},zoomingEnabled:function(e){if(e!==void 0)this._private.zoomingEnabled=!!e;else return this._private.zoomingEnabled;return this},userZoomingEnabled:function(e){if(e!==void 0)this._private.userZoomingEnabled=!!e;else return this._private.userZoomingEnabled;return this},boxSelectionEnabled:function(e){if(e!==void 0)this._private.boxSelectionEnabled=!!e;else return this._private.boxSelectionEnabled;return this},pan:function(){var e=arguments,u=this._private.pan,a,r,t,i,o;switch(e.length){case 0:return u;case 1:if(Ct(e[0]))return a=e[0],u[a];if(Tr(e[0])){if(!this._private.panningEnabled)return this;t=e[0],i=t.x,o=t.y,At(i)&&(u.x=i),At(o)&&(u.y=o),this.emit("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;a=e[0],r=e[1],(a==="x"||a==="y")&&At(r)&&(u[a]=r),this.emit("pan viewport");break}return this.notify("viewport"),this},panBy:function(e,u){var a=arguments,r=this._private.pan,t,i,o,l,s;if(!this._private.panningEnabled)return this;switch(a.length){case 1:Tr(e)&&(o=a[0],l=o.x,s=o.y,At(l)&&(r.x+=l),At(s)&&(r.y+=s),this.emit("pan viewport"));break;case 2:t=e,i=u,(t==="x"||t==="y")&&At(i)&&(r[t]+=i),this.emit("pan viewport");break}return this.notify("viewport"),this},gc:function(){this.notify("gc")},fit:function(e,u){var a=this.getFitViewport(e,u);if(a){var r=this._private;r.zoom=a.zoom,r.pan=a.pan,this.emit("pan zoom viewport"),this.notify("viewport")}return this},getFitViewport:function(e,u){if(At(e)&&u===void 0&&(u=e,e=void 0),!(!this._private.panningEnabled||!this._private.zoomingEnabled)){var a;if(Ct(e)){var r=e;e=this.$(r)}else if(tqe(e)){var t=e;a={x1:t.x1,y1:t.y1,x2:t.x2,y2:t.y2},a.w=a.x2-a.x1,a.h=a.y2-a.y1}else Bi(e)||(e=this.mutableElements());if(!(Bi(e)&&e.empty())){a=a||e.boundingBox();var i=this.width(),o=this.height(),l;if(u=At(u)?u:0,!isNaN(i)&&!isNaN(o)&&i>0&&o>0&&!isNaN(a.w)&&!isNaN(a.h)&&a.w>0&&a.h>0){l=Math.min((i-2*u)/a.w,(o-2*u)/a.h),l=l>this._private.maxZoom?this._private.maxZoom:l,l=l<this._private.minZoom?this._private.minZoom:l;var s={x:(i-l*(a.x1+a.x2))/2,y:(o-l*(a.y1+a.y2))/2};return{zoom:l,pan:s}}}}},zoomRange:function(e,u){var a=this._private;if(u==null){var r=e;e=r.min,u=r.max}return At(e)&&At(u)&&e<=u?(a.minZoom=e,a.maxZoom=u):At(e)&&u===void 0&&e<=a.maxZoom?a.minZoom=e:At(u)&&e===void 0&&u>=a.minZoom&&(a.maxZoom=u),this},minZoom:function(e){return e===void 0?this._private.minZoom:this.zoomRange({min:e})},maxZoom:function(e){return e===void 0?this._private.maxZoom:this.zoomRange({max:e})},getZoomedViewport:function(e){var u=this._private,a=u.pan,r=u.zoom,t,i,o=!1;if(u.zoomingEnabled||(o=!0),At(e)?i=e:Tr(e)&&(i=e.level,e.position!=null?t=UP(e.position,r,a):e.renderedPosition!=null&&(t=e.renderedPosition),t!=null&&!u.panningEnabled&&(o=!0)),i=i>u.maxZoom?u.maxZoom:i,i=i<u.minZoom?u.minZoom:i,o||!At(i)||i===r||t!=null&&(!At(t.x)||!At(t.y)))return null;if(t!=null){var l=a,s=r,c=i,d={x:-c/s*(t.x-l.x)+t.x,y:-c/s*(t.y-l.y)+t.y};return{zoomed:!0,panned:!0,zoom:c,pan:d}}else return{zoomed:!0,panned:!1,zoom:i,pan:a}},zoom:function(e){if(e===void 0)return this._private.zoom;var u=this.getZoomedViewport(e),a=this._private;return u==null||!u.zoomed?this:(a.zoom=u.zoom,u.panned&&(a.pan.x=u.pan.x,a.pan.y=u.pan.y),this.emit("zoom"+(u.panned?" pan":"")+" viewport"),this.notify("viewport"),this)},viewport:function(e){var u=this._private,a=!0,r=!0,t=[],i=!1,o=!1;if(!e)return this;if(At(e.zoom)||(a=!1),Tr(e.pan)||(r=!1),!a&&!r)return this;if(a){var l=e.zoom;l<u.minZoom||l>u.maxZoom||!u.zoomingEnabled?i=!0:(u.zoom=l,t.push("zoom"))}if(r&&(!i||!e.cancelOnFailedZoom)&&u.panningEnabled){var s=e.pan;At(s.x)&&(u.pan.x=s.x,o=!1),At(s.y)&&(u.pan.y=s.y,o=!1),o||t.push("pan")}return t.length>0&&(t.push("viewport"),this.emit(t.join(" ")),this.notify("viewport")),this},center:function(e){var u=this.getCenterPan(e);return u&&(this._private.pan=u,this.emit("pan viewport"),this.notify("viewport")),this},getCenterPan:function(e,u){if(this._private.panningEnabled){if(Ct(e)){var a=e;e=this.mutableElements().filter(a)}else Bi(e)||(e=this.mutableElements());if(e.length!==0){var r=e.boundingBox(),t=this.width(),i=this.height();u=u===void 0?this._private.zoom:u;var o={x:(t-u*(r.x1+r.x2))/2,y:(i-u*(r.y1+r.y2))/2};return o}}},reset:function(){return!this._private.panningEnabled||!this._private.zoomingEnabled?this:(this.viewport({pan:{x:0,y:0},zoom:1}),this)},invalidateSize:function(){this._private.sizeCache=null},size:function(){var e=this._private,u=e.container,a=this;return e.sizeCache=e.sizeCache||(u?(function(){var r=a.window().getComputedStyle(u),t=function(o){return parseFloat(r.getPropertyValue(o))};return{width:u.clientWidth-t("padding-left")-t("padding-right"),height:u.clientHeight-t("padding-top")-t("padding-bottom")}})():{width:1,height:1})},width:function(){return this.size().width},height:function(){return this.size().height},extent:function(){var e=this._private.pan,u=this._private.zoom,a=this.renderedExtent(),r={x1:(a.x1-e.x)/u,x2:(a.x2-e.x)/u,y1:(a.y1-e.y)/u,y2:(a.y2-e.y)/u};return r.w=r.x2-r.x1,r.h=r.y2-r.y1,r},renderedExtent:function(){var e=this.width(),u=this.height();return{x1:0,y1:0,x2:e,y2:u,w:e,h:u}},multiClickDebounceTime:function(e){if(e)this._private.multiClickDebounceTime=e;else return this._private.multiClickDebounceTime;return this}};fb.centre=fb.center;fb.autolockNodes=fb.autolock;fb.autoungrabifyNodes=fb.autoungrabify;var O4={data:Cr.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeData:Cr.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),scratch:Cr.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:Cr.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0})};O4.attr=O4.data;O4.removeAttr=O4.removeData;var x4=function(e){var u=this;e=Bt({},e);var a=e.container;a&&!FF(a)&&FF(a[0])&&(a=a[0]);var r=a?a._cyreg:null;r=r||{},r&&r.cy&&(r.cy.destroy(),r={});var t=r.readies=r.readies||[];a&&(a._cyreg=r),r.cy=u;var i=Zn!==void 0&&a!==void 0&&!e.headless,o=e;o.layout=Bt({name:i?"grid":"null"},o.layout),o.renderer=Bt({name:i?"canvas":"null"},o.renderer);var l=function(h,g,_){return g!==void 0?g:_!==void 0?_:h},s=this._private={container:a,ready:!1,options:o,elements:new Oa(this),listeners:[],aniEles:new Oa(this),data:o.data||{},scratch:{},layout:null,renderer:null,destroyed:!1,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:l(!0,o.zoomingEnabled),userZoomingEnabled:l(!0,o.userZoomingEnabled),panningEnabled:l(!0,o.panningEnabled),userPanningEnabled:l(!0,o.userPanningEnabled),boxSelectionEnabled:l(!0,o.boxSelectionEnabled),autolock:l(!1,o.autolock,o.autolockNodes),autoungrabify:l(!1,o.autoungrabify,o.autoungrabifyNodes),autounselectify:l(!1,o.autounselectify),styleEnabled:o.styleEnabled===void 0?i:o.styleEnabled,zoom:At(o.zoom)?o.zoom:1,pan:{x:Tr(o.pan)&&At(o.pan.x)?o.pan.x:0,y:Tr(o.pan)&&At(o.pan.y)?o.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1,multiClickDebounceTime:l(250,o.multiClickDebounceTime)};this.createEmitter(),this.selectionType(o.selectionType),this.zoomRange({min:o.minZoom,max:o.maxZoom});var c=function(h,g){var _=h.some(rqe);if(_)return I1.all(h).then(g);g(h)};s.styleEnabled&&u.setStyle([]);var d=Bt({},o,o.renderer);u.initRenderer(d);var f=function(h,g,_){u.notifications(!1);var m=u.mutableElements();m.length>0&&m.remove(),h!=null&&(Tr(h)||Wr(h))&&u.add(h),u.one("layoutready",function(T){u.notifications(!0),u.emit(T),u.one("load",g),u.emitAndNotify("load")}).one("layoutstop",function(){u.one("done",_),u.emit("done")});var w=Bt({},u._private.options.layout);w.eles=u.elements(),u.layout(w).run()};c([o.style,o.elements],function(p){var h=p[0],g=p[1];s.styleEnabled&&u.style().append(h),f(g,function(){u.startAnimationLoop(),s.ready=!0,On(o.ready)&&u.on("ready",o.ready);for(var _=0;_<t.length;_++){var m=t[_];u.on("ready",m)}r&&(r.readies=[]),u.emit("ready")},o.done)})},BF=x4.prototype;Bt(BF,{instanceString:function(){return"core"},isReady:function(){return this._private.ready},destroyed:function(){return this._private.destroyed},ready:function(e){return this.isReady()?this.emitter().emit("ready",[],e):this.on("ready",e),this},destroy:function(){var e=this;if(!e.destroyed())return e.stopAnimationLoop(),e.destroyRenderer(),this.emit("destroy"),e._private.destroyed=!0,e},hasElementWithId:function(e){return this._private.elements.hasElementWithId(e)},getElementById:function(e){return this._private.elements.getElementById(e)},hasCompoundNodes:function(){return this._private.hasCompoundNodes},headless:function(){return this._private.renderer.isHeadless()},styleEnabled:function(){return this._private.styleEnabled},addToPool:function(e){return this._private.elements.merge(e),this},removeFromPool:function(e){return this._private.elements.unmerge(e),this},container:function(){return this._private.container||null},window:function(){var e=this._private.container;if(e==null)return Zn;var u=this._private.container.ownerDocument;return u===void 0||u==null?Zn:u.defaultView||Zn},mount:function(e){if(e!=null){var u=this,a=u._private,r=a.options;return!FF(e)&&FF(e[0])&&(e=e[0]),u.stopAnimationLoop(),u.destroyRenderer(),a.container=e,a.styleEnabled=!0,u.invalidateSize(),u.initRenderer(Bt({},r,r.renderer,{name:r.renderer.name==="null"?"canvas":r.renderer.name})),u.startAnimationLoop(),u.style(r.style),u.emit("mount"),u}},unmount:function(){var e=this;return e.stopAnimationLoop(),e.destroyRenderer(),e.initRenderer({name:"null"}),e.emit("unmount"),e},options:function(){return Uo(this._private.options)},json:function(e){var u=this,a=u._private,r=u.mutableElements(),t=function(E){return u.getElementById(E.id())};if(Tr(e)){if(u.startBatch(),e.elements){var i={},o=function(E,S){for(var N=[],j=[],q=0;q<E.length;q++){var O=E[q];if(!O.data.id){Lr("cy.json() cannot handle elements without an ID attribute");continue}var I=""+O.data.id,A=u.getElementById(I);i[I]=!0,A.length!==0?j.push({ele:A,json:O}):(S&&(O.group=S),N.push(O))}u.add(N);for(var P=0;P<j.length;P++){var C=j[P],B=C.ele,V=C.json;B.json(V)}};if(Wr(e.elements))o(e.elements);else for(var l=["nodes","edges"],s=0;s<l.length;s++){var c=l[s],d=e.elements[c];Wr(d)&&o(d,c)}var f=u.collection();r.filter(function(T){return!i[T.id()]}).forEach(function(T){T.isParent()?f.merge(T):T.remove()}),f.forEach(function(T){return T.children().move({parent:null})}),f.forEach(function(T){return t(T).remove()})}e.style&&u.style(e.style),e.zoom!=null&&e.zoom!==a.zoom&&u.zoom(e.zoom),e.pan&&(e.pan.x!==a.pan.x||e.pan.y!==a.pan.y)&&u.pan(e.pan),e.data&&u.data(e.data);for(var p=["minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","boxSelectionEnabled","autolock","autoungrabify","autounselectify","multiClickDebounceTime"],h=0;h<p.length;h++){var g=p[h];e[g]!=null&&u[g](e[g])}return u.endBatch(),this}else{var _=!!e,m={};_?m.elements=this.elements().map(function(T){return T.json()}):(m.elements={},r.forEach(function(T){var E=T.group();m.elements[E]||(m.elements[E]=[]),m.elements[E].push(T.json())})),this._private.styleEnabled&&(m.style=u.style().json()),m.data=Uo(u.data());var w=a.options;return m.zoomingEnabled=a.zoomingEnabled,m.userZoomingEnabled=a.userZoomingEnabled,m.zoom=a.zoom,m.minZoom=a.minZoom,m.maxZoom=a.maxZoom,m.panningEnabled=a.panningEnabled,m.userPanningEnabled=a.userPanningEnabled,m.pan=Uo(a.pan),m.boxSelectionEnabled=a.boxSelectionEnabled,m.renderer=Uo(w.renderer),m.hideEdgesOnViewport=w.hideEdgesOnViewport,m.textureOnViewport=w.textureOnViewport,m.wheelSensitivity=w.wheelSensitivity,m.motionBlur=w.motionBlur,m.multiClickDebounceTime=w.multiClickDebounceTime,m}}});BF.$id=BF.getElementById;[rVe,oVe,qSe,R7,bF,cVe,N7,gF,fVe,fb,O4].forEach(function(n){Bt(BF,n)});var hVe={fit:!0,directed:!1,direction:"downward",padding:30,circle:!1,grid:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,roots:void 0,depthSort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,u){return!0},ready:void 0,stop:void 0,transform:function(e,u){return u}},yVe={maximal:!1,acyclic:!1},Og=function(e){return e.scratch("breadthfirst")},B1e=function(e,u){return e.scratch("breadthfirst",u)};function BSe(n){this.options=Bt({},hVe,yVe,n)}BSe.prototype.run=function(){var n=this.options,e=n.cy,u=n.eles,a=u.nodes().filter(function(ae){return ae.isChildless()}),r=u,t=n.directed,i=n.acyclic||n.maximal||n.maximalAdjustments>0,o=!!n.boundingBox,l=ei(o?n.boundingBox:structuredClone(e.extent())),s;if(Bi(n.roots))s=n.roots;else if(Wr(n.roots)){for(var c=[],d=0;d<n.roots.length;d++){var f=n.roots[d],p=e.getElementById(f);c.push(p)}s=e.collection(c)}else if(Ct(n.roots))s=e.$(n.roots);else if(t)s=a.roots();else{var h=u.components();s=e.collection();for(var g=function(){var ce=h[_],Se=ce.maxDegree(!1),xe=ce.filter(function(Ce){return Ce.degree(!1)===Se});s=s.add(xe)},_=0;_<h.length;_++)g()}var m=[],w={},T=function(ce,Se){m[Se]==null&&(m[Se]=[]);var xe=m[Se].length;m[Se].push(ce),B1e(ce,{index:xe,depth:Se})},E=function(ce,Se){var xe=Og(ce),Ce=xe.depth,He=xe.index;m[Ce][He]=null,ce.isChildless()&&T(ce,Se)};r.bfs({roots:s,directed:n.directed,visit:function(ce,Se,xe,Ce,He){var Je=ce[0],Ye=Je.id();Je.isChildless()&&T(Je,He),w[Ye]=!0}});for(var S=[],N=0;N<a.length;N++){var j=a[N];w[j.id()]||S.push(j)}var q=function(ce){for(var Se=m[ce],xe=0;xe<Se.length;xe++){var Ce=Se[xe];if(Ce==null){Se.splice(xe,1),xe--;continue}B1e(Ce,{depth:ce,index:xe})}},O=function(ce,Se){for(var xe=Og(ce),Ce=ce.incomers().filter(function(he){return he.isNode()&&u.has(he)}),He=-1,Je=ce.id(),Ye=0;Ye<Ce.length;Ye++){var oe=Ce[Ye],X=Og(oe);He=Math.max(He,X.depth)}if(xe.depth<=He){if(!n.acyclic&&Se[Je])return null;var Y=He+1;return E(ce,Y),Se[Je]=Y,!0}return!1};if(t&&i){var I=[],A={},P=function(ce){return I.push(ce)},C=function(){return I.shift()};for(a.forEach(function(ae){return I.push(ae)});I.length>0;){var B=C(),V=O(B,A);if(V)B.outgoers().filter(function(ae){return ae.isNode()&&u.has(ae)}).forEach(P);else if(V===null){Lr("Detected double maximal shift for node `"+B.id()+"`.  Bailing maximal adjustment due to cycle.  Use `options.maximal: true` only on DAGs.");break}}}var U=0;if(n.avoidOverlap)for(var G=0;G<a.length;G++){var J=a[G],ne=J.layoutDimensions(n),W=ne.w,ee=ne.h;U=Math.max(U,W,ee)}var se={},pe=function(ce){if(se[ce.id()])return se[ce.id()];for(var Se=Og(ce).depth,xe=ce.neighborhood(),Ce=0,He=0,Je=0;Je<xe.length;Je++){var Ye=xe[Je];if(!(Ye.isEdge()||Ye.isParent()||!a.has(Ye))){var oe=Og(Ye);if(oe!=null){var X=oe.index,Y=oe.depth;if(!(X==null||Y==null)){var he=m[Y].length;Y<Se&&(Ce+=X/he,He++)}}}}return He=Math.max(1,He),Ce=Ce/He,He===0&&(Ce=0),se[ce.id()]=Ce,Ce},le=function(ce,Se){var xe=pe(ce),Ce=pe(Se),He=xe-Ce;return He===0?Uwe(ce.id(),Se.id()):He};n.depthSort!==void 0&&(le=n.depthSort);for(var Ee=m.length,Ae=0;Ae<Ee;Ae++)m[Ae].sort(le),q(Ae);for(var Ne=[],Oe=0;Oe<S.length;Oe++)Ne.push(S[Oe]);var be=function(){for(var ce=0;ce<Ee;ce++)q(ce)};Ne.length&&(m.unshift(Ne),Ee=m.length,be());for(var te=0,v=0;v<Ee;v++)te=Math.max(m[v].length,te);var F={x:l.x1+l.w/2,y:l.y1+l.h/2},D=a.reduce(function(ae,ce){return(function(Se){return{w:ae.w===-1?Se.w:(ae.w+Se.w)/2,h:ae.h===-1?Se.h:(ae.h+Se.h)/2}})(ce.boundingBox({includeLabels:n.nodeDimensionsIncludeLabels}))},{w:-1,h:-1}),L=Math.max(Ee===1?0:o?(l.h-n.padding*2-D.h)/(Ee-1):(l.h-n.padding*2-D.h)/(Ee+1),U),H=m.reduce(function(ae,ce){return Math.max(ae,ce.length)},0),Z=function(ce){var Se=Og(ce),xe=Se.depth,Ce=Se.index;if(n.circle){var He=Math.min(l.w/2/Ee,l.h/2/Ee);He=Math.max(He,U);var Je=He*xe+He-(Ee>0&&m[0].length<=3?He/2:0),Ye=2*Math.PI/m[xe].length*Ce;return xe===0&&m[0].length===1&&(Je=1),{x:F.x+Je*Math.cos(Ye),y:F.y+Je*Math.sin(Ye)}}else{var oe=m[xe].length,X=Math.max(oe===1?0:o?(l.w-n.padding*2-D.w)/((n.grid?H:oe)-1):(l.w-n.padding*2-D.w)/((n.grid?H:oe)+1),U),Y={x:F.x+(Ce+1-(oe+1)/2)*X,y:F.y+(xe+1-(Ee+1)/2)*L};return Y}},$={downward:0,leftward:90,upward:180,rightward:-90};Object.keys($).indexOf(n.direction)===-1&&_n("Invalid direction '".concat(n.direction,"' specified for breadthfirst layout. Valid values are: ").concat(Object.keys($).join(", ")));var ue=function(ce){return Dqe(Z(ce),l,$[n.direction])};return u.nodes().layoutPositions(this,n,ue),this};var mVe={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,radius:void 0,startAngle:3/2*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,u){return!0},ready:void 0,stop:void 0,transform:function(e,u){return u}};function USe(n){this.options=Bt({},mVe,n)}USe.prototype.run=function(){var n=this.options,e=n,u=n.cy,a=e.eles,r=e.counterclockwise!==void 0?!e.counterclockwise:e.clockwise,t=a.nodes().not(":parent");e.sort&&(t=t.sort(e.sort));for(var i=ei(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:u.width(),h:u.height()}),o={x:i.x1+i.w/2,y:i.y1+i.h/2},l=e.sweep===void 0?2*Math.PI-2*Math.PI/t.length:e.sweep,s=l/Math.max(1,t.length-1),c,d=0,f=0;f<t.length;f++){var p=t[f],h=p.layoutDimensions(e),g=h.w,_=h.h;d=Math.max(d,g,_)}if(At(e.radius)?c=e.radius:t.length<=1?c=0:c=Math.min(i.h,i.w)/2-d,t.length>1&&e.avoidOverlap){d*=1.75;var m=Math.cos(s)-Math.cos(0),w=Math.sin(s)-Math.sin(0),T=Math.sqrt(d*d/(m*m+w*w));c=Math.max(T,c)}var E=function(N,j){var q=e.startAngle+j*s*(r?1:-1),O=c*Math.cos(q),I=c*Math.sin(q),A={x:o.x+O,y:o.y+I};return A};return a.nodes().layoutPositions(this,e,E),this};var bVe={fit:!0,padding:30,startAngle:3/2*Math.PI,sweep:void 0,clockwise:!0,equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,height:void 0,width:void 0,spacingFactor:void 0,concentric:function(e){return e.degree()},levelWidth:function(e){return e.maxDegree()/4},animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,u){return!0},ready:void 0,stop:void 0,transform:function(e,u){return u}};function QSe(n){this.options=Bt({},bVe,n)}QSe.prototype.run=function(){for(var n=this.options,e=n,u=e.counterclockwise!==void 0?!e.counterclockwise:e.clockwise,a=n.cy,r=e.eles,t=r.nodes().not(":parent"),i=ei(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:a.width(),h:a.height()}),o={x:i.x1+i.w/2,y:i.y1+i.h/2},l=[],s=0,c=0;c<t.length;c++){var d=t[c],f=void 0;f=e.concentric(d),l.push({value:f,node:d}),d._private.scratch.concentric=f}t.updateStyle();for(var p=0;p<t.length;p++){var h=t[p],g=h.layoutDimensions(e);s=Math.max(s,g.w,g.h)}l.sort(function(L,H){return H.value-L.value});for(var _=e.levelWidth(t),m=[[]],w=m[0],T=0;T<l.length;T++){var E=l[T];if(w.length>0){var S=Math.abs(w[0].value-E.value);S>=_&&(w=[],m.push(w))}w.push(E)}var N=s+e.minNodeSpacing;if(!e.avoidOverlap){var j=m.length>0&&m[0].length>1,q=Math.min(i.w,i.h)/2-N,O=q/(m.length+j?1:0);N=Math.min(N,O)}for(var I=0,A=0;A<m.length;A++){var P=m[A],C=e.sweep===void 0?2*Math.PI-2*Math.PI/P.length:e.sweep,B=P.dTheta=C/Math.max(1,P.length-1);if(P.length>1&&e.avoidOverlap){var V=Math.cos(B)-Math.cos(0),U=Math.sin(B)-Math.sin(0),G=Math.sqrt(N*N/(V*V+U*U));I=Math.max(G,I)}P.r=I,I+=N}if(e.equidistant){for(var J=0,ne=0,W=0;W<m.length;W++){var ee=m[W],se=ee.r-ne;J=Math.max(J,se)}ne=0;for(var pe=0;pe<m.length;pe++){var le=m[pe];pe===0&&(ne=le.r),le.r=ne,ne+=J}}for(var Ee={},Ae=0;Ae<m.length;Ae++)for(var Ne=m[Ae],Oe=Ne.dTheta,be=Ne.r,te=0;te<Ne.length;te++){var v=Ne[te],F=e.startAngle+(u?1:-1)*Oe*te,D={x:o.x+be*Math.cos(F),y:o.y+be*Math.sin(F)};Ee[v.node.id()]=D}return r.nodes().layoutPositions(this,e,function(L){var H=L.id();return Ee[H]}),this};var LL,gVe={ready:function(){},stop:function(){},animate:!0,animationEasing:void 0,animationDuration:void 0,animateFilter:function(e,u){return!0},animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,randomize:!1,componentSpacing:40,nodeRepulsion:function(e){return 2048},nodeOverlap:4,idealEdgeLength:function(e){return 32},edgeElasticity:function(e){return 32},nestingFactor:1.2,gravity:1,numIter:1e3,initialTemp:1e3,coolingFactor:.99,minTemp:1};function YP(n){this.options=Bt({},gVe,n),this.options.layout=this;var e=this.options.eles.nodes(),u=this.options.eles.edges(),a=u.filter(function(r){var t=r.source().data("id"),i=r.target().data("id"),o=e.some(function(s){return s.data("id")===t}),l=e.some(function(s){return s.data("id")===i});return!o||!l});this.options.eles=this.options.eles.not(a)}YP.prototype.run=function(){var n=this.options,e=n.cy,u=this;u.stopped=!1,(n.animate===!0||n.animate===!1)&&u.emit({type:"layoutstart",layout:u}),n.debug===!0?LL=!0:LL=!1;var a=vVe(e,u,n);LL&&TVe(a),n.randomize&&wVe(a);var r=tc(),t=function(){SVe(a,e,n),n.fit===!0&&e.fit(n.padding)},i=function(f){return!(u.stopped||f>=n.numIter||(EVe(a,n),a.temperature=a.temperature*n.coolingFactor,a.temperature<n.minTemp))},o=function(){if(n.animate===!0||n.animate===!1)t(),u.one("layoutstop",n.stop),u.emit({type:"layoutstop",layout:u});else{var f=n.eles.nodes(),p=HSe(a,n,f);f.layoutPositions(u,n,p)}},l=0,s=!0;if(n.animate===!0){var c=function(){for(var f=0;s&&f<n.refresh;)s=i(l),l++,f++;if(!s)Q1e(a,n),o();else{var p=tc();p-r>=n.animationThreshold&&t(),PF(c)}};c()}else{for(;s;)s=i(l),l++;Q1e(a,n),o()}return this};YP.prototype.stop=function(){return this.stopped=!0,this.thread&&this.thread.stop(),this.emit("layoutstop"),this};YP.prototype.destroy=function(){return this.thread&&this.thread.stop(),this};var vVe=function(e,u,a){for(var r=a.eles.edges(),t=a.eles.nodes(),i=ei(a.boundingBox?a.boundingBox:{x1:0,y1:0,w:e.width(),h:e.height()}),o={isCompound:e.hasCompoundNodes(),layoutNodes:[],idToIndex:{},nodeSize:t.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:r.size(),temperature:a.initialTemp,clientWidth:i.w,clientHeight:i.h,boundingBox:i},l=a.eles.components(),s={},c=0;c<l.length;c++)for(var d=l[c],f=0;f<d.length;f++){var p=d[f];s[p.id()]=c}for(var c=0;c<o.nodeSize;c++){var h=t[c],g=h.layoutDimensions(a),_={};_.isLocked=h.locked(),_.id=h.data("id"),_.parentId=h.data("parent"),_.cmptId=s[h.id()],_.children=[],_.positionX=h.position("x"),_.positionY=h.position("y"),_.offsetX=0,_.offsetY=0,_.height=g.w,_.width=g.h,_.maxX=_.positionX+_.width/2,_.minX=_.positionX-_.width/2,_.maxY=_.positionY+_.height/2,_.minY=_.positionY-_.height/2,_.padLeft=parseFloat(h.style("padding")),_.padRight=parseFloat(h.style("padding")),_.padTop=parseFloat(h.style("padding")),_.padBottom=parseFloat(h.style("padding")),_.nodeRepulsion=On(a.nodeRepulsion)?a.nodeRepulsion(h):a.nodeRepulsion,o.layoutNodes.push(_),o.idToIndex[_.id]=c}for(var m=[],w=0,T=-1,E=[],c=0;c<o.nodeSize;c++){var h=o.layoutNodes[c],S=h.parentId;S!=null?o.layoutNodes[o.idToIndex[S]].children.push(h.id):(m[++T]=h.id,E.push(h.id))}for(o.graphSet.push(E);w<=T;){var N=m[w++],j=o.idToIndex[N],p=o.layoutNodes[j],q=p.children;if(q.length>0){o.graphSet.push(q);for(var c=0;c<q.length;c++)m[++T]=q[c]}}for(var c=0;c<o.graphSet.length;c++)for(var O=o.graphSet[c],f=0;f<O.length;f++){var I=o.idToIndex[O[f]];o.indexToGraph[I]=c}for(var c=0;c<o.edgeSize;c++){var A=r[c],P={};P.id=A.data("id"),P.sourceId=A.data("source"),P.targetId=A.data("target");var C=On(a.idealEdgeLength)?a.idealEdgeLength(A):a.idealEdgeLength,B=On(a.edgeElasticity)?a.edgeElasticity(A):a.edgeElasticity,V=o.idToIndex[P.sourceId],U=o.idToIndex[P.targetId],G=o.indexToGraph[V],J=o.indexToGraph[U];if(G!=J){for(var ne=_Ve(P.sourceId,P.targetId,o),W=o.graphSet[ne],ee=0,_=o.layoutNodes[V];W.indexOf(_.id)===-1;)_=o.layoutNodes[o.idToIndex[_.parentId]],ee++;for(_=o.layoutNodes[U];W.indexOf(_.id)===-1;)_=o.layoutNodes[o.idToIndex[_.parentId]],ee++;C*=ee*a.nestingFactor}P.idealLength=C,P.elasticity=B,o.layoutEdges.push(P)}return o},_Ve=function(e,u,a){var r=VSe(e,u,0,a);return 2>r.count?0:r.graph},VSe=function(e,u,a,r){var t=r.graphSet[a];if(-1<t.indexOf(e)&&-1<t.indexOf(u))return{count:2,graph:a};for(var i=0,o=0;o<t.length;o++){var l=t[o],s=r.idToIndex[l],c=r.layoutNodes[s].children;if(c.length!==0){var d=r.indexToGraph[r.idToIndex[c[0]]],f=VSe(e,u,d,r);if(f.count!==0)if(f.count===1){if(i++,i===2)break}else return f}}return{count:i,graph:a}},TVe,wVe=function(e,u){for(var a=e.clientWidth,r=e.clientHeight,t=0;t<e.nodeSize;t++){var i=e.layoutNodes[t];i.children.length===0&&!i.isLocked&&(i.positionX=Math.random()*a,i.positionY=Math.random()*r)}},HSe=function(e,u,a){var r=e.boundingBox,t={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0};return u.boundingBox&&(a.forEach(function(i){var o=e.layoutNodes[e.idToIndex[i.data("id")]];t.x1=Math.min(t.x1,o.positionX),t.x2=Math.max(t.x2,o.positionX),t.y1=Math.min(t.y1,o.positionY),t.y2=Math.max(t.y2,o.positionY)}),t.w=t.x2-t.x1,t.h=t.y2-t.y1),function(i,o){var l=e.layoutNodes[e.idToIndex[i.data("id")]];if(u.boundingBox){var s=t.w===0?.5:(l.positionX-t.x1)/t.w,c=t.h===0?.5:(l.positionY-t.y1)/t.h;return{x:r.x1+s*r.w,y:r.y1+c*r.h}}else return{x:l.positionX,y:l.positionY}}},SVe=function(e,u,a){var r=a.layout,t=a.eles.nodes(),i=HSe(e,a,t);t.positions(i),e.ready!==!0&&(e.ready=!0,r.one("layoutready",a.ready),r.emit({type:"layoutready",layout:this}))},EVe=function(e,u,a){AVe(e,u),RVe(e),NVe(e,u),IVe(e),DVe(e)},AVe=function(e,u){for(var a=0;a<e.graphSet.length;a++)for(var r=e.graphSet[a],t=r.length,i=0;i<t;i++)for(var o=e.layoutNodes[e.idToIndex[r[i]]],l=i+1;l<t;l++){var s=e.layoutNodes[e.idToIndex[r[l]]];OVe(o,s,e,u)}},U1e=function(e){return-1+2*e*Math.random()},OVe=function(e,u,a,r){var t=e.cmptId,i=u.cmptId;if(!(t!==i&&!a.isCompound)){var o=u.positionX-e.positionX,l=u.positionY-e.positionY,s=1;o===0&&l===0&&(o=U1e(s),l=U1e(s));var c=xVe(e,u,o,l);if(c>0)var d=r.nodeOverlap*c,f=Math.sqrt(o*o+l*l),p=d*o/f,h=d*l/f;else var g=UF(e,o,l),_=UF(u,-1*o,-1*l),m=_.x-g.x,w=_.y-g.y,T=m*m+w*w,f=Math.sqrt(T),d=(e.nodeRepulsion+u.nodeRepulsion)/T,p=d*m/f,h=d*w/f;e.isLocked||(e.offsetX-=p,e.offsetY-=h),u.isLocked||(u.offsetX+=p,u.offsetY+=h)}},xVe=function(e,u,a,r){if(a>0)var t=e.maxX-u.minX;else var t=u.maxX-e.minX;if(r>0)var i=e.maxY-u.minY;else var i=u.maxY-e.minY;return t>=0&&i>=0?Math.sqrt(t*t+i*i):0},UF=function(e,u,a){var r=e.positionX,t=e.positionY,i=e.height||1,o=e.width||1,l=a/u,s=i/o,c={};return u===0&&0<a||u===0&&0>a?(c.x=r,c.y=t+i/2,c):0<u&&-1*s<=l&&l<=s?(c.x=r+o/2,c.y=t+o*a/2/u,c):0>u&&-1*s<=l&&l<=s?(c.x=r-o/2,c.y=t-o*a/2/u,c):0<a&&(l<=-1*s||l>=s)?(c.x=r+i*u/2/a,c.y=t+i/2,c):(0>a&&(l<=-1*s||l>=s)&&(c.x=r-i*u/2/a,c.y=t-i/2),c)},RVe=function(e,u){for(var a=0;a<e.edgeSize;a++){var r=e.layoutEdges[a],t=e.idToIndex[r.sourceId],i=e.layoutNodes[t],o=e.idToIndex[r.targetId],l=e.layoutNodes[o],s=l.positionX-i.positionX,c=l.positionY-i.positionY;if(!(s===0&&c===0)){var d=UF(i,s,c),f=UF(l,-1*s,-1*c),p=f.x-d.x,h=f.y-d.y,g=Math.sqrt(p*p+h*h),_=Math.pow(r.idealLength-g,2)/r.elasticity;if(g!==0)var m=_*p/g,w=_*h/g;else var m=0,w=0;i.isLocked||(i.offsetX+=m,i.offsetY+=w),l.isLocked||(l.offsetX-=m,l.offsetY-=w)}}},NVe=function(e,u){if(u.gravity!==0)for(var a=1,r=0;r<e.graphSet.length;r++){var t=e.graphSet[r],i=t.length;if(r===0)var o=e.clientHeight/2,l=e.clientWidth/2;else var s=e.layoutNodes[e.idToIndex[t[0]]],c=e.layoutNodes[e.idToIndex[s.parentId]],o=c.positionX,l=c.positionY;for(var d=0;d<i;d++){var f=e.layoutNodes[e.idToIndex[t[d]]];if(!f.isLocked){var p=o-f.positionX,h=l-f.positionY,g=Math.sqrt(p*p+h*h);if(g>a){var _=u.gravity*p/g,m=u.gravity*h/g;f.offsetX+=_,f.offsetY+=m}}}}},IVe=function(e,u){var a=[],r=0,t=-1;for(a.push.apply(a,e.graphSet[0]),t+=e.graphSet[0].length;r<=t;){var i=a[r++],o=e.idToIndex[i],l=e.layoutNodes[o],s=l.children;if(0<s.length&&!l.isLocked){for(var c=l.offsetX,d=l.offsetY,f=0;f<s.length;f++){var p=e.layoutNodes[e.idToIndex[s[f]]];p.offsetX+=c,p.offsetY+=d,a[++t]=s[f]}l.offsetX=0,l.offsetY=0}}},DVe=function(e,u){for(var a=0;a<e.nodeSize;a++){var r=e.layoutNodes[a];0<r.children.length&&(r.maxX=void 0,r.minX=void 0,r.maxY=void 0,r.minY=void 0)}for(var a=0;a<e.nodeSize;a++){var r=e.layoutNodes[a];if(!(0<r.children.length||r.isLocked)){var t=FVe(r.offsetX,r.offsetY,e.temperature);r.positionX+=t.x,r.positionY+=t.y,r.offsetX=0,r.offsetY=0,r.minX=r.positionX-r.width,r.maxX=r.positionX+r.width,r.minY=r.positionY-r.height,r.maxY=r.positionY+r.height,kSe(r,e)}}for(var a=0;a<e.nodeSize;a++){var r=e.layoutNodes[a];0<r.children.length&&!r.isLocked&&(r.positionX=(r.maxX+r.minX)/2,r.positionY=(r.maxY+r.minY)/2,r.width=r.maxX-r.minX,r.height=r.maxY-r.minY)}},FVe=function(e,u,a){var r=Math.sqrt(e*e+u*u);if(r>a)var t={x:a*e/r,y:a*u/r};else var t={x:e,y:u};return t},kSe=function(e,u){var a=e.parentId;if(a!=null){var r=u.layoutNodes[u.idToIndex[a]],t=!1;if((r.maxX==null||e.maxX+r.padRight>r.maxX)&&(r.maxX=e.maxX+r.padRight,t=!0),(r.minX==null||e.minX-r.padLeft<r.minX)&&(r.minX=e.minX-r.padLeft,t=!0),(r.maxY==null||e.maxY+r.padBottom>r.maxY)&&(r.maxY=e.maxY+r.padBottom,t=!0),(r.minY==null||e.minY-r.padTop<r.minY)&&(r.minY=e.minY-r.padTop,t=!0),t)return kSe(r,u)}},Q1e=function(e,u){for(var a=e.layoutNodes,r=[],t=0;t<a.length;t++){var i=a[t],o=i.cmptId,l=r[o]=r[o]||[];l.push(i)}for(var s=0,t=0;t<r.length;t++){var c=r[t];if(c){c.x1=1/0,c.x2=-1/0,c.y1=1/0,c.y2=-1/0;for(var d=0;d<c.length;d++){var f=c[d];c.x1=Math.min(c.x1,f.positionX-f.width/2),c.x2=Math.max(c.x2,f.positionX+f.width/2),c.y1=Math.min(c.y1,f.positionY-f.height/2),c.y2=Math.max(c.y2,f.positionY+f.height/2)}c.w=c.x2-c.x1,c.h=c.y2-c.y1,s+=c.w*c.h}}r.sort(function(w,T){return T.w*T.h-w.w*w.h});for(var p=0,h=0,g=0,_=0,m=Math.sqrt(s)*e.clientWidth/e.clientHeight,t=0;t<r.length;t++){var c=r[t];if(c){for(var d=0;d<c.length;d++){var f=c[d];f.isLocked||(f.positionX+=p-c.x1,f.positionY+=h-c.y1)}p+=c.w+u.componentSpacing,g+=c.w+u.componentSpacing,_=Math.max(_,c.h),g>m&&(h+=_+u.componentSpacing,p=0,g=0,_=0)}}},PVe={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,condense:!1,rows:void 0,cols:void 0,position:function(e){},sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,u){return!0},ready:void 0,stop:void 0,transform:function(e,u){return u}};function zSe(n){this.options=Bt({},PVe,n)}zSe.prototype.run=function(){var n=this.options,e=n,u=n.cy,a=e.eles,r=a.nodes().not(":parent");e.sort&&(r=r.sort(e.sort));var t=ei(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:u.width(),h:u.height()});if(t.h===0||t.w===0)a.nodes().layoutPositions(this,e,function(pe){return{x:t.x1,y:t.y1}});else{var i=r.size(),o=Math.sqrt(i*t.h/t.w),l=Math.round(o),s=Math.round(t.w/t.h*o),c=function(le){if(le==null)return Math.min(l,s);var Ee=Math.min(l,s);Ee==l?l=le:s=le},d=function(le){if(le==null)return Math.max(l,s);var Ee=Math.max(l,s);Ee==l?l=le:s=le},f=e.rows,p=e.cols!=null?e.cols:e.columns;if(f!=null&&p!=null)l=f,s=p;else if(f!=null&&p==null)l=f,s=Math.ceil(i/l);else if(f==null&&p!=null)s=p,l=Math.ceil(i/s);else if(s*l>i){var h=c(),g=d();(h-1)*g>=i?c(h-1):(g-1)*h>=i&&d(g-1)}else for(;s*l<i;){var _=c(),m=d();(m+1)*_>=i?d(m+1):c(_+1)}var w=t.w/s,T=t.h/l;if(e.condense&&(w=0,T=0),e.avoidOverlap)for(var E=0;E<r.length;E++){var S=r[E],N=S._private.position;(N.x==null||N.y==null)&&(N.x=0,N.y=0);var j=S.layoutDimensions(e),q=e.avoidOverlapPadding,O=j.w+q,I=j.h+q;w=Math.max(w,O),T=Math.max(T,I)}for(var A={},P=function(le,Ee){return!!A["c-"+le+"-"+Ee]},C=function(le,Ee){A["c-"+le+"-"+Ee]=!0},B=0,V=0,U=function(){V++,V>=s&&(V=0,B++)},G={},J=0;J<r.length;J++){var ne=r[J],W=e.position(ne);if(W&&(W.row!==void 0||W.col!==void 0)){var ee={row:W.row,col:W.col};if(ee.col===void 0)for(ee.col=0;P(ee.row,ee.col);)ee.col++;else if(ee.row===void 0)for(ee.row=0;P(ee.row,ee.col);)ee.row++;G[ne.id()]=ee,C(ee.row,ee.col)}}var se=function(le,Ee){var Ae,Ne;if(le.locked()||le.isParent())return!1;var Oe=G[le.id()];if(Oe)Ae=Oe.col*w+w/2+t.x1,Ne=Oe.row*T+T/2+t.y1;else{for(;P(B,V);)U();Ae=V*w+w/2+t.x1,Ne=B*T+T/2+t.y1,C(B,V),U()}return{x:Ae,y:Ne}};r.layoutPositions(this,e,se)}return this};var jVe={ready:function(){},stop:function(){}};function rk(n){this.options=Bt({},jVe,n)}rk.prototype.run=function(){var n=this.options,e=n.eles,u=this;return n.cy,u.emit("layoutstart"),e.nodes().positions(function(){return{x:0,y:0}}),u.one("layoutready",n.ready),u.emit("layoutready"),u.one("layoutstop",n.stop),u.emit("layoutstop"),this};rk.prototype.stop=function(){return this};var MVe={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,spacingFactor:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,u){return!0},ready:void 0,stop:void 0,transform:function(e,u){return u}};function GSe(n){this.options=Bt({},MVe,n)}GSe.prototype.run=function(){var n=this.options,e=n.eles,u=e.nodes(),a=On(n.positions);function r(t){if(n.positions==null)return nBe(t.position());if(a)return n.positions(t);var i=n.positions[t._private.data.id];return i??null}return u.layoutPositions(this,n,function(t,i){var o=r(t);return t.locked()||o==null?!1:o}),this};var CVe={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,u){return!0},ready:void 0,stop:void 0,transform:function(e,u){return u}};function $Se(n){this.options=Bt({},CVe,n)}$Se.prototype.run=function(){var n=this.options,e=n.cy,u=n.eles,a=ei(n.boundingBox?n.boundingBox:{x1:0,y1:0,w:e.width(),h:e.height()}),r=function(i,o){return{x:a.x1+Math.round(Math.random()*a.w),y:a.y1+Math.round(Math.random()*a.h)}};return u.nodes().layoutPositions(this,n,r),this};var LVe=[{name:"breadthfirst",impl:BSe},{name:"circle",impl:USe},{name:"concentric",impl:QSe},{name:"cose",impl:YP},{name:"grid",impl:zSe},{name:"null",impl:rk},{name:"preset",impl:GSe},{name:"random",impl:$Se}];function XSe(n){this.options=n,this.notifications=0}var V1e=function(){},H1e=function(){throw new Error("A headless instance can not render images")};XSe.prototype={recalculateRenderedStyle:V1e,notify:function(){this.notifications++},init:V1e,isHeadless:function(){return!0},png:H1e,jpg:H1e};var nk={};nk.arrowShapeWidth=.3;nk.registerArrowShapes=function(){var n=this.arrowShapes={},e=this,u=function(s,c,d,f,p,h,g){var _=p.x-d/2-g,m=p.x+d/2+g,w=p.y-d/2-g,T=p.y+d/2+g,E=_<=s&&s<=m&&w<=c&&c<=T;return E},a=function(s,c,d,f,p){var h=s*Math.cos(f)-c*Math.sin(f),g=s*Math.sin(f)+c*Math.cos(f),_=h*d,m=g*d,w=_+p.x,T=m+p.y;return{x:w,y:T}},r=function(s,c,d,f){for(var p=[],h=0;h<s.length;h+=2){var g=s[h],_=s[h+1];p.push(a(g,_,c,d,f))}return p},t=function(s){for(var c=[],d=0;d<s.length;d++){var f=s[d];c.push(f.x,f.y)}return c},i=function(s){return s.pstyle("width").pfValue*s.pstyle("arrow-scale").pfValue*2},o=function(s,c){Ct(c)&&(c=n[c]),n[s]=Bt({name:s,points:[-.15,-.3,.15,-.3,.15,.3,-.15,.3],collide:function(f,p,h,g,_,m){var w=t(r(this.points,h+2*m,g,_)),T=hi(f,p,w);return T},roughCollide:u,draw:function(f,p,h,g){var _=r(this.points,p,h,g);e.arrowShapeImpl("polygon")(f,_)},spacing:function(f){return 0},gap:i},c)};o("none",{collide:jF,roughCollide:jF,draw:VH,spacing:nge,gap:nge}),o("triangle",{points:[-.15,-.3,0,0,.15,-.3]}),o("arrow","triangle"),o("triangle-backcurve",{points:n.triangle.points,controlPoint:[0,-.15],roughCollide:u,draw:function(s,c,d,f,p){var h=r(this.points,c,d,f),g=this.controlPoint,_=a(g[0],g[1],c,d,f);e.arrowShapeImpl(this.name)(s,h,_)},gap:function(s){return i(s)*.8}}),o("triangle-tee",{points:[0,0,.15,-.3,-.15,-.3,0,0],pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:function(s,c,d,f,p,h,g){var _=t(r(this.points,d+2*g,f,p)),m=t(r(this.pointsTee,d+2*g,f,p)),w=hi(s,c,_)||hi(s,c,m);return w},draw:function(s,c,d,f,p){var h=r(this.points,c,d,f),g=r(this.pointsTee,c,d,f);e.arrowShapeImpl(this.name)(s,h,g)}}),o("circle-triangle",{radius:.15,pointsTr:[0,-.15,.15,-.45,-.15,-.45,0,-.15],collide:function(s,c,d,f,p,h,g){var _=p,m=Math.pow(_.x-s,2)+Math.pow(_.y-c,2)<=Math.pow((d+2*g)*this.radius,2),w=t(r(this.points,d+2*g,f,p));return hi(s,c,w)||m},draw:function(s,c,d,f,p){var h=r(this.pointsTr,c,d,f);e.arrowShapeImpl(this.name)(s,h,f.x,f.y,this.radius*c)},spacing:function(s){return e.getArrowWidth(s.pstyle("width").pfValue,s.pstyle("arrow-scale").value)*this.radius}}),o("triangle-cross",{points:[0,0,.15,-.3,-.15,-.3,0,0],baseCrossLinePts:[-.15,-.4,-.15,-.4,.15,-.4,.15,-.4],crossLinePts:function(s,c){var d=this.baseCrossLinePts.slice(),f=c/s,p=3,h=5;return d[p]=d[p]-f,d[h]=d[h]-f,d},collide:function(s,c,d,f,p,h,g){var _=t(r(this.points,d+2*g,f,p)),m=t(r(this.crossLinePts(d,h),d+2*g,f,p)),w=hi(s,c,_)||hi(s,c,m);return w},draw:function(s,c,d,f,p){var h=r(this.points,c,d,f),g=r(this.crossLinePts(c,p),c,d,f);e.arrowShapeImpl(this.name)(s,h,g)}}),o("vee",{points:[-.15,-.3,0,0,.15,-.3,0,-.15],gap:function(s){return i(s)*.525}}),o("circle",{radius:.15,collide:function(s,c,d,f,p,h,g){var _=p,m=Math.pow(_.x-s,2)+Math.pow(_.y-c,2)<=Math.pow((d+2*g)*this.radius,2);return m},draw:function(s,c,d,f,p){e.arrowShapeImpl(this.name)(s,f.x,f.y,this.radius*c)},spacing:function(s){return e.getArrowWidth(s.pstyle("width").pfValue,s.pstyle("arrow-scale").value)*this.radius}}),o("tee",{points:[-.15,0,-.15,-.1,.15,-.1,.15,0],spacing:function(s){return 1},gap:function(s){return 1}}),o("square",{points:[-.15,0,.15,0,.15,-.3,-.15,-.3]}),o("diamond",{points:[-.15,-.15,0,-.3,.15,-.15,0,0],gap:function(s){return s.pstyle("width").pfValue*s.pstyle("arrow-scale").value}}),o("chevron",{points:[0,0,-.15,-.15,-.1,-.2,0,-.1,.1,-.2,.15,-.15],gap:function(s){return .95*s.pstyle("width").pfValue*s.pstyle("arrow-scale").value}})};var Ob={};Ob.projectIntoViewport=function(n,e){var u=this.cy,a=this.findContainerClientCoords(),r=a[0],t=a[1],i=a[4],o=u.pan(),l=u.zoom(),s=((n-r)/i-o.x)/l,c=((e-t)/i-o.y)/l;return[s,c]};Ob.findContainerClientCoords=function(){if(this.containerBB)return this.containerBB;var n=this.container,e=n.getBoundingClientRect(),u=this.cy.window().getComputedStyle(n),a=function(m){return parseFloat(u.getPropertyValue(m))},r={left:a("padding-left"),right:a("padding-right"),top:a("padding-top"),bottom:a("padding-bottom")},t={left:a("border-left-width"),right:a("border-right-width"),top:a("border-top-width"),bottom:a("border-bottom-width")},i=n.clientWidth,o=n.clientHeight,l=r.left+r.right,s=r.top+r.bottom,c=t.left+t.right,d=e.width/(i+c),f=i-l,p=o-s,h=e.left+r.left+t.left,g=e.top+r.top+t.top;return this.containerBB=[h,g,f,p,d]};Ob.invalidateContainerClientCoordsCache=function(){this.containerBB=null};Ob.findNearestElement=function(n,e,u,a){return this.findNearestElements(n,e,u,a)[0]};Ob.findNearestElements=function(n,e,u,a){var r=this,t=this,i=t.getCachedZSortedEles(),o=[],l=t.cy.zoom(),s=t.cy.hasCompoundNodes(),c=(a?24:8)/l,d=(a?8:2)/l,f=(a?8:2)/l,p=1/0,h,g;u&&(i=i.interactive);function _(j,q){if(j.isNode()){if(g)return;g=j,o.push(j)}if(j.isEdge()&&(q==null||q<p))if(h){if(h.pstyle("z-compound-depth").value===j.pstyle("z-compound-depth").value&&h.pstyle("z-compound-depth").value===j.pstyle("z-compound-depth").value){for(var O=0;O<o.length;O++)if(o[O].isEdge()){o[O]=j,h=j,p=q??p;break}}}else o.push(j),h=j,p=q??p}function m(j){var q=j.outerWidth()+2*d,O=j.outerHeight()+2*d,I=q/2,A=O/2,P=j.position(),C=j.pstyle("corner-radius").value==="auto"?"auto":j.pstyle("corner-radius").pfValue,B=j._private.rscratch;if(P.x-I<=n&&n<=P.x+I&&P.y-A<=e&&e<=P.y+A){var V=t.nodeShapes[r.getNodeShape(j)];if(V.checkPoint(n,e,0,q,O,P.x,P.y,C,B))return _(j,0),!0}}function w(j){var q=j._private,O=q.rscratch,I=j.pstyle("width").pfValue,A=j.pstyle("arrow-scale").value,P=I/2+c,C=P*P,B=P*2,J=q.source,ne=q.target,V;if(O.edgeType==="segments"||O.edgeType==="straight"||O.edgeType==="haystack"){for(var U=O.allpts,G=0;G+3<U.length;G+=2)if(bBe(n,e,U[G],U[G+1],U[G+2],U[G+3],B)&&C>(V=wBe(n,e,U[G],U[G+1],U[G+2],U[G+3])))return _(j,V),!0}else if(O.edgeType==="bezier"||O.edgeType==="multibezier"||O.edgeType==="self"||O.edgeType==="compound"){for(var U=O.allpts,G=0;G+5<O.allpts.length;G+=4)if(gBe(n,e,U[G],U[G+1],U[G+2],U[G+3],U[G+4],U[G+5],B)&&C>(V=TBe(n,e,U[G],U[G+1],U[G+2],U[G+3],U[G+4],U[G+5])))return _(j,V),!0}for(var J=J||q.source,ne=ne||q.target,W=r.getArrowWidth(I,A),ee=[{name:"source",x:O.arrowStartX,y:O.arrowStartY,angle:O.srcArrowAngle},{name:"target",x:O.arrowEndX,y:O.arrowEndY,angle:O.tgtArrowAngle},{name:"mid-source",x:O.midX,y:O.midY,angle:O.midsrcArrowAngle},{name:"mid-target",x:O.midX,y:O.midY,angle:O.midtgtArrowAngle}],G=0;G<ee.length;G++){var se=ee[G],pe=t.arrowShapes[j.pstyle(se.name+"-arrow-shape").value],le=j.pstyle("width").pfValue;if(pe.roughCollide(n,e,W,se.angle,{x:se.x,y:se.y},le,c)&&pe.collide(n,e,W,se.angle,{x:se.x,y:se.y},le,c))return _(j),!0}s&&o.length>0&&(m(J),m(ne))}function T(j,q,O){return pi(j,q,O)}function E(j,q){var O=j._private,I=f,A;q?A=q+"-":A="",j.boundingBox();var P=O.labelBounds[q||"main"],C=j.pstyle(A+"label").value,B=j.pstyle("text-events").strValue==="yes";if(!(!B||!C)){var V=T(O.rscratch,"labelX",q),U=T(O.rscratch,"labelY",q),G=T(O.rscratch,"labelAngle",q),J=j.pstyle(A+"text-margin-x").pfValue,ne=j.pstyle(A+"text-margin-y").pfValue,W=P.x1-I-J,ee=P.x2+I-J,se=P.y1-I-ne,pe=P.y2+I-ne;if(G){var le=Math.cos(G),Ee=Math.sin(G),Ae=function(D,L){return D=D-V,L=L-U,{x:D*le-L*Ee+V,y:D*Ee+L*le+U}},Ne=Ae(W,se),Oe=Ae(W,pe),be=Ae(ee,se),te=Ae(ee,pe),v=[Ne.x+J,Ne.y+ne,be.x+J,be.y+ne,te.x+J,te.y+ne,Oe.x+J,Oe.y+ne];if(hi(n,e,v))return _(j),!0}else if(al(P,n,e))return _(j),!0}}for(var S=i.length-1;S>=0;S--){var N=i[S];N.isNode()?m(N)||E(N):w(N)||E(N)||E(N,"source")||E(N,"target")}return o};Ob.getAllInBox=function(n,e,u,a){var r=this.getCachedZSortedEles().interactive,t=this.cy.zoom(),i=2/t,o=[],l=Math.min(n,u),s=Math.max(n,u),c=Math.min(e,a),d=Math.max(e,a);n=l,u=s,e=c,a=d;var f=ei({x1:n,y1:e,x2:u,y2:a}),p=[{x:f.x1,y:f.y1},{x:f.x2,y:f.y1},{x:f.x2,y:f.y2},{x:f.x1,y:f.y2}],h=[[p[0],p[1]],[p[1],p[2]],[p[2],p[3]],[p[3],p[0]]];function g(D,L,H){return pi(D,L,H)}function _(D,L){var H=D._private,Z=i,$="";D.boundingBox();var ue=H.labelBounds.main;if(!ue)return null;var ae=g(H.rscratch,"labelX",L),ce=g(H.rscratch,"labelY",L),Se=g(H.rscratch,"labelAngle",L),xe=D.pstyle($+"text-margin-x").pfValue,Ce=D.pstyle($+"text-margin-y").pfValue,He=ue.x1-Z-xe,Je=ue.x2+Z-xe,Ye=ue.y1-Z-Ce,oe=ue.y2+Z-Ce;if(Se){var X=Math.cos(Se),Y=Math.sin(Se),he=function(ye,re){return ye=ye-ae,re=re-ce,{x:ye*X-re*Y+ae,y:ye*Y+re*X+ce}};return[he(He,Ye),he(Je,Ye),he(Je,oe),he(He,oe)]}else return[{x:He,y:Ye},{x:Je,y:Ye},{x:Je,y:oe},{x:He,y:oe}]}function m(D,L,H,Z){function $(ue,ae,ce){return(ce.y-ue.y)*(ae.x-ue.x)>(ae.y-ue.y)*(ce.x-ue.x)}return $(D,H,Z)!==$(L,H,Z)&&$(D,L,H)!==$(D,L,Z)}for(var w=0;w<r.length;w++){var T=r[w];if(T.isNode()){var E=T,S=E.pstyle("text-events").strValue==="yes",N=E.pstyle("box-selection").strValue,j=E.pstyle("box-select-labels").strValue==="yes";if(N==="none")continue;var q=(N==="overlap"||j)&&S,O=E.boundingBox({includeNodes:!0,includeEdges:!1,includeLabels:q});if(N==="contain"){var I=!1;if(j&&S){var A=_(E);A&&M9(A,p)&&(o.push(E),I=!0)}!I&&tSe(f,O)&&o.push(E)}else if(N==="overlap"&&GH(f,O)){var P=E.boundingBox({includeNodes:!0,includeEdges:!0,includeLabels:!1,includeMainLabels:!1,includeSourceLabels:!1,includeTargetLabels:!1}),C=[{x:P.x1,y:P.y1},{x:P.x2,y:P.y1},{x:P.x2,y:P.y2},{x:P.x1,y:P.y2}];if(M9(C,p))o.push(E);else{var B=_(E);B&&M9(B,p)&&o.push(E)}}}else{var V=T,U=V._private,G=U.rscratch,J=V.pstyle("box-selection").strValue;if(J==="none")continue;if(J==="contain"){if(G.startX!=null&&G.startY!=null&&!al(f,G.startX,G.startY)||G.endX!=null&&G.endY!=null&&!al(f,G.endX,G.endY))continue;if(G.edgeType==="bezier"||G.edgeType==="multibezier"||G.edgeType==="self"||G.edgeType==="compound"||G.edgeType==="segments"||G.edgeType==="haystack"){for(var ne=U.rstyle.bezierPts||U.rstyle.linePts||U.rstyle.haystackPts,W=!0,ee=0;ee<ne.length;ee++)if(!sge(f,ne[ee])){W=!1;break}W&&o.push(V)}else G.edgeType==="straight"&&o.push(V)}else if(J==="overlap"){var se=!1;if(G.startX!=null&&G.startY!=null&&G.endX!=null&&G.endY!=null&&(al(f,G.startX,G.startY)||al(f,G.endX,G.endY)))o.push(V),se=!0;else if(!se&&G.edgeType==="haystack"){for(var pe=U.rstyle.haystackPts,le=0;le<pe.length;le++)if(sge(f,pe[le])){o.push(V),se=!0;break}}if(!se){var Ee=U.rstyle.bezierPts||U.rstyle.linePts||U.rstyle.haystackPts;if((!Ee||Ee.length<2)&&G.edgeType==="straight"&&G.startX!=null&&G.startY!=null&&G.endX!=null&&G.endY!=null&&(Ee=[{x:G.startX,y:G.startY},{x:G.endX,y:G.endY}]),!Ee||Ee.length<2)continue;for(var Ae=0;Ae<Ee.length-1;Ae++){for(var Ne=Ee[Ae],Oe=Ee[Ae+1],be=0;be<h.length;be++){var te=zn(h[be],2),v=te[0],F=te[1];if(m(Ne,Oe,v,F)){o.push(V),se=!0;break}}if(se)break}}}}}return o};var QF={};QF.calculateArrowAngles=function(n){var e=n._private.rscratch,u=e.edgeType==="haystack",a=e.edgeType==="bezier",r=e.edgeType==="multibezier",t=e.edgeType==="segments",i=e.edgeType==="compound",o=e.edgeType==="self",l,s,c,d,f,p,m,w;if(u?(c=e.haystackPts[0],d=e.haystackPts[1],f=e.haystackPts[2],p=e.haystackPts[3]):(c=e.arrowStartX,d=e.arrowStartY,f=e.arrowEndX,p=e.arrowEndY),m=e.midX,w=e.midY,t)l=c-e.segpts[0],s=d-e.segpts[1];else if(r||i||o||a){var h=e.allpts,g=ua(h[0],h[2],h[4],.1),_=ua(h[1],h[3],h[5],.1);l=c-g,s=d-_}else l=c-m,s=d-w;e.srcArrowAngle=CD(l,s);var m=e.midX,w=e.midY;if(u&&(m=(c+f)/2,w=(d+p)/2),l=f-c,s=p-d,t){var h=e.allpts;if(h.length/2%2===0){var T=h.length/2,E=T-2;l=h[T]-h[E],s=h[T+1]-h[E+1]}else if(e.isRound)l=e.midVector[1],s=-e.midVector[0];else{var T=h.length/2-1,E=T-2;l=h[T]-h[E],s=h[T+1]-h[E+1]}}else if(r||i||o){var h=e.allpts,S=e.ctrlpts,N,j,q,O;if(S.length/2%2===0){var I=h.length/2-1,A=I+2,P=A+2;N=ua(h[I],h[A],h[P],0),j=ua(h[I+1],h[A+1],h[P+1],0),q=ua(h[I],h[A],h[P],1e-4),O=ua(h[I+1],h[A+1],h[P+1],1e-4)}else{var A=h.length/2-1,I=A-2,P=A+2;N=ua(h[I],h[A],h[P],.4999),j=ua(h[I+1],h[A+1],h[P+1],.4999),q=ua(h[I],h[A],h[P],.5),O=ua(h[I+1],h[A+1],h[P+1],.5)}l=q-N,s=O-j}if(e.midtgtArrowAngle=CD(l,s),e.midDispX=l,e.midDispY=s,l*=-1,s*=-1,t){var h=e.allpts;if(h.length/2%2!==0){if(!e.isRound){var T=h.length/2-1,C=T+2;l=-(h[C]-h[T]),s=-(h[C+1]-h[T+1])}}}if(e.midsrcArrowAngle=CD(l,s),t)l=f-e.segpts[e.segpts.length-2],s=p-e.segpts[e.segpts.length-1];else if(r||i||o||a){var h=e.allpts,B=h.length,g=ua(h[B-6],h[B-4],h[B-2],.9),_=ua(h[B-5],h[B-3],h[B-1],.9);l=f-g,s=p-_}else l=f-m,s=p-w;e.tgtArrowAngle=CD(l,s)};QF.getArrowWidth=QF.getArrowHeight=function(n,e){var u=this.arrowWidthCache=this.arrowWidthCache||{},a=u[n+", "+e];return a||(a=Math.max(Math.pow(n*13.37,.9),29)*e,u[n+", "+e]=a,a)};var I7,D7,Lo={},bu={},k1e,z1e,nb,vF,Vs,Vm,Zm,jo,xg,kD,KSe,JSe,F7,P7,G1e,$1e=function(e,u,a){a.x=u.x-e.x,a.y=u.y-e.y,a.len=Math.sqrt(a.x*a.x+a.y*a.y),a.nx=a.x/a.len,a.ny=a.y/a.len,a.ang=Math.atan2(a.ny,a.nx)},qVe=function(e,u){u.x=e.x*-1,u.y=e.y*-1,u.nx=e.nx*-1,u.ny=e.ny*-1,u.ang=e.ang>0?-(Math.PI-e.ang):Math.PI+e.ang},BVe=function(e,u,a,r,t){if(e!==G1e?$1e(u,e,Lo):qVe(bu,Lo),$1e(u,a,bu),k1e=Lo.nx*bu.ny-Lo.ny*bu.nx,z1e=Lo.nx*bu.nx-Lo.ny*-bu.ny,Vs=Math.asin(Math.max(-1,Math.min(1,k1e))),Math.abs(Vs)<1e-6){I7=u.x,D7=u.y,Zm=xg=0;return}nb=1,vF=!1,z1e<0?Vs<0?Vs=Math.PI+Vs:(Vs=Math.PI-Vs,nb=-1,vF=!0):Vs>0&&(nb=-1,vF=!0),u.radius!==void 0?xg=u.radius:xg=r,Vm=Vs/2,kD=Math.min(Lo.len/2,bu.len/2),t?(jo=Math.abs(Math.cos(Vm)*xg/Math.sin(Vm)),jo>kD?(jo=kD,Zm=Math.abs(jo*Math.sin(Vm)/Math.cos(Vm))):Zm=xg):(jo=Math.min(kD,xg),Zm=Math.abs(jo*Math.sin(Vm)/Math.cos(Vm))),F7=u.x+bu.nx*jo,P7=u.y+bu.ny*jo,I7=F7-bu.ny*Zm*nb,D7=P7+bu.nx*Zm*nb,KSe=u.x+Lo.nx*jo,JSe=u.y+Lo.ny*jo,G1e=u};function WSe(n,e){e.radius===0?n.lineTo(e.cx,e.cy):n.arc(e.cx,e.cy,e.radius,e.startAngle,e.endAngle,e.counterClockwise)}function ak(n,e,u,a){var r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0;return a===0||e.radius===0?{cx:e.x,cy:e.y,radius:0,startX:e.x,startY:e.y,stopX:e.x,stopY:e.y,startAngle:void 0,endAngle:void 0,counterClockwise:void 0}:(BVe(n,e,u,a,r),{cx:I7,cy:D7,radius:Zm,startX:KSe,startY:JSe,stopX:F7,stopY:P7,startAngle:Lo.ang+Math.PI/2*nb,endAngle:bu.ang-Math.PI/2*nb,counterClockwise:vF})}var R4=.01,UVe=Math.sqrt(2*R4),Qa={};Qa.findMidptPtsEtc=function(n,e){var u=e.posPts,a=e.intersectionPts,r=e.vectorNormInverse,t,i=n.pstyle("source-endpoint"),o=n.pstyle("target-endpoint"),l=i.units!=null&&o.units!=null,s=function(S,N,j,q){var O=q-N,I=j-S,A=Math.sqrt(I*I+O*O);return{x:-O/A,y:I/A}},c=n.pstyle("edge-distances").value;switch(c){case"node-position":t=u;break;case"intersection":t=a;break;case"endpoints":{if(l){var d=this.manualEndptToPx(n.source()[0],i),f=zn(d,2),p=f[0],h=f[1],g=this.manualEndptToPx(n.target()[0],o),_=zn(g,2),m=_[0],w=_[1],T={x1:p,y1:h,x2:m,y2:w};r=s(p,h,m,w),t=T}else Lr("Edge ".concat(n.id()," has edge-distances:endpoints specified without manual endpoints specified via source-endpoint and target-endpoint.  Falling back on edge-distances:intersection (default).")),t=a;break}}return{midptPts:t,vectorNormInverse:r}};Qa.findHaystackPoints=function(n){for(var e=0;e<n.length;e++){var u=n[e],a=u._private,r=a.rscratch;if(!r.haystack){var t=Math.random()*2*Math.PI;r.source={x:Math.cos(t),y:Math.sin(t)},t=Math.random()*2*Math.PI,r.target={x:Math.cos(t),y:Math.sin(t)}}var i=a.source,o=a.target,l=i.position(),s=o.position(),c=i.width(),d=o.width(),f=i.height(),p=o.height(),h=u.pstyle("haystack-radius").value,g=h/2;r.haystackPts=r.allpts=[r.source.x*c*g+l.x,r.source.y*f*g+l.y,r.target.x*d*g+s.x,r.target.y*p*g+s.y],r.midX=(r.allpts[0]+r.allpts[2])/2,r.midY=(r.allpts[1]+r.allpts[3])/2,r.edgeType="haystack",r.haystack=!0,this.storeEdgeProjections(u),this.calculateArrowAngles(u),this.recalculateEdgeLabelProjections(u),this.calculateLabelAngles(u)}};Qa.findSegmentsPoints=function(n,e){var u=n._private.rscratch,a=n.pstyle("segment-weights"),r=n.pstyle("segment-distances"),t=n.pstyle("segment-radii"),i=n.pstyle("radius-type"),o=Math.min(a.pfValue.length,r.pfValue.length),l=t.pfValue[t.pfValue.length-1],s=i.pfValue[i.pfValue.length-1];u.edgeType="segments",u.segpts=[],u.radii=[],u.isArcRadius=[];for(var c=0;c<o;c++){var d=a.pfValue[c],f=r.pfValue[c],p=1-d,h=d,g=this.findMidptPtsEtc(n,e),_=g.midptPts,m=g.vectorNormInverse,w={x:_.x1*p+_.x2*h,y:_.y1*p+_.y2*h};u.segpts.push(w.x+m.x*f,w.y+m.y*f),u.radii.push(t.pfValue[c]!==void 0?t.pfValue[c]:l),u.isArcRadius.push((i.pfValue[c]!==void 0?i.pfValue[c]:s)==="arc-radius")}};Qa.findLoopPoints=function(n,e,u,a){var r=n._private.rscratch,t=e.dirCounts,i=e.srcPos,o=n.pstyle("control-point-distances"),l=o?o.pfValue[0]:void 0,s=n.pstyle("loop-direction").pfValue,c=n.pstyle("loop-sweep").pfValue,d=n.pstyle("control-point-step-size").pfValue;r.edgeType="self";var f=u,p=d;a&&(f=0,p=l);var h=s-Math.PI/2,g=h-c/2,_=h+c/2,m=s+"_"+c;f=t[m]===void 0?t[m]=0:++t[m],r.ctrlpts=[i.x+Math.cos(g)*1.4*p*(f/3+1),i.y+Math.sin(g)*1.4*p*(f/3+1),i.x+Math.cos(_)*1.4*p*(f/3+1),i.y+Math.sin(_)*1.4*p*(f/3+1)]};Qa.findCompoundLoopPoints=function(n,e,u,a){var r=n._private.rscratch;r.edgeType="compound";var t=e.srcPos,i=e.tgtPos,o=e.srcW,l=e.srcH,s=e.tgtW,c=e.tgtH,d=n.pstyle("control-point-step-size").pfValue,f=n.pstyle("control-point-distances"),p=f?f.pfValue[0]:void 0,h=u,g=d;a&&(h=0,g=p);var _=50,m={x:t.x-o/2,y:t.y-l/2},w={x:i.x-s/2,y:i.y-c/2},T={x:Math.min(m.x,w.x),y:Math.min(m.y,w.y)},E=.5,S=Math.max(E,Math.log(o*R4)),N=Math.max(E,Math.log(s*R4));r.ctrlpts=[T.x,T.y-(1+Math.pow(_,1.12)/100)*g*(h/3+1)*S,T.x-(1+Math.pow(_,1.12)/100)*g*(h/3+1)*N,T.y]};Qa.findStraightEdgePoints=function(n){n._private.rscratch.edgeType="straight"};Qa.findBezierPoints=function(n,e,u,a,r){var t=n._private.rscratch,i=n.pstyle("control-point-step-size").pfValue,o=n.pstyle("control-point-distances"),l=n.pstyle("control-point-weights"),s=o&&l?Math.min(o.value.length,l.value.length):1,c=o?o.pfValue[0]:void 0,d=l.value[0],f=a;t.edgeType=f?"multibezier":"bezier",t.ctrlpts=[];for(var p=0;p<s;p++){var h=(.5-e.eles.length/2+u)*i*(r?-1:1),g=void 0,_=zH(h);f&&(c=o?o.pfValue[p]:i,d=l.value[p]),a?g=c:g=c!==void 0?_*c:void 0;var m=g!==void 0?g:h,w=1-d,T=d,E=this.findMidptPtsEtc(n,e),S=E.midptPts,N=E.vectorNormInverse,j={x:S.x1*w+S.x2*T,y:S.y1*w+S.y2*T};t.ctrlpts.push(j.x+N.x*m,j.y+N.y*m)}};Qa.findTaxiPoints=function(n,e){var u=n._private.rscratch;u.edgeType="segments";var a="vertical",r="horizontal",t="leftward",i="rightward",o="downward",l="upward",s="auto",c=e.posPts,d=e.srcW,f=e.srcH,p=e.tgtW,h=e.tgtH,g=n.pstyle("edge-distances").value,_=g!=="node-position",m=n.pstyle("taxi-direction").value,w=m,T=n.pstyle("taxi-turn"),E=T.units==="%",S=T.pfValue,N=S<0,j=n.pstyle("taxi-turn-min-distance").pfValue,q=_?(d+p)/2:0,O=_?(f+h)/2:0,I=c.x2-c.x1,A=c.y2-c.y1,P=function(re,Ie){return re>0?Math.max(re-Ie,0):Math.min(re+Ie,0)},C=P(I,q),B=P(A,O),V=!1;w===s?m=Math.abs(C)>Math.abs(B)?r:a:w===l||w===o?(m=a,V=!0):(w===t||w===i)&&(m=r,V=!0);var U=m===a,G=U?B:C,J=U?A:I,ne=zH(J),W=!1;!(V&&(E||N))&&(w===o&&J<0||w===l&&J>0||w===t&&J>0||w===i&&J<0)&&(ne*=-1,G=ne*Math.abs(G),W=!0);var ee;if(E){var se=S<0?1+S:S;ee=se*G}else{var pe=S<0?G:0;ee=pe+S*ne}var le=function(re){return Math.abs(re)<j||Math.abs(re)>=Math.abs(G)},Ee=le(ee),Ae=le(Math.abs(G)-Math.abs(ee)),Ne=Ee||Ae;if(Ne&&!W)if(U){var Oe=Math.abs(J)<=f/2,be=Math.abs(I)<=p/2;if(Oe){var te=(c.x1+c.x2)/2,v=c.y1,F=c.y2;u.segpts=[te,v,te,F]}else if(be){var D=(c.y1+c.y2)/2,L=c.x1,H=c.x2;u.segpts=[L,D,H,D]}else u.segpts=[c.x1,c.y2]}else{var Z=Math.abs(J)<=d/2,$=Math.abs(A)<=h/2;if(Z){var ue=(c.y1+c.y2)/2,ae=c.x1,ce=c.x2;u.segpts=[ae,ue,ce,ue]}else if($){var Se=(c.x1+c.x2)/2,xe=c.y1,Ce=c.y2;u.segpts=[Se,xe,Se,Ce]}else u.segpts=[c.x2,c.y1]}else if(U){var He=c.y1+ee+(_?f/2*ne:0),Je=c.x1,Ye=c.x2;u.segpts=[Je,He,Ye,He]}else{var oe=c.x1+ee+(_?d/2*ne:0),X=c.y1,Y=c.y2;u.segpts=[oe,X,oe,Y]}if(u.isRound){var he=n.pstyle("taxi-radius").value,ve=n.pstyle("radius-type").value[0]==="arc-radius";u.radii=new Array(u.segpts.length/2).fill(he),u.isArcRadius=new Array(u.segpts.length/2).fill(ve)}};Qa.tryToCorrectInvalidPoints=function(n,e){var u=n._private.rscratch;if(u.edgeType==="bezier"){var a=e.srcPos,r=e.tgtPos,t=e.srcW,i=e.srcH,o=e.tgtW,l=e.tgtH,s=e.srcShape,c=e.tgtShape,d=e.srcCornerRadius,f=e.tgtCornerRadius,p=e.srcRs,h=e.tgtRs,g=!At(u.startX)||!At(u.startY),_=!At(u.arrowStartX)||!At(u.arrowStartY),m=!At(u.endX)||!At(u.endY),w=!At(u.arrowEndX)||!At(u.arrowEndY),T=3,E=this.getArrowWidth(n.pstyle("width").pfValue,n.pstyle("arrow-scale").value)*this.arrowShapeWidth,S=T*E,N=lb({x:u.ctrlpts[0],y:u.ctrlpts[1]},{x:u.startX,y:u.startY}),j=N<S,q=lb({x:u.ctrlpts[0],y:u.ctrlpts[1]},{x:u.endX,y:u.endY}),O=q<S,I=!1;if(g||_||j){I=!0;var A={x:u.ctrlpts[0]-a.x,y:u.ctrlpts[1]-a.y},P=Math.sqrt(A.x*A.x+A.y*A.y),C={x:A.x/P,y:A.y/P},B=Math.max(t,i),V={x:u.ctrlpts[0]+C.x*2*B,y:u.ctrlpts[1]+C.y*2*B},U=s.intersectLine(a.x,a.y,t,i,V.x,V.y,0,d,p);j?(u.ctrlpts[0]=u.ctrlpts[0]+C.x*(S-N),u.ctrlpts[1]=u.ctrlpts[1]+C.y*(S-N)):(u.ctrlpts[0]=U[0]+C.x*S,u.ctrlpts[1]=U[1]+C.y*S)}if(m||w||O){I=!0;var G={x:u.ctrlpts[0]-r.x,y:u.ctrlpts[1]-r.y},J=Math.sqrt(G.x*G.x+G.y*G.y),ne={x:G.x/J,y:G.y/J},W=Math.max(t,i),ee={x:u.ctrlpts[0]+ne.x*2*W,y:u.ctrlpts[1]+ne.y*2*W},se=c.intersectLine(r.x,r.y,o,l,ee.x,ee.y,0,f,h);O?(u.ctrlpts[0]=u.ctrlpts[0]+ne.x*(S-q),u.ctrlpts[1]=u.ctrlpts[1]+ne.y*(S-q)):(u.ctrlpts[0]=se[0]+ne.x*S,u.ctrlpts[1]=se[1]+ne.y*S)}I&&this.findEndpoints(n)}};Qa.storeAllpts=function(n){var e=n._private.rscratch;if(e.edgeType==="multibezier"||e.edgeType==="bezier"||e.edgeType==="self"||e.edgeType==="compound"){e.allpts=[],e.allpts.push(e.startX,e.startY);for(var u=0;u+1<e.ctrlpts.length;u+=2)e.allpts.push(e.ctrlpts[u],e.ctrlpts[u+1]),u+3<e.ctrlpts.length&&e.allpts.push((e.ctrlpts[u]+e.ctrlpts[u+2])/2,(e.ctrlpts[u+1]+e.ctrlpts[u+3])/2);e.allpts.push(e.endX,e.endY);var a,r;e.ctrlpts.length/2%2===0?(a=e.allpts.length/2-1,e.midX=e.allpts[a],e.midY=e.allpts[a+1]):(a=e.allpts.length/2-3,r=.5,e.midX=ua(e.allpts[a],e.allpts[a+2],e.allpts[a+4],r),e.midY=ua(e.allpts[a+1],e.allpts[a+3],e.allpts[a+5],r))}else if(e.edgeType==="straight")e.allpts=[e.startX,e.startY,e.endX,e.endY],e.midX=(e.startX+e.endX+e.arrowStartX+e.arrowEndX)/4,e.midY=(e.startY+e.endY+e.arrowStartY+e.arrowEndY)/4;else if(e.edgeType==="segments"){if(e.allpts=[],e.allpts.push(e.startX,e.startY),e.allpts.push.apply(e.allpts,e.segpts),e.allpts.push(e.endX,e.endY),e.isRound){e.roundCorners=[];for(var t=2;t+3<e.allpts.length;t+=2){var i=e.radii[t/2-1],o=e.isArcRadius[t/2-1];e.roundCorners.push(ak({x:e.allpts[t-2],y:e.allpts[t-1]},{x:e.allpts[t],y:e.allpts[t+1],radius:i},{x:e.allpts[t+2],y:e.allpts[t+3]},i,o))}}if(e.segpts.length%4===0){var l=e.segpts.length/2,s=l-2;e.midX=(e.segpts[s]+e.segpts[l])/2,e.midY=(e.segpts[s+1]+e.segpts[l+1])/2}else{var c=e.segpts.length/2-1;if(!e.isRound)e.midX=e.segpts[c],e.midY=e.segpts[c+1];else{var d={x:e.segpts[c],y:e.segpts[c+1]},f=e.roundCorners[c/2];if(f.radius===0){var p={x:e.segpts[c+2],y:e.segpts[c+3]};e.midX=d.x,e.midY=d.y,e.midVector=[d.y-p.y,p.x-d.x]}else{var h=[d.x-f.cx,d.y-f.cy],g=f.radius/Math.sqrt(Math.pow(h[0],2)+Math.pow(h[1],2));h=h.map(function(_){return _*g}),e.midX=f.cx+h[0],e.midY=f.cy+h[1],e.midVector=h}}}}};Qa.checkForInvalidEdgeWarning=function(n){var e=n[0]._private.rscratch;e.nodesOverlap||At(e.startX)&&At(e.startY)&&At(e.endX)&&At(e.endY)?e.loggedErr=!1:e.loggedErr||(e.loggedErr=!0,Lr("Edge `"+n.id()+"` has invalid endpoints and so it is impossible to draw.  Adjust your edge style (e.g. control points) accordingly or use an alternative edge type.  This is expected behaviour when the source node and the target node overlap."))};Qa.findEdgeControlPoints=function(n){var e=this;if(!(!n||n.length===0)){for(var u=this,a=u.cy,r=a.hasCompoundNodes(),t=new Xs,i=function(O,I){return[].concat(DF(O),[I?1:0]).join("-")},o=[],l=[],s=0;s<n.length;s++){var c=n[s],d=c._private,f=c.pstyle("curve-style").value;if(!(c.removed()||!c.takesUpSpace())){if(f==="haystack"){l.push(c);continue}var p=f==="unbundled-bezier"||nl(f,"segments")||f==="straight"||f==="straight-triangle"||nl(f,"taxi"),h=f==="unbundled-bezier"||f==="bezier",g=d.source,_=d.target,m=g.poolIndex(),w=_.poolIndex(),T=[m,w].sort(),E=i(T,p),S=t.get(E);S==null&&(S={eles:[]},o.push({pairId:T,edgeIsUnbundled:p}),t.set(E,S)),S.eles.push(c),p&&(S.hasUnbundled=!0),h&&(S.hasBezier=!0)}}for(var N=function(){var O=o[j],I=O.pairId,A=O.edgeIsUnbundled,P=i(I,A),C=t.get(P),B;if(!C.hasUnbundled){var V=C.eles[0].parallelEdges().filter(function(ve){return ve.isBundledBezier()});HH(C.eles),V.forEach(function(ve){return C.eles.push(ve)}),C.eles.sort(function(ve,ye){return ve.poolIndex()-ye.poolIndex()})}var U=C.eles[0],G=U.source(),J=U.target();if(G.poolIndex()>J.poolIndex()){var ne=G;G=J,J=ne}var W=C.srcPos=G.position(),ee=C.tgtPos=J.position(),se=C.srcW=G.outerWidth(),pe=C.srcH=G.outerHeight(),le=C.tgtW=J.outerWidth(),Ee=C.tgtH=J.outerHeight(),Ae=C.srcShape=u.nodeShapes[e.getNodeShape(G)],Ne=C.tgtShape=u.nodeShapes[e.getNodeShape(J)],Oe=C.srcCornerRadius=G.pstyle("corner-radius").value==="auto"?"auto":G.pstyle("corner-radius").pfValue,be=C.tgtCornerRadius=J.pstyle("corner-radius").value==="auto"?"auto":J.pstyle("corner-radius").pfValue,te=C.tgtRs=J._private.rscratch,v=C.srcRs=G._private.rscratch;C.dirCounts={north:0,west:0,south:0,east:0,northwest:0,southwest:0,northeast:0,southeast:0};for(var F=0;F<C.eles.length;F++){var D=C.eles[F],L=D[0]._private.rscratch,H=D.pstyle("curve-style").value,Z=H==="unbundled-bezier"||nl(H,"segments")||nl(H,"taxi"),$=!G.same(D.source());if(!C.calculatedIntersection&&G!==J&&(C.hasBezier||C.hasUnbundled)){C.calculatedIntersection=!0;var ue=Ae.intersectLine(W.x,W.y,se,pe,ee.x,ee.y,0,Oe,v),ae=C.srcIntn=ue,ce=Ne.intersectLine(ee.x,ee.y,le,Ee,W.x,W.y,0,be,te),Se=C.tgtIntn=ce,xe=C.intersectionPts={x1:ue[0],x2:ce[0],y1:ue[1],y2:ce[1]},Ce=C.posPts={x1:W.x,x2:ee.x,y1:W.y,y2:ee.y},He=ce[1]-ue[1],Je=ce[0]-ue[0],Ye=Math.sqrt(Je*Je+He*He);At(Ye)&&Ye>=UVe||(Ye=Math.sqrt(Math.max(Je*Je,R4)+Math.max(He*He,R4)));var oe=C.vector={x:Je,y:He},X=C.vectorNorm={x:oe.x/Ye,y:oe.y/Ye},Y={x:-X.y,y:X.x};C.nodesOverlap=!At(Ye)||Ne.checkPoint(ue[0],ue[1],0,le,Ee,ee.x,ee.y,be,te)||Ae.checkPoint(ce[0],ce[1],0,se,pe,W.x,W.y,Oe,v),C.vectorNormInverse=Y,B={nodesOverlap:C.nodesOverlap,dirCounts:C.dirCounts,calculatedIntersection:!0,hasBezier:C.hasBezier,hasUnbundled:C.hasUnbundled,eles:C.eles,srcPos:ee,srcRs:te,tgtPos:W,tgtRs:v,srcW:le,srcH:Ee,tgtW:se,tgtH:pe,srcIntn:Se,tgtIntn:ae,srcShape:Ne,tgtShape:Ae,posPts:{x1:Ce.x2,y1:Ce.y2,x2:Ce.x1,y2:Ce.y1},intersectionPts:{x1:xe.x2,y1:xe.y2,x2:xe.x1,y2:xe.y1},vector:{x:-oe.x,y:-oe.y},vectorNorm:{x:-X.x,y:-X.y},vectorNormInverse:{x:-Y.x,y:-Y.y}}}var he=$?B:C;L.nodesOverlap=he.nodesOverlap,L.srcIntn=he.srcIntn,L.tgtIntn=he.tgtIntn,L.isRound=H.startsWith("round"),r&&(G.isParent()||G.isChild()||J.isParent()||J.isChild())&&(G.parents().anySame(J)||J.parents().anySame(G)||G.same(J)&&G.isParent())?e.findCompoundLoopPoints(D,he,F,Z):G===J?e.findLoopPoints(D,he,F,Z):H.endsWith("segments")?e.findSegmentsPoints(D,he):H.endsWith("taxi")?e.findTaxiPoints(D,he):H==="straight"||!Z&&C.eles.length%2===1&&F===Math.floor(C.eles.length/2)?e.findStraightEdgePoints(D):e.findBezierPoints(D,he,F,Z,$),e.findEndpoints(D),e.tryToCorrectInvalidPoints(D,he),e.checkForInvalidEdgeWarning(D),e.storeAllpts(D),e.storeEdgeProjections(D),e.calculateArrowAngles(D),e.recalculateEdgeLabelProjections(D),e.calculateLabelAngles(D)}},j=0;j<o.length;j++)N();this.findHaystackPoints(l)}};function YSe(n){var e=[];if(n!=null){for(var u=0;u<n.length;u+=2){var a=n[u],r=n[u+1];e.push({x:a,y:r})}return e}}Qa.getSegmentPoints=function(n){var e=n[0]._private.rscratch;this.recalculateRenderedStyle(n);var u=e.edgeType;if(u==="segments")return YSe(e.segpts)};Qa.getControlPoints=function(n){var e=n[0]._private.rscratch;this.recalculateRenderedStyle(n);var u=e.edgeType;if(u==="bezier"||u==="multibezier"||u==="self"||u==="compound")return YSe(e.ctrlpts)};Qa.getEdgeMidpoint=function(n){var e=n[0]._private.rscratch;return this.recalculateRenderedStyle(n),{x:e.midX,y:e.midY}};var vN={};vN.manualEndptToPx=function(n,e){var u=this,a=n.position(),r=n.outerWidth(),t=n.outerHeight(),i=n._private.rscratch;if(e.value.length===2){var o=[e.pfValue[0],e.pfValue[1]];return e.units[0]==="%"&&(o[0]=o[0]*r),e.units[1]==="%"&&(o[1]=o[1]*t),o[0]+=a.x,o[1]+=a.y,o}else{var l=e.pfValue[0];l=-Math.PI/2+l;var s=2*Math.max(r,t),c=[a.x+Math.cos(l)*s,a.y+Math.sin(l)*s];return u.nodeShapes[this.getNodeShape(n)].intersectLine(a.x,a.y,r,t,c[0],c[1],0,n.pstyle("corner-radius").value==="auto"?"auto":n.pstyle("corner-radius").pfValue,i)}};vN.findEndpoints=function(n){var e,u,a,r,t=this,i,o=n.source()[0],l=n.target()[0],s=o.position(),c=l.position(),d=n.pstyle("target-arrow-shape").value,f=n.pstyle("source-arrow-shape").value,p=n.pstyle("target-distance-from-node").pfValue,h=n.pstyle("source-distance-from-node").pfValue,g=o._private.rscratch,_=l._private.rscratch,m=n.pstyle("curve-style").value,w=n._private.rscratch,T=w.edgeType,E=nl(m,"taxi"),S=T==="self"||T==="compound",N=T==="bezier"||T==="multibezier"||S,j=T!=="bezier",q=T==="straight"||T==="segments",O=T==="segments",I=N||j||q,A=S||E,P=n.pstyle("source-endpoint"),C=A?"outside-to-node":P.value,B=o.pstyle("corner-radius").value==="auto"?"auto":o.pstyle("corner-radius").pfValue,V=n.pstyle("target-endpoint"),U=A?"outside-to-node":V.value,G=l.pstyle("corner-radius").value==="auto"?"auto":l.pstyle("corner-radius").pfValue;w.srcManEndpt=P,w.tgtManEndpt=V;var J,ne,W,ee,se=(e=(V==null||(u=V.pfValue)===null||u===void 0?void 0:u.length)===2?V.pfValue:null)!==null&&e!==void 0?e:[0,0],pe=(a=(P==null||(r=P.pfValue)===null||r===void 0?void 0:r.length)===2?P.pfValue:null)!==null&&a!==void 0?a:[0,0];if(N){var le=[w.ctrlpts[0],w.ctrlpts[1]],Ee=j?[w.ctrlpts[w.ctrlpts.length-2],w.ctrlpts[w.ctrlpts.length-1]]:le;J=Ee,ne=le}else if(q){var Ae=O?w.segpts.slice(0,2):[c.x+se[0],c.y+se[1]],Ne=O?w.segpts.slice(w.segpts.length-2):[s.x+pe[0],s.y+pe[1]];J=Ne,ne=Ae}if(U==="inside-to-node")i=[c.x,c.y];else if(V.units)i=this.manualEndptToPx(l,V);else if(U==="outside-to-line")i=w.tgtIntn;else if(U==="outside-to-node"||U==="outside-to-node-or-label"?W=J:(U==="outside-to-line"||U==="outside-to-line-or-label")&&(W=[s.x,s.y]),i=t.nodeShapes[this.getNodeShape(l)].intersectLine(c.x,c.y,l.outerWidth(),l.outerHeight(),W[0],W[1],0,G,_),U==="outside-to-node-or-label"||U==="outside-to-line-or-label"){var Oe=l._private.rscratch,be=Oe.labelWidth,te=Oe.labelHeight,v=Oe.labelX,F=Oe.labelY,D=be/2,L=te/2,H=l.pstyle("text-valign").value;H==="top"?F-=L:H==="bottom"&&(F+=L);var Z=l.pstyle("text-halign").value;Z==="left"?v-=D:Z==="right"&&(v+=D);var $=S4(W[0],W[1],[v-D,F-L,v+D,F-L,v+D,F+L,v-D,F+L],c.x,c.y);if($.length>0){var ue=s,ae=Ym(ue,Ug(i)),ce=Ym(ue,Ug($)),Se=ae;if(ce<ae&&(i=$,Se=ce),$.length>2){var xe=Ym(ue,{x:$[2],y:$[3]});xe<Se&&(i=[$[2],$[3]])}}}var Ce=LD(i,J,t.arrowShapes[d].spacing(n)+p),He=LD(i,J,t.arrowShapes[d].gap(n)+p);if(w.endX=He[0],w.endY=He[1],w.arrowEndX=Ce[0],w.arrowEndY=Ce[1],C==="inside-to-node")i=[s.x,s.y];else if(P.units)i=this.manualEndptToPx(o,P);else if(C==="outside-to-line")i=w.srcIntn;else if(C==="outside-to-node"||C==="outside-to-node-or-label"?ee=ne:(C==="outside-to-line"||C==="outside-to-line-or-label")&&(ee=[c.x,c.y]),i=t.nodeShapes[this.getNodeShape(o)].intersectLine(s.x,s.y,o.outerWidth(),o.outerHeight(),ee[0],ee[1],0,B,g),C==="outside-to-node-or-label"||C==="outside-to-line-or-label"){var Je=o._private.rscratch,Ye=Je.labelWidth,oe=Je.labelHeight,X=Je.labelX,Y=Je.labelY,he=Ye/2,ve=oe/2,ye=o.pstyle("text-valign").value;ye==="top"?Y-=ve:ye==="bottom"&&(Y+=ve);var re=o.pstyle("text-halign").value;re==="left"?X-=he:re==="right"&&(X+=he);var Ie=S4(ee[0],ee[1],[X-he,Y-ve,X+he,Y-ve,X+he,Y+ve,X-he,Y+ve],s.x,s.y);if(Ie.length>0){var Le=c,Pe=Ym(Le,Ug(i)),Fe=Ym(Le,Ug(Ie)),R=Pe;if(Fe<Pe&&(i=[Ie[0],Ie[1]],R=Fe),Ie.length>2){var k=Ym(Le,{x:Ie[2],y:Ie[3]});k<R&&(i=[Ie[2],Ie[3]])}}}var K=LD(i,ne,t.arrowShapes[f].spacing(n)+h),de=LD(i,ne,t.arrowShapes[f].gap(n)+h);w.startX=de[0],w.startY=de[1],w.arrowStartX=K[0],w.arrowStartY=K[1],I&&(!At(w.startX)||!At(w.startY)||!At(w.endX)||!At(w.endY)?w.badLine=!0:w.badLine=!1)};vN.getSourceEndpoint=function(n){var e=n[0]._private.rscratch;return this.recalculateRenderedStyle(n),e.edgeType==="haystack"?{x:e.haystackPts[0],y:e.haystackPts[1]}:{x:e.arrowStartX,y:e.arrowStartY}};vN.getTargetEndpoint=function(n){var e=n[0]._private.rscratch;return this.recalculateRenderedStyle(n),e.edgeType==="haystack"?{x:e.haystackPts[2],y:e.haystackPts[3]}:{x:e.arrowEndX,y:e.arrowEndY}};var ik={};function QVe(n,e,u){for(var a=function(s,c,d,f){return ua(s,c,d,f)},r=e._private,t=r.rstyle.bezierPts,i=0;i<n.bezierProjPcts.length;i++){var o=n.bezierProjPcts[i];t.push({x:a(u[0],u[2],u[4],o),y:a(u[1],u[3],u[5],o)})}}ik.storeEdgeProjections=function(n){var e=n._private,u=e.rscratch,a=u.edgeType;if(e.rstyle.bezierPts=null,e.rstyle.linePts=null,e.rstyle.haystackPts=null,a==="multibezier"||a==="bezier"||a==="self"||a==="compound"){e.rstyle.bezierPts=[];for(var r=0;r+5<u.allpts.length;r+=4)QVe(this,n,u.allpts.slice(r,r+6))}else if(a==="segments")for(var t=e.rstyle.linePts=[],r=0;r+1<u.allpts.length;r+=2)t.push({x:u.allpts[r],y:u.allpts[r+1]});else if(a==="haystack"){var i=u.haystackPts;e.rstyle.haystackPts=[{x:i[0],y:i[1]},{x:i[2],y:i[3]}]}e.rstyle.arrowWidth=this.getArrowWidth(n.pstyle("width").pfValue,n.pstyle("arrow-scale").value)*this.arrowShapeWidth};ik.recalculateEdgeProjections=function(n){this.findEdgeControlPoints(n)};var es={};es.recalculateNodeLabelProjection=function(n){var e=n.pstyle("label").strValue;if(!fl(e)){var u,a,r=n._private,t=n.width(),i=n.height(),o=n.padding(),l=n.position(),s=n.pstyle("text-halign").strValue,c=n.pstyle("text-valign").strValue,d=r.rscratch,f=r.rstyle;switch(s){case"left":u=l.x-t/2-o;break;case"right":u=l.x+t/2+o;break;default:u=l.x}switch(c){case"top":a=l.y-i/2-o;break;case"bottom":a=l.y+i/2+o;break;default:a=l.y}d.labelX=u,d.labelY=a,f.labelX=u,f.labelY=a,this.calculateLabelAngles(n),this.applyLabelDimensions(n)}};var ZSe=function(e,u){var a=Math.atan(u/e);return e===0&&a<0&&(a=a*-1),a},eEe=function(e,u){var a=u.x-e.x,r=u.y-e.y;return ZSe(a,r)},VVe=function(e,u,a,r){var t=w4(0,r-.001,1),i=w4(0,r+.001,1),o=kg(e,u,a,t),l=kg(e,u,a,i);return eEe(o,l)};es.recalculateEdgeLabelProjections=function(n){var e,u=n._private,a=u.rscratch,r=this,t={mid:n.pstyle("label").strValue,source:n.pstyle("source-label").strValue,target:n.pstyle("target-label").strValue};if(t.mid||t.source||t.target){e={x:a.midX,y:a.midY};var i=function(d,f,p){$s(u.rscratch,d,f,p),$s(u.rstyle,d,f,p)};i("labelX",null,e.x),i("labelY",null,e.y);var o=ZSe(a.midDispX,a.midDispY);i("labelAutoAngle",null,o);var l=function(){if(l.cache)return l.cache;for(var d=[],f=0;f+5<a.allpts.length;f+=4){var p={x:a.allpts[f],y:a.allpts[f+1]},h={x:a.allpts[f+2],y:a.allpts[f+3]},g={x:a.allpts[f+4],y:a.allpts[f+5]};d.push({p0:p,p1:h,p2:g,startDist:0,length:0,segments:[]})}var _=u.rstyle.bezierPts,m=r.bezierProjPcts.length;function w(j,q,O,I,A){var P=lb(q,O),C=j.segments[j.segments.length-1],B={p0:q,p1:O,t0:I,t1:A,startDist:C?C.startDist+C.length:0,length:P};j.segments.push(B),j.length+=P}for(var T=0;T<d.length;T++){var E=d[T],S=d[T-1];S&&(E.startDist=S.startDist+S.length),w(E,E.p0,_[T*m],0,r.bezierProjPcts[0]);for(var N=0;N<m-1;N++)w(E,_[T*m+N],_[T*m+N+1],r.bezierProjPcts[N],r.bezierProjPcts[N+1]);w(E,_[T*m+m-1],E.p2,r.bezierProjPcts[m-1],1)}return l.cache=d},s=function(d){var f,p=d==="source";if(t[d]){var h=n.pstyle(d+"-text-offset").pfValue;switch(a.edgeType){case"self":case"compound":case"bezier":case"multibezier":{for(var g=l(),_,m=0,w=0,T=0;T<g.length;T++){for(var E=g[p?T:g.length-1-T],S=0;S<E.segments.length;S++){var N=E.segments[p?S:E.segments.length-1-S],j=T===g.length-1&&S===E.segments.length-1;if(m=w,w+=N.length,w>=h||j){_={cp:E,segment:N};break}}if(_)break}var q=_.cp,O=_.segment,I=(h-m)/O.length,A=O.t1-O.t0,P=p?O.t0+A*I:O.t1-A*I;P=w4(0,P,1),e=kg(q.p0,q.p1,q.p2,P),f=VVe(q.p0,q.p1,q.p2,P);break}case"straight":case"segments":case"haystack":{for(var C=0,B,V,U,G,J=a.allpts.length,ne=0;ne+3<J&&(p?(U={x:a.allpts[ne],y:a.allpts[ne+1]},G={x:a.allpts[ne+2],y:a.allpts[ne+3]}):(U={x:a.allpts[J-2-ne],y:a.allpts[J-1-ne]},G={x:a.allpts[J-4-ne],y:a.allpts[J-3-ne]}),B=lb(U,G),V=C,C+=B,!(C>=h));ne+=2);var W=h-V,ee=W/B;ee=w4(0,ee,1),e=lBe(U,G,ee),f=eEe(U,G);break}}i("labelX",d,e.x),i("labelY",d,e.y),i("labelAutoAngle",d,f)}};s("source"),s("target"),this.applyLabelDimensions(n)}};es.applyLabelDimensions=function(n){this.applyPrefixedLabelDimensions(n),n.isEdge()&&(this.applyPrefixedLabelDimensions(n,"source"),this.applyPrefixedLabelDimensions(n,"target"))};es.applyPrefixedLabelDimensions=function(n,e){var u=n._private,a=this.getLabelText(n,e),r=cb(a,n._private.labelDimsKey);if(pi(u.rscratch,"prefixedLabelDimsKey",e)!==r){$s(u.rscratch,"prefixedLabelDimsKey",e,r);var t=this.calculateLabelDimensions(n,a),i=n.pstyle("line-height").pfValue,o=n.pstyle("text-wrap").strValue,l=pi(u.rscratch,"labelWrapCachedLines",e)||[],s=o!=="wrap"?1:Math.max(l.length,1),c=t.height/s,d=c*i,f=t.width,p=t.height+(s-1)*(i-1)*c;$s(u.rstyle,"labelWidth",e,f),$s(u.rscratch,"labelWidth",e,f),$s(u.rstyle,"labelHeight",e,p),$s(u.rscratch,"labelHeight",e,p),$s(u.rscratch,"labelLineHeight",e,d)}};es.getLabelText=function(n,e){var u=n._private,a=e?e+"-":"",r=n.pstyle(a+"label").strValue,t=n.pstyle("text-transform").value,i=function(pe,le){return le?($s(u.rscratch,pe,e,le),le):pi(u.rscratch,pe,e)};if(!r)return"";t=="none"||(t=="uppercase"?r=r.toUpperCase():t=="lowercase"&&(r=r.toLowerCase()));var o=n.pstyle("text-wrap").value;if(o==="wrap"){var l=i("labelKey");if(l!=null&&i("labelWrapKey")===l)return i("labelWrapCachedText");for(var s="",c=r.split(`
`),d=n.pstyle("text-max-width").pfValue,f=n.pstyle("text-overflow-wrap").value,p=f==="anywhere",h=[],g=/[\s\u200b]+|$/g,_=0;_<c.length;_++){var m=c[_],w=this.calculateLabelDimensions(n,m),T=w.width;if(p){var E=m.split("").join(s);m=E}if(T>d){var S=m.matchAll(g),N="",j=0,q=yi(S),O;try{for(q.s();!(O=q.n()).done;){var I=O.value,A=I[0],P=m.substring(j,I.index);j=I.index+A.length;var C=N.length===0?P:N+P+A,B=this.calculateLabelDimensions(n,C),V=B.width;V<=d?N+=P+A:(N&&h.push(N),N=P+A)}}catch(se){q.e(se)}finally{q.f()}N.match(/^[\s\u200b]+$/)||h.push(N)}else h.push(m)}i("labelWrapCachedLines",h),r=i("labelWrapCachedText",h.join(`
`)),i("labelWrapKey",l)}else if(o==="ellipsis"){var U=n.pstyle("text-max-width").pfValue,G="",J="",ne=!1;if(this.calculateLabelDimensions(n,r).width<U)return r;for(var W=0;W<r.length;W++){var ee=this.calculateLabelDimensions(n,G+r[W]+J).width;if(ee>U)break;G+=r[W],W===r.length-1&&(ne=!0)}return ne||(G+=J),G}return r};es.getLabelJustification=function(n){var e=n.pstyle("text-justification").strValue,u=n.pstyle("text-halign").strValue;if(e==="auto")if(n.isNode())switch(u){case"left":return"right";case"right":return"left";default:return"center"}else return"center";else return e};es.calculateLabelDimensions=function(n,e){var u=this,a=u.cy.window(),r=a.document,t=0,i=n.pstyle("font-style").strValue,o=n.pstyle("font-size").pfValue,l=n.pstyle("font-family").strValue,s=n.pstyle("font-weight").strValue,c=this.labelCalcCanvas,d=this.labelCalcCanvasContext;if(!c){c=this.labelCalcCanvas=r.createElement("canvas"),d=this.labelCalcCanvasContext=c.getContext("2d");var f=c.style;f.position="absolute",f.left="-9999px",f.top="-9999px",f.zIndex="-1",f.visibility="hidden",f.pointerEvents="none"}d.font="".concat(i," ").concat(s," ").concat(o,"px ").concat(l);for(var p=0,h=0,g=e.split(`
`),_=0;_<g.length;_++){var m=g[_],w=d.measureText(m),T=Math.ceil(w.width),E=o;p=Math.max(T,p),h+=E}return p+=t,h+=t,{width:p,height:h}};es.calculateLabelAngle=function(n,e){var u=n._private,a=u.rscratch,r=n.isEdge(),t=e?e+"-":"",i=n.pstyle(t+"text-rotation"),o=i.strValue;return o==="none"?0:r&&o==="autorotate"?a.labelAutoAngle:o==="autorotate"?0:i.pfValue};es.calculateLabelAngles=function(n){var e=this,u=n.isEdge(),a=n._private,r=a.rscratch;r.labelAngle=e.calculateLabelAngle(n),u&&(r.sourceLabelAngle=e.calculateLabelAngle(n,"source"),r.targetLabelAngle=e.calculateLabelAngle(n,"target"))};var tEe={},X1e=28,K1e=!1;tEe.getNodeShape=function(n){var e=this,u=n.pstyle("shape").value;if(u==="cutrectangle"&&(n.width()<X1e||n.height()<X1e))return K1e||(Lr("The `cutrectangle` node shape can not be used at small sizes so `rectangle` is used instead"),K1e=!0),"rectangle";if(n.isParent())return u==="rectangle"||u==="roundrectangle"||u==="round-rectangle"||u==="cutrectangle"||u==="cut-rectangle"||u==="barrel"?u:"rectangle";if(u==="polygon"){var a=n.pstyle("shape-polygon-points").value;return e.nodeShapes.makePolygon(a).name}return u};var ZP={};ZP.registerCalculationListeners=function(){var n=this.cy,e=n.collection(),u=this,a=function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e.merge(i),o)for(var l=0;l<i.length;l++){var s=i[l],c=s._private,d=c.rstyle;d.clean=!1,d.cleanConnected=!1}};u.binder(n).on("bounds.* dirty.*",function(i){var o=i.target;a(o)}).on("style.* background.*",function(i){var o=i.target;a(o,!1)});var r=function(i){if(i){var o=u.onUpdateEleCalcsFns;e.cleanStyle();for(var l=0;l<e.length;l++){var s=e[l],c=s._private.rstyle;s.isNode()&&!c.cleanConnected&&(a(s.connectedEdges()),c.cleanConnected=!0)}if(o)for(var d=0;d<o.length;d++){var f=o[d];f(i,e)}u.recalculateRenderedStyle(e),e=n.collection()}};u.flushRenderedStyleQueue=function(){r(!0)},u.beforeRender(r,u.beforeRenderPriorities.eleCalcs)};ZP.onUpdateEleCalcs=function(n){var e=this.onUpdateEleCalcsFns=this.onUpdateEleCalcsFns||[];e.push(n)};ZP.recalculateRenderedStyle=function(n,e){var u=function(E){return E._private.rstyle.cleanConnected};if(n.length!==0){var a=[],r=[];if(!this.destroyed){e===void 0&&(e=!0);for(var t=0;t<n.length;t++){var i=n[t],o=i._private,l=o.rstyle;i.isEdge()&&(!u(i.source())||!u(i.target()))&&(l.clean=!1),i.isEdge()&&i.isBundledBezier()&&i.parallelEdges().some(function(T){return!T._private.rstyle.clean&&T.isBundledBezier()})&&(l.clean=!1),!(e&&l.clean||i.removed())&&i.pstyle("display").value!=="none"&&(o.group==="nodes"?r.push(i):a.push(i),l.clean=!0)}for(var s=0;s<r.length;s++){var c=r[s],d=c._private,f=d.rstyle,p=c.position();this.recalculateNodeLabelProjection(c),f.nodeX=p.x,f.nodeY=p.y,f.nodeW=c.pstyle("width").pfValue,f.nodeH=c.pstyle("height").pfValue}this.recalculateEdgeProjections(a);for(var h=0;h<a.length;h++){var g=a[h],_=g._private,m=_.rstyle,w=_.rscratch;m.srcX=w.arrowStartX,m.srcY=w.arrowStartY,m.tgtX=w.arrowEndX,m.tgtY=w.arrowEndY,m.midX=w.midX,m.midY=w.midY,m.labelAngle=w.labelAngle,m.sourceLabelAngle=w.sourceLabelAngle,m.targetLabelAngle=w.targetLabelAngle}}}};var e8={};e8.updateCachedGrabbedEles=function(){var n=this.cachedZSortedEles;if(n){n.drag=[],n.nondrag=[];for(var e=[],u=0;u<n.length;u++){var a=n[u],r=a._private.rscratch;a.grabbed()&&!a.isParent()?e.push(a):r.inDragLayer?n.drag.push(a):n.nondrag.push(a)}for(var u=0;u<e.length;u++){var a=e[u];n.drag.push(a)}}};e8.invalidateCachedZSortedEles=function(){this.cachedZSortedEles=null};e8.getCachedZSortedEles=function(n){if(n||!this.cachedZSortedEles){var e=this.cy.mutableElements().toArray();e.sort(CSe),e.interactive=e.filter(function(u){return u.interactive()}),this.cachedZSortedEles=e,this.updateCachedGrabbedEles()}else e=this.cachedZSortedEles;return e};var rEe={};[Ob,QF,Qa,vN,ik,es,tEe,ZP,e8].forEach(function(n){Bt(rEe,n)});var nEe={};nEe.getCachedImage=function(n,e,u){var a=this,r=a.imageCache=a.imageCache||{},t=r[n];if(t)return t.image.complete||t.image.addEventListener("load",u),t.image;t=r[n]=r[n]||{};var i=t.image=new Image;i.addEventListener("load",u),i.addEventListener("error",function(){i.error=!0});var o="data:",l=n.substring(0,o.length).toLowerCase()===o;return l||(e=e==="null"?null:e,i.crossOrigin=e),i.src=n,i};var P1={};P1.registerBinding=function(n,e,u,a){var r=Array.prototype.slice.apply(arguments,[1]);if(Array.isArray(n)){for(var t=[],i=0;i<n.length;i++){var o=n[i];if(o!==void 0){var l=this.binder(o);t.push(l.on.apply(l,r))}}return t}var l=this.binder(n);return l.on.apply(l,r)};P1.binder=function(n){var e=this,u=e.cy.window(),a=n===u||n===u.document||n===u.document.body||eqe(n);if(e.supportsPassiveEvents==null){var r=!1;try{var t=Object.defineProperty({},"passive",{get:function(){return r=!0,!0}});u.addEventListener("test",null,t)}catch{}e.supportsPassiveEvents=r}var i=function(l,s,c){var d=Array.prototype.slice.call(arguments);return a&&e.supportsPassiveEvents&&(d[2]={capture:c??!1,passive:!1,once:!1}),e.bindings.push({target:n,args:d}),(n.addEventListener||n.on).apply(n,d),this};return{on:i,addEventListener:i,addListener:i,bind:i}};P1.nodeIsDraggable=function(n){return n&&n.isNode()&&!n.locked()&&n.grabbable()};P1.nodeIsGrabbable=function(n){return this.nodeIsDraggable(n)&&n.interactive()};P1.load=function(){var n=this,e=n.cy.window(),u=function(re){return re.selected()},a=function(re){var Ie=re.getRootNode();if(Ie&&Ie.nodeType===11&&Ie.host!==void 0)return Ie},r=function(re,Ie,Le,Pe){re==null&&(re=n.cy);for(var Fe=0;Fe<Ie.length;Fe++){var R=Ie[Fe];re.emit({originalEvent:Le,type:R,position:Pe})}},t=function(re){return re.shiftKey||re.metaKey||re.ctrlKey},i=function(re,Ie){var Le=!0;if(n.cy.hasCompoundNodes()&&re&&re.pannable())for(var Pe=0;Ie&&Pe<Ie.length;Pe++){var re=Ie[Pe];if(re.isNode()&&re.isParent()&&!re.pannable()){Le=!1;break}}else Le=!0;return Le},o=function(re){re[0]._private.grabbed=!0},l=function(re){re[0]._private.grabbed=!1},s=function(re){re[0]._private.rscratch.inDragLayer=!0},c=function(re){re[0]._private.rscratch.inDragLayer=!1},d=function(re){re[0]._private.rscratch.isGrabTarget=!0},f=function(re){re[0]._private.rscratch.isGrabTarget=!1},p=function(re,Ie){var Le=Ie.addToList,Pe=Le.has(re);!Pe&&re.grabbable()&&!re.locked()&&(Le.merge(re),o(re))},h=function(re,Ie){if(re.cy().hasCompoundNodes()&&!(Ie.inDragLayer==null&&Ie.addToList==null)){var Le=re.descendants();Ie.inDragLayer&&(Le.forEach(s),Le.connectedEdges().forEach(s)),Ie.addToList&&p(Le,Ie)}},g=function(re,Ie){Ie=Ie||{};var Le=re.cy().hasCompoundNodes();Ie.inDragLayer&&(re.forEach(s),re.neighborhood().stdFilter(function(Pe){return!Le||Pe.isEdge()}).forEach(s)),Ie.addToList&&re.forEach(function(Pe){p(Pe,Ie)}),h(re,Ie),w(re,{inDragLayer:Ie.inDragLayer}),n.updateCachedGrabbedEles()},_=g,m=function(re){re&&(n.getCachedZSortedEles().forEach(function(Ie){l(Ie),c(Ie),f(Ie)}),n.updateCachedGrabbedEles())},w=function(re,Ie){if(!(Ie.inDragLayer==null&&Ie.addToList==null)&&re.cy().hasCompoundNodes()){var Le=re.ancestors().orphans();if(!Le.same(re)){var Pe=Le.descendants().spawnSelf().merge(Le).unmerge(re).unmerge(re.descendants()),Fe=Pe.connectedEdges();Ie.inDragLayer&&(Fe.forEach(s),Pe.forEach(s)),Ie.addToList&&Pe.forEach(function(R){p(R,Ie)})}}},T=function(){document.activeElement!=null&&document.activeElement.blur!=null&&document.activeElement.blur()},E=typeof MutationObserver<"u",S=typeof ResizeObserver<"u";E?(n.removeObserver=new MutationObserver(function(ye){for(var re=0;re<ye.length;re++){var Ie=ye[re],Le=Ie.removedNodes;if(Le)for(var Pe=0;Pe<Le.length;Pe++){var Fe=Le[Pe];if(Fe===n.container){n.destroy();break}}}}),n.container.parentNode&&n.removeObserver.observe(n.container.parentNode,{childList:!0})):n.registerBinding(n.container,"DOMNodeRemoved",function(ye){n.destroy()});var N=yN(function(){n.cy.resize()},100);E&&(n.styleObserver=new MutationObserver(N),n.styleObserver.observe(n.container,{attributes:!0})),n.registerBinding(e,"resize",N),S&&(n.resizeObserver=new ResizeObserver(N),n.resizeObserver.observe(n.container));var j=function(re,Ie){for(;re!=null;)Ie(re),re=re.parentNode},q=function(){n.invalidateContainerClientCoordsCache()};j(n.container,function(ye){n.registerBinding(ye,"transitionend",q),n.registerBinding(ye,"animationend",q),n.registerBinding(ye,"scroll",q)}),n.registerBinding(n.container,"contextmenu",function(ye){ye.preventDefault()});var O=function(){return n.selection[4]!==0},I=function(re){for(var Ie=n.findContainerClientCoords(),Le=Ie[0],Pe=Ie[1],Fe=Ie[2],R=Ie[3],k=re.touches?re.touches:[re],K=!1,de=0;de<k.length;de++){var ge=k[de];if(Le<=ge.clientX&&ge.clientX<=Le+Fe&&Pe<=ge.clientY&&ge.clientY<=Pe+R){K=!0;break}}if(!K)return!1;for(var Qe=n.container,je=re.target,$e=je.parentNode,at=!1;$e;){if($e===Qe){at=!0;break}$e=$e.parentNode}return!!at};n.registerBinding(n.container,"mousedown",function(re){if(I(re)&&!(n.hoverData.which===1&&re.which!==1)){re.preventDefault(),T(),n.hoverData.capture=!0,n.hoverData.which=re.which;var Ie=n.cy,Le=[re.clientX,re.clientY],Pe=n.projectIntoViewport(Le[0],Le[1]),Fe=n.selection,R=n.findNearestElements(Pe[0],Pe[1],!0,!1),k=R[0],K=n.dragData.possibleDragElements;n.hoverData.mdownPos=Pe,n.hoverData.mdownGPos=Le;var de=function(fe){return{originalEvent:re,type:fe,position:{x:Pe[0],y:Pe[1]}}},ge=function(){n.hoverData.tapholdCancelled=!1,clearTimeout(n.hoverData.tapholdTimeout),n.hoverData.tapholdTimeout=setTimeout(function(){if(!n.hoverData.tapholdCancelled){var fe=n.hoverData.down;fe?fe.emit(de("taphold")):Ie.emit(de("taphold"))}},n.tapholdDuration)};if(re.which==3){n.hoverData.cxtStarted=!0;var Qe={originalEvent:re,type:"cxttapstart",position:{x:Pe[0],y:Pe[1]}};k?(k.activate(),k.emit(Qe),n.hoverData.down=k):Ie.emit(Qe),n.hoverData.downTime=new Date().getTime(),n.hoverData.cxtDragged=!1}else if(re.which==1){k&&k.activate();{if(k!=null&&n.nodeIsGrabbable(k)){var je=function(fe){fe.emit(de("grab"))};if(d(k),!k.selected())K=n.dragData.possibleDragElements=Ie.collection(),_(k,{addToList:K}),k.emit(de("grabon")).emit(de("grab"));else{K=n.dragData.possibleDragElements=Ie.collection();var $e=Ie.$(function(at){return at.isNode()&&at.selected()&&n.nodeIsGrabbable(at)});g($e,{addToList:K}),k.emit(de("grabon")),$e.forEach(je)}n.redrawHint("eles",!0),n.redrawHint("drag",!0)}n.hoverData.down=k,n.hoverData.downs=R,n.hoverData.downTime=new Date().getTime()}r(k,["mousedown","tapstart","vmousedown"],re,{x:Pe[0],y:Pe[1]}),k==null?(Fe[4]=1,n.data.bgActivePosistion={x:Pe[0],y:Pe[1]},n.redrawHint("select",!0),n.redraw()):k.pannable()&&(Fe[4]=1),ge()}Fe[0]=Fe[2]=Pe[0],Fe[1]=Fe[3]=Pe[1]}},!1);var A=a(n.container);n.registerBinding([e,A],"mousemove",function(re){var Ie=n.hoverData.capture;if(!(!Ie&&!I(re))){var Le=!1,Pe=n.cy,Fe=Pe.zoom(),R=[re.clientX,re.clientY],k=n.projectIntoViewport(R[0],R[1]),K=n.hoverData.mdownPos,de=n.hoverData.mdownGPos,ge=n.selection,Qe=null;!n.hoverData.draggingEles&&!n.hoverData.dragging&&!n.hoverData.selecting&&(Qe=n.findNearestElement(k[0],k[1],!0,!1));var je=n.hoverData.last,$e=n.hoverData.down,at=[k[0]-ge[2],k[1]-ge[3]],fe=n.dragData.possibleDragElements,Te;if(de){var qe=R[0]-de[0],it=qe*qe,Me=R[1]-de[1],st=Me*Me,tt=it+st;n.hoverData.isOverThresholdDrag=Te=tt>=n.desktopTapThreshold2}var Ot=t(re);Te&&(n.hoverData.tapholdCancelled=!0);var yt=function(){var vt=n.hoverData.dragDelta=n.hoverData.dragDelta||[];vt.length===0?(vt.push(at[0]),vt.push(at[1])):(vt[0]+=at[0],vt[1]+=at[1])};Le=!0,r(Qe,["mousemove","vmousemove","tapdrag"],re,{x:k[0],y:k[1]});var bt=function(vt){return{originalEvent:re,type:vt,position:{x:k[0],y:k[1]}}},Tt=function(){n.data.bgActivePosistion=void 0,n.hoverData.selecting||Pe.emit(bt("boxstart")),ge[4]=1,n.hoverData.selecting=!0,n.redrawHint("select",!0),n.redraw()};if(n.hoverData.which===3){if(Te){var xt=bt("cxtdrag");$e?$e.emit(xt):Pe.emit(xt),n.hoverData.cxtDragged=!0,(!n.hoverData.cxtOver||Qe!==n.hoverData.cxtOver)&&(n.hoverData.cxtOver&&n.hoverData.cxtOver.emit(bt("cxtdragout")),n.hoverData.cxtOver=Qe,Qe&&Qe.emit(bt("cxtdragover")))}}else if(n.hoverData.dragging){if(Le=!0,Pe.panningEnabled()&&Pe.userPanningEnabled()){var wt;if(n.hoverData.justStartedPan){var gt=n.hoverData.mdownPos;wt={x:(k[0]-gt[0])*Fe,y:(k[1]-gt[1])*Fe},n.hoverData.justStartedPan=!1}else wt={x:at[0]*Fe,y:at[1]*Fe};Pe.panBy(wt),Pe.emit(bt("dragpan")),n.hoverData.dragged=!0}k=n.projectIntoViewport(re.clientX,re.clientY)}else if(ge[4]==1&&($e==null||$e.pannable())){if(Te){if(!n.hoverData.dragging&&Pe.boxSelectionEnabled()&&(Ot||!Pe.panningEnabled()||!Pe.userPanningEnabled()))Tt();else if(!n.hoverData.selecting&&Pe.panningEnabled()&&Pe.userPanningEnabled()){var dr=i($e,n.hoverData.downs);dr&&(n.hoverData.dragging=!0,n.hoverData.justStartedPan=!0,ge[4]=0,n.data.bgActivePosistion=Ug(K),n.redrawHint("select",!0),n.redraw())}$e&&$e.pannable()&&$e.active()&&$e.unactivate()}}else{if($e&&$e.pannable()&&$e.active()&&$e.unactivate(),(!$e||!$e.grabbed())&&Qe!=je&&(je&&r(je,["mouseout","tapdragout"],re,{x:k[0],y:k[1]}),Qe&&r(Qe,["mouseover","tapdragover"],re,{x:k[0],y:k[1]}),n.hoverData.last=Qe),$e)if(Te){if(Pe.boxSelectionEnabled()&&Ot)$e&&$e.grabbed()&&(m(fe),$e.emit(bt("freeon")),fe.emit(bt("free")),n.dragData.didDrag&&($e.emit(bt("dragfreeon")),fe.emit(bt("dragfree")))),Tt();else if($e&&$e.grabbed()&&n.nodeIsDraggable($e)){var ht=!n.dragData.didDrag;ht&&n.redrawHint("eles",!0),n.dragData.didDrag=!0,n.hoverData.draggingEles||g(fe,{inDragLayer:!0});var Re={x:0,y:0};if(At(at[0])&&At(at[1])&&(Re.x+=at[0],Re.y+=at[1],ht)){var Ve=n.hoverData.dragDelta;Ve&&At(Ve[0])&&At(Ve[1])&&(Re.x+=Ve[0],Re.y+=Ve[1])}n.hoverData.draggingEles=!0,fe.silentShift(Re).emit(bt("position")).emit(bt("drag")),n.redrawHint("drag",!0),n.redraw()}}else yt();Le=!0}if(ge[2]=k[0],ge[3]=k[1],Le)return re.stopPropagation&&re.stopPropagation(),re.preventDefault&&re.preventDefault(),!1}},!1);var P,C,B;n.registerBinding(e,"mouseup",function(re){if(!(n.hoverData.which===1&&re.which!==1&&n.hoverData.capture)){var Ie=n.hoverData.capture;if(Ie){n.hoverData.capture=!1;var Le=n.cy,Pe=n.projectIntoViewport(re.clientX,re.clientY),Fe=n.selection,R=n.findNearestElement(Pe[0],Pe[1],!0,!1),k=n.dragData.possibleDragElements,K=n.hoverData.down,de=t(re);n.data.bgActivePosistion&&(n.redrawHint("select",!0),n.redraw()),n.hoverData.tapholdCancelled=!0,n.data.bgActivePosistion=void 0,K&&K.unactivate();var ge=function(qe){return{originalEvent:re,type:qe,position:{x:Pe[0],y:Pe[1]}}};if(n.hoverData.which===3){var Qe=ge("cxttapend");if(K?K.emit(Qe):Le.emit(Qe),!n.hoverData.cxtDragged){var je=ge("cxttap");K?K.emit(je):Le.emit(je)}n.hoverData.cxtDragged=!1,n.hoverData.which=null}else if(n.hoverData.which===1){if(r(R,["mouseup","tapend","vmouseup"],re,{x:Pe[0],y:Pe[1]}),!n.dragData.didDrag&&!n.hoverData.dragged&&!n.hoverData.selecting&&!n.hoverData.isOverThresholdDrag&&(r(K,["click","tap","vclick"],re,{x:Pe[0],y:Pe[1]}),C=!1,re.timeStamp-B<=Le.multiClickDebounceTime()?(P&&clearTimeout(P),C=!0,B=null,r(K,["dblclick","dbltap","vdblclick"],re,{x:Pe[0],y:Pe[1]})):(P=setTimeout(function(){C||r(K,["oneclick","onetap","voneclick"],re,{x:Pe[0],y:Pe[1]})},Le.multiClickDebounceTime()),B=re.timeStamp)),K==null&&!n.dragData.didDrag&&!n.hoverData.selecting&&!n.hoverData.dragged&&!t(re)&&(Le.$(u).unselect(["tapunselect"]),k.length>0&&n.redrawHint("eles",!0),n.dragData.possibleDragElements=k=Le.collection()),R==K&&!n.dragData.didDrag&&!n.hoverData.selecting&&R!=null&&R._private.selectable&&(n.hoverData.dragging||(Le.selectionType()==="additive"||de?R.selected()?R.unselect(["tapunselect"]):R.select(["tapselect"]):de||(Le.$(u).unmerge(R).unselect(["tapunselect"]),R.select(["tapselect"]))),n.redrawHint("eles",!0)),n.hoverData.selecting){var $e=Le.collection(n.getAllInBox(Fe[0],Fe[1],Fe[2],Fe[3]));n.redrawHint("select",!0),$e.length>0&&n.redrawHint("eles",!0),Le.emit(ge("boxend"));var at=function(qe){return qe.selectable()&&!qe.selected()};Le.selectionType()==="additive"||de||Le.$(u).unmerge($e).unselect(),$e.emit(ge("box")).stdFilter(at).select().emit(ge("boxselect")),n.redraw()}if(n.hoverData.dragging&&(n.hoverData.dragging=!1,n.redrawHint("select",!0),n.redrawHint("eles",!0),n.redraw()),!Fe[4]){n.redrawHint("drag",!0),n.redrawHint("eles",!0);var fe=K&&K.grabbed();m(k),fe&&(K.emit(ge("freeon")),k.emit(ge("free")),n.dragData.didDrag&&(K.emit(ge("dragfreeon")),k.emit(ge("dragfree"))))}}Fe[4]=0,n.hoverData.down=null,n.hoverData.cxtStarted=!1,n.hoverData.draggingEles=!1,n.hoverData.selecting=!1,n.hoverData.isOverThresholdDrag=!1,n.dragData.didDrag=!1,n.hoverData.dragged=!1,n.hoverData.dragDelta=[],n.hoverData.mdownPos=null,n.hoverData.mdownGPos=null,n.hoverData.which=null}}},!1);var V=[],U=4,G,J=1e5,ne=function(re,Ie){for(var Le=0;Le<re.length;Le++)if(re[Le]%Ie!==0)return!1;return!0},W=function(re){for(var Ie=Math.abs(re[0]),Le=1;Le<re.length;Le++)if(Math.abs(re[Le])!==Ie)return!1;return!0},ee=function(re){var Ie=!1,Le=re.deltaY;if(Le==null&&(re.wheelDeltaY!=null?Le=re.wheelDeltaY/4:re.wheelDelta!=null&&(Le=re.wheelDelta/4)),Le!==0){if(G==null)if(V.length>=U){var Pe=V;if(G=ne(Pe,5),!G){var Fe=Math.abs(Pe[0]);G=W(Pe)&&Fe>5}if(G)for(var R=0;R<Pe.length;R++)J=Math.min(Math.abs(Pe[R]),J)}else V.push(Le),Ie=!0;else G&&(J=Math.min(Math.abs(Le),J));if(!n.scrollingPage){var k=n.cy,K=k.zoom(),de=k.pan(),ge=n.projectIntoViewport(re.clientX,re.clientY),Qe=[ge[0]*K+de.x,ge[1]*K+de.y];if(n.hoverData.draggingEles||n.hoverData.dragging||n.hoverData.cxtStarted||O()){re.preventDefault();return}if(k.panningEnabled()&&k.userPanningEnabled()&&k.zoomingEnabled()&&k.userZoomingEnabled()){re.preventDefault(),n.data.wheelZooming=!0,clearTimeout(n.data.wheelTimeout),n.data.wheelTimeout=setTimeout(function(){n.data.wheelZooming=!1,n.redrawHint("eles",!0),n.redraw()},150);var je;Ie&&Math.abs(Le)>5&&(Le=zH(Le)*5),je=Le/-250,G&&(je/=J,je*=3),je=je*n.wheelSensitivity;var $e=re.deltaMode===1;$e&&(je*=33);var at=k.zoom()*Math.pow(10,je);re.type==="gesturechange"&&(at=n.gestureStartZoom*re.scale),k.zoom({level:at,renderedPosition:{x:Qe[0],y:Qe[1]}}),k.emit({type:re.type==="gesturechange"?"pinchzoom":"scrollzoom",originalEvent:re,position:{x:ge[0],y:ge[1]}})}}}};n.registerBinding(n.container,"wheel",ee,!0),n.registerBinding(e,"scroll",function(re){n.scrollingPage=!0,clearTimeout(n.scrollingPageTimeout),n.scrollingPageTimeout=setTimeout(function(){n.scrollingPage=!1},250)},!0),n.registerBinding(n.container,"gesturestart",function(re){n.gestureStartZoom=n.cy.zoom(),n.hasTouchStarted||re.preventDefault()},!0),n.registerBinding(n.container,"gesturechange",function(ye){n.hasTouchStarted||ee(ye)},!0),n.registerBinding(n.container,"mouseout",function(re){var Ie=n.projectIntoViewport(re.clientX,re.clientY);n.cy.emit({originalEvent:re,type:"mouseout",position:{x:Ie[0],y:Ie[1]}})},!1),n.registerBinding(n.container,"mouseover",function(re){var Ie=n.projectIntoViewport(re.clientX,re.clientY);n.cy.emit({originalEvent:re,type:"mouseover",position:{x:Ie[0],y:Ie[1]}})},!1);var se,pe,le,Ee,Ae,Ne,Oe,be,te,v,F,D,L,H=function(re,Ie,Le,Pe){return Math.sqrt((Le-re)*(Le-re)+(Pe-Ie)*(Pe-Ie))},Z=function(re,Ie,Le,Pe){return(Le-re)*(Le-re)+(Pe-Ie)*(Pe-Ie)},$;n.registerBinding(n.container,"touchstart",$=function(re){if(n.hasTouchStarted=!0,!!I(re)){T(),n.touchData.capture=!0,n.data.bgActivePosistion=void 0;var Ie=n.cy,Le=n.touchData.now,Pe=n.touchData.earlier;if(re.touches[0]){var Fe=n.projectIntoViewport(re.touches[0].clientX,re.touches[0].clientY);Le[0]=Fe[0],Le[1]=Fe[1]}if(re.touches[1]){var Fe=n.projectIntoViewport(re.touches[1].clientX,re.touches[1].clientY);Le[2]=Fe[0],Le[3]=Fe[1]}if(re.touches[2]){var Fe=n.projectIntoViewport(re.touches[2].clientX,re.touches[2].clientY);Le[4]=Fe[0],Le[5]=Fe[1]}var R=function(Ot){return{originalEvent:re,type:Ot,position:{x:Le[0],y:Le[1]}}};if(re.touches[1]){n.touchData.singleTouchMoved=!0,m(n.dragData.touchDragEles);var k=n.findContainerClientCoords();te=k[0],v=k[1],F=k[2],D=k[3],se=re.touches[0].clientX-te,pe=re.touches[0].clientY-v,le=re.touches[1].clientX-te,Ee=re.touches[1].clientY-v,L=0<=se&&se<=F&&0<=le&&le<=F&&0<=pe&&pe<=D&&0<=Ee&&Ee<=D;var K=Ie.pan(),de=Ie.zoom();Ae=H(se,pe,le,Ee),Ne=Z(se,pe,le,Ee),Oe=[(se+le)/2,(pe+Ee)/2],be=[(Oe[0]-K.x)/de,(Oe[1]-K.y)/de];var ge=200,Qe=ge*ge;if(Ne<Qe&&!re.touches[2]){var je=n.findNearestElement(Le[0],Le[1],!0,!0),$e=n.findNearestElement(Le[2],Le[3],!0,!0);je&&je.isNode()?(je.activate().emit(R("cxttapstart")),n.touchData.start=je):$e&&$e.isNode()?($e.activate().emit(R("cxttapstart")),n.touchData.start=$e):Ie.emit(R("cxttapstart")),n.touchData.start&&(n.touchData.start._private.grabbed=!1),n.touchData.cxt=!0,n.touchData.cxtDragged=!1,n.data.bgActivePosistion=void 0,n.redraw();return}}if(re.touches[2])Ie.boxSelectionEnabled()&&re.preventDefault();else if(!re.touches[1]){if(re.touches[0]){var at=n.findNearestElements(Le[0],Le[1],!0,!0),fe=at[0];if(fe!=null&&(fe.activate(),n.touchData.start=fe,n.touchData.starts=at,n.nodeIsGrabbable(fe))){var Te=n.dragData.touchDragEles=Ie.collection(),qe=null;n.redrawHint("eles",!0),n.redrawHint("drag",!0),fe.selected()?(qe=Ie.$(function(tt){return tt.selected()&&n.nodeIsGrabbable(tt)}),g(qe,{addToList:Te})):_(fe,{addToList:Te}),d(fe),fe.emit(R("grabon")),qe?qe.forEach(function(tt){tt.emit(R("grab"))}):fe.emit(R("grab"))}r(fe,["touchstart","tapstart","vmousedown"],re,{x:Le[0],y:Le[1]}),fe==null&&(n.data.bgActivePosistion={x:Fe[0],y:Fe[1]},n.redrawHint("select",!0),n.redraw()),n.touchData.singleTouchMoved=!1,n.touchData.singleTouchStartTime=+new Date,clearTimeout(n.touchData.tapholdTimeout),n.touchData.tapholdTimeout=setTimeout(function(){n.touchData.singleTouchMoved===!1&&!n.pinching&&!n.touchData.selecting&&r(n.touchData.start,["taphold"],re,{x:Le[0],y:Le[1]})},n.tapholdDuration)}}if(re.touches.length>=1){for(var it=n.touchData.startPosition=[null,null,null,null,null,null],Me=0;Me<Le.length;Me++)it[Me]=Pe[Me]=Le[Me];var st=re.touches[0];n.touchData.startGPosition=[st.clientX,st.clientY]}}},!1);var ue;n.registerBinding(e,"touchmove",ue=function(re){var Ie=n.touchData.capture;if(!(!Ie&&!I(re))){var Le=n.selection,Pe=n.cy,Fe=n.touchData.now,R=n.touchData.earlier,k=Pe.zoom();if(re.touches[0]){var K=n.projectIntoViewport(re.touches[0].clientX,re.touches[0].clientY);Fe[0]=K[0],Fe[1]=K[1]}if(re.touches[1]){var K=n.projectIntoViewport(re.touches[1].clientX,re.touches[1].clientY);Fe[2]=K[0],Fe[3]=K[1]}if(re.touches[2]){var K=n.projectIntoViewport(re.touches[2].clientX,re.touches[2].clientY);Fe[4]=K[0],Fe[5]=K[1]}var de=function(zi){return{originalEvent:re,type:zi,position:{x:Fe[0],y:Fe[1]}}},ge=n.touchData.startGPosition,Qe;if(Ie&&re.touches[0]&&ge){for(var je=[],$e=0;$e<Fe.length;$e++)je[$e]=Fe[$e]-R[$e];var at=re.touches[0].clientX-ge[0],fe=at*at,Te=re.touches[0].clientY-ge[1],qe=Te*Te,it=fe+qe;Qe=it>=n.touchTapThreshold2}if(Ie&&n.touchData.cxt){re.preventDefault();var Me=re.touches[0].clientX-te,st=re.touches[0].clientY-v,tt=re.touches[1].clientX-te,Ot=re.touches[1].clientY-v,yt=Z(Me,st,tt,Ot),bt=yt/Ne,Tt=150,xt=Tt*Tt,wt=1.5,gt=wt*wt;if(bt>=gt||yt>=xt){n.touchData.cxt=!1,n.data.bgActivePosistion=void 0,n.redrawHint("select",!0);var dr=de("cxttapend");n.touchData.start?(n.touchData.start.unactivate().emit(dr),n.touchData.start=null):Pe.emit(dr)}}if(Ie&&n.touchData.cxt){var dr=de("cxtdrag");n.data.bgActivePosistion=void 0,n.redrawHint("select",!0),n.touchData.start?n.touchData.start.emit(dr):Pe.emit(dr),n.touchData.start&&(n.touchData.start._private.grabbed=!1),n.touchData.cxtDragged=!0;var ht=n.findNearestElement(Fe[0],Fe[1],!0,!0);(!n.touchData.cxtOver||ht!==n.touchData.cxtOver)&&(n.touchData.cxtOver&&n.touchData.cxtOver.emit(de("cxtdragout")),n.touchData.cxtOver=ht,ht&&ht.emit(de("cxtdragover")))}else if(Ie&&re.touches[2]&&Pe.boxSelectionEnabled())re.preventDefault(),n.data.bgActivePosistion=void 0,this.lastThreeTouch=+new Date,n.touchData.selecting||Pe.emit(de("boxstart")),n.touchData.selecting=!0,n.touchData.didSelect=!0,Le[4]=1,!Le||Le.length===0||Le[0]===void 0?(Le[0]=(Fe[0]+Fe[2]+Fe[4])/3,Le[1]=(Fe[1]+Fe[3]+Fe[5])/3,Le[2]=(Fe[0]+Fe[2]+Fe[4])/3+1,Le[3]=(Fe[1]+Fe[3]+Fe[5])/3+1):(Le[2]=(Fe[0]+Fe[2]+Fe[4])/3,Le[3]=(Fe[1]+Fe[3]+Fe[5])/3),n.redrawHint("select",!0),n.redraw();else if(Ie&&re.touches[1]&&!n.touchData.didSelect&&Pe.zoomingEnabled()&&Pe.panningEnabled()&&Pe.userZoomingEnabled()&&Pe.userPanningEnabled()){re.preventDefault(),n.data.bgActivePosistion=void 0,n.redrawHint("select",!0);var Re=n.dragData.touchDragEles;if(Re){n.redrawHint("drag",!0);for(var Ve=0;Ve<Re.length;Ve++){var Ge=Re[Ve]._private;Ge.grabbed=!1,Ge.rscratch.inDragLayer=!1}}var vt=n.touchData.start,Me=re.touches[0].clientX-te,st=re.touches[0].clientY-v,tt=re.touches[1].clientX-te,Ot=re.touches[1].clientY-v,St=H(Me,st,tt,Ot),Vt=St/Ae;if(L){var wr=Me-se,hr=st-pe,aa=tt-le,yr=Ot-Ee,Ir=(wr+aa)/2,fa=(hr+yr)/2,Or=Pe.zoom(),xn=Or*Vt,hn=Pe.pan(),_i=be[0]*Or+hn.x,Rn=be[1]*Or+hn.y,yo={x:-xn/Or*(_i-hn.x-Ir)+_i,y:-xn/Or*(Rn-hn.y-fa)+Rn};if(vt&&vt.active()){var Re=n.dragData.touchDragEles;m(Re),n.redrawHint("drag",!0),n.redrawHint("eles",!0),vt.unactivate().emit(de("freeon")),Re.emit(de("free")),n.dragData.didDrag&&(vt.emit(de("dragfreeon")),Re.emit(de("dragfree")))}Pe.viewport({zoom:xn,pan:yo,cancelOnFailedZoom:!0}),Pe.emit(de("pinchzoom")),Ae=St,se=Me,pe=st,le=tt,Ee=Ot,n.pinching=!0}if(re.touches[0]){var K=n.projectIntoViewport(re.touches[0].clientX,re.touches[0].clientY);Fe[0]=K[0],Fe[1]=K[1]}if(re.touches[1]){var K=n.projectIntoViewport(re.touches[1].clientX,re.touches[1].clientY);Fe[2]=K[0],Fe[3]=K[1]}if(re.touches[2]){var K=n.projectIntoViewport(re.touches[2].clientX,re.touches[2].clientY);Fe[4]=K[0],Fe[5]=K[1]}}else if(re.touches[0]&&!n.touchData.didSelect){var yn=n.touchData.start,Nn=n.touchData.last,ht;if(!n.hoverData.draggingEles&&!n.swipePanning&&(ht=n.findNearestElement(Fe[0],Fe[1],!0,!0)),Ie&&yn!=null&&re.preventDefault(),Ie&&yn!=null&&n.nodeIsDraggable(yn))if(Qe){var Re=n.dragData.touchDragEles,$r=!n.dragData.didDrag;$r&&g(Re,{inDragLayer:!0}),n.dragData.didDrag=!0;var mn={x:0,y:0};if(At(je[0])&&At(je[1])&&(mn.x+=je[0],mn.y+=je[1],$r)){n.redrawHint("eles",!0);var bn=n.touchData.dragDelta;bn&&At(bn[0])&&At(bn[1])&&(mn.x+=bn[0],mn.y+=bn[1])}n.hoverData.draggingEles=!0,Re.silentShift(mn).emit(de("position")).emit(de("drag")),n.redrawHint("drag",!0),n.touchData.startPosition[0]==R[0]&&n.touchData.startPosition[1]==R[1]&&n.redrawHint("eles",!0),n.redraw()}else{var bn=n.touchData.dragDelta=n.touchData.dragDelta||[];bn.length===0?(bn.push(je[0]),bn.push(je[1])):(bn[0]+=je[0],bn[1]+=je[1])}if(r(yn||ht,["touchmove","tapdrag","vmousemove"],re,{x:Fe[0],y:Fe[1]}),(!yn||!yn.grabbed())&&ht!=Nn&&(Nn&&Nn.emit(de("tapdragout")),ht&&ht.emit(de("tapdragover"))),n.touchData.last=ht,Ie)for(var Ve=0;Ve<Fe.length;Ve++)Fe[Ve]&&n.touchData.startPosition[Ve]&&Qe&&(n.touchData.singleTouchMoved=!0);if(Ie&&(yn==null||yn.pannable())&&Pe.panningEnabled()&&Pe.userPanningEnabled()){var Dl=i(yn,n.touchData.starts);Dl&&(re.preventDefault(),n.data.bgActivePosistion||(n.data.bgActivePosistion=Ug(n.touchData.startPosition)),n.swipePanning?(Pe.panBy({x:je[0]*k,y:je[1]*k}),Pe.emit(de("dragpan"))):Qe&&(n.swipePanning=!0,Pe.panBy({x:at*k,y:Te*k}),Pe.emit(de("dragpan")),yn&&(yn.unactivate(),n.redrawHint("select",!0),n.touchData.start=null)));var K=n.projectIntoViewport(re.touches[0].clientX,re.touches[0].clientY);Fe[0]=K[0],Fe[1]=K[1]}}for(var $e=0;$e<Fe.length;$e++)R[$e]=Fe[$e];Ie&&re.touches.length>0&&!n.hoverData.draggingEles&&!n.swipePanning&&n.data.bgActivePosistion!=null&&(n.data.bgActivePosistion=void 0,n.redrawHint("select",!0),n.redraw())}},!1);var ae;n.registerBinding(e,"touchcancel",ae=function(re){var Ie=n.touchData.start;n.touchData.capture=!1,Ie&&Ie.unactivate()});var ce,Se,xe,Ce;if(n.registerBinding(e,"touchend",ce=function(re){var Ie=n.touchData.start,Le=n.touchData.capture;if(Le)re.touches.length===0&&(n.touchData.capture=!1),re.preventDefault();else return;var Pe=n.selection;n.swipePanning=!1,n.hoverData.draggingEles=!1;var Fe=n.cy,R=Fe.zoom(),k=n.touchData.now,K=n.touchData.earlier;if(re.touches[0]){var de=n.projectIntoViewport(re.touches[0].clientX,re.touches[0].clientY);k[0]=de[0],k[1]=de[1]}if(re.touches[1]){var de=n.projectIntoViewport(re.touches[1].clientX,re.touches[1].clientY);k[2]=de[0],k[3]=de[1]}if(re.touches[2]){var de=n.projectIntoViewport(re.touches[2].clientX,re.touches[2].clientY);k[4]=de[0],k[5]=de[1]}var ge=function(xt){return{originalEvent:re,type:xt,position:{x:k[0],y:k[1]}}};Ie&&Ie.unactivate();var Qe;if(n.touchData.cxt){if(Qe=ge("cxttapend"),Ie?Ie.emit(Qe):Fe.emit(Qe),!n.touchData.cxtDragged){var je=ge("cxttap");Ie?Ie.emit(je):Fe.emit(je)}n.touchData.start&&(n.touchData.start._private.grabbed=!1),n.touchData.cxt=!1,n.touchData.start=null,n.redraw();return}if(!re.touches[2]&&Fe.boxSelectionEnabled()&&n.touchData.selecting){n.touchData.selecting=!1;var $e=Fe.collection(n.getAllInBox(Pe[0],Pe[1],Pe[2],Pe[3]));Pe[0]=void 0,Pe[1]=void 0,Pe[2]=void 0,Pe[3]=void 0,Pe[4]=0,n.redrawHint("select",!0),Fe.emit(ge("boxend"));var at=function(xt){return xt.selectable()&&!xt.selected()};$e.emit(ge("box")).stdFilter(at).select().emit(ge("boxselect")),$e.nonempty()&&n.redrawHint("eles",!0),n.redraw()}if(Ie?.unactivate(),re.touches[2])n.data.bgActivePosistion=void 0,n.redrawHint("select",!0);else if(!re.touches[1]){if(!re.touches[0]){if(!re.touches[0]){n.data.bgActivePosistion=void 0,n.redrawHint("select",!0);var fe=n.dragData.touchDragEles;if(Ie!=null){var Te=Ie._private.grabbed;m(fe),n.redrawHint("drag",!0),n.redrawHint("eles",!0),Te&&(Ie.emit(ge("freeon")),fe.emit(ge("free")),n.dragData.didDrag&&(Ie.emit(ge("dragfreeon")),fe.emit(ge("dragfree")))),r(Ie,["touchend","tapend","vmouseup","tapdragout"],re,{x:k[0],y:k[1]}),Ie.unactivate(),n.touchData.start=null}else{var qe=n.findNearestElement(k[0],k[1],!0,!0);r(qe,["touchend","tapend","vmouseup","tapdragout"],re,{x:k[0],y:k[1]})}var it=n.touchData.startPosition[0]-k[0],Me=it*it,st=n.touchData.startPosition[1]-k[1],tt=st*st,Ot=Me+tt,yt=Ot*R*R;n.touchData.singleTouchMoved||(Ie||Fe.$(":selected").unselect(["tapunselect"]),r(Ie,["tap","vclick"],re,{x:k[0],y:k[1]}),Se=!1,re.timeStamp-Ce<=Fe.multiClickDebounceTime()?(xe&&clearTimeout(xe),Se=!0,Ce=null,r(Ie,["dbltap","vdblclick"],re,{x:k[0],y:k[1]})):(xe=setTimeout(function(){Se||r(Ie,["onetap","voneclick"],re,{x:k[0],y:k[1]})},Fe.multiClickDebounceTime()),Ce=re.timeStamp)),Ie!=null&&!n.dragData.didDrag&&Ie._private.selectable&&yt<n.touchTapThreshold2&&!n.pinching&&(Fe.selectionType()==="single"?(Fe.$(u).unmerge(Ie).unselect(["tapunselect"]),Ie.select(["tapselect"])):Ie.selected()?Ie.unselect(["tapunselect"]):Ie.select(["tapselect"]),n.redrawHint("eles",!0)),n.touchData.singleTouchMoved=!0}}}for(var bt=0;bt<k.length;bt++)K[bt]=k[bt];n.dragData.didDrag=!1,re.touches.length===0&&(n.touchData.dragDelta=[],n.touchData.startPosition=[null,null,null,null,null,null],n.touchData.startGPosition=null,n.touchData.didSelect=!1),re.touches.length<2&&(re.touches.length===1&&(n.touchData.startGPosition=[re.touches[0].clientX,re.touches[0].clientY]),n.pinching=!1,n.redrawHint("eles",!0),n.redraw())},!1),typeof TouchEvent>"u"){var He=[],Je=function(re){return{clientX:re.clientX,clientY:re.clientY,force:1,identifier:re.pointerId,pageX:re.pageX,pageY:re.pageY,radiusX:re.width/2,radiusY:re.height/2,screenX:re.screenX,screenY:re.screenY,target:re.target}},Ye=function(re){return{event:re,touch:Je(re)}},oe=function(re){He.push(Ye(re))},X=function(re){for(var Ie=0;Ie<He.length;Ie++){var Le=He[Ie];if(Le.event.pointerId===re.pointerId){He.splice(Ie,1);return}}},Y=function(re){var Ie=He.filter(function(Le){return Le.event.pointerId===re.pointerId})[0];Ie.event=re,Ie.touch=Je(re)},he=function(re){re.touches=He.map(function(Ie){return Ie.touch})},ve=function(re){return re.pointerType==="mouse"||re.pointerType===4};n.registerBinding(n.container,"pointerdown",function(ye){ve(ye)||(ye.preventDefault(),oe(ye),he(ye),$(ye))}),n.registerBinding(n.container,"pointerup",function(ye){ve(ye)||(X(ye),he(ye),ce(ye))}),n.registerBinding(n.container,"pointercancel",function(ye){ve(ye)||(X(ye),he(ye),ae(ye))}),n.registerBinding(n.container,"pointermove",function(ye){ve(ye)||(ye.preventDefault(),Y(ye),he(ye),ue(ye))})}};var cc={};cc.generatePolygon=function(n,e){return this.nodeShapes[n]={renderer:this,name:n,points:e,draw:function(a,r,t,i,o,l){this.renderer.nodeShapeImpl("polygon",a,r,t,i,o,this.points)},intersectLine:function(a,r,t,i,o,l,s,c){return S4(o,l,this.points,a,r,t/2,i/2,s)},checkPoint:function(a,r,t,i,o,l,s,c){return rc(a,r,this.points,l,s,i,o,[0,-1],t)},hasMiterBounds:n!=="rectangle",miterBounds:function(a,r,t,i,o,l){return mBe(this.points,a,r,t,i,o)}}};cc.generateEllipse=function(){return this.nodeShapes.ellipse={renderer:this,name:"ellipse",draw:function(e,u,a,r,t,i){this.renderer.nodeShapeImpl(this.name,e,u,a,r,t)},intersectLine:function(e,u,a,r,t,i,o,l){return EBe(t,i,e,u,a/2+o,r/2+o)},checkPoint:function(e,u,a,r,t,i,o,l){return ub(e,u,r,t,i,o,a)}}};cc.generateRoundPolygon=function(n,e){return this.nodeShapes[n]={renderer:this,name:n,points:e,getOrCreateCorners:function(a,r,t,i,o,l,s){if(l[s]!==void 0&&l[s+"-cx"]===a&&l[s+"-cy"]===r)return l[s];l[s]=new Array(e.length/2),l[s+"-cx"]=a,l[s+"-cy"]=r;var c=t/2,d=i/2;o=o==="auto"?aSe(t,i):o;for(var f=new Array(e.length/2),p=0;p<e.length/2;p++)f[p]={x:a+c*e[p*2],y:r+d*e[p*2+1]};var h,g,_,m,w=f.length;for(g=f[w-1],h=0;h<w;h++)_=f[h%w],m=f[(h+1)%w],l[s][h]=ak(g,_,m,o),g=_,_=m;return l[s]},draw:function(a,r,t,i,o,l,s){this.renderer.nodeShapeImpl("round-polygon",a,r,t,i,o,this.points,this.getOrCreateCorners(r,t,i,o,l,s,"drawCorners"))},intersectLine:function(a,r,t,i,o,l,s,c,d){return OBe(o,l,this.points,a,r,t,i,s,this.getOrCreateCorners(a,r,t,i,c,d,"corners"))},checkPoint:function(a,r,t,i,o,l,s,c,d){return SBe(a,r,this.points,l,s,i,o,this.getOrCreateCorners(l,s,i,o,c,d,"corners"))}}};cc.generateRoundRectangle=function(){return this.nodeShapes["round-rectangle"]=this.nodeShapes.roundrectangle={renderer:this,name:"round-rectangle",points:Wa(4,0),draw:function(e,u,a,r,t,i){this.renderer.nodeShapeImpl(this.name,e,u,a,r,t,this.points,i)},intersectLine:function(e,u,a,r,t,i,o,l){return rSe(t,i,e,u,a,r,o,l)},checkPoint:function(e,u,a,r,t,i,o,l){var s=r/2,c=t/2;l=l==="auto"?hl(r,t):l,l=Math.min(s,c,l);var d=l*2;return!!(rc(e,u,this.points,i,o,r,t-d,[0,-1],a)||rc(e,u,this.points,i,o,r-d,t,[0,-1],a)||ub(e,u,d,d,i-s+l,o-c+l,a)||ub(e,u,d,d,i+s-l,o-c+l,a)||ub(e,u,d,d,i+s-l,o+c-l,a)||ub(e,u,d,d,i-s+l,o+c-l,a))}}};cc.generateCutRectangle=function(){return this.nodeShapes["cut-rectangle"]=this.nodeShapes.cutrectangle={renderer:this,name:"cut-rectangle",cornerLength:$H(),points:Wa(4,0),draw:function(e,u,a,r,t,i){this.renderer.nodeShapeImpl(this.name,e,u,a,r,t,null,i)},generateCutTrianglePts:function(e,u,a,r,t){var i=t==="auto"?this.cornerLength:t,o=u/2,l=e/2,s=a-l,c=a+l,d=r-o,f=r+o;return{topLeft:[s,d+i,s+i,d,s+i,d+i],topRight:[c-i,d,c,d+i,c-i,d+i],bottomRight:[c,f-i,c-i,f,c-i,f-i],bottomLeft:[s+i,f,s,f-i,s+i,f-i]}},intersectLine:function(e,u,a,r,t,i,o,l){var s=this.generateCutTrianglePts(a+2*o,r+2*o,e,u,l),c=[].concat.apply([],[s.topLeft.splice(0,4),s.topRight.splice(0,4),s.bottomRight.splice(0,4),s.bottomLeft.splice(0,4)]);return S4(t,i,c,e,u)},checkPoint:function(e,u,a,r,t,i,o,l){var s=l==="auto"?this.cornerLength:l;if(rc(e,u,this.points,i,o,r,t-2*s,[0,-1],a)||rc(e,u,this.points,i,o,r-2*s,t,[0,-1],a))return!0;var c=this.generateCutTrianglePts(r,t,i,o);return hi(e,u,c.topLeft)||hi(e,u,c.topRight)||hi(e,u,c.bottomRight)||hi(e,u,c.bottomLeft)}}};cc.generateBarrel=function(){return this.nodeShapes.barrel={renderer:this,name:"barrel",points:Wa(4,0),draw:function(e,u,a,r,t,i){this.renderer.nodeShapeImpl(this.name,e,u,a,r,t)},intersectLine:function(e,u,a,r,t,i,o,l){var s=.15,c=.5,d=.85,f=this.generateBarrelBezierPts(a+2*o,r+2*o,e,u),p=function(_){var m=kg({x:_[0],y:_[1]},{x:_[2],y:_[3]},{x:_[4],y:_[5]},s),w=kg({x:_[0],y:_[1]},{x:_[2],y:_[3]},{x:_[4],y:_[5]},c),T=kg({x:_[0],y:_[1]},{x:_[2],y:_[3]},{x:_[4],y:_[5]},d);return[_[0],_[1],m.x,m.y,w.x,w.y,T.x,T.y,_[4],_[5]]},h=[].concat(p(f.topLeft),p(f.topRight),p(f.bottomRight),p(f.bottomLeft));return S4(t,i,h,e,u)},generateBarrelBezierPts:function(e,u,a,r){var t=u/2,i=e/2,o=a-i,l=a+i,s=r-t,c=r+t,d=T7(e,u),f=d.heightOffset,p=d.widthOffset,h=d.ctrlPtOffsetPct*e,g={topLeft:[o,s+f,o+h,s,o+p,s],topRight:[l-p,s,l-h,s,l,s+f],bottomRight:[l,c-f,l-h,c,l-p,c],bottomLeft:[o+p,c,o+h,c,o,c-f]};return g.topLeft.isTop=!0,g.topRight.isTop=!0,g.bottomLeft.isBottom=!0,g.bottomRight.isBottom=!0,g},checkPoint:function(e,u,a,r,t,i,o,l){var s=T7(r,t),c=s.heightOffset,d=s.widthOffset;if(rc(e,u,this.points,i,o,r,t-2*c,[0,-1],a)||rc(e,u,this.points,i,o,r-2*d,t,[0,-1],a))return!0;for(var f=this.generateBarrelBezierPts(r,t,i,o),p=function(q,O,I){var A=I[4],P=I[2],C=I[0],B=I[5],V=I[1],U=Math.min(A,C),G=Math.max(A,C),J=Math.min(B,V),ne=Math.max(B,V);if(U<=q&&q<=G&&J<=O&&O<=ne){var W=xBe(A,P,C),ee=vBe(W[0],W[1],W[2],q),se=ee.filter(function(pe){return 0<=pe&&pe<=1});if(se.length>0)return se[0]}return null},h=Object.keys(f),g=0;g<h.length;g++){var _=h[g],m=f[_],w=p(e,u,m);if(w!=null){var T=m[5],E=m[3],S=m[1],N=ua(T,E,S,w);if(m.isTop&&N<=u||m.isBottom&&u<=N)return!0}}return!1}}};cc.generateBottomRoundrectangle=function(){return this.nodeShapes["bottom-round-rectangle"]=this.nodeShapes.bottomroundrectangle={renderer:this,name:"bottom-round-rectangle",points:Wa(4,0),draw:function(e,u,a,r,t,i){this.renderer.nodeShapeImpl(this.name,e,u,a,r,t,this.points,i)},intersectLine:function(e,u,a,r,t,i,o,l){var s=e-(a/2+o),c=u-(r/2+o),d=c,f=e+(a/2+o),p=il(t,i,e,u,s,c,f,d,!1);return p.length>0?p:rSe(t,i,e,u,a,r,o,l)},checkPoint:function(e,u,a,r,t,i,o,l){l=l==="auto"?hl(r,t):l;var s=2*l;if(rc(e,u,this.points,i,o,r,t-s,[0,-1],a)||rc(e,u,this.points,i,o,r-s,t,[0,-1],a))return!0;var c=r/2+2*a,d=t/2+2*a,f=[i-c,o-d,i-c,o,i+c,o,i+c,o-d];return!!(hi(e,u,f)||ub(e,u,s,s,i+r/2-l,o+t/2-l,a)||ub(e,u,s,s,i-r/2+l,o+t/2-l,a))}}};cc.registerNodeShapes=function(){var n=this.nodeShapes={},e=this;this.generateEllipse(),this.generatePolygon("triangle",Wa(3,0)),this.generateRoundPolygon("round-triangle",Wa(3,0)),this.generatePolygon("rectangle",Wa(4,0)),n.square=n.rectangle,this.generateRoundRectangle(),this.generateCutRectangle(),this.generateBarrel(),this.generateBottomRoundrectangle();{var u=[0,1,1,0,0,-1,-1,0];this.generatePolygon("diamond",u),this.generateRoundPolygon("round-diamond",u)}this.generatePolygon("pentagon",Wa(5,0)),this.generateRoundPolygon("round-pentagon",Wa(5,0)),this.generatePolygon("hexagon",Wa(6,0)),this.generateRoundPolygon("round-hexagon",Wa(6,0)),this.generatePolygon("heptagon",Wa(7,0)),this.generateRoundPolygon("round-heptagon",Wa(7,0)),this.generatePolygon("octagon",Wa(8,0)),this.generateRoundPolygon("round-octagon",Wa(8,0));var a=new Array(20);{var r=_7(5,0),t=_7(5,Math.PI/5),i=.5*(3-Math.sqrt(5));i*=1.57;for(var o=0;o<t.length/2;o++)t[o*2]*=i,t[o*2+1]*=i;for(var o=0;o<20/4;o++)a[o*4]=r[o*2],a[o*4+1]=r[o*2+1],a[o*4+2]=t[o*2],a[o*4+3]=t[o*2+1]}a=nSe(a),this.generatePolygon("star",a),this.generatePolygon("vee",[-1,-1,0,-.333,1,-1,0,1]),this.generatePolygon("rhomboid",[-1,-1,.333,-1,1,1,-.333,1]),this.generatePolygon("right-rhomboid",[-.333,-1,1,-1,.333,1,-1,1]),this.nodeShapes.concavehexagon=this.generatePolygon("concave-hexagon",[-1,-.95,-.75,0,-1,.95,1,.95,.75,0,1,-.95]);{var l=[-1,-1,.25,-1,1,0,.25,1,-1,1];this.generatePolygon("tag",l),this.generateRoundPolygon("round-tag",l)}n.makePolygon=function(s){var c=s.join("$"),d="polygon-"+c,f;return(f=this[d])?f:e.generatePolygon(d,s)}};var _N={};_N.timeToRender=function(){return this.redrawTotalTime/this.redrawCount};_N.redraw=function(n){n=n||Ywe();var e=this;e.averageRedrawTime===void 0&&(e.averageRedrawTime=0),e.lastRedrawTime===void 0&&(e.lastRedrawTime=0),e.lastDrawTime===void 0&&(e.lastDrawTime=0),e.requestedFrame=!0,e.renderOptions=n};_N.beforeRender=function(n,e){if(!this.destroyed){e==null&&_n("Priority is not optional for beforeRender");var u=this.beforeRenderCallbacks;u.push({fn:n,priority:e}),u.sort(function(a,r){return r.priority-a.priority})}};var J1e=function(e,u,a){for(var r=e.beforeRenderCallbacks,t=0;t<r.length;t++)r[t].fn(u,a)};_N.startRenderLoop=function(){var n=this,e=n.cy;if(!n.renderLoopStarted){n.renderLoopStarted=!0;var u=function(r){if(!n.destroyed){if(!e.batching())if(n.requestedFrame&&!n.skipFrame){J1e(n,!0,r);var t=tc();n.render(n.renderOptions);var i=n.lastDrawTime=tc();n.averageRedrawTime===void 0&&(n.averageRedrawTime=i-t),n.redrawCount===void 0&&(n.redrawCount=0),n.redrawCount++,n.redrawTotalTime===void 0&&(n.redrawTotalTime=0);var o=i-t;n.redrawTotalTime+=o,n.lastRedrawTime=o,n.averageRedrawTime=n.averageRedrawTime/2+o/2,n.requestedFrame=!1}else J1e(n,!1,r);n.skipFrame=!1,PF(u)}};PF(u)}};var HVe=function(e){this.init(e)},aEe=HVe,j1=aEe.prototype;j1.clientFunctions=["redrawHint","render","renderTo","matchCanvasSize","nodeShapeImpl","arrowShapeImpl"];j1.init=function(n){var e=this;e.options=n,e.cy=n.cy;var u=e.container=n.cy.container(),a=e.cy.window();if(a){var r=a.document,t=r.head,i="__________cytoscape_stylesheet",o="__________cytoscape_container",l=r.getElementById(i)!=null;if(u.className.indexOf(o)<0&&(u.className=(u.className||"")+" "+o),!l){var s=r.createElement("style");s.id=i,s.textContent="."+o+" { position: relative; }",t.insertBefore(s,t.children[0])}var c=a.getComputedStyle(u),d=c.getPropertyValue("position");d==="static"&&Lr("A Cytoscape container has style position:static and so can not use UI extensions properly")}e.selection=[void 0,void 0,void 0,void 0,0],e.bezierProjPcts=[.05,.225,.4,.5,.6,.775,.95],e.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},e.dragData={possibleDragElements:[]},e.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},e.redraws=0,e.showFps=n.showFps,e.debug=n.debug,e.webgl=n.webgl,e.hideEdgesOnViewport=n.hideEdgesOnViewport,e.textureOnViewport=n.textureOnViewport,e.wheelSensitivity=n.wheelSensitivity,e.motionBlurEnabled=n.motionBlur,e.forcedPixelRatio=At(n.pixelRatio)?n.pixelRatio:null,e.motionBlur=n.motionBlur,e.motionBlurOpacity=n.motionBlurOpacity,e.motionBlurTransparency=1-e.motionBlurOpacity,e.motionBlurPxRatio=1,e.mbPxRBlurry=1,e.minMbLowQualFrames=4,e.fullQualityMb=!1,e.clearedForMotionBlur=[],e.desktopTapThreshold=n.desktopTapThreshold,e.desktopTapThreshold2=n.desktopTapThreshold*n.desktopTapThreshold,e.touchTapThreshold=n.touchTapThreshold,e.touchTapThreshold2=n.touchTapThreshold*n.touchTapThreshold,e.tapholdDuration=500,e.bindings=[],e.beforeRenderCallbacks=[],e.beforeRenderPriorities={animations:400,eleCalcs:300,eleTxrDeq:200,lyrTxrDeq:150,lyrTxrSkip:100},e.registerNodeShapes(),e.registerArrowShapes(),e.registerCalculationListeners()};j1.notify=function(n,e){var u=this,a=u.cy;if(!this.destroyed){if(n==="init"){u.load();return}if(n==="destroy"){u.destroy();return}(n==="add"||n==="remove"||n==="move"&&a.hasCompoundNodes()||n==="load"||n==="zorder"||n==="mount")&&u.invalidateCachedZSortedEles(),n==="viewport"&&u.redrawHint("select",!0),n==="gc"&&u.redrawHint("gc",!0),(n==="load"||n==="resize"||n==="mount")&&(u.invalidateContainerClientCoordsCache(),u.matchCanvasSize(u.container)),u.redrawHint("eles",!0),u.redrawHint("drag",!0),this.startRenderLoop(),this.redraw()}};j1.destroy=function(){var n=this;n.destroyed=!0,n.cy.stopAnimationLoop();for(var e=0;e<n.bindings.length;e++){var u=n.bindings[e],a=u,r=a.target;(r.off||r.removeEventListener).apply(r,a.args)}if(n.bindings=[],n.beforeRenderCallbacks=[],n.onUpdateEleCalcsFns=[],n.removeObserver&&n.removeObserver.disconnect(),n.styleObserver&&n.styleObserver.disconnect(),n.resizeObserver&&n.resizeObserver.disconnect(),n.labelCalcDiv)try{document.body.removeChild(n.labelCalcDiv)}catch{}};j1.isHeadless=function(){return!1};[nk,rEe,nEe,P1,cc,_N].forEach(function(n){Bt(j1,n)});var qL=1e3/60,iEe={setupDequeueing:function(e){return function(){var a=this,r=this.renderer;if(!a.dequeueingSetup){a.dequeueingSetup=!0;var t=yN(function(){r.redrawHint("eles",!0),r.redrawHint("drag",!0),r.redraw()},e.deqRedrawThreshold),i=function(s,c){var d=tc(),f=r.averageRedrawTime,p=r.lastRedrawTime,h=[],g=r.cy.extent(),_=r.getPixelRatio();for(s||r.flushRenderedStyleQueue();;){var m=tc(),w=m-d,T=m-c;if(p<qL){var E=qL-(s?f:0);if(T>=e.deqFastCost*E)break}else if(s){if(w>=e.deqCost*p||w>=e.deqAvgCost*f)break}else if(T>=e.deqNoDrawCost*qL)break;var S=e.deq(a,_,g);if(S.length>0)for(var N=0;N<S.length;N++)h.push(S[N]);else break}h.length>0&&(e.onDeqd(a,h),!s&&e.shouldRedraw(a,h,_,g)&&t())},o=e.priority||VH;r.beforeRender(i,o(a))}}}},kVe=(function(){function n(e){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:jF;Ol(this,n),this.idsByKey=new Xs,this.keyForId=new Xs,this.cachesByLvl=new Xs,this.lvls=[],this.getKey=e,this.doesEleInvalidateKey=u}return xl(n,[{key:"getIdsFor",value:function(u){u==null&&_n("Can not get id list for null key");var a=this.idsByKey,r=this.idsByKey.get(u);return r||(r=new N1,a.set(u,r)),r}},{key:"addIdForKey",value:function(u,a){u!=null&&this.getIdsFor(u).add(a)}},{key:"deleteIdForKey",value:function(u,a){u!=null&&this.getIdsFor(u).delete(a)}},{key:"getNumberOfIdsForKey",value:function(u){return u==null?0:this.getIdsFor(u).size}},{key:"updateKeyMappingFor",value:function(u){var a=u.id(),r=this.keyForId.get(a),t=this.getKey(u);this.deleteIdForKey(r,a),this.addIdForKey(t,a),this.keyForId.set(a,t)}},{key:"deleteKeyMappingFor",value:function(u){var a=u.id(),r=this.keyForId.get(a);this.deleteIdForKey(r,a),this.keyForId.delete(a)}},{key:"keyHasChangedFor",value:function(u){var a=u.id(),r=this.keyForId.get(a),t=this.getKey(u);return r!==t}},{key:"isInvalid",value:function(u){return this.keyHasChangedFor(u)||this.doesEleInvalidateKey(u)}},{key:"getCachesAt",value:function(u){var a=this.cachesByLvl,r=this.lvls,t=a.get(u);return t||(t=new Xs,a.set(u,t),r.push(u)),t}},{key:"getCache",value:function(u,a){return this.getCachesAt(a).get(u)}},{key:"get",value:function(u,a){var r=this.getKey(u),t=this.getCache(r,a);return t!=null&&this.updateKeyMappingFor(u),t}},{key:"getForCachedKey",value:function(u,a){var r=this.keyForId.get(u.id()),t=this.getCache(r,a);return t}},{key:"hasCache",value:function(u,a){return this.getCachesAt(a).has(u)}},{key:"has",value:function(u,a){var r=this.getKey(u);return this.hasCache(r,a)}},{key:"setCache",value:function(u,a,r){r.key=u,this.getCachesAt(a).set(u,r)}},{key:"set",value:function(u,a,r){var t=this.getKey(u);this.setCache(t,a,r),this.updateKeyMappingFor(u)}},{key:"deleteCache",value:function(u,a){this.getCachesAt(a).delete(u)}},{key:"delete",value:function(u,a){var r=this.getKey(u);this.deleteCache(r,a)}},{key:"invalidateKey",value:function(u){var a=this;this.lvls.forEach(function(r){return a.deleteCache(u,r)})}},{key:"invalidate",value:function(u){var a=u.id(),r=this.keyForId.get(a);this.deleteKeyMappingFor(u);var t=this.doesEleInvalidateKey(u);return t&&this.invalidateKey(r),t||this.getNumberOfIdsForKey(r)===0}}])})(),W1e=25,zD=50,_F=-4,j7=3,uEe=7.99,zVe=8,GVe=1024,$Ve=1024,XVe=1024,KVe=.2,JVe=.8,WVe=10,YVe=.15,ZVe=.1,eHe=.9,tHe=.9,rHe=100,nHe=1,Vg={dequeue:"dequeue",downscale:"downscale",highQuality:"highQuality"},aHe=Ra({getKey:null,doesEleInvalidateKey:jF,drawElement:null,getBoundingBox:null,getRotationPoint:null,getRotationOffset:null,isVisible:Kwe,allowEdgeTxrCaching:!0,allowParentTxrCaching:!0}),e4=function(e,u){var a=this;a.renderer=e,a.onDequeues=[];var r=aHe(u);Bt(a,r),a.lookup=new kVe(r.getKey,r.doesEleInvalidateKey),a.setupDequeueing()},na=e4.prototype;na.reasons=Vg;na.getTextureQueue=function(n){var e=this;return e.eleImgCaches=e.eleImgCaches||{},e.eleImgCaches[n]=e.eleImgCaches[n]||[]};na.getRetiredTextureQueue=function(n){var e=this,u=e.eleImgCaches.retired=e.eleImgCaches.retired||{},a=u[n]=u[n]||[];return a};na.getElementQueue=function(){var n=this,e=n.eleCacheQueue=n.eleCacheQueue||new mN(function(u,a){return a.reqs-u.reqs});return e};na.getElementKeyToQueue=function(){var n=this,e=n.eleKeyToCacheQueue=n.eleKeyToCacheQueue||{};return e};na.getElement=function(n,e,u,a,r){var t=this,i=this.renderer,o=i.cy.zoom(),l=this.lookup;if(!e||e.w===0||e.h===0||isNaN(e.w)||isNaN(e.h)||!n.visible()||n.removed()||!t.allowEdgeTxrCaching&&n.isEdge()||!t.allowParentTxrCaching&&n.isParent())return null;if(a==null&&(a=Math.ceil(kH(o*u))),a<_F)a=_F;else if(o>=uEe||a>j7)return null;var s=Math.pow(2,a),c=e.h*s,d=e.w*s,f=i.eleTextBiggerThanMin(n,s);if(!this.isVisible(n,f))return null;var p=l.get(n,a);if(p&&p.invalidated&&(p.invalidated=!1,p.texture.invalidatedWidth-=p.width),p)return p;var h;if(c<=W1e?h=W1e:c<=zD?h=zD:h=Math.ceil(c/zD)*zD,c>XVe||d>$Ve)return null;var g=t.getTextureQueue(h),_=g[g.length-2],m=function(){return t.recycleTexture(h,d)||t.addTexture(h,d)};_||(_=g[g.length-1]),_||(_=m()),_.width-_.usedWidth<d&&(_=m());for(var w=function(U){return U&&U.scaledLabelShown===f},T=r&&r===Vg.dequeue,E=r&&r===Vg.highQuality,S=r&&r===Vg.downscale,N,j=a+1;j<=j7;j++){var q=l.get(n,j);if(q){N=q;break}}var O=N&&N.level===a+1?N:null,I=function(){_.context.drawImage(O.texture.canvas,O.x,0,O.width,O.height,_.usedWidth,0,d,c)};if(_.context.setTransform(1,0,0,1,0,0),_.context.clearRect(_.usedWidth,0,d,h),w(O))I();else if(w(N))if(E){for(var A=N.level;A>a;A--)O=t.getElement(n,e,u,A,Vg.downscale);I()}else return t.queueElement(n,N.level-1),N;else{var P;if(!T&&!E&&!S)for(var C=a-1;C>=_F;C--){var B=l.get(n,C);if(B){P=B;break}}if(w(P))return t.queueElement(n,a),P;_.context.translate(_.usedWidth,0),_.context.scale(s,s),this.drawElement(_.context,n,e,f,!1),_.context.scale(1/s,1/s),_.context.translate(-_.usedWidth,0)}return p={x:_.usedWidth,texture:_,level:a,scale:s,width:d,height:c,scaledLabelShown:f},_.usedWidth+=Math.ceil(d+zVe),_.eleCaches.push(p),l.set(n,a,p),t.checkTextureFullness(_),p};na.invalidateElements=function(n){for(var e=0;e<n.length;e++)this.invalidateElement(n[e])};na.invalidateElement=function(n){var e=this,u=e.lookup,a=[],r=u.isInvalid(n);if(r){for(var t=_F;t<=j7;t++){var i=u.getForCachedKey(n,t);i&&a.push(i)}var o=u.invalidate(n);if(o)for(var l=0;l<a.length;l++){var s=a[l],c=s.texture;c.invalidatedWidth+=s.width,s.invalidated=!0,e.checkTextureUtility(c)}e.removeFromQueue(n)}};na.checkTextureUtility=function(n){n.invalidatedWidth>=KVe*n.width&&this.retireTexture(n)};na.checkTextureFullness=function(n){var e=this,u=e.getTextureQueue(n.height);n.usedWidth/n.width>JVe&&n.fullnessChecks>=WVe?pl(u,n):n.fullnessChecks++};na.retireTexture=function(n){var e=this,u=n.height,a=e.getTextureQueue(u),r=this.lookup;pl(a,n),n.retired=!0;for(var t=n.eleCaches,i=0;i<t.length;i++){var o=t[i];r.deleteCache(o.key,o.level)}HH(t);var l=e.getRetiredTextureQueue(u);l.push(n)};na.addTexture=function(n,e){var u=this,a=u.getTextureQueue(n),r={};return a.push(r),r.eleCaches=[],r.height=n,r.width=Math.max(GVe,e),r.usedWidth=0,r.invalidatedWidth=0,r.fullnessChecks=0,r.canvas=u.renderer.makeOffscreenCanvas(r.width,r.height),r.context=r.canvas.getContext("2d"),r};na.recycleTexture=function(n,e){for(var u=this,a=u.getTextureQueue(n),r=u.getRetiredTextureQueue(n),t=0;t<r.length;t++){var i=r[t];if(i.width>=e)return i.retired=!1,i.usedWidth=0,i.invalidatedWidth=0,i.fullnessChecks=0,HH(i.eleCaches),i.context.setTransform(1,0,0,1,0,0),i.context.clearRect(0,0,i.width,i.height),pl(r,i),a.push(i),i}};na.queueElement=function(n,e){var u=this,a=u.getElementQueue(),r=u.getElementKeyToQueue(),t=this.getKey(n),i=r[t];if(i)i.level=Math.max(i.level,e),i.eles.merge(n),i.reqs++,a.updateItem(i);else{var o={eles:n.spawn().merge(n),level:e,reqs:1,key:t};a.push(o),r[t]=o}};na.dequeue=function(n){for(var e=this,u=e.getElementQueue(),a=e.getElementKeyToQueue(),r=[],t=e.lookup,i=0;i<nHe&&u.size()>0;i++){var o=u.pop(),l=o.key,s=o.eles[0],c=t.hasCache(s,o.level);if(a[l]=null,c)continue;r.push(o);var d=e.getBoundingBox(s);e.getElement(s,d,n,o.level,Vg.dequeue)}return r};na.removeFromQueue=function(n){var e=this,u=e.getElementQueue(),a=e.getElementKeyToQueue(),r=this.getKey(n),t=a[r];t!=null&&(t.eles.length===1?(t.reqs=QH,u.updateItem(t),u.pop(),a[r]=null):t.eles.unmerge(n))};na.onDequeue=function(n){this.onDequeues.push(n)};na.offDequeue=function(n){pl(this.onDequeues,n)};na.setupDequeueing=iEe.setupDequeueing({deqRedrawThreshold:rHe,deqCost:YVe,deqAvgCost:ZVe,deqNoDrawCost:eHe,deqFastCost:tHe,deq:function(e,u,a){return e.dequeue(u,a)},onDeqd:function(e,u){for(var a=0;a<e.onDequeues.length;a++){var r=e.onDequeues[a];r(u)}},shouldRedraw:function(e,u,a,r){for(var t=0;t<u.length;t++)for(var i=u[t].eles,o=0;o<i.length;o++){var l=i[o].boundingBox();if(GH(l,r))return!0}return!1},priority:function(e){return e.renderer.beforeRenderPriorities.eleTxrDeq}});var iHe=1,i4=-4,VF=2,uHe=3.99,oHe=50,sHe=50,cHe=.15,lHe=.1,dHe=.9,fHe=.9,pHe=1,Y1e=250,hHe=4e3*4e3,Z1e=32767,yHe=!0,oEe=function(e){var u=this,a=u.renderer=e,r=a.cy;u.layersByLevel={},u.firstGet=!0,u.lastInvalidationTime=tc()-2*Y1e,u.skipping=!1,u.eleTxrDeqs=r.collection(),u.scheduleElementRefinement=yN(function(){u.refineElementTextures(u.eleTxrDeqs),u.eleTxrDeqs.unmerge(u.eleTxrDeqs)},sHe),a.beforeRender(function(i,o){o-u.lastInvalidationTime<=Y1e?u.skipping=!0:u.skipping=!1},a.beforeRenderPriorities.lyrTxrSkip);var t=function(o,l){return l.reqs-o.reqs};u.layersQueue=new mN(t),u.setupDequeueing()},Na=oEe.prototype,eve=0,mHe=Math.pow(2,53)-1;Na.makeLayer=function(n,e){var u=Math.pow(2,e),a=Math.ceil(n.w*u),r=Math.ceil(n.h*u),t=this.renderer.makeOffscreenCanvas(a,r),i={id:eve=++eve%mHe,bb:n,level:e,width:a,height:r,canvas:t,context:t.getContext("2d"),eles:[],elesQueue:[],reqs:0},o=i.context,l=-i.bb.x1,s=-i.bb.y1;return o.scale(u,u),o.translate(l,s),i};Na.getLayers=function(n,e,u){var a=this,r=a.renderer,t=r.cy,i=t.zoom(),o=a.firstGet;if(a.firstGet=!1,u==null){if(u=Math.ceil(kH(i*e)),u<i4)u=i4;else if(i>=uHe||u>VF)return null}a.validateLayersElesOrdering(u,n);var l=a.layersByLevel,s=Math.pow(2,u),c=l[u]=l[u]||[],d,f=a.levelIsComplete(u,n),p,h=function(){var I=function(V){if(a.validateLayersElesOrdering(V,n),a.levelIsComplete(V,n))return p=l[V],!0},A=function(V){if(!p)for(var U=u+V;i4<=U&&U<=VF&&!I(U);U+=V);};A(1),A(-1);for(var P=c.length-1;P>=0;P--){var C=c[P];C.invalid&&pl(c,C)}};if(!f)h();else return c;var g=function(){if(!d){d=ei();for(var I=0;I<n.length;I++)pBe(d,n[I].boundingBox())}return d},_=function(I){I=I||{};var A=I.after;g();var P=Math.ceil(d.w*s),C=Math.ceil(d.h*s);if(P>Z1e||C>Z1e)return null;var B=P*C;if(B>hHe)return null;var V=a.makeLayer(d,u);if(A!=null){var U=c.indexOf(A)+1;c.splice(U,0,V)}else(I.insert===void 0||I.insert)&&c.unshift(V);return V};if(a.skipping&&!o)return null;for(var m=null,w=n.length/iHe,T=!o,E=0;E<n.length;E++){var S=n[E],N=S._private.rscratch,j=N.imgLayerCaches=N.imgLayerCaches||{},q=j[u];if(q){m=q;continue}if((!m||m.eles.length>=w||!tSe(m.bb,S.boundingBox()))&&(m=_({insert:!0,after:m}),!m))return null;p||T?a.queueLayer(m,S):a.drawEleInLayer(m,S,u,e),m.eles.push(S),j[u]=m}return p||(T?null:c)};Na.getEleLevelForLayerLevel=function(n,e){return n};Na.drawEleInLayer=function(n,e,u,a){var r=this,t=this.renderer,i=n.context,o=e.boundingBox();o.w===0||o.h===0||!e.visible()||(u=r.getEleLevelForLayerLevel(u,a),t.setImgSmoothing(i,!1),t.drawCachedElement(i,e,null,null,u,yHe),t.setImgSmoothing(i,!0))};Na.levelIsComplete=function(n,e){var u=this,a=u.layersByLevel[n];if(!a||a.length===0)return!1;for(var r=0,t=0;t<a.length;t++){var i=a[t];if(i.reqs>0||i.invalid)return!1;r+=i.eles.length}return r===e.length};Na.validateLayersElesOrdering=function(n,e){var u=this.layersByLevel[n];if(u)for(var a=0;a<u.length;a++){for(var r=u[a],t=-1,i=0;i<e.length;i++)if(r.eles[0]===e[i]){t=i;break}if(t<0){this.invalidateLayer(r);continue}for(var o=t,i=0;i<r.eles.length;i++)if(r.eles[i]!==e[o+i]){this.invalidateLayer(r);break}}};Na.updateElementsInLayers=function(n,e){for(var u=this,a=dN(n[0]),r=0;r<n.length;r++)for(var t=a?null:n[r],i=a?n[r]:n[r].ele,o=i._private.rscratch,l=o.imgLayerCaches=o.imgLayerCaches||{},s=i4;s<=VF;s++){var c=l[s];c&&(t&&u.getEleLevelForLayerLevel(c.level)!==t.level||e(c,i,t))}};Na.haveLayers=function(){for(var n=this,e=!1,u=i4;u<=VF;u++){var a=n.layersByLevel[u];if(a&&a.length>0){e=!0;break}}return e};Na.invalidateElements=function(n){var e=this;n.length!==0&&(e.lastInvalidationTime=tc(),!(n.length===0||!e.haveLayers())&&e.updateElementsInLayers(n,function(a,r,t){e.invalidateLayer(a)}))};Na.invalidateLayer=function(n){if(this.lastInvalidationTime=tc(),!n.invalid){var e=n.level,u=n.eles,a=this.layersByLevel[e];pl(a,n),n.elesQueue=[],n.invalid=!0,n.replacement&&(n.replacement.invalid=!0);for(var r=0;r<u.length;r++){var t=u[r]._private.rscratch.imgLayerCaches;t&&(t[e]=null)}}};Na.refineElementTextures=function(n){var e=this;e.updateElementsInLayers(n,function(a,r,t){var i=a.replacement;if(i||(i=a.replacement=e.makeLayer(a.bb,a.level),i.replaces=a,i.eles=a.eles),!i.reqs)for(var o=0;o<i.eles.length;o++)e.queueLayer(i,i.eles[o])})};Na.enqueueElementRefinement=function(n){this.eleTxrDeqs.merge(n),this.scheduleElementRefinement()};Na.queueLayer=function(n,e){var u=this,a=u.layersQueue,r=n.elesQueue,t=r.hasId=r.hasId||{};if(!n.replacement){if(e){if(t[e.id()])return;r.push(e),t[e.id()]=!0}n.reqs?(n.reqs++,a.updateItem(n)):(n.reqs=1,a.push(n))}};Na.dequeue=function(n){for(var e=this,u=e.layersQueue,a=[],r=0;r<pHe&&u.size()!==0;){var t=u.peek();if(t.replacement){u.pop();continue}if(t.replaces&&t!==t.replaces.replacement){u.pop();continue}if(t.invalid){u.pop();continue}var i=t.elesQueue.shift();i&&(e.drawEleInLayer(t,i,t.level,n),r++),a.length===0&&a.push(!0),t.elesQueue.length===0&&(u.pop(),t.reqs=0,t.replaces&&e.applyLayerReplacement(t),e.requestRedraw())}return a};Na.applyLayerReplacement=function(n){var e=this,u=e.layersByLevel[n.level],a=n.replaces,r=u.indexOf(a);if(!(r<0||a.invalid)){u[r]=n;for(var t=0;t<n.eles.length;t++){var i=n.eles[t]._private,o=i.imgLayerCaches=i.imgLayerCaches||{};o&&(o[n.level]=n)}e.requestRedraw()}};Na.requestRedraw=yN(function(){var n=this.renderer;n.redrawHint("eles",!0),n.redrawHint("drag",!0),n.redraw()},100);Na.setupDequeueing=iEe.setupDequeueing({deqRedrawThreshold:oHe,deqCost:cHe,deqAvgCost:lHe,deqNoDrawCost:dHe,deqFastCost:fHe,deq:function(e,u){return e.dequeue(u)},onDeqd:VH,shouldRedraw:Kwe,priority:function(e){return e.renderer.beforeRenderPriorities.lyrTxrDeq}});var sEe={},tve;function bHe(n,e){for(var u=0;u<e.length;u++){var a=e[u];n.lineTo(a.x,a.y)}}function gHe(n,e,u){for(var a,r=0;r<e.length;r++){var t=e[r];r===0&&(a=t),n.lineTo(t.x,t.y)}n.quadraticCurveTo(u.x,u.y,a.x,a.y)}function rve(n,e,u){n.beginPath&&n.beginPath();for(var a=e,r=0;r<a.length;r++){var t=a[r];n.lineTo(t.x,t.y)}var i=u,o=u[0];n.moveTo(o.x,o.y);for(var r=1;r<i.length;r++){var t=i[r];n.lineTo(t.x,t.y)}n.closePath&&n.closePath()}function vHe(n,e,u,a,r){n.beginPath&&n.beginPath(),n.arc(u,a,r,0,Math.PI*2,!1);var t=e,i=t[0];n.moveTo(i.x,i.y);for(var o=0;o<t.length;o++){var l=t[o];n.lineTo(l.x,l.y)}n.closePath&&n.closePath()}function _He(n,e,u,a){n.arc(e,u,a,0,Math.PI*2,!1)}sEe.arrowShapeImpl=function(n){return(tve||(tve={polygon:bHe,"triangle-backcurve":gHe,"triangle-tee":rve,"circle-triangle":vHe,"triangle-cross":rve,circle:_He}))[n]};var ts={};ts.drawElement=function(n,e,u,a,r,t){var i=this;e.isNode()?i.drawNode(n,e,u,a,r,t):i.drawEdge(n,e,u,a,r,t)};ts.drawElementOverlay=function(n,e){var u=this;e.isNode()?u.drawNodeOverlay(n,e):u.drawEdgeOverlay(n,e)};ts.drawElementUnderlay=function(n,e){var u=this;e.isNode()?u.drawNodeUnderlay(n,e):u.drawEdgeUnderlay(n,e)};ts.drawCachedElementPortion=function(n,e,u,a,r,t,i,o){var l=this,s=u.getBoundingBox(e);if(!(s.w===0||s.h===0)){var c=u.getElement(e,s,a,r,t);if(c!=null){var d=o(l,e);if(d===0)return;var f=i(l,e),p=s.x1,h=s.y1,g=s.w,_=s.h,m,w,T,E,S;if(f!==0){var N=u.getRotationPoint(e);T=N.x,E=N.y,n.translate(T,E),n.rotate(f),S=l.getImgSmoothing(n),S||l.setImgSmoothing(n,!0);var j=u.getRotationOffset(e);m=j.x,w=j.y}else m=p,w=h;var q;d!==1&&(q=n.globalAlpha,n.globalAlpha=q*d),n.drawImage(c.texture.canvas,c.x,0,c.width,c.height,m,w,g,_),d!==1&&(n.globalAlpha=q),f!==0&&(n.rotate(-f),n.translate(-T,-E),S||l.setImgSmoothing(n,!1))}else u.drawElement(n,e)}};var THe=function(){return 0},wHe=function(e,u){return e.getTextAngle(u,null)},SHe=function(e,u){return e.getTextAngle(u,"source")},EHe=function(e,u){return e.getTextAngle(u,"target")},AHe=function(e,u){return u.effectiveOpacity()},BL=function(e,u){return u.pstyle("text-opacity").pfValue*u.effectiveOpacity()};ts.drawCachedElement=function(n,e,u,a,r,t){var i=this,o=i.data,l=o.eleTxrCache,s=o.lblTxrCache,c=o.slbTxrCache,d=o.tlbTxrCache,f=e.boundingBox(),p=t===!0?l.reasons.highQuality:null;if(!(f.w===0||f.h===0||!e.visible())&&(!a||GH(f,a))){var h=e.isEdge(),g=e.element()._private.rscratch.badLine;i.drawElementUnderlay(n,e),i.drawCachedElementPortion(n,e,l,u,r,p,THe,AHe),(!h||!g)&&i.drawCachedElementPortion(n,e,s,u,r,p,wHe,BL),h&&!g&&(i.drawCachedElementPortion(n,e,c,u,r,p,SHe,BL),i.drawCachedElementPortion(n,e,d,u,r,p,EHe,BL)),i.drawElementOverlay(n,e)}};ts.drawElements=function(n,e){for(var u=this,a=0;a<e.length;a++){var r=e[a];u.drawElement(n,r)}};ts.drawCachedElements=function(n,e,u,a){for(var r=this,t=0;t<e.length;t++){var i=e[t];r.drawCachedElement(n,i,u,a)}};ts.drawCachedNodes=function(n,e,u,a){for(var r=this,t=0;t<e.length;t++){var i=e[t];i.isNode()&&r.drawCachedElement(n,i,u,a)}};ts.drawLayeredElements=function(n,e,u,a){var r=this,t=r.data.lyrTxrCache.getLayers(e,u);if(t)for(var i=0;i<t.length;i++){var o=t[i],l=o.bb;l.w===0||l.h===0||n.drawImage(o.canvas,l.x1,l.y1,l.w,l.h)}else r.drawCachedElements(n,e,u,a)};var lc={};lc.drawEdge=function(n,e,u){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,t=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,i=this,o=e._private.rscratch;if(!(t&&!e.visible())&&!(o.badLine||o.allpts==null||isNaN(o.allpts[0]))){var l;u&&(l=u,n.translate(-l.x1,-l.y1));var s=t?e.pstyle("opacity").value:1,c=t?e.pstyle("line-opacity").value:1,d=e.pstyle("curve-style").value,f=e.pstyle("line-style").value,p=e.pstyle("width").pfValue,h=e.pstyle("line-cap").value,g=e.pstyle("line-outline-width").value,_=e.pstyle("line-outline-color").value,m=s*c,w=s*c,T=function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:m;d==="straight-triangle"?(i.eleStrokeStyle(n,e,V),i.drawEdgeTrianglePath(e,n,o.allpts)):(n.lineWidth=p,n.lineCap=h,i.eleStrokeStyle(n,e,V),i.drawEdgePath(e,n,o.allpts,f),n.lineCap="butt")},E=function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:m;if(n.lineWidth=p+g,n.lineCap=h,g>0)i.colorStrokeStyle(n,_[0],_[1],_[2],V);else{n.lineCap="butt";return}d==="straight-triangle"?i.drawEdgeTrianglePath(e,n,o.allpts):(i.drawEdgePath(e,n,o.allpts,f),n.lineCap="butt")},S=function(){r&&i.drawEdgeOverlay(n,e)},N=function(){r&&i.drawEdgeUnderlay(n,e)},j=function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:w;i.drawArrowheads(n,e,V)},q=function(){i.drawElementText(n,e,null,a)};n.lineJoin="round";var O=e.pstyle("ghost").value==="yes";if(O){var I=e.pstyle("ghost-offset-x").pfValue,A=e.pstyle("ghost-offset-y").pfValue,P=e.pstyle("ghost-opacity").value,C=m*P;n.translate(I,A),T(C),j(C),n.translate(-I,-A)}else E();N(),T(),j(),S(),q(),u&&n.translate(l.x1,l.y1)}};var cEe=function(e){if(!["overlay","underlay"].includes(e))throw new Error("Invalid state");return function(u,a){if(a.visible()){var r=a.pstyle("".concat(e,"-opacity")).value;if(r!==0){var t=this,i=t.usePaths(),o=a._private.rscratch,l=a.pstyle("".concat(e,"-padding")).pfValue,s=2*l,c=a.pstyle("".concat(e,"-color")).value;u.lineWidth=s,o.edgeType==="self"&&!i?u.lineCap="butt":u.lineCap="round",t.colorStrokeStyle(u,c[0],c[1],c[2],r),t.drawEdgePath(a,u,o.allpts,"solid")}}}};lc.drawEdgeOverlay=cEe("overlay");lc.drawEdgeUnderlay=cEe("underlay");lc.drawEdgePath=function(n,e,u,a){var r=n._private.rscratch,t=e,i,o=!1,l=this.usePaths(),s=n.pstyle("line-dash-pattern").pfValue,c=n.pstyle("line-dash-offset").pfValue;if(l){var d=u.join("$"),f=r.pathCacheKey&&r.pathCacheKey===d;f?(i=e=r.pathCache,o=!0):(i=e=new Path2D,r.pathCacheKey=d,r.pathCache=i)}if(t.setLineDash)switch(a){case"dotted":t.setLineDash([1,1]);break;case"dashed":t.setLineDash(s),t.lineDashOffset=c;break;case"solid":t.setLineDash([]);break}if(!o&&!r.badLine)switch(e.beginPath&&e.beginPath(),e.moveTo(u[0],u[1]),r.edgeType){case"bezier":case"self":case"compound":case"multibezier":for(var p=2;p+3<u.length;p+=4)e.quadraticCurveTo(u[p],u[p+1],u[p+2],u[p+3]);break;case"straight":case"haystack":for(var h=2;h+1<u.length;h+=2)e.lineTo(u[h],u[h+1]);break;case"segments":if(r.isRound){var g=yi(r.roundCorners),_;try{for(g.s();!(_=g.n()).done;){var m=_.value;WSe(e,m)}}catch(T){g.e(T)}finally{g.f()}e.lineTo(u[u.length-2],u[u.length-1])}else for(var w=2;w+1<u.length;w+=2)e.lineTo(u[w],u[w+1]);break}e=t,l?e.stroke(i):e.stroke(),e.setLineDash&&e.setLineDash([])};lc.drawEdgeTrianglePath=function(n,e,u){e.fillStyle=e.strokeStyle;for(var a=n.pstyle("width").pfValue,r=0;r+1<u.length;r+=2){var t=[u[r+2]-u[r],u[r+3]-u[r+1]],i=Math.sqrt(t[0]*t[0]+t[1]*t[1]),o=[t[1]/i,-t[0]/i],l=[o[0]*a/2,o[1]*a/2];e.beginPath(),e.moveTo(u[r]-l[0],u[r+1]-l[1]),e.lineTo(u[r]+l[0],u[r+1]+l[1]),e.lineTo(u[r+2],u[r+3]),e.closePath(),e.fill()}};lc.drawArrowheads=function(n,e,u){var a=e._private.rscratch,r=a.edgeType==="haystack";r||this.drawArrowhead(n,e,"source",a.arrowStartX,a.arrowStartY,a.srcArrowAngle,u),this.drawArrowhead(n,e,"mid-target",a.midX,a.midY,a.midtgtArrowAngle,u),this.drawArrowhead(n,e,"mid-source",a.midX,a.midY,a.midsrcArrowAngle,u),r||this.drawArrowhead(n,e,"target",a.arrowEndX,a.arrowEndY,a.tgtArrowAngle,u)};lc.drawArrowhead=function(n,e,u,a,r,t,i){if(!(isNaN(a)||a==null||isNaN(r)||r==null||isNaN(t)||t==null)){var o=this,l=e.pstyle(u+"-arrow-shape").value;if(l!=="none"){var s=e.pstyle(u+"-arrow-fill").value==="hollow"?"both":"filled",c=e.pstyle(u+"-arrow-fill").value,d=e.pstyle("width").pfValue,f=e.pstyle(u+"-arrow-width"),p=f.value==="match-line"?d:f.pfValue;f.units==="%"&&(p*=d);var h=e.pstyle("opacity").value;i===void 0&&(i=h);var g=n.globalCompositeOperation;(i!==1||c==="hollow")&&(n.globalCompositeOperation="destination-out",o.colorFillStyle(n,255,255,255,1),o.colorStrokeStyle(n,255,255,255,1),o.drawArrowShape(e,n,s,d,l,p,a,r,t),n.globalCompositeOperation=g);var _=e.pstyle(u+"-arrow-color").value;o.colorFillStyle(n,_[0],_[1],_[2],i),o.colorStrokeStyle(n,_[0],_[1],_[2],i),o.drawArrowShape(e,n,c,d,l,p,a,r,t)}}};lc.drawArrowShape=function(n,e,u,a,r,t,i,o,l){var s=this,c=this.usePaths()&&r!=="triangle-cross",d=!1,f,p=e,h={x:i,y:o},g=n.pstyle("arrow-scale").value,_=this.getArrowWidth(a,g),m=s.arrowShapes[r];if(c){var w=s.arrowPathCache=s.arrowPathCache||[],T=cb(r),E=w[T];E!=null?(f=e=E,d=!0):(f=e=new Path2D,w[T]=f)}d||(e.beginPath&&e.beginPath(),c?m.draw(e,1,0,{x:0,y:0},1):m.draw(e,_,l,h,a),e.closePath&&e.closePath()),e=p,c&&(e.translate(i,o),e.rotate(l),e.scale(_,_)),(u==="filled"||u==="both")&&(c?e.fill(f):e.fill()),(u==="hollow"||u==="both")&&(e.lineWidth=t/(c?_:1),e.lineJoin="miter",c?e.stroke(f):e.stroke()),c&&(e.scale(1/_,1/_),e.rotate(-l),e.translate(-i,-o))};var uk={};uk.safeDrawImage=function(n,e,u,a,r,t,i,o,l,s){if(!(r<=0||t<=0||l<=0||s<=0))try{n.drawImage(e,u,a,r,t,i,o,l,s)}catch(c){Lr(c)}};uk.drawInscribedImage=function(n,e,u,a,r){var t=this,i=u.position(),o=i.x,l=i.y,s=u.cy().style(),c=s.getIndexedStyle.bind(s),d=c(u,"background-fit","value",a),f=c(u,"background-repeat","value",a),p=u.width(),h=u.height(),g=u.padding()*2,_=p+(c(u,"background-width-relative-to","value",a)==="inner"?0:g),m=h+(c(u,"background-height-relative-to","value",a)==="inner"?0:g),w=u._private.rscratch,T=c(u,"background-clip","value",a),E=T==="node",S=c(u,"background-image-opacity","value",a)*r,N=c(u,"background-image-smoothing","value",a),j=u.pstyle("corner-radius").value;j!=="auto"&&(j=u.pstyle("corner-radius").pfValue);var q=e.width||e.cachedW,O=e.height||e.cachedH;(q==null||O==null)&&(document.body.appendChild(e),q=e.cachedW=e.width||e.offsetWidth,O=e.cachedH=e.height||e.offsetHeight,document.body.removeChild(e));var I=q,A=O;if(c(u,"background-width","value",a)!=="auto"&&(c(u,"background-width","units",a)==="%"?I=c(u,"background-width","pfValue",a)*_:I=c(u,"background-width","pfValue",a)),c(u,"background-height","value",a)!=="auto"&&(c(u,"background-height","units",a)==="%"?A=c(u,"background-height","pfValue",a)*m:A=c(u,"background-height","pfValue",a)),!(I===0||A===0)){if(d==="contain"){var P=Math.min(_/I,m/A);I*=P,A*=P}else if(d==="cover"){var P=Math.max(_/I,m/A);I*=P,A*=P}var C=o-_/2,B=c(u,"background-position-x","units",a),V=c(u,"background-position-x","pfValue",a);B==="%"?C+=(_-I)*V:C+=V;var U=c(u,"background-offset-x","units",a),G=c(u,"background-offset-x","pfValue",a);U==="%"?C+=(_-I)*G:C+=G;var J=l-m/2,ne=c(u,"background-position-y","units",a),W=c(u,"background-position-y","pfValue",a);ne==="%"?J+=(m-A)*W:J+=W;var ee=c(u,"background-offset-y","units",a),se=c(u,"background-offset-y","pfValue",a);ee==="%"?J+=(m-A)*se:J+=se,w.pathCache&&(C-=o,J-=l,o=0,l=0);var pe=n.globalAlpha;n.globalAlpha=S;var le=t.getImgSmoothing(n),Ee=!1;if(N==="no"&&le?(t.setImgSmoothing(n,!1),Ee=!0):N==="yes"&&!le&&(t.setImgSmoothing(n,!0),Ee=!0),f==="no-repeat")E&&(n.save(),w.pathCache?n.clip(w.pathCache):(t.nodeShapes[t.getNodeShape(u)].draw(n,o,l,_,m,j,w),n.clip())),t.safeDrawImage(n,e,0,0,q,O,C,J,I,A),E&&n.restore();else{var Ae=n.createPattern(e,f);n.fillStyle=Ae,t.nodeShapes[t.getNodeShape(u)].draw(n,o,l,_,m,j,w),n.translate(C,J),n.fill(),n.translate(-C,-J)}n.globalAlpha=pe,Ee&&t.setImgSmoothing(n,le)}};var xb={};xb.eleTextBiggerThanMin=function(n,e){if(!e){var u=n.cy().zoom(),a=this.getPixelRatio(),r=Math.ceil(kH(u*a));e=Math.pow(2,r)}var t=n.pstyle("font-size").pfValue*e,i=n.pstyle("min-zoomed-font-size").pfValue;return!(t<i)};xb.drawElementText=function(n,e,u,a,r){var t=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,i=this;if(a==null){if(t&&!i.eleTextBiggerThanMin(e))return}else if(a===!1)return;if(e.isNode()){var o=e.pstyle("label");if(!o||!o.value)return;var l=i.getLabelJustification(e);n.textAlign=l,n.textBaseline="bottom"}else{var s=e.element()._private.rscratch.badLine,c=e.pstyle("label"),d=e.pstyle("source-label"),f=e.pstyle("target-label");if(s||(!c||!c.value)&&(!d||!d.value)&&(!f||!f.value))return;n.textAlign="center",n.textBaseline="bottom"}var p=!u,h;u&&(h=u,n.translate(-h.x1,-h.y1)),r==null?(i.drawText(n,e,null,p,t),e.isEdge()&&(i.drawText(n,e,"source",p,t),i.drawText(n,e,"target",p,t))):i.drawText(n,e,r,p,t),u&&n.translate(h.x1,h.y1)};xb.getFontCache=function(n){var e;this.fontCaches=this.fontCaches||[];for(var u=0;u<this.fontCaches.length;u++)if(e=this.fontCaches[u],e.context===n)return e;return e={context:n},this.fontCaches.push(e),e};xb.setupTextStyle=function(n,e){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=e.pstyle("font-style").strValue,r=e.pstyle("font-size").pfValue+"px",t=e.pstyle("font-family").strValue,i=e.pstyle("font-weight").strValue,o=u?e.effectiveOpacity()*e.pstyle("text-opacity").value:1,l=e.pstyle("text-outline-opacity").value*o,s=e.pstyle("color").value,c=e.pstyle("text-outline-color").value;n.font=a+" "+i+" "+r+" "+t,n.lineJoin="round",this.colorFillStyle(n,s[0],s[1],s[2],o),this.colorStrokeStyle(n,c[0],c[1],c[2],l)};function OHe(n,e,u,a,r){var t=Math.min(a,r),i=t/2,o=e+a/2,l=u+r/2;n.beginPath(),n.arc(o,l,i,0,Math.PI*2),n.closePath()}function nve(n,e,u,a,r){var t=arguments.length>5&&arguments[5]!==void 0?arguments[5]:5,i=Math.min(t,a/2,r/2);n.beginPath(),n.moveTo(e+i,u),n.lineTo(e+a-i,u),n.quadraticCurveTo(e+a,u,e+a,u+i),n.lineTo(e+a,u+r-i),n.quadraticCurveTo(e+a,u+r,e+a-i,u+r),n.lineTo(e+i,u+r),n.quadraticCurveTo(e,u+r,e,u+r-i),n.lineTo(e,u+i),n.quadraticCurveTo(e,u,e+i,u),n.closePath()}xb.getTextAngle=function(n,e){var u,a=n._private,r=a.rscratch,t=e?e+"-":"",i=n.pstyle(t+"text-rotation");if(i.strValue==="autorotate"){var o=pi(r,"labelAngle",e);u=n.isEdge()?o:0}else i.strValue==="none"?u=0:u=i.pfValue;return u};xb.drawText=function(n,e,u){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,t=e._private,i=t.rscratch,o=r?e.effectiveOpacity():1;if(!(r&&(o===0||e.pstyle("text-opacity").value===0))){u==="main"&&(u=null);var l=pi(i,"labelX",u),s=pi(i,"labelY",u),c,d,f=this.getLabelText(e,u);if(f!=null&&f!==""&&!isNaN(l)&&!isNaN(s)){this.setupTextStyle(n,e,r);var p=u?u+"-":"",h=pi(i,"labelWidth",u),g=pi(i,"labelHeight",u),_=e.pstyle(p+"text-margin-x").pfValue,m=e.pstyle(p+"text-margin-y").pfValue,w=e.isEdge(),T=e.pstyle("text-halign").value,E=e.pstyle("text-valign").value;w&&(T="center",E="center"),l+=_,s+=m;var S;switch(a?S=this.getTextAngle(e,u):S=0,S!==0&&(c=l,d=s,n.translate(c,d),n.rotate(S),l=0,s=0),E){case"top":break;case"center":s+=g/2;break;case"bottom":s+=g;break}var N=e.pstyle("text-background-opacity").value,j=e.pstyle("text-border-opacity").value,q=e.pstyle("text-border-width").pfValue,O=e.pstyle("text-background-padding").pfValue,I=e.pstyle("text-background-shape").strValue,A=I==="round-rectangle"||I==="roundrectangle",P=I==="circle",C=2;if(N>0||q>0&&j>0){var B=n.fillStyle,V=n.strokeStyle,U=n.lineWidth,G=e.pstyle("text-background-color").value,J=e.pstyle("text-border-color").value,ne=e.pstyle("text-border-style").value,W=N>0,ee=q>0&&j>0,se=l-O;switch(T){case"left":se-=h;break;case"center":se-=h/2;break}var pe=s-g-O,le=h+2*O,Ee=g+2*O;if(W&&(n.fillStyle="rgba(".concat(G[0],",").concat(G[1],",").concat(G[2],",").concat(N*o,")")),ee&&(n.strokeStyle="rgba(".concat(J[0],",").concat(J[1],",").concat(J[2],",").concat(j*o,")"),n.lineWidth=q,n.setLineDash))switch(ne){case"dotted":n.setLineDash([1,1]);break;case"dashed":n.setLineDash([4,2]);break;case"double":n.lineWidth=q/4,n.setLineDash([]);break;default:n.setLineDash([]);break}if(A?(n.beginPath(),nve(n,se,pe,le,Ee,C)):P?(n.beginPath(),OHe(n,se,pe,le,Ee)):(n.beginPath(),n.rect(se,pe,le,Ee)),W&&n.fill(),ee&&n.stroke(),ee&&ne==="double"){var Ae=q/2;n.beginPath(),A?nve(n,se+Ae,pe+Ae,le-2*Ae,Ee-2*Ae,C):n.rect(se+Ae,pe+Ae,le-2*Ae,Ee-2*Ae),n.stroke()}n.fillStyle=B,n.strokeStyle=V,n.lineWidth=U,n.setLineDash&&n.setLineDash([])}var Ne=2*e.pstyle("text-outline-width").pfValue;if(Ne>0&&(n.lineWidth=Ne),e.pstyle("text-wrap").value==="wrap"){var Oe=pi(i,"labelWrapCachedLines",u),be=pi(i,"labelLineHeight",u),te=h/2,v=this.getLabelJustification(e);switch(v==="auto"||(T==="left"?v==="left"?l+=-h:v==="center"&&(l+=-te):T==="center"?v==="left"?l+=-te:v==="right"&&(l+=te):T==="right"&&(v==="center"?l+=te:v==="right"&&(l+=h))),E){case"top":s-=(Oe.length-1)*be;break;case"center":case"bottom":s-=(Oe.length-1)*be;break}for(var F=0;F<Oe.length;F++)Ne>0&&n.strokeText(Oe[F],l,s),n.fillText(Oe[F],l,s),s+=be}else Ne>0&&n.strokeText(f,l,s),n.fillText(f,l,s);S!==0&&(n.rotate(-S),n.translate(-c,-d))}}};var Nl={};Nl.drawNode=function(n,e,u){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,t=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,i=this,o,l,s=e._private,c=s.rscratch,d=e.position();if(!(!At(d.x)||!At(d.y))&&!(t&&!e.visible())){var f=t?e.effectiveOpacity():1,p=i.usePaths(),h,g=!1,_=e.padding();o=e.width()+2*_,l=e.height()+2*_;var m;u&&(m=u,n.translate(-m.x1,-m.y1));for(var w=e.pstyle("background-image"),T=w.value,E=new Array(T.length),S=new Array(T.length),N=0,j=0;j<T.length;j++){var q=T[j],O=E[j]=q!=null&&q!=="none";if(O){var I=e.cy().style().getIndexedStyle(e,"background-image-crossorigin","value",j);N++,S[j]=i.getCachedImage(q,I,function(){s.backgroundTimestamp=Date.now(),e.emitAndNotify("background")})}}var A=e.pstyle("background-blacken").value,P=e.pstyle("border-width").pfValue,C=e.pstyle("background-opacity").value*f,B=e.pstyle("border-color").value,V=e.pstyle("border-style").value,U=e.pstyle("border-join").value,G=e.pstyle("border-cap").value,J=e.pstyle("border-position").value,ne=e.pstyle("border-dash-pattern").pfValue,W=e.pstyle("border-dash-offset").pfValue,ee=e.pstyle("border-opacity").value*f,se=e.pstyle("outline-width").pfValue,pe=e.pstyle("outline-color").value,le=e.pstyle("outline-style").value,Ee=e.pstyle("outline-opacity").value*f,Ae=e.pstyle("outline-offset").value,Ne=e.pstyle("corner-radius").value;Ne!=="auto"&&(Ne=e.pstyle("corner-radius").pfValue);var Oe=function(){var ve=arguments.length>0&&arguments[0]!==void 0?arguments[0]:C;i.eleFillStyle(n,e,ve)},be=function(){var ve=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ee;i.colorStrokeStyle(n,B[0],B[1],B[2],ve)},te=function(){var ve=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ee;i.colorStrokeStyle(n,pe[0],pe[1],pe[2],ve)},v=function(ve,ye,re,Ie){var Le=i.nodePathCache=i.nodePathCache||[],Pe=Xwe(re==="polygon"?re+","+Ie.join(","):re,""+ye,""+ve,""+Ne),Fe=Le[Pe],R,k=!1;return Fe!=null?(R=Fe,k=!0,c.pathCache=R):(R=new Path2D,Le[Pe]=c.pathCache=R),{path:R,cacheHit:k}},F=e.pstyle("shape").strValue,D=e.pstyle("shape-polygon-points").pfValue;if(p){n.translate(d.x,d.y);var L=v(o,l,F,D);h=L.path,g=L.cacheHit}var H=function(){if(!g){var ve=d;p&&(ve={x:0,y:0}),i.nodeShapes[i.getNodeShape(e)].draw(h||n,ve.x,ve.y,o,l,Ne,c)}p?n.fill(h):n.fill()},Z=function(){for(var ve=arguments.length>0&&arguments[0]!==void 0?arguments[0]:f,ye=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,re=s.backgrounding,Ie=0,Le=0;Le<S.length;Le++){var Pe=e.cy().style().getIndexedStyle(e,"background-image-containment","value",Le);if(ye&&Pe==="over"||!ye&&Pe==="inside"){Ie++;continue}E[Le]&&S[Le].complete&&!S[Le].error&&(Ie++,i.drawInscribedImage(n,S[Le],e,Le,ve))}s.backgrounding=Ie!==N,re!==s.backgrounding&&e.updateStyle(!1)},$=function(){var ve=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,ye=arguments.length>1&&arguments[1]!==void 0?arguments[1]:f;i.hasPie(e)&&(i.drawPie(n,e,ye),ve&&(p||i.nodeShapes[i.getNodeShape(e)].draw(n,d.x,d.y,o,l,Ne,c)))},ue=function(){var ve=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,ye=arguments.length>1&&arguments[1]!==void 0?arguments[1]:f;i.hasStripe(e)&&(n.save(),p?n.clip(c.pathCache):(i.nodeShapes[i.getNodeShape(e)].draw(n,d.x,d.y,o,l,Ne,c),n.clip()),i.drawStripe(n,e,ye),n.restore(),ve&&(p||i.nodeShapes[i.getNodeShape(e)].draw(n,d.x,d.y,o,l,Ne,c)))},ae=function(){var ve=arguments.length>0&&arguments[0]!==void 0?arguments[0]:f,ye=(A>0?A:-A)*ve,re=A>0?0:255;A!==0&&(i.colorFillStyle(n,re,re,re,ye),p?n.fill(h):n.fill())},ce=function(){if(P>0){if(n.lineWidth=P,n.lineCap=G,n.lineJoin=U,n.setLineDash)switch(V){case"dotted":n.setLineDash([1,1]);break;case"dashed":n.setLineDash(ne),n.lineDashOffset=W;break;case"solid":case"double":n.setLineDash([]);break}if(J!=="center"){if(n.save(),n.lineWidth*=2,J==="inside")p?n.clip(h):n.clip();else{var ve=new Path2D;ve.rect(-o/2-P,-l/2-P,o+2*P,l+2*P),ve.addPath(h),n.clip(ve,"evenodd")}p?n.stroke(h):n.stroke(),n.restore()}else p?n.stroke(h):n.stroke();if(V==="double"){n.lineWidth=P/3;var ye=n.globalCompositeOperation;n.globalCompositeOperation="destination-out",p?n.stroke(h):n.stroke(),n.globalCompositeOperation=ye}n.setLineDash&&n.setLineDash([])}},Se=function(){if(se>0){if(n.lineWidth=se,n.lineCap="butt",n.setLineDash)switch(le){case"dotted":n.setLineDash([1,1]);break;case"dashed":n.setLineDash([4,2]);break;case"solid":case"double":n.setLineDash([]);break}var ve=d;p&&(ve={x:0,y:0});var ye=i.getNodeShape(e),re=P;J==="inside"&&(re=0),J==="outside"&&(re*=2);var Ie=(o+re+(se+Ae))/o,Le=(l+re+(se+Ae))/l,Pe=o*Ie,Fe=l*Le,R=i.nodeShapes[ye].points,k;if(p){var K=v(Pe,Fe,ye,R);k=K.path}if(ye==="ellipse")i.drawEllipsePath(k||n,ve.x,ve.y,Pe,Fe);else if(["round-diamond","round-heptagon","round-hexagon","round-octagon","round-pentagon","round-polygon","round-triangle","round-tag"].includes(ye)){var de=0,ge=0,Qe=0;ye==="round-diamond"?de=(re+Ae+se)*1.4:ye==="round-heptagon"?(de=(re+Ae+se)*1.075,Qe=-(re/2+Ae+se)/35):ye==="round-hexagon"?de=(re+Ae+se)*1.12:ye==="round-pentagon"?(de=(re+Ae+se)*1.13,Qe=-(re/2+Ae+se)/15):ye==="round-tag"?(de=(re+Ae+se)*1.12,ge=(re/2+se+Ae)*.07):ye==="round-triangle"&&(de=(re+Ae+se)*(Math.PI/2),Qe=-(re+Ae/2+se)/Math.PI),de!==0&&(Ie=(o+de)/o,Pe=o*Ie,["round-hexagon","round-tag"].includes(ye)||(Le=(l+de)/l,Fe=l*Le)),Ne=Ne==="auto"?aSe(Pe,Fe):Ne;for(var je=Pe/2,$e=Fe/2,at=Ne+(re+se+Ae)/2,fe=new Array(R.length/2),Te=new Array(R.length/2),qe=0;qe<R.length/2;qe++)fe[qe]={x:ve.x+ge+je*R[qe*2],y:ve.y+Qe+$e*R[qe*2+1]};var it,Me,st,tt,Ot=fe.length;for(Me=fe[Ot-1],it=0;it<Ot;it++)st=fe[it%Ot],tt=fe[(it+1)%Ot],Te[it]=ak(Me,st,tt,at),Me=st,st=tt;i.drawRoundPolygonPath(k||n,ve.x+ge,ve.y+Qe,o*Ie,l*Le,R,Te)}else if(["roundrectangle","round-rectangle"].includes(ye))Ne=Ne==="auto"?hl(Pe,Fe):Ne,i.drawRoundRectanglePath(k||n,ve.x,ve.y,Pe,Fe,Ne+(re+se+Ae)/2);else if(["cutrectangle","cut-rectangle"].includes(ye))Ne=Ne==="auto"?$H():Ne,i.drawCutRectanglePath(k||n,ve.x,ve.y,Pe,Fe,null,Ne+(re+se+Ae)/4);else if(["bottomroundrectangle","bottom-round-rectangle"].includes(ye))Ne=Ne==="auto"?hl(Pe,Fe):Ne,i.drawBottomRoundRectanglePath(k||n,ve.x,ve.y,Pe,Fe,Ne+(re+se+Ae)/2);else if(ye==="barrel")i.drawBarrelPath(k||n,ve.x,ve.y,Pe,Fe);else if(ye.startsWith("polygon")||["rhomboid","right-rhomboid","round-tag","tag","vee"].includes(ye)){var yt=(re+se+Ae)/o;R=MF(CF(R,yt)),i.drawPolygonPath(k||n,ve.x,ve.y,o,l,R)}else{var bt=(re+se+Ae)/o;R=MF(CF(R,-bt)),i.drawPolygonPath(k||n,ve.x,ve.y,o,l,R)}if(p?n.stroke(k):n.stroke(),le==="double"){n.lineWidth=re/3;var Tt=n.globalCompositeOperation;n.globalCompositeOperation="destination-out",p?n.stroke(k):n.stroke(),n.globalCompositeOperation=Tt}n.setLineDash&&n.setLineDash([])}},xe=function(){r&&i.drawNodeOverlay(n,e,d,o,l)},Ce=function(){r&&i.drawNodeUnderlay(n,e,d,o,l)},He=function(){i.drawElementText(n,e,null,a)},Je=e.pstyle("ghost").value==="yes";if(Je){var Ye=e.pstyle("ghost-offset-x").pfValue,oe=e.pstyle("ghost-offset-y").pfValue,X=e.pstyle("ghost-opacity").value,Y=X*f;n.translate(Ye,oe),te(),Se(),Oe(X*C),H(),Z(Y,!0),be(X*ee),ce(),$(A!==0||P!==0),ue(A!==0||P!==0),Z(Y,!1),ae(Y),n.translate(-Ye,-oe)}p&&n.translate(-d.x,-d.y),Ce(),p&&n.translate(d.x,d.y),te(),Se(),Oe(),H(),Z(f,!0),be(),ce(),$(A!==0||P!==0),ue(A!==0||P!==0),Z(f,!1),ae(),p&&n.translate(-d.x,-d.y),He(),xe(),u&&n.translate(m.x1,m.y1)}};var lEe=function(e){if(!["overlay","underlay"].includes(e))throw new Error("Invalid state");return function(u,a,r,t,i){var o=this;if(a.visible()){var l=a.pstyle("".concat(e,"-padding")).pfValue,s=a.pstyle("".concat(e,"-opacity")).value,c=a.pstyle("".concat(e,"-color")).value,d=a.pstyle("".concat(e,"-shape")).value,f=a.pstyle("".concat(e,"-corner-radius")).value;if(s>0){if(r=r||a.position(),t==null||i==null){var p=a.padding();t=a.width()+2*p,i=a.height()+2*p}o.colorFillStyle(u,c[0],c[1],c[2],s),o.nodeShapes[d].draw(u,r.x,r.y,t+l*2,i+l*2,f),u.fill()}}}};Nl.drawNodeOverlay=lEe("overlay");Nl.drawNodeUnderlay=lEe("underlay");Nl.hasPie=function(n){return n=n[0],n._private.hasPie};Nl.hasStripe=function(n){return n=n[0],n._private.hasStripe};Nl.drawPie=function(n,e,u,a){e=e[0],a=a||e.position();var r=e.cy().style(),t=e.pstyle("pie-size"),i=e.pstyle("pie-hole"),o=e.pstyle("pie-start-angle").pfValue,l=a.x,s=a.y,c=e.width(),d=e.height(),f=Math.min(c,d)/2,p,h=0,g=this.usePaths();if(g&&(l=0,s=0),t.units==="%"?f=f*t.pfValue:t.pfValue!==void 0&&(f=t.pfValue/2),i.units==="%"?p=f*i.pfValue:i.pfValue!==void 0&&(p=i.pfValue/2),!(p>=f))for(var _=1;_<=r.pieBackgroundN;_++){var m=e.pstyle("pie-"+_+"-background-size").value,w=e.pstyle("pie-"+_+"-background-color").value,T=e.pstyle("pie-"+_+"-background-opacity").value*u,E=m/100;E+h>1&&(E=1-h);var S=1.5*Math.PI+2*Math.PI*h;S+=o;var N=2*Math.PI*E,j=S+N;m===0||h>=1||h+E>1||(p===0?(n.beginPath(),n.moveTo(l,s),n.arc(l,s,f,S,j),n.closePath()):(n.beginPath(),n.arc(l,s,f,S,j),n.arc(l,s,p,j,S,!0),n.closePath()),this.colorFillStyle(n,w[0],w[1],w[2],T),n.fill(),h+=E)}};Nl.drawStripe=function(n,e,u,a){e=e[0],a=a||e.position();var r=e.cy().style(),t=a.x,i=a.y,o=e.width(),l=e.height(),s=0,c=this.usePaths();n.save();var d=e.pstyle("stripe-direction").value,f=e.pstyle("stripe-size");switch(d){case"vertical":break;case"righward":n.rotate(-Math.PI/2);break}var p=o,h=l;f.units==="%"?(p=p*f.pfValue,h=h*f.pfValue):f.pfValue!==void 0&&(p=f.pfValue,h=f.pfValue),c&&(t=0,i=0),i-=p/2,t-=h/2;for(var g=1;g<=r.stripeBackgroundN;g++){var _=e.pstyle("stripe-"+g+"-background-size").value,m=e.pstyle("stripe-"+g+"-background-color").value,w=e.pstyle("stripe-"+g+"-background-opacity").value*u,T=_/100;T+s>1&&(T=1-s),!(_===0||s>=1||s+T>1)&&(n.beginPath(),n.rect(t,i+h*s,p,h*T),n.closePath(),this.colorFillStyle(n,m[0],m[1],m[2],w),n.fill(),s+=T)}n.restore()};var ri={},xHe=100;ri.getPixelRatio=function(){var n=this.data.contexts[0];if(this.forcedPixelRatio!=null)return this.forcedPixelRatio;var e=this.cy.window(),u=n.backingStorePixelRatio||n.webkitBackingStorePixelRatio||n.mozBackingStorePixelRatio||n.msBackingStorePixelRatio||n.oBackingStorePixelRatio||n.backingStorePixelRatio||1;return(e.devicePixelRatio||1)/u};ri.paintCache=function(n){for(var e=this.paintCaches=this.paintCaches||[],u=!0,a,r=0;r<e.length;r++)if(a=e[r],a.context===n){u=!1;break}return u&&(a={context:n},e.push(a)),a};ri.createGradientStyleFor=function(n,e,u,a,r){var t,i=this.usePaths(),o=u.pstyle(e+"-gradient-stop-colors").value,l=u.pstyle(e+"-gradient-stop-positions").pfValue;if(a==="radial-gradient")if(u.isEdge()){var s=u.sourceEndpoint(),c=u.targetEndpoint(),d=u.midpoint(),f=lb(s,d),p=lb(c,d);t=n.createRadialGradient(d.x,d.y,0,d.x,d.y,Math.max(f,p))}else{var h=i?{x:0,y:0}:u.position(),g=u.paddedWidth(),_=u.paddedHeight();t=n.createRadialGradient(h.x,h.y,0,h.x,h.y,Math.max(g,_))}else if(u.isEdge()){var m=u.sourceEndpoint(),w=u.targetEndpoint();t=n.createLinearGradient(m.x,m.y,w.x,w.y)}else{var T=i?{x:0,y:0}:u.position(),E=u.paddedWidth(),S=u.paddedHeight(),N=E/2,j=S/2,q=u.pstyle("background-gradient-direction").value;switch(q){case"to-bottom":t=n.createLinearGradient(T.x,T.y-j,T.x,T.y+j);break;case"to-top":t=n.createLinearGradient(T.x,T.y+j,T.x,T.y-j);break;case"to-left":t=n.createLinearGradient(T.x+N,T.y,T.x-N,T.y);break;case"to-right":t=n.createLinearGradient(T.x-N,T.y,T.x+N,T.y);break;case"to-bottom-right":case"to-right-bottom":t=n.createLinearGradient(T.x-N,T.y-j,T.x+N,T.y+j);break;case"to-top-right":case"to-right-top":t=n.createLinearGradient(T.x-N,T.y+j,T.x+N,T.y-j);break;case"to-bottom-left":case"to-left-bottom":t=n.createLinearGradient(T.x+N,T.y-j,T.x-N,T.y+j);break;case"to-top-left":case"to-left-top":t=n.createLinearGradient(T.x+N,T.y+j,T.x-N,T.y-j);break}}if(!t)return null;for(var O=l.length===o.length,I=o.length,A=0;A<I;A++)t.addColorStop(O?l[A]:A/(I-1),"rgba("+o[A][0]+","+o[A][1]+","+o[A][2]+","+r+")");return t};ri.gradientFillStyle=function(n,e,u,a){var r=this.createGradientStyleFor(n,"background",e,u,a);if(!r)return null;n.fillStyle=r};ri.colorFillStyle=function(n,e,u,a,r){n.fillStyle="rgba("+e+","+u+","+a+","+r+")"};ri.eleFillStyle=function(n,e,u){var a=e.pstyle("background-fill").value;if(a==="linear-gradient"||a==="radial-gradient")this.gradientFillStyle(n,e,a,u);else{var r=e.pstyle("background-color").value;this.colorFillStyle(n,r[0],r[1],r[2],u)}};ri.gradientStrokeStyle=function(n,e,u,a){var r=this.createGradientStyleFor(n,"line",e,u,a);if(!r)return null;n.strokeStyle=r};ri.colorStrokeStyle=function(n,e,u,a,r){n.strokeStyle="rgba("+e+","+u+","+a+","+r+")"};ri.eleStrokeStyle=function(n,e,u){var a=e.pstyle("line-fill").value;if(a==="linear-gradient"||a==="radial-gradient")this.gradientStrokeStyle(n,e,a,u);else{var r=e.pstyle("line-color").value;this.colorStrokeStyle(n,r[0],r[1],r[2],u)}};ri.matchCanvasSize=function(n){var e=this,u=e.data,a=e.findContainerClientCoords(),r=a[2],t=a[3],i=e.getPixelRatio(),o=e.motionBlurPxRatio;(n===e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_NODE]||n===e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_DRAG])&&(i=o);var l=r*i,s=t*i,c;if(!(l===e.canvasWidth&&s===e.canvasHeight)){e.fontCaches=null;var d=u.canvasContainer;d.style.width=r+"px",d.style.height=t+"px";for(var f=0;f<e.CANVAS_LAYERS;f++)c=u.canvases[f],c.width=l,c.height=s,c.style.width=r+"px",c.style.height=t+"px";for(var f=0;f<e.BUFFER_COUNT;f++)c=u.bufferCanvases[f],c.width=l,c.height=s,c.style.width=r+"px",c.style.height=t+"px";e.textureMult=1,i<=1&&(c=u.bufferCanvases[e.TEXTURE_BUFFER],e.textureMult=2,c.width=l*e.textureMult,c.height=s*e.textureMult),e.canvasWidth=l,e.canvasHeight=s,e.pixelRatio=i}};ri.renderTo=function(n,e,u,a){this.render({forcedContext:n,forcedZoom:e,forcedPan:u,drawAllLayers:!0,forcedPxRatio:a})};ri.clearCanvas=function(){var n=this,e=n.data;function u(a){a.clearRect(0,0,n.canvasWidth,n.canvasHeight)}u(e.contexts[n.NODE]),u(e.contexts[n.DRAG])};ri.render=function(n){var e=this;n=n||Ywe();var u=e.cy,a=n.forcedContext,r=n.drawAllLayers,t=n.drawOnlyNodeLayer,i=n.forcedZoom,o=n.forcedPan,l=n.forcedPxRatio===void 0?this.getPixelRatio():n.forcedPxRatio,s=e.data,c=s.canvasNeedsRedraw,d=e.textureOnViewport&&!a&&(e.pinching||e.hoverData.dragging||e.swipePanning||e.data.wheelZooming),f=n.motionBlur!==void 0?n.motionBlur:e.motionBlur,p=e.motionBlurPxRatio,h=u.hasCompoundNodes(),g=e.hoverData.draggingEles,_=!!(e.hoverData.selecting||e.touchData.selecting);f=f&&!a&&e.motionBlurEnabled&&!_;var m=f;a||(e.prevPxRatio!==l&&(e.invalidateContainerClientCoordsCache(),e.matchCanvasSize(e.container),e.redrawHint("eles",!0),e.redrawHint("drag",!0)),e.prevPxRatio=l),!a&&e.motionBlurTimeout&&clearTimeout(e.motionBlurTimeout),f&&(e.mbFrames==null&&(e.mbFrames=0),e.mbFrames++,e.mbFrames<3&&(m=!1),e.mbFrames>e.minMbLowQualFrames&&(e.motionBlurPxRatio=e.mbPxRBlurry)),e.clearingMotionBlur&&(e.motionBlurPxRatio=1),e.textureDrawLastFrame&&!d&&(c[e.NODE]=!0,c[e.SELECT_BOX]=!0);var w=u.style(),T=u.zoom(),E=i!==void 0?i:T,S=u.pan(),N={x:S.x,y:S.y},j={zoom:T,pan:{x:S.x,y:S.y}},q=e.prevViewport,O=q===void 0||j.zoom!==q.zoom||j.pan.x!==q.pan.x||j.pan.y!==q.pan.y;!O&&!(g&&!h)&&(e.motionBlurPxRatio=1),o&&(N=o),E*=l,N.x*=l,N.y*=l;var I=e.getCachedZSortedEles();function A(be,te,v,F,D){var L=be.globalCompositeOperation;be.globalCompositeOperation="destination-out",e.colorFillStyle(be,255,255,255,e.motionBlurTransparency),be.fillRect(te,v,F,D),be.globalCompositeOperation=L}function P(be,te){var v,F,D,L;!e.clearingMotionBlur&&(be===s.bufferContexts[e.MOTIONBLUR_BUFFER_NODE]||be===s.bufferContexts[e.MOTIONBLUR_BUFFER_DRAG])?(v={x:S.x*p,y:S.y*p},F=T*p,D=e.canvasWidth*p,L=e.canvasHeight*p):(v=N,F=E,D=e.canvasWidth,L=e.canvasHeight),be.setTransform(1,0,0,1,0,0),te==="motionBlur"?A(be,0,0,D,L):!a&&(te===void 0||te)&&be.clearRect(0,0,D,L),r||(be.translate(v.x,v.y),be.scale(F,F)),o&&be.translate(o.x,o.y),i&&be.scale(i,i)}if(d||(e.textureDrawLastFrame=!1),d){if(e.textureDrawLastFrame=!0,!e.textureCache){e.textureCache={},e.textureCache.bb=u.mutableElements().boundingBox(),e.textureCache.texture=e.data.bufferCanvases[e.TEXTURE_BUFFER];var C=e.data.bufferContexts[e.TEXTURE_BUFFER];C.setTransform(1,0,0,1,0,0),C.clearRect(0,0,e.canvasWidth*e.textureMult,e.canvasHeight*e.textureMult),e.render({forcedContext:C,drawOnlyNodeLayer:!0,forcedPxRatio:l*e.textureMult});var j=e.textureCache.viewport={zoom:u.zoom(),pan:u.pan(),width:e.canvasWidth,height:e.canvasHeight};j.mpan={x:(0-j.pan.x)/j.zoom,y:(0-j.pan.y)/j.zoom}}c[e.DRAG]=!1,c[e.NODE]=!1;var B=s.contexts[e.NODE],V=e.textureCache.texture,j=e.textureCache.viewport;B.setTransform(1,0,0,1,0,0),f?A(B,0,0,j.width,j.height):B.clearRect(0,0,j.width,j.height);var U=w.core("outside-texture-bg-color").value,G=w.core("outside-texture-bg-opacity").value;e.colorFillStyle(B,U[0],U[1],U[2],G),B.fillRect(0,0,j.width,j.height);var T=u.zoom();P(B,!1),B.clearRect(j.mpan.x,j.mpan.y,j.width/j.zoom/l,j.height/j.zoom/l),B.drawImage(V,j.mpan.x,j.mpan.y,j.width/j.zoom/l,j.height/j.zoom/l)}else e.textureOnViewport&&!a&&(e.textureCache=null);var J=u.extent(),ne=e.pinching||e.hoverData.dragging||e.swipePanning||e.data.wheelZooming||e.hoverData.draggingEles||e.cy.animated(),W=e.hideEdgesOnViewport&&ne,ee=[];if(ee[e.NODE]=!c[e.NODE]&&f&&!e.clearedForMotionBlur[e.NODE]||e.clearingMotionBlur,ee[e.NODE]&&(e.clearedForMotionBlur[e.NODE]=!0),ee[e.DRAG]=!c[e.DRAG]&&f&&!e.clearedForMotionBlur[e.DRAG]||e.clearingMotionBlur,ee[e.DRAG]&&(e.clearedForMotionBlur[e.DRAG]=!0),c[e.NODE]||r||t||ee[e.NODE]){var se=f&&!ee[e.NODE]&&p!==1,B=a||(se?e.data.bufferContexts[e.MOTIONBLUR_BUFFER_NODE]:s.contexts[e.NODE]),pe=f&&!se?"motionBlur":void 0;P(B,pe),W?e.drawCachedNodes(B,I.nondrag,l,J):e.drawLayeredElements(B,I.nondrag,l,J),e.debug&&e.drawDebugPoints(B,I.nondrag),!r&&!f&&(c[e.NODE]=!1)}if(!t&&(c[e.DRAG]||r||ee[e.DRAG])){var se=f&&!ee[e.DRAG]&&p!==1,B=a||(se?e.data.bufferContexts[e.MOTIONBLUR_BUFFER_DRAG]:s.contexts[e.DRAG]);P(B,f&&!se?"motionBlur":void 0),W?e.drawCachedNodes(B,I.drag,l,J):e.drawCachedElements(B,I.drag,l,J),e.debug&&e.drawDebugPoints(B,I.drag),!r&&!f&&(c[e.DRAG]=!1)}if(this.drawSelectionRectangle(n,P),f&&p!==1){var le=s.contexts[e.NODE],Ee=e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_NODE],Ae=s.contexts[e.DRAG],Ne=e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_DRAG],Oe=function(te,v,F){te.setTransform(1,0,0,1,0,0),F||!m?te.clearRect(0,0,e.canvasWidth,e.canvasHeight):A(te,0,0,e.canvasWidth,e.canvasHeight);var D=p;te.drawImage(v,0,0,e.canvasWidth*D,e.canvasHeight*D,0,0,e.canvasWidth,e.canvasHeight)};(c[e.NODE]||ee[e.NODE])&&(Oe(le,Ee,ee[e.NODE]),c[e.NODE]=!1),(c[e.DRAG]||ee[e.DRAG])&&(Oe(Ae,Ne,ee[e.DRAG]),c[e.DRAG]=!1)}e.prevViewport=j,e.clearingMotionBlur&&(e.clearingMotionBlur=!1,e.motionBlurCleared=!0,e.motionBlur=!0),f&&(e.motionBlurTimeout=setTimeout(function(){e.motionBlurTimeout=null,e.clearedForMotionBlur[e.NODE]=!1,e.clearedForMotionBlur[e.DRAG]=!1,e.motionBlur=!1,e.clearingMotionBlur=!d,e.mbFrames=0,c[e.NODE]=!0,c[e.DRAG]=!0,e.redraw()},xHe)),a||u.emit("render")};var F6;ri.drawSelectionRectangle=function(n,e){var u=this,a=u.cy,r=u.data,t=a.style(),i=n.drawOnlyNodeLayer,o=n.drawAllLayers,l=r.canvasNeedsRedraw,s=n.forcedContext;if(u.showFps||!i&&l[u.SELECT_BOX]&&!o){var c=s||r.contexts[u.SELECT_BOX];if(e(c),u.selection[4]==1&&(u.hoverData.selecting||u.touchData.selecting)){var d=u.cy.zoom(),f=t.core("selection-box-border-width").value/d;c.lineWidth=f,c.fillStyle="rgba("+t.core("selection-box-color").value[0]+","+t.core("selection-box-color").value[1]+","+t.core("selection-box-color").value[2]+","+t.core("selection-box-opacity").value+")",c.fillRect(u.selection[0],u.selection[1],u.selection[2]-u.selection[0],u.selection[3]-u.selection[1]),f>0&&(c.strokeStyle="rgba("+t.core("selection-box-border-color").value[0]+","+t.core("selection-box-border-color").value[1]+","+t.core("selection-box-border-color").value[2]+","+t.core("selection-box-opacity").value+")",c.strokeRect(u.selection[0],u.selection[1],u.selection[2]-u.selection[0],u.selection[3]-u.selection[1]))}if(r.bgActivePosistion&&!u.hoverData.selecting){var d=u.cy.zoom(),p=r.bgActivePosistion;c.fillStyle="rgba("+t.core("active-bg-color").value[0]+","+t.core("active-bg-color").value[1]+","+t.core("active-bg-color").value[2]+","+t.core("active-bg-opacity").value+")",c.beginPath(),c.arc(p.x,p.y,t.core("active-bg-size").pfValue/d,0,2*Math.PI),c.fill()}var h=u.lastRedrawTime;if(u.showFps&&h){h=Math.round(h);var g=Math.round(1e3/h),_="1 frame = "+h+" ms = "+g+" fps";if(c.setTransform(1,0,0,1,0,0),c.fillStyle="rgba(255, 0, 0, 0.75)",c.strokeStyle="rgba(255, 0, 0, 0.75)",c.font="30px Arial",!F6){var m=c.measureText(_);F6=m.actualBoundingBoxAscent}c.fillText(_,0,F6);var w=60;c.strokeRect(0,F6+10,250,20),c.fillRect(0,F6+10,250*Math.min(g/w,1),20)}o||(l[u.SELECT_BOX]=!1)}};function ave(n,e,u){var a=n.createShader(e);if(n.shaderSource(a,u),n.compileShader(a),!n.getShaderParameter(a,n.COMPILE_STATUS))throw new Error(n.getShaderInfoLog(a));return a}function RHe(n,e,u){var a=ave(n,n.VERTEX_SHADER,e),r=ave(n,n.FRAGMENT_SHADER,u),t=n.createProgram();if(n.attachShader(t,a),n.attachShader(t,r),n.linkProgram(t),!n.getProgramParameter(t,n.LINK_STATUS))throw new Error("Could not initialize shaders");return t}function NHe(n,e,u){u===void 0&&(u=e);var a=n.makeOffscreenCanvas(e,u),r=a.context=a.getContext("2d");return a.clear=function(){return r.clearRect(0,0,a.width,a.height)},a.clear(),a}function ok(n){var e=n.pixelRatio,u=n.cy.zoom(),a=n.cy.pan();return{zoom:u*e,pan:{x:a.x*e,y:a.y*e}}}function IHe(n){var e=n.pixelRatio,u=n.cy.zoom();return u*e}function DHe(n,e,u,a,r){var t=a*u+e.x,i=r*u+e.y;return i=Math.round(n.canvasHeight-i),[t,i]}function FHe(n){return n.pstyle("background-fill").value!=="solid"||n.pstyle("background-image").strValue!=="none"?!1:n.pstyle("border-width").value===0||n.pstyle("border-opacity").value===0?!0:n.pstyle("border-style").value==="solid"}function PHe(n,e){if(n.length!==e.length)return!1;for(var u=0;u<n.length;u++)if(n[u]!==e[u])return!1;return!0}function Hm(n,e,u){var a=n[0]/255,r=n[1]/255,t=n[2]/255,i=e,o=u||new Array(4);return o[0]=a*i,o[1]=r*i,o[2]=t*i,o[3]=i,o}function Rg(n,e){var u=e||new Array(4);return u[0]=(n>>0&255)/255,u[1]=(n>>8&255)/255,u[2]=(n>>16&255)/255,u[3]=(n>>24&255)/255,u}function jHe(n){return n[0]+(n[1]<<8)+(n[2]<<16)+(n[3]<<24)}function MHe(n,e){var u=n.createTexture();return u.buffer=function(a){n.bindTexture(n.TEXTURE_2D,u),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR_MIPMAP_NEAREST),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,n.RGBA,n.UNSIGNED_BYTE,a),n.generateMipmap(n.TEXTURE_2D),n.bindTexture(n.TEXTURE_2D,null)},u.deleteTexture=function(){n.deleteTexture(u)},u}function dEe(n,e){switch(e){case"float":return[1,n.FLOAT,4];case"vec2":return[2,n.FLOAT,4];case"vec3":return[3,n.FLOAT,4];case"vec4":return[4,n.FLOAT,4];case"int":return[1,n.INT,4];case"ivec2":return[2,n.INT,4]}}function fEe(n,e,u){switch(e){case n.FLOAT:return new Float32Array(u);case n.INT:return new Int32Array(u)}}function CHe(n,e,u,a,r,t){switch(e){case n.FLOAT:return new Float32Array(u.buffer,t*a,r);case n.INT:return new Int32Array(u.buffer,t*a,r)}}function LHe(n,e,u,a){var r=dEe(n,e),t=zn(r,2),i=t[0],o=t[1],l=fEe(n,o,a),s=n.createBuffer();return n.bindBuffer(n.ARRAY_BUFFER,s),n.bufferData(n.ARRAY_BUFFER,l,n.STATIC_DRAW),o===n.FLOAT?n.vertexAttribPointer(u,i,o,!1,0,0):o===n.INT&&n.vertexAttribIPointer(u,i,o,0,0),n.enableVertexAttribArray(u),n.bindBuffer(n.ARRAY_BUFFER,null),s}function Mo(n,e,u,a){var r=dEe(n,u),t=zn(r,3),i=t[0],o=t[1],l=t[2],s=fEe(n,o,e*i),c=i*l,d=n.createBuffer();n.bindBuffer(n.ARRAY_BUFFER,d),n.bufferData(n.ARRAY_BUFFER,e*c,n.DYNAMIC_DRAW),n.enableVertexAttribArray(a),o===n.FLOAT?n.vertexAttribPointer(a,i,o,!1,c,0):o===n.INT&&n.vertexAttribIPointer(a,i,o,c,0),n.vertexAttribDivisor(a,1),n.bindBuffer(n.ARRAY_BUFFER,null);for(var f=new Array(e),p=0;p<e;p++)f[p]=CHe(n,o,s,c,i,p);return d.dataArray=s,d.stride=c,d.size=i,d.getView=function(h){return f[h]},d.setPoint=function(h,g,_){var m=f[h];m[0]=g,m[1]=_},d.bufferSubData=function(h){n.bindBuffer(n.ARRAY_BUFFER,d),h?n.bufferSubData(n.ARRAY_BUFFER,0,s,0,h*i):n.bufferSubData(n.ARRAY_BUFFER,0,s)},d}function qHe(n,e,u){for(var a=9,r=new Float32Array(e*a),t=new Array(e),i=0;i<e;i++){var o=i*a*4;t[i]=new Float32Array(r.buffer,o,a)}var l=n.createBuffer();n.bindBuffer(n.ARRAY_BUFFER,l),n.bufferData(n.ARRAY_BUFFER,r.byteLength,n.DYNAMIC_DRAW);for(var s=0;s<3;s++){var c=u+s;n.enableVertexAttribArray(c),n.vertexAttribPointer(c,3,n.FLOAT,!1,36,s*12),n.vertexAttribDivisor(c,1)}return n.bindBuffer(n.ARRAY_BUFFER,null),l.getMatrixView=function(d){return t[d]},l.setData=function(d,f){t[f].set(d,0)},l.bufferSubData=function(){n.bindBuffer(n.ARRAY_BUFFER,l),n.bufferSubData(n.ARRAY_BUFFER,0,r)},l}function BHe(n){var e=n.createFramebuffer();n.bindFramebuffer(n.FRAMEBUFFER,e);var u=n.createTexture();return n.bindTexture(n.TEXTURE_2D,u),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,u,0),n.bindFramebuffer(n.FRAMEBUFFER,null),e.setFramebufferAttachmentSizes=function(a,r){n.bindTexture(n.TEXTURE_2D,u),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,a,r,0,n.RGBA,n.UNSIGNED_BYTE,null)},e}var ive=typeof Float32Array<"u"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var n=0,e=arguments.length;e--;)n+=arguments[e]*arguments[e];return Math.sqrt(n)});function UL(){var n=new ive(9);return ive!=Float32Array&&(n[1]=0,n[2]=0,n[3]=0,n[5]=0,n[6]=0,n[7]=0),n[0]=1,n[4]=1,n[8]=1,n}function uve(n){return n[0]=1,n[1]=0,n[2]=0,n[3]=0,n[4]=1,n[5]=0,n[6]=0,n[7]=0,n[8]=1,n}function UHe(n,e,u){var a=e[0],r=e[1],t=e[2],i=e[3],o=e[4],l=e[5],s=e[6],c=e[7],d=e[8],f=u[0],p=u[1],h=u[2],g=u[3],_=u[4],m=u[5],w=u[6],T=u[7],E=u[8];return n[0]=f*a+p*i+h*s,n[1]=f*r+p*o+h*c,n[2]=f*t+p*l+h*d,n[3]=g*a+_*i+m*s,n[4]=g*r+_*o+m*c,n[5]=g*t+_*l+m*d,n[6]=w*a+T*i+E*s,n[7]=w*r+T*o+E*c,n[8]=w*t+T*l+E*d,n}function TF(n,e,u){var a=e[0],r=e[1],t=e[2],i=e[3],o=e[4],l=e[5],s=e[6],c=e[7],d=e[8],f=u[0],p=u[1];return n[0]=a,n[1]=r,n[2]=t,n[3]=i,n[4]=o,n[5]=l,n[6]=f*a+p*i+s,n[7]=f*r+p*o+c,n[8]=f*t+p*l+d,n}function ove(n,e,u){var a=e[0],r=e[1],t=e[2],i=e[3],o=e[4],l=e[5],s=e[6],c=e[7],d=e[8],f=Math.sin(u),p=Math.cos(u);return n[0]=p*a+f*i,n[1]=p*r+f*o,n[2]=p*t+f*l,n[3]=p*i-f*a,n[4]=p*o-f*r,n[5]=p*l-f*t,n[6]=s,n[7]=c,n[8]=d,n}function M7(n,e,u){var a=u[0],r=u[1];return n[0]=a*e[0],n[1]=a*e[1],n[2]=a*e[2],n[3]=r*e[3],n[4]=r*e[4],n[5]=r*e[5],n[6]=e[6],n[7]=e[7],n[8]=e[8],n}function QHe(n,e,u){return n[0]=2/e,n[1]=0,n[2]=0,n[3]=0,n[4]=-2/u,n[5]=0,n[6]=-1,n[7]=1,n[8]=1,n}var VHe=(function(){function n(e,u,a,r){Ol(this,n),this.debugID=Math.floor(Math.random()*1e4),this.r=e,this.texSize=u,this.texRows=a,this.texHeight=Math.floor(u/a),this.enableWrapping=!0,this.locked=!1,this.texture=null,this.needsBuffer=!0,this.freePointer={x:0,row:0},this.keyToLocation=new Map,this.canvas=r(e,u,u),this.scratch=r(e,u,this.texHeight,"scratch")}return xl(n,[{key:"lock",value:function(){this.locked=!0}},{key:"getKeys",value:function(){return new Set(this.keyToLocation.keys())}},{key:"getScale",value:function(u){var a=u.w,r=u.h,t=this.texHeight,i=this.texSize,o=t/r,l=a*o,s=r*o;return l>i&&(o=i/a,l=a*o,s=r*o),{scale:o,texW:l,texH:s}}},{key:"draw",value:function(u,a,r){var t=this;if(this.locked)throw new Error("can't draw, atlas is locked");var i=this.texSize,o=this.texRows,l=this.texHeight,s=this.getScale(a),c=s.scale,d=s.texW,f=s.texH,p=function(T,E){if(r&&E){var S=E.context,N=T.x,j=T.row,q=N,O=l*j;S.save(),S.translate(q,O),S.scale(c,c),r(S,a),S.restore()}},h=[null,null],g=function(){p(t.freePointer,t.canvas),h[0]={x:t.freePointer.x,y:t.freePointer.row*l,w:d,h:f},h[1]={x:t.freePointer.x+d,y:t.freePointer.row*l,w:0,h:f},t.freePointer.x+=d,t.freePointer.x==i&&(t.freePointer.x=0,t.freePointer.row++)},_=function(){var T=t.scratch,E=t.canvas;T.clear(),p({x:0,row:0},T);var S=i-t.freePointer.x,N=d-S,j=l;{var q=t.freePointer.x,O=t.freePointer.row*l,I=S;E.context.drawImage(T,0,0,I,j,q,O,I,j),h[0]={x:q,y:O,w:I,h:f}}{var A=S,P=(t.freePointer.row+1)*l,C=N;E&&E.context.drawImage(T,A,0,C,j,0,P,C,j),h[1]={x:0,y:P,w:C,h:f}}t.freePointer.x=N,t.freePointer.row++},m=function(){t.freePointer.x=0,t.freePointer.row++};if(this.freePointer.x+d<=i)g();else{if(this.freePointer.row>=o-1)return!1;this.freePointer.x===i?(m(),g()):this.enableWrapping?_():(m(),g())}return this.keyToLocation.set(u,h),this.needsBuffer=!0,h}},{key:"getOffsets",value:function(u){return this.keyToLocation.get(u)}},{key:"isEmpty",value:function(){return this.freePointer.x===0&&this.freePointer.row===0}},{key:"canFit",value:function(u){if(this.locked)return!1;var a=this.texSize,r=this.texRows,t=this.getScale(u),i=t.texW;return this.freePointer.x+i>a?this.freePointer.row<r-1:!0}},{key:"bufferIfNeeded",value:function(u){this.texture||(this.texture=MHe(u,this.debugID)),this.needsBuffer&&(this.texture.buffer(this.canvas),this.needsBuffer=!1,this.locked&&(this.canvas=null,this.scratch=null))}},{key:"dispose",value:function(){this.texture&&(this.texture.deleteTexture(),this.texture=null),this.canvas=null,this.scratch=null,this.locked=!0}}])})(),HHe=(function(){function n(e,u,a,r){Ol(this,n),this.r=e,this.texSize=u,this.texRows=a,this.createTextureCanvas=r,this.atlases=[],this.styleKeyToAtlas=new Map,this.markedKeys=new Set}return xl(n,[{key:"getKeys",value:function(){return new Set(this.styleKeyToAtlas.keys())}},{key:"_createAtlas",value:function(){var u=this.r,a=this.texSize,r=this.texRows,t=this.createTextureCanvas;return new VHe(u,a,r,t)}},{key:"_getScratchCanvas",value:function(){if(!this.scratch){var u=this.r,a=this.texSize,r=this.texRows,t=this.createTextureCanvas,i=Math.floor(a/r);this.scratch=t(u,a,i,"scratch")}return this.scratch}},{key:"draw",value:function(u,a,r){var t=this.styleKeyToAtlas.get(u);return t||(t=this.atlases[this.atlases.length-1],(!t||!t.canFit(a))&&(t&&t.lock(),t=this._createAtlas(),this.atlases.push(t)),t.draw(u,a,r),this.styleKeyToAtlas.set(u,t)),t}},{key:"getAtlas",value:function(u){return this.styleKeyToAtlas.get(u)}},{key:"hasAtlas",value:function(u){return this.styleKeyToAtlas.has(u)}},{key:"markKeyForGC",value:function(u){this.markedKeys.add(u)}},{key:"gc",value:function(){var u=this,a=this.markedKeys;if(a.size===0){console.log("nothing to garbage collect");return}var r=[],t=new Map,i=null,o=yi(this.atlases),l;try{var s=function(){var d=l.value,f=d.getKeys(),p=kHe(a,f);if(p.size===0)return r.push(d),f.forEach(function(S){return t.set(S,d)}),1;i||(i=u._createAtlas(),r.push(i));var h=yi(f),g;try{for(h.s();!(g=h.n()).done;){var _=g.value;if(!p.has(_)){var m=d.getOffsets(_),w=zn(m,2),T=w[0],E=w[1];i.canFit({w:T.w+E.w,h:T.h})||(i.lock(),i=u._createAtlas(),r.push(i)),d.canvas&&(u._copyTextureToNewAtlas(_,d,i),t.set(_,i))}}}catch(S){h.e(S)}finally{h.f()}d.dispose()};for(o.s();!(l=o.n()).done;)s()}catch(c){o.e(c)}finally{o.f()}this.atlases=r,this.styleKeyToAtlas=t,this.markedKeys=new Set}},{key:"_copyTextureToNewAtlas",value:function(u,a,r){var t=a.getOffsets(u),i=zn(t,2),o=i[0],l=i[1];if(l.w===0)r.draw(u,o,function(f){f.drawImage(a.canvas,o.x,o.y,o.w,o.h,0,0,o.w,o.h)});else{var s=this._getScratchCanvas();s.clear(),s.context.drawImage(a.canvas,o.x,o.y,o.w,o.h,0,0,o.w,o.h),s.context.drawImage(a.canvas,l.x,l.y,l.w,l.h,o.w,0,l.w,l.h);var c=o.w+l.w,d=o.h;r.draw(u,{w:c,h:d},function(f){f.drawImage(s,0,0,c,d,0,0,c,d)})}}},{key:"getCounts",value:function(){return{keyCount:this.styleKeyToAtlas.size,atlasCount:new Set(this.styleKeyToAtlas.values()).size}}}])})();function kHe(n,e){return n.intersection?n.intersection(e):new Set(DF(n).filter(function(u){return e.has(u)}))}var zHe=(function(){function n(e,u){Ol(this,n),this.r=e,this.globalOptions=u,this.atlasSize=u.webglTexSize,this.maxAtlasesPerBatch=u.webglTexPerBatch,this.renderTypes=new Map,this.collections=new Map,this.typeAndIdToKey=new Map}return xl(n,[{key:"getAtlasSize",value:function(){return this.atlasSize}},{key:"addAtlasCollection",value:function(u,a){var r=this.globalOptions,t=r.webglTexSize,i=r.createTextureCanvas,o=a.texRows,l=this._cacheScratchCanvas(i),s=new HHe(this.r,t,o,l);this.collections.set(u,s)}},{key:"addRenderType",value:function(u,a){var r=a.collection;if(!this.collections.has(r))throw new Error("invalid atlas collection name '".concat(r,"'"));var t=this.collections.get(r),i=Bt({type:u,atlasCollection:t},a);this.renderTypes.set(u,i)}},{key:"getRenderTypeOpts",value:function(u){return this.renderTypes.get(u)}},{key:"getAtlasCollection",value:function(u){return this.collections.get(u)}},{key:"_cacheScratchCanvas",value:function(u){var a=-1,r=-1,t=null;return function(i,o,l,s){return s?((!t||o!=a||l!=r)&&(a=o,r=l,t=u(i,o,l)),t):u(i,o,l)}}},{key:"_key",value:function(u,a){return"".concat(u,"-").concat(a)}},{key:"invalidate",value:function(u){var a=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=r.forceRedraw,i=t===void 0?!1:t,o=r.filterEle,l=o===void 0?function(){return!0}:o,s=r.filterType,c=s===void 0?function(){return!0}:s,d=!1,f=!1,p=yi(u),h;try{for(p.s();!(h=p.n()).done;){var g=h.value;if(l(g)){var _=yi(this.renderTypes.values()),m;try{var w=function(){var E=m.value,S=E.type;if(c(S)){var N=a.collections.get(E.collection),j=E.getKey(g),q=Array.isArray(j)?j:[j];if(i)q.forEach(function(P){return N.markKeyForGC(P)}),f=!0;else{var O=E.getID?E.getID(g):g.id(),I=a._key(S,O),A=a.typeAndIdToKey.get(I);A!==void 0&&!PHe(q,A)&&(d=!0,a.typeAndIdToKey.delete(I),A.forEach(function(P){return N.markKeyForGC(P)}))}}};for(_.s();!(m=_.n()).done;)w()}catch(T){_.e(T)}finally{_.f()}}}}catch(T){p.e(T)}finally{p.f()}return f&&(this.gc(),d=!1),d}},{key:"gc",value:function(){var u=yi(this.collections.values()),a;try{for(u.s();!(a=u.n()).done;){var r=a.value;r.gc()}}catch(t){u.e(t)}finally{u.f()}}},{key:"getOrCreateAtlas",value:function(u,a,r,t){var i=this.renderTypes.get(a),o=this.collections.get(i.collection),l=!1,s=o.draw(t,r,function(f){i.drawClipped?(f.save(),f.beginPath(),f.rect(0,0,r.w,r.h),f.clip(),i.drawElement(f,u,r,!0,!0),f.restore()):i.drawElement(f,u,r,!0,!0),l=!0});if(l){var c=i.getID?i.getID(u):u.id(),d=this._key(a,c);this.typeAndIdToKey.has(d)?this.typeAndIdToKey.get(d).push(t):this.typeAndIdToKey.set(d,[t])}return s}},{key:"getAtlasInfo",value:function(u,a){var r=this,t=this.renderTypes.get(a),i=t.getKey(u),o=Array.isArray(i)?i:[i];return o.map(function(l){var s=t.getBoundingBox(u,l),c=r.getOrCreateAtlas(u,a,s,l),d=c.getOffsets(l),f=zn(d,2),p=f[0],h=f[1];return{atlas:c,tex:p,tex1:p,tex2:h,bb:s}})}},{key:"getDebugInfo",value:function(){var u=[],a=yi(this.collections),r;try{for(a.s();!(r=a.n()).done;){var t=zn(r.value,2),i=t[0],o=t[1],l=o.getCounts(),s=l.keyCount,c=l.atlasCount;u.push({type:i,keyCount:s,atlasCount:c})}}catch(d){a.e(d)}finally{a.f()}return u}}])})(),GHe=(function(){function n(e){Ol(this,n),this.globalOptions=e,this.atlasSize=e.webglTexSize,this.maxAtlasesPerBatch=e.webglTexPerBatch,this.batchAtlases=[]}return xl(n,[{key:"getMaxAtlasesPerBatch",value:function(){return this.maxAtlasesPerBatch}},{key:"getAtlasSize",value:function(){return this.atlasSize}},{key:"getIndexArray",value:function(){return Array.from({length:this.maxAtlasesPerBatch},function(u,a){return a})}},{key:"startBatch",value:function(){this.batchAtlases=[]}},{key:"getAtlasCount",value:function(){return this.batchAtlases.length}},{key:"getAtlases",value:function(){return this.batchAtlases}},{key:"canAddToCurrentBatch",value:function(u){return this.batchAtlases.length===this.maxAtlasesPerBatch?this.batchAtlases.includes(u):!0}},{key:"getAtlasIndexForBatch",value:function(u){var a=this.batchAtlases.indexOf(u);if(a<0){if(this.batchAtlases.length===this.maxAtlasesPerBatch)throw new Error("cannot add more atlases to batch");this.batchAtlases.push(u),a=this.batchAtlases.length-1}return a}}])})(),$He=`
  float circleSD(vec2 p, float r) {
    return distance(vec2(0), p) - r; // signed distance
  }
`,XHe=`
  float rectangleSD(vec2 p, vec2 b) {
    vec2 d = abs(p)-b;
    return distance(vec2(0),max(d,0.0)) + min(max(d.x,d.y),0.0);
  }
`,KHe=`
  float roundRectangleSD(vec2 p, vec2 b, vec4 cr) {
    cr.xy = (p.x > 0.0) ? cr.xy : cr.zw;
    cr.x  = (p.y > 0.0) ? cr.x  : cr.y;
    vec2 q = abs(p) - b + cr.x;
    return min(max(q.x, q.y), 0.0) + distance(vec2(0), max(q, 0.0)) - cr.x;
  }
`,JHe=`
  float ellipseSD(vec2 p, vec2 ab) {
    p = abs( p ); // symmetry

    // find root with Newton solver
    vec2 q = ab*(p-ab);
    float w = (q.x<q.y)? 1.570796327 : 0.0;
    for( int i=0; i<5; i++ ) {
      vec2 cs = vec2(cos(w),sin(w));
      vec2 u = ab*vec2( cs.x,cs.y);
      vec2 v = ab*vec2(-cs.y,cs.x);
      w = w + dot(p-u,v)/(dot(p-u,u)+dot(v,v));
    }
    
    // compute final point and distance
    float d = length(p-ab*vec2(cos(w),sin(w)));
    
    // return signed distance
    return (dot(p/ab,p/ab)>1.0) ? d : -d;
  }
`,u4={SCREEN:{name:"screen",screen:!0},PICKING:{name:"picking",picking:!0}},HF={IGNORE:1,USE_BB:2},QL=0,sve=1,cve=2,VL=3,Ng=4,GD=5,P6=6,j6=7,WHe=(function(){function n(e,u,a){Ol(this,n),this.r=e,this.gl=u,this.maxInstances=a.webglBatchSize,this.atlasSize=a.webglTexSize,this.bgColor=a.bgColor,this.debug=a.webglDebug,this.batchDebugInfo=[],a.enableWrapping=!0,a.createTextureCanvas=NHe,this.atlasManager=new zHe(e,a),this.batchManager=new GHe(a),this.simpleShapeOptions=new Map,this.program=this._createShaderProgram(u4.SCREEN),this.pickingProgram=this._createShaderProgram(u4.PICKING),this.vao=this._createVAO()}return xl(n,[{key:"addAtlasCollection",value:function(u,a){this.atlasManager.addAtlasCollection(u,a)}},{key:"addTextureAtlasRenderType",value:function(u,a){this.atlasManager.addRenderType(u,a)}},{key:"addSimpleShapeRenderType",value:function(u,a){this.simpleShapeOptions.set(u,a)}},{key:"invalidate",value:function(u){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=a.type,t=this.atlasManager;return r?t.invalidate(u,{filterType:function(o){return o===r},forceRedraw:!0}):t.invalidate(u)}},{key:"gc",value:function(){this.atlasManager.gc()}},{key:"_createShaderProgram",value:function(u){var a=this.gl,r=`#version 300 es
      precision highp float;

      uniform mat3 uPanZoomMatrix;
      uniform int  uAtlasSize;
      
      // instanced
      in vec2 aPosition; // a vertex from the unit square
      
      in mat3 aTransform; // used to transform verticies, eg into a bounding box
      in int aVertType; // the type of thing we are rendering

      // the z-index that is output when using picking mode
      in vec4 aIndex;
      
      // For textures
      in int aAtlasId; // which shader unit/atlas to use
      in vec4 aTex; // x/y/w/h of texture in atlas

      // for edges
      in vec4 aPointAPointB;
      in vec4 aPointCPointD;
      in vec2 aLineWidth; // also used for node border width

      // simple shapes
      in vec4 aCornerRadius; // for round-rectangle [top-right, bottom-right, top-left, bottom-left]
      in vec4 aColor; // also used for edges
      in vec4 aBorderColor; // aLineWidth is used for border width

      // output values passed to the fragment shader
      out vec2 vTexCoord;
      out vec4 vColor;
      out vec2 vPosition;
      // flat values are not interpolated
      flat out int vAtlasId; 
      flat out int vVertType;
      flat out vec2 vTopRight;
      flat out vec2 vBotLeft;
      flat out vec4 vCornerRadius;
      flat out vec4 vBorderColor;
      flat out vec2 vBorderWidth;
      flat out vec4 vIndex;
      
      void main(void) {
        int vid = gl_VertexID;
        vec2 position = aPosition; // TODO make this a vec3, simplifies some code below

        if(aVertType == `.concat(QL,`) {
          float texX = aTex.x; // texture coordinates
          float texY = aTex.y;
          float texW = aTex.z;
          float texH = aTex.w;

          if(vid == 1 || vid == 2 || vid == 4) {
            texX += texW;
          }
          if(vid == 2 || vid == 4 || vid == 5) {
            texY += texH;
          }

          float d = float(uAtlasSize);
          vTexCoord = vec2(texX / d, texY / d); // tex coords must be between 0 and 1

          gl_Position = vec4(uPanZoomMatrix * aTransform * vec3(position, 1.0), 1.0);
        }
        else if(aVertType == `).concat(Ng," || aVertType == ").concat(j6,` 
             || aVertType == `).concat(GD," || aVertType == ").concat(P6,`) { // simple shapes

          // the bounding box is needed by the fragment shader
          vBotLeft  = (aTransform * vec3(0, 0, 1)).xy; // flat
          vTopRight = (aTransform * vec3(1, 1, 1)).xy; // flat
          vPosition = (aTransform * vec3(position, 1)).xy; // will be interpolated

          // calculations are done in the fragment shader, just pass these along
          vColor = aColor;
          vCornerRadius = aCornerRadius;
          vBorderColor = aBorderColor;
          vBorderWidth = aLineWidth;

          gl_Position = vec4(uPanZoomMatrix * aTransform * vec3(position, 1.0), 1.0);
        }
        else if(aVertType == `).concat(sve,`) {
          vec2 source = aPointAPointB.xy;
          vec2 target = aPointAPointB.zw;

          // adjust the geometry so that the line is centered on the edge
          position.y = position.y - 0.5;

          // stretch the unit square into a long skinny rectangle
          vec2 xBasis = target - source;
          vec2 yBasis = normalize(vec2(-xBasis.y, xBasis.x));
          vec2 point = source + xBasis * position.x + yBasis * aLineWidth[0] * position.y;

          gl_Position = vec4(uPanZoomMatrix * vec3(point, 1.0), 1.0);
          vColor = aColor;
        } 
        else if(aVertType == `).concat(cve,`) {
          vec2 pointA = aPointAPointB.xy;
          vec2 pointB = aPointAPointB.zw;
          vec2 pointC = aPointCPointD.xy;
          vec2 pointD = aPointCPointD.zw;

          // adjust the geometry so that the line is centered on the edge
          position.y = position.y - 0.5;

          vec2 p0, p1, p2, pos;
          if(position.x == 0.0) { // The left side of the unit square
            p0 = pointA;
            p1 = pointB;
            p2 = pointC;
            pos = position;
          } else { // The right side of the unit square, use same approach but flip the geometry upside down
            p0 = pointD;
            p1 = pointC;
            p2 = pointB;
            pos = vec2(0.0, -position.y);
          }

          vec2 p01 = p1 - p0;
          vec2 p12 = p2 - p1;
          vec2 p21 = p1 - p2;

          // Find the normal vector.
          vec2 tangent = normalize(normalize(p12) + normalize(p01));
          vec2 normal = vec2(-tangent.y, tangent.x);

          // Find the vector perpendicular to p0 -> p1.
          vec2 p01Norm = normalize(vec2(-p01.y, p01.x));

          // Determine the bend direction.
          float sigma = sign(dot(p01 + p21, normal));
          float width = aLineWidth[0];

          if(sign(pos.y) == -sigma) {
            // This is an intersecting vertex. Adjust the position so that there's no overlap.
            vec2 point = 0.5 * width * normal * -sigma / dot(normal, p01Norm);
            gl_Position = vec4(uPanZoomMatrix * vec3(p1 + point, 1.0), 1.0);
          } else {
            // This is a non-intersecting vertex. Treat it like a mitre join.
            vec2 point = 0.5 * width * normal * sigma * dot(normal, p01Norm);
            gl_Position = vec4(uPanZoomMatrix * vec3(p1 + point, 1.0), 1.0);
          }

          vColor = aColor;
        } 
        else if(aVertType == `).concat(VL,` && vid < 3) {
          // massage the first triangle into an edge arrow
          if(vid == 0)
            position = vec2(-0.15, -0.3);
          if(vid == 1)
            position = vec2(  0.0,  0.0);
          if(vid == 2)
            position = vec2( 0.15, -0.3);

          gl_Position = vec4(uPanZoomMatrix * aTransform * vec3(position, 1.0), 1.0);
          vColor = aColor;
        }
        else {
          gl_Position = vec4(2.0, 0.0, 0.0, 1.0); // discard vertex by putting it outside webgl clip space
        }

        vAtlasId = aAtlasId;
        vVertType = aVertType;
        vIndex = aIndex;
      }
    `),t=this.batchManager.getIndexArray(),i=`#version 300 es
      precision highp float;

      // declare texture unit for each texture atlas in the batch
      `.concat(t.map(function(s){return"uniform sampler2D uTexture".concat(s,";")}).join(`
	`),`

      uniform vec4 uBGColor;
      uniform float uZoom;

      in vec2 vTexCoord;
      in vec4 vColor;
      in vec2 vPosition; // model coordinates

      flat in int vAtlasId;
      flat in vec4 vIndex;
      flat in int vVertType;
      flat in vec2 vTopRight;
      flat in vec2 vBotLeft;
      flat in vec4 vCornerRadius;
      flat in vec4 vBorderColor;
      flat in vec2 vBorderWidth;

      out vec4 outColor;

      `).concat($He,`
      `).concat(XHe,`
      `).concat(KHe,`
      `).concat(JHe,`

      vec4 blend(vec4 top, vec4 bot) { // blend colors with premultiplied alpha
        return vec4( 
          top.rgb + (bot.rgb * (1.0 - top.a)),
          top.a   + (bot.a   * (1.0 - top.a)) 
        );
      }

      vec4 distInterp(vec4 cA, vec4 cB, float d) { // interpolate color using Signed Distance
        // scale to the zoom level so that borders don't look blurry when zoomed in
        // note 1.5 is an aribitrary value chosen because it looks good
        return mix(cA, cB, 1.0 - smoothstep(0.0, 1.5 / uZoom, abs(d))); 
      }

      void main(void) {
        if(vVertType == `).concat(QL,`) {
          // look up the texel from the texture unit
          `).concat(t.map(function(s){return"if(vAtlasId == ".concat(s,") outColor = texture(uTexture").concat(s,", vTexCoord);")}).join(`
	else `),`
        } 
        else if(vVertType == `).concat(VL,`) {
          // mimics how canvas renderer uses context.globalCompositeOperation = 'destination-out';
          outColor = blend(vColor, uBGColor);
          outColor.a = 1.0; // make opaque, masks out line under arrow
        }
        else if(vVertType == `).concat(Ng,` && vBorderWidth == vec2(0.0)) { // simple rectangle with no border
          outColor = vColor; // unit square is already transformed to the rectangle, nothing else needs to be done
        }
        else if(vVertType == `).concat(Ng," || vVertType == ").concat(j6,` 
          || vVertType == `).concat(GD," || vVertType == ").concat(P6,`) { // use SDF

          float outerBorder = vBorderWidth[0];
          float innerBorder = vBorderWidth[1];
          float borderPadding = outerBorder * 2.0;
          float w = vTopRight.x - vBotLeft.x - borderPadding;
          float h = vTopRight.y - vBotLeft.y - borderPadding;
          vec2 b = vec2(w/2.0, h/2.0); // half width, half height
          vec2 p = vPosition - vec2(vTopRight.x - b[0] - outerBorder, vTopRight.y - b[1] - outerBorder); // translate to center

          float d; // signed distance
          if(vVertType == `).concat(Ng,`) {
            d = rectangleSD(p, b);
          } else if(vVertType == `).concat(j6,` && w == h) {
            d = circleSD(p, b.x); // faster than ellipse
          } else if(vVertType == `).concat(j6,`) {
            d = ellipseSD(p, b);
          } else {
            d = roundRectangleSD(p, b, vCornerRadius.wzyx);
          }

          // use the distance to interpolate a color to smooth the edges of the shape, doesn't need multisampling
          // we must smooth colors inwards, because we can't change pixels outside the shape's bounding box
          if(d > 0.0) {
            if(d > outerBorder) {
              discard;
            } else {
              outColor = distInterp(vBorderColor, vec4(0), d - outerBorder);
            }
          } else {
            if(d > innerBorder) {
              vec4 outerColor = outerBorder == 0.0 ? vec4(0) : vBorderColor;
              vec4 innerBorderColor = blend(vBorderColor, vColor);
              outColor = distInterp(innerBorderColor, outerColor, d);
            } 
            else {
              vec4 outerColor;
              if(innerBorder == 0.0 && outerBorder == 0.0) {
                outerColor = vec4(0);
              } else if(innerBorder == 0.0) {
                outerColor = vBorderColor;
              } else {
                outerColor = blend(vBorderColor, vColor);
              }
              outColor = distInterp(vColor, outerColor, d - innerBorder);
            }
          }
        }
        else {
          outColor = vColor;
        }

        `).concat(u.picking?`if(outColor.a == 0.0) discard;
             else outColor = vIndex;`:"",`
      }
    `),o=RHe(a,r,i);o.aPosition=a.getAttribLocation(o,"aPosition"),o.aIndex=a.getAttribLocation(o,"aIndex"),o.aVertType=a.getAttribLocation(o,"aVertType"),o.aTransform=a.getAttribLocation(o,"aTransform"),o.aAtlasId=a.getAttribLocation(o,"aAtlasId"),o.aTex=a.getAttribLocation(o,"aTex"),o.aPointAPointB=a.getAttribLocation(o,"aPointAPointB"),o.aPointCPointD=a.getAttribLocation(o,"aPointCPointD"),o.aLineWidth=a.getAttribLocation(o,"aLineWidth"),o.aColor=a.getAttribLocation(o,"aColor"),o.aCornerRadius=a.getAttribLocation(o,"aCornerRadius"),o.aBorderColor=a.getAttribLocation(o,"aBorderColor"),o.uPanZoomMatrix=a.getUniformLocation(o,"uPanZoomMatrix"),o.uAtlasSize=a.getUniformLocation(o,"uAtlasSize"),o.uBGColor=a.getUniformLocation(o,"uBGColor"),o.uZoom=a.getUniformLocation(o,"uZoom"),o.uTextures=[];for(var l=0;l<this.batchManager.getMaxAtlasesPerBatch();l++)o.uTextures.push(a.getUniformLocation(o,"uTexture".concat(l)));return o}},{key:"_createVAO",value:function(){var u=[0,0,1,0,1,1,0,0,1,1,0,1];this.vertexCount=u.length/2;var a=this.maxInstances,r=this.gl,t=this.program,i=r.createVertexArray();return r.bindVertexArray(i),LHe(r,"vec2",t.aPosition,u),this.transformBuffer=qHe(r,a,t.aTransform),this.indexBuffer=Mo(r,a,"vec4",t.aIndex),this.vertTypeBuffer=Mo(r,a,"int",t.aVertType),this.atlasIdBuffer=Mo(r,a,"int",t.aAtlasId),this.texBuffer=Mo(r,a,"vec4",t.aTex),this.pointAPointBBuffer=Mo(r,a,"vec4",t.aPointAPointB),this.pointCPointDBuffer=Mo(r,a,"vec4",t.aPointCPointD),this.lineWidthBuffer=Mo(r,a,"vec2",t.aLineWidth),this.colorBuffer=Mo(r,a,"vec4",t.aColor),this.cornerRadiusBuffer=Mo(r,a,"vec4",t.aCornerRadius),this.borderColorBuffer=Mo(r,a,"vec4",t.aBorderColor),r.bindVertexArray(null),i}},{key:"buffers",get:function(){var u=this;return this._buffers||(this._buffers=Object.keys(this).filter(function(a){return nl(a,"Buffer")}).map(function(a){return u[a]})),this._buffers}},{key:"startFrame",value:function(u){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:u4.SCREEN;this.panZoomMatrix=u,this.renderTarget=a,this.batchDebugInfo=[],this.wrappedCount=0,this.simpleCount=0,this.startBatch()}},{key:"startBatch",value:function(){this.instanceCount=0,this.batchManager.startBatch()}},{key:"endFrame",value:function(){this.endBatch()}},{key:"_isVisible",value:function(u,a){return u.visible()?a&&a.isVisible?a.isVisible(u):!0:!1}},{key:"drawTexture",value:function(u,a,r){var t=this.atlasManager,i=this.batchManager,o=t.getRenderTypeOpts(r);if(this._isVisible(u,o)&&!(u.isEdge()&&!this._isValidEdge(u))){if(this.renderTarget.picking&&o.getTexPickingMode){var l=o.getTexPickingMode(u);if(l===HF.IGNORE)return;if(l==HF.USE_BB){this.drawPickingRectangle(u,a,r);return}}var s=t.getAtlasInfo(u,r),c=yi(s),d;try{for(c.s();!(d=c.n()).done;){var f=d.value,p=f.atlas,h=f.tex1,g=f.tex2;i.canAddToCurrentBatch(p)||this.endBatch();for(var _=i.getAtlasIndexForBatch(p),m=0,w=[[h,!0],[g,!1]];m<w.length;m++){var T=zn(w[m],2),E=T[0],S=T[1];if(E.w!=0){var N=this.instanceCount;this.vertTypeBuffer.getView(N)[0]=QL;var j=this.indexBuffer.getView(N);Rg(a,j);var q=this.atlasIdBuffer.getView(N);q[0]=_;var O=this.texBuffer.getView(N);O[0]=E.x,O[1]=E.y,O[2]=E.w,O[3]=E.h;var I=this.transformBuffer.getMatrixView(N);this.setTransformMatrix(u,I,o,f,S),this.instanceCount++,S||this.wrappedCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}}}catch(A){c.e(A)}finally{c.f()}}}},{key:"setTransformMatrix",value:function(u,a,r,t){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,o=0;if(r.shapeProps&&r.shapeProps.padding&&(o=u.pstyle(r.shapeProps.padding).pfValue),t){var l=t.bb,s=t.tex1,c=t.tex2,d=s.w/(s.w+c.w);i||(d=1-d);var f=this._getAdjustedBB(l,o,i,d);this._applyTransformMatrix(a,f,r,u)}else{var p=r.getBoundingBox(u),h=this._getAdjustedBB(p,o,!0,1);this._applyTransformMatrix(a,h,r,u)}}},{key:"_applyTransformMatrix",value:function(u,a,r,t){var i,o;uve(u);var l=r.getRotation?r.getRotation(t):0;if(l!==0){var s=r.getRotationPoint(t),c=s.x,d=s.y;TF(u,u,[c,d]),ove(u,u,l);var f=r.getRotationOffset(t);i=f.x+(a.xOffset||0),o=f.y+(a.yOffset||0)}else i=a.x1,o=a.y1;TF(u,u,[i,o]),M7(u,u,[a.w,a.h])}},{key:"_getAdjustedBB",value:function(u,a,r,t){var i=u.x1,o=u.y1,l=u.w,s=u.h,c=u.yOffset;a&&(i-=a,o-=a,l+=2*a,s+=2*a);var d=0,f=l*t;return r&&t<1?l=f:!r&&t<1&&(d=l-f,i+=d,l=f),{x1:i,y1:o,w:l,h:s,xOffset:d,yOffset:c}}},{key:"drawPickingRectangle",value:function(u,a,r){var t=this.atlasManager.getRenderTypeOpts(r),i=this.instanceCount;this.vertTypeBuffer.getView(i)[0]=Ng;var o=this.indexBuffer.getView(i);Rg(a,o);var l=this.colorBuffer.getView(i);Hm([0,0,0],1,l);var s=this.transformBuffer.getMatrixView(i);this.setTransformMatrix(u,s,t),this.simpleCount++,this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}},{key:"drawNode",value:function(u,a,r){var t=this.simpleShapeOptions.get(r);if(this._isVisible(u,t)){var i=t.shapeProps,o=this._getVertTypeForShape(u,i.shape);if(o===void 0||t.isSimple&&!t.isSimple(u)){this.drawTexture(u,a,r);return}var l=this.instanceCount;if(this.vertTypeBuffer.getView(l)[0]=o,o===GD||o===P6){var s=t.getBoundingBox(u),c=this._getCornerRadius(u,i.radius,s),d=this.cornerRadiusBuffer.getView(l);d[0]=c,d[1]=c,d[2]=c,d[3]=c,o===P6&&(d[0]=0,d[2]=0)}var f=this.indexBuffer.getView(l);Rg(a,f);var p=u.pstyle(i.color).value,h=u.pstyle(i.opacity).value,g=this.colorBuffer.getView(l);Hm(p,h,g);var _=this.lineWidthBuffer.getView(l);if(_[0]=0,_[1]=0,i.border){var m=u.pstyle("border-width").value;if(m>0){var w=u.pstyle("border-color").value,T=u.pstyle("border-opacity").value,E=this.borderColorBuffer.getView(l);Hm(w,T,E);var S=u.pstyle("border-position").value;if(S==="inside")_[0]=0,_[1]=-m;else if(S==="outside")_[0]=m,_[1]=0;else{var N=m/2;_[0]=N,_[1]=-N}}}var j=this.transformBuffer.getMatrixView(l);this.setTransformMatrix(u,j,t),this.simpleCount++,this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}},{key:"_getVertTypeForShape",value:function(u,a){var r=u.pstyle(a).value;switch(r){case"rectangle":return Ng;case"ellipse":return j6;case"roundrectangle":case"round-rectangle":return GD;case"bottom-round-rectangle":return P6;default:return}}},{key:"_getCornerRadius",value:function(u,a,r){var t=r.w,i=r.h;if(u.pstyle(a).value==="auto")return hl(t,i);var o=u.pstyle(a).pfValue,l=t/2,s=i/2;return Math.min(o,s,l)}},{key:"drawEdgeArrow",value:function(u,a,r){if(u.visible()){var t=u._private.rscratch,i,o,l;if(r==="source"?(i=t.arrowStartX,o=t.arrowStartY,l=t.srcArrowAngle):(i=t.arrowEndX,o=t.arrowEndY,l=t.tgtArrowAngle),!(isNaN(i)||i==null||isNaN(o)||o==null||isNaN(l)||l==null)){var s=u.pstyle(r+"-arrow-shape").value;if(s!=="none"){var c=u.pstyle(r+"-arrow-color").value,d=u.pstyle("opacity").value,f=u.pstyle("line-opacity").value,p=d*f,h=u.pstyle("width").pfValue,g=u.pstyle("arrow-scale").value,_=this.r.getArrowWidth(h,g),m=this.instanceCount,w=this.transformBuffer.getMatrixView(m);uve(w),TF(w,w,[i,o]),M7(w,w,[_,_]),ove(w,w,l),this.vertTypeBuffer.getView(m)[0]=VL;var T=this.indexBuffer.getView(m);Rg(a,T);var E=this.colorBuffer.getView(m);Hm(c,p,E),this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}}}},{key:"drawEdgeLine",value:function(u,a){if(u.visible()){var r=this._getEdgePoints(u);if(r){var t=u.pstyle("opacity").value,i=u.pstyle("line-opacity").value,o=u.pstyle("width").pfValue,l=u.pstyle("line-color").value,s=t*i;if(r.length/2+this.instanceCount>this.maxInstances&&this.endBatch(),r.length==4){var c=this.instanceCount;this.vertTypeBuffer.getView(c)[0]=sve;var d=this.indexBuffer.getView(c);Rg(a,d);var f=this.colorBuffer.getView(c);Hm(l,s,f);var p=this.lineWidthBuffer.getView(c);p[0]=o;var h=this.pointAPointBBuffer.getView(c);h[0]=r[0],h[1]=r[1],h[2]=r[2],h[3]=r[3],this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}else for(var g=0;g<r.length-2;g+=2){var _=this.instanceCount;this.vertTypeBuffer.getView(_)[0]=cve;var m=this.indexBuffer.getView(_);Rg(a,m);var w=this.colorBuffer.getView(_);Hm(l,s,w);var T=this.lineWidthBuffer.getView(_);T[0]=o;var E=r[g-2],S=r[g-1],N=r[g],j=r[g+1],q=r[g+2],O=r[g+3],I=r[g+4],A=r[g+5];g==0&&(E=2*N-q+.001,S=2*j-O+.001),g==r.length-4&&(I=2*q-N+.001,A=2*O-j+.001);var P=this.pointAPointBBuffer.getView(_);P[0]=E,P[1]=S,P[2]=N,P[3]=j;var C=this.pointCPointDBuffer.getView(_);C[0]=q,C[1]=O,C[2]=I,C[3]=A,this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}}}},{key:"_isValidEdge",value:function(u){var a=u._private.rscratch;return!(a.badLine||a.allpts==null||isNaN(a.allpts[0]))}},{key:"_getEdgePoints",value:function(u){var a=u._private.rscratch;if(this._isValidEdge(u)){var r=a.allpts;if(r.length==4)return r;var t=this._getNumSegments(u);return this._getCurveSegmentPoints(r,t)}}},{key:"_getNumSegments",value:function(u){var a=15;return Math.min(Math.max(a,5),this.maxInstances)}},{key:"_getCurveSegmentPoints",value:function(u,a){if(u.length==4)return u;for(var r=Array((a+1)*2),t=0;t<=a;t++)if(t==0)r[0]=u[0],r[1]=u[1];else if(t==a)r[t*2]=u[u.length-2],r[t*2+1]=u[u.length-1];else{var i=t/a;this._setCurvePoint(u,i,r,t*2)}return r}},{key:"_setCurvePoint",value:function(u,a,r,t){if(u.length<=2)r[t]=u[0],r[t+1]=u[1];else{for(var i=Array(u.length-2),o=0;o<i.length;o+=2){var l=(1-a)*u[o]+a*u[o+2],s=(1-a)*u[o+1]+a*u[o+3];i[o]=l,i[o+1]=s}return this._setCurvePoint(i,a,r,t)}}},{key:"endBatch",value:function(){var u=this.gl,a=this.vao,r=this.vertexCount,t=this.instanceCount;if(t!==0){var i=this.renderTarget.picking?this.pickingProgram:this.program;u.useProgram(i),u.bindVertexArray(a);var o=yi(this.buffers),l;try{for(o.s();!(l=o.n()).done;){var s=l.value;s.bufferSubData(t)}}catch(h){o.e(h)}finally{o.f()}for(var c=this.batchManager.getAtlases(),d=0;d<c.length;d++)c[d].bufferIfNeeded(u);for(var f=0;f<c.length;f++)u.activeTexture(u.TEXTURE0+f),u.bindTexture(u.TEXTURE_2D,c[f].texture),u.uniform1i(i.uTextures[f],f);u.uniform1f(i.uZoom,IHe(this.r)),u.uniformMatrix3fv(i.uPanZoomMatrix,!1,this.panZoomMatrix),u.uniform1i(i.uAtlasSize,this.batchManager.getAtlasSize());var p=Hm(this.bgColor,1);u.uniform4fv(i.uBGColor,p),u.drawArraysInstanced(u.TRIANGLES,0,r,t),u.bindVertexArray(null),u.bindTexture(u.TEXTURE_2D,null),this.debug&&this.batchDebugInfo.push({count:t,atlasCount:c.length}),this.startBatch()}}},{key:"getDebugInfo",value:function(){var u=this.atlasManager.getDebugInfo(),a=u.reduce(function(i,o){return i+o.atlasCount},0),r=this.batchDebugInfo,t=r.reduce(function(i,o){return i+o.count},0);return{atlasInfo:u,totalAtlases:a,wrappedCount:this.wrappedCount,simpleCount:this.simpleCount,batchCount:r.length,batchInfo:r,totalInstances:t}}}])})(),pEe={};pEe.initWebgl=function(n,e){var u=this,a=u.data.contexts[u.WEBGL];n.bgColor=YHe(u),n.webglTexSize=Math.min(n.webglTexSize,a.getParameter(a.MAX_TEXTURE_SIZE)),n.webglTexRows=Math.min(n.webglTexRows,54),n.webglTexRowsNodes=Math.min(n.webglTexRowsNodes,54),n.webglBatchSize=Math.min(n.webglBatchSize,16384),n.webglTexPerBatch=Math.min(n.webglTexPerBatch,a.getParameter(a.MAX_TEXTURE_IMAGE_UNITS)),u.webglDebug=n.webglDebug,u.webglDebugShowAtlases=n.webglDebugShowAtlases,u.pickingFrameBuffer=BHe(a),u.pickingFrameBuffer.needsDraw=!0,u.drawing=new WHe(u,a,n);var r=function(d){return function(f){return u.getTextAngle(f,d)}},t=function(d){return function(f){var p=f.pstyle(d);return p&&p.value}},i=function(d){return function(f){return f.pstyle("".concat(d,"-opacity")).value>0}},o=function(d){var f=d.pstyle("text-events").strValue==="yes";return f?HF.USE_BB:HF.IGNORE},l=function(d){var f=d.position(),p=f.x,h=f.y,g=d.outerWidth(),_=d.outerHeight();return{w:g,h:_,x1:p-g/2,y1:h-_/2}};u.drawing.addAtlasCollection("node",{texRows:n.webglTexRowsNodes}),u.drawing.addAtlasCollection("label",{texRows:n.webglTexRows}),u.drawing.addTextureAtlasRenderType("node-body",{collection:"node",getKey:e.getStyleKey,getBoundingBox:e.getElementBox,drawElement:e.drawElement}),u.drawing.addSimpleShapeRenderType("node-body",{getBoundingBox:l,isSimple:FHe,shapeProps:{shape:"shape",color:"background-color",opacity:"background-opacity",radius:"corner-radius",border:!0}}),u.drawing.addSimpleShapeRenderType("node-overlay",{getBoundingBox:l,isVisible:i("overlay"),shapeProps:{shape:"overlay-shape",color:"overlay-color",opacity:"overlay-opacity",padding:"overlay-padding",radius:"overlay-corner-radius"}}),u.drawing.addSimpleShapeRenderType("node-underlay",{getBoundingBox:l,isVisible:i("underlay"),shapeProps:{shape:"underlay-shape",color:"underlay-color",opacity:"underlay-opacity",padding:"underlay-padding",radius:"underlay-corner-radius"}}),u.drawing.addTextureAtlasRenderType("label",{collection:"label",getTexPickingMode:o,getKey:HL(e.getLabelKey,null),getBoundingBox:kL(e.getLabelBox,null),drawClipped:!0,drawElement:e.drawLabel,getRotation:r(null),getRotationPoint:e.getLabelRotationPoint,getRotationOffset:e.getLabelRotationOffset,isVisible:t("label")}),u.drawing.addTextureAtlasRenderType("edge-source-label",{collection:"label",getTexPickingMode:o,getKey:HL(e.getSourceLabelKey,"source"),getBoundingBox:kL(e.getSourceLabelBox,"source"),drawClipped:!0,drawElement:e.drawSourceLabel,getRotation:r("source"),getRotationPoint:e.getSourceLabelRotationPoint,getRotationOffset:e.getSourceLabelRotationOffset,isVisible:t("source-label")}),u.drawing.addTextureAtlasRenderType("edge-target-label",{collection:"label",getTexPickingMode:o,getKey:HL(e.getTargetLabelKey,"target"),getBoundingBox:kL(e.getTargetLabelBox,"target"),drawClipped:!0,drawElement:e.drawTargetLabel,getRotation:r("target"),getRotationPoint:e.getTargetLabelRotationPoint,getRotationOffset:e.getTargetLabelRotationOffset,isVisible:t("target-label")});var s=yN(function(){console.log("garbage collect flag set"),u.data.gc=!0},1e4);u.onUpdateEleCalcs(function(c,d){var f=!1;d&&d.length>0&&(f|=u.drawing.invalidate(d)),f&&s()}),ZHe(u)};function YHe(n){var e=n.cy.container(),u=e&&e.style&&e.style.backgroundColor||"white";return Qwe(u)}function hEe(n,e){var u=n._private.rscratch;return pi(u,"labelWrapCachedLines",e)||[]}var HL=function(e,u){return function(a){var r=e(a),t=hEe(a,u);return t.length>1?t.map(function(i,o){return"".concat(r,"_").concat(o)}):r}},kL=function(e,u){return function(a,r){var t=e(a);if(typeof r=="string"){var i=r.indexOf("_");if(i>0){var o=Number(r.substring(i+1)),l=hEe(a,u),s=t.h/l.length,c=s*o,d=t.y1+c;return{x1:t.x1,w:t.w,y1:d,h:s,yOffset:c}}}return t}};function ZHe(n){{var e=n.render;n.render=function(t){t=t||{};var i=n.cy;n.webgl&&(i.zoom()>uEe?(eke(n),e.call(n,t)):(tke(n),mEe(n,t,u4.SCREEN)))}}{var u=n.matchCanvasSize;n.matchCanvasSize=function(t){u.call(n,t),n.pickingFrameBuffer.setFramebufferAttachmentSizes(n.canvasWidth,n.canvasHeight),n.pickingFrameBuffer.needsDraw=!0}}n.findNearestElements=function(t,i,o,l){return oke(n,t,i)};{var a=n.invalidateCachedZSortedEles;n.invalidateCachedZSortedEles=function(){a.call(n),n.pickingFrameBuffer.needsDraw=!0}}{var r=n.notify;n.notify=function(t,i){r.call(n,t,i),t==="viewport"||t==="bounds"?n.pickingFrameBuffer.needsDraw=!0:t==="background"&&n.drawing.invalidate(i,{type:"node-body"})}}}function eke(n){var e=n.data.contexts[n.WEBGL];e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT)}function tke(n){var e=function(a){a.save(),a.setTransform(1,0,0,1,0,0),a.clearRect(0,0,n.canvasWidth,n.canvasHeight),a.restore()};e(n.data.contexts[n.NODE]),e(n.data.contexts[n.DRAG])}function rke(n){var e=n.canvasWidth,u=n.canvasHeight,a=ok(n),r=a.pan,t=a.zoom,i=UL();TF(i,i,[r.x,r.y]),M7(i,i,[t,t]);var o=UL();QHe(o,e,u);var l=UL();return UHe(l,o,i),l}function yEe(n,e){var u=n.canvasWidth,a=n.canvasHeight,r=ok(n),t=r.pan,i=r.zoom;e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,u,a),e.translate(t.x,t.y),e.scale(i,i)}function nke(n,e){n.drawSelectionRectangle(e,function(u){return yEe(n,u)})}function ake(n){var e=n.data.contexts[n.NODE];e.save(),yEe(n,e),e.strokeStyle="rgba(0, 0, 0, 0.3)",e.beginPath(),e.moveTo(-1e3,0),e.lineTo(1e3,0),e.stroke(),e.beginPath(),e.moveTo(0,-1e3),e.lineTo(0,1e3),e.stroke(),e.restore()}function ike(n){var e=function(r,t,i){for(var o=r.atlasManager.getAtlasCollection(t),l=n.data.contexts[n.NODE],s=o.atlases,c=0;c<s.length;c++){var d=s[c],f=d.canvas;if(f){var p=f.width,h=f.height,g=p*c,_=f.height*i,m=.4;l.save(),l.scale(m,m),l.drawImage(f,g,_),l.strokeStyle="black",l.rect(g,_,p,h),l.stroke(),l.restore()}}},u=0;e(n.drawing,"node",u++),e(n.drawing,"label",u++)}function uke(n,e,u,a,r){var t,i,o,l,s=ok(n),c=s.pan,d=s.zoom;{var f=DHe(n,c,d,e,u),p=zn(f,2),h=p[0],g=p[1],_=6;t=h-_/2,i=g-_/2,o=_,l=_}if(o===0||l===0)return[];var m=n.data.contexts[n.WEBGL];m.bindFramebuffer(m.FRAMEBUFFER,n.pickingFrameBuffer),n.pickingFrameBuffer.needsDraw&&(m.viewport(0,0,m.canvas.width,m.canvas.height),mEe(n,null,u4.PICKING),n.pickingFrameBuffer.needsDraw=!1);var w=o*l,T=new Uint8Array(w*4);m.readPixels(t,i,o,l,m.RGBA,m.UNSIGNED_BYTE,T),m.bindFramebuffer(m.FRAMEBUFFER,null);for(var E=new Set,S=0;S<w;S++){var N=T.slice(S*4,S*4+4),j=jHe(N)-1;j>=0&&E.add(j)}return E}function oke(n,e,u){var a=uke(n,e,u),r=n.getCachedZSortedEles(),t,i,o=yi(a),l;try{for(o.s();!(l=o.n()).done;){var s=l.value,c=r[s];if(!t&&c.isNode()&&(t=c),!i&&c.isEdge()&&(i=c),t&&i)break}}catch(d){o.e(d)}finally{o.f()}return[t,i].filter(Boolean)}function zL(n,e,u){var a=n.drawing;e+=1,u.isNode()?(a.drawNode(u,e,"node-underlay"),a.drawNode(u,e,"node-body"),a.drawTexture(u,e,"label"),a.drawNode(u,e,"node-overlay")):(a.drawEdgeLine(u,e),a.drawEdgeArrow(u,e,"source"),a.drawEdgeArrow(u,e,"target"),a.drawTexture(u,e,"label"),a.drawTexture(u,e,"edge-source-label"),a.drawTexture(u,e,"edge-target-label"))}function mEe(n,e,u){var a;n.webglDebug&&(a=performance.now());var r=n.drawing,t=0;if(u.screen&&n.data.canvasNeedsRedraw[n.SELECT_BOX]&&nke(n,e),n.data.canvasNeedsRedraw[n.NODE]||u.picking){var i=n.data.contexts[n.WEBGL];u.screen?(i.clearColor(0,0,0,0),i.enable(i.BLEND),i.blendFunc(i.ONE,i.ONE_MINUS_SRC_ALPHA)):i.disable(i.BLEND),i.clear(i.COLOR_BUFFER_BIT|i.DEPTH_BUFFER_BIT),i.viewport(0,0,i.canvas.width,i.canvas.height);var o=rke(n),l=n.getCachedZSortedEles();if(t=l.length,r.startFrame(o,u),u.screen){for(var s=0;s<l.nondrag.length;s++)zL(n,s,l.nondrag[s]);for(var c=0;c<l.drag.length;c++)zL(n,c,l.drag[c])}else if(u.picking)for(var d=0;d<l.length;d++)zL(n,d,l[d]);r.endFrame(),u.screen&&n.webglDebugShowAtlases&&(ake(n),ike(n)),n.data.canvasNeedsRedraw[n.NODE]=!1,n.data.canvasNeedsRedraw[n.DRAG]=!1}if(n.webglDebug){var f=performance.now(),p=!1,h=Math.ceil(f-a),g=r.getDebugInfo(),_=["".concat(t," elements"),"".concat(g.totalInstances," instances"),"".concat(g.batchCount," batches"),"".concat(g.totalAtlases," atlases"),"".concat(g.wrappedCount," wrapped textures"),"".concat(g.simpleCount," simple shapes")].join(", ");if(p)console.log("WebGL (".concat(u.name,") - time ").concat(h,"ms, ").concat(_));else{console.log("WebGL (".concat(u.name,") - frame time ").concat(h,"ms")),console.log("Totals:"),console.log("  ".concat(_)),console.log("Texture Atlases Used:");var m=g.atlasInfo,w=yi(m),T;try{for(w.s();!(T=w.n()).done;){var E=T.value;console.log("  ".concat(E.type,": ").concat(E.keyCount," keys, ").concat(E.atlasCount," atlases"))}}catch(S){w.e(S)}finally{w.f()}console.log("")}}n.data.gc&&(console.log("Garbage Collect!"),n.data.gc=!1,r.gc())}var Il={};Il.drawPolygonPath=function(n,e,u,a,r,t){var i=a/2,o=r/2;n.beginPath&&n.beginPath(),n.moveTo(e+i*t[0],u+o*t[1]);for(var l=1;l<t.length/2;l++)n.lineTo(e+i*t[l*2],u+o*t[l*2+1]);n.closePath()};Il.drawRoundPolygonPath=function(n,e,u,a,r,t,i){i.forEach(function(o){return WSe(n,o)}),n.closePath()};Il.drawRoundRectanglePath=function(n,e,u,a,r,t){var i=a/2,o=r/2,l=t==="auto"?hl(a,r):Math.min(t,o,i);n.beginPath&&n.beginPath(),n.moveTo(e,u-o),n.arcTo(e+i,u-o,e+i,u,l),n.arcTo(e+i,u+o,e,u+o,l),n.arcTo(e-i,u+o,e-i,u,l),n.arcTo(e-i,u-o,e,u-o,l),n.lineTo(e,u-o),n.closePath()};Il.drawBottomRoundRectanglePath=function(n,e,u,a,r,t){var i=a/2,o=r/2,l=t==="auto"?hl(a,r):t;n.beginPath&&n.beginPath(),n.moveTo(e,u-o),n.lineTo(e+i,u-o),n.lineTo(e+i,u),n.arcTo(e+i,u+o,e,u+o,l),n.arcTo(e-i,u+o,e-i,u,l),n.lineTo(e-i,u-o),n.lineTo(e,u-o),n.closePath()};Il.drawCutRectanglePath=function(n,e,u,a,r,t,i){var o=a/2,l=r/2,s=i==="auto"?$H():i;n.beginPath&&n.beginPath(),n.moveTo(e-o+s,u-l),n.lineTo(e+o-s,u-l),n.lineTo(e+o,u-l+s),n.lineTo(e+o,u+l-s),n.lineTo(e+o-s,u+l),n.lineTo(e-o+s,u+l),n.lineTo(e-o,u+l-s),n.lineTo(e-o,u-l+s),n.closePath()};Il.drawBarrelPath=function(n,e,u,a,r){var t=a/2,i=r/2,o=e-t,l=e+t,s=u-i,c=u+i,d=T7(a,r),f=d.widthOffset,p=d.heightOffset,h=d.ctrlPtOffsetPct*f;n.beginPath&&n.beginPath(),n.moveTo(o,s+p),n.lineTo(o,c-p),n.quadraticCurveTo(o+h,c,o+f,c),n.lineTo(l-f,c),n.quadraticCurveTo(l-h,c,l,c-p),n.lineTo(l,s+p),n.quadraticCurveTo(l-h,s,l-f,s),n.lineTo(o+f,s),n.quadraticCurveTo(o+h,s,o,s+p),n.closePath()};var lve=Math.sin(0),dve=Math.cos(0),C7={},L7={},bEe=Math.PI/40;for(var Ig=0*Math.PI;Ig<2*Math.PI;Ig+=bEe)C7[Ig]=Math.sin(Ig),L7[Ig]=Math.cos(Ig);Il.drawEllipsePath=function(n,e,u,a,r){if(n.beginPath&&n.beginPath(),n.ellipse)n.ellipse(e,u,a/2,r/2,0,0,2*Math.PI);else for(var t,i,o=a/2,l=r/2,s=0*Math.PI;s<2*Math.PI;s+=bEe)t=e-o*C7[s]*lve+o*L7[s]*dve,i=u+l*L7[s]*lve+l*C7[s]*dve,s===0?n.moveTo(t,i):n.lineTo(t,i);n.closePath()};var TN={};TN.createBuffer=function(n,e){var u=document.createElement("canvas");return u.width=n,u.height=e,[u,u.getContext("2d")]};TN.bufferCanvasImage=function(n){var e=this.cy,u=e.mutableElements(),a=u.boundingBox(),r=this.findContainerClientCoords(),t=n.full?Math.ceil(a.w):r[2],i=n.full?Math.ceil(a.h):r[3],o=At(n.maxWidth)||At(n.maxHeight),l=this.getPixelRatio(),s=1;if(n.scale!==void 0)t*=n.scale,i*=n.scale,s=n.scale;else if(o){var c=1/0,d=1/0;At(n.maxWidth)&&(c=s*n.maxWidth/t),At(n.maxHeight)&&(d=s*n.maxHeight/i),s=Math.min(c,d),t*=s,i*=s}o||(t*=l,i*=l,s*=l);var f=document.createElement("canvas");f.width=t,f.height=i,f.style.width=t+"px",f.style.height=i+"px";var p=f.getContext("2d");if(t>0&&i>0){p.clearRect(0,0,t,i),p.globalCompositeOperation="source-over";var h=this.getCachedZSortedEles();if(n.full)p.translate(-a.x1*s,-a.y1*s),p.scale(s,s),this.drawElements(p,h),p.scale(1/s,1/s),p.translate(a.x1*s,a.y1*s);else{var g=e.pan(),_={x:g.x*s,y:g.y*s};s*=e.zoom(),p.translate(_.x,_.y),p.scale(s,s),this.drawElements(p,h),p.scale(1/s,1/s),p.translate(-_.x,-_.y)}n.bg&&(p.globalCompositeOperation="destination-over",p.fillStyle=n.bg,p.rect(0,0,t,i),p.fill())}return f};function ske(n,e){for(var u=atob(n),a=new ArrayBuffer(u.length),r=new Uint8Array(a),t=0;t<u.length;t++)r[t]=u.charCodeAt(t);return new Blob([a],{type:e})}function fve(n){var e=n.indexOf(",");return n.substr(e+1)}function gEe(n,e,u){var a=function(){return e.toDataURL(u,n.quality)};switch(n.output){case"blob-promise":return new I1(function(r,t){try{e.toBlob(function(i){i!=null?r(i):t(new Error("`canvas.toBlob()` sent a null value in its callback"))},u,n.quality)}catch(i){t(i)}});case"blob":return ske(fve(a()),u);case"base64":return fve(a());default:return a()}}TN.png=function(n){return gEe(n,this.bufferCanvasImage(n),"image/png")};TN.jpg=function(n){return gEe(n,this.bufferCanvasImage(n),"image/jpeg")};var vEe={};vEe.nodeShapeImpl=function(n,e,u,a,r,t,i,o){switch(n){case"ellipse":return this.drawEllipsePath(e,u,a,r,t);case"polygon":return this.drawPolygonPath(e,u,a,r,t,i);case"round-polygon":return this.drawRoundPolygonPath(e,u,a,r,t,i,o);case"roundrectangle":case"round-rectangle":return this.drawRoundRectanglePath(e,u,a,r,t,o);case"cutrectangle":case"cut-rectangle":return this.drawCutRectanglePath(e,u,a,r,t,i,o);case"bottomroundrectangle":case"bottom-round-rectangle":return this.drawBottomRoundRectanglePath(e,u,a,r,t,o);case"barrel":return this.drawBarrelPath(e,u,a,r,t)}};var cke=_Ee,tr=_Ee.prototype;tr.CANVAS_LAYERS=3;tr.SELECT_BOX=0;tr.DRAG=1;tr.NODE=2;tr.WEBGL=3;tr.CANVAS_TYPES=["2d","2d","2d","webgl2"];tr.BUFFER_COUNT=3;tr.TEXTURE_BUFFER=0;tr.MOTIONBLUR_BUFFER_NODE=1;tr.MOTIONBLUR_BUFFER_DRAG=2;function _Ee(n){var e=this,u=e.cy.window(),a=u.document;n.webgl&&(tr.CANVAS_LAYERS=e.CANVAS_LAYERS=4,console.log("webgl rendering enabled")),e.data={canvases:new Array(tr.CANVAS_LAYERS),contexts:new Array(tr.CANVAS_LAYERS),canvasNeedsRedraw:new Array(tr.CANVAS_LAYERS),bufferCanvases:new Array(tr.BUFFER_COUNT),bufferContexts:new Array(tr.CANVAS_LAYERS)};var r="-webkit-tap-highlight-color",t="rgba(0,0,0,0)";e.data.canvasContainer=a.createElement("div");var i=e.data.canvasContainer.style;e.data.canvasContainer.style[r]=t,i.position="relative",i.zIndex="0",i.overflow="hidden";var o=n.cy.container();o.appendChild(e.data.canvasContainer),o.style[r]=t;var l={"-webkit-user-select":"none","-moz-user-select":"-moz-none","user-select":"none","-webkit-tap-highlight-color":"rgba(0,0,0,0)","outline-style":"none"};nqe()&&(l["-ms-touch-action"]="none",l["touch-action"]="none");for(var s=0;s<tr.CANVAS_LAYERS;s++){var c=e.data.canvases[s]=a.createElement("canvas"),d=tr.CANVAS_TYPES[s];e.data.contexts[s]=c.getContext(d),e.data.contexts[s]||_n("Could not create canvas of type "+d),Object.keys(l).forEach(function(be){c.style[be]=l[be]}),c.style.position="absolute",c.setAttribute("data-id","layer"+s),c.style.zIndex=String(tr.CANVAS_LAYERS-s),e.data.canvasContainer.appendChild(c),e.data.canvasNeedsRedraw[s]=!1}e.data.topCanvas=e.data.canvases[0],e.data.canvases[tr.NODE].setAttribute("data-id","layer"+tr.NODE+"-node"),e.data.canvases[tr.SELECT_BOX].setAttribute("data-id","layer"+tr.SELECT_BOX+"-selectbox"),e.data.canvases[tr.DRAG].setAttribute("data-id","layer"+tr.DRAG+"-drag"),e.data.canvases[tr.WEBGL]&&e.data.canvases[tr.WEBGL].setAttribute("data-id","layer"+tr.WEBGL+"-webgl");for(var s=0;s<tr.BUFFER_COUNT;s++)e.data.bufferCanvases[s]=a.createElement("canvas"),e.data.bufferContexts[s]=e.data.bufferCanvases[s].getContext("2d"),e.data.bufferCanvases[s].style.position="absolute",e.data.bufferCanvases[s].setAttribute("data-id","buffer"+s),e.data.bufferCanvases[s].style.zIndex=String(-s-1),e.data.bufferCanvases[s].style.visibility="hidden";e.pathsEnabled=!0;var f=ei(),p=function(te){return{x:(te.x1+te.x2)/2,y:(te.y1+te.y2)/2}},h=function(te){return{x:-te.w/2,y:-te.h/2}},g=function(te){var v=te[0]._private,F=v.oldBackgroundTimestamp===v.backgroundTimestamp;return!F},_=function(te){return te[0]._private.nodeKey},m=function(te){return te[0]._private.labelStyleKey},w=function(te){return te[0]._private.sourceLabelStyleKey},T=function(te){return te[0]._private.targetLabelStyleKey},E=function(te,v,F,D,L){return e.drawElement(te,v,F,!1,!1,L)},S=function(te,v,F,D,L){return e.drawElementText(te,v,F,D,"main",L)},N=function(te,v,F,D,L){return e.drawElementText(te,v,F,D,"source",L)},j=function(te,v,F,D,L){return e.drawElementText(te,v,F,D,"target",L)},q=function(te){return te.boundingBox(),te[0]._private.bodyBounds},O=function(te){return te.boundingBox(),te[0]._private.labelBounds.main||f},I=function(te){return te.boundingBox(),te[0]._private.labelBounds.source||f},A=function(te){return te.boundingBox(),te[0]._private.labelBounds.target||f},P=function(te,v){return v},C=function(te){return p(q(te))},B=function(te,v,F){var D=te?te+"-":"";return{x:v.x+F.pstyle(D+"text-margin-x").pfValue,y:v.y+F.pstyle(D+"text-margin-y").pfValue}},V=function(te,v,F){var D=te[0]._private.rscratch;return{x:D[v],y:D[F]}},U=function(te){return B("",V(te,"labelX","labelY"),te)},G=function(te){return B("source",V(te,"sourceLabelX","sourceLabelY"),te)},J=function(te){return B("target",V(te,"targetLabelX","targetLabelY"),te)},ne=function(te){return h(q(te))},W=function(te){return h(I(te))},ee=function(te){return h(A(te))},se=function(te){var v=O(te),F=h(O(te));if(te.isNode()){switch(te.pstyle("text-halign").value){case"left":F.x=-v.w-(v.leftPad||0);break;case"right":F.x=-(v.rightPad||0);break}switch(te.pstyle("text-valign").value){case"top":F.y=-v.h-(v.topPad||0);break;case"bottom":F.y=-(v.botPad||0);break}}return F},pe=e.data.eleTxrCache=new e4(e,{getKey:_,doesEleInvalidateKey:g,drawElement:E,getBoundingBox:q,getRotationPoint:C,getRotationOffset:ne,allowEdgeTxrCaching:!1,allowParentTxrCaching:!1}),le=e.data.lblTxrCache=new e4(e,{getKey:m,drawElement:S,getBoundingBox:O,getRotationPoint:U,getRotationOffset:se,isVisible:P}),Ee=e.data.slbTxrCache=new e4(e,{getKey:w,drawElement:N,getBoundingBox:I,getRotationPoint:G,getRotationOffset:W,isVisible:P}),Ae=e.data.tlbTxrCache=new e4(e,{getKey:T,drawElement:j,getBoundingBox:A,getRotationPoint:J,getRotationOffset:ee,isVisible:P}),Ne=e.data.lyrTxrCache=new oEe(e);e.onUpdateEleCalcs(function(te,v){pe.invalidateElements(v),le.invalidateElements(v),Ee.invalidateElements(v),Ae.invalidateElements(v),Ne.invalidateElements(v);for(var F=0;F<v.length;F++){var D=v[F]._private;D.oldBackgroundTimestamp=D.backgroundTimestamp}});var Oe=function(te){for(var v=0;v<te.length;v++)Ne.enqueueElementRefinement(te[v].ele)};pe.onDequeue(Oe),le.onDequeue(Oe),Ee.onDequeue(Oe),Ae.onDequeue(Oe),n.webgl&&e.initWebgl(n,{getStyleKey:_,getLabelKey:m,getSourceLabelKey:w,getTargetLabelKey:T,drawElement:E,drawLabel:S,drawSourceLabel:N,drawTargetLabel:j,getElementBox:q,getLabelBox:O,getSourceLabelBox:I,getTargetLabelBox:A,getElementRotationPoint:C,getElementRotationOffset:ne,getLabelRotationPoint:U,getSourceLabelRotationPoint:G,getTargetLabelRotationPoint:J,getLabelRotationOffset:se,getSourceLabelRotationOffset:W,getTargetLabelRotationOffset:ee})}tr.redrawHint=function(n,e){var u=this;switch(n){case"eles":u.data.canvasNeedsRedraw[tr.NODE]=e;break;case"drag":u.data.canvasNeedsRedraw[tr.DRAG]=e;break;case"select":u.data.canvasNeedsRedraw[tr.SELECT_BOX]=e;break;case"gc":u.data.gc=!0;break}};var lke=typeof Path2D<"u";tr.path2dEnabled=function(n){if(n===void 0)return this.pathsEnabled;this.pathsEnabled=!!n};tr.usePaths=function(){return lke&&this.pathsEnabled};tr.setImgSmoothing=function(n,e){n.imageSmoothingEnabled!=null?n.imageSmoothingEnabled=e:(n.webkitImageSmoothingEnabled=e,n.mozImageSmoothingEnabled=e,n.msImageSmoothingEnabled=e)};tr.getImgSmoothing=function(n){return n.imageSmoothingEnabled!=null?n.imageSmoothingEnabled:n.webkitImageSmoothingEnabled||n.mozImageSmoothingEnabled||n.msImageSmoothingEnabled};tr.makeOffscreenCanvas=function(n,e){var u;if((typeof OffscreenCanvas>"u"?"undefined":ta(OffscreenCanvas))!=="undefined")u=new OffscreenCanvas(n,e);else{var a=this.cy.window(),r=a.document;u=r.createElement("canvas"),u.width=n,u.height=e}return u};[sEe,ts,lc,uk,xb,Nl,ri,pEe,Il,TN,vEe].forEach(function(n){Bt(tr,n)});var dke=[{name:"null",impl:XSe},{name:"base",impl:aEe},{name:"canvas",impl:cke}],fke=[{type:"layout",extensions:LVe},{type:"renderer",extensions:dke}],TEe={},wEe={};function SEe(n,e,u){var a=u,r=function(q){Lr("Can not register `"+e+"` for `"+n+"` since `"+q+"` already exists in the prototype and can not be overridden")};if(n==="core"){if(x4.prototype[e])return r(e);x4.prototype[e]=u}else if(n==="collection"){if(Oa.prototype[e])return r(e);Oa.prototype[e]=u}else if(n==="layout"){for(var t=function(q){this.options=q,u.call(this,q),Tr(this._private)||(this._private={}),this._private.cy=q.cy,this._private.listeners=[],this.createEmitter()},i=t.prototype=Object.create(u.prototype),o=[],l=0;l<o.length;l++){var s=o[l];i[s]=i[s]||function(){return this}}i.start&&!i.run?i.run=function(){return this.start(),this}:!i.start&&i.run&&(i.start=function(){return this.run(),this});var c=u.prototype.stop;i.stop=function(){var j=this.options;if(j&&j.animate){var q=this.animations;if(q)for(var O=0;O<q.length;O++)q[O].stop()}return c?c.call(this):this.emit("layoutstop"),this},i.destroy||(i.destroy=function(){return this}),i.cy=function(){return this._private.cy};var d=function(q){return q._private.cy},f={addEventFields:function(q,O){O.layout=q,O.cy=d(q),O.target=q},bubble:function(){return!0},parent:function(q){return d(q)}};Bt(i,{createEmitter:function(){return this._private.emitter=new $P(f,this),this},emitter:function(){return this._private.emitter},on:function(q,O){return this.emitter().on(q,O),this},one:function(q,O){return this.emitter().one(q,O),this},once:function(q,O){return this.emitter().one(q,O),this},removeListener:function(q,O){return this.emitter().removeListener(q,O),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},emit:function(q,O){return this.emitter().emit(q,O),this}}),Cr.eventAliasesOn(i),a=t}else if(n==="renderer"&&e!=="null"&&e!=="base"){var p=EEe("renderer","base"),h=p.prototype,g=u,_=u.prototype,m=function(){p.apply(this,arguments),g.apply(this,arguments)},w=m.prototype;for(var T in h){var E=h[T],S=_[T]!=null;if(S)return r(T);w[T]=E}for(var N in _)w[N]=_[N];h.clientFunctions.forEach(function(j){w[j]=w[j]||function(){_n("Renderer does not implement `renderer."+j+"()` on its prototype")}}),a=m}else if(n==="__proto__"||n==="constructor"||n==="prototype")return _n(n+" is an illegal type to be registered, possibly lead to prototype pollutions");return Vwe({map:TEe,keys:[n,e],value:a})}function EEe(n,e){return Hwe({map:TEe,keys:[n,e]})}function pke(n,e,u,a,r){return Vwe({map:wEe,keys:[n,e,u,a],value:r})}function hke(n,e,u,a){return Hwe({map:wEe,keys:[n,e,u,a]})}var q7=function(){if(arguments.length===2)return EEe.apply(null,arguments);if(arguments.length===3)return SEe.apply(null,arguments);if(arguments.length===4)return hke.apply(null,arguments);if(arguments.length===5)return pke.apply(null,arguments);_n("Invalid extension access syntax")};x4.prototype.extension=q7;fke.forEach(function(n){n.extensions.forEach(function(e){SEe(n.type,e.name,e.impl)})});var kF=function(){if(!(this instanceof kF))return new kF;this.length=0},pb=kF.prototype;pb.instanceString=function(){return"stylesheet"};pb.selector=function(n){var e=this.length++;return this[e]={selector:n,properties:[]},this};pb.css=function(n,e){var u=this.length-1;if(Ct(n))this[u].properties.push({name:n,value:e});else if(Tr(n))for(var a=n,r=Object.keys(a),t=0;t<r.length;t++){var i=r[t],o=a[i];if(o!=null){var l=la.properties[i]||la.properties[LP(i)];if(l!=null){var s=l.name,c=o;this[u].properties.push({name:s,value:c})}}}return this};pb.style=pb.css;pb.generateStyle=function(n){var e=new la(n);return this.appendToStyle(e)};pb.appendToStyle=function(n){for(var e=0;e<this.length;e++){var u=this[e],a=u.selector,r=u.properties;n.selector(a);for(var t=0;t<r.length;t++){var i=r[t];n.css(i.name,i.value)}}return n};var yke="3.33.1",hb=function(e){if(e===void 0&&(e={}),Tr(e))return new x4(e);if(Ct(e))return q7.apply(q7,arguments)};hb.use=function(n){var e=Array.prototype.slice.call(arguments,1);return e.unshift(hb),n.apply(null,e),this};hb.warnings=function(n){return Jwe(n)};hb.version=yke;hb.stylesheet=hb.Stylesheet=kF;const mke=({processor:n})=>{const e=ze.useRef(null),u=ze.useRef(null),a=ze.useRef(null);return ze.useEffect(()=>{if(!e.current||!n)return;const r=n.viewportCache||{zoom:1,pan:{x:0,y:0}},t=hb({container:e.current,zoom:r.zoom,pan:r.pan,minZoom:.1,maxZoom:3,textureOnViewport:!0,hideEdgesOnViewport:!0,pixelRatio:1,style:[{selector:"node",style:{"background-color":"#64748b",label:"data(shortLabel)",width:20,height:20,"text-opacity":0}},{selector:".root",style:{"background-color":"#f59e0b",width:40,height:40,"text-opacity":1}},{selector:".dereferenced",style:{"background-color":"#10b981"}},{selector:".hovered",style:{"text-opacity":1,"z-index":9999,"text-background-color":"#fff","text-background-opacity":.8}},{selector:".clicked",style:{"text-opacity":1,"z-index":9999,"text-background-color":"#fff","text-background-opacity":.8,"border-width":2,"border-color":"#333",width:30,height:30,"font-size":"24px","font-weight":"bold"}},{selector:"edge",style:{width:2,"line-color":"#94a3b8","curve-style":"straight","target-arrow-shape":"triangle","target-arrow-color":"#64748b"}}],layout:{name:"preset"}});t.on("mouseover","node",o=>o.target.addClass("hovered")),t.on("mouseout","node",o=>o.target.removeClass("hovered")),t.on("tap","node",o=>o.target.toggleClass("clicked")),t.on("tap",o=>{o.target===t&&t.nodes().removeClass("clicked")}),u.current=t;const i=n.subscribe(o=>{let l=!0;if(t.batch(()=>{if(o.mode==="replace"&&t.elements().remove(),o.nodes.length>0&&t.add(o.nodes.map(s=>{const c=n.positionCache.get(s.id);c||(l=!1);const f=n.clickedNodeIds.has(s.id)?`${s.type} clicked`:s.type;return{group:"nodes",data:{id:s.id,label:s.label,shortLabel:s.shortLabel},classes:f,position:c||bke(s.id)}})),o.edges.length>0){const s=o.edges.filter(c=>o.mode==="replace"||t.getElementById(c.id).empty()).map(c=>({group:"edges",data:{id:c.id,source:c.source,target:c.target}}));t.add(s)}o.statuses.forEach(s=>{const c=t.getElementById(s.id);c.nonempty()&&c.addClass(s.status)})}),!(o.nodes.length>0&&l)){if(o.nodes.length>0){if(o.mode==="append"){const s=new Set(o.nodes.map(c=>c.id));t.nodes().filter(c=>!s.has(c.id())).lock()}t.layout({name:"cose",animate:!1,nodeRepulsion:1e5,idealEdgeLength:300,gravity:.1,initialTemp:1e3,fit:!0,randomize:!1}).run()}a.current&&clearTimeout(a.current),a.current=window.setTimeout(()=>{t.destroyed()||(t.nodes().unlock(),t.layout({name:"cose",animate:!1,randomize:!1,initialTemp:200,nodeRepulsion:1e5,idealEdgeLength:300,gravity:.1,fit:!0,numIter:1e3}).run())},1e3)}});return()=>{n&&t&&!t.destroyed()&&(t.nodes().forEach(o=>{n.positionCache.set(o.id(),o.position())}),n.viewportCache={zoom:t.zoom(),pan:t.pan()},n.clickedNodeIds=new Set(t.nodes(".clicked").map(o=>o.id()))),i(),t.destroy(),a.current&&clearTimeout(a.current)}},[n]),Ue.jsxs("div",{style:{position:"relative",width:"100%",height:"100%"},children:[Ue.jsx("div",{ref:e,style:{width:"100%",height:"100%"}}),Ue.jsxs("div",{style:Xc.container,children:[Ue.jsx("h4",{style:Xc.header,children:"Legend"}),Ue.jsxs("div",{style:Xc.item,children:[Ue.jsx("span",{style:{...Xc.colorBox,backgroundColor:"#f59e0b"}}),Ue.jsx("span",{children:"Seed document"})]}),Ue.jsxs("div",{style:Xc.item,children:[Ue.jsx("span",{style:{...Xc.colorBox,backgroundColor:"#10b981"}}),Ue.jsx("span",{children:"Dereferenced Document"})]}),Ue.jsxs("div",{style:Xc.item,children:[Ue.jsx("span",{style:{...Xc.colorBox,backgroundColor:"#64748b"}}),Ue.jsx("span",{children:"Discovered Document"})]})]})]})},bke=n=>{let e=0;for(let u=0;u<n.length;u++)e=(e<<5)-e+n.charCodeAt(u),e|=0;return{x:e%1e3,y:e*31%1e3}},Xc={container:{position:"absolute",bottom:"20px",left:"20px",zIndex:10,backgroundColor:"rgba(255, 255, 255, 0.9)",padding:"12px",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)",border:"1px solid #e2e8f0",fontSize:"14px",color:"#334155",pointerEvents:"none"},header:{margin:"0 0 8px 0",fontSize:"12px",textTransform:"uppercase",letterSpacing:"0.05em",color:"#64748b"},item:{display:"flex",alignItems:"center",marginBottom:"4px"},colorBox:{width:"12px",height:"12px",borderRadius:"2px",marginRight:"8px",display:"inline-block"}},gke=({metrics:n,isRunning:e})=>{const[u,a]=ze.useState(0),[r,t]=ze.useState(0);ze.useEffect(()=>{let s;const c=()=>{const f=performance.now()-n.startTime;a(f),s=requestAnimationFrame(c)};return e&&n.startTime>0?c():n.endTime>0&&n.startTime>0?a(n.endTime-n.startTime):a(0),()=>{s&&cancelAnimationFrame(s)}},[e,n.startTime,n.endTime]),ze.useEffect(()=>{if(!e){t(u);return}t(performance.now()-n.startTime);const s=setInterval(()=>{t(performance.now()-n.startTime)},200);return()=>clearInterval(s)},[n.resultCount,e,n.startTime,u]);const{path:i,maxTime:o,maxResults:l}=ze.useMemo(()=>{if(n.arrivalTimes.length===0)return{path:"",maxTime:0,maxResults:0};const s=1e3,c=500,d=n.endTime>0?n.endTime-n.startTime:r,f=n.arrivalTimes[n.arrivalTimes.length-1],p=Math.max(d,f,1),h=Math.max(n.resultCount,1);let g=`M 0 ${c}`;if(n.arrivalTimes.forEach((_,m)=>{const w=m+1,T=_/p*s,E=c-w/h*c;g+=` L ${T.toFixed(1)} ${E.toFixed(1)}`}),e)g+=` L ${s} 0`;else{const _=d/p*s;g+=` L ${_.toFixed(1)} 0`}return{path:g,maxTime:p,maxResults:h}},[n.arrivalTimes,n.resultCount,n.endTime,n.startTime,r,e]);return Ue.jsxs("div",{style:Pt.perfContainer,children:[Ue.jsxs("div",{style:Pt.perfHeader,children:[Ue.jsxs("div",{style:Pt.perfCard,children:[Ue.jsx("div",{style:Pt.perfLabel,children:"Execution Time"}),Ue.jsxs("div",{style:Pt.perfValue,children:[(u/1e3).toFixed(2),"s"]})]}),Ue.jsxs("div",{style:Pt.perfCard,children:[Ue.jsx("div",{style:Pt.perfLabel,children:"Total Results"}),Ue.jsx("div",{style:Pt.perfValue,children:n.resultCount})]}),Ue.jsxs("div",{style:Pt.perfCard,children:[Ue.jsx("div",{style:Pt.perfLabel,children:"Avg Speed"}),Ue.jsxs("div",{style:Pt.perfValue,children:[u>0?(n.resultCount/u*1e3).toFixed(0):0," ",Ue.jsx("span",{style:{fontSize:"0.6rem"},children:"res/s"})]})]})]}),Ue.jsxs("div",{style:Pt.graphWrapper,children:[Ue.jsxs("div",{style:{...Pt.graphTitle,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[Ue.jsx("span",{style:{fontSize:"0.9rem"},children:"Results over Time"}),Ue.jsx("span",{style:{fontSize:"0.8rem",color:"#64748b",fontWeight:"bold",background:"#f1f5f9",padding:"2px 8px",borderRadius:"4px"},children:"Y: Results | X: Time (s)"})]}),n.resultCount>0?Ue.jsxs("div",{style:{position:"relative",flex:1,width:"100%",minHeight:0},children:[Ue.jsx("div",{style:Pt.axisLabelYTop,children:l}),Ue.jsx("div",{style:Pt.axisLabelYMid,children:Math.round(l/2)}),Ue.jsx("div",{style:Pt.axisLabelYBot,children:"0"}),Ue.jsxs("svg",{viewBox:"0 0 1000 500",style:Pt.svgGraph,preserveAspectRatio:"none",children:[Ue.jsx("line",{x1:"0",y1:"500",x2:"1000",y2:"500",stroke:"#e2e8f0",strokeWidth:"2"}),Ue.jsx("line",{x1:"0",y1:"0",x2:"0",y2:"500",stroke:"#e2e8f0",strokeWidth:"2"}),Ue.jsx("line",{x1:"0",y1:"250",x2:"1000",y2:"250",stroke:"#f1f5f9",strokeWidth:"2",strokeDasharray:"8"}),Ue.jsx("path",{d:i,fill:"none",stroke:"#2563eb",strokeWidth:"4",vectorEffect:"non-scaling-stroke"}),Ue.jsx("path",{d:`${i} L 1000 500 L 0 500 Z`,fill:"url(#gradient)",opacity:"0.2"}),Ue.jsx("defs",{children:Ue.jsxs("linearGradient",{id:"gradient",x1:"0",x2:"0",y1:"0",y2:"1",children:[Ue.jsx("stop",{offset:"0%",stopColor:"#3b82f6"}),Ue.jsx("stop",{offset:"100%",stopColor:"#3b82f6",stopOpacity:"0"})]})})]}),Ue.jsx("div",{style:Pt.axisLabelXLeft,children:"0s"}),Ue.jsxs("div",{style:Pt.axisLabelXMid,children:[(o/1e3/2).toFixed(1),"s"]}),Ue.jsxs("div",{style:Pt.axisLabelXRight,children:[(o/1e3).toFixed(1),"s"]})]}):Ue.jsx("div",{style:Pt.emptyGraph,children:"Waiting for results..."})]})]})},vke=n=>{if(!n)return"";const e=n.split(`
`),u=e.filter(o=>o.trim().length>0).map(o=>o.search(/\S/)).filter(o=>o!==-1),a=u.length>0?Math.min(...u):0,r=e.map(o=>(o.length>=a?o.slice(a):o).trimEnd()).filter((o,l,s)=>!(l===0&&o==="")&&!(l===s.length-1&&o===""));return r.length>0&&(r[0]="	"+r[0].trimStart()),r.join(`
`).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\b(SELECT|WHERE|PREFIX|OPTIONAL|FILTER|LIMIT|OFFSET|ORDER BY|DISTINCT|GRAPH|UNION|CONSTRUCT|ASK|DESCRIBE)\b/gi,'<span style="color: #c678dd; font-weight: bold;">$1</span>').replace(/(\?[a-zA-Z0-9_]+)/g,'<span style="color: #d19a66;">$1</span>').replace(/(&lt;https?:\/\/[^&]+&gt;)/g,'<span style="color: #98c379;">$1</span>').replace(/\b([a-zA-Z0-9_-]+:[a-zA-Z0-9_-]+)\b/g,'<span style="color: #61afef;">$1</span>')},_ke=n=>{const e=new Set,u=/(.*\/pods\/\d+)/;return n.forEach(a=>{const r=a.match(u);r&&r[1]&&e.add(r[1])}),e.size},Tke=n=>{const e=n.toLowerCase();return e.includes("identified")||e.includes("requesting")||e.includes("source")||e.includes("fetch")||e.includes("dereferenc")?"traverse":e.includes("determined")||e.includes("plan")||e.includes("optim")||e.includes("order")?"planning":"general"},wke=({isOpen:n,onClose:e,currentQuery:u,logs:a,topology:r,processor:t,isTrackingEnabled:i=!0,metrics:o,isQueryRunning:l=o?.isQueryRunning??!1})=>{const s=ze.useRef(null),c=ze.useRef(null),[d,f]=ze.useState(220),[p,h]=ze.useState(!1),[g,_]=ze.useState(0),[m,w]=ze.useState({nodes:0,edges:0,uris:[]});ze.useEffect(()=>{if(!t){w({nodes:0,edges:0,uris:[]});return}w(t.getCounts());const G=t.subscribe(()=>{w(t.getCounts())});return()=>G()},[t]);const[T,E]=ze.useState(()=>{const G=localStorage.getItem("debugger_view_mode");return G==="graph"||G==="performance"?G:"stats"});ze.useEffect(()=>{localStorage.setItem("debugger_view_mode",T)},[T]);const[S,N]=ze.useState(()=>JSON.parse(localStorage.getItem("debugger_filter_traverse")||"true")),[j,q]=ze.useState(()=>JSON.parse(localStorage.getItem("debugger_filter_planning")||"true"));ze.useEffect(()=>{localStorage.setItem("debugger_filter_traverse",JSON.stringify(S))},[S]),ze.useEffect(()=>{localStorage.setItem("debugger_filter_planning",JSON.stringify(j))},[j]);const O=ze.useMemo(()=>{const G=[];for(const J of a){const ne=Tke(J.message);ne==="traverse"&&!S||ne==="planning"&&!j||J.message.includes("First entry")||G.push({...J,category:ne})}return G},[a,a.length,S,j]),I=O.slice(-1e3),A=`filter-${S}-${j}-${I.length}`;ze.useEffect(()=>{c.current&&setTimeout(()=>{c.current&&(c.current.scrollTop=c.current.scrollHeight)},0)},[A]);const P=ze.useCallback(G=>{G.preventDefault(),h(!0)},[]),C=ze.useCallback(()=>h(!1),[]),B=ze.useCallback(G=>{if(p&&s.current){const J=s.current.getBoundingClientRect(),ne=G.clientY-J.top-120;ne>80&&ne<J.height*.8&&f(ne)}},[p]);ze.useEffect(()=>(p&&(window.addEventListener("mousemove",B),window.addEventListener("mouseup",C)),()=>{window.removeEventListener("mousemove",B),window.removeEventListener("mouseup",C)}),[p,B,C]);const V=ze.useMemo(()=>vke(u),[u]),U=()=>{E("graph"),_(G=>G+1)};return n?Ue.jsx("div",{ref:s,style:{...Pt.sidebarContainer,userSelect:p?"none":"auto",cursor:p?"row-resize":"auto"},children:Ue.jsxs("div",{style:Pt.content,children:[Ue.jsxs("div",{style:Pt.toolbar,children:[Ue.jsx("div",{style:{...Pt.statusBadge,backgroundColor:i?"#f0fdf4":"#fef2f2",color:i?"#16a34a":"#dc2626",borderColor:i?"#bbf7d0":"#fecaca"},children:i?" TRACKING ACTIVE":" TRACKING PAUSED"}),Ue.jsxs("div",{style:Pt.filterGroup,children:[Ue.jsxs("label",{style:Pt.filterLabel,children:[Ue.jsx("input",{type:"checkbox",checked:S,onChange:G=>N(G.target.checked)})," Traverse"]}),Ue.jsxs("label",{style:Pt.filterLabel,children:[Ue.jsx("input",{type:"checkbox",checked:j,onChange:G=>q(G.target.checked)})," Planning"]})]})]}),(r||t)&&Ue.jsxs("div",{style:Pt.viewToggle,children:[Ue.jsx("button",{onClick:()=>E("stats"),style:T==="stats"?Pt.activeTab:Pt.tab,children:"Query & Logs"}),Ue.jsx("button",{onClick:()=>E("performance"),style:T==="performance"?Pt.activeTab:Pt.tab,children:"Performance"}),Ue.jsx("button",{onClick:U,style:T==="graph"?Pt.activeTab:Pt.tab,children:"Topology Graph"})]}),T==="graph"&&t?Ue.jsx("div",{style:Pt.fullGraphContainer,children:Ue.jsx(mke,{processor:t},`${u}-${g}`)}):T==="performance"?Ue.jsx("div",{style:Pt.performanceContainer,children:Ue.jsx(gke,{metrics:o,isRunning:!!l})}):Ue.jsxs(Ue.Fragment,{children:[t&&Ue.jsxs("div",{style:Pt.topologyDashboard,children:[Ue.jsxs("div",{style:Pt.statBox,children:[Ue.jsx("span",{style:Pt.statLabel,children:"Total Documents"}),Ue.jsx("span",{style:Pt.statValue,children:m.nodes})]}),Ue.jsxs("div",{style:Pt.statBox,children:[Ue.jsx("span",{style:Pt.statLabel,children:"Total Links"}),Ue.jsx("span",{style:Pt.statValue,children:m.edges})]}),Ue.jsxs("div",{style:Pt.statBox,children:[Ue.jsx("span",{style:Pt.statLabel,children:"Total Unique Pods"}),Ue.jsx("span",{style:Pt.statValue,children:_ke(m.uris)})]})]}),Ue.jsxs("section",{style:{...Pt.querySection,height:d},children:[Ue.jsx("h3",{style:Pt.sectionTitle,children:"SPARQL Query"}),Ue.jsx("div",{style:Pt.codeWrapper,children:Ue.jsx("pre",{style:Pt.codeBlock,dangerouslySetInnerHTML:{__html:V}})})]}),Ue.jsx("div",{onMouseDown:P,style:{...Pt.resizer,backgroundColor:p?"#3b82f6":"transparent"},children:Ue.jsx("div",{style:Pt.resizerHandle})}),Ue.jsxs("section",{style:Pt.logSection,children:[Ue.jsxs("h3",{style:Pt.sectionTitle,children:["Engine Logs (",O.length,"), showing last ",I.length]}),Ue.jsx("div",{ref:c,style:Pt.logWindow,children:I.length>0?I.map((G,J)=>Ue.jsxs("div",{style:Pt.logLine,children:[G.category!=="general"&&Ue.jsx("span",{style:{...Pt.categoryBadge,backgroundColor:G.category==="traverse"?"#3b82f6":"#8b5cf6"},children:G.category==="traverse"?"TRAV":"PLAN"}),Ue.jsx("span",{style:Pt.timestamp,children:G.timestamp}),Ue.jsx("span",{style:{color:G.level==="error"?"#f87171":G.level==="warn"?"#fbbf24":"#e2e8f0",wordBreak:"break-word"},children:G.message})]},`${G.id}-${J}`)):Ue.jsx("div",{style:Pt.emptyLogs,children:"No logs match active filters..."})},A)]})]})]})}):null},Pt={sidebarContainer:{display:"flex",flexDirection:"column",height:"100%",width:"100%",background:"#ffffff",borderLeft:"1px solid #e2e8f0",overflow:"hidden"},content:{padding:"1rem",display:"flex",flexDirection:"column",flex:1,overflow:"hidden"},toolbar:{display:"flex",alignItems:"center",gap:"1.5rem",marginBottom:"1rem"},statusBadge:{padding:"6px 10px",borderRadius:"4px",fontSize:"0.65rem",fontWeight:800,border:"1px solid",letterSpacing:"0.05em"},filterGroup:{display:"flex",gap:"0.8rem"},filterLabel:{fontSize:"0.7rem",display:"flex",alignItems:"center",gap:"4px",color:"#64748b",fontWeight:700,textTransform:"uppercase"},viewToggle:{display:"flex",gap:"8px",marginBottom:"8px",flexShrink:0},tab:{background:"none",border:"1px solid #e2e8f0",padding:"6px 14px",borderRadius:"4px",fontSize:"0.75rem",cursor:"pointer",color:"#64748b"},activeTab:{background:"#f1f5f9",border:"1px solid #cbd5e1",padding:"6px 14px",borderRadius:"4px",fontSize:"0.75rem",cursor:"pointer",color:"#1e293b",fontWeight:"bold",boxShadow:"0 1px 2px rgba(0,0,0,0.05)"},fullGraphContainer:{flex:1,background:"#f8fafc",borderRadius:"6px",border:"1px solid #e2e8f0",overflow:"hidden",minHeight:0},performanceContainer:{flex:1,display:"flex",flexDirection:"column",gap:"1rem",overflow:"hidden"},perfHeader:{display:"flex",gap:"1rem",flexShrink:0},perfCard:{flex:1,background:"#f8fafc",padding:"1rem",borderRadius:"8px",border:"1px solid #e2e8f0",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},perfLabel:{fontSize:"0.7rem",color:"#64748b",textTransform:"uppercase",fontWeight:700,marginBottom:"0.25rem"},perfValue:{fontSize:"1.5rem",color:"#0f172a",fontWeight:800,fontFamily:"monospace"},graphWrapper:{background:"#fff",borderRadius:"8px",border:"1px solid #e2e8f0",padding:"1rem 1rem 2rem 2rem",flex:1,display:"flex",flexDirection:"column",minHeight:0},graphTitle:{fontSize:"0.8rem",fontWeight:700,color:"#334155",marginBottom:"1rem"},svgGraph:{width:"100%",height:"100%",minHeight:"0"},emptyGraph:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",color:"#94a3b8",fontSize:"0.9rem"},axisLabelYTop:{position:"absolute",left:"-25px",top:-5,fontSize:"0.75rem",color:"#64748b",fontWeight:"bold"},axisLabelYMid:{position:"absolute",left:"-25px",top:"50%",fontSize:"0.75rem",color:"#64748b",fontWeight:"bold"},axisLabelYBot:{position:"absolute",left:"-25px",bottom:0,fontSize:"0.75rem",color:"#64748b",fontWeight:"bold"},axisLabelXLeft:{position:"absolute",left:0,bottom:"-22px",fontSize:"0.75rem",color:"#64748b",fontWeight:"bold"},axisLabelXMid:{position:"absolute",left:"50%",bottom:"-22px",fontSize:"0.75rem",color:"#64748b",fontWeight:"bold",transform:"translateX(-50%)"},axisLabelXRight:{position:"absolute",right:0,bottom:"-22px",fontSize:"0.75rem",color:"#64748b",fontWeight:"bold"},topologyDashboard:{display:"flex",gap:"1rem",background:"#f8fafc",padding:"12px",borderRadius:"6px",border:"1px solid #e2e8f0",marginBottom:"1rem",flexShrink:0},statBox:{display:"flex",flexDirection:"column"},statLabel:{fontSize:"0.6rem",color:"#94a3b8",textTransform:"uppercase",fontWeight:800},statValue:{fontSize:"1.1rem",fontWeight:800,fontFamily:"monospace",color:"#1e293b"},querySection:{display:"flex",flexDirection:"column",gap:"0.4rem",flexShrink:0,overflow:"hidden"},sectionTitle:{fontSize:"0.7rem",textTransform:"uppercase",color:"#94a3b8",fontWeight:700},codeWrapper:{background:"#1e293b",borderRadius:"6px",padding:"12px",border:"1px solid #0f172a",height:"100%",overflowY:"auto"},codeBlock:{color:"#cbd5e1",fontSize:"0.8rem",margin:0,fontFamily:"monospace",lineHeight:"1.6",whiteSpace:"pre-wrap",paddingLeft:"1.5rem",textIndent:"-1.5rem"},resizer:{height:"10px",margin:"4px 0",cursor:"row-resize",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},resizerHandle:{width:"30px",height:"3px",borderRadius:"2px",background:"#e2e8f0"},logSection:{display:"flex",flexDirection:"column",gap:"0.5rem",flex:1,minHeight:0},logWindow:{flex:1,background:"#0f172a",color:"#94a3b8",padding:"12px",borderRadius:"6px",fontSize:"0.75rem",overflowY:"auto",fontFamily:"monospace"},logLine:{margin:"4px 0",display:"flex",gap:"10px",borderBottom:"1px solid #1e293b",paddingBottom:"2px",alignItems:"center"},timestamp:{color:"#475569",fontSize:"0.6rem",flexShrink:0,minWidth:"40px"},emptyLogs:{opacity:.5,padding:"20px",textAlign:"center",fontSize:"0.8rem"},categoryBadge:{fontSize:"0.5rem",padding:"1px 4px",borderRadius:"3px",color:"#fff",fontWeight:"bold",marginRight:"6px",letterSpacing:"0.5px"}},AEe=ze.createContext(void 0),Ske=({children:n})=>{const[e,u]=ze.useState(null),a=t=>{u(t),console.log("Mock user logged in:",t.username)},r=()=>{u(null)};return Ue.jsx(AEe.Provider,{value:{user:e,login:a,logout:r,isAuthenticated:!!e},children:n})},sk=()=>{const n=ze.useContext(AEe);if(!n)throw new Error("useAuth must be used within an AuthProvider");return n};var km={},M6={},pve;function Eke(){if(pve)return M6;pve=1,Object.defineProperty(M6,"__esModule",{value:!0}),M6.StatisticLinkDiscovery=void 0;const n=lt(),e=Eq();let u=class extends e.StatisticBase{constructor(){super(),this.count=0,this.metadata={},this.key=n.KeysStatistics.discoveredLinks}updateStatistic(r,t){const i={...r.metadata,discoveredTimestamp:performance.now(),discoverOrder:this.count};return this.metadata[r.url]=this.metadata[r.url]?[...this.metadata[r.url],i]:[i],this.emit({edge:[t.url,r.url],metadataChild:this.metadata[r.url],metadataParent:this.metadata[t.url]}),this.count++,!0}};return M6.StatisticLinkDiscovery=u,M6}var hve;function Ake(){return hve||(hve=1,(function(n){var e=km&&km.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=km&&km.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(Eke(),n)})(km)),km}var Oke=Ake(),zm={},C6={},yve;function xke(){if(yve)return C6;yve=1,Object.defineProperty(C6,"__esModule",{value:!0}),C6.StatisticLinkDereference=void 0;const n=lt(),e=Eq();let u=class extends e.StatisticBase{constructor(){super(),this.count=0,this.key=n.KeysStatistics.dereferencedLinks}updateStatistic(r,t){return this.emit({url:r.url,metadata:{type:t.constructor.name,dereferencedTimestamp:performance.now(),dereferenceOrder:this.count,...r.metadata},context:r.context,transform:r.transform}),this.count++,!0}};return C6.StatisticLinkDereference=u,C6}var mve;function Rke(){return mve||(mve=1,(function(n){var e=zm&&zm.__createBinding||(Object.create?(function(a,r,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(a,i,o)}):(function(a,r,t,i){i===void 0&&(i=t),a[i]=r[t]})),u=zm&&zm.__exportStar||function(a,r){for(var t in a)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,a,t)};Object.defineProperty(n,"__esModule",{value:!0}),u(xke(),n)})(zm)),zm}var Nke=Rke();const Ike=200;class Dke{topologyEmitter;knownNodes=new Map;knownEdges=new Map;knownNodesFull=new Set;nEdges=0;knownStatuses=new Map;positionCache=new Map;viewportCache=null;clickedNodeIds=new Set;pendingDiff=this.createEmptyPayload("append");flushTimer=null;BATCH_MS=100;subscribers=new Set;constructor(e){this.topologyEmitter=e,this.topologyEmitter.on(u=>this.ingestData(u))}subscribe(e){this.subscribers.add(e);const u={mode:"replace",nodes:Array.from(this.knownNodes.values()),edges:Array.from(this.knownEdges.values()),statuses:Array.from(this.knownStatuses.entries()).map(([a,r])=>({id:a,status:r}))};return u.nodes.length>0&&e(u),()=>this.subscribers.delete(e)}ingestData(e){let u=0;for(const i in e.adjacencyListIn)u+=e.adjacencyListIn[i].length;for(const i in e.adjacencyListOut)u+=e.adjacencyListOut[i].length;this.nEdges=u,this.knownNodesFull=new Set(Array.from(Object.keys(e.nodeToIndexDict)));const a=this.knownNodes.size>=Ike,r=new Set(e.dereferenceOrder);let t=!1;a||Object.entries(e.indexToNodeDict).forEach(([i,o])=>{if(o.endsWith(".meta"))return;const l=parseInt(i);if(!this.knownNodes.has(i)){const s=!e.adjacencyListIn[l]||e.adjacencyListIn[l].length===0;s&&(o="Seed document");const c={id:i,label:o,shortLabel:this.shortenLabel(o),type:s?"root":"node"};this.knownNodes.set(i,c),this.pendingDiff.nodes.push(c),t=!0}}),a||Object.entries(e.adjacencyListOut).forEach(([i,o])=>{this.knownNodes.has(i)&&o.forEach(l=>{const s=l.toString();if(e.indexToNodeDict[l]?.endsWith(".meta")||!this.knownNodes.has(s))return;const c=`${i}->${s}`;if(!this.knownEdges.has(c)){const d={id:c,source:i,target:s};this.knownEdges.set(c,d),this.pendingDiff.edges.push(d),t=!0}})}),this.knownNodes.forEach((i,o)=>{const l=parseInt(o);r.has(l)&&this.knownStatuses.get(o)!=="dereferenced"&&(this.knownStatuses.set(o,"dereferenced"),this.pendingDiff.statuses.push({id:o,status:"dereferenced"}),t=!0)}),t&&!this.flushTimer&&(this.flushTimer=setTimeout(()=>this.flush(),this.BATCH_MS))}flush(){(this.pendingDiff.nodes.length>0||this.pendingDiff.edges.length>0||this.pendingDiff.statuses.length>0)&&this.notifySubscribers(this.pendingDiff),this.pendingDiff=this.createEmptyPayload("append"),this.flushTimer=null}notifySubscribers(e){this.subscribers.forEach(u=>u(e))}createEmptyPayload(e){return{mode:e,nodes:[],edges:[],statuses:[]}}shortenLabel(e){try{const u=new URL(e);let a=u.pathname+u.search+u.hash;return a==="/"||a===""?u.hostname:decodeURIComponent(a)}catch{return e}}getCounts(){return{nodes:this.knownNodesFull.size,edges:this.nEdges,uris:[...this.knownNodesFull.values()]}}}const Fke=n=>`https://solidbench.linkeddatafragments.org/pods/${n.padStart(20,"0")}/profile/card#me`,Pke=`
  PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
  PREFIX foaf: <http://xmlns.com/foaf/0.1/>
  PREFIX snvoc: <https://solidbench.linkeddatafragments.org/www.ldbc.eu/ldbc_socialnet/1.0/vocabulary/>
  SELECT ?firstName ?lastName ?cityName ?friendProfile ?id WHERE {
    TEMPLATE:ME rdf:type snvoc:Person;
      snvoc:knows ?friend.
    ?friend snvoc:hasPerson ?friendProfile.
    ?friendProfile rdf:type snvoc:Person;
      snvoc:id ?id;
      snvoc:firstName ?firstName;
      snvoc:lastName ?lastName;
      snvoc:isLocatedIn ?city.
    ?city foaf:name ?cityName.
  }
`,jke=`
  PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
  PREFIX foaf: <http://xmlns.com/foaf/0.1/>
  PREFIX snvoc: <https://solidbench.linkeddatafragments.org/www.ldbc.eu/ldbc_socialnet/1.0/vocabulary/>
  SELECT ?firstName ?lastName ?birthday ?locationIP ?cityName ?gender ?creationDate ?email ?interestName WHERE {
    TEMPLATE:ME rdf:type snvoc:Person;
      snvoc:firstName ?firstName;
      snvoc:lastName ?lastName;
      snvoc:gender ?gender;
      snvoc:birthday ?birthday;
      snvoc:creationDate ?creationDate;
      snvoc:locationIP ?locationIP;
      snvoc:isLocatedIn ?city;
      snvoc:email ?email;
      snvoc:hasInterest ?interest.
    ?interest foaf:name ?interestName.
    ?city foaf:name ?cityName.
  }
`,Mke=`
  PREFIX snvoc: <https://solidbench.linkeddatafragments.org/www.ldbc.eu/ldbc_socialnet/1.0/vocabulary/>
  SELECT DISTINCT ?forum ?forumId ?forumTitle WHERE {
    ?message snvoc:hasCreator TEMPLATE:ME.
    ?forum snvoc:containerOf ?message;
      snvoc:id ?forumId;
      snvoc:title ?forumTitle.
  }
`,bve=`
  PREFIX snvoc: <https://solidbench.linkeddatafragments.org/www.ldbc.eu/ldbc_socialnet/1.0/vocabulary/>
  SELECT (COUNT(?member) AS ?count) WHERE {
    <FORUM_IRI> snvoc:hasMember ?member.
  }
`,Cke=(n,e)=>{const u=n.get("email").value,a=n.get("interestName").value;if(!e)return{name:n.get("firstName").value,lastName:n.get("lastName").value,gender:n.get("gender").value,birthday:n.get("birthday").value,creationDate:new Date(n.get("creationDate").value),locationIP:n.get("locationIP").value,city:n.get("cityName").value,email:u,interests:[a]};const r=e.interests.includes(a)?e.interests:[...e.interests,a],t=e.email.includes(u)?e.email:`${e.email}, ${u}`;return{...e,interests:r,email:t}},gve=({setDebugQuery:n,logger:e,createTracker:u,onQueryStart:a,onQueryEnd:r,onResultArrived:t,registerQuery:i})=>{const o=ze.useRef(null),l=ze.useRef([]),{user:s,isAuthenticated:c}=sk(),d=D4(),f=nc(),{id:p}=Nve(),h=ze.useMemo(()=>f.state?.personUri?f.state.personUri:p?Fke(p):s?.username,[p,f.state,s]),g=h===s?.username,[_,m]=ze.useState(null),[w,T]=ze.useState([]),[E,S]=ze.useState([]),[N,j]=ze.useState(null),[q,O]=ze.useState(!1),I=()=>{o.current&&(o.current.destroy(),o.current=null),l.current.forEach(V=>{try{V.destroy()}catch{}}),l.current=[],n("")},A=(V,U)=>{I(),d(V,{state:U})};if(ze.useEffect(()=>{I(),m(null),T([]),S([]),j(null),O(!1)},[h]),ze.useEffect(()=>()=>I(),[]),!c||!s)return Ue.jsx("div",{className:"card",children:Ue.jsx("h2",{children:"Access Denied"})});if(!h)return Ue.jsxs("div",{className:"card",children:[Ue.jsx("h2",{children:"Error: Unknown Profile URI"}),Ue.jsx("p",{children:"Please navigate from the friends list."})]});const P=async()=>{I(),O(!0),j("info"),m(null);const V=jke.replaceAll("TEMPLATE:ME",`<${h}>`);n(V);try{const U=u();let G={log:e};U&&(G={...G,[U.trackerDiscovery.key.name]:U.trackerDiscovery,[U.trackerDereference.key.name]:U.trackerDereference}),a();const J=await Bg(V,G,2);i([J],O),o.current=J,J.on("data",ne=>{t(),m(W=>Cke(ne,W)),O(!1)}),J.on("end",()=>{O(!1),r()})}catch(U){console.error("Failed to load profile",U),O(!1)}},C=async()=>{I(),O(!0),j("forums"),T([]);const V=Mke.replaceAll("TEMPLATE:ME",`<${h}>`);n(V+`

`+bve);try{const U=u();let G={log:e};U&&(G={...G,[U.trackerDiscovery.key.name]:U.trackerDiscovery,[U.trackerDereference.key.name]:U.trackerDereference}),a();const J=await Bg(V,G,void 0);i([J],O),o.current=J,J.on("data",ne=>{if(o.current!==J)return;t();const W=ne.get("forum").value,ee={uri:W,id:ne.get("forumId").value,title:ne.get("forumTitle").value,memberCount:-1};T(pe=>pe.some(le=>le.uri===W)?pe:[...pe,ee]),O(!1);const se=bve.replace("FORUM_IRI",W);Bg(se,{traverse:!1},2).then(pe=>{l.current.push(pe),pe.on("data",le=>{if(o.current!==J)return;const Ee=parseInt(le.get("count").value);T(Ae=>Ae.map(Ne=>Ne.uri===W?{...Ne,memberCount:Ee}:Ne))}),pe.on("end",()=>{l.current=l.current.filter(le=>le!==pe)})})}),J.on("end",()=>{o.current===J&&(O(!1),r())})}catch(U){console.error("Failed to load forums",U),O(!1)}},B=async()=>{I(),O(!0),j("friends"),S([]);const V=Pke.replaceAll("TEMPLATE:ME",`<${h}>`);n(V);try{const U=u();let G={log:e};U&&(G={...G,[U.trackerDiscovery.key.name]:U.trackerDiscovery,[U.trackerDereference.key.name]:U.trackerDereference}),a();const J=await Bg(V,G,2);o.current=J,i([J],O),J.on("data",ne=>{t();const W=ne.get("friendProfile").value,ee={firstName:ne.get("firstName").value,lastName:ne.get("lastName").value,city:ne.get("cityName").value,id:ne.get("id").value,friendCard:W};S(se=>se.some(pe=>pe.friendCard===W)?se:[...se,ee]),O(!1)}),J.on("end",()=>{O(!1),r()})}catch(U){console.error("Failed to load friends",U),O(!1)}};return Ue.jsxs("div",{style:{maxWidth:"1000px",margin:"0 auto",padding:"40px 20px"},children:[Ue.jsxs("div",{className:"dashboard-header",children:[g?Ue.jsxs("h1",{className:"dashboard-title",children:["Welcome back, ",s.name]}):Ue.jsxs("h1",{className:"dashboard-title",children:["Viewing Profile ",_?.name||p]}),Ue.jsx("div",{className:"user-badge",children:Ue.jsxs("span",{children:["Target: ",h]})})]}),Ue.jsxs("div",{className:"action-bar",children:[Ue.jsx("button",{className:"btn-primary",onClick:P,disabled:q,children:q&&N==="info"?"Loading...":" Profile Info"}),Ue.jsx("button",{className:"btn-primary",onClick:B,disabled:q,children:q&&N==="friends"?"Loading...":" Friends"}),Ue.jsx("button",{className:"btn-primary",onClick:C,disabled:q,children:q&&N==="forums"?"Loading...":" Forums"})]}),Ue.jsxs("div",{style:{minHeight:"300px"},children:[q&&Ue.jsx("div",{className:"card content-placeholder",children:Ue.jsxs("div",{className:"loading-pulse",children:[Ue.jsx("div",{className:"spinner"}),Ue.jsx("span",{children:"Traversing the decentralized web..."})]})}),!q&&N==="info"&&_&&Ue.jsxs("div",{className:"profile-container",children:[Ue.jsxs("div",{className:"card profile-column-left",children:[Ue.jsxs("div",{className:"profile-header",children:[Ue.jsx("div",{className:"avatar-circle",children:""}),Ue.jsxs("div",{children:[Ue.jsxs("h2",{style:{margin:0},children:[_.name," ",_.lastName]}),Ue.jsxs("p",{style:{color:"#666"},children:[" ",_.city]})]})]}),Ue.jsxs("div",{className:"metadata-grid",children:[Ue.jsxs("div",{children:[Ue.jsx("div",{className:"meta-label",children:"Gender"}),Ue.jsx("div",{className:"meta-value",children:_.gender})]}),Ue.jsxs("div",{children:[Ue.jsx("div",{className:"meta-label",children:"Birthday"}),Ue.jsx("div",{className:"meta-value",children:_.birthday})]}),Ue.jsxs("div",{children:[Ue.jsx("div",{className:"meta-label",children:"Member Since"}),Ue.jsx("div",{className:"meta-value",children:_.creationDate.toLocaleDateString()})]}),Ue.jsxs("div",{children:[Ue.jsx("div",{className:"meta-label",children:"IP Address"}),Ue.jsx("div",{className:"meta-value",children:_.locationIP})]}),Ue.jsxs("div",{style:{gridColumn:"1 / -1"},children:[Ue.jsx("div",{className:"meta-label",children:"Email"}),Ue.jsx("div",{className:"meta-value",children:_.email})]})]})]}),Ue.jsxs("div",{className:"card profile-column-right",children:[Ue.jsx("h3",{children:" Interests"}),Ue.jsx("div",{className:"scroll-area",children:_.interests.map((V,U)=>Ue.jsx("span",{className:"interest-chip",children:V},U))})]})]}),!q&&N==="forums"&&Ue.jsxs("div",{className:"card",children:[Ue.jsxs("h2",{children:[g?"My Forums":"User's Forums"," (",w.length,")"]}),Ue.jsx("div",{className:"friends-grid",children:w.map(V=>Ue.jsxs("div",{className:"friend-card",children:[Ue.jsx("div",{className:"friend-avatar-placeholder",style:{background:"#e0e7ff"},children:""}),Ue.jsx("h3",{className:"friend-name",children:V.title}),Ue.jsx("p",{className:"friend-city",children:V.memberCount===-1?" Counting...":` ${V.memberCount} Members`}),Ue.jsx("button",{className:"btn-outline-sm",onClick:()=>A(`/forums/${encodeURIComponent(V.uri)}`,{forumUri:V.uri}),children:"View Forum"})]},V.uri))})]}),!q&&N==="friends"&&Ue.jsxs("div",{className:"card",children:[Ue.jsxs("h2",{children:[g?"My Friends":"User's Friends"," (",E.length,")"]}),Ue.jsx("div",{className:"friends-grid",children:E.map(V=>Ue.jsxs("div",{className:"friend-card",children:[Ue.jsx("div",{className:"friend-avatar-placeholder",children:V.firstName.charAt(0)}),Ue.jsxs("h3",{className:"friend-name",children:[V.firstName," ",V.lastName]}),Ue.jsxs("p",{className:"friend-city",children:[" ",V.city]}),Ue.jsx("button",{className:"btn-outline-sm",onClick:()=>A(`/profiles/${V.id}`,{personUri:V.friendCard}),children:"View Profile"})]},V.friendCard))})]})]})]})},$D=[{id:"933",name:"Profile 933",username:"https://solidbench.linkeddatafragments.org/pods/00000000000000000933/profile/card#me"},{id:"65",name:"Profile 065 (no friends)",username:"https://solidbench.linkeddatafragments.org/pods/00000000000000000065/profile/card#me"},{id:"296",name:"Profile 296 (many friends and active forums)",username:"https://solidbench.linkeddatafragments.org/pods/00000000000000000296/profile/card#me"},{id:"637",name:"Profile 637",username:"https://solidbench.linkeddatafragments.org/pods/00000002199023255637/profile/card#me"}],Lke=()=>{const{login:n,user:e}=sk(),u=D4(),[a,r]=ze.useState($D[0].id);ze.useEffect(()=>{e&&u("/profile",{replace:!0})},[e,u]);const t=i=>{i.preventDefault();const o=$D.find(l=>l.id===a);o&&(n(o),u("/profile"))};return Ue.jsx("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%",color:"#334155"},children:Ue.jsxs("div",{style:{background:"white",padding:"2rem",borderRadius:"12px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)",width:"100%",maxWidth:"400px",textAlign:"center"},children:[Ue.jsx("h1",{style:{marginBottom:"1.5rem",fontSize:"1.5rem",color:"#1e293b"},children:" SolidLab Login"}),Ue.jsxs("form",{onSubmit:t,style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[Ue.jsxs("div",{style:{textAlign:"left"},children:[Ue.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"bold"},children:"Select a Test Identity"}),Ue.jsx("select",{value:a,onChange:i=>r(i.target.value),style:{width:"100%",padding:"0.75rem",borderRadius:"6px",border:"1px solid #cbd5e1",fontSize:"1rem"},children:$D.map(i=>Ue.jsx("option",{value:i.id,children:i.name},i.id))}),Ue.jsx("div",{style:{marginTop:"0.5rem",fontSize:"0.7rem",color:"#64748b",wordBreak:"break-all"},children:$D.find(i=>i.id===a)?.username})]}),Ue.jsx("button",{type:"submit",style:{background:"#2563eb",color:"white",padding:"0.75rem",borderRadius:"6px",border:"none",fontSize:"1rem",fontWeight:"bold",cursor:"pointer",marginTop:"1rem"},children:"Login"})]})]})})},qke=()=>{const{user:n,logout:e}=sk(),u=D4();return n?Ue.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[Ue.jsxs("span",{style:{fontSize:"0.9rem"},children:["Welcome, ",Ue.jsx("strong",{children:n.name})]}),Ue.jsx("button",{onClick:()=>{e(),u("/")},style:{fontSize:"0.75rem",padding:"2px 8px",cursor:"pointer"},children:"Logout"})]}):Ue.jsx(s4,{to:"/",style:{textDecoration:"none"},children:Ue.jsx("button",{style:{background:"#2563eb",color:"white",border:"none",padding:"5px 15px",borderRadius:"4px",cursor:"pointer"},children:"Go to Login"})})},Bke=()=>{const[n,e]=ze.useState(()=>{const P=localStorage.getItem("solidlab_debug_sidebar_open");return P!==null?JSON.parse(P):!1});ze.useEffect(()=>{localStorage.setItem("solidlab_debug_sidebar_open",JSON.stringify(n))},[n]);const[u,a]=ze.useState("No query executed yet."),[r,t]=ze.useState([]),[i,o]=ze.useState(()=>{const P=localStorage.getItem("solidlab_tracking_enabled");return P!==null?JSON.parse(P):!0});ze.useEffect(()=>{localStorage.setItem("solidlab_tracking_enabled",JSON.stringify(i))},[i]);const l=ze.useRef(i);ze.useEffect(()=>{l.current=i,i||t([])},[i]);const s=ze.useCallback(P=>{l.current&&t(C=>[...C.slice(-5e3),P])},[]),c=ze.useMemo(()=>new L7e("debug",s),[s]),[d,f]=ze.useState(null),[p,h]=ze.useState(null),g=ze.useRef({startTime:0,endTime:0,resultCount:0,arrivalTimes:[],isQueryRunning:!1}),[_,m]=ze.useState(g.current),w=ze.useRef([]),T=ze.useRef(null),E=ze.useCallback((P,C)=>{w.current.length>0&&w.current.forEach(B=>{try{B.destroy()}catch(V){console.error("Error auto-closing old stream",V)}}),w.current=P,T.current=C},[]),S=ze.useCallback(()=>{if(w.current.length>0){console.log(" Global Stop requested. Destroying streams:",w.current.length),w.current.forEach(C=>{try{C.destroy()}catch(B){console.error("Error destroying stream:",B)}}),w.current=[],T.current&&T.current(!1);const P=performance.now();g.current.isQueryRunning=!1,g.current.endTime=P,m({...g.current})}},[]),N=ze.useCallback(()=>{const P=performance.now();g.current={startTime:P,endTime:0,resultCount:0,arrivalTimes:[],isQueryRunning:!0},m({...g.current})},[]),j=ze.useCallback(()=>{w.current.length>0&&(w.current.forEach(P=>{try{P.destroy()}catch{}}),w.current=[]),g.current={startTime:0,endTime:0,resultCount:0,arrivalTimes:[],isQueryRunning:!1},m({...g.current})},[]),q=ze.useCallback(()=>{const P=performance.now(),C=g.current;C.resultCount++,C.arrivalTimes.push(P-C.startTime),m({...C})},[]),O=ze.useCallback(()=>{const P=g.current;P.isQueryRunning=!1,P.endTime=performance.now(),w.current=[],m({...P})},[]),I=ze.useCallback(P=>{a(P),t([]),f(null),h(null),j()},[j]),A=ze.useCallback(()=>{if(!i)return null;const P=new Oke.StatisticLinkDiscovery,C=new Nke.StatisticLinkDereference,B=new DRe.StatisticTraversalTopology(P,C),V=new Dke(B);h(V);let U=0;return B.on(G=>{const J=Date.now();J-U>200&&(f(G),U=J)}),{trackerDiscovery:P,trackerDereference:C}},[i]);return Ue.jsx(Ske,{children:Ue.jsxs(yxe,{children:[Ue.jsxs("nav",{style:{padding:"0.75rem 2rem",background:"#fff",display:"flex",justifyContent:"space-between",alignItems:"center",boxShadow:"0 2px 4px rgba(0,0,0,0.05)",position:"sticky",top:0,zIndex:100},children:[Ue.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"20px"},children:[Ue.jsx(s4,{to:"/",style:{fontWeight:"bold",color:"#2563eb",textDecoration:"none",fontSize:"1.2rem"},children:" SolidLab"}),Ue.jsx(s4,{to:"/profile",style:{textDecoration:"none",color:"#444",fontSize:"0.9rem"},children:"My Profile"})]}),Ue.jsxs("div",{style:{display:"flex",gap:"20px",alignItems:"center"},children:[_.isQueryRunning&&Ue.jsxs("button",{onClick:S,style:{background:"#ef4444",color:"white",border:"none",padding:"6px 14px",borderRadius:"4px",cursor:"pointer",fontWeight:"bold",display:"flex",alignItems:"center",gap:"6px",boxShadow:"0 2px 4px rgba(239, 68, 68, 0.3)"},children:[Ue.jsx("span",{children:""})," Stop Query"]}),Ue.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer",fontSize:"0.85rem",color:"#64748b"},children:[Ue.jsx("input",{type:"checkbox",checked:i,onChange:()=>o(!i)}),i?"Tracking Active":"Tracking Paused"]}),Ue.jsx(qke,{}),Ue.jsx("button",{style:{background:n?"#475569":"#0ea5e9",color:"white",border:"none",padding:"6px 14px",borderRadius:"4px",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px",transition:"background 0.2s"},onClick:()=>e(!n),children:n?" Hide Traversal":" Show Traversal"})]})]}),Ue.jsxs("div",{style:{display:"flex",height:"calc(100vh - 65px)",overflow:"hidden"},children:[Ue.jsx("main",{style:{flex:n?4:1,background:"#f8fafc",overflowY:"auto",transition:"flex 0.4s ease-in-out",borderRight:n?"1px solid #e2e8f0":"none",minWidth:n?"300px":"100%"},children:Ue.jsxs(GOe,{children:[Ue.jsx(Dg,{path:"/",element:Ue.jsx(Lke,{})}),Ue.jsx(Dg,{path:"/profile",element:Ue.jsx(gve,{setDebugQuery:I,logger:i?c:void 0,createTracker:A,onQueryStart:N,onQueryEnd:O,onResultArrived:q,registerQuery:E})}),Ue.jsx(Dg,{path:"/forums/:id",element:Ue.jsx(B7e,{setDebugQuery:I,logger:i?c:void 0,createTracker:A,onQueryStart:N,onQueryEnd:O,onResultArrived:q,registerQuery:E})}),Ue.jsx(Dg,{path:"/profiles/:id",element:Ue.jsx(gve,{setDebugQuery:I,logger:i?c:void 0,createTracker:A,onQueryStart:N,onQueryEnd:O,onResultArrived:q,registerQuery:E})}),Ue.jsx(Dg,{path:"*",element:Ue.jsx("div",{style:{padding:"2rem"},children:Ue.jsx("h2",{children:"404"})})})]})}),Ue.jsx("aside",{style:{flex:n?6:0,display:"flex",flexDirection:"column",background:"#fff",transition:"flex 0.4s ease-in-out",overflow:"hidden",visibility:n?"visible":"hidden"},children:Ue.jsx("div",{style:{minWidth:"50vw",height:"100%"},children:Ue.jsx(wke,{isOpen:n,onClose:()=>e(!1),currentQuery:u,isTrackingEnabled:i,topology:d,processor:p,logs:r,metrics:_})})})]})]})})};eOe.createRoot(document.getElementById("root")).render(Ue.jsx(GAe.StrictMode,{children:Ue.jsx(Bke,{})}));
